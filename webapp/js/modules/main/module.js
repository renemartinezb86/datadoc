var _this16=this,_slicedToArray2=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!(i&&_arr.length===i));_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass2=function(){function defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function _defineProperty2(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray2(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck2(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return call&&("object"==typeof call||"function"==typeof call)?call:self}function _inherits2(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}return info.done?void resolve(value):Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)})}return step("next")})}}(function(p,c,n){"use strict";function l(b,a,g){var d=g.baseHref(),k=b[0];return function(b,e,f){var g,h;f=f||{},h=f.expires,g=c.isDefined(f.path)?f.path:d,c.isUndefined(e)&&(h="Thu, 01 Jan 1970 00:00:00 GMT",e=""),c.isString(h)&&(h=new Date(h)),e=encodeURIComponent(b)+"="+encodeURIComponent(e),e=e+(g?";path="+g:"")+(f.domain?";domain="+f.domain:""),e+=h?";expires="+h.toUTCString():"",e+=f.secure?";secure":"",f=e.length+1,4096<f&&a.warn("Cookie '"+b+"' possibly not set or overflowed because it was too large ("+f+" > 4096 bytes)!"),k.cookie=e}}c.module("ngCookies",["ng"]).provider("$cookies",[function(){var b=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(a,g){return{get:function get(d){return a()[d]},getObject:function getObject(d){return(d=this.get(d))?c.fromJson(d):d},getAll:function getAll(){return a()},put:function put(d,a,m){g(d,a,m?c.extend({},b,m):b)},putObject:function putObject(d,b,a){this.put(d,c.toJson(b),a)},remove:function remove(a,k){g(a,n,k?c.extend({},b,k):b)}}}]}]),c.module("ngCookies").factory("$cookieStore",["$cookies",function(b){return{get:function get(a){return b.getObject(a)},put:function put(a,c){b.putObject(a,c)},remove:function remove(a){b.remove(a)}}}]),l.$inject=["$document","$log","$browser"],c.module("ngCookies").provider("$$cookieWriter",function(){this.$get=l})})(window,window.angular),define("angular-cookies",["angular"],function(){}),function(root,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof2(module))?module.exports=factory():"function"==typeof define&&define.amd?define("angular-file-upload",[],factory):"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))?exports["angular-file-upload"]=factory():root["angular-file-upload"]=factory()}(this,function(){var _Mathround=Math.round;return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";var _interopRequire=function(obj){return obj&&obj.__esModule?obj["default"]:obj},CONFIG=_interopRequire(__webpack_require__(1)),options=_interopRequire(__webpack_require__(2)),serviceFileUploader=_interopRequire(__webpack_require__(3)),serviceFileLikeObject=_interopRequire(__webpack_require__(4)),serviceFileItem=_interopRequire(__webpack_require__(5)),serviceFileDirective=_interopRequire(__webpack_require__(6)),serviceFileSelect=_interopRequire(__webpack_require__(7)),serviceFileDrop=_interopRequire(__webpack_require__(8)),serviceFileOver=_interopRequire(__webpack_require__(9)),directiveFileSelect=_interopRequire(__webpack_require__(10)),directiveFileDrop=_interopRequire(__webpack_require__(11)),directiveFileOver=_interopRequire(__webpack_require__(12));angular.module(CONFIG.name,[]).value("fileUploaderOptions",options).factory("FileUploader",serviceFileUploader).factory("FileLikeObject",serviceFileLikeObject).factory("FileItem",serviceFileItem).factory("FileDirective",serviceFileDirective).factory("FileSelect",serviceFileSelect).factory("FileDrop",serviceFileDrop).factory("FileOver",serviceFileOver).directive("nvFileSelect",directiveFileSelect).directive("nvFileDrop",directiveFileDrop).directive("nvFileOver",directiveFileOver).run(["FileUploader","FileLikeObject","FileItem","FileDirective","FileSelect","FileDrop","FileOver",function(FileUploader,FileLikeObject,FileItem,FileDirective,FileSelect,FileDrop,FileOver){FileUploader.FileLikeObject=FileLikeObject,FileUploader.FileItem=FileItem,FileUploader.FileDirective=FileDirective,FileUploader.FileSelect=FileSelect,FileUploader.FileDrop=FileDrop,FileUploader.FileOver=FileOver}])},function(module){module.exports={name:"angularFileUpload"}},function(module){"use strict";module.exports={url:"/",alias:"file",headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:"POST",filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1}},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},CONFIG=function _interopRequire(obj){return obj&&obj.__esModule?obj["default"]:obj}(__webpack_require__(1)),copy=angular.copy,extend=angular.extend,forEach=angular.forEach,isObject=angular.isObject,isNumber=angular.isNumber,isDefined=angular.isDefined,isArray=angular.isArray,element=angular.element;module.exports=function(fileUploaderOptions,$rootScope,$http,$window,FileLikeObject,FileItem){var File=$window.File,FormData=$window.FormData,FileUploader=function(){function FileUploader(options){_classCallCheck(this,FileUploader);var settings=copy(fileUploaderOptions);extend(this,settings,options,{isUploading:!1,_nextIndex:0,_failFilterIndex:-1,_directives:{select:[],drop:[],over:[]}}),this.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.filters.unshift({name:"folder",fn:this._folderFilter})}return _createClass(FileUploader,{addToQueue:{value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee(files,options,filters){var _this,list,arrayOfFilters,count,addedFileItems;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_this=this,list=this.isArrayLikeObject(files)?files:[files],arrayOfFilters=this._getFilters(filters),count=this.queue.length,addedFileItems=[],forEach(list,function(some,i){var temp=new FileLikeObject(some),specificOptions=Array.isArray(options)?options[i]:options;if(_this._isValidFile(temp,arrayOfFilters,specificOptions)){var fileItem=new FileItem(_this,some);addedFileItems.push(fileItem),_this.queue.push(fileItem),_this._onAfterAddingFile(fileItem,specificOptions)}else{var filter=arrayOfFilters[_this._failFilterIndex];_this._onWhenAddingFileFailed(temp,filter,specificOptions)}}),this.queue.length===count){_context.next=11;break}return _context.next=9,this._waitBeforeStartUploading(addedFileItems);case 9:this._onAfterAddingAll(addedFileItems),this.progress=this._getTotalProgress();case 11:this._render(),this.autoUpload&&this.uploadAll();case 13:case"end":return _context.stop();}},_callee,this)}));return function(){return _ref2.apply(this,arguments)}}()},removeFromQueue:{value:function(value){var index=this.getIndexOfItem(value),item=this.queue[index];item.isUploading&&item.cancel(),this.queue.splice(index,1),item._destroy(),this.progress=this._getTotalProgress()}},clearQueue:{value:function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}},uploadItem:{value:function(value){var index=this.getIndexOfItem(value),item=this.queue[index],transport;transport=this.customTransport?"_customTransport":this.isHTML5?"_xhrTransport":"_iframeTransport",item._prepareToUploading(),item.isUploading||(this.isUploading=!0,this[transport](item))}},cancelItem:{value:function(value){var index=this.getIndexOfItem(value),item=this.queue[index],prop;prop=this.customTransport?"_customProp":this.isHTML5?"_xhr":"_form",item&&item.isUploading&&item[prop].abort()}},uploadAll:{value:function(){var items=this.getNotUploadedItems().filter(function(item){return!item.isUploading});items.length&&(forEach(items,function(item){return item.upload()}),items[0].upload())}},cancelAll:{value:function(){var items=this.getNotUploadedItems();forEach(items,function(item){return item.cancel()})}},isFile:{value:function(value){return this.constructor.isFile(value)}},isFileLikeObject:{value:function(value){return this.constructor.isFileLikeObject(value)}},isArrayLikeObject:{value:function(value){return this.constructor.isArrayLikeObject(value)}},getIndexOfItem:{value:function(value){return isNumber(value)?value:this.queue.indexOf(value)}},getNotUploadedItems:{value:function(){return this.queue.filter(function(item){return!item.isUploaded})}},getUploadingItems:{value:function(){return this.queue.filter(function(item){return item.isUploading})}},destroy:{value:function(){var _this=this;forEach(this._directives,function(key){forEach(_this._directives[key],function(object){object.destroy()})})}},onAfterAddingAll:{value:function(){}},waitBeforeStartUploading:{value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:case"end":return _context2.stop();}},_callee2,this)}));return function(){return _ref3.apply(this,arguments)}}()},onAfterAddingFile:{value:function(){}},onWhenAddingFileFailed:{value:function(){}},onBeforeUploadItem:{value:function(){}},onProgressItem:{value:function(){}},onProgressAll:{value:function(){}},onSuccessItem:{value:function(){}},onErrorItem:{value:function(){}},onCancelItem:{value:function(){}},onCompleteItem:{value:function(){}},onCompleteAll:{value:function(){}},_getTotalProgress:{value:function(value){if(this.removeAfterUpload)return value||0;var notUploaded=this.getNotUploadedItems().length,uploaded=notUploaded?this.queue.length-notUploaded:this.queue.length,ratio=100/this.queue.length;return _Mathround(uploaded*ratio+(value||0)*ratio/100)}},_getFilters:{value:function(filters){if(!filters)return this.filters;if(isArray(filters))return filters;var names=filters.match(/[^\s,]+/g);return this.filters.filter(function(filter){return-1!==names.indexOf(filter.name)})}},_render:{value:function(){$rootScope.$$phase||$rootScope.$apply()}},_folderFilter:{value:function(item){return!!(item.size||item.type)}},_queueLimitFilter:{value:function(){return this.queue.length<this.queueLimit}},_isValidFile:{value:function(file,filters,options){var _this=this;return this._failFilterIndex=-1,!filters.length||filters.every(function(filter){return _this._failFilterIndex++,filter.fn.call(_this,file,options)})}},_isSuccessCode:{value:function(status){return 200<=status&&300>status||304===status}},_transformResponse:{value:function(response,headers){var headersGetter=this._headersGetter(headers);return forEach($http.defaults.transformResponse,function(transformFn){response=transformFn(response,headersGetter)}),response}},_parseHeaders:{value:function(headers){var parsed={},key,val,i;return headers?(forEach(headers.split("\n"),function(line){i=line.indexOf(":"),key=line.slice(0,i).trim().toLowerCase(),val=line.slice(i+1).trim(),key&&(parsed[key]=parsed[key]?parsed[key]+", "+val:val)}),parsed):parsed}},_headersGetter:{value:function(parsedHeaders){return function(name){return name?parsedHeaders[name.toLowerCase()]||null:parsedHeaders}}},_customTransport:{value:function(item){var _this=this;this.customTransport({_fileUploaderContext:_this,item:item}),this._render()}},_xhrTransport:{value:function(item){var _this=this,xhr=item._xhr=new XMLHttpRequest,form=new FormData;if(this._onBeforeUploadItem(item),forEach(item.formData,function(obj){forEach(obj,function(value,key){form.append(key,value)})}),"number"!=typeof item._file.size)throw new TypeError("The file specified is no longer valid");form.append(item.alias,item._file,item.file.name),xhr.upload.onprogress=function(event){var progress=_Mathround(event.lengthComputable?100*event.loaded/event.total:0);_this._onProgressItem(item,progress)},xhr.onload=function(){var headers=_this._parseHeaders(xhr.getAllResponseHeaders()),response=_this._transformResponse(xhr.response,headers),gist=_this._isSuccessCode(xhr.status)?"Success":"Error";_this["_on"+gist+"Item"](item,response,xhr.status,headers),_this._onCompleteItem(item,response,xhr.status,headers)},xhr.onerror=function(){var headers=_this._parseHeaders(xhr.getAllResponseHeaders()),response=_this._transformResponse(xhr.response,headers);_this._onErrorItem(item,response,xhr.status,headers),_this._onCompleteItem(item,response,xhr.status,headers)},xhr.onabort=function(){var headers=_this._parseHeaders(xhr.getAllResponseHeaders()),response=_this._transformResponse(xhr.response,headers);_this._onCancelItem(item,response,xhr.status,headers),_this._onCompleteItem(item,response,xhr.status,headers)},xhr.open(item.method,item.url,!0),xhr.withCredentials=item.withCredentials,forEach(item.headers,function(value,name){xhr.setRequestHeader(name,value)}),xhr.send(form),this._render()}},_iframeTransport:{value:function(item){var _this=this,form=element("<form style=\"display: none;\" />"),iframe=element("<iframe name=\"iframeTransport"+Date.now()+"\">"),input=item._input;item._form&&item._form.replaceWith(input),item._form=form,this._onBeforeUploadItem(item),input.prop("name",item.alias),forEach(item.formData,function(obj){forEach(obj,function(value,key){var element_=element("<input type=\"hidden\" name=\""+key+"\" />");element_.val(value),form.append(element_)})}),form.prop({action:item.url,method:"POST",target:iframe.prop("name"),enctype:"multipart/form-data",encoding:"multipart/form-data"}),iframe.bind("load",function(){var html="",status=200;try{html=iframe[0].contentDocument.body.innerHTML}catch(e){status=500}var xhr={response:html,status:status,dummy:!0},headers={},response=_this._transformResponse(xhr.response,headers);_this._onSuccessItem(item,response,xhr.status,headers),_this._onCompleteItem(item,response,xhr.status,headers)}),form.abort=function(){var xhr={status:0,dummy:!0},headers={},response;iframe.unbind("load").prop("src","javascript:false;"),form.replaceWith(input),_this._onCancelItem(item,response,xhr.status,headers),_this._onCompleteItem(item,response,xhr.status,headers)},input.after(form),form.append(input).append(iframe),form[0].submit(),this._render()}},_onWhenAddingFileFailed:{value:function(item,filter,options){this.onWhenAddingFileFailed(item,filter,options)}},_onAfterAddingFile:{value:function(item,options){this.onAfterAddingFile(item,options)}},_onAfterAddingAll:{value:function(items){this.onAfterAddingAll(items)}},_waitBeforeStartUploading:{value:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(items){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this.waitBeforeStartUploading(items);case 2:case"end":return _context3.stop();}},_callee3,this)}));return function(){return _ref4.apply(this,arguments)}}()},_onBeforeUploadItem:{value:function(item){item._onBeforeUpload(),this.onBeforeUploadItem(item)}},_onProgressItem:{value:function(item,progress){var total=this._getTotalProgress(progress);this.progress=total,item._onProgress(progress),this.onProgressItem(item,progress),this.onProgressAll(total),this._render()}},_onSuccessItem:{value:function(item,response,status,headers){item._onSuccess(response,status,headers),this.onSuccessItem(item,response,status,headers)}},_onErrorItem:{value:function(item,response,status,headers){item._onError(response,status,headers),this.onErrorItem(item,response,status,headers)}},_onCancelItem:{value:function(item,response,status,headers){item._onCancel(response,status,headers),this.onCancelItem(item,response,status,headers)}},_onCompleteItem:{value:function(item,response,status,headers){item._onComplete(response,status,headers),this.onCompleteItem(item,response,status,headers);var currentlyUploadingItems=this.getUploadingItems();0<currentlyUploadingItems.length||(this.isUploading=!1,this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}}},{isFile:{value:function(value){return File&&value instanceof File}},isFileLikeObject:{value:function(value){return value instanceof FileLikeObject}},isArrayLikeObject:{value:function(value){return isObject(value)&&"length"in value}},inherit:{value:function(target,source){target.prototype=Object.create(source.prototype),target.prototype.constructor=target,target.super_=source}}}),FileUploader}();return FileUploader.prototype.isHTML5=!!(File&&FormData),FileUploader.isHTML5=FileUploader.prototype.isHTML5,FileUploader},module.exports.$inject=["fileUploaderOptions","$rootScope","$http","$window","FileLikeObject","FileItem"]},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},CONFIG=function _interopRequire(obj){return obj&&obj.__esModule?obj["default"]:obj}(__webpack_require__(1)),copy=angular.copy,isElement=angular.isElement,isString=angular.isString;module.exports=function(){var FileLikeObject=function(){function FileLikeObject(fileOrInput){_classCallCheck(this,FileLikeObject);var isInput=isElement(fileOrInput),fakePathOrObject=isInput?fileOrInput.value:fileOrInput,postfix=isString(fakePathOrObject)?"FakePath":"Object";this["_createFrom"+postfix](fakePathOrObject)}return _createClass(FileLikeObject,{_createFromFakePath:{value:function(path){this.lastModifiedDate=null,this.size=null,this.type="like/"+path.slice(path.lastIndexOf(".")+1).toLowerCase(),this.name=path.slice(path.lastIndexOf("/")+path.lastIndexOf("\\")+2)}},_createFromObject:{value:function(object){this.lastModifiedDate=copy(object.lastModifiedDate),this.size=object.size,this.type=object.type,this.name=object.name}}}),FileLikeObject}();return FileLikeObject},module.exports.$inject=[]},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},CONFIG=function _interopRequire(obj){return obj&&obj.__esModule?obj["default"]:obj}(__webpack_require__(1)),copy=angular.copy,extend=angular.extend,element=angular.element,isElement=angular.isElement;module.exports=function($compile,FileLikeObject){var FileItem=function(){function FileItem(uploader,some,options){_classCallCheck(this,FileItem);var isInput=isElement(some),input=isInput?element(some):null,file=isInput?null:some;extend(this,{url:uploader.url,alias:uploader.alias,headers:copy(uploader.headers),formData:copy(uploader.formData),removeAfterUpload:uploader.removeAfterUpload,withCredentials:uploader.withCredentials,method:uploader.method},options,{uploader:uploader,file:new FileLikeObject(some),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:file,_input:input}),input&&this._replaceNode(input)}return _createClass(FileItem,{upload:{value:function(){try{this.uploader.uploadItem(this)}catch(e){this.uploader._onCompleteItem(this,"",0,[]),this.uploader._onErrorItem(this,"",0,[])}}},cancel:{value:function(){this.uploader.cancelItem(this)}},remove:{value:function(){this.uploader.removeFromQueue(this)}},onBeforeUpload:{value:function(){}},onProgress:{value:function(){}},onSuccess:{value:function(){}},onError:{value:function(){}},onCancel:{value:function(){}},onComplete:{value:function(){}},_onBeforeUpload:{value:function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}},_onProgress:{value:function(progress){this.progress=progress,this.onProgress(progress)}},_onSuccess:{value:function(response,status,headers){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=null,this.onSuccess(response,status,headers)}},_onError:{value:function(response,status,headers){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onError(response,status,headers)}},_onCancel:{value:function(response,status,headers){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=null,this.onCancel(response,status,headers)}},_onComplete:{value:function(response,status,headers){this.onComplete(response,status,headers),this.removeAfterUpload&&this.remove()}},_destroy:{value:function(){this._input&&this._input.remove(),this._form&&this._form.remove(),delete this._form,delete this._input}},_prepareToUploading:{value:function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}},_replaceNode:{value:function(input){var clone=$compile(input.clone())(input.scope());clone.prop("value",null),input.css("display","none"),input.after(clone)}}}),FileItem}();return FileItem},module.exports.$inject=["$compile","FileLikeObject"]},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},CONFIG=function _interopRequire(obj){return obj&&obj.__esModule?obj["default"]:obj}(__webpack_require__(1)),extend=angular.extend;module.exports=function(){var FileDirective=function(){function FileDirective(options){_classCallCheck(this,FileDirective),extend(this,options),this.uploader._directives[this.prop].push(this),this._saveLinks(),this.bind()}return _createClass(FileDirective,{bind:{value:function(){for(var key in this.events){var prop=this.events[key];this.element.bind(key,this[prop])}}},unbind:{value:function(){for(var key in this.events)this.element.unbind(key,this.events[key])}},destroy:{value:function(){var index=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(index,1),this.unbind()}},_saveLinks:{value:function(){for(var key in this.events){var prop=this.events[key];this[prop]=this[prop].bind(this)}}}}),FileDirective}();return FileDirective.prototype.events={},FileDirective},module.exports.$inject=[]},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===void 0){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc&&desc.writable)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)},_inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof2(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.__proto__=superClass)},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},CONFIG=function _interopRequire(obj){return obj&&obj.__esModule?obj["default"]:obj}(__webpack_require__(1)),extend=angular.extend;module.exports=function(FileDirective){var FileSelect=function(_FileDirective){function FileSelect(options){_classCallCheck(this,FileSelect);var extendedOptions=extend(options,{events:{$destroy:"destroy",change:"onChange"},prop:"select"});_get(Object.getPrototypeOf(FileSelect.prototype),"constructor",this).call(this,extendedOptions),this.uploader.isHTML5||this.element.removeAttr("multiple"),this.element.prop("value",null)}return _inherits(FileSelect,_FileDirective),_createClass(FileSelect,{getOptions:{value:function(){}},getFilters:{value:function(){}},isEmptyAfterSelection:{value:function(){return!!this.element.attr("multiple")}},onChange:{value:function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var files,options,filters;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return files=this.uploader.isHTML5?this.element[0].files:this.element[0],options=this.getOptions(),filters=this.getFilters(),this.uploader.isHTML5||this.destroy(),_context4.next=6,this.uploader.addToQueue(files,options,filters);case 6:this.isEmptyAfterSelection()&&(this.element.prop("value",null),this.element.replaceWith(this.element=this.element.clone(!0)));case 7:case"end":return _context4.stop();}},_callee4,this)}));return function(){return _ref5.apply(this,arguments)}}()}}),FileSelect}(FileDirective);return FileSelect},module.exports.$inject=["FileDirective"]},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===void 0){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc&&desc.writable)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)},_inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof2(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.__proto__=superClass)},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},CONFIG=function _interopRequire(obj){return obj&&obj.__esModule?obj["default"]:obj}(__webpack_require__(1)),extend=angular.extend,forEach=angular.forEach;module.exports=function(FileDirective){var FileDrop=function(_FileDirective){function FileDrop(options){_classCallCheck(this,FileDrop);var extendedOptions=extend(options,{events:{$destroy:"destroy",drop:"onDrop",dragover:"onDragOver",dragleave:"onDragLeave"},prop:"drop"});_get(Object.getPrototypeOf(FileDrop.prototype),"constructor",this).call(this,extendedOptions)}return _inherits(FileDrop,_FileDirective),_createClass(FileDrop,{getOptions:{value:function(){}},getFilters:{value:function(){}},onDrop:{value:function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(event){var readDirectory=function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(entries,fileCallback,parentFolder){var createFileObjectPromiseList,i,e,entry,directoryReader,createFileObjectPromise,files;return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:createFileObjectPromiseList=[],i=0;case 2:if(!(i<entries.length)){_context5.next=19;break}if(e=entries[i],e.webkitGetAsEntry&&(e=e.webkitGetAsEntry()),!e.isDirectory){_context5.next=14;break}if(!_.startsWith(e.name,".")){_context5.next=10;break}return _context5.abrupt("continue",16);case 10:entry=e,options.createFolderCallback?options.createFolderCallback(entry.name,parentFolder,function(folder){var directoryReader=entry.createReader();getAllEntries(directoryReader,function(es){readDirectory(es,fileCallback,folder.id)})}):(directoryReader=entry.createReader(),getAllEntries(directoryReader,function(es){readDirectory(es,fileCallback,parentFolder)}));case 12:_context5.next=16;break;case 14:createFileObjectPromise=new Promise(function(resolve){var onError=function(e){errorHandler(e),resolve()};e.file(function onSuccess(f){resolve(f,parentFolder)},onError)}),createFileObjectPromiseList.push(createFileObjectPromise);case 16:i++,_context5.next=2;break;case 19:return _context5.next=21,Promise.all(createFileObjectPromiseList);case 21:files=_context5.sent,_.size(files)&&fileCallback(files,parentFolder);case 23:case"end":return _context5.stop();}},_callee5,this)}));return function(){return _ref7.apply(this,arguments)}}(),options,filters,errorHandler,toArray,getAllEntries,transfer,that;return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(getAllEntries=function(directoryReader,callback){var entries=[],readEntries=function(){directoryReader.readEntries(function(results){entries=_.remove(entries,function(item){return!_.startsWith(item.name,".")}),results.length?(entries=entries.concat(toArray(results)),readEntries()):(entries.sort(),callback(entries))},errorHandler)};readEntries()},toArray=function(list){return Array.prototype.slice.call(list||[],0)},errorHandler=function(e){console.log("FileSystem API error code: "+e.code)},this._preventAndStop(event),options=this.getOptions(),filters=this.getFilters(),transfer=this._getTransfer(event),transfer){_context7.next=9;break}return _context7.abrupt("return");case 9:if(forEach(this.uploader._directives.over,this._removeOverClass,this),that=this,!transfer.items){_context7.next=16;break}return _context7.next=14,readDirectory(transfer.items,function(){var _ref8=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(file,parentFolder){return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,that.uploader.addToQueue(file,_.merge({},options,{parentFolder:parentFolder}),filters);case 2:case"end":return _context6.stop();}},_callee6,this)}));return function(){return _ref8.apply(this,arguments)}}());case 14:_context7.next=18;break;case 16:return _context7.next=18,this.uploader.addToQueue(transfer.files,options,filters);case 18:case"end":return _context7.stop();}},_callee7,this)}));return function(){return _ref6.apply(this,arguments)}}()},onDragOver:{value:function(event){var transfer=this._getTransfer(event);this._haveFiles(transfer.types)&&(transfer.dropEffect="copy",this._preventAndStop(event),forEach(this.uploader._directives.over,this._addOverClass,this))}},onDragLeave:{value:function(event){event.currentTarget===this.element[0]||(this._preventAndStop(event),forEach(this.uploader._directives.over,this._removeOverClass,this))}},_getTransfer:{value:function(event){return event.dataTransfer?event.dataTransfer:event.originalEvent.dataTransfer}},_preventAndStop:{value:function(event){event.preventDefault(),event.stopPropagation()}},_haveFiles:{value:function(types){return!!types&&(types.indexOf?-1!==types.indexOf("Files"):!!types.contains&&types.contains("Files"))}},_addOverClass:{value:function(item){item.addOverClass()}},_removeOverClass:{value:function(item){item.removeOverClass()}}}),FileDrop}(FileDirective);return FileDrop},module.exports.$inject=["FileDirective"]},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===void 0){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc&&desc.writable)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)},_inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof2(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.__proto__=superClass)},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")},CONFIG=function _interopRequire(obj){return obj&&obj.__esModule?obj["default"]:obj}(__webpack_require__(1)),extend=angular.extend;module.exports=function(FileDirective){var FileOver=function(_FileDirective){function FileOver(options){_classCallCheck(this,FileOver);var extendedOptions=extend(options,{events:{$destroy:"destroy"},prop:"over",overClass:"nv-file-over"});_get(Object.getPrototypeOf(FileOver.prototype),"constructor",this).call(this,extendedOptions)}return _inherits(FileOver,_FileDirective),_createClass(FileOver,{addOverClass:{value:function(){this.element.addClass(this.getOverClass())}},removeOverClass:{value:function(){this.element.removeClass(this.getOverClass())}},getOverClass:{value:function(){return this.overClass}}}),FileOver}(FileDirective);return FileOver},module.exports.$inject=["FileDirective"]},function(module,exports,__webpack_require__){"use strict";(function _interopRequire(obj){return obj&&obj.__esModule?obj["default"]:obj})(__webpack_require__(1));module.exports=function($parse,FileUploader,FileSelect){return{link:function link(scope,element,attributes){var uploader=scope.$eval(attributes.uploader);if(!(uploader instanceof FileUploader))throw new TypeError("\"Uploader\" must be an instance of FileUploader");var object=new FileSelect({uploader:uploader,element:element});object.getOptions=$parse(attributes.options).bind(object,scope),object.getFilters=function(){return attributes.filters}}}},module.exports.$inject=["$parse","FileUploader","FileSelect"]},function(module,exports,__webpack_require__){"use strict";(function _interopRequire(obj){return obj&&obj.__esModule?obj["default"]:obj})(__webpack_require__(1));module.exports=function($parse,FileUploader,FileDrop){return{link:function link(scope,element,attributes){var uploader=scope.$eval(attributes.uploader);if(!(uploader instanceof FileUploader))throw new TypeError("\"Uploader\" must be an instance of FileUploader");if(uploader.isHTML5){var object=new FileDrop({uploader:uploader,element:element});object.getOptions=$parse(attributes.options).bind(object,scope),object.getFilters=function(){return attributes.filters}}}}},module.exports.$inject=["$parse","FileUploader","FileDrop"]},function(module,exports,__webpack_require__){"use strict";(function _interopRequire(obj){return obj&&obj.__esModule?obj["default"]:obj})(__webpack_require__(1));module.exports=function(FileUploader,FileOver){return{link:function link(scope,element,attributes){var uploader=scope.$eval(attributes.uploader);if(!(uploader instanceof FileUploader))throw new TypeError("\"Uploader\" must be an instance of FileUploader");var object=new FileOver({uploader:uploader,element:element});object.getOverClass=function(){return attributes.overClass||object.overClass}}}},module.exports.$inject=["FileUploader","FileOver"]}])});var directiveModule=angular.module("angularjs-dropdown-multiselect",[]);directiveModule.directive("ngDropdownMultiselect",["$filter","$document","$compile","$parse",function($filter,$document){return{restrict:"AE",scope:{selectedModel:"=",options:"=",extraSettings:"=",events:"=",searchFilter:"=?",translationTexts:"=",groupBy:"@"},template:function(element,attrs){var checkboxes=!!attrs.checkboxes,groups=!!attrs.groupBy,template="<div class=\"multiselect-parent btn-group dropdown-multiselect\">";template+="<button type=\"button\" class=\"dropdown-toggle\" ng-class=\"settings.buttonClasses\" ng-click=\"toggleDropdown()\">{{getButtonText()}}&nbsp;<span class=\"caret\"></span></button>",template+="<ul class=\"dropdown-menu dropdown-menu-form\" ng-style=\"{display: open ? 'block' : 'none', height : settings.scrollable ? settings.scrollableHeight : 'auto' }\" style=\"overflow: scroll\" >",template+="<li ng-hide=\"!settings.showCheckAll || settings.selectionLimit > 0\"><a data-ng-click=\"selectAll()\"><span class=\"glyphicon glyphicon-ok\"></span>  {{texts.checkAll}}</a>",template+="<li ng-show=\"settings.showUncheckAll\"><a data-ng-click=\"deselectAll();\"><span class=\"glyphicon glyphicon-remove\"></span>   {{texts.uncheckAll}}</a></li>",template+="<li ng-hide=\"(!settings.showCheckAll || settings.selectionLimit > 0) && !settings.showUncheckAll\" class=\"divider\"></li>",template+="<li ng-show=\"settings.enableSearch\"><div class=\"dropdown-header\"><input type=\"text\" class=\"form-control\" style=\"width: 100%;\" ng-model=\"searchFilter\" placeholder=\"{{texts.searchPlaceholder}}\" /></li>",template+="<li ng-show=\"settings.enableSearch\" class=\"divider\"></li>",template+="<li ng-show=\"settings.checkAll\"><a tabindex=\"-1\" ng-click=\"changeSelectedState()\"><div class=\"checkbox\"><label><input class=\"checkboxInput\" type=\"checkbox\" ng-checked=\"isSelectedAll\" ng-click=\"$event.stopPropagation(); changeSelectedState()\"><b>Select All</b></label></div></a></li>",groups?(template+="<li ng-repeat-start=\"option in orderedItems | filter: searchFilter\" ng-show=\"getPropertyForObject(option, settings.groupBy) !== getPropertyForObject(orderedItems[$index - 1], settings.groupBy)\" role=\"presentation\" class=\"dropdown-header\">{{ getGroupTitle(getPropertyForObject(option, settings.groupBy)) }}</li>",template+="<li ng-repeat-end role=\"presentation\">"):template+="<li role=\"presentation\" ng-repeat=\"option in options | filter: searchFilter\">",template+="<a role=\"menuitem\" tabindex=\"-1\" ng-click=\"setSelectedItem(getPropertyForObject(option,settings.idProp))\">",template+=checkboxes?"<div class=\"checkbox\"><label><input class=\"checkboxInput\" type=\"checkbox\" ng-click=\"checkboxClick($event, getPropertyForObject(option,settings.idProp))\" ng-checked=\"isChecked(getPropertyForObject(option,settings.idProp))\" /> {{getPropertyForObject(option, settings.displayProp)}}</label></div></a>":"<span data-ng-class=\"{'glyphicon glyphicon-ok': isChecked(getPropertyForObject(option,settings.idProp))}\"></span> {{getPropertyForObject(option, settings.displayProp)}}</a>",template+="</li>",template+="<li class=\"divider\" ng-show=\"settings.selectionLimit > 1\"></li>",template+="<li role=\"presentation\" ng-show=\"settings.selectionLimit > 1\"><a role=\"menuitem\">{{selectedModel.length}} {{texts.selectionOf}} {{settings.selectionLimit}} {{texts.selectionCount}}</a></li>",template+="</ul>",template+="</div>",element.html(template)},link:function link($scope,$element,$attrs){function getFindObj(id){var findObj={};return""===$scope.settings.externalIdProp?findObj[$scope.settings.idProp]=id:findObj[$scope.settings.externalIdProp]=id,findObj}function clearObject(object){for(var prop in object)delete object[prop]}var $dropdownTrigger=$element.children()[0];$scope.isSelectedAll=!0,$scope.changeSelectedState=function(){$scope.isSelectedAll?($scope.isSelectedAll=!1,$scope.deselectAll()):($scope.isSelectedAll=!0,$scope.selectAll())},$scope.toggleDropdown=function(){$scope.open=!$scope.open},$scope.checkboxClick=function($event,id){$scope.setSelectedItem(id),$event.stopImmediatePropagation()},$scope.externalEvents={onItemSelect:angular.noop,onItemDeselect:angular.noop,onSelectAll:angular.noop,onDeselectAll:angular.noop,onInitDone:angular.noop,onMaxSelectionReached:angular.noop},$scope.settings={dynamicTitle:!0,scrollable:!1,scrollableHeight:"300px",closeOnBlur:!0,displayProp:"label",idProp:"id",externalIdProp:"id",enableSearch:!1,selectionLimit:0,showCheckAll:!0,showUncheckAll:!0,closeOnSelect:!1,buttonClasses:"btn btn-default",closeOnDeselect:!1,groupBy:$attrs.groupBy||void 0,groupByTextProvider:null,smartButtonMaxItems:0,smartButtonTextConverter:angular.noop},$scope.texts={checkAll:"Check All",uncheckAll:"Uncheck All",selectionCount:"checked",selectionOf:"/",searchPlaceholder:"Search...",buttonDefaultText:"Select",dynamicButtonTextSuffix:"checked"},$scope.searchFilter=$scope.searchFilter||"",angular.isDefined($scope.settings.groupBy)&&$scope.$watch("options",function(newValue){angular.isDefined(newValue)&&($scope.orderedItems=$filter("orderBy")(newValue,$scope.settings.groupBy))}),angular.extend($scope.settings,$scope.extraSettings||[]),angular.extend($scope.externalEvents,$scope.events||[]),angular.extend($scope.texts,$scope.translationTexts),$scope.singleSelection=1===$scope.settings.selectionLimit,$scope.singleSelection&&angular.isArray($scope.selectedModel)&&0===$scope.selectedModel.length&&clearObject($scope.selectedModel),$scope.settings.closeOnBlur&&$document.on("click",function(e){for(var target=e.target.parentElement,parentFound=!1;angular.isDefined(target)&&null!==target&&!parentFound;)_.contains(target.className.split(" "),"multiselect-parent")&&!parentFound&&target===$dropdownTrigger&&(parentFound=!0),target=target.parentElement;parentFound||$scope.$apply(function(){$scope.open=!1})}),$scope.getGroupTitle=function(groupValue){return null===$scope.settings.groupByTextProvider?groupValue:$scope.settings.groupByTextProvider(groupValue)},$scope.getButtonText=function(){if($scope.settings.dynamicTitle&&(0<$scope.selectedModel.length||angular.isObject($scope.selectedModel)&&0<_.keys($scope.selectedModel).length)){if(0<$scope.settings.smartButtonMaxItems){var itemsText=[];return angular.forEach($scope.options,function(optionItem){if($scope.isChecked($scope.getPropertyForObject(optionItem,$scope.settings.idProp))){var displayText=$scope.getPropertyForObject(optionItem,$scope.settings.displayProp),converterResponse=$scope.settings.smartButtonTextConverter(displayText,optionItem);itemsText.push(converterResponse?converterResponse:displayText)}}),$scope.selectedModel.length>$scope.settings.smartButtonMaxItems&&(itemsText=itemsText.slice(0,$scope.settings.smartButtonMaxItems),itemsText.push("...")),itemsText.join(", ")}var totalSelected;return totalSelected=$scope.singleSelection?null!==$scope.selectedModel&&angular.isDefined($scope.selectedModel[$scope.settings.idProp])?1:0:angular.isDefined($scope.selectedModel)?$scope.selectedModel.length:0,0===totalSelected?$scope.texts.buttonDefaultText:totalSelected+" "+$scope.texts.dynamicButtonTextSuffix}return $scope.texts.buttonDefaultText},$scope.getPropertyForObject=function(object,property){return angular.isDefined(object)&&object.hasOwnProperty(property)?object[property]:""},$scope.selectAll=function(){$scope.deselectAll(!1),$scope.externalEvents.onSelectAll(),angular.forEach($scope.options,function(value){$scope.setSelectedItem(value[$scope.settings.idProp],!0)})},$scope.deselectAll=function(sendEvent){sendEvent=sendEvent||!0,sendEvent&&$scope.externalEvents.onDeselectAll(),$scope.singleSelection?clearObject($scope.selectedModel):$scope.selectedModel.splice(0,$scope.selectedModel.length)},$scope.setSelectedItem=function(id,dontRemove){var findObj=getFindObj(id),finalObj=null;if(finalObj=""===$scope.settings.externalIdProp?_.find($scope.options,findObj):findObj,$scope.singleSelection)return clearObject($scope.selectedModel),angular.extend($scope.selectedModel,finalObj),$scope.externalEvents.onItemSelect(finalObj),void($scope.settings.closeOnSelect&&($scope.open=!1));dontRemove=dontRemove||!1;var exists=-1!==_.findIndex($scope.selectedModel,findObj);!dontRemove&&exists?($scope.selectedModel.splice(_.findIndex($scope.selectedModel,findObj),1),$scope.externalEvents.onItemDeselect(findObj)):!exists&&(0===$scope.settings.selectionLimit||$scope.selectedModel.length<$scope.settings.selectionLimit)&&($scope.selectedModel.push(finalObj),$scope.externalEvents.onItemSelect(finalObj)),$scope.settings.closeOnSelect&&($scope.open=!1)},$scope.isChecked=function(id){return $scope.singleSelection?null!==$scope.selectedModel&&angular.isDefined($scope.selectedModel[$scope.settings.idProp])&&$scope.selectedModel[$scope.settings.idProp]===getFindObj(id)[$scope.settings.idProp]:-1!==_.findIndex($scope.selectedModel,getFindObj(id))},$scope.externalEvents.onInitDone()}}}]),define("angular-dropdown-multiselect",["angular"],function(){}),function(){"use strict";angular.module("puElasticInput",[]).directive("puElasticInput",["$document","$window",function(a,b){function c(a,b){var c="";if(window.getComputedStyle)c=getComputedStyle(a).getPropertyValue(b);else if(a.currentStyle)try{c=a.currentStyle[b]}catch(d){}return c}function d(a){var d=a[0],b;do d=d.parentNode,b=parseInt(c(d,"width"),10)-parseInt(c(d,"padding-left"),10)-parseInt(c(d,"padding-right"),10);while("block"!=c(d,"display")&&"body"!=d.nodeName.toLowerCase());return b+"px"}function e(a,c,e){var f=b.getComputedStyle(c[0]),g="none"===f.maxWidth?d(c):f.maxWidth;c.css("minWidth",e.puElasticInputMinwidth||f.minWidth),c.css("maxWidth",e.puElasticInputMaxwidth||g),angular.forEach(["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing"],function(b){a.css(b,f[b])}),a.css("paddingLeft",f.textIndent),"border-box"===f.boxSizing?angular.forEach(["paddingLeft","paddingRight","borderLeftStyle","borderLeftWidth","borderRightStyle","borderRightWidth"],function(b){a.css(b,f[b])}):"padding-box"===f.boxSizing&&angular.forEach(["paddingLeft","paddingRight"],function(b){a.css(b,f[b])})}var f=angular.element("<div style=\"position:fixed; top:-999px; left:0;\"></div>");return angular.element(a[0].body).append(f),{restrict:"A",link:function link(a,b,c){function d(){var a=b.val()||c.placeholder||"";if(g.text()!=a){g.text(a);var d=parseInt(c.puElasticInputWidthDelta)||1;b.css("width",g.prop("offsetWidth")+d+"px")}}c.$set("ngTrim","true"===c.ngTrim?"true":"false");var g=angular.element("<span style=\"white-space:pre;\">&#000;</span>");e(g,b,c),f.append(g),d(),a.$watch(c.ngModel,d),b.on("keydown keyup focus input propertychange change",d),a.$on("$destroy",function(){g.remove()})}}}])}(),define("angular-elastic-input",["angular"],function(){}),function(){"use strict";var _Mathabs=Math.abs,_Mathsqrt=Math.sqrt,_Mathpow=Math.pow,_MathPI=Math.PI;(function(){for(var lastTime=0,vendors=["webkit","moz"],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(callback){var currTime=new Date().getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(id){window.clearTimeout(id)})})(),angular.module("angular-svg-round-progressbar",[]),angular.module("angular-svg-round-progressbar").constant("roundProgressConfig",{max:50,semi:!1,rounded:!1,responsive:!1,clockwise:!0,radius:100,color:"#45ccce",bgcolor:"#eaeaea",stroke:15,duration:800,animation:"easeOutCubic",animationDelay:0,offset:0}),angular.module("angular-svg-round-progressbar").service("roundProgressService",["$window",function($window){function polarToCartesian(centerX,centerY,radius,angleInDegrees){var angleInRadians=(angleInDegrees-90)*_MathPI/180,x=centerX+radius*_Mathcos(angleInRadians),y=centerY+radius*_Mathsin(angleInRadians);return x+" "+y}var _Mathasin=Math.asin,_Mathsin=Math.sin,_Mathcos=Math.cos,service={},isNumber=angular.isNumber,base=document.head.querySelector("base");return service.isSupported=!!(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),service.resolveColor=base&&base.href?function(value){var hashIndex=value.indexOf("#");return-1<hashIndex&&-1<value.indexOf("url")?value.slice(0,hashIndex)+window.location.href+value.slice(hashIndex):value}:function(value){return value},service.toNumber=function(value){return isNumber(value)?value:parseFloat((value+"").replace(",","."))},service.getOffset=function(scope,options){var value=+options.offset||0;if("inherit"===options.offset)for(var parent=scope.$parent;parent;){if(parent.hasOwnProperty("$$getRoundProgressOptions")){var opts=parent.$$getRoundProgressOptions();value+=(+opts.offset||0)+(+opts.stroke||0)}parent=parent.$parent}return value},service.getTimestamp=$window.performance&&$window.performance.now&&angular.isNumber($window.performance.now())?function(){return $window.performance.now()}:function(){return new $window.Date().getTime()},service.updateState=function(current,total,pathRadius,element,elementRadius,isSemicircle){if(!elementRadius)return element;var value=0<current?Math.min(current,total):0,type=isSemicircle?180:359.9999,perc=0===total?0:value/total*type,start=polarToCartesian(elementRadius,elementRadius,pathRadius,perc),end=polarToCartesian(elementRadius,elementRadius,pathRadius,0),arcSweep=180>=perc?0:1;return element.attr("d","M "+start+" A "+pathRadius+" "+pathRadius+" 0 "+arcSweep+" 0 "+end)},service.animations={linearEase:function linearEase(t,b,c,d){return c*t/d+b},easeInQuad:function easeInQuad(t,b,c,d){return c*(t/=d)*t+b},easeOutQuad:function easeOutQuad(t,b,c,d){return-c*(t/=d)*(t-2)+b},easeInOutQuad:function easeInOutQuad(t,b,c,d){return 1>(t/=d/2)?c/2*t*t+b:-c/2*(--t*(t-2)-1)+b},easeInCubic:function easeInCubic(t,b,c,d){return c*(t/=d)*t*t+b},easeOutCubic:function easeOutCubic(t,b,c,d){return c*((t=t/d-1)*t*t+1)+b},easeInOutCubic:function easeInOutCubic(t,b,c,d){return 1>(t/=d/2)?c/2*t*t*t+b:c/2*((t-=2)*t*t+2)+b},easeInQuart:function easeInQuart(t,b,c,d){return c*(t/=d)*t*t*t+b},easeOutQuart:function easeOutQuart(t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b},easeInOutQuart:function easeInOutQuart(t,b,c,d){return 1>(t/=d/2)?c/2*t*t*t*t+b:-c/2*((t-=2)*t*t*t-2)+b},easeInQuint:function easeInQuint(t,b,c,d){return c*(t/=d)*t*t*t*t+b},easeOutQuint:function easeOutQuint(t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b},easeInOutQuint:function easeInOutQuint(t,b,c,d){return 1>(t/=d/2)?c/2*t*t*t*t*t+b:c/2*((t-=2)*t*t*t*t+2)+b},easeInSine:function easeInSine(t,b,c,d){return-c*_Mathcos(t/d*(_MathPI/2))+c+b},easeOutSine:function easeOutSine(t,b,c,d){return c*_Mathsin(t/d*(_MathPI/2))+b},easeInOutSine:function easeInOutSine(t,b,c,d){return-c/2*(_Mathcos(_MathPI*t/d)-1)+b},easeInExpo:function easeInExpo(t,b,c,d){return 0==t?b:c*_Mathpow(2,10*(t/d-1))+b},easeOutExpo:function easeOutExpo(t,b,c,d){return t==d?b+c:c*(-_Mathpow(2,-10*t/d)+1)+b},easeInOutExpo:function easeInOutExpo(t,b,c,d){return 0==t?b:t==d?b+c:1>(t/=d/2)?c/2*_Mathpow(2,10*(t-1))+b:c/2*(-_Mathpow(2,-10*--t)+2)+b},easeInCirc:function easeInCirc(t,b,c,d){return-c*(_Mathsqrt(1-(t/=d)*t)-1)+b},easeOutCirc:function easeOutCirc(t,b,c,d){return c*_Mathsqrt(1-(t=t/d-1)*t)+b},easeInOutCirc:function easeInOutCirc(t,b,c,d){return 1>(t/=d/2)?-c/2*(_Mathsqrt(1-t*t)-1)+b:c/2*(_Mathsqrt(1-(t-=2)*t)+1)+b},easeInElastic:function easeInElastic(t,b,c,d){var s=1.70158,p=0,a=c;return 0==t?b:1==(t/=d)?b+c:(p||(p=.3*d),a<_Mathabs(c)?(a=c,s=p/4):s=p/(2*_MathPI)*_Mathasin(c/a),-(a*_Mathpow(2,10*(t-=1))*_Mathsin((t*d-s)*(2*_MathPI)/p))+b)},easeOutElastic:function easeOutElastic(t,b,c,d){var s=1.70158,p=0,a=c;return 0==t?b:1==(t/=d)?b+c:(p||(p=.3*d),a<_Mathabs(c)?(a=c,s=p/4):s=p/(2*_MathPI)*_Mathasin(c/a),a*_Mathpow(2,-10*t)*_Mathsin((t*d-s)*(2*_MathPI)/p)+c+b)},easeInOutElastic:function easeInOutElastic(t,b,c,d){var s=1.70158,p=0,a=c;return 0==t?b:2==(t/=d/2)?b+c:(p||(p=d*(1.5*.3)),a<_Mathabs(c)?(a=c,s=p/4):s=p/(2*_MathPI)*_Mathasin(c/a),1>t?-.5*(a*_Mathpow(2,10*(t-=1))*_Mathsin((t*d-s)*(2*_MathPI)/p))+b:.5*(a*_Mathpow(2,-10*(t-=1))*_Mathsin((t*d-s)*(2*_MathPI)/p))+c+b)},easeInBack:function easeInBack(t,b,c,d,s){return void 0==s&&(s=1.70158),c*(t/=d)*t*((s+1)*t-s)+b},easeOutBack:function easeOutBack(t,b,c,d,s){return void 0==s&&(s=1.70158),c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},easeInOutBack:function easeInOutBack(t,b,c,d,s){return void 0==s&&(s=1.70158),1>(t/=d/2)?c/2*(t*t*(((s*=1.525)+1)*t-s))+b:c/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+b},easeInBounce:function easeInBounce(t,b,c,d){return c-service.animations.easeOutBounce(d-t,0,c,d)+b},easeOutBounce:function easeOutBounce(t,b,c,d){return(t/=d)<1/2.75?c*(7.5625*t*t)+b:t<2/2.75?c*(7.5625*(t-=1.5/2.75)*t+.75)+b:t<2.5/2.75?c*(7.5625*(t-=2.25/2.75)*t+.9375)+b:c*(7.5625*(t-=2.625/2.75)*t+.984375)+b},easeInOutBounce:function easeInOutBounce(t,b,c,d){return t<d/2?.5*service.animations.easeInBounce(2*t,0,c,d)+b:.5*service.animations.easeOutBounce(2*t-d,0,c,d)+.5*c+b}},service}]),angular.module("angular-svg-round-progressbar").directive("roundProgress",["$window","roundProgressService","roundProgressConfig",function($window,service,roundProgressConfig){var base={restrict:"EA",replace:!0,transclude:!0,scope:{current:"=",max:"=",semi:"=",rounded:"=",clockwise:"=",responsive:"=",onRender:"=",radius:"@",color:"@",bgcolor:"@",stroke:"@",duration:"@",animation:"@",offset:"@",animationDelay:"@"}};return service.isSupported?angular.extend(base,{link:function link(scope,element,attrs){function optionIsSpecified(name){return attrs.hasOwnProperty(name)}var isNested=!element.hasClass("round-progress-wrapper"),svg=isNested?element:element.find("svg").eq(0),ring=svg.find("path").eq(0),background=svg.find("circle").eq(0),options=angular.copy(roundProgressConfig),lastAnimationId=0,lastTimeoutId,parentChangedListener;scope.$$getRoundProgressOptions=function(){return options};var renderCircle=function(){var isSemicircle=options.semi,responsive=options.responsive,radius=+options.radius||0,stroke=+options.stroke,diameter=2*radius,backgroundSize=radius-stroke/2-service.getOffset(scope,options);svg.css({top:0,left:0,position:responsive?"absolute":"static",width:responsive?"100%":diameter+"px",height:responsive?"100%":(isSemicircle?radius:diameter)+"px",overflow:"hidden"}),isNested||svg[0].setAttribute("viewBox","0 0 "+diameter+" "+(isSemicircle?radius:diameter)),element.css({width:responsive?"100%":"auto",position:"relative",paddingBottom:responsive?isSemicircle?"50%":"100%":0}),ring.css({stroke:service.resolveColor(options.color),strokeWidth:stroke,strokeLinecap:options.rounded?"round":"butt"}),isSemicircle?ring.attr("transform",options.clockwise?"translate(0, "+diameter+") rotate(-90)":"translate("+diameter+", "+diameter+") rotate(90) scale(-1, 1)"):ring.attr("transform",options.clockwise?"":"scale(-1, 1) translate("+-diameter+" 0)"),background.attr({cx:radius,cy:radius,r:0<=backgroundSize?backgroundSize:0}).css({stroke:service.resolveColor(options.bgcolor),strokeWidth:stroke})},renderState=function(newValue,oldValue,preventAnimationOverride){var max=service.toNumber(options.max||0),end=0<newValue?$window.Math.min(newValue,max):0,start=oldValue===end||0>oldValue?0:oldValue||0,easingAnimation=service.animations[options.animation],duration=+options.duration||0,radius=service.toNumber(options.radius),circleSize=radius-options.stroke/2-service.getOffset(scope,options),isSemicircle=options.semi;svg.attr({"aria-valuemax":max,"aria-valuenow":end});var doAnimation=function(){if(preventAnimationOverride||newValue>max&&oldValue>max||0>newValue&&0>oldValue||25>duration)service.updateState(end,max,circleSize,ring,radius,isSemicircle),options.onRender&&options.onRender(end,options,element);else{var startTime=service.getTimestamp(),id=++lastAnimationId;$window.requestAnimationFrame(function animation(){var currentTime=$window.Math.min(service.getTimestamp()-startTime,duration),animateTo=easingAnimation(currentTime,start,end-start,duration);service.updateState(animateTo,max,circleSize,ring,radius,isSemicircle),options.onRender&&options.onRender(animateTo,options,element),id==lastAnimationId&&currentTime<duration&&$window.requestAnimationFrame(animation)})}};0<options.animationDelay?($window.clearTimeout(lastTimeoutId),$window.setTimeout(doAnimation,options.animationDelay)):doAnimation()},keys=Object.keys(base.scope).filter(function(key){return optionIsSpecified(key)&&"current"!==key});scope.$watchGroup(keys,function(newValue){for(var i=0;i<newValue.length;i++)"undefined"!=typeof newValue[i]&&(options[keys[i]]=newValue[i]);renderCircle(),scope.$broadcast("$parentOffsetChanged"),"inherit"!==options.offset||parentChangedListener?"inherit"!==options.offset&&parentChangedListener&&parentChangedListener():parentChangedListener=scope.$on("$parentOffsetChanged",function(){renderState(scope.current,scope.current,!0),renderCircle()})}),scope.$watchGroup(["current","max","radius","stroke","semi","offset"].filter(optionIsSpecified),function(newValue,oldValue){renderState(service.toNumber(newValue[0]),service.toNumber(oldValue[0]))})},template:function(element){for(var parent=element.parent(),directiveName="round-progress",template=["<svg class=\""+directiveName+"\" xmlns=\"http://www.w3.org/2000/svg\" role=\"progressbar\" aria-valuemin=\"0\">","<circle fill=\"none\"/>","<path fill=\"none\"/>","<g ng-transclude></g>","</svg>"];parent.length&&parent[0].nodeName.toLowerCase()!==directiveName&&"undefined"==typeof parent.attr(directiveName);)parent=parent.parent();return parent&&parent.length||(template.unshift("<div class=\"round-progress-wrapper\">"),template.push("</div>")),template.join("\n")}}):angular.extend(base,{template:"<div class=\"round-progress\" ng-transclude></div>"})}])}(),define("angular-svg-round-progressbar",["angular"],function(){}),function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("codemirror/lib/codemirror",factory):global.CodeMirror=factory()}(this,function(){"use strict";function classTest(cls){return new RegExp("(^|\\s)"+cls+"(?:$|\\s)\\s*")}function removeChildren(e){for(var count=e.childNodes.length;0<count;--count)e.removeChild(e.firstChild);return e}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e)}function elt(tag,content,className,style){var e=document.createElement(tag);if(className&&(e.className=className),style&&(e.style.cssText=style),"string"==typeof content)e.appendChild(document.createTextNode(content));else if(content)for(var i=0;i<content.length;++i)e.appendChild(content[i]);return e}function eltP(tag,content,className,style){var e=elt(tag,content,className,style);return e.setAttribute("role","presentation"),e}function contains(parent,child){if(3==child.nodeType&&(child=child.parentNode),parent.contains)return parent.contains(child);do if(11==child.nodeType&&(child=child.host),child==parent)return!0;while(child=child.parentNode)}function activeElt(){var activeElement;try{activeElement=document.activeElement}catch(e){activeElement=document.body||null}for(;activeElement&&activeElement.shadowRoot&&activeElement.shadowRoot.activeElement;)activeElement=activeElement.shadowRoot.activeElement;return activeElement}function addClass(node,cls){var current=node.className;classTest(cls).test(current)||(node.className+=(current?" ":"")+cls)}function joinClasses(a,b){for(var as=a.split(" "),i=0;i<as.length;i++)as[i]&&!classTest(as[i]).test(b)&&(b+=" "+as[i]);return b}function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args)}}function copyObj(obj,target,overwrite){for(var prop in target||(target={}),obj)obj.hasOwnProperty(prop)&&(!1!==overwrite||!target.hasOwnProperty(prop))&&(target[prop]=obj[prop]);return target}function countColumn(string,end,tabSize,startIndex,startValue){null==end&&(end=string.search(/[^\s\u00a0]/),-1==end&&(end=string.length));for(var i=startIndex||0,n=startValue||0,nextTab;;){if(nextTab=string.indexOf("\t",i),0>nextTab||nextTab>=end)return n+(end-i);n+=nextTab-i,n+=tabSize-n%tabSize,i=nextTab+1}}function indexOf(array,elt){for(var i=0;i<array.length;++i)if(array[i]==elt)return i;return-1}function findColumn(string,goal,tabSize){for(var pos=0,col=0,nextTab;;){nextTab=string.indexOf("\t",pos),-1==nextTab&&(nextTab=string.length);var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal)return pos+_Mathmin(skipped,goal-col);if(col+=nextTab-pos,col+=tabSize-col%tabSize,pos=nextTab+1,col>=goal)return pos}}function spaceStr(n){for(;spaceStrs.length<=n;)spaceStrs.push(lst(spaceStrs)+" ");return spaceStrs[n]}function lst(arr){return arr[arr.length-1]}function map(array,f){for(var out=[],i=0;i<array.length;i++)out[i]=f(array[i],i);return out}function insertSorted(array,value,score){for(var pos=0,priority=score(value);pos<array.length&&score(array[pos])<=priority;)pos++;array.splice(pos,0,value)}function nothing(){}function createObj(base,props){var inst;return Object.create?inst=Object.create(base):(nothing.prototype=base,inst=new nothing),props&&copyObj(props,inst),inst}function isWordCharBasic(ch){return /\w/.test(ch)||"\x80"<ch&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch))}function isWordChar(ch,helper){return helper?!!(-1<helper.source.indexOf("\\w")&&isWordCharBasic(ch))||helper.test(ch):isWordCharBasic(ch)}function isEmpty(obj){for(var n in obj)if(obj.hasOwnProperty(n)&&obj[n])return!1;return!0}function isExtendingChar(ch){return 768<=ch.charCodeAt(0)&&extendingChars.test(ch)}function skipExtendingChars(str,pos,dir){for(;(0>dir?0<pos:pos<str.length)&&isExtendingChar(str.charAt(pos));)pos+=dir;return pos}function findFirst(pred,from,to){for(;;){if(1>=_Mathabs2(from-to))return pred(from)?from:to;var mid=_Mathfloor((from+to)/2);pred(mid)?to=mid:from=mid}}function Display(place,doc,input){var d=this;this.input=input,d.scrollbarFiller=elt("div",null,"CodeMirror-scrollbar-filler"),d.scrollbarFiller.setAttribute("cm-not-content","true"),d.gutterFiller=elt("div",null,"CodeMirror-gutter-filler"),d.gutterFiller.setAttribute("cm-not-content","true"),d.lineDiv=eltP("div",null,"CodeMirror-code"),d.selectionDiv=elt("div",null,null,"position: relative; z-index: 1"),d.cursorDiv=elt("div",null,"CodeMirror-cursors"),d.measure=elt("div",null,"CodeMirror-measure"),d.lineMeasure=elt("div",null,"CodeMirror-measure"),d.lineSpace=eltP("div",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,"position: relative; outline: none");var lines=eltP("div",[d.lineSpace],"CodeMirror-lines");d.mover=elt("div",[lines],null,"position: relative"),d.sizer=elt("div",[d.mover],"CodeMirror-sizer"),d.sizerWidth=null,d.heightForcer=elt("div",null,null,"position: absolute; height: "+scrollerGap+"px; width: 1px;"),d.gutters=elt("div",null,"CodeMirror-gutters"),d.lineGutter=null,d.scroller=elt("div",[d.sizer,d.heightForcer,d.gutters],"CodeMirror-scroll"),d.scroller.setAttribute("tabIndex","-1"),d.wrapper=elt("div",[d.scrollbarFiller,d.gutterFiller,d.scroller],"CodeMirror"),ie&&8>ie_version&&(d.gutters.style.zIndex=-1,d.scroller.style.paddingRight=0),webkit||gecko&&mobile||(d.scroller.draggable=!0),place&&(place.appendChild?place.appendChild(d.wrapper):place(d.wrapper)),d.viewFrom=d.viewTo=doc.first,d.reportedViewFrom=d.reportedViewTo=doc.first,d.view=[],d.renderedView=null,d.externalMeasured=null,d.viewOffset=0,d.lastWrapHeight=d.lastWrapWidth=0,d.updateLineNumbers=null,d.nativeBarWidth=d.barHeight=d.barWidth=0,d.scrollbarsClipped=!1,d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null,d.alignWidgets=!1,d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.maxLine=null,d.maxLineLength=0,d.maxLineChanged=!1,d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null,d.shift=!1,d.selForContextMenu=null,d.activeTouch=null,input.init(d)}function getLine(doc,n){if(n-=doc.first,0>n||n>=doc.size)throw new Error("There is no line "+(n+doc.first)+" in the document.");for(var chunk=doc;!chunk.lines;)for(var i=0;;++i){var child=chunk.children[i],sz=child.chunkSize();if(n<sz){chunk=child;break}n-=sz}return chunk.lines[n]}function getBetween(doc,start,end){var out=[],n=start.line;return doc.iter(start.line,end.line+1,function(line){var text=line.text;n==end.line&&(text=text.slice(0,end.ch)),n==start.line&&(text=text.slice(start.ch)),out.push(text),++n}),out}function getLines(doc,from,to){var out=[];return doc.iter(from,to,function(line){out.push(line.text)}),out}function updateLineHeight(line,height){var diff=height-line.height;if(diff)for(var n=line;n;n=n.parent)n.height+=diff}function lineNo(line){if(null==line.parent)return null;for(var cur=line.parent,no=indexOf(cur.lines,line),chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent)for(var i=0;;++i){if(chunk.children[i]==cur)break;no+=chunk.children[i].chunkSize()}return no+cur.first}function _lineAtHeight(chunk,h){var n=chunk.first;outer:do{for(var i$1=0;i$1<chunk.children.length;++i$1){var child=chunk.children[i$1],ch=child.height;if(h<ch){chunk=child;continue outer}h-=ch,n+=child.chunkSize()}return n}while(!chunk.lines);for(var i=0;i<chunk.lines.length;++i){var line=chunk.lines[i],lh=line.height;if(h<lh)break;h-=lh}return n+i}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size}function lineNumberFor(options,i){return options.lineNumberFormatter(i+options.firstLineNumber)+""}function Pos(line,ch,sticky){return void 0===sticky&&(sticky=null),this instanceof Pos?void(this.line=line,this.ch=ch,this.sticky=sticky):new Pos(line,ch,sticky)}function cmp(a,b){return a.line-b.line||a.ch-b.ch}function equalCursorPos(a,b){return a.sticky==b.sticky&&0==cmp(a,b)}function copyPos(x){return Pos(x.line,x.ch)}function maxPos(a,b){return 0>cmp(a,b)?b:a}function minPos(a,b){return 0>cmp(a,b)?a:b}function clipLine(doc,n){return _Mathmax(doc.first,_Mathmin(n,doc.first+doc.size-1))}function _clipPos(doc,pos){if(pos.line<doc.first)return Pos(doc.first,0);var last=doc.first+doc.size-1;return pos.line>last?Pos(last,getLine(doc,last).text.length):clipToLen(pos,getLine(doc,pos.line).text.length)}function clipToLen(pos,linelen){var ch=pos.ch;return null==ch||ch>linelen?Pos(pos.line,linelen):0>ch?Pos(pos.line,0):pos}function clipPosArray(doc,array){for(var out=[],i=0;i<array.length;i++)out[i]=_clipPos(doc,array[i]);return out}function seeReadOnlySpans(){sawReadOnlySpans=!0}function seeCollapsedSpans(){sawCollapsedSpans=!0}function MarkedSpan(marker,from,to){this.marker=marker,this.from=from,this.to=to}function getMarkedSpanFor(spans,marker){if(spans)for(var i=0,span;i<spans.length;++i)if(span=spans[i],span.marker==marker)return span}function removeMarkedSpan(spans,span){for(var i=0,r;i<spans.length;++i)spans[i]!=span&&(r||(r=[])).push(spans[i]);return r}function addMarkedSpan(line,span){line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span],span.marker.attachLine(line)}function markedSpansBefore(old,startCh,isInsert){var nw;if(old)for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker,startsBefore=null==span.from||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&"bookmark"==marker.type&&(!isInsert||!span.marker.insertLeft)){var endsAfter=null==span.to||(marker.inclusiveRight?span.to>=startCh:span.to>startCh);(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to))}}return nw}function markedSpansAfter(old,endCh,isInsert){var nw;if(old)for(var i=0;i<old.length;++i){var span=old[i],marker=span.marker,endsAfter=null==span.to||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&"bookmark"==marker.type&&(!isInsert||span.marker.insertLeft)){var startsBefore=null==span.from||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,null==span.to?null:span.to-endCh))}}return nw}function stretchSpansOverChange(doc,change){if(change.full)return null;var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans,oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast)return null;var startCh=change.from.ch,endCh=change.to.ch,isInsert=0==cmp(change.from,change.to),first=markedSpansBefore(oldFirst,startCh,isInsert),last=markedSpansAfter(oldLast,endCh,isInsert),sameLine=1==change.text.length,offset=lst(change.text).length+(sameLine?startCh:0);if(first)for(var i=0,span;i<first.length;++i)if(span=first[i],null==span.to){var found=getMarkedSpanFor(last,span.marker);found?sameLine&&(span.to=null==found.to?null:found.to+offset):span.to=startCh}if(last)for(var i$1=0,span$1;i$1<last.length;++i$1)if(span$1=last[i$1],null!=span$1.to&&(span$1.to+=offset),null==span$1.from){var found$1=getMarkedSpanFor(first,span$1.marker);found$1||(span$1.from=offset,sameLine&&(first||(first=[])).push(span$1))}else span$1.from+=offset,sameLine&&(first||(first=[])).push(span$1);first&&(first=clearEmptySpans(first)),last&&last!=first&&(last=clearEmptySpans(last));var newMarkers=[first];if(!sameLine){var gap=change.text.length-2,gapMarkers;if(0<gap&&first)for(var i$2=0;i$2<first.length;++i$2)null==first[i$2].to&&(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i$2].marker,null,null));for(var i$3=0;i$3<gap;++i$3)newMarkers.push(gapMarkers);newMarkers.push(last)}return newMarkers}function clearEmptySpans(spans){for(var i=0,span;i<spans.length;++i)span=spans[i],null!=span.from&&span.from==span.to&&!1!==span.marker.clearWhenEmpty&&spans.splice(i--,1);return spans.length?spans:null}function removeReadOnlyRanges(doc,from,to){var markers=null;if(doc.iter(from.line,to.line+1,function(line){if(line.markedSpans)for(var i=0,mark;i<line.markedSpans.length;++i)mark=line.markedSpans[i].marker,mark.readOnly&&(!markers||-1==indexOf(markers,mark))&&(markers||(markers=[])).push(mark)}),!markers)return null;for(var parts=[{from:from,to:to}],i=0;i<markers.length;++i)for(var mk=markers[i],m=mk.find(0),j=0,p;j<parts.length;++j)if(p=parts[j],!(0>cmp(p.to,m.from)||0<cmp(p.from,m.to))){var newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);!(0>dfrom)&&(mk.inclusiveLeft||dfrom)||newParts.push({from:p.from,to:m.from}),!(0<dto)&&(mk.inclusiveRight||dto)||newParts.push({from:m.to,to:p.to}),parts.splice.apply(parts,newParts),j+=newParts.length-3}return parts}function detachMarkedSpans(line){var spans=line.markedSpans;if(spans){for(var i=0;i<spans.length;++i)spans[i].marker.detachLine(line);line.markedSpans=null}}function attachMarkedSpans(line,spans){if(spans){for(var i=0;i<spans.length;++i)spans[i].marker.attachLine(line);line.markedSpans=spans}}function extraLeft(marker){return marker.inclusiveLeft?-1:0}function extraRight(marker){return marker.inclusiveRight?1:0}function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(0!=lenDiff)return lenDiff;var aPos=a.find(),bPos=b.find(),fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp)return-fromCmp;var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);return toCmp?toCmp:b.id-a.id}function collapsedSpanAtSide(line,start){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps)for(var sp=void 0,i=0;i<sps.length;++i)sp=sps[i],sp.marker.collapsed&&null==(start?sp.from:sp.to)&&(!found||0>compareCollapsedMarkers(found,sp.marker))&&(found=sp.marker);return found}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,!0)}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,!1)}function conflictingCollapsedRange(doc,lineNo$$1,from,to,marker){var line=getLine(doc,lineNo$$1),sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var i=0,sp;i<sps.length;++i)if(sp=sps[i],!!sp.marker.collapsed){var found=sp.marker.find(0),fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker),toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);if(!(0<=fromCmp&&0>=toCmp||0>=fromCmp&&0<=toCmp)&&(0>=fromCmp&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?0<=cmp(found.to,from):0<cmp(found.to,from))||0<=fromCmp&&(sp.marker.inclusiveRight&&marker.inclusiveLeft?0>=cmp(found.from,to):0>cmp(found.from,to))))return!0}}function visualLine(line){for(var merged;merged=collapsedSpanAtStart(line);)line=merged.find(-1,!0).line;return line}function visualLineEnd(line){for(var merged;merged=collapsedSpanAtEnd(line);)line=merged.find(1,!0).line;return line}function visualLineContinued(line){for(var merged,lines;merged=collapsedSpanAtEnd(line);)line=merged.find(1,!0).line,(lines||(lines=[])).push(line);return lines}function visualLineNo(doc,lineN){var line=getLine(doc,lineN),vis=visualLine(line);return line==vis?lineN:lineNo(vis)}function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine())return lineN;var line=getLine(doc,lineN),merged;if(!lineIsHidden(doc,line))return lineN;for(;merged=collapsedSpanAtEnd(line);)line=merged.find(1,!0).line;return lineNo(line)+1}function lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var sp=void 0,i=0;i<sps.length;++i)if(sp=sps[i],!!sp.marker.collapsed){if(null==sp.from)return!0;if(!sp.marker.widgetNode&&0==sp.from&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp))return!0}}function lineIsHiddenInner(doc,line,span){if(null==span.to){var end=span.marker.find(1,!0);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,span.marker))}if(span.marker.inclusiveRight&&span.to==line.text.length)return!0;for(var sp=void 0,i=0;i<line.markedSpans.length;++i)if(sp=line.markedSpans[i],sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(null==sp.to||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp))return!0}function _heightAtLine(lineObj){lineObj=visualLine(lineObj);for(var h=0,chunk=lineObj.parent,i=0,line;i<chunk.lines.length&&(line=chunk.lines[i],line!=lineObj);++i)h+=line.height;for(var p=chunk.parent;p;chunk=p,p=chunk.parent)for(var i$1=0,cur;i$1<p.children.length&&(cur=p.children[i$1],cur!=chunk);++i$1)h+=cur.height;return h}function lineLength(line){if(0==line.height)return 0;for(var len=line.text.length,cur=line,merged,found;merged=collapsedSpanAtStart(cur);)found=merged.find(0,!0),cur=found.from.line,len+=found.from.ch-found.to.ch;for(cur=line;merged=collapsedSpanAtEnd(cur);){var found$1=merged.find(0,!0);len-=cur.text.length-found$1.from.ch,cur=found$1.to.line,len+=cur.text.length-found$1.to.ch}return len}function findMaxLine(cm){var d=cm.display,doc=cm.doc;d.maxLine=getLine(doc,doc.first),d.maxLineLength=lineLength(d.maxLine),d.maxLineChanged=!0,doc.iter(function(line){var len=lineLength(line);len>d.maxLineLength&&(d.maxLineLength=len,d.maxLine=line)})}function iterateBidiSections(order,from,to,f){if(!order)return f(from,to,"ltr");for(var found=!1,i=0,part;i<order.length;++i)part=order[i],(part.from<to&&part.to>from||from==to&&part.to==from)&&(f(_Mathmax(part.from,from),_Mathmin(part.to,to),1==part.level?"rtl":"ltr"),found=!0);found||f(from,to,"ltr")}function getBidiPartAt(order,ch,sticky){var found;bidiOther=null;for(var i=0,cur;i<order.length;++i){if(cur=order[i],cur.from<ch&&cur.to>ch)return i;cur.to==ch&&(cur.from!=cur.to&&"before"==sticky?found=i:bidiOther=i),cur.from==ch&&(cur.from!=cur.to&&"before"!=sticky?found=i:bidiOther=i)}return null==found?bidiOther:found}function getOrder(line,direction){var order=line.order;return null==order&&(order=line.order=bidiOrdering(line.text,direction)),order}function moveCharLogically(line,ch,dir){var target=skipExtendingChars(line.text,ch+dir,dir);return 0>target||target>line.text.length?null:target}function moveLogically(line,start,dir){var ch=moveCharLogically(line,start.ch,dir);return null==ch?null:new Pos(start.line,ch,0>dir?"after":"before")}function endOfLine(visually,cm,lineObj,lineNo,dir){if(visually){var order=getOrder(lineObj,cm.doc.direction);if(order){var part=0>dir?lst(order):order[0],moveInStorageOrder=0>dir==(1==part.level),sticky=moveInStorageOrder?"after":"before",ch;if(0<part.level){var prep=prepareMeasureForLine(cm,lineObj);ch=0>dir?lineObj.text.length-1:0;var targetTop=measureCharPrepared(cm,prep,ch).top;ch=findFirst(function(ch){return measureCharPrepared(cm,prep,ch).top==targetTop},0>dir==(1==part.level)?part.from:part.to-1,ch),"before"==sticky&&(ch=moveCharLogically(lineObj,ch,1))}else ch=0>dir?part.to:part.from;return new Pos(lineNo,ch,sticky)}}return new Pos(lineNo,0>dir?lineObj.text.length:0,0>dir?"before":"after")}function moveVisually(cm,line,start,dir){var bidi=getOrder(line,cm.doc.direction);if(!bidi)return moveLogically(line,start,dir);start.ch>=line.text.length?(start.ch=line.text.length,start.sticky="before"):0>=start.ch&&(start.ch=0,start.sticky="after");var partPos=getBidiPartAt(bidi,start.ch,start.sticky),part=bidi[partPos];if("ltr"==cm.doc.direction&&0==part.level%2&&(0<dir?part.to>start.ch:part.from<start.ch))return moveLogically(line,start,dir);var mv=function(pos,dir){return moveCharLogically(line,pos instanceof Pos?pos.ch:pos,dir)},getWrappedLineExtent=function(ch){return cm.options.lineWrapping?(prep=prep||prepareMeasureForLine(cm,line),wrappedLineExtentChar(cm,line,prep,ch)):{begin:0,end:line.text.length}},wrappedLineExtent=getWrappedLineExtent("before"==start.sticky?mv(start,-1):start.ch),prep;if("rtl"==cm.doc.direction||1==part.level){var moveInStorageOrder=1==part.level==0>dir,ch=mv(start,moveInStorageOrder?1:-1);if(null!=ch&&(moveInStorageOrder?ch<=part.to&&ch<=wrappedLineExtent.end:ch>=part.from&&ch>=wrappedLineExtent.begin)){var sticky=moveInStorageOrder?"before":"after";return new Pos(start.line,ch,sticky)}}var searchInVisualLine=function(partPos,dir,wrappedLineExtent){for(var getRes=function(ch,moveInStorageOrder){return moveInStorageOrder?new Pos(start.line,mv(ch,1),"before"):new Pos(start.line,ch,"after")};0<=partPos&&partPos<bidi.length;partPos+=dir){var part=bidi[partPos],moveInStorageOrder=0<dir==(1!=part.level),ch=moveInStorageOrder?wrappedLineExtent.begin:mv(wrappedLineExtent.end,-1);if(part.from<=ch&&ch<part.to)return getRes(ch,moveInStorageOrder);if(ch=moveInStorageOrder?part.from:mv(part.to,-1),wrappedLineExtent.begin<=ch&&ch<wrappedLineExtent.end)return getRes(ch,moveInStorageOrder)}},res=searchInVisualLine(partPos+dir,dir,wrappedLineExtent);if(res)return res;var nextCh=0<dir?wrappedLineExtent.end:mv(wrappedLineExtent.begin,-1);return null!=nextCh&&!(0<dir&&nextCh==line.text.length)&&(res=searchInVisualLine(0<dir?0:bidi.length-1,dir,getWrappedLineExtent(nextCh)),res)?res:null}function getHandlers(emitter,type){return emitter._handlers&&emitter._handlers[type]||noHandlers}function off(emitter,type,f){if(emitter.removeEventListener)emitter.removeEventListener(type,f,!1);else if(emitter.detachEvent)emitter.detachEvent("on"+type,f);else{var map$$1=emitter._handlers,arr=map$$1&&map$$1[type];if(arr){var index=indexOf(arr,f);-1<index&&(map$$1[type]=arr.slice(0,index).concat(arr.slice(index+1)))}}}function signal(emitter,type){var handlers=getHandlers(emitter,type);if(handlers.length)for(var args=Array.prototype.slice.call(arguments,2),i=0;i<handlers.length;++i)handlers[i].apply(null,args)}function signalDOMEvent(cm,e,override){return"string"==typeof e&&(e={type:e,preventDefault:function preventDefault(){this.defaultPrevented=!0}}),signal(cm,override||e.type,cm,e),e_defaultPrevented(e)||e.codemirrorIgnore}function signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(arr)for(var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]),i=0;i<arr.length;++i)-1==indexOf(set,arr[i])&&set.push(arr[i])}function hasHandler(emitter,type){return 0<getHandlers(emitter,type).length}function eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f)},ctor.prototype.off=function(type,f){off(this,type,f)}}function e_preventDefault(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function e_stopPropagation(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function e_defaultPrevented(e){return null==e.defaultPrevented?!1==e.returnValue:e.defaultPrevented}function e_stop(e){e_preventDefault(e),e_stopPropagation(e)}function e_target(e){return e.target||e.srcElement}function e_button(e){var b=e.which;return null==b&&(1&e.button?b=1:2&e.button?b=3:4&e.button&&(b=2)),mac&&e.ctrlKey&&1==b&&(b=3),b}function zeroWidthElement(measure){if(null==zwspSupported){var test=elt("span","\u200B");removeChildrenAndAdd(measure,elt("span",[test,document.createTextNode("x")])),0!=measure.firstChild.offsetHeight&&(zwspSupported=1>=test.offsetWidth&&2<test.offsetHeight&&!(ie&&8>ie_version))}var node=zwspSupported?elt("span","\u200B"):elt("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return node.setAttribute("cm-text",""),node}function hasBadBidiRects(measure){if(null!=badBidiRects)return badBidiRects;var txt=removeChildrenAndAdd(measure,document.createTextNode("A\u062EA")),r0=range(txt,0,1).getBoundingClientRect(),r1=range(txt,1,2).getBoundingClientRect();return removeChildren(measure),!!(r0&&r0.left!=r0.right)&&(badBidiRects=3>r1.right-r0.right)}function hasBadZoomedRects(measure){if(null!=badZoomedRects)return badZoomedRects;var node=removeChildrenAndAdd(measure,elt("span","x")),normal=node.getBoundingClientRect(),fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=1<_Mathabs2(normal.left-fromRange.left)}function defineMode(name,mode){2<arguments.length&&(mode.dependencies=Array.prototype.slice.call(arguments,2)),modes[name]=mode}function resolveMode(spec){if("string"==typeof spec&&mimeModes.hasOwnProperty(spec))spec=mimeModes[spec];else if(spec&&"string"==typeof spec.name&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];"string"==typeof found&&(found={name:found}),spec=createObj(found,spec),spec.name=found.name}else{if("string"==typeof spec&&/^[\w\-]+\/[\w\-]+\+xml$/.test(spec))return resolveMode("application/xml");if("string"==typeof spec&&/^[\w\-]+\/[\w\-]+\+json$/.test(spec))return resolveMode("application/json")}return"string"==typeof spec?{name:spec}:spec||{name:"null"}}function getMode(options,spec){spec=resolveMode(spec);var mfactory=modes[spec.name];if(!mfactory)return getMode(options,"text/plain");var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];for(var prop in exts)exts.hasOwnProperty(prop)&&(modeObj.hasOwnProperty(prop)&&(modeObj["_"+prop]=modeObj[prop]),modeObj[prop]=exts[prop])}if(modeObj.name=spec.name,spec.helperType&&(modeObj.helperType=spec.helperType),spec.modeProps)for(var prop$1 in spec.modeProps)modeObj[prop$1]=spec.modeProps[prop$1];return modeObj}function extendMode(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]={};copyObj(properties,exts)}function copyState(mode,state){if(!0===state)return state;if(mode.copyState)return mode.copyState(state);var nstate={};for(var n in state){var val=state[n];val instanceof Array&&(val=val.concat([])),nstate[n]=val}return nstate}function innerMode(mode,state){for(var info;mode.innerMode&&(info=mode.innerMode(state),info&&info.mode!=mode);)state=info.state,mode=info.mode;return info||{mode:mode,state:state}}function startState(mode,a1,a2){return!mode.startState||mode.startState(a1,a2)}function highlightLine(cm,line,context,forceToEnd){var st=[cm.state.modeGen],lineClasses={};runMode(cm,line.text,cm.doc.mode,context,function(end,style){return st.push(end,style)},lineClasses,forceToEnd);for(var state=context.state,loop=function(o){var overlay=cm.state.overlays[o],i=1,at=0;context.state=!0,runMode(cm,line.text,overlay.mode,context,function(end,style){for(var start=i,i_end;at<end;)i_end=st[i],i_end>end&&st.splice(i,1,end,st[i+1],i_end),i+=2,at=_Mathmin(end,i_end);if(style)if(overlay.opaque)st.splice(start,i-start,end,"overlay "+style),i=start+2;else for(;start<i;start+=2){var cur=st[start+1];st[start+1]=(cur?cur+" ":"")+"overlay "+style}},lineClasses)},o=0;o<cm.state.overlays.length;++o)loop(o);return context.state=state,{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null}}function getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var context=getContextBefore(cm,lineNo(line)),resetState=line.text.length>cm.options.maxHighlightLength&&copyState(cm.doc.mode,context.state),result=highlightLine(cm,line,context);resetState&&(context.state=resetState),line.stateAfter=context.save(!resetState),line.styles=result.styles,result.classes?line.styleClasses=result.classes:line.styleClasses&&(line.styleClasses=null),updateFrontier===cm.doc.highlightFrontier&&(cm.doc.modeFrontier=_Mathmax(cm.doc.modeFrontier,++cm.doc.highlightFrontier))}return line.styles}function getContextBefore(cm,n,precise){var doc=cm.doc,display=cm.display;if(!doc.mode.startState)return new Context(doc,!0,n);var start=findStartLine(cm,n,precise),saved=start>doc.first&&getLine(doc,start-1).stateAfter,context=saved?Context.fromSaved(doc,saved,start):new Context(doc,startState(doc.mode),start);return doc.iter(start,n,function(line){processLine(cm,line.text,context);var pos=context.line;line.stateAfter=pos==n-1||0==pos%5||pos>=display.viewFrom&&pos<display.viewTo?context.save():null,context.nextLine()}),precise&&(doc.modeFrontier=context.line),context}function processLine(cm,text,context,startAt){var mode=cm.doc.mode,stream=new StringStream(text,cm.options.tabSize,context);for(stream.start=stream.pos=startAt||0,""==text&&callBlankLine(mode,context.state);!stream.eol();)readToken(mode,stream,context.state),stream.start=stream.pos}function callBlankLine(mode,state){if(mode.blankLine)return mode.blankLine(state);if(mode.innerMode){var inner=innerMode(mode,state);if(inner.mode.blankLine)return inner.mode.blankLine(inner.state)}}function readToken(mode,stream,state,inner){for(var i=0;10>i;i++){inner&&(inner[0]=innerMode(mode,state).mode);var style=mode.token(stream,state);if(stream.pos>stream.start)return style}throw new Error("Mode "+mode.name+" failed to advance stream.")}function takeToken(cm,pos,precise,asArray){var doc=cm.doc,mode=doc.mode,style;pos=_clipPos(doc,pos);var line=getLine(doc,pos.line),context=getContextBefore(cm,pos.line,precise),stream=new StringStream(line.text,cm.options.tabSize,context),tokens;for(asArray&&(tokens=[]);(asArray||stream.pos<pos.ch)&&!stream.eol();)stream.start=stream.pos,style=readToken(mode,stream,context.state),asArray&&tokens.push(new Token(stream,style,copyState(doc.mode,context.state)));return asArray?tokens:new Token(stream,style,context.state)}function extractLineClasses(type,output){if(type)for(;;){var lineClass=type.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!lineClass)break;type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?"bgClass":"textClass";null==output[prop]?output[prop]=lineClass[2]:!new RegExp("(?:^|s)"+lineClass[2]+"(?:$|s)").test(output[prop])&&(output[prop]+=" "+lineClass[2])}return type}function runMode(cm,text,mode,context,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;null==flattenSpans&&(flattenSpans=cm.options.flattenSpans);var curStart=0,curStyle=null,stream=new StringStream(text,cm.options.tabSize,context),inner=cm.options.addModeClass&&[null],style;for(""==text&&extractLineClasses(callBlankLine(mode,context.state),lineClasses);!stream.eol();){if(stream.pos>cm.options.maxHighlightLength?(flattenSpans=!1,forceToEnd&&processLine(cm,text,context,stream.pos),stream.pos=text.length,style=null):style=extractLineClasses(readToken(mode,stream,context.state,inner),lineClasses),inner){var mName=inner[0].name;mName&&(style="m-"+(style?mName+" "+style:mName))}if(!flattenSpans||curStyle!=style){for(;curStart<stream.start;)curStart=_Mathmin(stream.start,curStart+5e3),f(curStart,curStyle);curStyle=style}stream.start=stream.pos}for(;curStart<stream.pos;){var pos=_Mathmin(stream.pos,curStart+5e3);f(pos,curStyle),curStart=pos}}function findStartLine(cm,n,precise){for(var doc=cm.doc,lim=precise?-1:n-(cm.doc.mode.innerMode?1e3:100),search=n,minindent,minline;search>lim;--search){if(search<=doc.first)return doc.first;var line=getLine(doc,search-1),after=line.stateAfter;if(after&&(!precise||search+(after instanceof SavedContext?after.lookAhead:0)<=doc.modeFrontier))return search;var indented=countColumn(line.text,null,cm.options.tabSize);(null==minline||minindent>indented)&&(minline=search-1,minindent=indented)}return minline}function retreatFrontier(doc,n){if(doc.modeFrontier=_Mathmin(doc.modeFrontier,n),!(doc.highlightFrontier<n-10)){for(var start=doc.first,line=n-1,saved;line>start;line--)if(saved=getLine(doc,line).stateAfter,saved&&(!(saved instanceof SavedContext)||line+saved.lookAhead<n)){start=line+1;break}doc.highlightFrontier=_Mathmin(doc.highlightFrontier,start)}}function updateLine(line,text,markedSpans,estimateHeight){line.text=text,line.stateAfter&&(line.stateAfter=null),line.styles&&(line.styles=null),null!=line.order&&(line.order=null),detachMarkedSpans(line),attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;estHeight!=line.height&&updateLineHeight(line,estHeight)}function cleanUpLine(line){line.parent=null,detachMarkedSpans(line)}function interpretTokenStyle(style,options){if(!style||/^\s*$/.test(style))return null;var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=style.replace(/\S+/g,"cm-$&"))}function buildLineContent(cm,lineView){var content=eltP("span",null,null,webkit?"padding-right: .1px":null),builder={pre:eltP("pre",[content],"CodeMirror-line"),content:content,col:0,pos:0,cm:cm,trailingSpace:!1,splitSpaces:(ie||webkit)&&cm.getOption("lineWrapping")};lineView.measure={};for(var i=0;i<=(lineView.rest?lineView.rest.length:0);i++){var line=i?lineView.rest[i-1]:lineView.line,order=void 0;builder.pos=0,builder.addToken=buildToken,hasBadBidiRects(cm.display.measure)&&(order=getOrder(line,cm.doc.direction))&&(builder.addToken=buildTokenBadBidi(builder.addToken,order)),builder.map=[];var allowFrontierUpdate=lineView!=cm.display.externalMeasured&&lineNo(line);insertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate)),line.styleClasses&&(line.styleClasses.bgClass&&(builder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||"")),line.styleClasses.textClass&&(builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||""))),0==builder.map.length&&builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure))),0==i?(lineView.measure.map=builder.map,lineView.measure.cache={}):((lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map),(lineView.measure.caches||(lineView.measure.caches=[])).push({}))}if(webkit){var last=builder.content.lastChild;(/\bcm-tab\b/.test(last.className)||last.querySelector&&last.querySelector(".cm-tab"))&&(builder.content.className="cm-tab-wrap-hack")}return signal(cm,"renderLine",cm,lineView.line,builder.pre),builder.pre.className&&(builder.textClass=joinClasses(builder.pre.className,builder.textClass||"")),builder}function defaultSpecialCharPlaceholder(ch){var token=elt("span","\u2022","cm-invalidchar");return token.title="\\u"+ch.charCodeAt(0).toString(16),token.setAttribute("aria-label",token.title),token}function buildToken(builder,text,style,startStyle,endStyle,title,css){if(text){var displayText=builder.splitSpaces?splitSpaces(text,builder.trailingSpace):text,special=builder.cm.state.specialChars,mustWrap=!1,content;if(!special.test(text))builder.col+=text.length,content=document.createTextNode(displayText),builder.map.push(builder.pos,builder.pos+text.length,content),ie&&9>ie_version&&(mustWrap=!0),builder.pos+=text.length;else{content=document.createDocumentFragment();for(var pos=0;;){special.lastIndex=pos;var m=special.exec(text),skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(displayText.slice(pos,pos+skipped));ie&&9>ie_version?content.appendChild(elt("span",[txt])):content.appendChild(txt),builder.map.push(builder.pos,builder.pos+skipped,txt),builder.col+=skipped,builder.pos+=skipped}if(!m)break;pos+=skipped+1;var txt$1=void 0;if("\t"==m[0]){var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize;txt$1=content.appendChild(elt("span",spaceStr(tabWidth),"cm-tab")),txt$1.setAttribute("role","presentation"),txt$1.setAttribute("cm-text","\t"),builder.col+=tabWidth}else"\r"==m[0]||"\n"==m[0]?(txt$1=content.appendChild(elt("span","\r"==m[0]?"\u240D":"\u2424","cm-invalidchar")),txt$1.setAttribute("cm-text",m[0]),builder.col+=1):(txt$1=builder.cm.options.specialCharPlaceholder(m[0]),txt$1.setAttribute("cm-text",m[0]),ie&&9>ie_version?content.appendChild(elt("span",[txt$1])):content.appendChild(txt$1),builder.col+=1);builder.map.push(builder.pos,builder.pos+1,txt$1),builder.pos++}}if(builder.trailingSpace=32==displayText.charCodeAt(text.length-1),style||startStyle||endStyle||mustWrap||css){var fullStyle=style||"";startStyle&&(fullStyle+=startStyle),endStyle&&(fullStyle+=endStyle);var token=elt("span",[content],fullStyle,css);return title&&(token.title=title),builder.content.appendChild(token)}builder.content.appendChild(content)}}function splitSpaces(text,trailingBefore){if(1<text.length&&!/  /.test(text))return text;for(var spaceBefore=trailingBefore,result="",i=0,ch;i<text.length;i++)ch=text.charAt(i)," "==ch&&spaceBefore&&(i==text.length-1||32==text.charCodeAt(i+1))&&(ch="\xA0"),result+=ch,spaceBefore=" "==ch;return result}function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,title,css){style=style?style+" cm-force-border":"cm-force-border";for(var start=builder.pos,end=start+text.length;;){for(var part=void 0,i=0;i<order.length&&(part=order[i],!(part.to>start&&part.from<=start));i++);if(part.to>=end)return inner(builder,text,style,startStyle,endStyle,title,css);inner(builder,text.slice(0,part.to-start),style,startStyle,null,title,css),startStyle=null,text=text.slice(part.to-start),start=part.to}}}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;widget&&builder.map.push(builder.pos,builder.pos+size,widget),!ignoreWidget&&builder.cm.display.input.needsContentAttribute&&(!widget&&(widget=builder.content.appendChild(document.createElement("span"))),widget.setAttribute("cm-marker",marker.id)),widget&&(builder.cm.display.input.setUneditable(widget),builder.content.appendChild(widget)),builder.pos+=size,builder.trailingSpace=!1}function insertLineContent(line,builder,styles){var spans=line.markedSpans,allText=line.text,at=0;if(!spans){for(var i$1=1;i$1<styles.length;i$1+=2)builder.addToken(builder,allText.slice(at,at=styles[i$1]),interpretTokenStyle(styles[i$1+1],builder.cm.options));return}for(var len=allText.length,pos=0,i=1,text="",nextChange=0,style,css,spanStyle,spanEndStyle,spanStartStyle,title,collapsed;;){if(nextChange==pos){spanStyle=spanEndStyle=spanStartStyle=title=css="",collapsed=null,nextChange=Infinity;for(var foundBookmarks=[],endStyles=void 0,j=0;j<spans.length;++j){var sp=spans[j],m=sp.marker;"bookmark"==m.type&&sp.from==pos&&m.widgetNode?foundBookmarks.push(m):sp.from<=pos&&(null==sp.to||sp.to>pos||m.collapsed&&sp.to==pos&&sp.from==pos)?(null!=sp.to&&sp.to!=pos&&nextChange>sp.to&&(nextChange=sp.to,spanEndStyle=""),m.className&&(spanStyle+=" "+m.className),m.css&&(css=(css?css+";":"")+m.css),m.startStyle&&sp.from==pos&&(spanStartStyle+=" "+m.startStyle),m.endStyle&&sp.to==nextChange&&(endStyles||(endStyles=[])).push(m.endStyle,sp.to),m.title&&!title&&(title=m.title),m.collapsed&&(!collapsed||0>compareCollapsedMarkers(collapsed.marker,m))&&(collapsed=sp)):sp.from>pos&&nextChange>sp.from&&(nextChange=sp.from)}if(endStyles)for(var j$1=0;j$1<endStyles.length;j$1+=2)endStyles[j$1+1]==nextChange&&(spanEndStyle+=" "+endStyles[j$1]);if(!collapsed||collapsed.from==pos)for(var j$2=0;j$2<foundBookmarks.length;++j$2)buildCollapsedSpan(builder,0,foundBookmarks[j$2]);if(collapsed&&(collapsed.from||0)==pos){if(buildCollapsedSpan(builder,(null==collapsed.to?len+1:collapsed.to)-pos,collapsed.marker,null==collapsed.from),null==collapsed.to)return;collapsed.to==pos&&(collapsed=!1)}}if(pos>=len)break;for(var upto=_Mathmin(len,nextChange);;){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:"",title,css)}if(end>=upto){text=text.slice(upto-pos),pos=upto;break}pos=end,spanStartStyle=""}text=allText.slice(at,at=styles[i++]),style=interpretTokenStyle(styles[i++],builder.cm.options)}}}function LineView(doc,line,lineN){this.line=line,this.rest=visualLineContinued(line),this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1,this.node=this.text=null,this.hidden=lineIsHidden(doc,line)}function buildViewArray(cm,from,to){for(var array=[],pos=from,nextPos,view;pos<to;pos=nextPos)view=new LineView(cm.doc,getLine(cm.doc,pos),pos),nextPos=pos+view.size,array.push(view);return array}function pushOperation(op){operationGroup?operationGroup.ops.push(op):op.ownsGroup=operationGroup={ops:[op],delayedCallbacks:[]}}function fireCallbacksForOps(group){var callbacks=group.delayedCallbacks,i=0;do{for(;i<callbacks.length;i++)callbacks[i].call(null);for(var j=0,op;j<group.ops.length;j++)if(op=group.ops[j],op.cursorActivityHandlers)for(;op.cursorActivityCalled<op.cursorActivityHandlers.length;)op.cursorActivityHandlers[op.cursorActivityCalled++].call(null,op.cm)}while(i<callbacks.length)}function finishOperation(op,endCb){var group=op.ownsGroup;if(group)try{fireCallbacksForOps(group)}finally{operationGroup=null,endCb(group)}}function signalLater(emitter,type){var arr=getHandlers(emitter,type);if(arr.length){var args=Array.prototype.slice.call(arguments,2),list;operationGroup?list=operationGroup.delayedCallbacks:orphanDelayedCallbacks?list=orphanDelayedCallbacks:(list=orphanDelayedCallbacks=[],setTimeout(fireOrphanDelayed,0));for(var loop=function(i){list.push(function(){return arr[i].apply(null,args)})},i=0;i<arr.length;++i)loop(i)}}function fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;orphanDelayedCallbacks=null;for(var i=0;i<delayed.length;++i)delayed[i]()}function updateLineForChanges(cm,lineView,lineN,dims){for(var j=0,type;j<lineView.changes.length;j++)type=lineView.changes[j],"text"==type?updateLineText(cm,lineView):"gutter"==type?updateLineGutter(cm,lineView,lineN,dims):"class"==type?updateLineClasses(cm,lineView):"widget"==type&&updateLineWidgets(cm,lineView,dims);lineView.changes=null}function ensureLineWrapped(lineView){return lineView.node==lineView.text&&(lineView.node=elt("div",null,null,"position: relative"),lineView.text.parentNode&&lineView.text.parentNode.replaceChild(lineView.node,lineView.text),lineView.node.appendChild(lineView.text),ie&&8>ie_version&&(lineView.node.style.zIndex=2)),lineView.node}function updateLineBackground(cm,lineView){var cls=lineView.bgClass?lineView.bgClass+" "+(lineView.line.bgClass||""):lineView.line.bgClass;if(cls&&(cls+=" CodeMirror-linebackground"),lineView.background)cls?lineView.background.className=cls:(lineView.background.parentNode.removeChild(lineView.background),lineView.background=null);else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt("div",null,cls),wrap.firstChild),cm.display.input.setUneditable(lineView.background)}}function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;return ext&&ext.line==lineView.line?(cm.display.externalMeasured=null,lineView.measure=ext.measure,ext.built):buildLineContent(cm,lineView)}function updateLineText(cm,lineView){var cls=lineView.text.className,built=getLineContent(cm,lineView);lineView.text==lineView.node&&(lineView.node=built.pre),lineView.text.parentNode.replaceChild(built.pre,lineView.text),lineView.text=built.pre,built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass?(lineView.bgClass=built.bgClass,lineView.textClass=built.textClass,updateLineClasses(cm,lineView)):cls&&(lineView.text.className=cls)}function updateLineClasses(cm,lineView){updateLineBackground(cm,lineView),lineView.line.wrapClass?ensureLineWrapped(lineView).className=lineView.line.wrapClass:lineView.node!=lineView.text&&(lineView.node.className="");var textClass=lineView.textClass?lineView.textClass+" "+(lineView.line.textClass||""):lineView.line.textClass;lineView.text.className=textClass||""}function updateLineGutter(cm,lineView,lineN,dims){if(lineView.gutter&&(lineView.node.removeChild(lineView.gutter),lineView.gutter=null),lineView.gutterBackground&&(lineView.node.removeChild(lineView.gutterBackground),lineView.gutterBackground=null),lineView.line.gutterClass){var wrap=ensureLineWrapped(lineView);lineView.gutterBackground=elt("div",null,"CodeMirror-gutter-background "+lineView.line.gutterClass,"left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px; width: "+dims.gutterTotalWidth+"px"),cm.display.input.setUneditable(lineView.gutterBackground),wrap.insertBefore(lineView.gutterBackground,lineView.text)}var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap$1=ensureLineWrapped(lineView),gutterWrap=lineView.gutter=elt("div",null,"CodeMirror-gutter-wrapper","left: "+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+"px");if(cm.display.input.setUneditable(gutterWrap),wrap$1.insertBefore(gutterWrap,lineView.text),lineView.line.gutterClass&&(gutterWrap.className+=" "+lineView.line.gutterClass),!cm.options.lineNumbers||markers&&markers["CodeMirror-linenumbers"]||(lineView.lineNumber=gutterWrap.appendChild(elt("div",lineNumberFor(cm.options,lineN),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+dims.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+cm.display.lineNumInnerWidth+"px"))),markers)for(var k=0;k<cm.options.gutters.length;++k){var id=cm.options.gutters[k],found=markers.hasOwnProperty(id)&&markers[id];found&&gutterWrap.appendChild(elt("div",[found],"CodeMirror-gutter-elt","left: "+dims.gutterLeft[id]+"px; width: "+dims.gutterWidth[id]+"px"))}}}function updateLineWidgets(cm,lineView,dims){lineView.alignable&&(lineView.alignable=null);for(var node=lineView.node.firstChild,next=void 0;node;node=next)next=node.nextSibling,"CodeMirror-linewidget"==node.className&&lineView.node.removeChild(node);insertLineWidgets(cm,lineView,dims)}function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);return lineView.text=lineView.node=built.pre,built.bgClass&&(lineView.bgClass=built.bgClass),built.textClass&&(lineView.textClass=built.textClass),updateLineClasses(cm,lineView),updateLineGutter(cm,lineView,lineN,dims),insertLineWidgets(cm,lineView,dims),lineView.node}function insertLineWidgets(cm,lineView,dims){if(insertLineWidgetsFor(cm,lineView.line,lineView,dims,!0),lineView.rest)for(var i=0;i<lineView.rest.length;i++)insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,!1)}function insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(line.widgets)for(var wrap=ensureLineWrapped(lineView),i=0,ws=line.widgets;i<ws.length;++i){var widget=ws[i],node=elt("div",[widget.node],"CodeMirror-linewidget");widget.handleMouseEvents||node.setAttribute("cm-ignore-events","true"),positionLineWidget(widget,node,lineView,dims),cm.display.input.setUneditable(node),allowAbove&&widget.above?wrap.insertBefore(node,lineView.gutter||lineView.text):wrap.appendChild(node),signalLater(widget,"redraw")}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+"px",widget.coverGutter||(width-=dims.gutterTotalWidth,node.style.paddingLeft=dims.gutterTotalWidth+"px"),node.style.width=width+"px"}widget.coverGutter&&(node.style.zIndex=5,node.style.position="relative",!widget.noHScroll&&(node.style.marginLeft=-dims.gutterTotalWidth+"px"))}function widgetHeight(widget){if(null!=widget.height)return widget.height;var cm=widget.doc.cm;if(!cm)return 0;if(!contains(document.body,widget.node)){var parentStyle="position: relative;";widget.coverGutter&&(parentStyle+="margin-left: -"+cm.display.gutters.offsetWidth+"px;"),widget.noHScroll&&(parentStyle+="width: "+cm.display.wrapper.clientWidth+"px;"),removeChildrenAndAdd(cm.display.measure,elt("div",[widget.node],null,parentStyle))}return widget.height=widget.node.parentNode.offsetHeight}function eventInWidget(display,e){for(var n=e_target(e);n!=display.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==display.sizer&&n!=display.mover)return!0}function paddingTop(display){return display.lineSpace.offsetTop}function paddingVert(display){return display.mover.offsetHeight-display.lineSpace.offsetHeight}function paddingH(display){if(display.cachedPaddingH)return display.cachedPaddingH;var e=removeChildrenAndAdd(display.measure,elt("pre","x")),style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};return isNaN(data.left)||isNaN(data.right)||(display.cachedPaddingH=data),data}function scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth}function displayWidth(cm){return cm.display.scroller.clientWidth-scrollGap(cm)-cm.display.barWidth}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight}function ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping,curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;for(var rects=lineView.text.firstChild.getClientRects(),i=0;i<rects.length-1;i++){var cur=rects[i],next=rects[i+1];2<_Mathabs2(cur.bottom-next.bottom)&&heights.push((cur.bottom+next.top)/2-rect.top)}}heights.push(rect.bottom-rect.top)}}function mapFromLineView(lineView,line,lineN){if(lineView.line==line)return{map:lineView.measure.map,cache:lineView.measure.cache};for(var i=0;i<lineView.rest.length;i++)if(lineView.rest[i]==line)return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]};for(var i$1=0;i$1<lineView.rest.length;i$1++)if(lineNo(lineView.rest[i$1])>lineN)return{map:lineView.measure.maps[i$1],cache:lineView.measure.caches[i$1],before:!0}}function updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line),view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);return view.text=built.pre,removeChildrenAndAdd(cm.display.lineMeasure,built.pre),view}function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),ch,bias)}function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo)return cm.display.view[findViewIndex(cm,lineN)];var ext=cm.display.externalMeasured;if(ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size)return ext}function prepareMeasureForLine(cm,line){var lineN=lineNo(line),view=findViewForLine(cm,lineN);view&&!view.text?view=null:view&&view.changes&&(updateLineForChanges(cm,view,lineN,getDimensions(cm)),cm.curOp.forceUpdate=!0),view||(view=updateExternalMeasurement(cm,line));var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:!1}}function measureCharPrepared(cm,prepared,ch,bias,varHeight){prepared.before&&(ch=-1);var key=ch+(bias||""),found;return prepared.cache.hasOwnProperty(key)?found=prepared.cache[key]:(!prepared.rect&&(prepared.rect=prepared.view.text.getBoundingClientRect()),!prepared.hasHeights&&(ensureLineHeights(cm,prepared.view,prepared.rect),prepared.hasHeights=!0),found=measureCharInner(cm,prepared,ch,bias),!found.bogus&&(prepared.cache[key]=found)),{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom}}function nodeAndOffsetInLineMap(map$$1,ch,bias){for(var i=0,node,start,end,collapse,mStart,mEnd;i<map$$1.length;i+=3)if(mStart=map$$1[i],mEnd=map$$1[i+1],ch<mStart?(start=0,end=1,collapse="left"):ch<mEnd?(start=ch-mStart,end=start+1):(i==map$$1.length-3||ch==mEnd&&map$$1[i+3]>ch)&&(end=mEnd-mStart,start=end-1,ch>=mEnd&&(collapse="right")),null!=start){if(node=map$$1[i+2],mStart==mEnd&&bias==(node.insertLeft?"left":"right")&&(collapse=bias),"left"==bias&&0==start)for(;i&&map$$1[i-2]==map$$1[i-3]&&map$$1[i-1].insertLeft;)node=map$$1[(i-=3)+2],collapse="left";if("right"==bias&&start==mEnd-mStart)for(;i<map$$1.length-3&&map$$1[i+3]==map$$1[i+4]&&!map$$1[i+5].insertLeft;)node=map$$1[(i+=3)+2],collapse="right";break}return{node:node,start:start,end:end,collapse:collapse,coverStart:mStart,coverEnd:mEnd}}function getUsefulRect(rects,bias){var rect=nullRect;if("left"==bias)for(var i=0;i<rects.length&&(rect=rects[i]).left==rect.right;i++);else for(var i$1=rects.length-1;0<=i$1&&(rect=rects[i$1]).left==rect.right;i$1--);return rect}function measureCharInner(cm,prepared,ch,bias){var place=nodeAndOffsetInLineMap(prepared.map,ch,bias),node=place.node,start=place.start,end=place.end,collapse=place.collapse,rect;if(3==node.nodeType){for(var i$1=0;4>i$1;i$1++){for(;start&&isExtendingChar(prepared.line.text.charAt(place.coverStart+start));)--start;for(;place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end));)++end;if(rect=ie&&9>ie_version&&0==start&&end==place.coverEnd-place.coverStart?node.parentNode.getBoundingClientRect():getUsefulRect(range(node,start,end).getClientRects(),bias),rect.left||rect.right||0==start)break;end=start,--start,collapse="right"}ie&&11>ie_version&&(rect=maybeUpdateRectForZooming(cm.display.measure,rect))}else{0<start&&(collapse=bias="right");var rects;rect=cm.options.lineWrapping&&1<(rects=node.getClientRects()).length?rects["right"==bias?rects.length-1:0]:node.getBoundingClientRect()}if(ie&&9>ie_version&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];rect=rSpan?{left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom}:nullRect}for(var rtop=rect.top-prepared.rect.top,rbot=rect.bottom-prepared.rect.top,heights=prepared.view.measure.heights,i=0;i<heights.length-1&&!((rtop+rbot)/2<heights[i]);i++);var top=i?heights[i-1]:0,bot=heights[i],result={left:("right"==collapse?rect.right:rect.left)-prepared.rect.left,right:("left"==collapse?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};return rect.left||rect.right||(result.bogus=!0),cm.options.singleCursorHeightPerLine||(result.rtop=rtop,result.rbottom=rbot),result}function maybeUpdateRectForZooming(measure,rect){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure))return rect;var scaleX=screen.logicalXDPI/screen.deviceXDPI,scaleY=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY}}function clearLineMeasurementCacheFor(lineView){if(lineView.measure&&(lineView.measure.cache={},lineView.measure.heights=null,lineView.rest))for(var i=0;i<lineView.rest.length;i++)lineView.measure.caches[i]={}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null,removeChildren(cm.display.lineMeasure);for(var i=0;i<cm.display.view.length;i++)clearLineMeasurementCacheFor(cm.display.view[i])}function clearCaches(cm){clearLineMeasurementCache(cm),cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null,cm.options.lineWrapping||(cm.display.maxLineChanged=!0),cm.display.lineNumChars=null}function pageScrollX(){return chrome&&android?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pageScrollY(){return chrome&&android?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function intoCoordSystem(cm,lineObj,rect,context,includeWidgets){if(!includeWidgets&&lineObj.widgets)for(var i=0;i<lineObj.widgets.length;++i)if(lineObj.widgets[i].above){var size=widgetHeight(lineObj.widgets[i]);rect.top+=size,rect.bottom+=size}if("line"==context)return rect;context||(context="local");var yOff=_heightAtLine(lineObj);if("local"==context?yOff+=paddingTop(cm.display):yOff-=cm.display.viewOffset,"page"==context||"window"==context){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff+=lOff.top+("window"==context?0:pageScrollY());var xOff=lOff.left+("window"==context?0:pageScrollX());rect.left+=xOff,rect.right+=xOff}return rect.top+=yOff,rect.bottom+=yOff,rect}function fromCoordSystem(cm,coords,context){if("div"==context)return coords;var left=coords.left,top=coords.top;if("page"==context)left-=pageScrollX(),top-=pageScrollY();else if("local"==context||!context){var localBox=cm.display.sizer.getBoundingClientRect();left+=localBox.left,top+=localBox.top}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();return{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top}}function _charCoords(cm,pos,context,lineObj,bias){return lineObj||(lineObj=getLine(cm.doc,pos.line)),intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context)}function _cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?"right":"left",varHeight);return right?m.left=m.right:m.right=m.left,intoCoordSystem(cm,lineObj,m,context)}function getBidi(ch,partPos,invert){var part=order[partPos],right=0!=part.level%2;return get(invert?ch-1:ch,right!=invert)}lineObj=lineObj||getLine(cm.doc,pos.line),preparedMeasure||(preparedMeasure=prepareMeasureForLine(cm,lineObj));var order=getOrder(lineObj,cm.doc.direction),ch=pos.ch,sticky=pos.sticky;if(ch>=lineObj.text.length?(ch=lineObj.text.length,sticky="before"):0>=ch&&(ch=0,sticky="after"),!order)return get("before"==sticky?ch-1:ch,"before"==sticky);var partPos=getBidiPartAt(order,ch,sticky),other=bidiOther,val=getBidi(ch,partPos,"before"==sticky);return null!=other&&(val.other=getBidi(ch,other,"before"!=sticky)),val}function estimateCoords(cm,pos){var left=0;pos=_clipPos(cm.doc,pos),cm.options.lineWrapping||(left=charWidth(cm.display)*pos.ch);var lineObj=getLine(cm.doc,pos.line),top=_heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height}}function PosWithInfo(line,ch,sticky,outside,xRel){var pos=Pos(line,ch,sticky);return pos.xRel=xRel,outside&&(pos.outside=!0),pos}function _coordsChar(cm,x,y){var doc=cm.doc;if(y+=cm.display.viewOffset,0>y)return PosWithInfo(doc.first,0,null,!0,-1);var lineN=_lineAtHeight(doc,y),last=doc.first+doc.size-1;if(lineN>last)return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,null,!0,1);0>x&&(x=0);for(var lineObj=getLine(doc,lineN);;){var found=coordsCharInner(cm,lineObj,lineN,x,y),merged=collapsedSpanAtEnd(lineObj),mergedPos=merged&&merged.find(0,!0);if(merged&&(found.ch>mergedPos.from.ch||found.ch==mergedPos.from.ch&&0<found.xRel))lineN=lineNo(lineObj=mergedPos.to.line);else return found}}function wrappedLineExtent(cm,lineObj,preparedMeasure,y){var measure=function(ch){return intoCoordSystem(cm,lineObj,measureCharPrepared(cm,preparedMeasure,ch),"line")},end=lineObj.text.length,begin=findFirst(function(ch){return measure(ch-1).bottom<=y},end,0);return end=findFirst(function(ch){return measure(ch).top>y},begin,end),{begin:begin,end:end}}function wrappedLineExtentChar(cm,lineObj,preparedMeasure,target){var targetTop=intoCoordSystem(cm,lineObj,measureCharPrepared(cm,preparedMeasure,target),"line").top;return wrappedLineExtent(cm,lineObj,preparedMeasure,targetTop)}function coordsCharInner(cm,lineObj,lineNo$$1,x,y){y-=_heightAtLine(lineObj);var begin=0,end=lineObj.text.length,preparedMeasure=prepareMeasureForLine(cm,lineObj),order=getOrder(lineObj,cm.doc.direction),pos;if(order){if(cm.options.lineWrapping){var assign;assign=wrappedLineExtent(cm,lineObj,preparedMeasure,y),begin=assign.begin,end=assign.end,assign}pos=new Pos(lineNo$$1,_Mathfloor(begin+(end-begin)/2));var beginLeft=_cursorCoords(cm,pos,"line",lineObj,preparedMeasure).left,dir=beginLeft<x?1:-1,diff=beginLeft-x,steps=_Mathceil((end-begin)/4),prevDiff,prevPos;outer:do{prevDiff=diff,prevPos=pos;for(var i=0,prevPos$1;i<steps;++i)if(prevPos$1=pos,pos=moveVisually(cm,lineObj,pos,dir),null==pos||pos.ch<begin||end<=("before"==pos.sticky?pos.ch-1:pos.ch)){pos=prevPos$1;break outer}if(diff=_cursorCoords(cm,pos,"line",lineObj,preparedMeasure).left-x,1<steps){var diff_change_per_step=_Mathabs2(diff-prevDiff)/steps;steps=_Mathmin(steps,_Mathceil(_Mathabs2(diff)/diff_change_per_step)),dir=0>diff?1:-1}}while(0!=diff&&(1<steps||0>dir!=0>diff&&_Mathabs2(diff)<=_Mathabs2(prevDiff)));if(_Mathabs2(diff)>_Mathabs2(prevDiff)){if(0>diff==0>prevDiff)throw new Error("Broke out of infinite loop in coordsCharInner");pos=prevPos}}else{var ch=findFirst(function(ch){var box=intoCoordSystem(cm,lineObj,measureCharPrepared(cm,preparedMeasure,ch),"line");return box.top>y?(end=_Mathmin(ch,end),!0):!(box.bottom<=y)&&(!!(box.left>x)||!(box.right<x)&&x-box.left<box.right-x)},begin,end);ch=skipExtendingChars(lineObj.text,ch,1),pos=new Pos(lineNo$$1,ch,ch==end?"before":"after")}var coords=_cursorCoords(cm,pos,"line",lineObj,preparedMeasure);return(y<coords.top||coords.bottom<y)&&(pos.outside=!0),pos.xRel=x<coords.left?-1:x>coords.right?1:0,pos}function textHeight(display){if(null!=display.cachedTextHeight)return display.cachedTextHeight;if(null==measureText){measureText=elt("pre");for(var i=0;49>i;++i)measureText.appendChild(document.createTextNode("x")),measureText.appendChild(elt("br"));measureText.appendChild(document.createTextNode("x"))}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;return 3<height&&(display.cachedTextHeight=height),removeChildren(display.measure),height||1}function charWidth(display){if(null!=display.cachedCharWidth)return display.cachedCharWidth;var anchor=elt("span","xxxxxxxxxx"),pre=elt("pre",[anchor]);removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/10;return 2<width&&(display.cachedCharWidth=width),width||10}function getDimensions(cm){for(var d=cm.display,left={},width={},gutterLeft=d.gutters.clientLeft,n=d.gutters.firstChild,i=0;n;n=n.nextSibling,++i)left[cm.options.gutters[i]]=n.offsetLeft+n.clientLeft+gutterLeft,width[cm.options.gutters[i]]=n.clientWidth;return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth}}function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left}function estimateHeight(cm){var th=textHeight(cm.display),wrapping=cm.options.lineWrapping,perLine=wrapping&&_Mathmax(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line))return 0;var widgetsHeight=0;if(line.widgets)for(var i=0;i<line.widgets.length;i++)line.widgets[i].height&&(widgetsHeight+=line.widgets[i].height);return wrapping?widgetsHeight+(_Mathceil(line.text.length/perLine)||1)*th:widgetsHeight+th}}function estimateLineHeights(cm){var doc=cm.doc,est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);estHeight!=line.height&&updateLineHeight(line,estHeight)})}function posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal&&"true"==e_target(e).getAttribute("cm-not-content"))return null;var space=display.lineSpace.getBoundingClientRect(),x,y;try{x=e.clientX-space.left,y=e.clientY-space.top}catch(e){return null}var coords=_coordsChar(cm,x,y),line;if(forRect&&1==coords.xRel&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,_Mathmax(0,_Mathround2((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff))}return coords}function findViewIndex(cm,n){if(n>=cm.display.viewTo)return null;if(n-=cm.display.viewFrom,0>n)return null;for(var view=cm.display.view,i=0;i<view.length;i++)if(n-=view[i].size,0>n)return i}function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection())}function prepareSelection(cm,primary){for(var doc=cm.doc,result={},curFragment=result.cursors=document.createDocumentFragment(),selFragment=result.selection=document.createDocumentFragment(),i=0;i<doc.sel.ranges.length;i++)if(!1!==primary||i!=doc.sel.primIndex){var range$$1=doc.sel.ranges[i];if(!(range$$1.from().line>=cm.display.viewTo||range$$1.to().line<cm.display.viewFrom)){var collapsed=range$$1.empty();(collapsed||cm.options.showCursorWhenSelecting)&&drawSelectionCursor(cm,range$$1.head,curFragment),collapsed||drawSelectionRange(cm,range$$1,selFragment)}}return result}function drawSelectionCursor(cm,head,output){var pos=_cursorCoords(cm,head,"div",null,null,!cm.options.singleCursorHeightPerLine),cursor=output.appendChild(elt("div","\xA0","CodeMirror-cursor"));if(cursor.style.left=pos.left+"px",cursor.style.top=pos.top+"px",cursor.style.height=_Mathmax(0,pos.bottom-pos.top)*cm.options.cursorHeight+"px",pos.other){var otherCursor=output.appendChild(elt("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));otherCursor.style.display="",otherCursor.style.left=pos.other.left+"px",otherCursor.style.top=pos.other.top+"px",otherCursor.style.height=.85*(pos.other.bottom-pos.other.top)+"px"}}function drawSelectionRange(cm,range$$1,output){function add(left,top,width,bottom){0>top&&(top=0),top=_Mathround2(top),bottom=_Mathround2(bottom),fragment.appendChild(elt("div",null,"CodeMirror-selected","position: absolute; left: "+left+"px;\n                             top: "+top+"px; width: "+(null==width?rightSide-left:width)+"px;\n                             height: "+(bottom-top)+"px"))}function drawForLine(line,fromArg,toArg){function coords(ch,bias){return _charCoords(cm,Pos(line,ch),"div",lineObj,bias)}var lineObj=getLine(doc,line),lineLen=lineObj.text.length,start,end;return iterateBidiSections(getOrder(lineObj,doc.direction),fromArg||0,null==toArg?lineLen:toArg,function(from,to,dir){var leftPos=coords(from,"left"),rightPos,left,right;if(from==to)rightPos=leftPos,left=right=leftPos.left;else{if(rightPos=coords(to-1,"right"),"rtl"==dir){var tmp=leftPos;leftPos=rightPos,rightPos=tmp}left=leftPos.left,right=rightPos.right}null==fromArg&&0==from&&(left=leftSide),3<rightPos.top-leftPos.top&&(add(left,leftPos.top,null,leftPos.bottom),left=leftSide,leftPos.bottom<rightPos.top&&add(left,leftPos.bottom,null,rightPos.top)),null==toArg&&to==lineLen&&(right=rightSide),(!start||leftPos.top<start.top||leftPos.top==start.top&&leftPos.left<start.left)&&(start=leftPos),(!end||rightPos.bottom>end.bottom||rightPos.bottom==end.bottom&&rightPos.right>end.right)&&(end=rightPos),left<leftSide+1&&(left=leftSide),add(left,rightPos.top,right-left,rightPos.bottom)}),{start:start,end:end}}var display=cm.display,doc=cm.doc,fragment=document.createDocumentFragment(),padding=paddingH(cm.display),leftSide=padding.left,rightSide=_Mathmax(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right,sFrom=range$$1.from(),sTo=range$$1.to();if(sFrom.line==sTo.line)drawForLine(sFrom.line,sFrom.ch,sTo.ch);else{var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line),singleVLine=visualLine(fromLine)==visualLine(toLine),leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end,rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;singleVLine&&(leftEnd.top<rightStart.top-2?(add(leftEnd.right,leftEnd.top,null,leftEnd.bottom),add(leftSide,rightStart.top,rightStart.left,rightStart.bottom)):add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom)),leftEnd.bottom<rightStart.top&&add(leftSide,leftEnd.bottom,null,rightStart.top)}output.appendChild(fragment)}function restartBlink(cm){if(cm.state.focused){var display=cm.display;clearInterval(display.blinker);var on=!0;display.cursorDiv.style.visibility="",0<cm.options.cursorBlinkRate?display.blinker=setInterval(function(){return display.cursorDiv.style.visibility=(on=!on)?"":"hidden"},cm.options.cursorBlinkRate):0>cm.options.cursorBlinkRate&&(display.cursorDiv.style.visibility="hidden")}}function ensureFocus(cm){cm.state.focused||(cm.display.input.focus(),onFocus(cm))}function delayBlurEvent(cm){cm.state.delayingBlurEvent=!0,setTimeout(function(){cm.state.delayingBlurEvent&&(cm.state.delayingBlurEvent=!1,onBlur(cm))},100)}function onFocus(cm,e){cm.state.delayingBlurEvent&&(cm.state.delayingBlurEvent=!1),"nocursor"==cm.options.readOnly||(!cm.state.focused&&(signal(cm,"focus",cm,e),cm.state.focused=!0,addClass(cm.display.wrapper,"CodeMirror-focused"),!cm.curOp&&cm.display.selForContextMenu!=cm.doc.sel&&(cm.display.input.reset(),webkit&&setTimeout(function(){return cm.display.input.reset(!0)},20)),cm.display.input.receivedFocus()),restartBlink(cm))}function onBlur(cm,e){cm.state.delayingBlurEvent||(cm.state.focused&&(signal(cm,"blur",cm,e),cm.state.focused=!1,rmClass(cm.display.wrapper,"CodeMirror-focused")),clearInterval(cm.display.blinker),setTimeout(function(){cm.state.focused||(cm.display.shift=!1)},150))}function updateHeightsInViewport(cm){for(var display=cm.display,prevBottom=display.lineDiv.offsetTop,i=0;i<display.view.length;i++){var cur=display.view[i],height=void 0;if(!cur.hidden){if(ie&&8>ie_version){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom,prevBottom=bot}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top}var diff=cur.line.height-height;if(2>height&&(height=textHeight(display)),(.005<diff||-.005>diff)&&(updateLineHeight(cur.line,height),updateWidgetHeight(cur.line),cur.rest))for(var j=0;j<cur.rest.length;j++)updateWidgetHeight(cur.rest[j])}}}function updateWidgetHeight(line){if(line.widgets)for(var i=0;i<line.widgets.length;++i)line.widgets[i].height=line.widgets[i].node.parentNode.offsetHeight}function visibleLines(display,doc,viewport){var top=viewport&&null!=viewport.top?_Mathmax(0,viewport.top):display.scroller.scrollTop;top=_Mathfloor(top-paddingTop(display));var bottom=viewport&&null!=viewport.bottom?viewport.bottom:top+display.wrapper.clientHeight,from=_lineAtHeight(doc,top),to=_lineAtHeight(doc,bottom);if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line,ensureTo=viewport.ensure.to.line;ensureFrom<from?(from=ensureFrom,to=_lineAtHeight(doc,_heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight)):_Mathmin(ensureTo,doc.lastLine())>=to&&(from=_lineAtHeight(doc,_heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight),to=ensureTo)}return{from:from,to:_Mathmax(to,from+1)}}function alignHorizontally(cm){var display=cm.display,view=display.view;if(display.alignWidgets||display.gutters.firstChild&&cm.options.fixedGutter){for(var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft,gutterW=display.gutters.offsetWidth,left=comp+"px",i=0;i<view.length;i++)if(!view[i].hidden){cm.options.fixedGutter&&(view[i].gutter&&(view[i].gutter.style.left=left),view[i].gutterBackground&&(view[i].gutterBackground.style.left=left));var align=view[i].alignable;if(align)for(var j=0;j<align.length;j++)align[j].style.left=left}cm.options.fixedGutter&&(display.gutters.style.left=comp+gutterW+"px")}}function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers)return!1;var doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt("div",[elt("div",last)],"CodeMirror-linenumber CodeMirror-gutter-elt")),innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;return display.lineGutter.style.width="",display.lineNumInnerWidth=_Mathmax(innerW,display.lineGutter.offsetWidth-padding)+1,display.lineNumWidth=display.lineNumInnerWidth+padding,display.lineNumChars=display.lineNumInnerWidth?last.length:-1,display.lineGutter.style.width=display.lineNumWidth+"px",updateGutterSpace(cm),!0}return!1}function maybeScrollWindow(cm,rect){if(!signalDOMEvent(cm,"scrollCursorIntoView")){var display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;if(0>rect.top+box.top?doScroll=!0:rect.bottom+box.top>(window.innerHeight||document.documentElement.clientHeight)&&(doScroll=!1),null!=doScroll&&!phantom){var scrollNode=elt("div","\u200B",null,"position: absolute;\n                         top: "+(rect.top-display.viewOffset-paddingTop(cm.display))+"px;\n                         height: "+(rect.bottom-rect.top+scrollGap(cm)+display.barHeight)+"px;\n                         left: "+rect.left+"px; width: "+_Mathmax(2,rect.right-rect.left)+"px;");cm.display.lineSpace.appendChild(scrollNode),scrollNode.scrollIntoView(doScroll),cm.display.lineSpace.removeChild(scrollNode)}}}function scrollPosIntoView(cm,pos,end,margin){null==margin&&(margin=0);var rect;cm.options.lineWrapping||pos!=end||(pos=pos.ch?Pos(pos.line,"before"==pos.sticky?pos.ch-1:pos.ch,"after"):pos,end="before"==pos.sticky?Pos(pos.line,pos.ch+1,"before"):pos);for(var limit=0;5>limit;limit++){var changed=!1,coords=_cursorCoords(cm,pos),endCoords=end&&end!=pos?_cursorCoords(cm,end):coords;rect={left:_Mathmin(coords.left,endCoords.left),top:_Mathmin(coords.top,endCoords.top)-margin,right:_Mathmax(coords.left,endCoords.left),bottom:_Mathmax(coords.bottom,endCoords.bottom)+margin};var scrollPos=calculateScrollPos(cm,rect),startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;if(null!=scrollPos.scrollTop&&(updateScrollTop(cm,scrollPos.scrollTop),1<_Mathabs2(cm.doc.scrollTop-startTop)&&(changed=!0)),null!=scrollPos.scrollLeft&&(setScrollLeft(cm,scrollPos.scrollLeft),1<_Mathabs2(cm.doc.scrollLeft-startLeft)&&(changed=!0)),!changed)break}return rect}function scrollIntoView(cm,rect){var scrollPos=calculateScrollPos(cm,rect);null!=scrollPos.scrollTop&&updateScrollTop(cm,scrollPos.scrollTop),null!=scrollPos.scrollLeft&&setScrollLeft(cm,scrollPos.scrollLeft)}function calculateScrollPos(cm,rect){var display=cm.display,snapMargin=textHeight(cm.display);0>rect.top&&(rect.top=0);var screentop=cm.curOp&&null!=cm.curOp.scrollTop?cm.curOp.scrollTop:display.scroller.scrollTop,screen=displayHeight(cm),result={};rect.bottom-rect.top>screen&&(rect.bottom=rect.top+screen);var docBottom=cm.doc.height+paddingVert(display),atTop=rect.top<snapMargin,atBottom=rect.bottom>docBottom-snapMargin;if(rect.top<screentop)result.scrollTop=atTop?0:rect.top;else if(rect.bottom>screentop+screen){var newTop=_Mathmin(rect.top,(atBottom?docBottom:rect.bottom)-screen);newTop!=screentop&&(result.scrollTop=newTop)}var screenleft=cm.curOp&&null!=cm.curOp.scrollLeft?cm.curOp.scrollLeft:display.scroller.scrollLeft,screenw=displayWidth(cm)-(cm.options.fixedGutter?display.gutters.offsetWidth:0),tooWide=rect.right-rect.left>screenw;return tooWide&&(rect.right=rect.left+screenw),10>rect.left?result.scrollLeft=0:rect.left<screenleft?result.scrollLeft=_Mathmax(0,rect.left-(tooWide?0:10)):rect.right>screenw+screenleft-3&&(result.scrollLeft=rect.right+(tooWide?0:10)-screenw),result}function addToScrollTop(cm,top){null==top||(resolveScrollToPos(cm),cm.curOp.scrollTop=(null==cm.curOp.scrollTop?cm.doc.scrollTop:cm.curOp.scrollTop)+top)}function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor();cm.curOp.scrollToPos={from:cur,to:cur,margin:cm.options.cursorScrollMargin}}function scrollToCoords(cm,x,y){(null!=x||null!=y)&&resolveScrollToPos(cm),null!=x&&(cm.curOp.scrollLeft=x),null!=y&&(cm.curOp.scrollTop=y)}function scrollToRange(cm,range$$1){resolveScrollToPos(cm),cm.curOp.scrollToPos=range$$1}function resolveScrollToPos(cm){var range$$1=cm.curOp.scrollToPos;if(range$$1){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range$$1.from),to=estimateCoords(cm,range$$1.to);scrollToCoordsRange(cm,from,to,range$$1.margin)}}function scrollToCoordsRange(cm,from,to,margin){var sPos=calculateScrollPos(cm,{left:_Mathmin(from.left,to.left),top:_Mathmin(from.top,to.top)-margin,right:_Mathmax(from.right,to.right),bottom:_Mathmax(from.bottom,to.bottom)+margin});scrollToCoords(cm,sPos.scrollLeft,sPos.scrollTop)}function updateScrollTop(cm,val){2>_Mathabs2(cm.doc.scrollTop-val)||(!gecko&&updateDisplaySimple(cm,{top:val}),setScrollTop(cm,val,!0),gecko&&updateDisplaySimple(cm),startWorker(cm,100))}function setScrollTop(cm,val,forceScroll){val=_Mathmin(cm.display.scroller.scrollHeight-cm.display.scroller.clientHeight,val),(cm.display.scroller.scrollTop!=val||forceScroll)&&(cm.doc.scrollTop=val,cm.display.scrollbars.setScrollTop(val),cm.display.scroller.scrollTop!=val&&(cm.display.scroller.scrollTop=val))}function setScrollLeft(cm,val,isScroller,forceScroll){val=_Mathmin(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth),(isScroller?val==cm.doc.scrollLeft:2>_Mathabs2(cm.doc.scrollLeft-val))&&!forceScroll||(cm.doc.scrollLeft=val,alignHorizontally(cm),cm.display.scroller.scrollLeft!=val&&(cm.display.scroller.scrollLeft=val),cm.display.scrollbars.setScrollLeft(val))}function measureForScrollbars(cm){var d=cm.display,gutterW=d.gutters.offsetWidth,docH=_Mathround2(cm.doc.height+paddingVert(cm.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW}}function updateScrollbars(cm,measure){measure||(measure=measureForScrollbars(cm));var startWidth=cm.display.barWidth,startHeight=cm.display.barHeight;updateScrollbarsInner(cm,measure);for(var i=0;4>i&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++)startWidth!=cm.display.barWidth&&cm.options.lineWrapping&&updateHeightsInViewport(cm),updateScrollbarsInner(cm,measureForScrollbars(cm)),startWidth=cm.display.barWidth,startHeight=cm.display.barHeight}function updateScrollbarsInner(cm,measure){var d=cm.display,sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=(d.barWidth=sizes.right)+"px",d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+"px",d.heightForcer.style.borderBottom=sizes.bottom+"px solid transparent",sizes.right&&sizes.bottom?(d.scrollbarFiller.style.display="block",d.scrollbarFiller.style.height=sizes.bottom+"px",d.scrollbarFiller.style.width=sizes.right+"px"):d.scrollbarFiller.style.display="",sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter?(d.gutterFiller.style.display="block",d.gutterFiller.style.height=sizes.bottom+"px",d.gutterFiller.style.width=measure.gutterWidth+"px"):d.gutterFiller.style.display=""}function initScrollbars(cm){cm.display.scrollbars&&(cm.display.scrollbars.clear(),cm.display.scrollbars.addClass&&rmClass(cm.display.wrapper,cm.display.scrollbars.addClass)),cm.display.scrollbars=new scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller),on(node,"mousedown",function(){cm.state.focused&&setTimeout(function(){return cm.display.input.focus()},0)}),node.setAttribute("cm-not-content","true")},function(pos,axis){"horizontal"==axis?setScrollLeft(cm,pos):updateScrollTop(cm,pos)},cm),cm.display.scrollbars.addClass&&addClass(cm.display.wrapper,cm.display.scrollbars.addClass)}function _startOperation(cm){cm.curOp={cm:cm,viewChanged:!1,startHeight:cm.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++nextOpId},pushOperation(cm.curOp)}function _endOperation(cm){var op=cm.curOp;finishOperation(op,function(group){for(var i=0;i<group.ops.length;i++)group.ops[i].cm.curOp=null;endOperations(group)})}function endOperations(group){for(var ops=group.ops,i=0;i<ops.length;i++)endOperation_R1(ops[i]);for(var i$1=0;i$1<ops.length;i$1++)endOperation_W1(ops[i$1]);for(var i$2=0;i$2<ops.length;i$2++)endOperation_R2(ops[i$2]);for(var i$3=0;i$3<ops.length;i$3++)endOperation_W2(ops[i$3]);for(var i$4=0;i$4<ops.length;i$4++)endOperation_finish(ops[i$4])}function endOperation_R1(op){var cm=op.cm,display=cm.display;maybeClipScrollbars(cm),op.updateMaxLine&&findMaxLine(cm),op.mustUpdate=op.viewChanged||op.forceUpdate||null!=op.scrollTop||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping,op.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate)}function endOperation_W1(op){op.updatedDisplay=op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update)}function endOperation_R2(op){var cm=op.cm,display=cm.display;op.updatedDisplay&&updateHeightsInViewport(cm),op.barMeasure=measureForScrollbars(cm),display.maxLineChanged&&!cm.options.lineWrapping&&(op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3,cm.display.sizerWidth=op.adjustWidthTo,op.barMeasure.scrollWidth=_Mathmax(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth),op.maxScrollLeft=_Mathmax(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm))),(op.updatedDisplay||op.selectionChanged)&&(op.preparedSelection=display.input.prepareSelection(op.focus))}function endOperation_W2(op){var cm=op.cm;null!=op.adjustWidthTo&&(cm.display.sizer.style.minWidth=op.adjustWidthTo+"px",op.maxScrollLeft<cm.doc.scrollLeft&&setScrollLeft(cm,_Mathmin(cm.display.scroller.scrollLeft,op.maxScrollLeft),!0),cm.display.maxLineChanged=!1);var takeFocus=op.focus&&op.focus==activeElt()&&(!document.hasFocus||document.hasFocus());op.preparedSelection&&cm.display.input.showSelection(op.preparedSelection,takeFocus),(op.updatedDisplay||op.startHeight!=cm.doc.height)&&updateScrollbars(cm,op.barMeasure),op.updatedDisplay&&setDocumentHeight(cm,op.barMeasure),op.selectionChanged&&restartBlink(cm),cm.state.focused&&op.updateInput&&cm.display.input.reset(op.typing),takeFocus&&ensureFocus(op.cm)}function endOperation_finish(op){var cm=op.cm,display=cm.display,doc=cm.doc;if(op.updatedDisplay&&postUpdateDisplay(cm,op.update),null!=display.wheelStartX&&(null!=op.scrollTop||null!=op.scrollLeft||op.scrollToPos)&&(display.wheelStartX=display.wheelStartY=null),null!=op.scrollTop&&setScrollTop(cm,op.scrollTop,op.forceScroll),null!=op.scrollLeft&&setScrollLeft(cm,op.scrollLeft,!0,!0),op.scrollToPos){var rect=scrollPosIntoView(cm,_clipPos(doc,op.scrollToPos.from),_clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);maybeScrollWindow(cm,rect)}var hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;if(hidden)for(var i=0;i<hidden.length;++i)hidden[i].lines.length||signal(hidden[i],"hide");if(unhidden)for(var i$1=0;i$1<unhidden.length;++i$1)unhidden[i$1].lines.length&&signal(unhidden[i$1],"unhide");display.wrapper.offsetHeight&&(doc.scrollTop=cm.display.scroller.scrollTop),op.changeObjs&&signal(cm,"changes",cm,op.changeObjs),op.update&&op.update.finish()}function runInOp(cm,f){if(cm.curOp)return f();_startOperation(cm);try{return f()}finally{_endOperation(cm)}}function operation(cm,f){return function(){if(cm.curOp)return f.apply(cm,arguments);_startOperation(cm);try{return f.apply(cm,arguments)}finally{_endOperation(cm)}}}function methodOp(f){return function(){if(this.curOp)return f.apply(this,arguments);_startOperation(this);try{return f.apply(this,arguments)}finally{_endOperation(this)}}}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp)return f.apply(this,arguments);_startOperation(cm);try{return f.apply(this,arguments)}finally{_endOperation(cm)}}}function regChange(cm,from,to,lendiff){null==from&&(from=cm.doc.first),null==to&&(to=cm.doc.first+cm.doc.size),lendiff||(lendiff=0);var display=cm.display;if(lendiff&&to<display.viewTo&&(null==display.updateLineNumbers||display.updateLineNumbers>from)&&(display.updateLineNumbers=from),cm.curOp.viewChanged=!0,from>=display.viewTo)sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo&&resetView(cm);else if(to<=display.viewFrom)sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom?resetView(cm):(display.viewFrom+=lendiff,display.viewTo+=lendiff);else if(from<=display.viewFrom&&to>=display.viewTo)resetView(cm);else if(from<=display.viewFrom){var cut=viewCuttingPoint(cm,to,to+lendiff,1);cut?(display.view=display.view.slice(cut.index),display.viewFrom=cut.lineN,display.viewTo+=lendiff):resetView(cm)}else if(to>=display.viewTo){var cut$1=viewCuttingPoint(cm,from,from,-1);cut$1?(display.view=display.view.slice(0,cut$1.index),display.viewTo=cut$1.lineN):resetView(cm)}else{var cutTop=viewCuttingPoint(cm,from,from,-1),cutBot=viewCuttingPoint(cm,to,to+lendiff,1);cutTop&&cutBot?(display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index)),display.viewTo+=lendiff):resetView(cm)}var ext=display.externalMeasured;ext&&(to<ext.lineN?ext.lineN+=lendiff:from<ext.lineN+ext.size&&(display.externalMeasured=null))}function regLineChange(cm,line,type){cm.curOp.viewChanged=!0;var display=cm.display,ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size&&(display.externalMeasured=null),!(line<display.viewFrom||line>=display.viewTo)){var lineView=display.view[findViewIndex(cm,line)];if(null!=lineView.node){var arr=lineView.changes||(lineView.changes=[]);-1==indexOf(arr,type)&&arr.push(type)}}}function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first,cm.display.view=[],cm.display.viewOffset=0}function viewCuttingPoint(cm,oldN,newN,dir){var index=findViewIndex(cm,oldN),view=cm.display.view,diff;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size)return{index:index,lineN:newN};for(var n=cm.display.viewFrom,i=0;i<index;i++)n+=view[i].size;if(n!=oldN){if(0<dir){if(index==view.length-1)return null;diff=n+view[index].size-oldN,index++}else diff=n-oldN;oldN+=diff,newN+=diff}for(;visualLineNo(cm.doc,newN)!=newN;){if(index==(0>dir?0:view.length-1))return null;newN+=dir*view[index-(0>dir?1:0)].size,index+=dir}return{index:index,lineN:newN}}function adjustView(cm,from,to){var display=cm.display,view=display.view;0==view.length||from>=display.viewTo||to<=display.viewFrom?(display.view=buildViewArray(cm,from,to),display.viewFrom=from):(display.viewFrom>from?display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view):display.viewFrom<from&&(display.view=display.view.slice(findViewIndex(cm,from))),display.viewFrom=from,display.viewTo<to?display.view=display.view.concat(buildViewArray(cm,display.viewTo,to)):display.viewTo>to&&(display.view=display.view.slice(0,findViewIndex(cm,to)))),display.viewTo=to}function countDirtyView(cm){for(var view=cm.display.view,dirty=0,i=0,lineView;i<view.length;i++)lineView=view[i],lineView.hidden||lineView.node&&!lineView.changes||++dirty;return dirty}function startWorker(cm,time){cm.doc.highlightFrontier<cm.display.viewTo&&cm.state.highlight.set(time,bind(highlightWorker,cm))}function highlightWorker(cm){var doc=cm.doc;if(!(doc.highlightFrontier>=cm.display.viewTo)){var end=+new Date+cm.options.workTime,context=getContextBefore(cm,doc.highlightFrontier),changedLines=[];doc.iter(context.line,_Mathmin(doc.first+doc.size,cm.display.viewTo+500),function(line){if(context.line>=cm.display.viewFrom){var oldStyles=line.styles,resetState=line.text.length>cm.options.maxHighlightLength?copyState(doc.mode,context.state):null,highlighted=highlightLine(cm,line,context,!0);resetState&&(context.state=resetState),line.styles=highlighted.styles;var oldCls=line.styleClasses,newCls=highlighted.classes;newCls?line.styleClasses=newCls:oldCls&&(line.styleClasses=null);for(var ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass),i=0;!ischange&&i<oldStyles.length;++i)ischange=oldStyles[i]!=line.styles[i];ischange&&changedLines.push(context.line),line.stateAfter=context.save(),context.nextLine()}else line.text.length<=cm.options.maxHighlightLength&&processLine(cm,line.text,context),line.stateAfter=0==context.line%5?context.save():null,context.nextLine();return+new Date>end?(startWorker(cm,cm.options.workDelay),!0):void 0}),doc.highlightFrontier=context.line,doc.modeFrontier=_Mathmax(doc.modeFrontier,context.line),changedLines.length&&runInOp(cm,function(){for(var i=0;i<changedLines.length;i++)regLineChange(cm,changedLines[i],"text")})}}function maybeClipScrollbars(cm){var display=cm.display;!display.scrollbarsClipped&&display.scroller.offsetWidth&&(display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth,display.heightForcer.style.height=scrollGap(cm)+"px",display.sizer.style.marginBottom=-display.nativeBarWidth+"px",display.sizer.style.borderRightWidth=scrollGap(cm)+"px",display.scrollbarsClipped=!0)}function selectionSnapshot(cm){if(cm.hasFocus())return null;var active=activeElt();if(!active||!contains(cm.display.lineDiv,active))return null;var result={activeElt:active};if(window.getSelection){var sel=window.getSelection();sel.anchorNode&&sel.extend&&contains(cm.display.lineDiv,sel.anchorNode)&&(result.anchorNode=sel.anchorNode,result.anchorOffset=sel.anchorOffset,result.focusNode=sel.focusNode,result.focusOffset=sel.focusOffset)}return result}function restoreSelection(snapshot){if(snapshot&&snapshot.activeElt&&snapshot.activeElt!=activeElt()&&(snapshot.activeElt.focus(),snapshot.anchorNode&&contains(document.body,snapshot.anchorNode)&&contains(document.body,snapshot.focusNode))){var sel=window.getSelection(),range$$1=document.createRange();range$$1.setEnd(snapshot.anchorNode,snapshot.anchorOffset),range$$1.collapse(!1),sel.removeAllRanges(),sel.addRange(range$$1),sel.extend(snapshot.focusNode,snapshot.focusOffset)}}function updateDisplayIfNeeded(cm,update){var display=cm.display,doc=cm.doc;if(update.editorIsHidden)return resetView(cm),!1;if(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(null==display.updateLineNumbers||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&0==countDirtyView(cm))return!1;maybeUpdateLineNumberWidth(cm)&&(resetView(cm),update.dims=getDimensions(cm));var end=doc.first+doc.size,from=_Mathmax(update.visible.from-cm.options.viewportMargin,doc.first),to=_Mathmin(end,update.visible.to+cm.options.viewportMargin);display.viewFrom<from&&20>from-display.viewFrom&&(from=_Mathmax(doc.first,display.viewFrom)),display.viewTo>to&&20>display.viewTo-to&&(to=_Mathmin(end,display.viewTo)),sawCollapsedSpans&&(from=visualLineNo(cm.doc,from),to=visualLineEndNo(cm.doc,to));var different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;adjustView(cm,from,to),display.viewOffset=_heightAtLine(getLine(cm.doc,display.viewFrom)),cm.display.mover.style.top=display.viewOffset+"px";var toUpdate=countDirtyView(cm);if(!different&&0==toUpdate&&!update.force&&display.renderedView==display.view&&(null==display.updateLineNumbers||display.updateLineNumbers>=display.viewTo))return!1;var selSnapshot=selectionSnapshot(cm);return 4<toUpdate&&(display.lineDiv.style.display="none"),patchDisplay(cm,display.updateLineNumbers,update.dims),4<toUpdate&&(display.lineDiv.style.display=""),display.renderedView=display.view,restoreSelection(selSnapshot),removeChildren(display.cursorDiv),removeChildren(display.selectionDiv),display.gutters.style.height=display.sizer.style.minHeight=0,different&&(display.lastWrapHeight=update.wrapperHeight,display.lastWrapWidth=update.wrapperWidth,startWorker(cm,400)),display.updateLineNumbers=null,!0}function postUpdateDisplay(cm,update){for(var viewport=update.viewport,first=!0;;first=!1){if((!first||!cm.options.lineWrapping||update.oldDisplayWidth==displayWidth(cm))&&(viewport&&null!=viewport.top&&(viewport={top:_Mathmin(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)}),update.visible=visibleLines(cm.display,cm.doc,viewport),update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo))break;if(!updateDisplayIfNeeded(cm,update))break;updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm),updateScrollbars(cm,barMeasure),setDocumentHeight(cm,barMeasure),update.force=!1}update.signal(cm,"update",cm),(cm.display.viewFrom!=cm.display.reportedViewFrom||cm.display.viewTo!=cm.display.reportedViewTo)&&(update.signal(cm,"viewportChange",cm,cm.display.viewFrom,cm.display.viewTo),cm.display.reportedViewFrom=cm.display.viewFrom,cm.display.reportedViewTo=cm.display.viewTo)}function updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm),postUpdateDisplay(cm,update);var barMeasure=measureForScrollbars(cm);updateSelection(cm),updateScrollbars(cm,barMeasure),setDocumentHeight(cm,barMeasure),update.finish()}}function patchDisplay(cm,updateNumbersFrom,dims){function rm(node){var next=node.nextSibling;return webkit&&mac&&cm.display.currentWheelTarget==node?node.style.display="none":node.parentNode.removeChild(node),next}for(var display=cm.display,lineNumbers=cm.options.lineNumbers,container=display.lineDiv,cur=container.firstChild,view=display.view,lineN=display.viewFrom,i=0,lineView;i<view.length;i++){if(lineView=view[i],lineView.hidden);else if(!lineView.node||lineView.node.parentNode!=container){var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur)}else{for(;cur!=lineView.node;)cur=rm(cur);var updateNumber=lineNumbers&&null!=updateNumbersFrom&&updateNumbersFrom<=lineN&&lineView.lineNumber;lineView.changes&&(-1<indexOf(lineView.changes,"gutter")&&(updateNumber=!1),updateLineForChanges(cm,lineView,lineN,dims)),updateNumber&&(removeChildren(lineView.lineNumber),lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)))),cur=lineView.node.nextSibling}lineN+=lineView.size}for(;cur;)cur=rm(cur)}function updateGutterSpace(cm){var width=cm.display.gutters.offsetWidth;cm.display.sizer.style.marginLeft=width+"px"}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+"px",cm.display.heightForcer.style.top=measure.docHeight+"px",cm.display.gutters.style.height=measure.docHeight+cm.display.barHeight+scrollGap(cm)+"px"}function updateGutters(cm){var gutters=cm.display.gutters,specs=cm.options.gutters;removeChildren(gutters);for(var i=0;i<specs.length;++i){var gutterClass=specs[i],gElt=gutters.appendChild(elt("div",null,"CodeMirror-gutter "+gutterClass));"CodeMirror-linenumbers"==gutterClass&&(cm.display.lineGutter=gElt,gElt.style.width=(cm.display.lineNumWidth||1)+"px")}gutters.style.display=i?"":"none",updateGutterSpace(cm)}function setGuttersForLineNumbers(options){var found=indexOf(options.gutters,"CodeMirror-linenumbers");-1==found&&options.lineNumbers?options.gutters=options.gutters.concat(["CodeMirror-linenumbers"]):-1<found&&!options.lineNumbers&&(options.gutters=options.gutters.slice(0),options.gutters.splice(found,1))}function wheelEventDelta(e){var dx=e.wheelDeltaX,dy=e.wheelDeltaY;return null==dx&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(dx=e.detail),null==dy&&e.detail&&e.axis==e.VERTICAL_AXIS?dy=e.detail:null==dy&&(dy=e.wheelDelta),{x:dx,y:dy}}function wheelEventPixels(e){var delta=wheelEventDelta(e);return delta.x*=wheelPixelsPerUnit,delta.y*=wheelPixelsPerUnit,delta}function onScrollWheel(cm,e){var delta=wheelEventDelta(e),dx=delta.x,dy=delta.y,display=cm.display,scroll=display.scroller,canScrollX=scroll.scrollWidth>scroll.clientWidth,canScrollY=scroll.scrollHeight>scroll.clientHeight;if(dx&&canScrollX||dy&&canScrollY){if(dy&&mac&&webkit)outer:for(var cur=e.target,view=display.view;cur!=scroll;cur=cur.parentNode)for(var i=0;i<view.length;i++)if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer}if(dx&&!gecko&&!presto&&null!=wheelPixelsPerUnit)return dy&&canScrollY&&updateScrollTop(cm,_Mathmax(0,scroll.scrollTop+dy*wheelPixelsPerUnit)),setScrollLeft(cm,_Mathmax(0,scroll.scrollLeft+dx*wheelPixelsPerUnit)),(!dy||dy&&canScrollY)&&e_preventDefault(e),void(display.wheelStartX=null);if(dy&&null!=wheelPixelsPerUnit){var pixels=dy*wheelPixelsPerUnit,top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;0>pixels?top=_Mathmax(0,top+pixels-50):bot=_Mathmin(cm.doc.height,bot+pixels+50),updateDisplaySimple(cm,{top:top,bottom:bot})}20>wheelSamples&&(null==display.wheelStartX?(display.wheelStartX=scroll.scrollLeft,display.wheelStartY=scroll.scrollTop,display.wheelDX=dx,display.wheelDY=dy,setTimeout(function(){if(null!=display.wheelStartX){var movedX=scroll.scrollLeft-display.wheelStartX,movedY=scroll.scrollTop-display.wheelStartY,sample=movedY&&display.wheelDY&&movedY/display.wheelDY||movedX&&display.wheelDX&&movedX/display.wheelDX;display.wheelStartX=display.wheelStartY=null,sample&&(wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1),++wheelSamples)}},200)):(display.wheelDX+=dx,display.wheelDY+=dy))}}function normalizeSelection(ranges,primIndex){var prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from())}),primIndex=indexOf(ranges,prim);for(var i=1;i<ranges.length;i++){var cur=ranges[i],prev=ranges[i-1];if(0<=cmp(prev.to(),cur.from())){var from=minPos(prev.from(),cur.from()),to=maxPos(prev.to(),cur.to()),inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;i<=primIndex&&--primIndex,ranges.splice(--i,2,new Range(inv?to:from,inv?from:to))}}return new Selection(ranges,primIndex)}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0)}function changeEnd(change){return change.text?Pos(change.from.line+change.text.length-1,lst(change.text).length+(1==change.text.length?change.from.ch:0)):change.to}function adjustForChange(pos,change){if(0>cmp(pos,change.from))return pos;if(0>=cmp(pos,change.to))return changeEnd(change);var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;return pos.line==change.to.line&&(ch+=changeEnd(change).ch-change.to.ch),Pos(line,ch)}function computeSelAfterChange(doc,change){for(var out=[],i=0,range;i<doc.sel.ranges.length;i++)range=doc.sel.ranges[i],out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)));return normalizeSelection(out,doc.sel.primIndex)}function offsetPos(pos,old,nw){return pos.line==old.line?Pos(nw.line,pos.ch-old.ch+nw.ch):Pos(nw.line+(pos.line-old.line),pos.ch)}function computeReplacedSel(doc,changes,hint){for(var out=[],oldPrev=Pos(doc.first,0),newPrev=oldPrev,i=0;i<changes.length;i++){var change=changes[i],from=offsetPos(change.from,oldPrev,newPrev),to=offsetPos(changeEnd(change),oldPrev,newPrev);if(oldPrev=change.to,newPrev=to,"around"==hint){var range=doc.sel.ranges[i],inv=0>cmp(range.head,range.anchor);out[i]=new Range(inv?to:from,inv?from:to)}else out[i]=new Range(from,from)}return new Selection(out,doc.sel.primIndex)}function loadMode(cm){cm.doc.mode=getMode(cm.options,cm.doc.modeOption),resetModeState(cm)}function resetModeState(cm){cm.doc.iter(function(line){line.stateAfter&&(line.stateAfter=null),line.styles&&(line.styles=null)}),cm.doc.modeFrontier=cm.doc.highlightFrontier=cm.doc.first,startWorker(cm,100),cm.state.modeGen++,cm.curOp&&regChange(cm)}function isWholeLineUpdate(doc,change){return 0==change.from.ch&&0==change.to.ch&&""==lst(change.text)&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore)}function updateDoc(doc,change,markedSpans,estimateHeight$$1){function spansFor(n){return markedSpans?markedSpans[n]:null}function update(line,text,spans){updateLine(line,text,spans,estimateHeight$$1),signalLater(line,"change",line,change)}function linesFor(start,end){for(var result=[],i=start;i<end;++i)result.push(new Line(text[i],spansFor(i),estimateHeight$$1));return result}var from=change.from,to=change.to,text=change.text,firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line),lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line;if(change.full)doc.insert(0,linesFor(0,text.length)),doc.remove(text.length,doc.size-text.length);else if(isWholeLineUpdate(doc,change)){var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans),nlines&&doc.remove(from.line,nlines),added.length&&doc.insert(from.line,added)}else if(firstLine==lastLine){if(1==text.length)update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans);else{var added$1=linesFor(1,text.length-1);added$1.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight$$1)),update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0)),doc.insert(from.line+1,added$1)}}else if(1==text.length)update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0)),doc.remove(from.line+1,nlines);else{update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0)),update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);var added$2=linesFor(1,text.length-1);1<nlines&&doc.remove(from.line+1,nlines-1),doc.insert(from.line+1,added$2)}signalLater(doc,"change",doc,change)}function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked)for(var i=0,rel;i<doc.linked.length;++i)if(rel=doc.linked[i],rel.doc!=skip){var shared=sharedHist&&rel.sharedHist;(!sharedHistOnly||shared)&&(f(rel.doc,shared),propagate(rel.doc,doc,shared))}}propagate(doc,null,!0)}function attachDoc(cm,doc){if(doc.cm)throw new Error("This document is already in use.");cm.doc=doc,doc.cm=cm,estimateLineHeights(cm),loadMode(cm),setDirectionClass(cm),cm.options.lineWrapping||findMaxLine(cm),cm.options.mode=doc.modeOption,regChange(cm)}function setDirectionClass(cm){("rtl"==cm.doc.direction?addClass:rmClass)(cm.display.lineDiv,"CodeMirror-rtl")}function directionChanged(cm){runInOp(cm,function(){setDirectionClass(cm),regChange(cm)})}function History(startGen){this.done=[],this.undone=[],this.undoDepth=Infinity,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=startGen||1}function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};return attachLocalSpans(doc,histChange,change.from.line,change.to.line+1),linkedDocs(doc,function(doc){return attachLocalSpans(doc,histChange,change.from.line,change.to.line+1)},!0),histChange}function clearSelectionEvents(array){for(;array.length;){var last=lst(array);if(last.ranges)array.pop();else break}}function lastChangeEvent(hist,force){return force?(clearSelectionEvents(hist.done),lst(hist.done)):hist.done.length&&!lst(hist.done).ranges?lst(hist.done):1<hist.done.length&&!hist.done[hist.done.length-2].ranges?(hist.done.pop(),lst(hist.done)):void 0}function addChangeToHistory(doc,change,selAfter,opId){var hist=doc.history;hist.undone.length=0;var time=+new Date,cur,last;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&("+"==change.origin.charAt(0)&&doc.cm&&hist.lastModTime>time-doc.cm.options.historyEventDelay||"*"==change.origin.charAt(0)))&&(cur=lastChangeEvent(hist,hist.lastOp==opId)))last=lst(cur.changes),0==cmp(change.from,change.to)&&0==cmp(change.from,last.to)?last.to=changeEnd(change):cur.changes.push(historyChangeFromChange(doc,change));else{var before=lst(hist.done);for(before&&before.ranges||pushSelectionToHistory(doc.sel,hist.done),cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation},hist.done.push(cur);hist.done.length>hist.undoDepth;)hist.done.shift(),hist.done[0].ranges||hist.done.shift()}hist.done.push(selAfter),hist.generation=++hist.maxGeneration,hist.lastModTime=hist.lastSelTime=time,hist.lastOp=hist.lastSelOp=opId,hist.lastOrigin=hist.lastSelOrigin=change.origin,last||signal(doc,"historyAdded")}function selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return"*"==ch||"+"==ch&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500)}function addSelectionToHistory(doc,sel,opId,options){var hist=doc.history,origin=options&&options.origin;opId==hist.lastSelOp||origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel))?hist.done[hist.done.length-1]=sel:pushSelectionToHistory(sel,hist.done),hist.lastSelTime=+new Date,hist.lastSelOrigin=origin,hist.lastSelOp=opId,options&&!1!==options.clearRedo&&clearSelectionEvents(hist.undone)}function pushSelectionToHistory(sel,dest){var top=lst(dest);top&&top.ranges&&top.equals(sel)||dest.push(sel)}function attachLocalSpans(doc,change,from,to){var existing=change["spans_"+doc.id],n=0;doc.iter(_Mathmax(doc.first,from),_Mathmin(doc.first+doc.size,to),function(line){line.markedSpans&&((existing||(existing=change["spans_"+doc.id]={}))[n]=line.markedSpans),++n})}function removeClearedSpans(spans){if(!spans)return null;for(var i=0,out;i<spans.length;++i)spans[i].marker.explicitlyCleared?out||(out=spans.slice(0,i)):out&&out.push(spans[i]);return out?out.length?out:null:spans}function getOldSpans(doc,change){var found=change["spans_"+doc.id];if(!found)return null;for(var nw=[],i=0;i<change.text.length;++i)nw.push(removeClearedSpans(found[i]));return nw}function mergeOldSpans(doc,change){var old=getOldSpans(doc,change),stretched=stretchSpansOverChange(doc,change);if(!old)return stretched;if(!stretched)return old;for(var i=0;i<old.length;++i){var oldCur=old[i],stretchCur=stretched[i];if(oldCur&&stretchCur)spans:for(var j=0,span;j<stretchCur.length;++j){span=stretchCur[j];for(var k=0;k<oldCur.length;++k)if(oldCur[k].marker==span.marker)continue spans;oldCur.push(span)}else stretchCur&&(old[i]=stretchCur)}return old}function copyHistoryArray(events,newGroup,instantiateSel){for(var copy=[],i=0,event;i<events.length;++i){if(event=events[i],event.ranges){copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);continue}var changes=event.changes,newChanges=[];copy.push({changes:newChanges});for(var j=0;j<changes.length;++j){var change=changes[j],m=void 0;if(newChanges.push({from:change.from,to:change.to,text:change.text}),newGroup)for(var prop in change)(m=prop.match(/^spans_(\d+)$/))&&-1<indexOf(newGroup,+m[1])&&(lst(newChanges)[prop]=change[prop],delete change[prop])}}return copy}function extendRange(range,head,other,extend){if(extend){var anchor=range.anchor;if(other){var posBefore=0>cmp(head,anchor);posBefore==0>cmp(other,anchor)?posBefore!=0>cmp(head,other)&&(head=other):(anchor=head,head=other)}return new Range(anchor,head)}return new Range(other||head,head)}function extendSelection(doc,head,other,options,extend){null==extend&&(extend=doc.cm&&(doc.cm.display.shift||doc.extend)),setSelection(doc,new Selection([extendRange(doc.sel.primary(),head,other,extend)],0),options)}function extendSelections(doc,heads,options){for(var out=[],extend=doc.cm&&(doc.cm.display.shift||doc.extend),i=0;i<doc.sel.ranges.length;i++)out[i]=extendRange(doc.sel.ranges[i],heads[i],null,extend);var newSel=normalizeSelection(out,doc.sel.primIndex);setSelection(doc,newSel,options)}function replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range,setSelection(doc,normalizeSelection(ranges,doc.sel.primIndex),options)}function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options)}function filterSelectionChange(doc,sel,options){var obj={ranges:sel.ranges,update:function update(ranges){var this$1=this;this.ranges=[];for(var i=0;i<ranges.length;i++)this$1.ranges[i]=new Range(_clipPos(doc,ranges[i].anchor),_clipPos(doc,ranges[i].head))},origin:options&&options.origin};return signal(doc,"beforeSelectionChange",doc,obj),doc.cm&&signal(doc.cm,"beforeSelectionChange",doc.cm,obj),obj.ranges==sel.ranges?sel:normalizeSelection(obj.ranges,obj.ranges.length-1)}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done,last=lst(done);last&&last.ranges?(done[done.length-1]=sel,setSelectionNoUndo(doc,sel,options)):setSelection(doc,sel,options)}function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options),addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options)}function setSelectionNoUndo(doc,sel,options){(hasHandler(doc,"beforeSelectionChange")||doc.cm&&hasHandler(doc.cm,"beforeSelectionChange"))&&(sel=filterSelectionChange(doc,sel,options));var bias=options&&options.bias||(0>cmp(sel.primary().head,doc.sel.primary().head)?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,!0)),!(options&&!1===options.scroll)&&doc.cm&&ensureCursorVisible(doc.cm)}function setSelectionInner(doc,sel){sel.equals(doc.sel)||(doc.sel=sel,doc.cm&&(doc.cm.curOp.updateInput=doc.cm.curOp.selectionChanged=!0,signalCursorActivity(doc.cm)),signalLater(doc,"cursorActivity",doc))}function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,!1))}function skipAtomicInSelection(doc,sel,bias,mayClear){for(var i=0,out;i<sel.ranges.length;i++){var range=sel.ranges[i],old=sel.ranges.length==doc.sel.ranges.length&&doc.sel.ranges[i],newAnchor=skipAtomic(doc,range.anchor,old&&old.anchor,bias,mayClear),newHead=skipAtomic(doc,range.head,old&&old.head,bias,mayClear);(out||newAnchor!=range.anchor||newHead!=range.head)&&(!out&&(out=sel.ranges.slice(0,i)),out[i]=new Range(newAnchor,newHead))}return out?normalizeSelection(out,sel.primIndex):sel}function skipAtomicInner(doc,pos,oldPos,dir,mayClear){var line=getLine(doc,pos.line);if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var sp=line.markedSpans[i],m=sp.marker;if((null==sp.from||(m.inclusiveLeft?sp.from<=pos.ch:sp.from<pos.ch))&&(null==sp.to||(m.inclusiveRight?sp.to>=pos.ch:sp.to>pos.ch))){if(mayClear&&(signal(m,"beforeCursorEnter"),m.explicitlyCleared))if(!line.markedSpans)break;else{--i;continue}if(!m.atomic)continue;if(oldPos){var near=m.find(0>dir?1:-1),diff=void 0;if((0>dir?m.inclusiveRight:m.inclusiveLeft)&&(near=movePos(doc,near,-dir,near&&near.line==pos.line?line:null)),near&&near.line==pos.line&&(diff=cmp(near,oldPos))&&(0>dir?0>diff:0<diff))return skipAtomicInner(doc,near,pos,dir,mayClear)}var far=m.find(0>dir?-1:1);return(0>dir?m.inclusiveLeft:m.inclusiveRight)&&(far=movePos(doc,far,dir,far.line==pos.line?line:null)),far?skipAtomicInner(doc,far,pos,dir,mayClear):null}}return pos}function skipAtomic(doc,pos,oldPos,bias,mayClear){var dir=bias||1,found=skipAtomicInner(doc,pos,oldPos,dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,dir,!0)||skipAtomicInner(doc,pos,oldPos,-dir,mayClear)||!mayClear&&skipAtomicInner(doc,pos,oldPos,-dir,!0);return found?found:(doc.cantEdit=!0,Pos(doc.first,0))}function movePos(doc,pos,dir,line){return 0>dir&&0==pos.ch?pos.line>doc.first?_clipPos(doc,Pos(pos.line-1)):null:0<dir&&pos.ch==(line||getLine(doc,pos.line)).text.length?pos.line<doc.first+doc.size-1?Pos(pos.line+1,0):null:new Pos(pos.line,pos.ch+dir)}function selectAll(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll)}function filterChange(doc,change,update){var obj={canceled:!1,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function cancel(){return obj.canceled=!0}};return update&&(obj.update=function(from,to,text,origin){from&&(obj.from=_clipPos(doc,from)),to&&(obj.to=_clipPos(doc,to)),text&&(obj.text=text),void 0!==origin&&(obj.origin=origin)}),signal(doc,"beforeChange",doc,obj),doc.cm&&signal(doc.cm,"beforeChange",doc.cm,obj),obj.canceled?null:{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin}}function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp)return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly);if(doc.cm.state.suppressEdits)return}if(!((hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange"))&&(change=filterChange(doc,change,!0),!change))){var split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);if(split)for(var i=split.length-1;0<=i;--i)makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[""]:change.text});else makeChangeInner(doc,change)}}function makeChangeInner(doc,change){if(1!=change.text.length||""!=change.text[0]||0!=cmp(change.from,change.to)){var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN),makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,sharedHist){sharedHist||-1!=indexOf(rebased,doc.history)||(rebaseHist(doc.history,change),rebased.push(doc.history)),makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change))})}}function makeChangeFromHistory(doc,type,allowSelectionOnly){if(!(doc.cm&&doc.cm.state.suppressEdits&&!allowSelectionOnly)){for(var hist=doc.history,selAfter=doc.sel,source="undo"==type?hist.done:hist.undone,dest="undo"==type?hist.undone:hist.done,i=0,event;i<source.length&&(event=source[i],allowSelectionOnly?!event.ranges||event.equals(doc.sel):!!event.ranges);i++);if(i!=source.length){for(hist.lastOrigin=hist.lastSelOrigin=null;;)if(event=source.pop(),event.ranges){if(pushSelectionToHistory(event,dest),allowSelectionOnly&&!event.equals(doc.sel))return void setSelection(doc,event,{clearRedo:!1});selAfter=event}else break;var antiChanges=[];pushSelectionToHistory(selAfter,dest),dest.push({changes:antiChanges,generation:hist.generation}),hist.generation=event.generation||++hist.maxGeneration;for(var filter=hasHandler(doc,"beforeChange")||doc.cm&&hasHandler(doc.cm,"beforeChange"),loop=function(i){var change=event.changes[i];if(change.origin=type,filter&&!filterChange(doc,change,!1))return source.length=0,{};antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change)),!i&&doc.cm&&doc.cm.scrollIntoView({from:change.from,to:changeEnd(change)});var rebased=[];linkedDocs(doc,function(doc,sharedHist){sharedHist||-1!=indexOf(rebased,doc.history)||(rebaseHist(doc.history,change),rebased.push(doc.history)),makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change))})},i$1=event.changes.length-1,returned;0<=i$1;--i$1)if(returned=loop(i$1),returned)return returned.v}}}function shiftDoc(doc,distance){if(0!=distance&&(doc.first+=distance,doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch))}),doc.sel.primIndex),doc.cm)){regChange(doc.cm,doc.first,doc.first-distance,distance);for(var d=doc.cm.display,l=d.viewFrom;l<d.viewTo;l++)regLineChange(doc.cm,l,"gutter")}}function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans);if(change.to.line<doc.first)return void shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));if(!(change.from.line>doc.lastLine())){if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift),change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin}}var last=doc.lastLine();change.to.line>last&&(change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin}),change.removed=getBetween(doc,change.from,change.to),selAfter||(selAfter=computeSelAfterChange(doc,change)),doc.cm?makeChangeSingleDocInEditor(doc.cm,change,spans):updateDoc(doc,change,spans),setSelectionNoUndo(doc,selAfter,sel_dontScroll)}}function makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc,display=cm.display,from=change.from,to=change.to,recomputeMaxLength=!1,checkWidthStart=from.line;cm.options.lineWrapping||(checkWidthStart=lineNo(visualLine(getLine(doc,from.line))),doc.iter(checkWidthStart,to.line+1,function(line){if(line==display.maxLine)return recomputeMaxLength=!0,!0})),-1<doc.sel.contains(change.from,change.to)&&signalCursorActivity(cm),updateDoc(doc,change,spans,estimateHeight(cm)),cm.options.lineWrapping||(doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);len>display.maxLineLength&&(display.maxLine=line,display.maxLineLength=len,display.maxLineChanged=!0,recomputeMaxLength=!1)}),recomputeMaxLength&&(cm.curOp.updateMaxLine=!0)),retreatFrontier(doc,from.line),startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;change.full?regChange(cm):from.line!=to.line||1!=change.text.length||isWholeLineUpdate(cm.doc,change)?regChange(cm,from.line,to.line+1,lendiff):regLineChange(cm,from.line,"text");var changesHandler=hasHandler(cm,"changes"),changeHandler=hasHandler(cm,"change");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,removed:change.removed,origin:change.origin};changeHandler&&signalLater(cm,"change",cm,obj),changesHandler&&(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj)}cm.display.selForContextMenu=null}function _replaceRange(doc,code,from,to,origin){if(to||(to=from),0>cmp(to,from)){var tmp=to;to=from,from=tmp}"string"==typeof code&&(code=doc.splitLines(code)),makeChange(doc,{from:from,to:to,text:code,origin:origin})}function rebaseHistSelSingle(pos,from,to,diff){to<pos.line?pos.line+=diff:from<pos.line&&(pos.line=from,pos.ch=0)}function rebaseHistArray(array,from,to,diff){for(var i=0;i<array.length;++i){var sub=array[i],ok=!0;if(sub.ranges){sub.copied||(sub=array[i]=sub.deepCopy(),sub.copied=!0);for(var j=0;j<sub.ranges.length;j++)rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff),rebaseHistSelSingle(sub.ranges[j].head,from,to,diff);continue}for(var j$1=0,cur;j$1<sub.changes.length;++j$1)if(cur=sub.changes[j$1],to<cur.from.line)cur.from=Pos(cur.from.line+diff,cur.from.ch),cur.to=Pos(cur.to.line+diff,cur.to.ch);else if(from<=cur.to.line){ok=!1;break}ok||(array.splice(0,i+1),i=0)}}function rebaseHist(hist,change){var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff),rebaseHistArray(hist.undone,from,to,diff)}function changeLine(doc,handle,changeType,op){var no=handle,line=handle;return("number"==typeof handle?line=getLine(doc,clipLine(doc,handle)):no=lineNo(handle),null==no)?null:(op(line,no)&&doc.cm&&regLineChange(doc.cm,no,changeType),line)}function LeafChunk(lines){var this$1=this;this.lines=lines,this.parent=null;for(var height=0,i=0;i<lines.length;++i)lines[i].parent=this$1,height+=lines[i].height;this.height=height}function BranchChunk(children){var this$1=this;this.children=children;for(var size=0,height=0,i=0,ch;i<children.length;++i)ch=children[i],size+=ch.chunkSize(),height+=ch.height,ch.parent=this$1;this.size=size,this.height=height,this.parent=null}function adjustScrollWhenAboveVisible(cm,line,diff){_heightAtLine(line)<(cm.curOp&&cm.curOp.scrollTop||cm.doc.scrollTop)&&addToScrollTop(cm,diff)}function addLineWidget(doc,handle,node,options){var widget=new LineWidget(doc,node,options),cm=doc.cm;return cm&&widget.noHScroll&&(cm.display.alignWidgets=!0),changeLine(doc,handle,"widget",function(line){var widgets=line.widgets||(line.widgets=[]);if(null==widget.insertAt?widgets.push(widget):widgets.splice(_Mathmin(widgets.length-1,_Mathmax(0,widget.insertAt)),0,widget),widget.line=line,cm&&!lineIsHidden(doc,line)){var aboveVisible=_heightAtLine(line)<doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget)),aboveVisible&&addToScrollTop(cm,widget.height),cm.curOp.forceUpdate=!0}return!0}),signalLater(cm,"lineWidgetAdded",cm,widget,"number"==typeof handle?handle:lineNo(handle)),widget}function _markText(doc,from,to,options,type){if(options&&options.shared)return markTextShared(doc,from,to,options,type);if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,_markText)(doc,from,to,options,type);var marker=new TextMarker(doc,type),diff=cmp(from,to);if(options&&copyObj(options,marker,!1),0<diff||0==diff&&!1!==marker.clearWhenEmpty)return marker;if(marker.replacedWith&&(marker.collapsed=!0,marker.widgetNode=eltP("span",[marker.replacedWith],"CodeMirror-widget"),!options.handleMouseEvents&&marker.widgetNode.setAttribute("cm-ignore-events","true"),options.insertLeft&&(marker.widgetNode.insertLeft=!0)),marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker))throw new Error("Inserting collapsed marker partially overlapping an existing one");seeCollapsedSpans()}marker.addToHistory&&addChangeToHistory(doc,{from:from,to:to,origin:"markText"},doc.sel,NaN);var curLine=from.line,cm=doc.cm,updateMaxLine;if(doc.iter(curLine,to.line+1,function(line){cm&&marker.collapsed&&!cm.options.lineWrapping&&visualLine(line)==cm.display.maxLine&&(updateMaxLine=!0),marker.collapsed&&curLine!=from.line&&updateLineHeight(line,0),addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null)),++curLine}),marker.collapsed&&doc.iter(from.line,to.line+1,function(line){lineIsHidden(doc,line)&&updateLineHeight(line,0)}),marker.clearOnEnter&&on(marker,"beforeCursorEnter",function(){return marker.clear()}),marker.readOnly&&(seeReadOnlySpans(),(doc.history.done.length||doc.history.undone.length)&&doc.clearHistory()),marker.collapsed&&(marker.id=++nextMarkerId,marker.atomic=!0),cm){if(updateMaxLine&&(cm.curOp.updateMaxLine=!0),marker.collapsed)regChange(cm,from.line,to.line+1);else if(marker.className||marker.title||marker.startStyle||marker.endStyle||marker.css)for(var i=from.line;i<=to.line;i++)regLineChange(cm,i,"text");marker.atomic&&reCheckSelection(cm.doc),signalLater(cm,"markerAdded",cm,marker)}return marker}function markTextShared(doc,from,to,options,type){options=copyObj(options),options.shared=!1;var markers=[_markText(doc,from,to,options,type)],primary=markers[0],widget=options.widgetNode;return linkedDocs(doc,function(doc){widget&&(options.widgetNode=widget.cloneNode(!0)),markers.push(_markText(doc,_clipPos(doc,from),_clipPos(doc,to),options,type));for(var i=0;i<doc.linked.length;++i)if(doc.linked[i].isParent)return;primary=lst(markers)}),new SharedTextMarker(markers,primary)}function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent})}function copySharedMarkers(doc,markers){for(var i=0;i<markers.length;i++){var marker=markers[i],pos=marker.find(),mFrom=doc.clipPos(pos.from),mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=_markText(doc,mFrom,mTo,marker.primary,marker.primary.type);marker.markers.push(subMark),subMark.parent=marker}}}function detachSharedMarkers(markers){for(var loop=function(i){var marker=markers[i],linked=[marker.primary.doc];linkedDocs(marker.primary.doc,function(d){return linked.push(d)});for(var j=0,subMarker;j<marker.markers.length;j++)subMarker=marker.markers[j],-1==indexOf(linked,subMarker.doc)&&(subMarker.parent=null,marker.markers.splice(j--,1))},i=0;i<markers.length;i++)loop(i)}function onDrop(e){var cm=this;if(clearDragCursor(cm),!(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))){e_preventDefault(e),ie&&(lastDrop=+new Date);var pos=posFromMouse(cm,e,!0),files=e.dataTransfer.files;if(pos&&!cm.isReadOnly())if(files&&files.length&&window.FileReader&&window.File)for(var n=files.length,text=Array(n),read=0,loadFile=function(file,i){if(!(cm.options.allowDropFileTypes&&-1==indexOf(cm.options.allowDropFileTypes,file.type))){var reader=new FileReader;reader.onload=operation(cm,function(){var content=reader.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(content)&&(content=""),text[i]=content,++read==n){pos=_clipPos(cm.doc,pos);var change={from:pos,to:pos,text:cm.doc.splitLines(text.join(cm.doc.lineSeparator())),origin:"paste"};makeChange(cm.doc,change),setSelectionReplaceHistory(cm.doc,simpleSelection(pos,changeEnd(change)))}}),reader.readAsText(file)}},i=0;i<n;++i)loadFile(files[i],i);else{if(cm.state.draggingText&&-1<cm.doc.sel.contains(pos))return cm.state.draggingText(e),void setTimeout(function(){return cm.display.input.focus()},20);try{var text$1=e.dataTransfer.getData("Text");if(text$1){var selected;if(cm.state.draggingText&&!cm.state.draggingText.copy&&(selected=cm.listSelections()),setSelectionNoUndo(cm.doc,simpleSelection(pos,pos)),selected)for(var i$1=0;i$1<selected.length;++i$1)_replaceRange(cm.doc,"",selected[i$1].anchor,selected[i$1].head,"drag");cm.replaceSelection(text$1,"around","paste"),cm.display.input.focus()}}catch(e){}}}}function onDragStart(cm,e){if(ie&&(!cm.state.draggingText||100>+new Date-lastDrop))return void e_stop(e);if(!(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))&&(e.dataTransfer.setData("Text",cm.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!safari)){var img=elt("img",null,null,"position: fixed; left: 0; top: 0;");img.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",presto&&(img.width=img.height=1,cm.display.wrapper.appendChild(img),img._top=img.offsetTop),e.dataTransfer.setDragImage(img,0,0),presto&&img.parentNode.removeChild(img)}}function onDragOver(cm,e){var pos=posFromMouse(cm,e);if(pos){var frag=document.createDocumentFragment();drawSelectionCursor(cm,pos,frag),cm.display.dragCursor||(cm.display.dragCursor=elt("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),cm.display.lineSpace.insertBefore(cm.display.dragCursor,cm.display.cursorDiv)),removeChildrenAndAdd(cm.display.dragCursor,frag)}}function clearDragCursor(cm){cm.display.dragCursor&&(cm.display.lineSpace.removeChild(cm.display.dragCursor),cm.display.dragCursor=null)}function forEachCodeMirror(f){if(document.getElementsByClassName)for(var byClass=document.getElementsByClassName("CodeMirror"),i=0,cm;i<byClass.length;i++)cm=byClass[i].CodeMirror,cm&&f(cm)}function ensureGlobalHandlers(){globalsRegistered||(registerGlobalHandlers(),globalsRegistered=!0)}function registerGlobalHandlers(){var resizeTimer;on(window,"resize",function(){null==resizeTimer&&(resizeTimer=setTimeout(function(){resizeTimer=null,forEachCodeMirror(onResize)},100))}),on(window,"blur",function(){return forEachCodeMirror(onBlur)})}function onResize(cm){var d=cm.display;d.lastWrapHeight==d.wrapper.clientHeight&&d.lastWrapWidth==d.wrapper.clientWidth||(d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.scrollbarsClipped=!1,cm.setSize())}function normalizeKeyName(name){var parts=name.split(/-(?!$)/);name=parts[parts.length-1];for(var i=0,alt,ctrl,shift,cmd,mod;i<parts.length-1;i++)if(mod=parts[i],/^(cmd|meta|m)$/i.test(mod))cmd=!0;else if(/^a(lt)?$/i.test(mod))alt=!0;else if(/^(c|ctrl|control)$/i.test(mod))ctrl=!0;else if(/^s(hift)?$/i.test(mod))shift=!0;else throw new Error("Unrecognized modifier name: "+mod);return alt&&(name="Alt-"+name),ctrl&&(name="Ctrl-"+name),cmd&&(name="Cmd-"+name),shift&&(name="Shift-"+name),name}function normalizeKeyMap(keymap){var copy={};for(var keyname in keymap)if(keymap.hasOwnProperty(keyname)){var value=keymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname))continue;if("..."==value){delete keymap[keyname];continue}for(var keys=map(keyname.split(" "),normalizeKeyName),i=0;i<keys.length;i++){var val=void 0,name=void 0;i==keys.length-1?(name=keys.join(" "),val=value):(name=keys.slice(0,i+1).join(" "),val="...");var prev=copy[name];if(!prev)copy[name]=val;else if(prev!=val)throw new Error("Inconsistent bindings for "+name)}delete keymap[keyname]}for(var prop in copy)keymap[prop]=copy[prop];return keymap}function lookupKey(key,map$$1,handle,context){map$$1=getKeyMap(map$$1);var found=map$$1.call?map$$1.call(key,context):map$$1[key];if(!1===found)return"nothing";if("..."===found)return"multi";if(null!=found&&handle(found))return"handled";if(map$$1.fallthrough){if("[object Array]"!=Object.prototype.toString.call(map$$1.fallthrough))return lookupKey(key,map$$1.fallthrough,handle,context);for(var i=0,result;i<map$$1.fallthrough.length;i++)if(result=lookupKey(key,map$$1.fallthrough[i],handle,context),result)return result}}function isModifierKey(value){var name="string"==typeof value?value:keyNames[value.keyCode];return"Ctrl"==name||"Alt"==name||"Shift"==name||"Mod"==name}function addModifierNames(name,event,noShift){var base=name;return event.altKey&&"Alt"!=base&&(name="Alt-"+name),(flipCtrlCmd?event.metaKey:event.ctrlKey)&&"Ctrl"!=base&&(name="Ctrl-"+name),(flipCtrlCmd?event.ctrlKey:event.metaKey)&&"Cmd"!=base&&(name="Cmd-"+name),!noShift&&event.shiftKey&&"Shift"!=base&&(name="Shift-"+name),name}function keyName(event,noShift){if(presto&&34==event.keyCode&&event.char)return!1;var name=keyNames[event.keyCode];return!(null==name||event.altGraphKey)&&addModifierNames(name,event,noShift)}function getKeyMap(val){return"string"==typeof val?keyMap[val]:val}function deleteNearSelection(cm,compute){for(var ranges=cm.doc.sel.ranges,kill=[],i=0,toKill;i<ranges.length;i++){for(toKill=compute(ranges[i]);kill.length&&0>=cmp(toKill.from,lst(kill).to);){var replaced=kill.pop();if(0>cmp(replaced.from,toKill.from)){toKill.from=replaced.from;break}}kill.push(toKill)}runInOp(cm,function(){for(var i=kill.length-1;0<=i;i--)_replaceRange(cm.doc,"",kill[i].from,kill[i].to,"+delete");ensureCursorVisible(cm)})}function lineStart(cm,lineN){var line=getLine(cm.doc,lineN),visual=visualLine(line);return visual!=line&&(lineN=lineNo(visual)),endOfLine(!0,cm,visual,lineN,1)}function lineEnd(cm,lineN){var line=getLine(cm.doc,lineN),visual=visualLineEnd(line);return visual!=line&&(lineN=lineNo(visual)),endOfLine(!0,cm,line,lineN,-1)}function lineStartSmart(cm,pos){var start=lineStart(cm,pos.line),line=getLine(cm.doc,start.line),order=getOrder(line,cm.doc.direction);if(!order||0==order[0].level){var firstNonWS=_Mathmax(0,line.text.search(/\S/)),inWS=pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch;return Pos(start.line,inWS?0:firstNonWS,start.sticky)}return start}function doHandleBinding(cm,bound,dropShift){if("string"==typeof bound&&(bound=commands[bound],!bound))return!1;cm.display.input.ensurePolled();var prevShift=cm.display.shift,done=!1;try{cm.isReadOnly()&&(cm.state.suppressEdits=!0),dropShift&&(cm.display.shift=!1),done=bound(cm)!=Pass}finally{cm.display.shift=prevShift,cm.state.suppressEdits=!1}return done}function lookupKeyForEditor(cm,name,handle){for(var i=0,result;i<cm.state.keyMaps.length;i++)if(result=lookupKey(name,cm.state.keyMaps[i],handle,cm),result)return result;return cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm)||lookupKey(name,cm.options.keyMap,handle,cm)}function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name))return"handled";stopSeq.set(50,function(){cm.state.keySeq==seq&&(cm.state.keySeq=null,cm.display.input.reset())}),name=seq+" "+name}var result=lookupKeyForEditor(cm,name,handle);return"multi"==result&&(cm.state.keySeq=name),"handled"==result&&signalLater(cm,"keyHandled",cm,name,e),("handled"==result||"multi"==result)&&(e_preventDefault(e),restartBlink(cm)),seq&&!result&&/\'$/.test(name)?(e_preventDefault(e),!0):!!result}function handleKeyBinding(cm,e){var name=keyName(e,!0);return!!name&&(e.shiftKey&&!cm.state.keySeq?dispatchKey(cm,"Shift-"+name,e,function(b){return doHandleBinding(cm,b,!0)})||dispatchKey(cm,name,e,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion)return doHandleBinding(cm,b)}):dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b)}))}function handleCharBinding(cm,e,ch){return dispatchKey(cm,"'"+ch+"'",e,function(b){return doHandleBinding(cm,b,!0)})}function onKeyDown(e){var cm=this;if(cm.curOp.focus=activeElt(),!signalDOMEvent(cm,e)){ie&&11>ie_version&&27==e.keyCode&&(e.returnValue=!1);var code=e.keyCode;cm.display.shift=16==code||e.shiftKey;var handled=handleKeyBinding(cm,e);presto&&(lastStoppedKey=handled?code:null,!handled&&88==code&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey)&&cm.replaceSelection("",null,"cut")),18!=code||/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className)||showCrossHair(cm)}}function showCrossHair(cm){function up(e){18!=e.keyCode&&e.altKey||(rmClass(lineDiv,"CodeMirror-crosshair"),off(document,"keyup",up),off(document,"mouseover",up))}var lineDiv=cm.display.lineDiv;addClass(lineDiv,"CodeMirror-crosshair"),on(document,"keyup",up),on(document,"mouseover",up)}function onKeyUp(e){16==e.keyCode&&(this.doc.sel.shift=!1),signalDOMEvent(this,e)}function onKeyPress(e){var cm=this;if(!(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey)){var keyCode=e.keyCode,charCode=e.charCode;if(presto&&keyCode==lastStoppedKey)return lastStoppedKey=null,void e_preventDefault(e);if(!(presto&&(!e.which||10>e.which)&&handleKeyBinding(cm,e))){var ch=_StringfromCharCode(null==charCode?keyCode:charCode);"\b"==ch||handleCharBinding(cm,e,ch)||cm.display.input.onKeyPress(e)}}}function clickRepeat(pos,button){var now=+new Date;return lastDoubleClick&&lastDoubleClick.compare(now,pos,button)?(lastClick=lastDoubleClick=null,"triple"):lastClick&&lastClick.compare(now,pos,button)?(lastDoubleClick=new PastClick(now,pos,button),lastClick=null,"double"):(lastClick=new PastClick(now,pos,button),lastDoubleClick=null,"single")}function onMouseDown(e){var cm=this,display=cm.display;if(!(signalDOMEvent(cm,e)||display.activeTouch&&display.input.supportsTouch())){if(display.input.ensurePolled(),display.shift=e.shiftKey,eventInWidget(display,e))return void(webkit||(display.scroller.draggable=!1,setTimeout(function(){return display.scroller.draggable=!0},100)));if(!clickInGutter(cm,e)){var pos=posFromMouse(cm,e),button=e_button(e),repeat=pos?clickRepeat(pos,button):"single";window.focus(),1==button&&cm.state.selectingText&&cm.state.selectingText(e),pos&&handleMappedButton(cm,button,pos,repeat,e)||(1==button?pos?leftButtonDown(cm,pos,repeat,e):e_target(e)==display.scroller&&e_preventDefault(e):2==button?(pos&&extendSelection(cm.doc,pos),setTimeout(function(){return display.input.focus()},20)):3==button&&(captureRightClick?onContextMenu(cm,e):delayBlurEvent(cm)))}}}function handleMappedButton(cm,button,pos,repeat,event){var name="Click";return"double"==repeat?name="Double"+name:"triple"==repeat&&(name="Triple"+name),name=(1==button?"Left":2==button?"Middle":"Right")+name,dispatchKey(cm,addModifierNames(name,event),event,function(bound){if("string"==typeof bound&&(bound=commands[bound]),!bound)return!1;var done=!1;try{cm.isReadOnly()&&(cm.state.suppressEdits=!0),done=bound(cm,pos)!=Pass}finally{cm.state.suppressEdits=!1}return done})}function configureMouse(cm,repeat,event){var option=cm.getOption("configureMouse"),value=option?option(cm,repeat,event):{};if(null==value.unit){var rect=chromeOS?event.shiftKey&&event.metaKey:event.altKey;value.unit=rect?"rectangle":"single"==repeat?"char":"double"==repeat?"word":"line"}return(null==value.extend||cm.doc.extend)&&(value.extend=cm.doc.extend||event.shiftKey),null==value.addNew&&(value.addNew=mac?event.metaKey:event.ctrlKey),null==value.moveOnDrag&&(value.moveOnDrag=mac?!event.altKey:!event.ctrlKey),value}function leftButtonDown(cm,pos,repeat,event){ie?setTimeout(bind(ensureFocus,cm),0):cm.curOp.focus=activeElt();var behavior=configureMouse(cm,repeat,event),sel=cm.doc.sel,contained;cm.options.dragDrop&&dragAndDrop&&!cm.isReadOnly()&&"single"==repeat&&-1<(contained=sel.contains(pos))&&(0>cmp((contained=sel.ranges[contained]).from(),pos)||0<pos.xRel)&&(0<cmp(contained.to(),pos)||0>pos.xRel)?leftButtonStartDrag(cm,event,pos,behavior):leftButtonSelect(cm,event,pos,behavior)}function leftButtonStartDrag(cm,event,pos,behavior){var display=cm.display,moved=!1,dragEnd=operation(cm,function(e){webkit&&(display.scroller.draggable=!1),cm.state.draggingText=!1,off(document,"mouseup",dragEnd),off(document,"mousemove",mouseMove),off(display.scroller,"dragstart",dragStart),off(display.scroller,"drop",dragEnd),moved||(e_preventDefault(e),!behavior.addNew&&extendSelection(cm.doc,pos,null,null,behavior.extend),webkit||ie&&9==ie_version?setTimeout(function(){document.body.focus(),display.input.focus()},20):display.input.focus())}),mouseMove=function(e2){moved=moved||10<=_Mathabs2(event.clientX-e2.clientX)+_Mathabs2(event.clientY-e2.clientY)},dragStart=function(){return moved=!0};webkit&&(display.scroller.draggable=!0),cm.state.draggingText=dragEnd,dragEnd.copy=!behavior.moveOnDrag,display.scroller.dragDrop&&display.scroller.dragDrop(),on(document,"mouseup",dragEnd),on(document,"mousemove",mouseMove),on(display.scroller,"dragstart",dragStart),on(display.scroller,"drop",dragEnd),delayBlurEvent(cm),setTimeout(function(){return display.input.focus()},20)}function rangeForUnit(cm,pos,unit){if("char"==unit)return new Range(pos,pos);if("word"==unit)return cm.findWordAt(pos);if("line"==unit)return new Range(Pos(pos.line,0),_clipPos(cm.doc,Pos(pos.line+1,0)));var result=unit(cm,pos);return new Range(result.from,result.to)}function leftButtonSelect(cm,event,start,behavior){function extendTo(pos){if(0!=cmp(lastPos,pos))if(lastPos=pos,"rectangle"==behavior.unit){for(var ranges=[],tabSize=cm.options.tabSize,startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize),posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize),left=_Mathmin(startCol,posCol),right=_Mathmax(startCol,posCol),line=_Mathmin(start.line,pos.line),end=_Mathmin(cm.lastLine(),_Mathmax(start.line,pos.line));line<=end;line++){var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);left==right?ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos))):text.length>leftPos&&ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))))}ranges.length||ranges.push(new Range(start,start)),setSelection(doc,normalizeSelection(startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:"*mouse",scroll:!1}),cm.scrollIntoView(pos)}else{var oldRange=ourRange,range$$1=rangeForUnit(cm,pos,behavior.unit),anchor=oldRange.anchor,head;0<cmp(range$$1.anchor,anchor)?(head=range$$1.head,anchor=minPos(oldRange.from(),range$$1.anchor)):(head=range$$1.anchor,anchor=maxPos(oldRange.to(),range$$1.head));var ranges$1=startSel.ranges.slice(0);ranges$1[ourIndex]=new Range(_clipPos(doc,anchor),head),setSelection(doc,normalizeSelection(ranges$1,ourIndex),sel_mouse)}}function extend(e){var curCount=++counter,cur=posFromMouse(cm,e,!0,"rectangle"==behavior.unit);if(cur)if(0!=cmp(cur,lastPos)){cm.curOp.focus=activeElt(),extendTo(cur);var visible=visibleLines(display,doc);(cur.line>=visible.to||cur.line<visible.from)&&setTimeout(operation(cm,function(){counter==curCount&&extend(e)}),150)}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:0;outside&&setTimeout(operation(cm,function(){counter!=curCount||(display.scroller.scrollTop+=outside,extend(e))}),50)}}function done(e){cm.state.selectingText=!1,counter=Infinity,e_preventDefault(e),display.input.focus(),off(document,"mousemove",move),off(document,"mouseup",up),doc.history.lastSelOrigin=null}var display=cm.display,doc=cm.doc;e_preventDefault(event);var startSel=doc.sel,ranges=startSel.ranges,ourRange,ourIndex;if(behavior.addNew&&!behavior.extend?(ourIndex=doc.sel.contains(start),ourRange=-1<ourIndex?ranges[ourIndex]:new Range(start,start)):(ourRange=doc.sel.primary(),ourIndex=doc.sel.primIndex),"rectangle"==behavior.unit)behavior.addNew||(ourRange=new Range(start,start)),start=posFromMouse(cm,event,!0,!0),ourIndex=-1;else{var range$$1=rangeForUnit(cm,start,behavior.unit);ourRange=behavior.extend?extendRange(ourRange,range$$1.anchor,range$$1.head,behavior.extend):range$$1}behavior.addNew?-1==ourIndex?(ourIndex=ranges.length,setSelection(doc,normalizeSelection(ranges.concat([ourRange]),ourIndex),{scroll:!1,origin:"*mouse"})):1<ranges.length&&ranges[ourIndex].empty()&&"char"==behavior.unit&&!behavior.extend?(setSelection(doc,normalizeSelection(ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0),{scroll:!1,origin:"*mouse"}),startSel=doc.sel):replaceOneSelection(doc,ourIndex,ourRange,sel_mouse):(ourIndex=0,setSelection(doc,new Selection([ourRange],0),sel_mouse),startSel=doc.sel);var lastPos=start,editorSize=display.wrapper.getBoundingClientRect(),counter=0,move=operation(cm,function(e){e_button(e)?extend(e):done(e)}),up=operation(cm,done);cm.state.selectingText=up,on(document,"mousemove",move),on(document,"mouseup",up)}function gutterEvent(cm,e,type,prevent){var mX,mY;try{mX=e.clientX,mY=e.clientY}catch(e){return!1}if(mX>=_Mathfloor(cm.display.gutters.getBoundingClientRect().right))return!1;prevent&&e_preventDefault(e);var display=cm.display,lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type))return e_defaultPrevented(e);mY-=lineBox.top-display.viewOffset;for(var i=0,g;i<cm.options.gutters.length;++i)if(g=display.gutters.childNodes[i],g&&g.getBoundingClientRect().right>=mX){var line=_lineAtHeight(cm.doc,mY),gutter=cm.options.gutters[i];return signal(cm,type,cm,line,gutter,e),e_defaultPrevented(e)}}function clickInGutter(cm,e){return gutterEvent(cm,e,"gutterClick",!0)}function onContextMenu(cm,e){eventInWidget(cm.display,e)||contextMenuInGutter(cm,e)||signalDOMEvent(cm,e,"contextmenu")||cm.display.input.onContextMenu(e)}function contextMenuInGutter(cm,e){return!!hasHandler(cm,"gutterContextMenu")&&gutterEvent(cm,e,"gutterContextMenu",!1)}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+cm.options.theme.replace(/(^|\s)\s*/g," cm-s-"),clearCaches(cm)}function guttersChanged(cm){updateGutters(cm),regChange(cm),alignHorizontally(cm)}function dragDropChanged(cm,value,old){if(!value!=!(old&&old!=Init)){var funcs=cm.display.dragFunctions,toggle=value?on:off;toggle(cm.display.scroller,"dragstart",funcs.start),toggle(cm.display.scroller,"dragenter",funcs.enter),toggle(cm.display.scroller,"dragover",funcs.over),toggle(cm.display.scroller,"dragleave",funcs.leave),toggle(cm.display.scroller,"drop",funcs.drop)}}function wrappingChanged(cm){cm.options.lineWrapping?(addClass(cm.display.wrapper,"CodeMirror-wrap"),cm.display.sizer.style.minWidth="",cm.display.sizerWidth=null):(rmClass(cm.display.wrapper,"CodeMirror-wrap"),findMaxLine(cm)),estimateLineHeights(cm),regChange(cm),clearCaches(cm),setTimeout(function(){return updateScrollbars(cm)},100)}function CodeMirror$1(place,options){var this$1=this;if(!(this instanceof CodeMirror$1))return new CodeMirror$1(place,options);this.options=options=options?copyObj(options):{},copyObj(defaults,options,!1),setGuttersForLineNumbers(options);var doc=options.value;"string"==typeof doc&&(doc=new Doc(doc,options.mode,null,options.lineSeparator,options.direction)),this.doc=doc;var input=new CodeMirror$1.inputStyles[options.inputStyle](this),display=this.display=new Display(place,doc,input);for(var opt in display.wrapper.CodeMirror=this,updateGutters(this),themeChanged(this),options.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),initScrollbars(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Delayed,keySeq:null,specialChars:null},options.autofocus&&!mobile&&display.input.focus(),ie&&11>ie_version&&setTimeout(function(){return this$1.display.input.reset(!0)},20),registerEventHandlers(this),ensureGlobalHandlers(),_startOperation(this),this.curOp.forceUpdate=!0,attachDoc(this,doc),options.autofocus&&!mobile||this.hasFocus()?setTimeout(bind(onFocus,this),20):onBlur(this),optionHandlers)optionHandlers.hasOwnProperty(opt)&&optionHandlers[opt](this$1,options[opt],Init);maybeUpdateLineNumberWidth(this),options.finishInit&&options.finishInit(this);for(var i=0;i<initHooks.length;++i)initHooks[i](this$1);_endOperation(this),webkit&&options.lineWrapping&&"optimizelegibility"==getComputedStyle(display.lineDiv).textRendering&&(display.lineDiv.style.textRendering="auto")}function registerEventHandlers(cm){function finishTouch(){d.activeTouch&&(touchFinished=setTimeout(function(){return d.activeTouch=null},1e3),prevTouch=d.activeTouch,prevTouch.end=+new Date)}function isMouseLikeTouchEvent(e){if(1!=e.touches.length)return!1;var touch=e.touches[0];return 1>=touch.radiusX&&1>=touch.radiusY}function farAway(touch,other){if(null==other.left)return!0;var dx=other.left-touch.left,dy=other.top-touch.top;return dx*dx+dy*dy>20*20}var d=cm.display;on(d.scroller,"mousedown",operation(cm,onMouseDown)),ie&&11>ie_version?on(d.scroller,"dblclick",operation(cm,function(e){if(!signalDOMEvent(cm,e)){var pos=posFromMouse(cm,e);if(!(!pos||clickInGutter(cm,e)||eventInWidget(cm.display,e))){e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head)}}})):on(d.scroller,"dblclick",function(e){return signalDOMEvent(cm,e)||e_preventDefault(e)}),captureRightClick||on(d.scroller,"contextmenu",function(e){return onContextMenu(cm,e)});var prevTouch={end:0},touchFinished;on(d.scroller,"touchstart",function(e){if(!signalDOMEvent(cm,e)&&!isMouseLikeTouchEvent(e)){d.input.ensurePolled(),clearTimeout(touchFinished);var now=+new Date;d.activeTouch={start:now,moved:!1,prev:300>=now-prevTouch.end?prevTouch:null},1==e.touches.length&&(d.activeTouch.left=e.touches[0].pageX,d.activeTouch.top=e.touches[0].pageY)}}),on(d.scroller,"touchmove",function(){d.activeTouch&&(d.activeTouch.moved=!0)}),on(d.scroller,"touchend",function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&null!=touch.left&&!touch.moved&&300>new Date-touch.start){var pos=cm.coordsChar(d.activeTouch,"page"),range;range=!touch.prev||farAway(touch,touch.prev)?new Range(pos,pos):!touch.prev.prev||farAway(touch,touch.prev.prev)?cm.findWordAt(pos):new Range(Pos(pos.line,0),_clipPos(cm.doc,Pos(pos.line+1,0))),cm.setSelection(range.anchor,range.head),cm.focus(),e_preventDefault(e)}finishTouch()}),on(d.scroller,"touchcancel",finishTouch),on(d.scroller,"scroll",function(){d.scroller.clientHeight&&(updateScrollTop(cm,d.scroller.scrollTop),setScrollLeft(cm,d.scroller.scrollLeft,!0),signal(cm,"scroll",cm))}),on(d.scroller,"mousewheel",function(e){return onScrollWheel(cm,e)}),on(d.scroller,"DOMMouseScroll",function(e){return onScrollWheel(cm,e)}),on(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0}),d.dragFunctions={enter:function enter(e){signalDOMEvent(cm,e)||e_stop(e)},over:function over(e){signalDOMEvent(cm,e)||(onDragOver(cm,e),e_stop(e))},start:function start(e){return onDragStart(cm,e)},drop:operation(cm,onDrop),leave:function leave(e){signalDOMEvent(cm,e)||clearDragCursor(cm)}};var inp=d.input.getField();on(inp,"keyup",function(e){return onKeyUp.call(cm,e)}),on(inp,"keydown",operation(cm,onKeyDown)),on(inp,"keypress",operation(cm,onKeyPress)),on(inp,"focus",function(e){return onFocus(cm,e)}),on(inp,"blur",function(e){return onBlur(cm,e)})}function indentLine(cm,n,how,aggressive){var doc=cm.doc,state;null==how&&(how="add"),"smart"==how&&(doc.mode.indent?state=getContextBefore(cm,n).state:how="prev");var tabSize=cm.options.tabSize,line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);line.stateAfter&&(line.stateAfter=null);var curSpaceString=line.text.match(/^\s*/)[0],indentation;if(!aggressive&&!/\S/.test(line.text))indentation=0,how="not";else if("smart"==how&&(indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text),indentation==Pass||150<indentation)){if(!aggressive)return;how="prev"}"prev"==how?n>doc.first?indentation=countColumn(getLine(doc,n-1).text,null,tabSize):indentation=0:"add"==how?indentation=curSpace+cm.options.indentUnit:"subtract"==how?indentation=curSpace-cm.options.indentUnit:"number"==typeof how&&(indentation=curSpace+how),indentation=_Mathmax(0,indentation);var indentString="",pos=0;if(cm.options.indentWithTabs)for(var i=_Mathfloor(indentation/tabSize);i;--i)pos+=tabSize,indentString+="\t";if(pos<indentation&&(indentString+=spaceStr(indentation-pos)),indentString!=curSpaceString)return _replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),"+input"),line.stateAfter=null,!0;for(var i$1=0,range;i$1<doc.sel.ranges.length;i$1++)if(range=doc.sel.ranges[i$1],range.head.line==n&&range.head.ch<curSpaceString.length){var pos$1=Pos(n,curSpaceString.length);replaceOneSelection(doc,i$1,new Range(pos$1,pos$1));break}}function setLastCopied(newLastCopied){lastCopied=newLastCopied}function applyTextInput(cm,inserted,deleted,sel,origin){var doc=cm.doc;cm.display.shift=!1,sel||(sel=doc.sel);var paste=cm.state.pasteIncoming||"paste"==origin,textLines=splitLinesAuto(inserted),multiPaste=null;if(paste&&1<sel.ranges.length)if(!(lastCopied&&lastCopied.text.join("\n")==inserted))textLines.length==sel.ranges.length&&cm.options.pasteLinesPerSelection&&(multiPaste=map(textLines,function(l){return[l]}));else if(0==sel.ranges.length%lastCopied.text.length){multiPaste=[];for(var i=0;i<lastCopied.text.length;i++)multiPaste.push(doc.splitLines(lastCopied.text[i]))}for(var i$1=sel.ranges.length-1,updateInput;0<=i$1;i$1--){var range$$1=sel.ranges[i$1],from=range$$1.from(),to=range$$1.to();range$$1.empty()&&(deleted&&0<deleted?from=Pos(from.line,from.ch-deleted):cm.state.overwrite&&!paste?to=Pos(to.line,_Mathmin(getLine(doc,to.line).text.length,to.ch+lst(textLines).length)):lastCopied&&lastCopied.lineWise&&lastCopied.text.join("\n")==inserted&&(from=to=Pos(from.line,0))),updateInput=cm.curOp.updateInput;var changeEvent={from:from,to:to,text:multiPaste?multiPaste[i$1%multiPaste.length]:textLines,origin:origin||(paste?"paste":cm.state.cutIncoming?"cut":"+input")};makeChange(cm.doc,changeEvent),signalLater(cm,"inputRead",cm,changeEvent)}inserted&&!paste&&triggerElectric(cm,inserted),ensureCursorVisible(cm),cm.curOp.updateInput=updateInput,cm.curOp.typing=!0,cm.state.pasteIncoming=cm.state.cutIncoming=!1}function handlePaste(e,cm){var pasted=e.clipboardData&&e.clipboardData.getData("Text");if(pasted)return e.preventDefault(),cm.isReadOnly()||cm.options.disableInput||runInOp(cm,function(){return applyTextInput(cm,pasted,0,null,"paste")}),!0}function triggerElectric(cm,inserted){if(cm.options.electricChars&&cm.options.smartIndent)for(var sel=cm.doc.sel,i=sel.ranges.length-1,range$$1;0<=i;i--)if(range$$1=sel.ranges[i],!(100<range$$1.head.ch||i&&sel.ranges[i-1].head.line==range$$1.head.line)){var mode=cm.getModeAt(range$$1.head),indented=!1;if(mode.electricChars){for(var j=0;j<mode.electricChars.length;j++)if(-1<inserted.indexOf(mode.electricChars.charAt(j))){indented=indentLine(cm,range$$1.head.line,"smart");break}}else mode.electricInput&&mode.electricInput.test(getLine(cm.doc,range$$1.head.line).text.slice(0,range$$1.head.ch))&&(indented=indentLine(cm,range$$1.head.line,"smart"));indented&&signalLater(cm,"electricInput",cm,range$$1.head.line)}}function copyableRanges(cm){for(var text=[],ranges=[],i=0;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line,lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange),text.push(cm.getRange(lineRange.anchor,lineRange.head))}return{text:text,ranges:ranges}}function disableBrowserMagic(field,spellcheck){field.setAttribute("autocorrect","off"),field.setAttribute("autocapitalize","off"),field.setAttribute("spellcheck",!!spellcheck)}function hiddenTextarea(){var te=elt("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),div=elt("div",[te],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return webkit?te.style.width="1000px":te.setAttribute("wrap","off"),ios&&(te.style.border="1px solid black"),disableBrowserMagic(te),div}function _findPosH(doc,pos,dir,unit,visually){function findNextLine(){var l=pos.line+dir;return!(l<doc.first||l>=doc.first+doc.size)&&(pos=new Pos(l,pos.ch,pos.sticky),lineObj=getLine(doc,l))}function moveOnce(boundToLine){var next;if(next=visually?moveVisually(doc.cm,lineObj,pos,dir):moveLogically(lineObj,pos,dir),null!=next)pos=next;else if(!boundToLine&&findNextLine())pos=endOfLine(visually,doc.cm,lineObj,pos.line,dir);else return!1;return!0}var oldPos=pos,origDir=dir,lineObj=getLine(doc,pos.line);if("char"==unit)moveOnce();else if("column"==unit)moveOnce(!0);else if("word"==unit||"group"==unit)for(var sawType=null,group="group"==unit,helper=doc.cm&&doc.cm.getHelper(pos,"wordChars"),first=!0;;first=!1){if(0>dir&&!moveOnce(!first))break;var cur=lineObj.text.charAt(pos.ch)||"\n",type=isWordChar(cur,helper)?"w":group&&"\n"==cur?"n":!group||/\s/.test(cur)?null:"p";if(!group||first||type||(type="s"),sawType&&sawType!=type){0>dir&&(dir=1,moveOnce(),pos.sticky="after");break}if(type&&(sawType=type),0<dir&&!moveOnce(!first))break}var result=skipAtomic(doc,pos,oldPos,origDir,!0);return equalCursorPos(oldPos,result)&&(result.hitSide=!0),result}function _findPosV(cm,pos,dir,unit){var doc=cm.doc,x=pos.left,y;if("page"==unit){var pageSize=_Mathmin(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),moveAmount=_Mathmax(pageSize-.5*textHeight(cm.display),3);y=(0<dir?pos.bottom:pos.top)+dir*moveAmount}else"line"==unit&&(y=0<dir?pos.bottom+3:pos.top-3);for(var target;;){if(target=_coordsChar(cm,x,y),!target.outside)break;if(0>dir?0>=y:y>=doc.height){target.hitSide=!0;break}y+=5*dir}return target}function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden)return null;var line=getLine(cm.doc,pos.line),info=mapFromLineView(view,line,pos.line),order=getOrder(line,cm.doc.direction),side="left";if(order){var partPos=getBidiPartAt(order,pos.ch);side=partPos%2?"right":"left"}var result=nodeAndOffsetInLineMap(info.map,pos.ch,side);return result.offset="right"==result.collapse?result.end:result.start,result}function isInGutter(node){for(var scan=node;scan;scan=scan.parentNode)if(/CodeMirror-gutter-wrapper/.test(scan.className))return!0;return!1}function badPos(pos,bad){return bad&&(pos.bad=!0),pos}function domTextBetween(cm,from,to,fromLine,toLine){function recognizeMarker(id){return function(marker){return marker.id==id}}function close(){closing&&(text+=lineSep,closing=!1)}function addText(str){str&&(close(),text+=str)}function walk(node){if(1==node.nodeType){var cmText=node.getAttribute("cm-text");if(null!=cmText)return void addText(cmText||node.textContent.replace(/\u200b/g,""));var markerID=node.getAttribute("cm-marker"),range$$1;if(markerID){var found=cm.findMarks(Pos(fromLine,0),Pos(toLine+1,0),recognizeMarker(+markerID));return void(found.length&&(range$$1=found[0].find())&&addText(getBetween(cm.doc,range$$1.from,range$$1.to).join(lineSep)))}if("false"==node.getAttribute("contenteditable"))return;var isBlock=/^(pre|div|p)$/i.test(node.nodeName);isBlock&&close();for(var i=0;i<node.childNodes.length;i++)walk(node.childNodes[i]);isBlock&&(closing=!0)}else 3==node.nodeType&&addText(node.nodeValue)}for(var text="",closing=!1,lineSep=cm.doc.lineSeparator();;){if(walk(from),from==to)break;from=from.nextSibling}return text}function domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){if(lineNode=cm.display.lineDiv.childNodes[offset],!lineNode)return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),!0);node=null,offset=0}else for(lineNode=node;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv)return null;if(lineNode.parentNode&&lineNode.parentNode==cm.display.lineDiv)break}for(var i=0,lineView;i<cm.display.view.length;i++)if(lineView=cm.display.view[i],lineView.node==lineNode)return locateNodeInLineView(lineView,node,offset)}function locateNodeInLineView(lineView,node,offset){function find(textNode,topNode,offset){for(var i=-1,map$$1;i<(maps?maps.length:0);i++){map$$1=0>i?measure.map:maps[i];for(var j=0,curNode;j<map$$1.length;j+=3)if(curNode=map$$1[j+2],curNode==textNode||curNode==topNode){var line=lineNo(0>i?lineView.line:lineView.rest[i]),ch=map$$1[j]+offset;return(0>offset||curNode!=textNode)&&(ch=map$$1[j+(offset?1:0)]),Pos(line,ch)}}}var wrapper=lineView.text.firstChild,bad=!1;if(!node||!contains(wrapper,node))return badPos(Pos(lineNo(lineView.line),0),!0);if(node==wrapper&&(bad=!0,node=wrapper.childNodes[offset],offset=0,!node)){var line=lineView.rest?lst(lineView.rest):lineView.line;return badPos(Pos(lineNo(line),line.text.length),bad)}var textNode=3==node.nodeType?node:null,topNode=node;for(textNode||1!=node.childNodes.length||3!=node.firstChild.nodeType||(textNode=node.firstChild,offset&&(offset=textNode.nodeValue.length));topNode.parentNode!=wrapper;)topNode=topNode.parentNode;var measure=lineView.measure,maps=measure.maps,found=find(textNode,topNode,offset);if(found)return badPos(found,bad);for(var after=topNode.nextSibling,dist=textNode?textNode.nodeValue.length-offset:0;after;after=after.nextSibling){if(found=find(after,after.firstChild,0),found)return badPos(Pos(found.line,found.ch-dist),bad);dist+=after.textContent.length}for(var before=topNode.previousSibling,dist$1=offset;before;before=before.previousSibling){if(found=find(before,before.firstChild,-1),found)return badPos(Pos(found.line,found.ch+dist$1),bad);dist$1+=before.textContent.length}}var _StringfromCharCode=String.fromCharCode,_Mathceil=Math.ceil,_Mathfloor=Math.floor,_Mathabs2=Math.abs,_Mathmin=Math.min,_Mathmax=Math.max,_Mathround2=Math.round,userAgent=navigator.userAgent,platform=navigator.platform,gecko=/gecko\/\d/i.test(userAgent),ie_upto10=/MSIE \d/.test(userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(userAgent),edge=/Edge\/(\d+)/.exec(userAgent),ie=ie_upto10||ie_11up||edge,ie_version=ie&&(ie_upto10?document.documentMode||6:+(edge||ie_11up)[1]),webkit=!edge&&/WebKit\//.test(userAgent),qtwebkit=webkit&&/Qt\/\d+\.\d+/.test(userAgent),chrome=!edge&&/Chrome\//.test(userAgent),presto=/Opera\//.test(userAgent),safari=/Apple Computer/.test(navigator.vendor),mac_geMountainLion=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(userAgent),phantom=/PhantomJS/.test(userAgent),ios=!edge&&/AppleWebKit/.test(userAgent)&&/Mobile\/\w+/.test(userAgent),android=/Android/.test(userAgent),mobile=ios||android||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent),mac=ios||/Mac/.test(platform),chromeOS=/\bCrOS\b/.test(userAgent),windows=/win/i.test(platform),presto_version=presto&&userAgent.match(/Version\/(\d*\.\d*)/);presto_version&&(presto_version=+presto_version[1]),presto_version&&15<=presto_version&&(presto=!1,webkit=!0);var flipCtrlCmd=mac&&(qtwebkit||presto&&(null==presto_version||12.11>presto_version)),captureRightClick=gecko||ie&&9<=ie_version,rmClass=function(node,cls){var current=node.className,match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?match[1]+after:"")}},range;range=document.createRange?function(node,start,end,endNode){var r=document.createRange();return r.setEnd(endNode||node,end),r.setStart(node,start),r}:function(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",end),r.moveStart("character",start),r};var selectInput=function(node){node.select()};ios?selectInput=function(node){node.selectionStart=0,node.selectionEnd=node.value.length}:ie&&(selectInput=function(node){try{node.select()}catch(_e){}});var Delayed=function(){this.id=null};Delayed.prototype.set=function(ms,f){clearTimeout(this.id),this.id=setTimeout(f,ms)};var scrollerGap=30,Pass={toString:function toString(){return"CodeMirror.Pass"}},sel_dontScroll={scroll:!1},sel_mouse={origin:"*mouse"},sel_move={origin:"+move"},spaceStrs=[""],nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,extendingChars=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,sawReadOnlySpans=!1,sawCollapsedSpans=!1,bidiOther=null,bidiOrdering=function(){function charType(code){return 247>=code?lowTypes.charAt(code):1424<=code&&1524>=code?"R":1536<=code&&1785>=code?arabicTypes.charAt(code-1536):1774<=code&&2220>=code?"r":8192<=code&&8203>=code?"w":8204==code?"b":"L"}function BidiSpan(level,from,to){this.level=level,this.from=from,this.to=to}var lowTypes="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",arabicTypes="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/;return function(str,direction){var outerType="ltr"==direction?"L":"R";if(0==str.length||"ltr"==direction&&!bidiRE.test(str))return!1;for(var len=str.length,types=[],i=0;i<len;++i)types.push(charType(str.charCodeAt(i)));for(var i$1=0,prev=outerType,type;i$1<len;++i$1)type=types[i$1],"m"==type?types[i$1]=prev:prev=type;for(var i$2=0,cur=outerType,type$1;i$2<len;++i$2)type$1=types[i$2],"1"==type$1&&"r"==cur?types[i$2]="n":isStrong.test(type$1)&&(cur=type$1,"r"==type$1&&(types[i$2]="R"));for(var i$3=1,prev$1=types[0],type$2;i$3<len-1;++i$3)type$2=types[i$3],"+"==type$2&&"1"==prev$1&&"1"==types[i$3+1]?types[i$3]="1":","==type$2&&prev$1==types[i$3+1]&&("1"==prev$1||"n"==prev$1)&&(types[i$3]=prev$1),prev$1=type$2;for(var i$4=0,type$3;i$4<len;++i$4)if(type$3=types[i$4],","==type$3)types[i$4]="N";else if("%"==type$3){var end=void 0;for(end=i$4+1;end<len&&"%"==types[end];++end);for(var replace=i$4&&"!"==types[i$4-1]||end<len&&"1"==types[end]?"1":"N",j=i$4;j<end;++j)types[j]=replace;i$4=end-1}for(var i$5=0,cur$1=outerType,type$4;i$5<len;++i$5)type$4=types[i$5],"L"==cur$1&&"1"==type$4?types[i$5]="L":isStrong.test(type$4)&&(cur$1=type$4);for(var i$6=0;i$6<len;++i$6)if(isNeutral.test(types[i$6])){var end$1=void 0;for(end$1=i$6+1;end$1<len&&isNeutral.test(types[end$1]);++end$1);for(var before="L"==(i$6?types[i$6-1]:outerType),after="L"==(end$1<len?types[end$1]:outerType),replace$1=before==after?before?"L":"R":outerType,j$1=i$6;j$1<end$1;++j$1)types[j$1]=replace$1;i$6=end$1-1}for(var order=[],i$7=0,m;i$7<len;)if(countsAsLeft.test(types[i$7])){var start=i$7;for(++i$7;i$7<len&&countsAsLeft.test(types[i$7]);++i$7);order.push(new BidiSpan(0,start,i$7))}else{var pos=i$7,at=order.length;for(++i$7;i$7<len&&"L"!=types[i$7];++i$7);for(var j$2=pos;j$2<i$7;)if(countsAsNum.test(types[j$2])){pos<j$2&&order.splice(at,0,new BidiSpan(1,pos,j$2));var nstart=j$2;for(++j$2;j$2<i$7&&countsAsNum.test(types[j$2]);++j$2);order.splice(at,0,new BidiSpan(2,nstart,j$2)),pos=j$2}else++j$2;pos<i$7&&order.splice(at,0,new BidiSpan(1,pos,i$7))}return 1==order[0].level&&(m=str.match(/^\s+/))&&(order[0].from=m[0].length,order.unshift(new BidiSpan(0,0,m[0].length))),1==lst(order).level&&(m=str.match(/\s+$/))&&(lst(order).to-=m[0].length,order.push(new BidiSpan(0,len-m[0].length,len))),"rtl"==direction?order.reverse():order}}(),noHandlers=[],on=function(emitter,type,f){if(emitter.addEventListener)emitter.addEventListener(type,f,!1);else if(emitter.attachEvent)emitter.attachEvent("on"+type,f);else{var map$$1=emitter._handlers||(emitter._handlers={});map$$1[type]=(map$$1[type]||noHandlers).concat(f)}},dragAndDrop=function(){if(ie&&9>ie_version)return!1;var div=elt("div");return"draggable"in div||"dragDrop"in div}(),splitLinesAuto=3=="\n\nb".split(/\n/).length?function(string){return string.split(/\r\n?|\n/)}:function(string){for(var pos=0,result=[],l=string.length,nl;pos<=l;){nl=string.indexOf("\n",pos),-1==nl&&(nl=string.length);var line=string.slice(pos,"\r"==string.charAt(nl-1)?nl-1:nl),rt=line.indexOf("\r");-1==rt?(result.push(line),pos=nl+1):(result.push(line.slice(0,rt)),pos+=rt+1)}return result},hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd}catch(e){return!1}}:function(te){var range$$1;try{range$$1=te.ownerDocument.selection.createRange()}catch(e){}return!!(range$$1&&range$$1.parentElement()==te)&&0!=range$$1.compareEndPoints("StartToEnd",range$$1)},hasCopyEvent=function(){var e=elt("div");return!!("oncopy"in e)||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),badZoomedRects=null,modes={},mimeModes={},modeExtensions={},StringStream=function(string,tabSize,lineOracle){this.pos=this.start=0,this.string=string,this.tabSize=tabSize||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=lineOracle},zwspSupported,badBidiRects;StringStream.prototype.eol=function(){return this.pos>=this.string.length},StringStream.prototype.sol=function(){return this.pos==this.lineStart},StringStream.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},StringStream.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},StringStream.prototype.eat=function(match){var ch=this.string.charAt(this.pos),ok;if(ok="string"==typeof match?ch==match:ch&&(match.test?match.test(ch):match(ch)),ok)return++this.pos,ch},StringStream.prototype.eatWhile=function(match){for(var start=this.pos;this.eat(match););return this.pos>start},StringStream.prototype.eatSpace=function(){for(var this$1=this,start=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this$1.pos;return this.pos>start},StringStream.prototype.skipToEnd=function(){this.pos=this.string.length},StringStream.prototype.skipTo=function(ch){var found=this.string.indexOf(ch,this.pos);if(-1<found)return this.pos=found,!0},StringStream.prototype.backUp=function(n){this.pos-=n},StringStream.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},StringStream.prototype.indentation=function(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0)},StringStream.prototype.match=function(pattern,consume,caseInsensitive){if("string"==typeof pattern){var cased=function(str){return caseInsensitive?str.toLowerCase():str},substr=this.string.substr(this.pos,pattern.length);if(cased(substr)==cased(pattern))return!1!==consume&&(this.pos+=pattern.length),!0}else{var match=this.string.slice(this.pos).match(pattern);return match&&0<match.index?null:(match&&!1!==consume&&(this.pos+=match[0].length),match)}},StringStream.prototype.current=function(){return this.string.slice(this.start,this.pos)},StringStream.prototype.hideFirstChars=function(n,inner){this.lineStart+=n;try{return inner()}finally{this.lineStart-=n}},StringStream.prototype.lookAhead=function(n){var oracle=this.lineOracle;return oracle&&oracle.lookAhead(n)};var SavedContext=function(state,lookAhead){this.state=state,this.lookAhead=lookAhead},Context=function(doc,state,line,lookAhead){this.state=state,this.doc=doc,this.line=line,this.maxLookAhead=lookAhead||0};Context.prototype.lookAhead=function(n){var line=this.doc.getLine(this.line+n);return null!=line&&n>this.maxLookAhead&&(this.maxLookAhead=n),line},Context.prototype.nextLine=function(){this.line++,0<this.maxLookAhead&&this.maxLookAhead--},Context.fromSaved=function(doc,saved,line){return saved instanceof SavedContext?new Context(doc,copyState(doc.mode,saved.state),line,saved.lookAhead):new Context(doc,copyState(doc.mode,saved),line)},Context.prototype.save=function(copy){var state=!1===copy?this.state:copyState(this.doc.mode,this.state);return 0<this.maxLookAhead?new SavedContext(state,this.maxLookAhead):state};var Token=function(stream,type,state){this.start=stream.start,this.end=stream.pos,this.string=stream.current(),this.type=type||null,this.state=state},Line=function(text,markedSpans,estimateHeight){this.text=text,attachMarkedSpans(this,markedSpans),this.height=estimateHeight?estimateHeight(this):1};Line.prototype.lineNo=function(){return lineNo(this)},eventMixin(Line);var styleToClassCache={},styleToClassCacheWithMode={},operationGroup=null,orphanDelayedCallbacks=null,nullRect={left:0,right:0,top:0,bottom:0},NativeScrollbars=function(place,scroll,cm){this.cm=cm;var vert=this.vert=elt("div",[elt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),horiz=this.horiz=elt("div",[elt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");place(vert),place(horiz),on(vert,"scroll",function(){vert.clientHeight&&scroll(vert.scrollTop,"vertical")}),on(horiz,"scroll",function(){horiz.clientWidth&&scroll(horiz.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ie&&8>ie_version&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")},measureText;NativeScrollbars.prototype.update=function(measure){var needsH=measure.scrollWidth>measure.clientWidth+1,needsV=measure.scrollHeight>measure.clientHeight+1,sWidth=measure.nativeBarWidth;if(needsV){this.vert.style.display="block",this.vert.style.bottom=needsH?sWidth+"px":"0";var totalHeight=measure.viewHeight-(needsH?sWidth:0);this.vert.firstChild.style.height=_Mathmax(0,measure.scrollHeight-measure.clientHeight+totalHeight)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(needsH){this.horiz.style.display="block",this.horiz.style.right=needsV?sWidth+"px":"0",this.horiz.style.left=measure.barLeft+"px";var totalWidth=measure.viewWidth-measure.barLeft-(needsV?sWidth:0);this.horiz.firstChild.style.width=_Mathmax(0,measure.scrollWidth-measure.clientWidth+totalWidth)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&0<measure.clientHeight&&(0==sWidth&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:needsV?sWidth:0,bottom:needsH?sWidth:0}},NativeScrollbars.prototype.setScrollLeft=function(pos){this.horiz.scrollLeft!=pos&&(this.horiz.scrollLeft=pos),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},NativeScrollbars.prototype.setScrollTop=function(pos){this.vert.scrollTop!=pos&&(this.vert.scrollTop=pos),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},NativeScrollbars.prototype.zeroWidthHack=function(){var w=mac&&!mac_geMountainLion?"12px":"18px";this.horiz.style.height=this.vert.style.width=w,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Delayed,this.disableVert=new Delayed},NativeScrollbars.prototype.enableZeroWidthBar=function(bar,delay,type){function maybeDisable(){var box=bar.getBoundingClientRect(),elt$$1="vert"==type?document.elementFromPoint(box.right-1,(box.top+box.bottom)/2):document.elementFromPoint((box.right+box.left)/2,box.bottom-1);elt$$1==bar?delay.set(1e3,maybeDisable):bar.style.pointerEvents="none"}bar.style.pointerEvents="auto",delay.set(1e3,maybeDisable)},NativeScrollbars.prototype.clear=function(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz),parent.removeChild(this.vert)};var NullScrollbars=function(){};NullScrollbars.prototype.update=function(){return{bottom:0,right:0}},NullScrollbars.prototype.setScrollLeft=function(){},NullScrollbars.prototype.setScrollTop=function(){},NullScrollbars.prototype.clear=function(){};var scrollbarModel={native:NativeScrollbars,null:NullScrollbars},nextOpId=0,DisplayUpdate=function(cm,viewport,force){var display=cm.display;this.viewport=viewport,this.visible=visibleLines(display,cm.doc,viewport),this.editorIsHidden=!display.wrapper.offsetWidth,this.wrapperHeight=display.wrapper.clientHeight,this.wrapperWidth=display.wrapper.clientWidth,this.oldDisplayWidth=displayWidth(cm),this.force=force,this.dims=getDimensions(cm),this.events=[]};DisplayUpdate.prototype.signal=function(emitter,type){hasHandler(emitter,type)&&this.events.push(arguments)},DisplayUpdate.prototype.finish=function(){for(var this$1=this,i=0;i<this.events.length;i++)signal.apply(null,this$1.events[i])};var wheelSamples=0,wheelPixelsPerUnit=null;ie?wheelPixelsPerUnit=-.53:gecko?wheelPixelsPerUnit=15:chrome?wheelPixelsPerUnit=-.7:safari&&(wheelPixelsPerUnit=-1/3);var Selection=function(ranges,primIndex){this.ranges=ranges,this.primIndex=primIndex};Selection.prototype.primary=function(){return this.ranges[this.primIndex]},Selection.prototype.equals=function(other){var this$1=this;if(other==this)return!0;if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length)return!1;for(var i=0;i<this.ranges.length;i++){var here=this$1.ranges[i],there=other.ranges[i];if(!equalCursorPos(here.anchor,there.anchor)||!equalCursorPos(here.head,there.head))return!1}return!0},Selection.prototype.deepCopy=function(){for(var this$1=this,out=[],i=0;i<this.ranges.length;i++)out[i]=new Range(copyPos(this$1.ranges[i].anchor),copyPos(this$1.ranges[i].head));return new Selection(out,this.primIndex)},Selection.prototype.somethingSelected=function(){for(var this$1=this,i=0;i<this.ranges.length;i++)if(!this$1.ranges[i].empty())return!0;return!1},Selection.prototype.contains=function(pos,end){var this$1=this;end||(end=pos);for(var i=0,range;i<this.ranges.length;i++)if(range=this$1.ranges[i],0<=cmp(end,range.from())&&0>=cmp(pos,range.to()))return i;return-1};var Range=function(anchor,head){this.anchor=anchor,this.head=head};Range.prototype.from=function(){return minPos(this.anchor,this.head)},Range.prototype.to=function(){return maxPos(this.anchor,this.head)},Range.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},LeafChunk.prototype={chunkSize:function(){return this.lines.length},removeInner:function(at,n){for(var this$1=this,i=at,line;i<at+n;++i)line=this$1.lines[i],this$1.height-=line.height,cleanUpLine(line),signalLater(line,"delete");this.lines.splice(at,n)},collapse:function(lines){lines.push.apply(lines,this.lines)},insertInner:function(at,lines,height){var this$1=this;this.height+=height,this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));for(var i=0;i<lines.length;++i)lines[i].parent=this$1},iterN:function(at,n,op){for(var this$1=this,e=at+n;at<e;++at)if(op(this$1.lines[at]))return!0}},BranchChunk.prototype={chunkSize:function(){return this.size},removeInner:function(at,n){var this$1=this;this.size-=n;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<sz){var rm=_Mathmin(n,sz-at),oldHeight=child.height;if(child.removeInner(at,rm),this$1.height-=oldHeight-child.height,sz==rm&&(this$1.children.splice(i--,1),child.parent=null),0==(n-=rm))break;at=0}else at-=sz}if(25>this.size-n&&(1<this.children.length||!(this.children[0]instanceof LeafChunk))){var lines=[];this.collapse(lines),this.children=[new LeafChunk(lines)],this.children[0].parent=this}},collapse:function(lines){for(var this$1=this,i=0;i<this.children.length;++i)this$1.children[i].collapse(lines)},insertInner:function(at,lines,height){var this$1=this;this.size+=lines.length,this.height+=height;for(var i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<=sz){if(child.insertInner(at,lines,height),child.lines&&50<child.lines.length){for(var remaining=child.lines.length%25+25,pos=remaining,leaf;pos<child.lines.length;)leaf=new LeafChunk(child.lines.slice(pos,pos+=25)),child.height-=leaf.height,this$1.children.splice(++i,0,leaf),leaf.parent=this$1;child.lines=child.lines.slice(0,remaining),this$1.maybeSpill()}break}at-=sz}},maybeSpill:function(){if(!(10>=this.children.length)){var me=this;do{var spilled=me.children.splice(me.children.length-5,5),sibling=new BranchChunk(spilled);if(!me.parent){var copy=new BranchChunk(me.children);copy.parent=me,me.children=[copy,sibling],me=copy}else{me.size-=sibling.size,me.height-=sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling)}sibling.parent=me.parent}while(10<me.children.length);me.parent.maybeSpill()}},iterN:function(at,n,op){for(var this$1=this,i=0;i<this.children.length;++i){var child=this$1.children[i],sz=child.chunkSize();if(at<sz){var used=_Mathmin(n,sz-at);if(child.iterN(at,used,op))return!0;if(0==(n-=used))break;at=0}else at-=sz}}};var LineWidget=function(doc,node,options){var this$1=this;if(options)for(var opt in options)options.hasOwnProperty(opt)&&(this$1[opt]=options[opt]);this.doc=doc,this.node=node};LineWidget.prototype.clear=function(){var this$1=this,cm=this.doc.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);if(null!=no&&ws){for(var i=0;i<ws.length;++i)ws[i]==this$1&&ws.splice(i--,1);ws.length||(line.widgets=null);var height=widgetHeight(this);updateLineHeight(line,_Mathmax(0,line.height-height)),cm&&(runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height),regLineChange(cm,no,"widget")}),signalLater(cm,"lineWidgetCleared",cm,this,no))}},LineWidget.prototype.changed=function(){var this$1=this,oldH=this.height,cm=this.doc.cm,line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;diff&&(updateLineHeight(line,line.height+diff),cm&&runInOp(cm,function(){cm.curOp.forceUpdate=!0,adjustScrollWhenAboveVisible(cm,line,diff),signalLater(cm,"lineWidgetChanged",cm,this$1,lineNo(line))}))},eventMixin(LineWidget);var nextMarkerId=0,TextMarker=function(doc,type){this.lines=[],this.type=type,this.doc=doc,this.id=++nextMarkerId};TextMarker.prototype.clear=function(){var this$1=this;if(!this.explicitlyCleared){var cm=this.doc.cm,withOp=cm&&!cm.curOp;if(withOp&&_startOperation(cm),hasHandler(this,"clear")){var found=this.find();found&&signalLater(this,"clear",found.from,found.to)}for(var min=null,max=null,i=0;i<this.lines.length;++i){var line=this$1.lines[i],span=getMarkedSpanFor(line.markedSpans,this$1);cm&&!this$1.collapsed?regLineChange(cm,lineNo(line),"text"):cm&&(null!=span.to&&(max=lineNo(line)),null!=span.from&&(min=lineNo(line))),line.markedSpans=removeMarkedSpan(line.markedSpans,span),null==span.from&&this$1.collapsed&&!lineIsHidden(this$1.doc,line)&&cm&&updateLineHeight(line,textHeight(cm.display))}if(cm&&this.collapsed&&!cm.options.lineWrapping)for(var i$1=0;i$1<this.lines.length;++i$1){var visual=visualLine(this$1.lines[i$1]),len=lineLength(visual);len>cm.display.maxLineLength&&(cm.display.maxLine=visual,cm.display.maxLineLength=len,cm.display.maxLineChanged=!0)}null!=min&&cm&&this.collapsed&&regChange(cm,min,max+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,cm&&reCheckSelection(cm.doc)),cm&&signalLater(cm,"markerCleared",cm,this,min,max),withOp&&_endOperation(cm),this.parent&&this.parent.clear()}},TextMarker.prototype.find=function(side,lineObj){var this$1=this;null==side&&"bookmark"==this.type&&(side=1);for(var i=0,from,to;i<this.lines.length;++i){var line=this$1.lines[i],span=getMarkedSpanFor(line.markedSpans,this$1);if(null!=span.from&&(from=Pos(lineObj?line:lineNo(line),span.from),-1==side))return from;if(null!=span.to&&(to=Pos(lineObj?line:lineNo(line),span.to),1==side))return to}return from&&{from:from,to:to}},TextMarker.prototype.changed=function(){var this$1=this,pos=this.find(-1,!0),widget=this,cm=this.doc.cm;pos&&cm&&runInOp(cm,function(){var line=pos.line,lineN=lineNo(pos.line),view=findViewForLine(cm,lineN);if(view&&(clearLineMeasurementCacheFor(view),cm.curOp.selectionChanged=cm.curOp.forceUpdate=!0),cm.curOp.updateMaxLine=!0,!lineIsHidden(widget.doc,line)&&null!=widget.height){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;dHeight&&updateLineHeight(line,line.height+dHeight)}signalLater(cm,"markerChanged",cm,this$1)})},TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;op.maybeHiddenMarkers&&-1!=indexOf(op.maybeHiddenMarkers,this)||(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(line)},TextMarker.prototype.detachLine=function(line){if(this.lines.splice(indexOf(this.lines,line),1),!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this)}},eventMixin(TextMarker);var SharedTextMarker=function(markers,primary){var this$1=this;this.markers=markers,this.primary=primary;for(var i=0;i<markers.length;++i)markers[i].parent=this$1};SharedTextMarker.prototype.clear=function(){var this$1=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var i=0;i<this.markers.length;++i)this$1.markers[i].clear();signalLater(this,"clear")}},SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj)},eventMixin(SharedTextMarker);var nextDocId=0,Doc=function(text,mode,firstLine,lineSep,direction){if(!(this instanceof Doc))return new Doc(text,mode,firstLine,lineSep,direction);null==firstLine&&(firstLine=0),BranchChunk.call(this,[new LeafChunk([new Line("",null)])]),this.first=firstLine,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start),this.history=new History(null),this.id=++nextDocId,this.modeOption=mode,this.lineSep=lineSep,this.direction="rtl"==direction?"rtl":"ltr",this.extend=!1,"string"==typeof text&&(text=this.splitLines(text)),updateDoc(this,{from:start,to:start,text:text}),setSelection(this,simpleSelection(start),sel_dontScroll)};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,iter:function iter(from,to,op){op?this.iterN(from-this.first,to-from,op):this.iterN(this.first,this.first+this.size,from)},insert:function insert(at,lines){for(var height=0,i=0;i<lines.length;++i)height+=lines[i].height;this.insertInner(at-this.first,lines,height)},remove:function remove(at,n){this.removeInner(at-this.first,n)},getValue:function getValue(lineSep){var lines=getLines(this,this.first,this.first+this.size);return!1===lineSep?lines:lines.join(lineSep||this.lineSeparator())},setValue:docMethodOp(function(code){var top=Pos(this.first,0),last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:this.splitLines(code),origin:"setValue",full:!0},!0),this.cm&&scrollToCoords(this.cm,0,0),setSelection(this,simpleSelection(top),sel_dontScroll)}),replaceRange:function replaceRange(code,from,to,origin){from=_clipPos(this,from),to=to?_clipPos(this,to):from,_replaceRange(this,code,from,to,origin)},getRange:function getRange(from,to,lineSep){var lines=getBetween(this,_clipPos(this,from),_clipPos(this,to));return!1===lineSep?lines:lines.join(lineSep||this.lineSeparator())},getLine:function(line){var l=this.getLineHandle(line);return l&&l.text},getLineHandle:function getLineHandle(line){if(isLine(this,line))return getLine(this,line)},getLineNumber:function getLineNumber(line){return lineNo(line)},getLineHandleVisualStart:function getLineHandleVisualStart(line){return"number"==typeof line&&(line=getLine(this,line)),visualLine(line)},lineCount:function lineCount(){return this.size},firstLine:function firstLine(){return this.first},lastLine:function lastLine(){return this.first+this.size-1},clipPos:function clipPos(pos){return _clipPos(this,pos)},getCursor:function getCursor(start){var range$$1=this.sel.primary(),pos;return pos=null==start||"head"==start?range$$1.head:"anchor"==start?range$$1.anchor:"end"==start||"to"==start||!1===start?range$$1.to():range$$1.from(),pos},listSelections:function listSelections(){return this.sel.ranges},somethingSelected:function somethingSelected(){return this.sel.somethingSelected()},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,_clipPos(this,"number"==typeof line?Pos(line,ch||0):line),null,options)}),setSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,_clipPos(this,anchor),_clipPos(this,head||anchor),options)}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,_clipPos(this,head),other&&_clipPos(this,other),options)}),extendSelections:docMethodOp(function(heads,options){extendSelections(this,clipPosArray(this,heads),options)}),extendSelectionsBy:docMethodOp(function(f,options){var heads=map(this.sel.ranges,f);extendSelections(this,clipPosArray(this,heads),options)}),setSelections:docMethodOp(function(ranges,primary,options){var this$1=this;if(ranges.length){for(var out=[],i=0;i<ranges.length;i++)out[i]=new Range(_clipPos(this$1,ranges[i].anchor),_clipPos(this$1,ranges[i].head));null==primary&&(primary=_Mathmin(ranges.length-1,this.sel.primIndex)),setSelection(this,normalizeSelection(out,primary),options)}}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(_clipPos(this,anchor),_clipPos(this,head||anchor))),setSelection(this,normalizeSelection(ranges,ranges.length-1),options)}),getSelection:function getSelection(lineSep){for(var this$1=this,ranges=this.sel.ranges,i=0,lines,sel;i<ranges.length;i++)sel=getBetween(this$1,ranges[i].from(),ranges[i].to()),lines=lines?lines.concat(sel):sel;return!1===lineSep?lines:lines.join(lineSep||this.lineSeparator())},getSelections:function getSelections(lineSep){for(var this$1=this,parts=[],ranges=this.sel.ranges,i=0,sel;i<ranges.length;i++)sel=getBetween(this$1,ranges[i].from(),ranges[i].to()),!1!==lineSep&&(sel=sel.join(lineSep||this$1.lineSeparator())),parts[i]=sel;return parts},replaceSelection:function replaceSelection(code,collapse,origin){for(var dup=[],i=0;i<this.sel.ranges.length;i++)dup[i]=code;this.replaceSelections(dup,collapse,origin||"+input")},replaceSelections:docMethodOp(function(code,collapse,origin){for(var this$1=this,changes=[],sel=this.sel,i=0,range$$1;i<sel.ranges.length;i++)range$$1=sel.ranges[i],changes[i]={from:range$$1.from(),to:range$$1.to(),text:this$1.splitLines(code[i]),origin:origin};for(var newSel=collapse&&"end"!=collapse&&computeReplacedSel(this,changes,collapse),i$1=changes.length-1;0<=i$1;i$1--)makeChange(this$1,changes[i$1]);newSel?setSelectionReplaceHistory(this,newSel):this.cm&&ensureCursorVisible(this.cm)}),undo:docMethodOp(function(){makeChangeFromHistory(this,"undo")}),redo:docMethodOp(function(){makeChangeFromHistory(this,"redo")}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,"undo",!0)}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,"redo",!0)}),setExtending:function setExtending(val){this.extend=val},getExtending:function getExtending(){return this.extend},historySize:function historySize(){for(var hist=this.history,done=0,undone=0,i=0;i<hist.done.length;i++)hist.done[i].ranges||++done;for(var i$1=0;i$1<hist.undone.length;i$1++)hist.undone[i$1].ranges||++undone;return{undo:done,redo:undone}},clearHistory:function clearHistory(){this.history=new History(this.history.maxGeneration)},markClean:function markClean(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function changeGeneration(forceSplit){return forceSplit&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function isClean(gen){return this.history.generation==(gen||this.cleanGeneration)},getHistory:function getHistory(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)}},setHistory:function setHistory(histData){var hist=this.history=new History(this.history.maxGeneration);hist.done=copyHistoryArray(histData.done.slice(0),null,!0),hist.undone=copyHistoryArray(histData.undone.slice(0),null,!0)},setGutterMarker:docMethodOp(function(line,gutterID,value){return changeLine(this,line,"gutter",function(line){var markers=line.gutterMarkers||(line.gutterMarkers={});return markers[gutterID]=value,!value&&isEmpty(markers)&&(line.gutterMarkers=null),!0})}),clearGutter:docMethodOp(function(gutterID){var this$1=this;this.iter(function(line){line.gutterMarkers&&line.gutterMarkers[gutterID]&&changeLine(this$1,line,"gutter",function(){return line.gutterMarkers[gutterID]=null,isEmpty(line.gutterMarkers)&&(line.gutterMarkers=null),!0})})}),lineInfo:function lineInfo(line){var n;if("number"==typeof line){if(!isLine(this,line))return null;if(n=line,line=getLine(this,line),!line)return null}else if(n=lineNo(line),null==n)return null;return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets}},addLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,"gutter"==where?"gutter":"class",function(line){var prop="text"==where?"textClass":"background"==where?"bgClass":"gutter"==where?"gutterClass":"wrapClass";if(!line[prop])line[prop]=cls;else{if(classTest(cls).test(line[prop]))return!1;line[prop]+=" "+cls}return!0})}),removeLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,"gutter"==where?"gutter":"class",function(line){var prop="text"==where?"textClass":"background"==where?"bgClass":"gutter"==where?"gutterClass":"wrapClass",cur=line[prop];if(!cur)return!1;if(null==cls)line[prop]=null;else{var found=cur.match(classTest(cls));if(!found)return!1;var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(found.index&&end!=cur.length?" ":"")+cur.slice(end)||null}return!0})}),addLineWidget:docMethodOp(function(handle,node,options){return addLineWidget(this,handle,node,options)}),removeLineWidget:function removeLineWidget(widget){widget.clear()},markText:function markText(from,to,options){return _markText(this,_clipPos(this,from),_clipPos(this,to),options,options&&options.type||"range")},setBookmark:function setBookmark(pos,options){var realOpts={replacedWith:options&&(null==options.nodeType?options.widget:options),insertLeft:options&&options.insertLeft,clearWhenEmpty:!1,shared:options&&options.shared,handleMouseEvents:options&&options.handleMouseEvents};return pos=_clipPos(this,pos),_markText(this,pos,pos,realOpts,"bookmark")},findMarksAt:function findMarksAt(pos){pos=_clipPos(this,pos);var markers=[],spans=getLine(this,pos.line).markedSpans;if(spans)for(var i=0,span;i<spans.length;++i)span=spans[i],(null==span.from||span.from<=pos.ch)&&(null==span.to||span.to>=pos.ch)&&markers.push(span.marker.parent||span.marker);return markers},findMarks:function findMarks(from,to,filter){from=_clipPos(this,from),to=_clipPos(this,to);var found=[],lineNo$$1=from.line;return this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans)for(var i=0,span;i<spans.length;i++)span=spans[i],null!=span.to&&lineNo$$1==from.line&&from.ch>=span.to||null==span.from&&lineNo$$1!=from.line||null!=span.from&&lineNo$$1==to.line&&span.from>=to.ch||filter&&!filter(span.marker)||found.push(span.marker.parent||span.marker);++lineNo$$1}),found},getAllMarks:function getAllMarks(){var markers=[];return this.iter(function(line){var sps=line.markedSpans;if(sps)for(var i=0;i<sps.length;++i)null!=sps[i].from&&markers.push(sps[i].marker)}),markers},posFromIndex:function posFromIndex(off){var lineNo$$1=this.first,sepSize=this.lineSeparator().length,ch;return this.iter(function(line){var sz=line.text.length+sepSize;return sz>off?(ch=off,!0):void(off-=sz,++lineNo$$1)}),_clipPos(this,Pos(lineNo$$1,ch))},indexFromPos:function indexFromPos(coords){coords=_clipPos(this,coords);var index=coords.ch;if(coords.line<this.first||0>coords.ch)return 0;var sepSize=this.lineSeparator().length;return this.iter(this.first,coords.line,function(line){index+=line.text.length+sepSize}),index},copy:function copy(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return doc.scrollTop=this.scrollTop,doc.scrollLeft=this.scrollLeft,doc.sel=this.sel,doc.extend=!1,copyHistory&&(doc.history.undoDepth=this.history.undoDepth,doc.setHistory(this.getHistory())),doc},linkedDoc:function linkedDoc(options){options||(options={});var from=this.first,to=this.first+this.size;null!=options.from&&options.from>from&&(from=options.from),null!=options.to&&options.to<to&&(to=options.to);var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from,this.lineSep,this.direction);return options.sharedHist&&(copy.history=this.history),(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist}),copy.linked=[{doc:this,isParent:!0,sharedHist:options.sharedHist}],copySharedMarkers(copy,findSharedMarkers(this)),copy},unlinkDoc:function unlinkDoc(other){var this$1=this;if(other instanceof CodeMirror$1&&(other=other.doc),this.linked)for(var i=0,link;i<this.linked.length;++i)if(link=this$1.linked[i],link.doc==other){this$1.linked.splice(i,1),other.unlinkDoc(this$1),detachSharedMarkers(findSharedMarkers(this$1));break}if(other.history==this.history){var splitIds=[other.id];linkedDocs(other,function(doc){return splitIds.push(doc.id)},!0),other.history=new History(null),other.history.done=copyHistoryArray(this.history.done,splitIds),other.history.undone=copyHistoryArray(this.history.undone,splitIds)}},iterLinkedDocs:function iterLinkedDocs(f){linkedDocs(this,f)},getMode:function(){return this.mode},getEditor:function getEditor(){return this.cm},splitLines:function splitLines(str){return this.lineSep?str.split(this.lineSep):splitLinesAuto(str)},lineSeparator:function lineSeparator(){return this.lineSep||"\n"},setDirection:docMethodOp(function(dir){"rtl"!=dir&&(dir="ltr"),dir==this.direction||(this.direction=dir,this.iter(function(line){return line.order=null}),this.cm&&directionChanged(this.cm))})}),Doc.prototype.eachLine=Doc.prototype.iter;for(var lastDrop=0,globalsRegistered=!1,keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},i=0;10>i;i++)keyNames[i+48]=keyNames[i+96]=i+"";for(var i$1=65;90>=i$1;i$1++)keyNames[i$1]=_StringfromCharCode(i$1);for(var i$2=1;12>=i$2;i$2++)keyNames[i$2+111]=keyNames[i$2+63235]="F"+i$2;var keyMap={};keyMap.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},keyMap.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},keyMap.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},keyMap.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},keyMap["default"]=mac?keyMap.macDefault:keyMap.pcDefault;var commands={selectAll:selectAll,singleSelection:function singleSelection(cm){return cm.setSelection(cm.getCursor("anchor"),cm.getCursor("head"),sel_dontScroll)},killLine:function killLine(cm){return deleteNearSelection(cm,function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;return range.head.ch==len&&range.head.line<cm.lastLine()?{from:range.head,to:Pos(range.head.line+1,0)}:{from:range.head,to:Pos(range.head.line,len)}}return{from:range.from(),to:range.to()}})},deleteLine:function deleteLine(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:_clipPos(cm.doc,Pos(range.to().line+1,0))}})},delLineLeft:function delLineLeft(cm){return deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:range.from()}})},delWrappedLineLeft:function delWrappedLineLeft(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5,leftPos=cm.coordsChar({left:0,top:top},"div");return{from:leftPos,to:range.from()}})},delWrappedLineRight:function delWrappedLineRight(cm){return deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,"div").top+5,rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div");return{from:range.from(),to:rightPos}})},undo:function undo(cm){return cm.undo()},redo:function redo(cm){return cm.redo()},undoSelection:function undoSelection(cm){return cm.undoSelection()},redoSelection:function redoSelection(cm){return cm.redoSelection()},goDocStart:function goDocStart(cm){return cm.extendSelection(Pos(cm.firstLine(),0))},goDocEnd:function goDocEnd(cm){return cm.extendSelection(Pos(cm.lastLine()))},goLineStart:function goLineStart(cm){return cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function goLineStartSmart(cm){return cm.extendSelectionsBy(function(range){return lineStartSmart(cm,range.head)},{origin:"+move",bias:1})},goLineEnd:function goLineEnd(cm){return cm.extendSelectionsBy(function(range){return lineEnd(cm,range.head.line)},{origin:"+move",bias:-1})},goLineRight:function goLineRight(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},"div")},sel_move)},goLineLeft:function goLineLeft(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5;return cm.coordsChar({left:0,top:top},"div")},sel_move)},goLineLeftSmart:function goLineLeftSmart(cm){return cm.extendSelectionsBy(function(range){var top=cm.cursorCoords(range.head,"div").top+5,pos=cm.coordsChar({left:0,top:top},"div");return pos.ch<cm.getLine(pos.line).search(/\S/)?lineStartSmart(cm,range.head):pos},sel_move)},goLineUp:function goLineUp(cm){return cm.moveV(-1,"line")},goLineDown:function goLineDown(cm){return cm.moveV(1,"line")},goPageUp:function goPageUp(cm){return cm.moveV(-1,"page")},goPageDown:function goPageDown(cm){return cm.moveV(1,"page")},goCharLeft:function goCharLeft(cm){return cm.moveH(-1,"char")},goCharRight:function goCharRight(cm){return cm.moveH(1,"char")},goColumnLeft:function goColumnLeft(cm){return cm.moveH(-1,"column")},goColumnRight:function goColumnRight(cm){return cm.moveH(1,"column")},goWordLeft:function goWordLeft(cm){return cm.moveH(-1,"word")},goGroupRight:function goGroupRight(cm){return cm.moveH(1,"group")},goGroupLeft:function goGroupLeft(cm){return cm.moveH(-1,"group")},goWordRight:function goWordRight(cm){return cm.moveH(1,"word")},delCharBefore:function delCharBefore(cm){return cm.deleteH(-1,"char")},delCharAfter:function delCharAfter(cm){return cm.deleteH(1,"char")},delWordBefore:function delWordBefore(cm){return cm.deleteH(-1,"word")},delWordAfter:function delWordAfter(cm){return cm.deleteH(1,"word")},delGroupBefore:function delGroupBefore(cm){return cm.deleteH(-1,"group")},delGroupAfter:function delGroupAfter(cm){return cm.deleteH(1,"group")},indentAuto:function indentAuto(cm){return cm.indentSelection("smart")},indentMore:function indentMore(cm){return cm.indentSelection("add")},indentLess:function indentLess(cm){return cm.indentSelection("subtract")},insertTab:function insertTab(cm){return cm.replaceSelection("\t")},insertSoftTab:function insertSoftTab(cm){for(var spaces=[],ranges=cm.listSelections(),tabSize=cm.options.tabSize,i=0;i<ranges.length;i++){var pos=ranges[i].from(),col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(spaceStr(tabSize-col%tabSize))}cm.replaceSelections(spaces)},defaultTab:function defaultTab(cm){cm.somethingSelected()?cm.indentSelection("add"):cm.execCommand("insertTab")},transposeChars:function transposeChars(cm){return runInOp(cm,function(){for(var ranges=cm.listSelections(),newSel=[],i=0;i<ranges.length;i++)if(ranges[i].empty()){var cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;if(line)if(cur.ch==line.length&&(cur=new Pos(cur.line,cur.ch-1)),0<cur.ch)cur=new Pos(cur.line,cur.ch+1),cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,"+transpose");else if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;prev&&(cur=new Pos(cur.line,1),cm.replaceRange(line.charAt(0)+cm.doc.lineSeparator()+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),cur,"+transpose"))}newSel.push(new Range(cur,cur))}cm.setSelections(newSel)})},newlineAndIndent:function newlineAndIndent(cm){return runInOp(cm,function(){for(var sels=cm.listSelections(),i=sels.length-1;0<=i;i--)cm.replaceRange(cm.doc.lineSeparator(),sels[i].anchor,sels[i].head,"+input");sels=cm.listSelections();for(var i$1=0;i$1<sels.length;i$1++)cm.indentLine(sels[i$1].from().line,null,!0);ensureCursorVisible(cm)})},openLine:function openLine(cm){return cm.replaceSelection("\n","start")},toggleOverwrite:function toggleOverwrite(cm){return cm.toggleOverwrite()}},stopSeq=new Delayed,lastStoppedKey=null,PastClick=function(time,pos,button){this.time=time,this.pos=pos,this.button=button};PastClick.prototype.compare=function(time,pos,button){return this.time+400>time&&0==cmp(pos,this.pos)&&button==this.button};var Init={toString:function toString(){return"CodeMirror.Init"}},defaults={},optionHandlers={},lastClick,lastDoubleClick;CodeMirror$1.defaults=defaults,CodeMirror$1.optionHandlers=optionHandlers;var initHooks=[];CodeMirror$1.defineInitHook=function(f){return initHooks.push(f)};var lastCopied=null,ContentEditableInput=function(cm){this.cm=cm,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Delayed,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};ContentEditableInput.prototype.init=function(display){function onCopyCut(e){if(!signalDOMEvent(cm,e)){if(cm.somethingSelected())setLastCopied({lineWise:!1,text:cm.getSelections()}),"cut"==e.type&&cm.replaceSelection("",null,"cut");else{if(!cm.options.lineWiseCopyCut)return;var ranges=copyableRanges(cm);setLastCopied({lineWise:!0,text:ranges.text}),"cut"==e.type&&cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll),cm.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var content=lastCopied.text.join("\n");if(e.clipboardData.setData("Text",content),e.clipboardData.getData("Text")==content)return void e.preventDefault()}var kludge=hiddenTextarea(),te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild),te.value=lastCopied.text.join("\n");var hadFocus=document.activeElement;selectInput(te),setTimeout(function(){cm.display.lineSpace.removeChild(kludge),hadFocus.focus(),hadFocus==div&&input.showPrimarySelection()},50)}}var this$1=this,input=this,cm=input.cm,div=input.div=display.lineDiv;disableBrowserMagic(div,cm.options.spellcheck),on(div,"paste",function(e){signalDOMEvent(cm,e)||handlePaste(e,cm)||11>=ie_version&&setTimeout(operation(cm,function(){return this$1.updateFromDOM()}),20)}),on(div,"compositionstart",function(e){this$1.composing={data:e.data,done:!1}}),on(div,"compositionupdate",function(e){this$1.composing||(this$1.composing={data:e.data,done:!1})}),on(div,"compositionend",function(e){this$1.composing&&(e.data!=this$1.composing.data&&this$1.readFromDOMSoon(),this$1.composing.done=!0)}),on(div,"touchstart",function(){return input.forceCompositionEnd()}),on(div,"input",function(){this$1.composing||this$1.readFromDOMSoon()}),on(div,"copy",onCopyCut),on(div,"cut",onCopyCut)},ContentEditableInput.prototype.prepareSelection=function(){var result=prepareSelection(this.cm,!1);return result.focus=this.cm.state.focused,result},ContentEditableInput.prototype.showSelection=function(info,takeFocus){info&&this.cm.display.view.length&&((info.focus||takeFocus)&&this.showPrimarySelection(),this.showMultipleSelections(info))},ContentEditableInput.prototype.showPrimarySelection=function(){var sel=window.getSelection(),cm=this.cm,prim=cm.doc.sel.primary(),from=prim.from(),to=prim.to();if(cm.display.viewTo==cm.display.viewFrom||from.line>=cm.display.viewTo||to.line<cm.display.viewFrom)return void sel.removeAllRanges();var curAnchor=domToPos(cm,sel.anchorNode,sel.anchorOffset),curFocus=domToPos(cm,sel.focusNode,sel.focusOffset);if(!curAnchor||curAnchor.bad||!curFocus||curFocus.bad||0!=cmp(minPos(curAnchor,curFocus),from)||0!=cmp(maxPos(curAnchor,curFocus),to)){var view=cm.display.view,start=from.line>=cm.display.viewFrom&&posToDOM(cm,from)||{node:view[0].measure.map[2],offset:0},end=to.line<cm.display.viewTo&&posToDOM(cm,to);if(!end){var measure=view[view.length-1].measure,map$$1=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map$$1[map$$1.length-1],offset:map$$1[map$$1.length-2]-map$$1[map$$1.length-3]}}if(!start||!end)return void sel.removeAllRanges();var old=sel.rangeCount&&sel.getRangeAt(0),rng;try{rng=range(start.node,start.offset,end.offset,end.node)}catch(e){}rng&&(!gecko&&cm.state.focused?(sel.collapse(start.node,start.offset),!rng.collapsed&&(sel.removeAllRanges(),sel.addRange(rng))):(sel.removeAllRanges(),sel.addRange(rng)),old&&null==sel.anchorNode?sel.addRange(old):gecko&&this.startGracePeriod()),this.rememberSelection()}},ContentEditableInput.prototype.startGracePeriod=function(){var this$1=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){this$1.gracePeriod=!1,this$1.selectionChanged()&&this$1.cm.operation(function(){return this$1.cm.curOp.selectionChanged=!0})},20)},ContentEditableInput.prototype.showMultipleSelections=function(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors),removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection)},ContentEditableInput.prototype.rememberSelection=function(){var sel=window.getSelection();this.lastAnchorNode=sel.anchorNode,this.lastAnchorOffset=sel.anchorOffset,this.lastFocusNode=sel.focusNode,this.lastFocusOffset=sel.focusOffset},ContentEditableInput.prototype.selectionInEditor=function(){var sel=window.getSelection();if(!sel.rangeCount)return!1;var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node)},ContentEditableInput.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(!this.selectionInEditor()&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},ContentEditableInput.prototype.blur=function(){this.div.blur()},ContentEditableInput.prototype.getField=function(){return this.div},ContentEditableInput.prototype.supportsTouch=function(){return!0},ContentEditableInput.prototype.receivedFocus=function(){function poll(){input.cm.state.focused&&(input.pollSelection(),input.polling.set(input.cm.options.pollInterval,poll))}var input=this;this.selectionInEditor()?this.pollSelection():runInOp(this.cm,function(){return input.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,poll)},ContentEditableInput.prototype.selectionChanged=function(){var sel=window.getSelection();return sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset},ContentEditableInput.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var sel=window.getSelection(),cm=this.cm;if(android&&chrome&&this.cm.options.gutters.length&&isInGutter(sel.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:_Mathabs2}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset),head=domToPos(cm,sel.focusNode,sel.focusOffset);anchor&&head&&runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll),(anchor.bad||head.bad)&&(cm.curOp.selectionChanged=!0)})}}},ContentEditableInput.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var cm=this.cm,display=cm.display,sel=cm.doc.sel.primary(),from=sel.from(),to=sel.to();if(0==from.ch&&from.line>cm.firstLine()&&(from=Pos(from.line-1,getLine(cm.doc,from.line-1).length)),to.ch==getLine(cm.doc,to.line).text.length&&to.line<cm.lastLine()&&(to=Pos(to.line+1,0)),from.line<display.viewFrom||to.line>display.viewTo-1)return!1;var fromIndex,fromLine,fromNode;from.line==display.viewFrom||0==(fromIndex=findViewIndex(cm,from.line))?(fromLine=lineNo(display.view[0].line),fromNode=display.view[0].node):(fromLine=lineNo(display.view[fromIndex].line),fromNode=display.view[fromIndex-1].node.nextSibling);var toIndex=findViewIndex(cm,to.line),toLine,toNode;if(toIndex==display.view.length-1?(toLine=display.viewTo-1,toNode=display.lineDiv.lastChild):(toLine=lineNo(display.view[toIndex+1].line)-1,toNode=display.view[toIndex+1].node.previousSibling),!fromNode)return!1;for(var newText=cm.doc.splitLines(domTextBetween(cm,fromNode,toNode,fromLine,toLine)),oldText=getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));1<newText.length&&1<oldText.length;)if(lst(newText)==lst(oldText))newText.pop(),oldText.pop(),toLine--;else if(newText[0]==oldText[0])newText.shift(),oldText.shift(),fromLine++;else break;for(var cutFront=0,cutEnd=0,newTop=newText[0],oldTop=oldText[0],maxCutFront=_Mathmin(newTop.length,oldTop.length);cutFront<maxCutFront&&newTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront);)++cutFront;for(var newBot=lst(newText),oldBot=lst(oldText),maxCutEnd=_Mathmin(newBot.length-(1==newText.length?cutFront:0),oldBot.length-(1==oldText.length?cutFront:0));cutEnd<maxCutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1);)++cutEnd;if(1==newText.length&&1==oldText.length&&fromLine==from.line)for(;cutFront&&cutFront>from.ch&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1);)cutFront--,cutEnd++;newText[newText.length-1]=newBot.slice(0,newBot.length-cutEnd).replace(/^\u200b+/,""),newText[0]=newText[0].slice(cutFront).replace(/\u200b+$/,"");var chFrom=Pos(fromLine,cutFront),chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);if(1<newText.length||newText[0]||cmp(chFrom,chTo))return _replaceRange(cm.doc,newText,chFrom,chTo,"+input"),!0},ContentEditableInput.prototype.ensurePolled=function(){this.forceCompositionEnd()},ContentEditableInput.prototype.reset=function(){this.forceCompositionEnd()},ContentEditableInput.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ContentEditableInput.prototype.readFromDOMSoon=function(){var this$1=this;null!=this.readDOMTimeout||(this.readDOMTimeout=setTimeout(function(){if(this$1.readDOMTimeout=null,this$1.composing)if(this$1.composing.done)this$1.composing=null;else return;this$1.updateFromDOM()},80))},ContentEditableInput.prototype.updateFromDOM=function(){var this$1=this;(this.cm.isReadOnly()||!this.pollContent())&&runInOp(this.cm,function(){return regChange(this$1.cm)})},ContentEditableInput.prototype.setUneditable=function(node){node.contentEditable="false"},ContentEditableInput.prototype.onKeyPress=function(e){0==e.charCode||(e.preventDefault(),!this.cm.isReadOnly()&&operation(this.cm,applyTextInput)(this.cm,_StringfromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},ContentEditableInput.prototype.readOnlyChanged=function(val){this.div.contentEditable=("nocursor"!=val)+""},ContentEditableInput.prototype.onContextMenu=function(){},ContentEditableInput.prototype.resetPosition=function(){},ContentEditableInput.prototype.needsContentAttribute=!0;var TextareaInput=function(cm){this.cm=cm,this.prevInput="",this.pollingFast=!1,this.polling=new Delayed,this.hasSelection=!1,this.composing=null};TextareaInput.prototype.init=function(display){function prepareCopyCut(e){if(!signalDOMEvent(cm,e)){if(cm.somethingSelected())setLastCopied({lineWise:!1,text:cm.getSelections()});else{if(!cm.options.lineWiseCopyCut)return;var ranges=copyableRanges(cm);setLastCopied({lineWise:!0,text:ranges.text}),"cut"==e.type?cm.setSelections(ranges.ranges,null,sel_dontScroll):(input.prevInput="",te.value=ranges.text.join("\n"),selectInput(te))}"cut"==e.type&&(cm.state.cutIncoming=!0)}}var this$1=this,input=this,cm=this.cm,div=this.wrapper=hiddenTextarea(),te=this.textarea=div.firstChild;display.wrapper.insertBefore(div,display.wrapper.firstChild),ios&&(te.style.width="0px"),on(te,"input",function(){ie&&9<=ie_version&&this$1.hasSelection&&(this$1.hasSelection=null),input.poll()}),on(te,"paste",function(e){signalDOMEvent(cm,e)||handlePaste(e,cm)||(cm.state.pasteIncoming=!0,input.fastPoll())}),on(te,"cut",prepareCopyCut),on(te,"copy",prepareCopyCut),on(display.scroller,"paste",function(e){eventInWidget(display,e)||signalDOMEvent(cm,e)||(cm.state.pasteIncoming=!0,input.focus())}),on(display.lineSpace,"selectstart",function(e){eventInWidget(display,e)||e_preventDefault(e)}),on(te,"compositionstart",function(){var start=cm.getCursor("from");input.composing&&input.composing.range.clear(),input.composing={start:start,range:cm.markText(start,cm.getCursor("to"),{className:"CodeMirror-composing"})}}),on(te,"compositionend",function(){input.composing&&(input.poll(),input.composing.range.clear(),input.composing=null)})},TextareaInput.prototype.prepareSelection=function(){var cm=this.cm,display=cm.display,doc=cm.doc,result=prepareSelection(cm);if(cm.options.moveInputWithCursor){var headPos=_cursorCoords(cm,doc.sel.primary().head,"div"),wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();result.teTop=_Mathmax(0,_Mathmin(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top)),result.teLeft=_Mathmax(0,_Mathmin(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left))}return result},TextareaInput.prototype.showSelection=function(drawn){var cm=this.cm,display=cm.display;removeChildrenAndAdd(display.cursorDiv,drawn.cursors),removeChildrenAndAdd(display.selectionDiv,drawn.selection),null!=drawn.teTop&&(this.wrapper.style.top=drawn.teTop+"px",this.wrapper.style.left=drawn.teLeft+"px")},TextareaInput.prototype.reset=function(typing){if(!(this.contextMenuPending||this.composing)){var cm=this.cm;if(cm.somethingSelected()){this.prevInput="";var content=cm.getSelection();this.textarea.value=content,cm.state.focused&&selectInput(this.textarea),ie&&9<=ie_version&&(this.hasSelection=content)}else typing||(this.prevInput=this.textarea.value="",ie&&9<=ie_version&&(this.hasSelection=null))}},TextareaInput.prototype.getField=function(){return this.textarea},TextareaInput.prototype.supportsTouch=function(){return!1},TextareaInput.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!mobile||activeElt()!=this.textarea))try{this.textarea.focus()}catch(e){}},TextareaInput.prototype.blur=function(){this.textarea.blur()},TextareaInput.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},TextareaInput.prototype.receivedFocus=function(){this.slowPoll()},TextareaInput.prototype.slowPoll=function(){var this$1=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){this$1.poll(),this$1.cm.state.focused&&this$1.slowPoll()})},TextareaInput.prototype.fastPoll=function(){function p(){var changed=input.poll();changed||missed?(input.pollingFast=!1,input.slowPoll()):(missed=!0,input.polling.set(60,p))}var missed=!1,input=this;input.pollingFast=!0,input.polling.set(20,p)},TextareaInput.prototype.poll=function(){var this$1=this,cm=this.cm,input=this.textarea,prevInput=this.prevInput;if(this.contextMenuPending||!cm.state.focused||hasSelection(input)&&!prevInput&&!this.composing||cm.isReadOnly()||cm.options.disableInput||cm.state.keySeq)return!1;var text=input.value;if(text==prevInput&&!cm.somethingSelected())return!1;if(ie&&9<=ie_version&&this.hasSelection===text||mac&&/[\uf700-\uf7ff]/.test(text))return cm.display.input.reset(),!1;if(cm.doc.sel==cm.display.selForContextMenu){var first=text.charCodeAt(0);if(8203!=first||prevInput||(prevInput="\u200B"),8666==first)return this.reset(),this.cm.execCommand("undo")}for(var same=0,l=_Mathmin(prevInput.length,text.length);same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same);)++same;return runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same,null,this$1.composing?"*compose":null),1e3<text.length||-1<text.indexOf("\n")?input.value=this$1.prevInput="":this$1.prevInput=text,this$1.composing&&(this$1.composing.range.clear(),this$1.composing.range=cm.markText(this$1.composing.start,cm.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},TextareaInput.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},TextareaInput.prototype.onKeyPress=function(){ie&&9<=ie_version&&(this.hasSelection=null),this.fastPoll()},TextareaInput.prototype.onContextMenu=function(e){function prepareSelectAllHack(){if(null!=te.selectionStart){var selected=cm.somethingSelected(),extval="\u200B"+(selected?te.value:"");te.value="\u21DA",te.value=extval,input.prevInput=selected?"":"\u200B",te.selectionStart=1,te.selectionEnd=extval.length,display.selForContextMenu=cm.doc.sel}}function rehide(){if(input.contextMenuPending=!1,input.wrapper.style.cssText=oldWrapperCSS,te.style.cssText=oldCSS,ie&&9>ie_version&&display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos),null!=te.selectionStart){(!ie||ie&&9>ie_version)&&prepareSelectAllHack();var i=0,poll=function(){display.selForContextMenu==cm.doc.sel&&0==te.selectionStart&&0<te.selectionEnd&&"\u200B"==input.prevInput?operation(cm,selectAll)(cm):10>i++?display.detectingSelectAll=setTimeout(poll,500):(display.selForContextMenu=null,display.input.reset())};display.detectingSelectAll=setTimeout(poll,200)}}var input=this,cm=input.cm,display=cm.display,te=input.textarea,pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;if(pos&&!presto){var reset=cm.options.resetSelectionOnContextMenu;reset&&-1==cm.doc.sel.contains(pos)&&operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll);var oldCSS=te.style.cssText,oldWrapperCSS=input.wrapper.style.cssText;input.wrapper.style.cssText="position: absolute";var wrapperBox=input.wrapper.getBoundingClientRect();te.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-wrapperBox.top-5)+"px; left: "+(e.clientX-wrapperBox.left-5)+"px;\n      z-index: 1000; background: "+(ie?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var oldScrollY;if(webkit&&(oldScrollY=window.scrollY),display.input.focus(),webkit&&window.scrollTo(null,oldScrollY),display.input.reset(),cm.somethingSelected()||(te.value=input.prevInput=" "),input.contextMenuPending=!0,display.selForContextMenu=cm.doc.sel,clearTimeout(display.detectingSelectAll),ie&&9<=ie_version&&prepareSelectAllHack(),captureRightClick){e_stop(e);var mouseup=function(){off(window,"mouseup",mouseup),setTimeout(rehide,20)};on(window,"mouseup",mouseup)}else setTimeout(rehide,50)}},TextareaInput.prototype.readOnlyChanged=function(val){val||this.reset(),this.textarea.disabled="nocursor"==val},TextareaInput.prototype.setUneditable=function(){},TextareaInput.prototype.needsContentAttribute=!1,function(CodeMirror){function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt,handle&&(optionHandlers[name]=notOnInit?function(cm,val,old){old!=Init&&handle(cm,val,old)}:handle)}var optionHandlers=CodeMirror.optionHandlers;CodeMirror.defineOption=option,CodeMirror.Init=Init,option("value","",function(cm,val){return cm.setValue(val)},!0),option("mode",null,function(cm,val){cm.doc.modeOption=val,loadMode(cm)},!0),option("indentUnit",2,loadMode,!0),option("indentWithTabs",!1),option("smartIndent",!0),option("tabSize",4,function(cm){resetModeState(cm),clearCaches(cm),regChange(cm)},!0),option("lineSeparator",null,function(cm,val){if(cm.doc.lineSep=val,!!val){var newBreaks=[],lineNo=cm.doc.first;cm.doc.iter(function(line){for(var pos=0,found;;){if(found=line.text.indexOf(val,pos),-1==found)break;pos=found+val.length,newBreaks.push(Pos(lineNo,found))}lineNo++});for(var i=newBreaks.length-1;0<=i;i--)_replaceRange(cm.doc,val,newBreaks[i],Pos(newBreaks[i].line,newBreaks[i].ch+val.length))}}),option("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(cm,val,old){cm.state.specialChars=new RegExp(val.source+(val.test("\t")?"":"|\t"),"g"),old!=Init&&cm.refresh()}),option("specialCharPlaceholder",defaultSpecialCharPlaceholder,function(cm){return cm.refresh()},!0),option("electricChars",!0),option("inputStyle",mobile?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),option("spellcheck",!1,function(cm,val){return cm.getInputField().spellcheck=val},!0),option("rtlMoveVisually",!windows),option("wholeLineUpdateBefore",!0),option("theme","default",function(cm){themeChanged(cm),guttersChanged(cm)},!0),option("keyMap","default",function(cm,val,old){var next=getKeyMap(val),prev=old!=Init&&getKeyMap(old);prev&&prev.detach&&prev.detach(cm,next),next.attach&&next.attach(cm,prev||null)}),option("extraKeys",null),option("configureMouse",null),option("lineWrapping",!1,wrappingChanged,!0),option("gutters",[],function(cm){setGuttersForLineNumbers(cm.options),guttersChanged(cm)},!0),option("fixedGutter",!0,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+"px":"0",cm.refresh()},!0),option("coverGutterNextToScrollbar",!1,function(cm){return updateScrollbars(cm)},!0),option("scrollbarStyle","native",function(cm){initScrollbars(cm),updateScrollbars(cm),cm.display.scrollbars.setScrollTop(cm.doc.scrollTop),cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)},!0),option("lineNumbers",!1,function(cm){setGuttersForLineNumbers(cm.options),guttersChanged(cm)},!0),option("firstLineNumber",1,guttersChanged,!0),option("lineNumberFormatter",function(integer){return integer},guttersChanged,!0),option("showCursorWhenSelecting",!1,updateSelection,!0),option("resetSelectionOnContextMenu",!0),option("lineWiseCopyCut",!0),option("pasteLinesPerSelection",!0),option("readOnly",!1,function(cm,val){"nocursor"==val&&(onBlur(cm),cm.display.input.blur()),cm.display.input.readOnlyChanged(val)}),option("disableInput",!1,function(cm,val){val||cm.display.input.reset()},!0),option("dragDrop",!0,dragDropChanged),option("allowDropFileTypes",null),option("cursorBlinkRate",530),option("cursorScrollMargin",0),option("cursorHeight",1,updateSelection,!0),option("singleCursorHeightPerLine",!0,updateSelection,!0),option("workTime",100),option("workDelay",100),option("flattenSpans",!0,resetModeState,!0),option("addModeClass",!1,resetModeState,!0),option("pollInterval",100),option("undoDepth",200,function(cm,val){return cm.doc.history.undoDepth=val}),option("historyEventDelay",1250),option("viewportMargin",10,function(cm){return cm.refresh()},!0),option("maxHighlightLength",1e4,resetModeState,!0),option("moveInputWithCursor",!0,function(cm,val){val||cm.display.input.resetPosition()}),option("tabindex",null,function(cm,val){return cm.display.input.getField().tabIndex=val||""}),option("autofocus",null),option("direction","ltr",function(cm,val){return cm.doc.setDirection(val)},!0)}(CodeMirror$1),function addEditorMethods(CodeMirror){var optionHandlers=CodeMirror.optionHandlers,helpers=CodeMirror.helpers={};CodeMirror.prototype={constructor:CodeMirror,focus:function focus(){window.focus(),this.display.input.focus()},setOption:function setOption(option,value){var options=this.options,old=options[option];options[option]==value&&"mode"!=option||(options[option]=value,optionHandlers.hasOwnProperty(option)&&operation(this,optionHandlers[option])(this,value,old),signal(this,"optionChange",this,option))},getOption:function getOption(option){return this.options[option]},getDoc:function getDoc(){return this.doc},addKeyMap:function addKeyMap(map$$1,bottom){this.state.keyMaps[bottom?"push":"unshift"](getKeyMap(map$$1))},removeKeyMap:function removeKeyMap(map$$1){for(var maps=this.state.keyMaps,i=0;i<maps.length;++i)if(maps[i]==map$$1||maps[i].name==map$$1)return maps.splice(i,1),!0},addOverlay:methodOp(function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState)throw new Error("Overlays may not be stateful.");insertSorted(this.state.overlays,{mode:mode,modeSpec:spec,opaque:options&&options.opaque,priority:options&&options.priority||0},function(overlay){return overlay.priority}),this.state.modeGen++,regChange(this)}),removeOverlay:methodOp(function(spec){for(var this$1=this,overlays=this.state.overlays,i=0,cur;i<overlays.length;++i)if(cur=overlays[i].modeSpec,cur==spec||"string"==typeof spec&&cur.name==spec)return overlays.splice(i,1),this$1.state.modeGen++,void regChange(this$1)}),indentLine:methodOp(function(n,dir,aggressive){"string"!=typeof dir&&"number"!=typeof dir&&(null==dir?dir=this.options.smartIndent?"smart":"prev":dir=dir?"add":"subtract"),isLine(this.doc,n)&&indentLine(this,n,dir,aggressive)}),indentSelection:methodOp(function(how){for(var this$1=this,ranges=this.doc.sel.ranges,end=-1,i=0,range$$1;i<ranges.length;i++)if(range$$1=ranges[i],!range$$1.empty()){var from=range$$1.from(),to=range$$1.to(),start=_Mathmax(end,from.line);end=_Mathmin(this$1.lastLine(),to.line-(to.ch?0:1))+1;for(var j=start;j<end;++j)indentLine(this$1,j,how);var newRanges=this$1.doc.sel.ranges;0==from.ch&&ranges.length==newRanges.length&&0<newRanges[i].from().ch&&replaceOneSelection(this$1.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll)}else range$$1.head.line>end&&(indentLine(this$1,range$$1.head.line,how,!0),end=range$$1.head.line,i==this$1.doc.sel.primIndex&&ensureCursorVisible(this$1))}),getTokenAt:function getTokenAt(pos,precise){return takeToken(this,pos,precise)},getLineTokens:function getLineTokens(line,precise){return takeToken(this,Pos(line),precise,!0)},getTokenTypeAt:function getTokenTypeAt(pos){pos=_clipPos(this.doc,pos);var styles=getLineStyles(this,getLine(this.doc,pos.line)),before=0,after=(styles.length-1)/2,ch=pos.ch,type;if(0==ch)type=styles[2];else for(;;){var mid=before+after>>1;if((mid?styles[2*mid-1]:0)>=ch)after=mid;else if(styles[2*mid+1]<ch)before=mid+1;else{type=styles[2*mid+2];break}}var cut=type?type.indexOf("overlay "):-1;return 0>cut?type:0==cut?null:type.slice(0,cut-1)},getModeAt:function getModeAt(pos){var mode=this.doc.mode;return mode.innerMode?CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode:mode},getHelper:function getHelper(pos,type){return this.getHelpers(pos,type)[0]},getHelpers:function getHelpers(pos,type){var this$1=this,found=[];if(!helpers.hasOwnProperty(type))return found;var help=helpers[type],mode=this.getModeAt(pos);if("string"==typeof mode[type])help[mode[type]]&&found.push(help[mode[type]]);else if(mode[type])for(var i=0,val;i<mode[type].length;i++)val=help[mode[type][i]],val&&found.push(val);else mode.helperType&&help[mode.helperType]?found.push(help[mode.helperType]):help[mode.name]&&found.push(help[mode.name]);for(var i$1=0,cur;i$1<help._global.length;i$1++)cur=help._global[i$1],cur.pred(mode,this$1)&&-1==indexOf(found,cur.val)&&found.push(cur.val);return found},getStateAfter:function getStateAfter(line,precise){var doc=this.doc;return line=clipLine(doc,null==line?doc.first+doc.size-1:line),getContextBefore(this,line+1,precise).state},cursorCoords:function cursorCoords(start,mode){var range$$1=this.doc.sel.primary(),pos;return pos=null==start?range$$1.head:"object"==("undefined"==typeof start?"undefined":_typeof2(start))?_clipPos(this.doc,start):start?range$$1.from():range$$1.to(),_cursorCoords(this,pos,mode||"page")},charCoords:function charCoords(pos,mode){return _charCoords(this,_clipPos(this.doc,pos),mode||"page")},coordsChar:function coordsChar(coords,mode){return coords=fromCoordSystem(this,coords,mode||"page"),_coordsChar(this,coords.left,coords.top)},lineAtHeight:function lineAtHeight(height,mode){return height=fromCoordSystem(this,{top:height,left:0},mode||"page").top,_lineAtHeight(this.doc,height+this.display.viewOffset)},heightAtLine:function heightAtLine(line,mode,includeWidgets){var end=!1,lineObj;if("number"==typeof line){var last=this.doc.first+this.doc.size-1;line<this.doc.first?line=this.doc.first:line>last&&(line=last,end=!0),lineObj=getLine(this.doc,line)}else lineObj=line;return intoCoordSystem(this,lineObj,{top:0,left:0},mode||"page",includeWidgets||end).top+(end?this.doc.height-_heightAtLine(lineObj):0)},defaultTextHeight:function defaultTextHeight(){return textHeight(this.display)},defaultCharWidth:function defaultCharWidth(){return charWidth(this.display)},getViewport:function getViewport(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function addWidget(pos,node,scroll,vert,horiz){var display=this.display;pos=_cursorCoords(this,_clipPos(this.doc,pos));var top=pos.bottom,left=pos.left;if(node.style.position="absolute",node.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(node),display.sizer.appendChild(node),"over"==vert)top=pos.top;else if("above"==vert||"near"==vert){var vspace=_Mathmax(display.wrapper.clientHeight,this.doc.height),hspace=_Mathmax(display.sizer.clientWidth,display.lineSpace.clientWidth);("above"==vert||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight?top=pos.top-node.offsetHeight:pos.bottom+node.offsetHeight<=vspace&&(top=pos.bottom),left+node.offsetWidth>hspace&&(left=hspace-node.offsetWidth)}node.style.top=top+"px",node.style.left=node.style.right="","right"==horiz?(left=display.sizer.clientWidth-node.offsetWidth,node.style.right="0px"):("left"==horiz?left=0:"middle"==horiz&&(left=(display.sizer.clientWidth-node.offsetWidth)/2),node.style.left=left+"px"),scroll&&scrollIntoView(this,{left:left,top:top,right:left+node.offsetWidth,bottom:top+node.offsetHeight})},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,triggerOnMouseDown:methodOp(onMouseDown),execCommand:function execCommand(cmd){if(commands.hasOwnProperty(cmd))return commands[cmd].call(null,this)},triggerElectric:methodOp(function(text){triggerElectric(this,text)}),findPosH:function findPosH(from,amount,unit,visually){var this$1=this,dir=1;0>amount&&(dir=-1,amount=-amount);for(var cur=_clipPos(this.doc,from),i=0;i<amount&&(cur=_findPosH(this$1.doc,cur,dir,unit,visually),!cur.hitSide);++i);return cur},moveH:methodOp(function(dir,unit){var this$1=this;this.extendSelectionsBy(function(range$$1){return this$1.display.shift||this$1.doc.extend||range$$1.empty()?_findPosH(this$1.doc,range$$1.head,dir,unit,this$1.options.rtlMoveVisually):0>dir?range$$1.from():range$$1.to()},sel_move)}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel,doc=this.doc;sel.somethingSelected()?doc.replaceSelection("",null,"+delete"):deleteNearSelection(this,function(range$$1){var other=_findPosH(doc,range$$1.head,dir,unit,!1);return 0>dir?{from:other,to:range$$1.head}:{from:range$$1.head,to:other}})}),findPosV:function findPosV(from,amount,unit,goalColumn){var this$1=this,dir=1,x=goalColumn;0>amount&&(dir=-1,amount=-amount);for(var cur=_clipPos(this.doc,from),i=0,coords;i<amount&&(coords=_cursorCoords(this$1,cur,"div"),null==x?x=coords.left:coords.left=x,cur=_findPosV(this$1,coords,dir,unit),!cur.hitSide);++i);return cur},moveV:methodOp(function(dir,unit){var this$1=this,doc=this.doc,goals=[],collapse=!this.display.shift&&!doc.extend&&doc.sel.somethingSelected();if(doc.extendSelectionsBy(function(range$$1){if(collapse)return 0>dir?range$$1.from():range$$1.to();var headPos=_cursorCoords(this$1,range$$1.head,"div");null!=range$$1.goalColumn&&(headPos.left=range$$1.goalColumn),goals.push(headPos.left);var pos=_findPosV(this$1,headPos,dir,unit);return"page"==unit&&range$$1==doc.sel.primary()&&addToScrollTop(this$1,_charCoords(this$1,pos,"div").top-headPos.top),pos},sel_move),goals.length)for(var i=0;i<doc.sel.ranges.length;i++)doc.sel.ranges[i].goalColumn=goals[i]}),findWordAt:function findWordAt(pos){var doc=this.doc,line=getLine(doc,pos.line).text,start=pos.ch,end=pos.ch;if(line){var helper=this.getHelper(pos,"wordChars");("before"==pos.sticky||end==line.length)&&start?--start:++end;for(var startChar=line.charAt(start),check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper)}:/\s/.test(startChar)?function(ch){return /\s/.test(ch)}:function(ch){return!/\s/.test(ch)&&!isWordChar(ch)};0<start&&check(line.charAt(start-1));)--start;for(;end<line.length&&check(line.charAt(end));)++end}return new Range(Pos(pos.line,start),Pos(pos.line,end))},toggleOverwrite:function toggleOverwrite(value){null!=value&&value==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?addClass(this.display.cursorDiv,"CodeMirror-overwrite"):rmClass(this.display.cursorDiv,"CodeMirror-overwrite"),signal(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function hasFocus(){return this.display.input.getField()==activeElt()},isReadOnly:function isReadOnly(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:methodOp(function(x,y){scrollToCoords(this,x,y)}),getScrollInfo:function getScrollInfo(){var scroller=this.display.scroller;return{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)}},scrollIntoView:methodOp(function(range$$1,margin){null==range$$1?(range$$1={from:this.doc.sel.primary().head,to:null},null==margin&&(margin=this.options.cursorScrollMargin)):"number"==typeof range$$1?range$$1={from:Pos(range$$1,0),to:null}:null==range$$1.from&&(range$$1={from:range$$1,to:null}),range$$1.to||(range$$1.to=range$$1.from),range$$1.margin=margin||0,null==range$$1.from.line?scrollToCoordsRange(this,range$$1.from,range$$1.to,range$$1.margin):scrollToRange(this,range$$1)}),setSize:methodOp(function(width,height){var this$1=this,interpret=function(val){return"number"==typeof val||/^\d+$/.test(val+"")?val+"px":val};null!=width&&(this.display.wrapper.style.width=interpret(width)),null!=height&&(this.display.wrapper.style.height=interpret(height)),this.options.lineWrapping&&clearLineMeasurementCache(this);var lineNo$$1=this.display.viewFrom;this.doc.iter(lineNo$$1,this.display.viewTo,function(line){if(line.widgets)for(var i=0;i<line.widgets.length;i++)if(line.widgets[i].noHScroll){regLineChange(this$1,lineNo$$1,"widget");break}++lineNo$$1}),this.curOp.forceUpdate=!0,signal(this,"refresh",this)}),operation:function(f){return runInOp(this,f)},startOperation:function startOperation(){return _startOperation(this)},endOperation:function endOperation(){return _endOperation(this)},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;regChange(this),this.curOp.forceUpdate=!0,clearCaches(this),scrollToCoords(this,this.doc.scrollLeft,this.doc.scrollTop),updateGutterSpace(this),(null==oldHeight||.5<_Mathabs2(oldHeight-textHeight(this.display)))&&estimateLineHeights(this),signal(this,"refresh",this)}),swapDoc:methodOp(function(doc){var old=this.doc;return old.cm=null,attachDoc(this,doc),clearCaches(this),this.display.input.reset(),scrollToCoords(this,doc.scrollLeft,doc.scrollTop),this.curOp.forceScroll=!0,signalLater(this,"swapDoc",this,old),old}),getInputField:function getInputField(){return this.display.input.getField()},getWrapperElement:function getWrapperElement(){return this.display.wrapper},getScrollerElement:function getScrollerElement(){return this.display.scroller},getGutterElement:function getGutterElement(){return this.display.gutters}},eventMixin(CodeMirror),CodeMirror.registerHelper=function(type,name,value){helpers.hasOwnProperty(type)||(helpers[type]=CodeMirror[type]={_global:[]}),helpers[type][name]=value},CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value),helpers[type]._global.push({pred:predicate,val:value})}}(CodeMirror$1);var dontDelegate="iter insert remove copy getEditor constructor".split(" ");for(var prop in Doc.prototype)Doc.prototype.hasOwnProperty(prop)&&0>indexOf(dontDelegate,prop)&&(CodeMirror$1.prototype[prop]=function(method){return function(){return method.apply(this.doc,arguments)}}(Doc.prototype[prop]));return eventMixin(Doc),CodeMirror$1.inputStyles={textarea:TextareaInput,contenteditable:ContentEditableInput},CodeMirror$1.defineMode=function(name){CodeMirror$1.defaults.mode||"null"==name||(CodeMirror$1.defaults.mode=name),defineMode.apply(this,arguments)},CodeMirror$1.defineMIME=function(mime,spec){mimeModes[mime]=spec},CodeMirror$1.defineMode("null",function(){return{token:function token(stream){return stream.skipToEnd()}}}),CodeMirror$1.defineMIME("text/plain","null"),CodeMirror$1.defineExtension=function(name,func){CodeMirror$1.prototype[name]=func},CodeMirror$1.defineDocExtension=function(name,func){Doc.prototype[name]=func},CodeMirror$1.fromTextArea=function(textarea,options){function save(){textarea.value=cm.getValue()}if(options=options?copyObj(options):{},options.value=textarea.value,!options.tabindex&&textarea.tabIndex&&(options.tabindex=textarea.tabIndex),!options.placeholder&&textarea.placeholder&&(options.placeholder=textarea.placeholder),null==options.autofocus){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||null!=textarea.getAttribute("autofocus")&&hasFocus==document.body}var realSubmit;if(textarea.form&&(on(textarea.form,"submit",save),!options.leaveSubmitMethodAlone)){var form=textarea.form;realSubmit=form.submit;try{var wrappedSubmit=form.submit=function(){save(),form.submit=realSubmit,form.submit(),form.submit=wrappedSubmit}}catch(e){}}options.finishInit=function(cm){cm.save=save,cm.getTextArea=function(){return textarea},cm.toTextArea=function(){cm.toTextArea=isNaN,save(),textarea.parentNode.removeChild(cm.getWrapperElement()),textarea.style.display="",textarea.form&&(off(textarea.form,"submit",save),"function"==typeof textarea.form.submit&&(textarea.form.submit=realSubmit))}},textarea.style.display="none";var cm=CodeMirror$1(function(node){return textarea.parentNode.insertBefore(node,textarea.nextSibling)},options);return cm},function(CodeMirror){CodeMirror.off=off,CodeMirror.on=on,CodeMirror.wheelEventPixels=wheelEventPixels,CodeMirror.Doc=Doc,CodeMirror.splitLines=splitLinesAuto,CodeMirror.countColumn=countColumn,CodeMirror.findColumn=findColumn,CodeMirror.isWordChar=isWordCharBasic,CodeMirror.Pass=Pass,CodeMirror.signal=signal,CodeMirror.Line=Line,CodeMirror.changeEnd=changeEnd,CodeMirror.scrollbarModel=scrollbarModel,CodeMirror.Pos=Pos,CodeMirror.cmpPos=cmp,CodeMirror.modes=modes,CodeMirror.mimeModes=mimeModes,CodeMirror.resolveMode=resolveMode,CodeMirror.getMode=getMode,CodeMirror.modeExtensions=modeExtensions,CodeMirror.extendMode=extendMode,CodeMirror.copyState=copyState,CodeMirror.startState=startState,CodeMirror.innerMode=innerMode,CodeMirror.commands=commands,CodeMirror.keyMap=keyMap,CodeMirror.keyName=keyName,CodeMirror.isModifierKey=isModifierKey,CodeMirror.lookupKey=lookupKey,CodeMirror.normalizeKeyMap=normalizeKeyMap,CodeMirror.StringStream=StringStream,CodeMirror.SharedTextMarker=SharedTextMarker,CodeMirror.TextMarker=TextMarker,CodeMirror.LineWidget=LineWidget,CodeMirror.e_preventDefault=e_preventDefault,CodeMirror.e_stopPropagation=e_stopPropagation,CodeMirror.e_stop=e_stop,CodeMirror.addClass=addClass,CodeMirror.contains=contains,CodeMirror.rmClass=rmClass,CodeMirror.keyNames=keyNames}(CodeMirror$1),CodeMirror$1.version="5.28.0",CodeMirror$1}),define("codemirror",["codemirror/lib/codemirror"],function(main){return main});function uiCodemirrorDirective(a,b){function c(a,c,h,i){var j=angular.extend({value:c.text()},b.codemirror||{},a.$eval(h.uiCodemirror),a.$eval(h.uiCodemirrorOpts)),k=d(c,j);e(k,h.uiCodemirror||h.uiCodemirrorOpts,a),f(k,i,a),g(k,h.uiRefresh,a),a.$on("CodeMirror",function(a,b){if(!angular.isFunction(b))throw new Error("the CodeMirror event requires a callback function");b(k)}),angular.isFunction(j.onLoad)&&j.onLoad(k)}function d(a,b){var c;return"TEXTAREA"===a[0].tagName?c=window.CodeMirror.fromTextArea(a[0],b):(a.html(""),c=new window.CodeMirror(function(b){a.append(b)},b)),c}function e(a,b,c){function d(b,c){angular.isObject(b)&&e.forEach(function(d){if(b.hasOwnProperty(d)){if(c&&b[d]===c[d])return;a.setOption(d,b[d])}})}if(b){var e=Object.keys(window.CodeMirror.defaults);c.$watch(b,d,!0)}}function f(a,b,c){b&&(b.$formatters.push(function(a){if(angular.isUndefined(a)||null===a)return"";if(angular.isObject(a)||angular.isArray(a))throw new Error("ui-codemirror cannot use an object or an array as a model");return a}),b.$render=function(){var c=b.$viewValue||"";a.setValue(c)},a.on("change",function(a){var d=a.getValue();d!==b.$viewValue&&c.$evalAsync(function(){b.$setViewValue(d)})}))}function g(b,c,d){c&&d.$watch(c,function(c,d){c!==d&&a(function(){b.refresh()})})}return{restrict:"EA",require:"?ngModel",compile:function compile(){if(angular.isUndefined(window.CodeMirror))throw new Error("ui-codemirror needs CodeMirror to work... (o rly?)");return c}}}angular.module("ui.codemirror",[]).constant("uiCodemirrorConfig",{}).directive("uiCodemirror",uiCodemirrorDirective),uiCodemirrorDirective.$inject=["$timeout","uiCodemirrorConfig"],define("ui-codemirror",["angular","codemirror"],function(global){return function(){var ret,fn;return fn=function(angular,codemirror){window.CodeMirror=codemirror},ret=fn.apply(global,arguments),ret||global.angular}}(this)),function(mod){"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof2(module))?mod(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/mode/sql/sql",["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";CodeMirror.defineMode("sql",function(config,parserConfig){function tokenBase(stream,state){var ch=stream.next();if(hooks[ch]){var result=hooks[ch](stream,state);if(!1!==result)return result}if(support.hexNumber&&("0"==ch&&stream.match(/^[xX][0-9a-fA-F]+/)||("x"==ch||"X"==ch)&&stream.match(/^'[0-9a-fA-F]+'/)))return"number";if(support.binaryNumber&&(("b"==ch||"B"==ch)&&stream.match(/^'[01]+'/)||"0"==ch&&stream.match(/^b[01]+/)))return"number";if(47<ch.charCodeAt(0)&&58>ch.charCodeAt(0))return stream.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/),support.decimallessFloat&&stream.match(/^\.(?!\.)/),"number";if("?"==ch&&(stream.eatSpace()||stream.eol()||stream.eat(";")))return"variable-3";if("'"==ch||"\""==ch&&support.doubleQuote)return state.tokenize=tokenLiteral(ch),state.tokenize(stream,state);if((support.nCharCast&&("n"==ch||"N"==ch)||support.charsetCast&&"_"==ch&&stream.match(/[a-z][a-z0-9]*/i))&&("'"==stream.peek()||"\""==stream.peek()))return"keyword";if(/^[\(\),\;\[\]]/.test(ch))return null;if(support.commentSlashSlash&&"/"==ch&&stream.eat("/"))return stream.skipToEnd(),"comment";if(support.commentHash&&"#"==ch||"-"==ch&&stream.eat("-")&&(!support.commentSpaceRequired||stream.eat(" ")))return stream.skipToEnd(),"comment";if("/"==ch&&stream.eat("*"))return state.tokenize=tokenComment(1),state.tokenize(stream,state);if("."==ch){if(support.zerolessFloat&&stream.match(/^(?:\d+(?:e[+-]?\d+)?)/i))return"number";if(stream.match(/^\.+/))return null;if(support.ODBCdotTable&&stream.match(/^[\w\d_]+/))return"variable-2"}else{if(operatorChars.test(ch))return stream.eatWhile(operatorChars),null;if("{"==ch&&(stream.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||stream.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";stream.eatWhile(/^[_\w\d]/);var word=stream.current().toLowerCase();return dateSQL.hasOwnProperty(word)&&(stream.match(/^( )+'[^']*'/)||stream.match(/^( )+"[^"]*"/))?"number":atoms.hasOwnProperty(word)?"atom":builtin.hasOwnProperty(word)?"builtin":keywords.hasOwnProperty(word)?"keyword":client.hasOwnProperty(word)?"string-2":null}}function tokenLiteral(quote){return function(stream,state){for(var escaped=!1,ch;null!=(ch=stream.next());){if(ch==quote&&!escaped){state.tokenize=tokenBase;break}escaped=!escaped&&"\\"==ch}return"string"}}function tokenComment(depth){return function(stream,state){var m=stream.match(/^.*?(\/\*|\*\/)/);return m?"/*"==m[1]?state.tokenize=tokenComment(depth+1):1<depth?state.tokenize=tokenComment(depth-1):state.tokenize=tokenBase:stream.skipToEnd(),"comment"}}function pushContext(stream,state,type){state.context={prev:state.context,indent:stream.indentation(),col:stream.column(),type:type}}function popContext(state){state.indent=state.context.indent,state.context=state.context.prev}var client=parserConfig.client||{},atoms=parserConfig.atoms||{false:!0,true:!0,null:!0},builtin=parserConfig.builtin||{},keywords=parserConfig.keywords||{},operatorChars=parserConfig.operatorChars||/^[*+\-%<>!=&|~^]/,support=parserConfig.support||{},hooks=parserConfig.hooks||{},dateSQL=parserConfig.dateSQL||{date:!0,time:!0,timestamp:!0};return{startState:function startState(){return{tokenize:tokenBase,context:null}},token:function token(stream,state){if(stream.sol()&&state.context&&null==state.context.align&&(state.context.align=!1),state.tokenize==tokenBase&&stream.eatSpace())return null;var style=state.tokenize(stream,state);if("comment"==style)return style;state.context&&null==state.context.align&&(state.context.align=!0);var tok=stream.current();return"("==tok?pushContext(stream,state,")"):"["==tok?pushContext(stream,state,"]"):state.context&&state.context.type==tok&&popContext(state),style},indent:function indent(state,textAfter){var cx=state.context;if(!cx)return CodeMirror.Pass;var closing=textAfter.charAt(0)==cx.type;return cx.align?cx.col+(closing?0:1):cx.indent+(closing?0:config.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:support.commentSlashSlash?"//":support.commentHash?"#":"--"}}),function(){function hookIdentifier(stream){for(var ch;null!=(ch=stream.next());)if("`"==ch&&!stream.eat("`"))return"variable-2";return stream.backUp(stream.current().length-1),stream.eatWhile(/\w/)?"variable-2":null}function hookVar(stream){return(stream.eat("@")&&(stream.match(/^session\./),stream.match(/^local\./),stream.match(/^global\./)),stream.eat("'"))?(stream.match(/^.*'/),"variable-2"):stream.eat("\"")?(stream.match(/^.*"/),"variable-2"):stream.eat("`")?(stream.match(/^.*`/),"variable-2"):stream.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function hookClient(stream){return stream.eat("N")?"atom":stream.match(/^[a-zA-Z.#!?]/)?"variable-2":null}function set(str){for(var obj={},words=str.split(" "),i=0;i<words.length;++i)obj[words[i]]=!0;return obj}var sqlKeywords="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";CodeMirror.defineMIME("text/x-sql",{name:"sql",keywords:set(sqlKeywords+"begin"),builtin:set("bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric"),atoms:set("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:set("date time timestamp"),support:set("ODBCdotTable doubleQuote binaryNumber hexNumber")}),CodeMirror.defineMIME("text/x-mssql",{name:"sql",client:set("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:set(sqlKeywords+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec"),builtin:set("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:set("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:set("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":hookVar}}),CodeMirror.defineMIME("text/x-mysql",{name:"sql",client:set("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:set(sqlKeywords+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:set("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:set("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:set("date time timestamp"),support:set("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":hookVar,"`":hookIdentifier,"\\":hookClient}}),CodeMirror.defineMIME("text/x-mariadb",{name:"sql",client:set("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:set(sqlKeywords+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:set("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:set("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:set("date time timestamp"),support:set("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":hookVar,"`":hookIdentifier,"\\":hookClient}}),CodeMirror.defineMIME("text/x-sqlite",{name:"sql",client:set("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:set(sqlKeywords+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:set("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:set("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:set("date time timestamp datetime"),support:set("decimallessFloat zerolessFloat"),identifierQuote:"\"",hooks:{"@":hookVar,":":hookVar,"?":hookVar,$:hookVar,'"':function(stream){for(var ch;null!=(ch=stream.next());)if("\""==ch&&!stream.eat("\""))return"variable-2";return stream.backUp(stream.current().length-1),stream.eatWhile(/\w/)?"variable-2":null},"`":hookIdentifier}}),CodeMirror.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:set("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:set("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:set("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:set("commentSlashSlash decimallessFloat"),hooks:{}}),CodeMirror.defineMIME("text/x-plsql",{name:"sql",client:set("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:set("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:set("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*+\-%<>!=~]/,dateSQL:set("date time timestamp"),support:set("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),CodeMirror.defineMIME("text/x-hive",{name:"sql",keywords:set("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external false fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger true unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with"),builtin:set("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype"),atoms:set("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:set("date timestamp"),support:set("ODBCdotTable doubleQuote binaryNumber hexNumber")}),CodeMirror.defineMIME("text/x-pgsql",{name:"sql",client:set("source"),keywords:set(sqlKeywords+"a abort abs absent absolute access according action ada add admin after aggregate all allocate also always analyse analyze any are array array_agg array_max_cardinality asensitive assertion assignment asymmetric at atomic attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli binary bit_length blob blocked bom both breadth c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain characteristics characters character_length character_set_catalog character_set_name character_set_schema char_length check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column columns column_name command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constraint constraints constraint_catalog constraint_name constraint_schema constructor contains content continue control conversion convert copy corr corresponding cost covar_pop covar_samp cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datetime_interval_code datetime_interval_precision day db deallocate dec declare default defaults deferrable deferred defined definer degree delimiter delimiters dense_rank depth deref derived describe descriptor deterministic diagnostics dictionary disable discard disconnect dispatch dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain dynamic dynamic_function dynamic_function_code each element else empty enable encoding encrypted end end-exec end_frame end_partition enforced enum equals escape event every except exception exclude excluding exclusive exec execute exists exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreign fortran forward found frame_row free freeze fs full function functions fusion g general generated get global go goto grant granted greatest grouping groups handler header hex hierarchy hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import including increment indent index indexes indicator inherit inherits initially inline inner inout input insensitive instance instantiable instead integrity intersect intersection invoker isnull isolation k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like_regex link listen ln load local localtime localtimestamp location locator lock locked logged lower m map mapping match matched materialized max maxvalue max_cardinality member merge message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized nothing notify notnull nowait nth_value ntile null nullable nullif nulls number object occurrences_regex octets octet_length of off offset oids old only open operator option options ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password percent percentile_cont percentile_disc percent_rank period permission placing plans pli policy portion position position_regex power precedes preceding prepare prepared preserve primary prior privileges procedural procedure program public quote range rank read reads reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict restricted result return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns revoke right role rollback rollup routine routine_catalog routine_name routine_schema row rows row_count row_number rule savepoint scale schema schema_name scope scope_catalog scope_name scope_schema scroll search second section security selective self sensitive sequence sequences serializable server server_name session session_user setof sets share show similar simple size skip snapshot some source space specific specifictype specific_name sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset substring substring_regex succeeds sum symmetric sysid system system_time system_user t tables tablesample tablespace table_name temp template temporary then ties timezone_hour timezone_minute to token top_level_count trailing transaction transactions_committed transactions_rolled_back transaction_active transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted unique unknown unlink unlisten unlogged unnamed unnest until untyped upper uri usage user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of varbinary variadic var_pop var_samp verbose version versioning view views volatile when whenever whitespace width_bucket window within work wrapper write xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes loop repeat attach path depends detach zone"),builtin:set("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:set("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:set("date time timestamp"),support:set("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")}),CodeMirror.defineMIME("text/x-gql",{name:"sql",keywords:set("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:set("false true"),builtin:set("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/})}()});(function(mod){"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof2(module))?mod(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/addon/display/autorefresh",["../../lib/codemirror"],mod):mod(CodeMirror)})(function(CodeMirror){"use strict";function startListening(cm,state){function check(){cm.display.wrapper.offsetHeight?(stopListening(cm,state),cm.display.lastWrapHeight!=cm.display.wrapper.clientHeight&&cm.refresh()):state.timeout=setTimeout(check,state.delay)}state.timeout=setTimeout(check,state.delay),state.hurry=function(){clearTimeout(state.timeout),state.timeout=setTimeout(check,50)},CodeMirror.on(window,"mouseup",state.hurry),CodeMirror.on(window,"keyup",state.hurry)}function stopListening(_cm,state){clearTimeout(state.timeout),CodeMirror.off(window,"mouseup",state.hurry),CodeMirror.off(window,"keyup",state.hurry)}CodeMirror.defineOption("autoRefresh",!1,function(cm,val){cm.state.autoRefresh&&(stopListening(cm,cm.state.autoRefresh),cm.state.autoRefresh=null),val&&0==cm.display.wrapper.offsetHeight&&startListening(cm,cm.state.autoRefresh={delay:val.delay||250})})}),function(mod){"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof2(module))?mod(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/addon/hint/show-hint",["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";function Completion(cm,options){this.cm=cm,this.options=options,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var self=this;cm.on("cursorActivity",this.activityFunc=function(){self.cursorActivity()})}function isNewCompletion(old,nw){var moved=CodeMirror.cmpPos(nw.from,old.from);return 0<moved&&old.to.ch-old.from.ch!=nw.to.ch-nw.from.ch}function parseOptions(cm,pos,options){var editor=cm.options.hintOptions,out={};for(var prop in defaultOptions)out[prop]=defaultOptions[prop];if(editor)for(var prop in editor)void 0!==editor[prop]&&(out[prop]=editor[prop]);if(options)for(var prop in options)void 0!==options[prop]&&(out[prop]=options[prop]);return out.hint.resolve&&(out.hint=out.hint.resolve(cm,pos)),out}function getText(completion){return"string"==typeof completion?completion:completion.text}function buildKeyMap(completion,handle){function addBinding(key,val){var bound;bound="string"==typeof val?baseMap.hasOwnProperty(val)?baseMap[val]:val:function(cm){return val(cm,handle)},ourMap[key]=bound}var baseMap={Up:function Up(){handle.moveFocus(-1)},Down:function Down(){handle.moveFocus(1)},PageUp:function PageUp(){handle.moveFocus(-handle.menuSize()+1,!0)},PageDown:function PageDown(){handle.moveFocus(handle.menuSize()-1,!0)},Home:function Home(){handle.setFocus(0)},End:function End(){handle.setFocus(handle.length-1)},Enter:handle.pick,Tab:handle.pick,Esc:handle.close},custom=completion.options.customKeys,ourMap=custom?{}:baseMap;if(custom)for(var key in custom)custom.hasOwnProperty(key)&&addBinding(key,custom[key]);var extra=completion.options.extraKeys;if(extra)for(var key in extra)extra.hasOwnProperty(key)&&addBinding(key,extra[key]);return ourMap}function getHintElement(hintsElement,el){for(;el&&el!=hintsElement;){if("LI"===el.nodeName.toUpperCase()&&el.parentNode==hintsElement)return el;el=el.parentNode}}function Widget(completion,data){this.completion=completion,this.data=data,this.picked=!1;var widget=this,cm=completion.cm,hints=this.hints=document.createElement("ul");hints.className="CodeMirror-hints",this.selectedHint=data.selectedHint||0;for(var completions=data.list,i=0;i<completions.length;++i){var elt=hints.appendChild(document.createElement("li")),cur=completions[i],className=HINT_ELEMENT_CLASS+(i==this.selectedHint?" "+ACTIVE_HINT_ELEMENT_CLASS:"");null!=cur.className&&(className=cur.className+" "+className),elt.className=className,cur.render?cur.render(elt,data,cur):elt.appendChild(document.createTextNode(cur.displayText||getText(cur))),elt.hintId=i}var pos=cm.cursorCoords(completion.options.alignWithWord?data.from:null),left=pos.left,top=pos.bottom,below=!0;hints.style.left=left+"px",hints.style.top=top+"px";var winW=window.innerWidth||_Mathmax2(document.body.offsetWidth,document.documentElement.offsetWidth),winH=window.innerHeight||_Mathmax2(document.body.offsetHeight,document.documentElement.offsetHeight);(completion.options.container||document.body).appendChild(hints);var box=hints.getBoundingClientRect(),overlapY=box.bottom-winH,scrolls=hints.scrollHeight>hints.clientHeight+1,startScroll=cm.getScrollInfo();if(0<overlapY){var height=box.bottom-box.top,curTop=pos.top-(pos.bottom-box.top);if(0<curTop-height)hints.style.top=(top=pos.top-height)+"px",below=!1;else if(height>winH){hints.style.height=winH-5+"px",hints.style.top=(top=pos.bottom-box.top)+"px";var cursor=cm.getCursor();data.from.ch!=cursor.ch&&(pos=cm.cursorCoords(cursor),hints.style.left=(left=pos.left)+"px",box=hints.getBoundingClientRect())}}var overlapX=box.right-winW;if(0<overlapX&&(box.right-box.left>winW&&(hints.style.width=winW-5+"px",overlapX-=box.right-box.left-winW),hints.style.left=(left=pos.left-overlapX)+"px"),scrolls)for(var node=hints.firstChild;node;node=node.nextSibling)node.style.paddingRight=cm.display.nativeBarWidth+"px";if(cm.addKeyMap(this.keyMap=buildKeyMap(completion,{moveFocus:function moveFocus(n,avoidWrap){widget.changeActive(widget.selectedHint+n,avoidWrap)},setFocus:function setFocus(n){widget.changeActive(n)},menuSize:function menuSize(){return widget.screenAmount()},length:completions.length,close:function close(){completion.close()},pick:function pick(){widget.pick()},data:data})),completion.options.closeOnUnfocus){var closingOnBlur;cm.on("blur",this.onBlur=function(){closingOnBlur=setTimeout(function(){completion.close()},100)}),cm.on("focus",this.onFocus=function(){clearTimeout(closingOnBlur)})}return cm.on("scroll",this.onScroll=function(){var curScroll=cm.getScrollInfo(),editor=cm.getWrapperElement().getBoundingClientRect(),newTop=top+startScroll.top-curScroll.top,point=newTop-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return below||(point+=hints.offsetHeight),point<=editor.top||point>=editor.bottom?completion.close():void(hints.style.top=newTop+"px",hints.style.left=left+startScroll.left-curScroll.left+"px")}),CodeMirror.on(hints,"dblclick",function(e){var t=getHintElement(hints,e.target||e.srcElement);t&&null!=t.hintId&&(widget.changeActive(t.hintId),widget.pick())}),CodeMirror.on(hints,"click",function(e){var t=getHintElement(hints,e.target||e.srcElement);t&&null!=t.hintId&&(widget.changeActive(t.hintId),completion.options.completeOnSingleClick&&widget.pick())}),CodeMirror.on(hints,"mousedown",function(){setTimeout(function(){cm.focus()},20)}),CodeMirror.signal(data,"select",completions[0],hints.firstChild),!0}function applicableHelpers(cm,helpers){if(!cm.somethingSelected())return helpers;for(var result=[],i=0;i<helpers.length;i++)helpers[i].supportsSelection&&result.push(helpers[i]);return result}function fetchHints(hint,cm,options,callback){if(hint.async)hint(cm,callback,options);else{var result=hint(cm,options);result&&result.then?result.then(callback):callback(result)}}var _Mathmax2=Math.max,HINT_ELEMENT_CLASS="CodeMirror-hint",ACTIVE_HINT_ELEMENT_CLASS="CodeMirror-hint-active";CodeMirror.showHint=function(cm,getHints,options){if(!getHints)return cm.showHint(options);options&&options.async&&(getHints.async=!0);var newOpts={hint:getHints};if(options)for(var prop in options)newOpts[prop]=options[prop];return cm.showHint(newOpts)},CodeMirror.defineExtension("showHint",function(options){options=parseOptions(this,this.getCursor("start"),options);var selections=this.listSelections();if(!(1<selections.length)){if(this.somethingSelected()){if(!options.hint.supportsSelection)return;for(var i=0;i<selections.length;i++)if(selections[i].head.line!=selections[i].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var completion=this.state.completionActive=new Completion(this,options);completion.options.hint&&(CodeMirror.signal(this,"startCompletion",this),completion.update(!0))}});var requestAnimationFrame=window.requestAnimationFrame||function(fn){return setTimeout(fn,1e3/60)},cancelAnimationFrame=window.cancelAnimationFrame||clearTimeout;Completion.prototype={close:function close(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&CodeMirror.signal(this.data,"close"),this.widget&&this.widget.close(),CodeMirror.signal(this.cm,"endCompletion",this.cm))},active:function active(){return this.cm.state.completionActive==this},pick:function pick(data,i){var completion=data.list[i];completion.hint?completion.hint(this.cm,data,completion):this.cm.replaceRange(getText(completion),completion.from||data.from,completion.to||data.to,"complete"),CodeMirror.signal(data,"pick",completion),this.close()},cursorActivity:function cursorActivity(){this.debounce&&(cancelAnimationFrame(this.debounce),this.debounce=0);var pos=this.cm.getCursor(),line=this.cm.getLine(pos.line);if(pos.line!=this.startPos.line||line.length-pos.ch!=this.startLen-this.startPos.ch||pos.ch<this.startPos.ch||this.cm.somethingSelected()||pos.ch&&this.options.closeCharacters.test(line.charAt(pos.ch-1)))this.close();else{var self=this;this.debounce=requestAnimationFrame(function(){self.update()}),this.widget&&this.widget.disable()}},update:function update(first){if(null!=this.tick){var self=this,myTick=++this.tick;fetchHints(this.options.hint,this.cm,this.options,function(data){self.tick==myTick&&self.finishUpdate(data,first)})}},finishUpdate:function finishUpdate(data,first){this.data&&CodeMirror.signal(this.data,"update");var picked=this.widget&&this.widget.picked||first&&this.options.completeSingle;this.widget&&this.widget.close();data&&this.data&&isNewCompletion(this.data,data)||(this.data=data,data&&data.list.length&&(picked&&1==data.list.length?this.pick(data,0):(this.widget=new Widget(this,data),CodeMirror.signal(data,"shown"))))}},Widget.prototype={close:function close(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var cm=this.completion.cm;this.completion.options.closeOnUnfocus&&(cm.off("blur",this.onBlur),cm.off("focus",this.onFocus)),cm.off("scroll",this.onScroll)}},disable:function disable(){this.completion.cm.removeKeyMap(this.keyMap);var widget=this;this.keyMap={Enter:function Enter(){widget.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function pick(){this.completion.pick(this.data,this.selectedHint)},changeActive:function changeActive(i,avoidWrap){if(i>=this.data.list.length?i=avoidWrap?this.data.list.length-1:0:0>i&&(i=avoidWrap?0:this.data.list.length-1),this.selectedHint!=i){var node=this.hints.childNodes[this.selectedHint];node.className=node.className.replace(" "+ACTIVE_HINT_ELEMENT_CLASS,""),node=this.hints.childNodes[this.selectedHint=i],node.className+=" "+ACTIVE_HINT_ELEMENT_CLASS,node.offsetTop<this.hints.scrollTop?this.hints.scrollTop=node.offsetTop-3:node.offsetTop+node.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=node.offsetTop+node.offsetHeight-this.hints.clientHeight+3),CodeMirror.signal(this.data,"select",this.data.list[this.selectedHint],node)}},screenAmount:function screenAmount(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},CodeMirror.registerHelper("hint","auto",{resolve:function(cm,pos){var helpers=cm.getHelpers(pos,"hint"),words;if(helpers.length){var resolved=function(cm,callback,options){function run(i){return i==app.length?callback(null):void fetchHints(app[i],cm,options,function(result){result&&0<result.list.length?callback(result):run(i+1)})}var app=applicableHelpers(cm,helpers);run(0)};return resolved.async=!0,resolved.supportsSelection=!0,resolved}return(words=cm.getHelper(cm.getCursor(),"hintWords"))?function(cm){return CodeMirror.hint.fromList(cm,{words:words})}:CodeMirror.hint.anyword?function(cm,options){return CodeMirror.hint.anyword(cm,options)}:function(){}}}),CodeMirror.registerHelper("hint","fromList",function(cm,options){var cur=cm.getCursor(),token=cm.getTokenAt(cur),to=CodeMirror.Pos(cur.line,token.end);if(token.string&&/\w/.test(token.string[token.string.length-1]))var term=token.string,from=CodeMirror.Pos(cur.line,token.start);else var term="",from=to;for(var found=[],i=0,word;i<options.words.length;i++)word=options.words[i],word.slice(0,term.length)==term&&found.push(word);if(found.length)return{list:found,from:from,to:to}}),CodeMirror.commands.autocomplete=CodeMirror.showHint;var defaultOptions={hint:CodeMirror.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};CodeMirror.defineOption("hintOptions",null)}),function(mod){"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof2(module))?mod(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/addon/mode/simple",["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";function ensureState(states,name){if(!states.hasOwnProperty(name))throw new Error("Undefined state "+name+" in simple mode")}function toRegex(val,caret){if(!val)return /(?:)/;var flags="";return val instanceof RegExp?(val.ignoreCase&&(flags="i"),val=val.source):val+="",new RegExp((!1===caret?"":"^")+"(?:"+val+")",flags)}function asToken(val){if(!val)return null;if(val.apply)return val;if("string"==typeof val)return val.replace(/\./g," ");for(var result=[],i=0;i<val.length;i++)result.push(val[i]&&val[i].replace(/\./g," "));return result}function Rule(data,states){(data.next||data.push)&&ensureState(states,data.next||data.push),this.regex=toRegex(data.regex),this.token=asToken(data.token),this.data=data}function tokenFunction(states,config){return function(stream,state){if(state.pending){var pend=state.pending.shift();return 0==state.pending.length&&(state.pending=null),stream.pos+=pend.text.length,pend.token}if(state.local){if(state.local.end&&stream.match(state.local.end)){var tok=state.local.endToken||null;return state.local=state.localState=null,tok}var tok=state.local.mode.token(stream,state.localState),m;return state.local.endScan&&(m=state.local.endScan.exec(stream.current()))&&(stream.pos=stream.start+m.index),tok}for(var curState=states[state.state],i=0;i<curState.length;i++){var rule=curState[i],matches=(!rule.data.sol||stream.sol())&&stream.match(rule.regex);if(matches){rule.data.next?state.state=rule.data.next:rule.data.push?((state.stack||(state.stack=[])).push(state.state),state.state=rule.data.push):rule.data.pop&&state.stack&&state.stack.length&&(state.state=state.stack.pop()),rule.data.mode&&enterLocalMode(config,state,rule.data.mode,rule.token),rule.data.indent&&state.indent.push(stream.indentation()+config.indentUnit),rule.data.dedent&&state.indent.pop();var token=rule.token;if(token&&token.apply&&(token=token(matches)),2<matches.length){state.pending=[];for(var j=2;j<matches.length;j++)matches[j]&&state.pending.push({text:matches[j],token:rule.token[j-1]});return stream.backUp(matches[0].length-(matches[1]?matches[1].length:0)),token[0]}return token&&token.join?token[0]:token}}return stream.next(),null}}function cmp(a,b){if(a===b)return!0;if(!a||"object"!=("undefined"==typeof a?"undefined":_typeof2(a))||!b||"object"!=("undefined"==typeof b?"undefined":_typeof2(b)))return!1;var props=0;for(var prop in a)if(a.hasOwnProperty(prop)){if(!b.hasOwnProperty(prop)||!cmp(a[prop],b[prop]))return!1;props++}for(var prop in b)b.hasOwnProperty(prop)&&props--;return 0==props}function enterLocalMode(config,state,spec,token){var pers;if(spec.persistent)for(var p=state.persistentStates;p&&!pers;p=p.next)(spec.spec?cmp(spec.spec,p.spec):spec.mode==p.mode)&&(pers=p);var mode=pers?pers.mode:spec.mode||CodeMirror.getMode(config,spec.spec),lState=pers?pers.state:CodeMirror.startState(mode);spec.persistent&&!pers&&(state.persistentStates={mode:mode,spec:spec.spec,state:lState,next:state.persistentStates}),state.localState=lState,state.local={mode:mode,end:spec.end&&toRegex(spec.end),endScan:spec.end&&!1!==spec.forceEnd&&toRegex(spec.end,!1),endToken:token&&token.join?token[token.length-1]:token}}function indexOf(val,arr){for(var i=0;i<arr.length;i++)if(arr[i]===val)return!0}function indentFunction(states,meta){return function(state,textAfter,line){if(state.local&&state.local.mode.indent)return state.local.mode.indent(state.localState,textAfter,line);if(null==state.indent||state.local||meta.dontIndentStates&&-1<indexOf(state.state,meta.dontIndentStates))return CodeMirror.Pass;var pos=state.indent.length-1,rules=states[state.state];scan:for(;;){for(var i=0,rule;i<rules.length;i++)if(rule=rules[i],rule.data.dedent&&!1!==rule.data.dedentIfLineStart){var m=rule.regex.exec(textAfter);if(m&&m[0]){pos--,(rule.next||rule.push)&&(rules=states[rule.next||rule.push]),textAfter=textAfter.slice(m[0].length);continue scan}}break}return 0>pos?0:state.indent[pos]}}CodeMirror.defineSimpleMode=function(name,states){CodeMirror.defineMode(name,function(config){return CodeMirror.simpleMode(config,states)})},CodeMirror.simpleMode=function(config,states){ensureState(states,"start");var states_={},meta=states.meta||{},hasIndentation=!1;for(var state in states)if(state!=meta&&states.hasOwnProperty(state))for(var list=states_[state]=[],orig=states[state],i=0,data;i<orig.length;i++)data=orig[i],list.push(new Rule(data,states)),(data.indent||data.dedent)&&(hasIndentation=!0);var mode={startState:function startState(){return{state:"start",pending:null,local:null,localState:null,indent:hasIndentation?[]:null}},copyState:function copyState(state){var s={state:state.state,pending:state.pending,local:state.local,localState:null,indent:state.indent&&state.indent.slice(0)};state.localState&&(s.localState=CodeMirror.copyState(state.local.mode,state.localState)),state.stack&&(s.stack=state.stack.slice(0));for(var pers=state.persistentStates;pers;pers=pers.next)s.persistentStates={mode:pers.mode,spec:pers.spec,state:pers.state==state.localState?s.localState:CodeMirror.copyState(pers.mode,pers.state),next:s.persistentStates};return s},token:tokenFunction(states_,config),innerMode:function innerMode(state){return state.local&&{mode:state.local.mode,state:state.localState}},indent:indentFunction(states_,meta)};if(meta)for(var prop in meta)meta.hasOwnProperty(prop)&&(mode[prop]=meta[prop]);return mode}}),function(mod){"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof2(module))?mod(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/addon/custom/bnf",["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";CodeMirror.defineSimpleMode("text/bnf",{start:[{regex:/(?:between|or|and|in|like|not|case|insensitive|is|null)\b/i,token:"keyword"},{regex:/true|false/i,token:"atom"},{regex:/[-]?(?:\.\d+|\d+\.?\d*)(?:e[-+]?\d+)?[ ]?/i,token:"number"},{regex:/'(?:[^\\]|\\.)*?'/,token:"string"},{regex:/("(?:[^\\]|\\.)*?")|[A-z0-9]+/,token:"column"},{regex:/(?:=|<|>|<=|>=|<>)\b/,token:"operator"},{regex:/\(/,indent:!0},{regex:/\)/,dedent:!0}]})}),function(mod){"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof2(module))?mod(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/addon/lint/lint",["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){"use strict";function showTooltip(e,content){function position(e){return tt.parentNode?void(tt.style.top=Math.max(0,e.clientY-tt.offsetHeight-5)+"px",tt.style.left=e.clientX+5+"px"):CodeMirror.off(document,"mousemove",position)}var tt=document.createElement("div");return tt.className="CodeMirror-lint-tooltip",tt.appendChild(content.cloneNode(!0)),document.body.appendChild(tt),CodeMirror.on(document,"mousemove",position),position(e),null!=tt.style.opacity&&(tt.style.opacity=1),tt}function rm(elt){elt.parentNode&&elt.parentNode.removeChild(elt)}function hideTooltip(tt){tt.parentNode&&(null==tt.style.opacity&&rm(tt),tt.style.opacity=0,setTimeout(function(){rm(tt)},600))}function showTooltipFor(e,content,node){function hide(){CodeMirror.off(node,"mouseout",hide),tooltip&&(hideTooltip(tooltip),tooltip=null)}var tooltip=showTooltip(e,content),poll=setInterval(function(){if(tooltip)for(var n=node;;n=n.parentNode){if(n&&11==n.nodeType&&(n=n.host),n==document.body)return;if(!n){hide();break}}return tooltip?void 0:clearInterval(poll)},400);CodeMirror.on(node,"mouseout",hide)}function LintState(cm,options,hasGutter){this.marked=[],this.options=options,this.timeout=null,this.hasGutter=hasGutter,this.onMouseOver=function(e){onMouseOver(cm,e)},this.waitingFor=0}function parseOptions(_cm,options){return options instanceof Function?{getAnnotations:options}:(options&&!0!==options||(options={}),options)}function clearMarks(cm){var state=cm.state.lint;state.hasGutter&&cm.clearGutter(GUTTER_ID);for(var i=0;i<state.marked.length;++i)state.marked[i].clear();state.marked.length=0}function makeMarker(labels,severity,multiple,tooltips){var marker=document.createElement("div"),inner=marker;return marker.className="CodeMirror-lint-marker-"+severity,multiple&&(inner=marker.appendChild(document.createElement("div")),inner.className="CodeMirror-lint-marker-multiple"),!1!=tooltips&&CodeMirror.on(inner,"mouseover",function(e){showTooltipFor(e,labels,inner)}),marker}function getMaxSeverity(a,b){return"error"==a?a:b}function groupByLine(annotations){for(var lines=[],i=0;i<annotations.length;++i){var ann=annotations[i],line=ann.from.line;(lines[line]||(lines[line]=[])).push(ann)}return lines}function annotationTooltip(ann){var severity=ann.severity;severity||(severity="error");var tip=document.createElement("div");return tip.className="CodeMirror-lint-message-"+severity,"undefined"==typeof ann.messageHTML?tip.appendChild(document.createTextNode(ann.message)):tip.innerHTML=ann.messageHTML,tip}function lintAsync(cm,getAnnotations,passOptions){function abort(){id=-1,cm.off("change",abort)}var state=cm.state.lint,id=++state.waitingFor;cm.on("change",abort),getAnnotations(cm.getValue(),function(annotations,arg2){cm.off("change",abort);state.waitingFor!=id||(arg2&&annotations instanceof CodeMirror&&(annotations=arg2),updateLinting(cm,annotations))},passOptions,cm)}function startLinting(cm){var state=cm.state.lint,options=state.options,passOptions=options.options||options,getAnnotations=options.getAnnotations||cm.getHelper(CodeMirror.Pos(0,0),"lint");if(getAnnotations)if(options.async||getAnnotations.async)lintAsync(cm,getAnnotations,passOptions);else{var annotations=getAnnotations(cm.getValue(),passOptions,cm);if(!annotations)return;annotations.then?annotations.then(function(issues){updateLinting(cm,issues)}):updateLinting(cm,annotations)}}function updateLinting(cm,annotationsNotSorted){clearMarks(cm);for(var state=cm.state.lint,options=state.options,annotations=groupByLine(annotationsNotSorted),line=0,anns;line<annotations.length;++line)if(anns=annotations[line],anns){for(var maxSeverity=null,tipLabel=state.hasGutter&&document.createDocumentFragment(),i=0;i<anns.length;++i){var ann=anns[i],severity=ann.severity;severity||(severity="error"),maxSeverity=getMaxSeverity(maxSeverity,severity),options.formatAnnotation&&(ann=options.formatAnnotation(ann)),state.hasGutter&&tipLabel.appendChild(annotationTooltip(ann)),ann.to&&state.marked.push(cm.markText(ann.from,ann.to,{className:"CodeMirror-lint-mark-"+severity,__annotation:ann}))}state.hasGutter&&cm.setGutterMarker(line,GUTTER_ID,makeMarker(tipLabel,maxSeverity,1<anns.length,state.options.tooltips))}options.onUpdateLinting&&options.onUpdateLinting(annotationsNotSorted,annotations,cm)}function onChange(cm){var state=cm.state.lint;state&&(clearTimeout(state.timeout),state.timeout=setTimeout(function(){startLinting(cm)},state.options.delay||500))}function popupTooltips(annotations,e){for(var target=e.target||e.srcElement,tooltip=document.createDocumentFragment(),i=0,ann;i<annotations.length;i++)ann=annotations[i],tooltip.appendChild(annotationTooltip(ann));showTooltipFor(e,tooltip,target)}function onMouseOver(cm,e){var target=e.target||e.srcElement;if(/\bCodeMirror-lint-mark-/.test(target.className)){for(var box=target.getBoundingClientRect(),x=(box.left+box.right)/2,y=(box.top+box.bottom)/2,spans=cm.findMarksAt(cm.coordsChar({left:x,top:y},"client")),annotations=[],i=0,ann;i<spans.length;++i)ann=spans[i].__annotation,ann&&annotations.push(ann);annotations.length&&popupTooltips(annotations,e)}}var GUTTER_ID="CodeMirror-lint-markers";CodeMirror.defineOption("lint",!1,function(cm,val,old){if(old&&old!=CodeMirror.Init&&(clearMarks(cm),!1!==cm.state.lint.options.lintOnChange&&cm.off("change",onChange),CodeMirror.off(cm.getWrapperElement(),"mouseover",cm.state.lint.onMouseOver),clearTimeout(cm.state.lint.timeout),delete cm.state.lint),val){for(var gutters=cm.getOption("gutters"),hasLintGutter=!1,i=0;i<gutters.length;++i)gutters[i]==GUTTER_ID&&(hasLintGutter=!0);var state=cm.state.lint=new LintState(cm,parseOptions(cm,val),hasLintGutter);!1!==state.options.lintOnChange&&cm.on("change",onChange),!1!=state.options.tooltips&&"gutter"!=state.options.tooltips&&CodeMirror.on(cm.getWrapperElement(),"mouseover",state.onMouseOver),startLinting(cm)}}),CodeMirror.defineExtension("performLint",function(){this.state.lint&&startLinting(this)})}),function(mod){"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof2(module))?mod(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define("codemirror/addon/edit/matchbrackets",["../../lib/codemirror"],mod):mod(CodeMirror)}(function(CodeMirror){function findMatchingBracket(cm,where,config){var line=cm.getLineHandle(where.line),pos=where.ch-1,afterCursor=config&&config.afterCursor;null==afterCursor&&(afterCursor=/(^| )cm-fat-cursor($| )/.test(cm.getWrapperElement().className));var match=!afterCursor&&0<=pos&&matching[line.text.charAt(pos)]||matching[line.text.charAt(++pos)];if(!match)return null;var dir=">"==match.charAt(1)?1:-1;if(config&&config.strict&&0<dir!=(pos==where.ch))return null;var style=cm.getTokenTypeAt(Pos(where.line,pos+1)),found=scanForBracket(cm,Pos(where.line,pos+(0<dir?1:0)),dir,style||null,config);return null==found?null:{from:Pos(where.line,pos),to:found&&found.pos,match:found&&found.ch==match.charAt(0),forward:0<dir}}function scanForBracket(cm,where,dir,style,config){for(var maxScanLen=config&&config.maxScanLineLength||1e4,maxScanLines=config&&config.maxScanLines||1e3,stack=[],re=config&&config.bracketRegex?config.bracketRegex:/[(){}[\]]/,lineEnd=0<dir?Math.min(where.line+maxScanLines,cm.lastLine()+1):Math.max(cm.firstLine()-1,where.line-maxScanLines),lineNo=where.line,line;lineNo!=lineEnd;lineNo+=dir)if(line=cm.getLine(lineNo),line){var pos=0<dir?0:line.length-1,end=0<dir?line.length:-1;if(!(line.length>maxScanLen))for(lineNo==where.line&&(pos=where.ch-(0>dir?1:0));pos!=end;pos+=dir){var ch=line.charAt(pos);if(re.test(ch)&&(void 0===style||cm.getTokenTypeAt(Pos(lineNo,pos+1))==style)){var match=matching[ch];if(">"==match.charAt(1)==0<dir)stack.push(ch);else{if(!stack.length)return{pos:Pos(lineNo,pos),ch:ch};stack.pop()}}}}return lineNo-dir!=(0<dir?cm.lastLine():cm.firstLine())&&null}function matchBrackets(cm,autoclear,config){for(var maxHighlightLen=cm.state.matchBrackets.maxHighlightLineLength||1e3,marks=[],ranges=cm.listSelections(),i=0,match;i<ranges.length;i++)if(match=ranges[i].empty()&&findMatchingBracket(cm,ranges[i].head,config),match&&cm.getLine(match.from.line).length<=maxHighlightLen){var style=match.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";marks.push(cm.markText(match.from,Pos(match.from.line,match.from.ch+1),{className:style})),match.to&&cm.getLine(match.to.line).length<=maxHighlightLen&&marks.push(cm.markText(match.to,Pos(match.to.line,match.to.ch+1),{className:style}))}if(marks.length){ie_lt8&&cm.state.focused&&cm.focus();var clear=function(){cm.operation(function(){for(var i=0;i<marks.length;i++)marks[i].clear()})};if(autoclear)setTimeout(clear,800);else return clear}}function doMatchBrackets(cm){cm.operation(function(){currentlyHighlighted&&(currentlyHighlighted(),currentlyHighlighted=null),currentlyHighlighted=matchBrackets(cm,!1,cm.state.matchBrackets)})}var ie_lt8=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),Pos=CodeMirror.Pos,matching={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},currentlyHighlighted=null;CodeMirror.defineOption("matchBrackets",!1,function(cm,val,old){old&&old!=CodeMirror.Init&&(cm.off("cursorActivity",doMatchBrackets),currentlyHighlighted&&(currentlyHighlighted(),currentlyHighlighted=null)),val&&(cm.state.matchBrackets="object"==("undefined"==typeof val?"undefined":_typeof2(val))?val:{},cm.on("cursorActivity",doMatchBrackets))}),CodeMirror.defineExtension("matchBrackets",function(){matchBrackets(this,!0)}),CodeMirror.defineExtension("findMatchingBracket",function(pos,config,oldConfig){return(oldConfig||"boolean"==typeof config)&&(oldConfig?(oldConfig.strict=config,config=oldConfig):config=config?{strict:!0}:null),findMatchingBracket(this,pos,config)}),CodeMirror.defineExtension("scanForBracket",function(pos,dir,style,config){return scanForBracket(this,pos,dir,style,config)})});(function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("moment",factory):global.moment=factory()})(this,function(){"use strict";function utils_hooks__hooks(){return hookCallback.apply(null,arguments)}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var res=[],i;for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function create_utc__createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function getParsingFlags(m){return null==m._pf&&(m._pf=defaultParsingFlags()),m._pf}function valid__isValid(m){if(null==m._isValid){var flags=getParsingFlags(m);m._isValid=!isNaN(m._d.getTime())&&0>flags.overflow&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated,m._strict&&(m._isValid=m._isValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&flags.bigHour===void 0)}return m._isValid}function valid__createInvalid(flags){var m=create_utc__createUTC(NaN);return null==flags?getParsingFlags(m).userInvalidated=!0:extend(getParsingFlags(m),flags),m}function isUndefined(input){return void 0===input}function copyConfig(to,from){var i,prop,val;if(isUndefined(from._isAMomentObject)||(to._isAMomentObject=from._isAMomentObject),isUndefined(from._i)||(to._i=from._i),isUndefined(from._f)||(to._f=from._f),isUndefined(from._l)||(to._l=from._l),isUndefined(from._strict)||(to._strict=from._strict),isUndefined(from._tzm)||(to._tzm=from._tzm),isUndefined(from._isUTC)||(to._isUTC=from._isUTC),isUndefined(from._offset)||(to._offset=from._offset),isUndefined(from._pf)||(to._pf=getParsingFlags(from)),isUndefined(from._locale)||(to._locale=from._locale),0<momentProperties.length)for(i in momentProperties)prop=momentProperties[i],val=from[prop],isUndefined(val)||(to[prop]=val);return to}function Moment(config){copyConfig(this,config),this._d=new Date(null==config._d?NaN:config._d.getTime()),!1===updateInProgress&&(updateInProgress=!0,utils_hooks__hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return 0>number?_Mathceil2(number):_Mathfloor2(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!=coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var len=_Mathmin2(array1.length,array2.length),lengthDiff=_Mathabs3(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function Locale(){}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var i=0,j,next,locale,split;i<names.length;){for(split=normalizeLocale(names[i]).split("-"),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split("-"):null;0<j;){if(locale=loadLocale(split.slice(0,j).join("-")),locale)return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&"undefined"!=typeof module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require("./locale/"+name),locale_locales__getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function locale_locales__getSetGlobalLocale(key,values){var data;return key&&(data=isUndefined(values)?locale_locales__getLocale(key):defineLocale(key,values),data&&(globalLocale=data)),globalLocale._abbr}function defineLocale(name,values){return null===values?(delete locales[name],null):(values.abbr=name,locales[name]=locales[name]||new Locale,locales[name].set(values),locale_locales__getSetGlobalLocale(name),locales[name])}function locale_locales__getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key),locale)return locale;key=[key]}return chooseLocale(key)}function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function isFunction(input){return input instanceof Function||"[object Function]"===Object.prototype.toString.call(input)}function makeGetSet(unit,keepTime){return function(value){return null==value?get_set__get(this,unit):(get_set__set(this,unit,value),utils_hooks__hooks.updateOffset(this,keepTime),this)}}function get_set__get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function get_set__set(mom,unit,value){mom.isValid()&&mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function getSet(units,value){if("object"===("undefined"==typeof units?"undefined":_typeof2(units)))for(var unit in units)this.set(unit,units[unit]);else if(units=normalizeUnits(units),isFunction(this[units]))return this[units](value);return this}function zeroFill(number,targetLength,forceSign){var absNumber=""+_Mathabs3(number),zerosToFill=targetLength-absNumber.length;return(0<=number?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++)array[i]=formatTokenFunctions[array[i]]?formatTokenFunctions[array[i]]:removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;i<length;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;0<=i&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(unescapeFormat(token))}function unescapeFormat(s){return regexEscape(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(token,callback){var func=callback,i;for("string"==typeof token&&(token=[token]),"number"==typeof callback&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function setMonth(mom,value){var dayOfMonth;return mom.isValid()?"string"==typeof value&&(value=mom.localeData().monthsParse(value),"number"!=typeof value)?mom:(dayOfMonth=_Mathmin2(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom):mom}function getSetMonth(value){return null==value?get_set__get(this,"Month"):(setMonth(this,value),utils_hooks__hooks.updateOffset(this,!0),this)}function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var shortPieces=[],longPieces=[],mixedPieces=[],i,mom;for(i=0;12>i;i++)mom=create_utc__createUTC([2e3,i]),shortPieces.push(this.monthsShort(mom,"")),longPieces.push(this.months(mom,"")),mixedPieces.push(this.months(mom,"")),mixedPieces.push(this.monthsShort(mom,""));for(shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;12>i;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]),mixedPieces[i]=regexEscape(mixedPieces[i]);this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")$","i")}function checkOverflow(m){var a=m._a,overflow;return a&&-2===getParsingFlags(m).overflow&&(overflow=0>a[MONTH]||11<a[MONTH]?MONTH:1>a[DATE]||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:0>a[HOUR]||24<a[HOUR]||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:0>a[MINUTE]||59<a[MINUTE]?MINUTE:0>a[SECOND]||59<a[SECOND]?SECOND:0>a[MILLISECOND]||999<a[MILLISECOND]?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)&&(overflow=DATE),getParsingFlags(m)._overflowWeeks&&-1===overflow&&(overflow=WEEK),getParsingFlags(m)._overflowWeekday&&-1===overflow&&(overflow=WEEKDAY),getParsingFlags(m).overflow=overflow),m}function warn(msg){!1===utils_hooks__hooks.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){return firstTime&&(warn(msg+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+new Error().stack),firstTime=!1),fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){deprecations[name]||(warn(msg),deprecations[name]=!0)}function configFromISO(config){var string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string),i,l,allowTime,dateFormat,timeFormat,tzFormat;if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;i<l;i++)if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0],allowTime=!1!==isoDates[i][2];break}if(null==dateFormat)return void(config._isValid=!1);if(match[3]){for(i=0,l=isoTimes.length;i<l;i++)if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}if(null==timeFormat)return void(config._isValid=!1)}if(!allowTime&&null!=timeFormat)return void(config._isValid=!1);if(match[4])if(tzRegex.exec(match[4]))tzFormat="Z";else return void(config._isValid=!1);config._f=dateFormat+(timeFormat||"")+(tzFormat||""),configFromStringAndFormat(config)}else config._isValid=!1}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);return null===matched?void(configFromISO(config),!1===config._isValid&&(delete config._isValid,utils_hooks__hooks.createFromInputFallback(config))):void(config._d=new Date(+matched[1]))}function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return 100>y&&0<=y&&isFinite(date.getFullYear())&&date.setFullYear(y),date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return 100>y&&0<=y&&isFinite(date.getUTCFullYear())&&date.setUTCFullYear(y),date}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return 0==year%4&&0!=year%100||0==year%400}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy,fwdlw=(7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7;return-fwdlw+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),dayOfYear=1+7*(week-1)+(7+weekday-dow)%7+weekOffset,resYear,resDayOfYear;return 0>=dayOfYear?(resYear=year-1,resDayOfYear=daysInYear(resYear)+dayOfYear):dayOfYear>daysInYear(year)?(resYear=year+1,resDayOfYear=dayOfYear-daysInYear(year)):(resYear=year,resDayOfYear=dayOfYear),{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var weekOffset=firstWeekOffset(mom.year(),dow,doy),week=_Mathfloor2((mom.dayOfYear()-weekOffset-1)/7)+1,resWeek,resYear;return 1>week?(resYear=mom.year()-1,resWeek=week+weeksInYear(resYear,dow,doy)):week>weeksInYear(mom.year(),dow,doy)?(resWeek=week-weeksInYear(mom.year(),dow,doy),resYear=mom.year()+1):(resYear=mom.year(),resWeek=week),{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}function defaults(a,b,c){return null==a?null==b?c:b:a}function currentDateArray(config){var nowValue=new Date(utils_hooks__hooks.now());return config._useUTC?[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]:[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}function configFromArray(config){var input=[],i,date,currentDate,yearToUse;if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:createDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;w=config._w,null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(local__createLocal(),1,4).year),week=defaults(w.W,1),weekday=defaults(w.E,1),(1>weekday||7<weekday)&&(weekdayOverflow=!0)):(dow=config._locale._week.dow,doy=config._locale._week.doy,weekYear=defaults(w.gg,config._a[YEAR],weekOfYear(local__createLocal(),dow,doy).year),week=defaults(w.w,1),null==w.d?null==w.e?weekday=dow:(weekday=w.e+dow,(0>w.e||6<w.e)&&(weekdayOverflow=!0)):(weekday=w.d,(0>weekday||6<weekday)&&(weekdayOverflow=!0))),1>week||week>weeksInYear(weekYear,dow,doy)?getParsingFlags(config)._overflowWeeks=!0:null==weekdayOverflow?(temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear):getParsingFlags(config)._overflowWeekday=!0}function configFromStringAndFormat(config){if(config._f===utils_hooks__hooks.ISO_8601)return void configFromISO(config);config._a=[],getParsingFlags(config).empty=!0;var string=""+config._i,stringLength=string.length,totalParsedInputLength=0,i,parsedInput,tokens,token,skipped;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),0<skipped.length&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,0<string.length&&getParsingFlags(config).unusedInput.push(string),!0===getParsingFlags(config).bigHour&&12>=config._a[HOUR]&&0<config._a[HOUR]&&(getParsingFlags(config).bigHour=void 0),config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;return null==meridiem?hour:null==locale.meridiemHour?null==locale.isPM?hour:(isPm=locale.isPM(meridiem),isPm&&12>hour&&(hour+=12),isPm||12!==hour||(hour=0),hour):locale.meridiemHour(hour,meridiem)}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,void(config._d=new Date(NaN));for(i=0;i<config._f.length;i++)(currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),!!valid__isValid(tempConfig))&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||currentScore<scoreToBeat)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function configFromObject(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)}),configFromArray(config)}}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}function prepareConfig(config){var input=config._i,format=config._f;return(config._locale=config._locale||locale_locales__getLocale(config._l),null===input||void 0===format&&""===input)?valid__createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input))?new Moment(checkOverflow(input)):(isArray(format)?configFromStringAndArray(config):format?configFromStringAndFormat(config):isDate(input)?config._d=input:configFromInput(config),valid__isValid(config)||(config._d=null),config)}function configFromInput(config){var input=config._i;input===void 0?config._d=new Date(utils_hooks__hooks.now()):isDate(input)?config._d=new Date(+input):"string"==typeof input?configFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):"object"===("undefined"==typeof input?"undefined":_typeof2(input))?configFromObject(config):"number"==typeof input?config._d=new Date(input):utils_hooks__hooks.createFromInputFallback(config)}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return"boolean"==typeof locale&&(strict=locale,locale=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,createFromConfig(c)}function local__createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return local__createLocal();for(res=moments[0],i=1;i<moments.length;++i)(!moments[i].isValid()||moments[i][fn](res))&&(res=moments[i]);return res}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=locale_locales__getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return 0>offset&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}function offsetFromString(matcher,string){var matches=(string||"").match(matcher)||[],chunk=matches[matches.length-1]||[],parts=(chunk+"").match(chunkOffset)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?+input:+local__createLocal(input))-+res,res._d.setTime(+res._d+diff),utils_hooks__hooks.updateOffset(res,!1),res):local__createLocal(input).local()}function getDateOffset(m){return 15*-_Mathround3(m._d.getTimezoneOffset()/15)}function isUtc(){return!!this.isValid()&&this._isUTC&&0===this._offset}function create__createDuration(input,key){var duration=input,match=null,sign,ret,diffRes;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=isoRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),d:parseIso(match[4],sign),h:parseIso(match[5],sign),m:parseIso(match[6],sign),s:parseIso(match[7],sign),w:parseIso(match[8],sign)}):null==duration?duration={}:"object"===("undefined"==typeof duration?"undefined":_typeof2(duration))&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(local__createLocal(duration.from),local__createLocal(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return base.isValid()&&other.isValid()?(other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):(res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months),res):{milliseconds:0,months:0}}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period)."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=create__createDuration(val,period),add_subtract__addSubtract(this,dur,direction),this}}function add_subtract__addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;mom.isValid()&&(updateOffset=!(null!=updateOffset)||updateOffset,milliseconds&&mom._d.setTime(+mom._d+milliseconds*isAdding),days&&get_set__set(mom,"Date",get_set__get(mom,"Date")+days*isAdding),months&&setMonth(mom,get_set__get(mom,"Month")+months*isAdding),updateOffset&&utils_hooks__hooks.updateOffset(mom,days||months))}function monthDiff(a,b){var wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months"),anchor2,adjust;return 0>b-anchor?(anchor2=a.clone().add(wholeMonthDiff-1,"months"),adjust=(b-anchor)/(anchor-anchor2)):(anchor2=a.clone().add(wholeMonthDiff+1,"months"),adjust=(b-anchor)/(anchor2-anchor)),-(wholeMonthDiff+adjust)}function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(newLocaleData=locale_locales__getLocale(key),null!=newLocaleData&&(this._locale=newLocaleData),this)}function localeData(){return this._locale}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;return null==input?weekOfYear(this,dow,doy).year:(weeksTarget=weeksInYear(input,dow,doy),week>weeksTarget&&(week=weeksTarget),setWeekAll.call(this,input,week,weekday,dow,doy))}function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);return this.year(date.getUTCFullYear()),this.month(date.getUTCMonth()),this.date(date.getUTCDate()),this}function parseWeekday(input,locale){return"string"==typeof input?isNaN(input)?(input=locale.weekdaysParse(input),"number"==typeof input?input:null):parseInt(input,10):input}function hFormat(){return this.hours()%12||12}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}function parseMs(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))}function preParsePostFormat(string){return string}function lists__get(format,index,field,setter){var locale=locale_locales__getLocale(),utc=create_utc__createUTC().set(setter,index);return locale[field](utc,format)}function list(format,index,field,count,setter){if("number"==typeof format&&(index=format,format=void 0),format=format||"",null!=index)return lists__get(format,index,field,setter);var out=[],i;for(i=0;i<count;i++)out[i]=lists__get(format,i,field,setter);return out}function duration_add_subtract__addSubtract(duration,input,value,direction){var other=create__createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function absCeil(number){return 0>number?_Mathfloor2(number):_Mathceil2(number)}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function makeAs(alias){return function(){return this.as(alias)}}function makeGetter(name){return function(){return this._data[name]}}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function duration_humanize__relativeTime(posNegDuration,withoutSuffix,locale){var duration=create__createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<thresholds.s&&["s",seconds]||1>=minutes&&["m"]||minutes<thresholds.m&&["mm",minutes]||1>=hours&&["h"]||hours<thresholds.h&&["hh",hours]||1>=days&&["d"]||days<thresholds.d&&["dd",days]||1>=months&&["M"]||months<thresholds.M&&["MM",months]||1>=years&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=0<+posNegDuration,a[4]=locale,substituteTimeAgo.apply(null,a)}function iso_string__toISOString(){var seconds=iso_string__abs(this._milliseconds)/1e3,days=iso_string__abs(this._days),months=iso_string__abs(this._months),minutes,hours,years;minutes=absFloor(seconds/60),hours=absFloor(minutes/60),seconds%=60,minutes%=60,years=absFloor(months/12),months%=12;var Y=years,M=months,D=days,h=hours,m=minutes,s=seconds,total=this.asSeconds();return total?(0>total?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":""):"P0D"}var _Mathceil2=Math.ceil,_Mathfloor2=Math.floor,_Mathabs3=Math.abs,_Mathmin2=Math.min,_Mathround3=Math.round,momentProperties=utils_hooks__hooks.momentProperties=[],updateInProgress=!1,locales={},aliases={},formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={},match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={},tokens={},YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8,hookCallback,globalLocale;addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)}),addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)}),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null==month?getParsingFlags(config).invalidMonth=input:array[MONTH]=month});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),deprecations={};utils_hooks__hooks.suppressDeprecationWarnings=!1;var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;utils_hooks__hooks.createFromInputFallback=deprecate("moment construction falls back to js Date. This is "+"discouraged and will be removed in upcoming major "+"release. Please refer to "+"https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),addFormatToken("Y",0,0,function(){var y=this.year();return 9999>=y?""+y:"+"+y}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?utils_hooks__hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=utils_hooks__hooks.parseTwoDigitYear(input)}),addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)}),utils_hooks__hooks.parseTwoDigitYear=function(input){return toInt(input)+(68<toInt(input)?1900:2e3)};var getSetYear=makeGetSet("FullYear",!1);utils_hooks__hooks.ISO_8601=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other<this?this:other:valid__createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var other=local__createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other>this?this:other:valid__createInvalid()});offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchShortOffset),addRegexToken("ZZ",matchShortOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;utils_hooks__hooks.updateOffset=function(){};var aspNetRegex=/(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;create__createDuration.fn=Duration.prototype;var add_subtract__add=createAdder(1,"add"),add_subtract__subtract=createAdder(-1,"subtract");utils_hooks__hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return void 0===key?this.localeData():this.locale(key)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=utils_hooks__hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",matchWord),addRegexToken("ddd",matchWord),addRegexToken("dddd",matchWord),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);null==weekday?getParsingFlags(config).invalidWeekday=input:week.d=weekday}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addRegexToken("hmm",match3to4),addRegexToken("hmmss",match5to6),addRegexToken("Hmm",match3to4),addRegexToken("Hmmss",match5to6),addParseToken(["H","HH"],HOUR),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0}),addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos)),getParsingFlags(config).bigHour=!0}),addParseToken("hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2)),getParsingFlags(config).bigHour=!0}),addParseToken("Hmm",function(input,array){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos))}),addParseToken("Hmmss",function(input,array){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2))});var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3);var token;for(token="SSSS";9>=token.length;token+="S")addRegexToken(token,matchUnsigned);for(token="S";9>=token.length;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var momentPrototype__proto=Moment.prototype;momentPrototype__proto.add=add_subtract__add,momentPrototype__proto.calendar=function(time,formats){var now=time||local__createLocal(),sod=cloneWithOffset(now,this).startOf("day"),diff=this.diff(sod,"days",!0),format=-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse",output=formats&&(isFunction(formats[format])?formats[format]():formats[format]);return this.format(output||this.localeData().calendar(format,this,local__createLocal(now)))},momentPrototype__proto.clone=function(){return new Moment(this)},momentPrototype__proto.diff=function(input,units,asFloat){var that,zoneDelta,delta,output;return this.isValid()?(that=cloneWithOffset(input,this),!that.isValid())?NaN:(zoneDelta=6e4*(that.utcOffset()-this.utcOffset()),units=normalizeUnits(units),"year"===units||"month"===units||"quarter"===units?(output=monthDiff(this,that),"quarter"===units?output/=3:"year"===units&&(output/=12)):(delta=this-that,output="second"===units?delta/1e3:"minute"===units?delta/6e4:"hour"===units?delta/36e5:"day"===units?(delta-zoneDelta)/864e5:"week"===units?(delta-zoneDelta)/6048e5:delta),asFloat?output:absFloor(output)):NaN},momentPrototype__proto.endOf=function(units){return units=normalizeUnits(units),void 0===units||"millisecond"===units?this:this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms")},momentPrototype__proto.format=function(inputString){var output=formatMoment(this,inputString||utils_hooks__hooks.defaultFormat);return this.localeData().postformat(output)},momentPrototype__proto.from=function(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||local__createLocal(time).isValid())?create__createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()},momentPrototype__proto.fromNow=function(withoutSuffix){return this.from(local__createLocal(),withoutSuffix)},momentPrototype__proto.to=function(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||local__createLocal(time).isValid())?create__createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()},momentPrototype__proto.toNow=function(withoutSuffix){return this.to(local__createLocal(),withoutSuffix)},momentPrototype__proto.get=getSet,momentPrototype__proto.invalidAt=function(){return getParsingFlags(this).overflow},momentPrototype__proto.isAfter=function(input,units){var localInput=isMoment(input)?input:local__createLocal(input);return!!(this.isValid()&&localInput.isValid())&&(units=normalizeUnits(isUndefined(units)?"millisecond":units),"millisecond"===units?+this>+localInput:+localInput<+this.clone().startOf(units))},momentPrototype__proto.isBefore=function(input,units){var localInput=isMoment(input)?input:local__createLocal(input);return!!(this.isValid()&&localInput.isValid())&&(units=normalizeUnits(isUndefined(units)?"millisecond":units),"millisecond"===units?+this<+localInput:+this.clone().endOf(units)<+localInput)},momentPrototype__proto.isBetween=function(from,to,units){return this.isAfter(from,units)&&this.isBefore(to,units)},momentPrototype__proto.isSame=function(input,units){var localInput=isMoment(input)?input:local__createLocal(input),inputMs;return!!(this.isValid()&&localInput.isValid())&&(units=normalizeUnits(units||"millisecond"),"millisecond"===units?+this==+localInput:(inputMs=+localInput,+this.clone().startOf(units)<=inputMs&&inputMs<=+this.clone().endOf(units)))},momentPrototype__proto.isSameOrAfter=function(input,units){return this.isSame(input,units)||this.isAfter(input,units)},momentPrototype__proto.isSameOrBefore=function(input,units){return this.isSame(input,units)||this.isBefore(input,units)},momentPrototype__proto.isValid=function(){return valid__isValid(this)},momentPrototype__proto.lang=lang,momentPrototype__proto.locale=locale,momentPrototype__proto.localeData=localeData,momentPrototype__proto.max=prototypeMax,momentPrototype__proto.min=prototypeMin,momentPrototype__proto.parsingFlags=function(){return extend({},getParsingFlags(this))},momentPrototype__proto.set=getSet,momentPrototype__proto.startOf=function(units){switch(units=normalizeUnits(units),units){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0);}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*_Mathfloor2(this.month()/3)),this},momentPrototype__proto.subtract=add_subtract__subtract,momentPrototype__proto.toArray=function(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]},momentPrototype__proto.toObject=function(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}},momentPrototype__proto.toDate=function(){return this._offset?new Date(+this):this._d},momentPrototype__proto.toISOString=function(){var m=this.clone().utc();return 0<m.year()&&9999>=m.year()?isFunction(Date.prototype.toISOString)?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},momentPrototype__proto.toJSON=function(){return this.isValid()?this.toISOString():"null"},momentPrototype__proto.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},momentPrototype__proto.unix=function(){return _Mathfloor2(+this/1e3)},momentPrototype__proto.valueOf=function(){return+this._d-6e4*(this._offset||0)},momentPrototype__proto.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},momentPrototype__proto.year=getSetYear,momentPrototype__proto.isLeapYear=function(){return isLeapYear(this.year())},momentPrototype__proto.weekYear=function(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},momentPrototype__proto.isoWeekYear=function(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)},momentPrototype__proto.quarter=momentPrototype__proto.quarters=function(input){return null==input?_Mathceil2((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},momentPrototype__proto.month=getSetMonth,momentPrototype__proto.daysInMonth=function(){return daysInMonth(this.year(),this.month())},momentPrototype__proto.week=momentPrototype__proto.weeks=function(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")},momentPrototype__proto.isoWeek=momentPrototype__proto.isoWeeks=function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")},momentPrototype__proto.weeksInYear=function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},momentPrototype__proto.isoWeeksInYear=function(){return weeksInYear(this.year(),1,4)},momentPrototype__proto.date=getSetDayOfMonth,momentPrototype__proto.day=momentPrototype__proto.days=function(input){if(!this.isValid())return null==input?NaN:this;var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==input?day:(input=parseWeekday(input,this.localeData()),this.add(input-day,"d"))},momentPrototype__proto.weekday=function(input){if(!this.isValid())return null==input?NaN:this;var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")},momentPrototype__proto.isoWeekday=function(input){return this.isValid()?null==input?this.day()||7:this.day(this.day()%7?input:input-7):null==input?NaN:this},momentPrototype__proto.dayOfYear=function(input){var dayOfYear=_Mathround3((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")},momentPrototype__proto.hour=momentPrototype__proto.hours=getSetHour,momentPrototype__proto.minute=momentPrototype__proto.minutes=getSetMinute,momentPrototype__proto.second=momentPrototype__proto.seconds=getSetSecond,momentPrototype__proto.millisecond=momentPrototype__proto.milliseconds=getSetMillisecond,momentPrototype__proto.utcOffset=function(input,keepLocalTime){var offset=this._offset||0,localAdjust;return this.isValid()?null==input?this._isUTC?offset:getDateOffset(this):("string"==typeof input?input=offsetFromString(matchShortOffset,input):16>_Mathabs3(input)&&(input*=60),!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?add_subtract__addSubtract(this,create__createDuration(input-offset,"m"),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,utils_hooks__hooks.updateOffset(this,!0),this._changeInProgress=null)),this):null==input?NaN:this},momentPrototype__proto.utc=function(keepLocalTime){return this.utcOffset(0,keepLocalTime)},momentPrototype__proto.local=function(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this},momentPrototype__proto.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(offsetFromString(matchOffset,this._i)),this},momentPrototype__proto.hasAlignedHourOffset=function(input){return!!this.isValid()&&(input=input?local__createLocal(input).utcOffset():0,0==(this.utcOffset()-input)%60)},momentPrototype__proto.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},momentPrototype__proto.isDSTShifted=function(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var c={};if(copyConfig(c,this),c=prepareConfig(c),c._a){var other=c._isUTC?create_utc__createUTC(c._a):local__createLocal(c._a);this._isDSTShifted=this.isValid()&&0<compareArrays(c._a,other.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted},momentPrototype__proto.isLocal=function(){return!!this.isValid()&&!this._isUTC},momentPrototype__proto.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},momentPrototype__proto.isUtc=isUtc,momentPrototype__proto.isUTC=isUtc,momentPrototype__proto.zoneAbbr=function(){return this._isUTC?"UTC":""},momentPrototype__proto.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},momentPrototype__proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),momentPrototype__proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),momentPrototype__proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),momentPrototype__proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(input,keepLocalTime){return null==input?-this.utcOffset():("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this)});var momentPrototype=momentPrototype__proto,defaultOrdinalParse=/\d{1,2}/,prototype__proto=Locale.prototype;prototype__proto._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},prototype__proto.calendar=function(key,mom,now){var output=this._calendar[key];return isFunction(output)?output.call(mom,now):output},prototype__proto._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},prototype__proto.longDateFormat=function(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])},prototype__proto._invalidDate="Invalid date",prototype__proto.invalidDate=function(){return this._invalidDate},prototype__proto._ordinal="%d",prototype__proto.ordinal=function(number){return this._ordinal.replace("%d",number)},prototype__proto._ordinalParse=defaultOrdinalParse,prototype__proto.preparse=preParsePostFormat,prototype__proto.postformat=preParsePostFormat,prototype__proto._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},prototype__proto.relativeTime=function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},prototype__proto.pastFuture=function(diff,output){var format=this._relativeTime[0<diff?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)},prototype__proto.set=function(config){var prop,i;for(i in config)prop=config[i],isFunction(prop)?this[i]=prop:this["_"+i]=prop;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},prototype__proto.months=function(m,format){return isArray(this._months)?this._months[m.month()]:this._months[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]},prototype__proto._months=defaultLocaleMonths,prototype__proto.monthsShort=function(m,format){return isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]},prototype__proto._monthsShort=defaultLocaleMonthsShort,prototype__proto.monthsParse=function(monthName,format,strict){var i,mom,regex;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(mom=create_utc__createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}},prototype__proto._monthsRegex=matchWord,prototype__proto.monthsRegex=function(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex},prototype__proto._monthsShortRegex=matchWord,prototype__proto.monthsShortRegex=function(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex},prototype__proto.week=function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},prototype__proto._week={dow:0,doy:6},prototype__proto.firstDayOfYear=function(){return this._week.doy},prototype__proto.firstDayOfWeek=function(){return this._week.dow},prototype__proto.weekdays=function(m,format){return isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?"format":"standalone"][m.day()]},prototype__proto._weekdays=defaultLocaleWeekdays,prototype__proto.weekdaysMin=function(m){return this._weekdaysMin[m.day()]},prototype__proto._weekdaysMin=defaultLocaleWeekdaysMin,prototype__proto.weekdaysShort=function(m){return this._weekdaysShort[m.day()]},prototype__proto._weekdaysShort=defaultLocaleWeekdaysShort,prototype__proto.weekdaysParse=function(weekdayName,format,strict){var i,mom,regex;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(mom=local__createLocal([2e3,1]).day(i),strict&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"dddd"===format&&this._fullWeekdaysParse[i].test(weekdayName))return i;if(strict&&"ddd"===format&&this._shortWeekdaysParse[i].test(weekdayName))return i;if(strict&&"dd"===format&&this._minWeekdaysParse[i].test(weekdayName))return i;if(!strict&&this._weekdaysParse[i].test(weekdayName))return i}},prototype__proto.isPM=function(input){return"p"===(input+"").toLowerCase().charAt(0)},prototype__proto._meridiemParse=defaultLocaleMeridiemParse,prototype__proto.meridiem=function(hours,minutes,isLower){return 11<hours?isLower?"pm":"PM":isLower?"am":"AM"},locale_locales__getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function ordinal(number){var b=number%10,output=1===toInt(number%100/10)?"th":1==b?"st":2==b?"nd":3==b?"rd":"th";return number+output}}),utils_hooks__hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",locale_locales__getSetGlobalLocale),utils_hooks__hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",locale_locales__getLocale);var mathAbs=_Mathabs3,asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y"),milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years"),round=_Mathround3,thresholds={s:45,m:45,h:22,d:26,M:11},iso_string__abs=_Mathabs3,duration_prototype__proto=Duration.prototype;duration_prototype__proto.abs=function(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this},duration_prototype__proto.add=function(input,value){return duration_add_subtract__addSubtract(this,input,value,1)},duration_prototype__proto.subtract=function(input,value){return duration_add_subtract__addSubtract(this,input,value,-1)},duration_prototype__proto.as=function(units){var milliseconds=this._milliseconds,days,months;if(units=normalizeUnits(units),"month"===units||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+_Mathround3(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return _Mathfloor2(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units);}},duration_prototype__proto.asMilliseconds=asMilliseconds,duration_prototype__proto.asSeconds=asSeconds,duration_prototype__proto.asMinutes=asMinutes,duration_prototype__proto.asHours=asHours,duration_prototype__proto.asDays=asDays,duration_prototype__proto.asWeeks=asWeeks,duration_prototype__proto.asMonths=asMonths,duration_prototype__proto.asYears=asYears,duration_prototype__proto.valueOf=function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*toInt(this._months/12)},duration_prototype__proto._bubble=function(){var milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data,seconds,minutes,hours,years,monthsFromDays;return 0<=milliseconds&&0<=days&&0<=months||0>=milliseconds&&0>=days&&0>=months||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),days=0,months=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,days+=absFloor(hours/24),monthsFromDays=absFloor(daysToMonths(days)),months+=monthsFromDays,days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this},duration_prototype__proto.get=function(units){return units=normalizeUnits(units),this[units+"s"]()},duration_prototype__proto.milliseconds=milliseconds,duration_prototype__proto.seconds=seconds,duration_prototype__proto.minutes=minutes,duration_prototype__proto.hours=hours,duration_prototype__proto.days=days,duration_prototype__proto.weeks=function(){return absFloor(this.days()/7)},duration_prototype__proto.months=months,duration_prototype__proto.years=years,duration_prototype__proto.humanize=function(withSuffix){var locale=this.localeData(),output=duration_humanize__relativeTime(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)},duration_prototype__proto.toISOString=iso_string__toISOString,duration_prototype__proto.toString=iso_string__toISOString,duration_prototype__proto.toJSON=iso_string__toISOString,duration_prototype__proto.locale=locale,duration_prototype__proto.localeData=localeData,duration_prototype__proto.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",iso_string__toISOString),duration_prototype__proto.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",matchTimestamp),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),utils_hooks__hooks.version="2.11.1",function(callback){hookCallback=callback}(local__createLocal),utils_hooks__hooks.fn=momentPrototype,utils_hooks__hooks.min=function(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)},utils_hooks__hooks.max=function(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)},utils_hooks__hooks.now=function now(){return Date.now?Date.now():+new Date},utils_hooks__hooks.utc=create_utc__createUTC,utils_hooks__hooks.unix=function(input){return local__createLocal(1e3*input)},utils_hooks__hooks.months=function(format,index){return list(format,index,"months",12,"month")},utils_hooks__hooks.isDate=isDate,utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale,utils_hooks__hooks.invalid=valid__createInvalid,utils_hooks__hooks.duration=create__createDuration,utils_hooks__hooks.isMoment=isMoment,utils_hooks__hooks.weekdays=function(format,index){return list(format,index,"weekdays",7,"day")},utils_hooks__hooks.parseZone=function(){return local__createLocal.apply(null,arguments).parseZone()},utils_hooks__hooks.localeData=locale_locales__getLocale,utils_hooks__hooks.isDuration=isDuration,utils_hooks__hooks.monthsShort=function(format,index){return list(format,index,"monthsShort",12,"month")},utils_hooks__hooks.weekdaysMin=function(format,index){return list(format,index,"weekdaysMin",7,"day")},utils_hooks__hooks.defineLocale=defineLocale,utils_hooks__hooks.weekdaysShort=function(format,index){return list(format,index,"weekdaysShort",7,"day")},utils_hooks__hooks.normalizeUnits=normalizeUnits,utils_hooks__hooks.relativeTimeThreshold=function(threshold,limit){return void 0!==thresholds[threshold]&&(void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,!0))},utils_hooks__hooks.prototype=momentPrototype;return utils_hooks__hooks}),!function(c,M){"use strict";"function"==typeof define&&define.amd?define("moment-timezone-with-data",["moment"],M):"object"==("undefined"==typeof module?"undefined":_typeof2(module))&&module.exports?module.exports=M(require("moment")):M(c.moment)}(this,function(c){"use strict";function M(c){return 96<c?c-87:64<c?c-29:c-48}function z(c){var z=0,A=c.split("."),b=A[0],o=A[1]||"",p=1,n=0,a=1;for(45===c.charCodeAt(0)&&(z=1,a=-1),z;z<b.length;z++)n=60*n+M(b.charCodeAt(z));for(z=0;z<o.length;z++)p/=60,n+=M(o.charCodeAt(z))*p;return n*a}function A(c){for(var M=0;M<c.length;M++)c[M]=z(c[M])}function b(c,M){for(var z=0;z<M;z++)c[z]=Math.round((c[z-1]||0)+6e4*c[z]);c[M-1]=1/0}function o(c,M){var A=[],z;for(z=0;z<M.length;z++)A[z]=c[M[z]];return A}function p(c){var M=c.split("|"),z=M[2].split(" "),p=M[3].split(""),n=M[4].split(" ");return A(z),A(p),A(n),b(n,p.length),{name:M[0],abbrs:o(M[1].split(" "),p),offsets:o(z,p),untils:n,population:0|M[5]}}function n(c){c&&this._set(p(c))}function a(c){var M=c.toTimeString(),z=M.match(/\([a-z ]+\)/i);"GMT"===(z=z&&z[0]?(z=z[0].match(/[A-Z]/g))?z.join(""):void 0:(z=M.match(/[A-Z]{3,5}/g))?z[0]:void 0)&&(z=void 0),this.at=+c,this.abbr=z,this.offset=c.getTimezoneOffset()}function O(c){this.zone=c,this.offsetScore=0,this.abbrScore=0}function L(c,M){for(var z,A;A=6e4*(0|(M.at-c.at)/12e4);)(z=new a(new Date(c.at+A))).offset===c.offset?c=z:M=z;return c}function q(){var A=new Date().getFullYear()-2,b=new a(new Date(A,0,1)),o=[b],c,M,z;for(z=1;48>z;z++)(M=new a(new Date(A,z,1))).offset!==b.offset&&(c=L(b,M),o.push(c),o.push(new a(new Date(c.at+6e4)))),b=M;for(z=0;4>z;z++)o.push(new a(new Date(A+z,0,1))),o.push(new a(new Date(A+z,6,1)));return o}function N(c,M){return c.offsetScore===M.offsetScore?c.abbrScore===M.abbrScore?M.zone.population-c.zone.population:c.abbrScore-M.abbrScore:c.offsetScore-M.offsetScore}function i(c,M){var z,b;for(A(M),z=0;z<M.length;z++)b=M[z],m[b]=m[b]||{},m[b][c]=!0}function W(c){var b=c.length,o={},p=[],M,z,A;for(M=0;M<b;M++)for(z in A=m[c[M].offset]||{},A)A.hasOwnProperty(z)&&(o[z]=!0);for(M in o)o.hasOwnProperty(M)&&p.push(S[M]);return p}function d(){try{var c=Intl.DateTimeFormat().resolvedOptions().timeZone;if(c&&3<c.length){var M=S[e(c)];if(M)return M;u("Moment Timezone found "+c+" from the Intl api, but did not have that data loaded.")}}catch(c){}var o=q(),p=o.length,n=W(o),a=[],z,A,b;for(A=0;A<n.length;A++){for(z=new O(f(n[A]),p),b=0;b<p;b++)z.scoreOffsetAt(o[b]);a.push(z)}return a.sort(N),0<a.length?a[0].zone.name:void 0}function e(c){return(c||"").toLowerCase().replace(/\//g,"_")}function X(c){var M,z,A,b;for("string"==typeof c&&(c=[c]),M=0;M<c.length;M++)b=e(z=(A=c[M].split("|"))[0]),E[b]=c[M],S[b]=z,i(b,A[2].split(" "))}function f(c,M){c=e(c);var A=E[c],z;return A instanceof n?A:"string"==typeof A?(A=new n(A),E[c]=A,A):R[c]&&M!==f&&(z=f(R[c],f))?((A=E[c]=new n)._set(z),A.name=S[c],A):null}function B(c){var M,z,A,b;for("string"==typeof c&&(c=[c]),M=0;M<c.length;M++)A=e((z=c[M].split("|"))[0]),b=e(z[1]),R[A]=b,S[A]=z[0],R[b]=A,S[b]=z[1]}function r(c){X(c.zones),B(c.links),t.dataVersion=c.version}function T(c){return T.didShowError||(T.didShowError=!0,u("moment.tz.zoneExists('"+c+"') has been deprecated in favor of !moment.tz.zone('"+c+"')")),!!f(c)}function l(c){var M="X"===c._f||"x"===c._f;return c._a&&void 0===c._tzm&&!M}function u(c){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(c)}function t(M){var z=Array.prototype.slice.call(arguments,0,-1),A=arguments[arguments.length-1],b=f(A),o=c.utc.apply(null,z);return b&&!c.isMoment(M)&&l(o)&&o.add(b.parse(o),"minutes"),o.tz(A),o}function s(c){return function(){return this._z?this._z.abbr(this):c.call(this)}}var _Mathabs4=Math.abs,E={},R={},S={},m={},D=c.version.split("."),P=+D[0],g=+D[1],C;(2>P||2==P&&6>g)&&u("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+c.version+". See momentjs.com"),n.prototype={_set:function _set(c){this.name=c.name,this.abbrs=c.abbrs,this.untils=c.untils,this.offsets=c.offsets,this.population=c.population},_index:function _index(c){var A=this.untils,M;for(M=0;M<A.length;M++)if(+c<A[M])return M},parse:function parse(c){var p=this.offsets,n=this.untils,a=n.length-1,M,z,A,b;for(b=0;b<a;b++)if(M=p[b],z=p[b+1],A=p[b?b-1:b],M<z&&t.moveAmbiguousForward?M=z:M>A&&t.moveInvalidForward&&(M=A),+c<n[b]-6e4*M)return p[b];return p[a]},abbr:function abbr(c){return this.abbrs[this._index(c)]},offset:function offset(c){return u("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(c)]},utcOffset:function utcOffset(c){return this.offsets[this._index(c)]}},O.prototype.scoreOffsetAt=function(c){this.offsetScore+=_Mathabs4(this.zone.utcOffset(c.at)-c.offset),this.zone.abbr(c.at).replace(/[^A-Z]/g,"")!==c.abbr&&this.abbrScore++},t.version="0.5.14",t.dataVersion="",t._zones=E,t._links=R,t._names=S,t.add=X,t.link=B,t.load=r,t.zone=f,t.zoneExists=T,t.guess=function(c){return C&&!c||(C=d()),C},t.names=function(){var M=[],c;for(c in S)S.hasOwnProperty(c)&&(E[c]||E[R[c]])&&S[c]&&M.push(S[c]);return M.sort()},t.Zone=n,t.unpack=p,t.unpackBase60=z,t.needsOffset=l,t.moveInvalidForward=!0,t.moveAmbiguousForward=!1;var h=c.fn;c.tz=t,c.defaultZone=null,c.updateOffset=function(M,z){var b=c.defaultZone,A;void 0===M._z&&(b&&l(M)&&!M._isUTC&&(M._d=c.utc(M._a)._d,M.utc().add(b.parse(M),"minutes")),M._z=b),M._z&&(A=M._z.utcOffset(M),16>_Mathabs4(A)&&(A/=60),void 0===M.utcOffset?M.zone(A,z):M.utcOffset(-A,z))},h.tz=function(M,z){return M?(this._z=f(M),this._z?c.updateOffset(this,z):u("Moment Timezone has no data for "+M+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},h.zoneName=s(h.zoneName),h.zoneAbbr=s(h.zoneAbbr),h.utc=function(c){return function(){return this._z=null,c.apply(this,arguments)}}(h.utc),c.tz.setDefault=function(M){return(2>P||2==P&&9>g)&&u("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+c.version+"."),c.defaultZone=M?f(M):null,c};var w=c.momentProperties;return"[object Array]"===Object.prototype.toString.call(w)?(w.push("_z"),w.push("_a")):w&&(w._z=null),r({version:"2017c",zones:["Africa/Abidjan|LMT GMT|g.8 0|01|-2ldXH.Q|48e5","Africa/Accra|LMT GMT +0020|.Q 0 -k|012121212121212121212121212121212121212121212121|-26BbX.8 6tzX.8 MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE 1BAk MnE 1C0k MnE 1BAk MnE 1BAk MnE|41e5","Africa/Nairobi|LMT EAT +0230 +0245|-2r.g -30 -2u -2J|01231|-1F3Cr.g 3Dzr.g okMu MFXJ|47e5","Africa/Algiers|PMT WET WEST CET CEST|-9.l 0 -10 -10 -20|0121212121212121343431312123431213|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 DA0 Imo0 rd0 De0 9Xz0 1fb0 1ap0 16K0 2yo0 mEp0 hwL0 jxA0 11A0 dDd0 17b0 11B0 1cN0 2Dy0 1cN0 1fB0 1cL0|26e5","Africa/Lagos|LMT WAT|-d.A -10|01|-22y0d.A|17e6","Africa/Bissau|LMT -01 GMT|12.k 10 0|012|-2ldWV.E 2xonV.E|39e4","Africa/Maputo|LMT CAT|-2a.k -20|01|-2GJea.k|26e5","Africa/Cairo|EET EEST|-20 -30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1bIO0 vb0 1ip0 11z0 1iN0 1nz0 12p0 1pz0 10N0 1pz0 16p0 1jz0 s3d0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1WL0 rd0 1Rz0 wp0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1qL0 Xd0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1ny0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 WL0 1qN0 Rb0 1wp0 On0 1zd0 Lz0 1EN0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0|15e6","Africa/Casablanca|LMT WET WEST CET|u.k 0 -10 -10|0121212121212121213121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2gMnt.E 130Lt.E rb0 Dd0 dVb0 b6p0 TX0 EoB0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4mn0 SyN0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0 11A0 5A0 e00 17c0 1fA0 1a00 1a00 1fA0 17c0 1io0 14o0 1lc0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1lc0 14o0 1fA0|32e5","Africa/Ceuta|WET WEST CET CEST|0 -10 -10 -20|010101010101010101010232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-25KN0 11z0 drd0 18p0 3HX0 17d0 1fz0 1a10 1io0 1a00 1y7o0 LL0 gnd0 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4VB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|85e3","Africa/El_Aaiun|LMT -01 WET WEST|Q.M 10 0 -10|01232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1rDz7.c 1GVA7.c 6L0 AL0 1Nd0 XX0 1Cp0 pz0 1cBB0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0 11A0 5A0 e00 17c0 1fA0 1a00 1a00 1fA0 17c0 1io0 14o0 1lc0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1lc0 14o0 1fA0|20e4","Africa/Johannesburg|SAST SAST SAST|-1u -20 -30|012121|-2GJdu 1Ajdu 1cL0 1cN0 1cL0|84e5","Africa/Juba|LMT CAT CAST EAT|-26.s -20 -30 -30|01212121212121212121212121212121213|-1yW26.s 1zK06.s 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0","Africa/Khartoum|LMT CAT CAST EAT|-2a.8 -20 -30 -30|012121212121212121212121212121212131|-1yW2a.8 1zK0a.8 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0 HjL0|51e5","Africa/Monrovia|MMT MMT GMT|H.8 I.u 0|012|-23Lzg.Q 28G01.m|11e5","Africa/Ndjamena|LMT WAT WAST|-10.c -10 -20|0121|-2le10.c 2J3c0.c Wn0|13e5","Africa/Tripoli|LMT CET CEST EET|-Q.I -10 -20 -20|012121213121212121212121213123123|-21JcQ.I 1hnBQ.I vx0 4iP0 xx0 4eN0 Bb0 7ip0 U0n0 A10 1db0 1cN0 1db0 1dd0 1db0 1eN0 1bb0 1e10 1cL0 1c10 1db0 1dd0 1db0 1cN0 1db0 1q10 fAn0 1ep0 1db0 AKq0 TA0 1o00|11e5","Africa/Tunis|PMT CET CEST|-9.l -10 -20|0121212121212121212121212121212121|-2nco9.l 18pa9.l 1qM0 DA0 3Tc0 11B0 1ze0 WM0 7z0 3d0 14L0 1cN0 1f90 1ar0 16J0 1gXB0 WM0 1rA0 11c0 nwo0 Ko0 1cM0 1cM0 1rA0 10M0 zuM0 10N0 1aN0 1qM0 WM0 1qM0 11A0 1o00|20e5","Africa/Windhoek|+0130 SAST SAST CAT WAT WAST|-1u -20 -30 -20 -10 -20|01213454545454545454545454545454545454545454545454543|-2GJdu 1Ajdu 1cL0 1SqL0 9Io0 16P0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0|32e4","America/Adak|NST NWT NPT BST BDT AHST HST HDT|b0 a0 a0 b0 a0 a0 a0 90|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|326","America/Anchorage|AST AWT APT AHST AHDT YST AKST AKDT|a0 90 90 a0 90 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T00 8wX0 iA0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|30e4","America/Port_of_Spain|LMT AST|46.4 40|01|-2kNvR.U|43e3","America/Araguaina|LMT -03 -02|3c.M 30 20|0121212121212121212121212121212121212121212121212121|-2glwL.c HdKL.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 ny10 Lz0|14e4","America/Argentina/Buenos_Aires|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 A4p0 uL0 1qN0 WL0","America/Argentina/Catamarca|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323132321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 rlB0 7B0 8zb0 uL0","America/Argentina/Cordoba|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323132323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 A4p0 uL0 1qN0 WL0","America/Argentina/Jujuy|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323121323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1ze0 TX0 1ld0 WK0 1wp0 TX0 A4p0 uL0","America/Argentina/La_Rioja|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 rlB0 7B0 8zb0 uL0","America/Argentina/Mendoza|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232312121321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1u20 SL0 1vd0 Tb0 1wp0 TW0 ri10 Op0 7TX0 uL0","America/Argentina/Rio_Gallegos|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 rlB0 7B0 8zb0 uL0","America/Argentina/Salta|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231323232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 A4p0 uL0","America/Argentina/San_Juan|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323231232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 rld0 m10 8lb0 uL0","America/Argentina/San_Luis|CMT -04 -03 -02|4g.M 40 30 20|012121212121212121212121212121212121212121232323121212321212|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 XX0 1q20 SL0 AN0 vDb0 m10 8lb0 8L0 jd0 1qN0 WL0 1qN0","America/Argentina/Tucuman|CMT -04 -03 -02|4g.M 40 30 20|0121212121212121212121212121212121212121212323232313232123232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 rlB0 4N0 8BX0 uL0 1qN0 WL0","America/Argentina/Ushuaia|CMT -04 -03 -02|4g.M 40 30 20|01212121212121212121212121212121212121212123232323232321232|-20UHH.c pKnH.c Mn0 1iN0 Tb0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 1C10 LX0 1C10 LX0 1C10 LX0 1C10 Mn0 MN0 2jz0 MN0 4lX0 u10 5Lb0 1pB0 Fnz0 u10 uL0 1vd0 SL0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 rkN0 8p0 8zb0 uL0","America/Curacao|LMT -0430 AST|4z.L 4u 40|012|-2kV7o.d 28KLS.d|15e4","America/Asuncion|AMT -04 -03|3O.E 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-1x589.k 1DKM9.k 3CL0 3Dd0 10L0 1pB0 10n0 1pB0 10n0 1pB0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1lB0 14n0 1dd0 1cL0 1fd0 WL0 1rd0 1aL0 1dB0 Xz0 1qp0 Xb0 1qN0 10L0 1rB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 WN0 1qL0 11B0 1nX0 1ip0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 TX0 1tB0 19X0 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0|28e5","America/Atikokan|CST CDT CWT CPT EST|60 50 50 50 50|0101234|-25TQ0 1in0 Rnb0 3je0 8x30 iw0|28e2","America/Bahia|LMT -03 -02|2y.4 30 20|01212121212121212121212121212121212121212121212121212121212121|-2glxp.U HdLp.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 l5B0 Rb0|27e5","America/Bahia_Banderas|LMT MST CST PST MDT CDT|71 70 60 80 60 50|0121212131414141414141414141414141414152525252525252525252525252525252525252525252525252525252|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|84e3","America/Barbados|LMT BMT AST ADT|3W.t 3W.t 40 30|01232323232|-1Q0I1.v jsM0 1ODC1.v IL0 1ip0 17b0 1ip0 17b0 1ld0 13b0|28e4","America/Belem|LMT -03 -02|3d.U 30 20|012121212121212121212121212121|-2glwK.4 HdKK.4 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0|20e5","America/Belize|LMT CST -0530 CDT|5Q.M 60 5u 50|01212121212121212121212121212121212121212121212121213131|-2kBu7.c fPA7.c Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1wou Rbu 1zcu Onu 1zcu Onu 1zcu Rbu 1wou Rbu 1f0Mu qn0 lxB0 mn0|57e3","America/Blanc-Sablon|AST ADT AWT APT|40 30 30 30|010230|-25TS0 1in0 UGp0 8x50 iu0|11e2","America/Boa_Vista|LMT -04 -03|42.E 40 30|0121212121212121212121212121212121|-2glvV.k HdKV.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 smp0 WL0 1tB0 2L0|62e2","America/Bogota|BMT -05 -04|4U.g 50 40|0121|-2eb73.I 38yo3.I 2en0|90e5","America/Boise|PST PDT MST MWT MPT MDT|80 70 70 60 60 60|0101023425252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-261q0 1nX0 11B0 1nX0 8C10 JCL0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 Dd0 1Kn0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e4","America/Cambridge_Bay|-00 MST MWT MPT MDDT MDT CST CDT EST|0 70 60 60 50 60 60 50 50|0123141515151515151515151515151515151515151515678651515151515151515151515151515151515151515151515151515151515151515151515151|-21Jc0 RO90 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11A0 1nX0 2K0 WQ0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e2","America/Campo_Grande|LMT -04 -03|3C.s 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwl.w HdLl.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0|77e4","America/Cancun|LMT CST EST EDT CDT|5L.4 60 50 40 50|0123232341414141414141414141414141414141412|-1UQG0 2q2o0 yLB0 1lb0 14p0 1lb0 14p0 Lz0 xB0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4","America/Caracas|CMT -0430 -04|4r.E 4u 40|01212|-2kV7w.k 28KM2.k 1IwOu kqo0|29e5","America/Cayenne|LMT -04 -03|3t.k 40 30|012|-2mrwu.E 2gWou.E|58e3","America/Panama|CMT EST|5j.A 50|01|-2uduE.o|15e5","America/Chicago|CST CDT EST CWT CPT|60 50 50 50 50|01010101010101010101010101010101010102010101010103401010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 1wp0 TX0 WN0 1qL0 1cN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 11B0 1Hz0 14p0 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|92e5","America/Chihuahua|LMT MST CST CDT MDT|74.k 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|81e4","America/Costa_Rica|SJMT CST CDT|5A.d 60 50|0121212121|-1Xd6n.L 2lu0n.L Db0 1Kp0 Db0 pRB0 15b0 1kp0 mL0|12e5","America/Creston|MST PST|70 80|010|-29DR0 43B0|53e2","America/Cuiaba|LMT -04 -03|3I.k 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwf.E HdLf.E 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 4a10 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0|54e4","America/Danmarkshavn|LMT -03 -02 GMT|1e.E 30 20 0|01212121212121212121212121212121213|-2a5WJ.k 2z5fJ.k 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 DC0|8","America/Dawson|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 jrA0 fNd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|13e2","America/Dawson_Creek|PST PDT PWT PPT MST|80 70 70 70 70|0102301010101010101010101010101010101010101010101010101014|-25TO0 1in0 UGp0 8x10 iy0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 ML0|12e3","America/Denver|MST MDT MWT MPT|70 60 60 60|01010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 11B0 1qL0 WN0 mn0 Ord0 8x20 ix0 LCN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e5","America/Detroit|LMT CST EST EWT EPT EDT|5w.b 60 50 40 40 40|012342525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2Cgir.N peqr.N 156L0 8x40 iv0 6fd0 11z0 XQp0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e5","America/Edmonton|LMT MST MDT MWT MPT|7x.Q 70 60 60 60|01212121212121341212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2yd4q.8 shdq.8 1in0 17d0 hz0 2dB0 1fz0 1a10 11z0 1qN0 WL0 1qN0 11z0 IGN0 8x20 ix0 3NB0 11z0 LFB0 1cL0 3Cp0 1cL0 66N0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|10e5","America/Eirunepe|LMT -05 -04|4D.s 50 40|0121212121212121212121212121212121|-2glvk.w HdLk.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0 yTd0 d5X0|31e3","America/El_Salvador|LMT CST CDT|5U.M 60 50|012121|-1XiG3.c 2Fvc3.c WL0 1qN0 WL0|11e5","America/Tijuana|LMT MST PST PDT PWT PPT|7M.4 70 80 70 70 70|012123245232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQE0 4PX0 8mM0 8lc0 SN0 1cL0 pHB0 83r0 zI0 5O10 1Rz0 cOO0 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 BUp0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|20e5","America/Fort_Nelson|PST PDT PWT PPT MST|80 70 70 70 70|01023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010104|-25TO0 1in0 UGp0 8x10 iy0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2","America/Fort_Wayne|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010101023010101010101010101040454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 QI10 Db0 RB0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 5Tz0 1o10 qLb0 1cL0 1cN0 1cL0 1qhd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Fortaleza|LMT -03 -02|2y 30 20|0121212121212121212121212121212121212121|-2glxq HdLq 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 5z0 2mN0 On0|34e5","America/Glace_Bay|LMT AST ADT AWT APT|3X.M 40 30 30 30|012134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsI0.c CwO0.c 1in0 UGp0 8x50 iu0 iq10 11z0 Jg10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|19e3","America/Godthab|LMT -03 -02|3q.U 30 20|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5Ux.4 2z5dx.4 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e3","America/Goose_Bay|NST NDT NST NDT NWT NPT AST ADT ADDT|3u.Q 2u.Q 3u 2u 2u 2u 40 30 20|010232323232323245232323232323232323232323232323232323232326767676767676767676767676767676767676767676768676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-25TSt.8 1in0 DXb0 2HbX.8 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 S10 g0u 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|76e2","America/Grand_Turk|KMT EST EDT AST|57.b 50 40 40|01212121212121212121212121212121212121212121212121212121212121212121212121232121212121212121212121212121212121212121|-2l1uQ.N 2HHBQ.N 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 5Ip0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e2","America/Guatemala|LMT CST CDT|62.4 60 50|0121212121|-24KhV.U 2efXV.U An0 mtd0 Nz0 ifB0 17b0 zDB0 11z0|13e5","America/Guayaquil|QMT -05 -04|5e 50 40|0121|-1yVSK 2uILK rz0|27e5","America/Guyana|LMT -0345 -03 -04|3Q.E 3J 30 40|0123|-2dvU7.k 2r6LQ.k Bxbf|80e4","America/Halifax|LMT AST ADT AWT APT|4e.o 40 30 30 30|0121212121212121212121212121212121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsHJ.A xzzJ.A 1db0 3I30 1in0 3HX0 IL0 1E10 ML0 1yN0 Pb0 1Bd0 Mn0 1Bd0 Rz0 1w10 Xb0 1w10 LX0 1w10 Xb0 1w10 Lz0 1C10 Jz0 1E10 OL0 1yN0 Un0 1qp0 Xb0 1qp0 11X0 1w10 Lz0 1HB0 LX0 1C10 FX0 1w10 Xb0 1qp0 Xb0 1BB0 LX0 1td0 Xb0 1qp0 Xb0 Rf0 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 3Qp0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 6i10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|39e4","America/Havana|HMT CST CDT|5t.A 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Meuu.o 72zu.o ML0 sld0 An0 1Nd0 Db0 1Nd0 An0 6Ep0 An0 1Nd0 An0 JDd0 Mn0 1Ap0 On0 1fd0 11X0 1qN0 WL0 1wp0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 14n0 1ld0 14L0 1kN0 15b0 1kp0 1cL0 1cN0 1fz0 1a10 1fz0 1fB0 11z0 14p0 1nX0 11B0 1nX0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 1a10 1in0 1a10 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 17c0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 11A0 6i00 Rc0 1wo0 U00 1tA0 Rc0 1wo0 U00 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0|21e5","America/Hermosillo|LMT MST CST PST MDT|7n.Q 70 60 80 60|0121212131414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0|64e4","America/Indiana/Knox|CST CDT CWT CPT EST|60 50 50 50 50|0101023010101010101010101010101010101040101010101010101010101010101010101010101010101010141010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 3NB0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 3Cn0 8wp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 z8o0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Marengo|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010104545454545414545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 dyN0 11z0 6fd0 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1e6p0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Petersburg|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010104010101010101010101010141014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 njX0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 3Fb0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 19co0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Tell_City|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Vevay|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|010102304545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 kPB0 Awn0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1lnd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Vincennes|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010454541014545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 g0p0 11z0 1o10 11z0 1qL0 WN0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 caL0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Indiana/Winamac|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|01010230101010101010101010101010101010454541054545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 jrz0 1cL0 1cN0 1cL0 1qhd0 1o00 Rd0 1za0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Inuvik|-00 PST PDDT MST MDT|0 80 60 70 60|0121343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-FnA0 tWU0 1fA0 wPe0 2pz0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|35e2","America/Iqaluit|-00 EWT EPT EST EDDT EDT CST CDT|0 40 40 50 30 40 60 50|01234353535353535353535353535353535353535353567353535353535353535353535353535353535353535353535353535353535353535353535353|-16K00 7nX0 iv0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|67e2","America/Jamaica|KMT EST EDT|57.b 50 40|0121212121212121212121|-2l1uQ.N 2uM1Q.N 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0|94e4","America/Juneau|PST PWT PPT PDT YDT YST AKST AKDT|80 70 70 70 80 90 90 80|01203030303030303030303030403030356767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cM0 1cM0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|33e3","America/Kentucky/Louisville|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101010102301010101010101010101010101454545454545414545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 3Fd0 Nb0 LPd0 11z0 RB0 8x30 iw0 Bb0 10N0 2bB0 8in0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 xz0 gso0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Kentucky/Monticello|CST CDT CWT CPT EST EDT|60 50 50 50 50 40|0101023010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454545454|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 SWp0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/La_Paz|CMT BOST -04|4w.A 3w.A 40|012|-1x37r.o 13b0|19e5","America/Lima|LMT -05 -04|58.A 50 40|0121212121212121|-2tyGP.o 1bDzP.o zX0 1aN0 1cL0 1cN0 1cL0 1PrB0 zX0 1O10 zX0 6Gp0 zX0 98p0 zX0|11e6","America/Los_Angeles|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 5Wp1 1VaX 3dA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e6","America/Maceio|LMT -03 -02|2m.Q 30 20|012121212121212121212121212121212121212121|-2glxB.8 HdLB.8 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 8Q10 WL0 1tB0 5z0 2mN0 On0|93e4","America/Managua|MMT CST EST CDT|5J.c 60 50 50|0121313121213131|-1quie.M 1yAMe.M 4mn0 9Up0 Dz0 1K10 Dz0 s3F0 1KH0 DB0 9In0 k8p0 19X0 1o30 11y0|22e5","America/Manaus|LMT -04 -03|40.4 40 30|01212121212121212121212121212121|-2glvX.U HdKX.U 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0|19e5","America/Martinique|FFMT AST ADT|44.k 40 30|0121|-2mPTT.E 2LPbT.E 19X0|39e4","America/Matamoros|LMT CST CDT|6E 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|45e4","America/Mazatlan|LMT MST CST PST MDT|75.E 70 60 80 60|0121212131414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 otX0 gmN0 P2N0 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|44e4","America/Menominee|CST CDT CWT CPT EST|60 50 50 50 50|01010230101041010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 1o10 11z0 LCN0 1fz0 6410 9Jb0 1cM0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|85e2","America/Merida|LMT CST EST CDT|5W.s 60 50 50|0121313131313131313131313131313131313131313131313131313131313131313131313131313131313131|-1UQG0 2q2o0 2hz0 wu30 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|11e5","America/Metlakatla|PST PWT PPT PDT AKST AKDT|80 70 70 70 90 80|0120303030303030303030303030303030454545454545454545454545454545454545454545454|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1hU10 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2","America/Mexico_City|LMT MST CST CDT CWT|6A.A 70 60 50 50|012121232324232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 gEn0 TX0 3xd0 Jb0 6zB0 SL0 e5d0 17b0 1Pff0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|20e6","America/Miquelon|LMT AST -03 -02|3I.E 40 30 20|012323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2mKkf.k 2LTAf.k gQ10 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|61e2","America/Moncton|EST AST ADT AWT APT|50 40 30 30 30|012121212121212121212134121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2IsH0 CwN0 1in0 zAo0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1Nd0 An0 1K10 Lz0 1zB0 NX0 1u10 Wn0 S20 8x50 iu0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14n1 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 ReX 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|64e3","America/Monterrey|LMT CST CDT|6F.g 60 50|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1UQG0 2FjC0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|41e5","America/Montevideo|MMT -0330 -03 -02 -0230|3I.I 3u 30 20 2u|012121212121212121212121213232323232324242423243232323232323232323232323232323232323232|-20UIf.g 8jzJ.g 1cLu 1dcu 1cLu 1dcu 1cLu ircu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu WLu 1qMu WLu 1qMu 11zu 1o0u 11zu NAu 11bu 2iMu zWu Dq10 19X0 pd0 jz0 cm10 19X0 1fB0 1on0 11d0 1oL0 1nB0 1fzu 1aou 1fzu 1aou 1fzu 3nAu Jb0 3MN0 1SLu 4jzu 2PB0 Lb0 3Dd0 1pb0 ixd0 An0 1MN0 An0 1wp0 On0 1wp0 Rb0 1zd0 On0 1wp0 Rb0 s8p0 1fB0 1ip0 11z0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0|17e5","America/Toronto|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101012301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 11Wu 1nzu 1fD0 WJ0 1wr0 Nb0 1Ap0 On0 1zd0 On0 1wp0 TX0 1tB0 TX0 1tB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 4kM0 8x40 iv0 1o10 11z0 1nX0 11z0 1o10 11z0 1o10 1qL0 11D0 1nX0 11B0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e5","America/Nassau|LMT EST EDT|59.u 50 40|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2kNuO.u 26XdO.u 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|24e4","America/New_York|EST EDT EWT EPT|50 40 40 40|01010101010101010101010101010101010101010101010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 11B0 1qL0 1a10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 RB0 8x40 iv0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e6","America/Nipigon|EST EDT EWT EPT|50 40 40 40|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TR0 1in0 Rnb0 3je0 8x40 iv0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|16e2","America/Nome|NST NWT NPT BST BDT YST AKST AKDT|b0 a0 a0 b0 a0 90 90 80|012034343434343434343434343434343456767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676767676|-17SX0 8wW0 iB0 Qlb0 52O0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cl0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|38e2","America/Noronha|LMT -02 -01|29.E 20 10|0121212121212121212121212121212121212121|-2glxO.k HdKO.k 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|30e2","America/North_Dakota/Beulah|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/North_Dakota/Center|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101014545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/North_Dakota/New_Salem|MST MDT MWT MPT CST CDT|70 60 60 60 60 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101454545454545454545454545454545454545454545454545454545454545454545454|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Ojinaga|LMT MST CST CDT MDT|6V.E 70 60 50 60|0121212323241414141414141414141414141414141414141414141414141414141414141414141414141414141|-1UQF0 deL0 8lc0 17c0 10M0 1dd0 2zQN0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e3","America/Pangnirtung|-00 AST AWT APT ADDT ADT EDT EST CST CDT|0 40 30 30 20 30 40 50 60 50|012314151515151515151515151515151515167676767689767676767676767676767676767676767676767676767676767676767676767676767676767|-1XiM0 PnG0 8x50 iu0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1o00 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2","America/Paramaribo|LMT PMT PMT -0330 -03|3E.E 3E.Q 3E.A 3u 30|01234|-2nDUj.k Wqo0.c qanX.I 1yVXN.o|24e4","America/Phoenix|MST MDT MWT|70 60 60|01010202010|-261r0 1nX0 11B0 1nX0 SgN0 4Al1 Ap0 1db0 SWqX 1cL0|42e5","America/Port-au-Prince|PPMT EST EDT|4N 50 40|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-28RHb 2FnMb 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14q0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 i6n0 1nX0 11B0 1nX0 d430 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 3iN0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5","America/Rio_Branco|LMT -05 -04|4v.c 50 40|01212121212121212121212121212121|-2glvs.M HdLs.M 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0 d5X0|31e4","America/Porto_Velho|LMT -04 -03|4f.A 40 30|012121212121212121212121212121|-2glvI.o HdKI.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0|37e4","America/Puerto_Rico|AST AWT APT|40 30 30|0120|-17lU0 7XT0 iu0|24e5","America/Punta_Arenas|SMT -05 -04 -03|4G.K 50 40 30|0102021212121212121232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-2q2jh.e fJAh.e 5knG.K 1Vzh.e jRAG.K 1pbh.e 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 nHX0 op0 blz0 ko0 Qeo0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0","America/Rainy_River|CST CDT CWT CPT|60 50 50 50|010123010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TQ0 1in0 Rnb0 3je0 8x30 iw0 19yN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|842","America/Rankin_Inlet|-00 CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313131313131313131313131313131313131313131313131313131313131313131|-vDc0 keu0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e2","America/Recife|LMT -03 -02|2j.A 30 20|0121212121212121212121212121212121212121|-2glxE.o HdLE.o 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|33e5","America/Regina|LMT MST MDT MWT MPT CST|6W.A 70 60 60 60 60|012121212121212121212121341212121212121212121212121215|-2AD51.o uHe1.o 1in0 s2L0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 66N0 1cL0 1cN0 19X0 1fB0 1cL0 1fB0 1cL0 1cN0 1cL0 M30 8x20 ix0 1ip0 1cL0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 3NB0 1cL0 1cN0|19e4","America/Resolute|-00 CST CDDT CDT EST|0 60 40 50 50|012131313131313131313131313131313131313131313431313131313431313131313131313131313131313131313131313131313131313131313131|-SnA0 GWS0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|229","America/Santarem|LMT -04 -03|3C.M 40 30|0121212121212121212121212121212|-2glwl.c HdLl.c 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 qe10 xb0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 NBd0|21e4","America/Santiago|SMT -05 -04 -03|4G.K 50 40 30|010202121212121212321232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-2q2jh.e fJAh.e 5knG.K 1Vzh.e jRAG.K 1pbh.e 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 nHX0 op0 9Bz0 jb0 1oN0 ko0 Qeo0 WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0|62e5","America/Santo_Domingo|SDMT EST EDT -0430 AST|4E 50 40 4u 40|01213131313131414|-1ttjk 1lJMk Mn0 6sp0 Lbu 1Cou yLu 1RAu wLu 1QMu xzu 1Q0u xXu 1PAu 13jB0 e00|29e5","America/Sao_Paulo|LMT -03 -02|36.s 30 20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-2glwR.w HdKR.w 1cc0 1e10 1bX0 Ezd0 So0 1vA0 Mn0 1BB0 ML0 1BB0 zX0 pTd0 PX0 2ep0 nz0 1C10 zX0 1C10 LX0 1C10 Mn0 H210 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 Rb0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0|20e6","America/Scoresbysund|LMT -02 -01 +00|1r.Q 20 10 0|0121323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2a5Ww.8 2z5ew.8 1a00 1cK0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|452","America/Sitka|PST PWT PPT PDT YST AKST AKDT|80 70 70 70 90 90 80|01203030303030303030303030303030345656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-17T20 8x10 iy0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|90e2","America/St_Johns|NST NDT NST NDT NWT NPT NDDT|3u.Q 2u.Q 3u 2u 2u 2u 1u|01010101010101010101010101010101010102323232323232324523232323232323232323232323232323232323232323232323232323232323232323232323232323232326232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-28oit.8 14L0 1nB0 1in0 1gm0 Dz0 1JB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1fB0 1cL0 1fB0 19X0 1fB0 19X0 10O0 eKX.8 19X0 1iq0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 WL0 1qN0 WL0 1qN0 7UHu itu 1tB0 WL0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1tB0 WL0 1ld0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4","America/Swift_Current|LMT MST MDT MWT MPT CST|7b.k 70 60 60 60 60|012134121212121212121215|-2AD4M.E uHdM.E 1in0 UGp0 8x20 ix0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 isN0 1cL0 3Cp0 1cL0 1cN0 11z0 1qN0 WL0 pMp0|16e3","America/Tegucigalpa|LMT CST CDT|5M.Q 60 50|01212121|-1WGGb.8 2ETcb.8 WL0 1qN0 WL0 GRd0 AL0|11e5","America/Thule|LMT AST ADT|4z.8 40 30|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a5To.Q 31NBo.Q 1cL0 1cN0 1cL0 1fB0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|656","America/Thunder_Bay|CST EST EWT EPT EDT|60 50 40 40 40|0123141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141414141|-2q5S0 1iaN0 8x40 iv0 XNB0 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4","America/Vancouver|PST PDT PWT PPT|80 70 70 70|0102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-25TO0 1in0 UGp0 8x10 iy0 1o10 17b0 1ip0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5","America/Whitehorse|YST YDT YWT YPT YDDT PST PDT|90 80 80 80 70 80 70|0101023040565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565656565|-25TN0 1in0 1o10 13V0 Ser0 8x00 iz0 LCL0 1fA0 3NA0 vrd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e3","America/Winnipeg|CST CDT CWT CPT|60 50 50 50|010101023010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aIi0 WL0 3ND0 1in0 Jap0 Rb0 aCN0 8x30 iw0 1tB0 11z0 1ip0 11z0 1o10 11z0 1o10 11z0 1rd0 10L0 1op0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 1cL0 1cN0 11z0 6i10 WL0 6i10 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|66e4","America/Yakutat|YST YWT YPT YDT AKST AKDT|90 80 80 80 90 80|01203030303030303030303030303030304545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-17T10 8x00 iz0 Vo10 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cn0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|642","America/Yellowknife|-00 MST MWT MPT MDDT MDT|0 70 60 60 50 60|012314151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151515151|-1pdA0 hix0 8x20 ix0 LCL0 1fA0 zgO0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|19e3","Antarctica/Casey|-00 +08 +11|0 -80 -b0|0121212|-2q00 1DjS0 T90 40P0 KL0 blz0|10","Antarctica/Davis|-00 +07 +05|0 -70 -50|01012121|-vyo0 iXt0 alj0 1D7v0 VB0 3Wn0 KN0|70","Antarctica/DumontDUrville|-00 +10|0 -a0|0101|-U0o0 cfq0 bFm0|80","Antarctica/Macquarie|AEST AEDT -00 +11|-a0 -b0 0 -b0|0102010101010101010101010101010101010101010101010101010101010101010101010101010101010101013|-29E80 19X0 4SL0 1ayy0 Lvs0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0|1","Antarctica/Mawson|-00 +06 +05|0 -60 -50|012|-CEo0 2fyk0|60","Pacific/Auckland|NZMT NZST NZST NZDT|-bu -cu -c0 -d0|01020202020202020202020202023232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1GCVu Lz0 1tB0 11zu 1o0u 11zu 1o0u 11zu 1o0u 14nu 1lcu 14nu 1lcu 1lbu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1nXu 11Au 1qLu WMu 1qLu 11Au 1n1bu IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|14e5","Antarctica/Palmer|-00 -03 -04 -02|0 30 40 20|0121212121213121212121212121212121212121212121212121212121212121212121212121212121|-cao0 nD0 1vd0 SL0 1vd0 17z0 1cN0 1fz0 1cN0 1cL0 1cN0 asn0 Db0 jsN0 14N0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0|40","Antarctica/Rothera|-00 -03|0 30|01|gOo0|130","Antarctica/Syowa|-00 +03|0 -30|01|-vs00|20","Antarctica/Troll|-00 +00 +02|0 0 -20|01212121212121212121212121212121212121212121212121212121212121212121|1puo0 hd0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|40","Antarctica/Vostok|-00 +06|0 -60|01|-tjA0|25","Europe/Oslo|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2awM0 Qm0 W6o0 5pf0 WM0 1fA0 1cM0 1cM0 1cM0 1cM0 wJc0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1qM0 WM0 zpc0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|62e4","Asia/Riyadh|LMT +03|-36.Q -30|01|-TvD6.Q|57e5","Asia/Almaty|LMT +05 +06 +07|-57.M -50 -60 -70|012323232323232323232321232323232323232323232323232|-1Pc57.M eUo7.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|15e5","Asia/Amman|LMT EET EEST|-2n.I -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1yW2n.I 1HiMn.I KL0 1oN0 11b0 1oN0 11b0 1pd0 1dz0 1cp0 11b0 1op0 11b0 fO10 1db0 1e10 1cL0 1cN0 1cL0 1cN0 1fz0 1pd0 10n0 1ld0 14n0 1hB0 15b0 1ip0 19X0 1cN0 1cL0 1cN0 17b0 1ld0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1So0 y00 1fc0 1dc0 1co0 1dc0 1cM0 1cM0 1cM0 1o00 11A0 1lc0 17c0 1cM0 1cM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|25e5","Asia/Anadyr|LMT +12 +13 +14 +11|-bN.U -c0 -d0 -e0 -b0|01232121212121212121214121212121212121212121212121212121212141|-1PcbN.U eUnN.U 23CL0 1db0 2q10 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|13e3","Asia/Aqtau|LMT +04 +05 +06|-3l.4 -40 -50 -60|012323232323232323232123232312121212121212121212|-1Pc3l.4 eUnl.4 24PX0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|15e4","Asia/Aqtobe|LMT +04 +05 +06|-3M.E -40 -50 -60|0123232323232323232321232323232323232323232323232|-1Pc3M.E eUnM.E 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|27e4","Asia/Ashgabat|LMT +04 +05 +06|-3R.w -40 -50 -60|0123232323232323232323212|-1Pc3R.w eUnR.w 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0|41e4","Asia/Atyrau|LMT +03 +05 +06 +04|-3r.I -30 -50 -60 -40|01232323232323232323242323232323232324242424242|-1Pc3r.I eUor.I 24PW0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 2sp0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0","Asia/Baghdad|BMT +03 +04|-2V.A -30 -40|012121212121212121212121212121212121212121212121212121|-26BeV.A 2ACnV.A 11b0 1cp0 1dz0 1dd0 1db0 1cN0 1cp0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1de0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0|66e5","Asia/Qatar|LMT +04 +03|-3q.8 -40 -30|012|-21Jfq.8 27BXq.8|96e4","Asia/Baku|LMT +03 +04 +05|-3j.o -30 -40 -50|01232323232323232323232123232323232323232323232323232323232323232|-1Pc3j.o 1jUoj.o WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 9Je0 1o00 11z0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5","Asia/Bangkok|BMT +07|-6G.4 -70|01|-218SG.4|15e6","Asia/Barnaul|LMT +06 +07 +08|-5z -60 -70 -80|0123232323232323232323212323232321212121212121212121212121212121212|-21S5z pCnz 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 p90 LE0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0","Asia/Beirut|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-21aq0 1on0 1410 1db0 19B0 1in0 1ip0 WL0 1lQp0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 q6N0 En0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1op0 11b0 dA10 17b0 1iN0 17b0 1iN0 17b0 1iN0 17b0 1vB0 SL0 1mp0 13z0 1iN0 17b0 1iN0 17b0 1jd0 12n0 1a10 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0|22e5","Asia/Bishkek|LMT +05 +06 +07|-4W.o -50 -60 -70|012323232323232323232321212121212121212121212121212|-1Pc4W.o eUnW.o 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2e00 1tX0 17b0 1ip0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1cPu 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0|87e4","Asia/Brunei|LMT +0730 +08|-7D.E -7u -80|012|-1KITD.E gDc9.E|42e4","Asia/Kolkata|MMT IST +0630|-5l.a -5u -6u|012121|-2zOtl.a 1r2LP.a 1un0 HB0 7zX0|15e6","Asia/Chita|LMT +08 +09 +10|-7x.Q -80 -90 -a0|012323232323232323232321232323232323232323232323232323232323232312|-21Q7x.Q pAnx.Q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3re0|33e4","Asia/Choibalsan|LMT +07 +08 +10 +09|-7C -70 -80 -a0 -90|0123434343434343434343434343434343434343434343424242|-2APHC 2UkoC cKn0 1da0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 3Db0 h1f0 1cJ0 1cP0 1cJ0|38e3","Asia/Shanghai|CST CDT|-80 -90|01010101010101010|-1c1I0 LX0 16p0 1jz0 1Myp0 Rb0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0|23e6","Asia/Colombo|MMT +0530 +06 +0630|-5j.w -5u -60 -6u|01231321|-2zOtj.w 1rFbN.w 1zzu 7Apu 23dz0 11zu n3cu|22e5","Asia/Dhaka|HMT +0630 +0530 +06 +07|-5R.k -6u -5u -60 -70|0121343|-18LFR.k 1unn.k HB0 m6n0 2kxbu 1i00|16e6","Asia/Damascus|LMT EET EEST|-2p.c -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-21Jep.c Hep.c 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1xRB0 11X0 1oN0 10L0 1pB0 11b0 1oN0 10L0 1mp0 13X0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 Nb0 1AN0 Nb0 bcp0 19X0 1gp0 19X0 3ld0 1xX0 Vd0 1Bz0 Sp0 1vX0 10p0 1dz0 1cN0 1cL0 1db0 1db0 1g10 1an0 1ap0 1db0 1fd0 1db0 1cN0 1db0 1dd0 1db0 1cp0 1dz0 1c10 1dX0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 19z0 1fB0 1qL0 11B0 1on0 Wp0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0|26e5","Asia/Dili|LMT +08 +09|-8m.k -80 -90|01212|-2le8m.k 1dnXm.k 1nfA0 Xld0|19e4","Asia/Dubai|LMT +04|-3F.c -40|01|-21JfF.c|39e5","Asia/Dushanbe|LMT +05 +06 +07|-4z.c -50 -60 -70|012323232323232323232321|-1Pc4z.c eUnz.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2hB0|76e4","Asia/Famagusta|LMT EET EEST +03|-2f.M -20 -30 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212312121212121212121212121212121212121212121|-1Vc2f.M 2a3cf.M 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 15U0 2Ks0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Gaza|EET EEST IST IDT|-20 -30 -20 -30|010101010101010101010101010101012323232323232323232323232320101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 11z0 1o10 14o0 1lA1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0|18e5","Asia/Hebron|EET EEST IST IDT|-20 -30 -20 -30|01010101010101010101010101010101232323232323232323232323232010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-1c2q0 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 pBd0 Vz0 1oN0 11b0 1oO0 10N0 1pz0 10N0 1pb0 10N0 1pb0 10N0 1pb0 10N0 1pz0 10N0 1pb0 10N0 1pb0 11d0 1oL0 dW0 hfB0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 12L0 1mN0 14o0 1lc0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0|25e4","Asia/Ho_Chi_Minh|LMT PLMT +07 +08 +09|-76.E -76.u -70 -80 -90|0123423232|-2yC76.E bK00.a 1h7b6.u 5lz0 18o0 3Oq0 k5b0 aW00 BAM0|90e5","Asia/Hong_Kong|LMT HKT HKST JST|-7A.G -80 -90 -90|0121312121212121212121212121212121212121212121212121212121212121212121|-2CFHA.G 1sEP6.G 1cL0 ylu 93X0 1qQu 1tX0 Rd0 1In0 NB0 1cL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1kL0 14N0 1nX0 U10 1tz0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 Rd0 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 17d0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1cL0 6fd0 14n0|73e5","Asia/Hovd|LMT +06 +07 +08|-66.A -60 -70 -80|012323232323232323232323232323232323232323232323232|-2APG6.A 2Uko6.A cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0|81e3","Asia/Irkutsk|IMT +07 +08 +09|-6V.5 -70 -80 -90|01232323232323232323232123232323232323232323232323232323232323232|-21zGV.5 pjXV.5 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4","Europe/Istanbul|IMT EET EEST +04 +03|-1U.U -20 -30 -40 -30|012121212121212121212121212121212121212121212121212121234343434342121212121212121212121212121212121212121212121212121212121212124|-2ogNU.U dzzU.U 11b0 8tB0 1on0 1410 1db0 19B0 1in0 3Rd0 Un0 1oN0 11b0 zSp0 CL0 mN0 1Vz0 1gN0 1pz0 5Rd0 1fz0 1yp0 ML0 1kp0 17b0 1ip0 17b0 1fB0 19X0 1jB0 18L0 1ip0 17z0 qdd0 xX0 3S10 Tz0 dA10 11z0 1o10 11z0 1qN0 11z0 1ze0 11B0 WM0 1qO0 WI0 1nX0 1rB0 10L0 11B0 1in0 17d0 1in0 2pX0 19E0 1fU0 16Q0 1iI0 16Q0 1iI0 1Vd0 pb0 3Kp0 14o0 1de0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1a00 1fA0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WO0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 15w0|13e6","Asia/Jakarta|BMT +0720 +0730 +09 +08 WIB|-77.c -7k -7u -90 -80 -70|01232425|-1Q0Tk luM0 mPzO 8vWu 6kpu 4PXu xhcu|31e6","Asia/Jayapura|LMT +09 +0930 WIT|-9m.M -90 -9u -90|0123|-1uu9m.M sMMm.M L4nu|26e4","Asia/Jerusalem|JMT IST IDT IDDT|-2k.E -20 -30 -40|01212121212132121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-26Bek.E SyMk.E 5Rb0 10r0 1px0 10N0 1pz0 16p0 1jB0 16p0 1jx0 3LB0 Em0 or0 1cn0 1dB0 16n0 10O0 1ja0 1tC0 14o0 1cM0 1a00 11A0 1Na0 An0 1MP0 AJ0 1Kp0 LC0 1oo0 Wl0 EQN0 Db0 1fB0 Rb0 npB0 11z0 1C10 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 1hB0 1dX0 1ep0 1aL0 1eN0 17X0 1nf0 11z0 1tB0 19W0 1e10 17b0 1ep0 1gL0 18N0 1fz0 1eN0 17b0 1gq0 1gn0 19d0 1dz0 1c10 17X0 1hB0 1gn0 19d0 1dz0 1c10 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0|81e4","Asia/Kabul|+04 +0430|-40 -4u|01|-10Qs0|46e5","Asia/Kamchatka|LMT +11 +12 +13|-ay.A -b0 -c0 -d0|012323232323232323232321232323232323232323232323232323232323212|-1SLKy.A ivXy.A 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|18e4","Asia/Karachi|LMT +0530 +0630 +05 PKT PKST|-4s.c -5u -6u -50 -50 -60|012134545454|-2xoss.c 1qOKW.c 7zX0 eup0 LqMu 1fy00 1cL0 dK10 11b0 1610 1jX0|24e6","Asia/Urumqi|LMT +06|-5O.k -60|01|-1GgtO.k|32e5","Asia/Kathmandu|LMT +0530 +0545|-5F.g -5u -5J|012|-21JhF.g 2EGMb.g|12e5","Asia/Khandyga|LMT +08 +09 +10 +11|-92.d -80 -90 -a0 -b0|0123232323232323232323212323232323232323232323232343434343434343432|-21Q92.d pAp2.d 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 qK0 yN0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|66e2","Asia/Krasnoyarsk|LMT +06 +07 +08|-6b.q -60 -70 -80|01232323232323232323232123232323232323232323232323232323232323232|-21Hib.q prAb.q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|10e5","Asia/Kuala_Lumpur|SMT +07 +0720 +0730 +09 +08|-6T.p -70 -7k -7u -90 -80|0123435|-2Bg6T.p 17anT.p l5XE 17bO 8Fyu 1so1u|71e5","Asia/Kuching|LMT +0730 +08 +0820 +09|-7l.k -7u -80 -8k -90|0123232323232323242|-1KITl.k gDbP.k 6ynu AnE 1O0k AnE 1NAk AnE 1NAk AnE 1NAk AnE 1O0k AnE 1NAk AnE pAk 8Fz0|13e4","Asia/Macau|LMT CST CDT|-7y.k -80 -90|012121212121212121212121212121212121212121|-2le7y.k 1XO34.k 1wn0 Rd0 1wn0 R9u 1wqu U10 1tz0 TVu 1tz0 17gu 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cJu 1cL0 1cN0 1fz0 1cN0 1cOu 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cJu 1cL0 1cN0 1fz0 1cN0 1cL0|57e4","Asia/Magadan|LMT +10 +11 +12|-a3.c -a0 -b0 -c0|012323232323232323232321232323232323232323232323232323232323232312|-1Pca3.c eUo3.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Cq0|95e3","Asia/Makassar|LMT MMT +08 +09 WITA|-7V.A -7V.A -80 -90 -80|01234|-21JjV.A vfc0 myLV.A 8ML0|15e5","Asia/Manila|+08 +09|-80 -90|010101010|-1kJI0 AL0 cK10 65X0 mXB0 vX0 VK10 1db0|24e6","Asia/Nicosia|LMT EET EEST|-2d.s -20 -30|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1Vc2d.s 2a3cd.s 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|32e4","Asia/Novokuznetsk|LMT +06 +07 +08|-5M.M -60 -70 -80|012323232323232323232321232323232323232323232323232323232323212|-1PctM.M eULM.M 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|55e4","Asia/Novosibirsk|LMT +06 +07 +08|-5v.E -60 -70 -80|0123232323232323232323212323212121212121212121212121212121212121212|-21Qnv.E pAFv.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 ml0 Os0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 4eN0|15e5","Asia/Omsk|LMT +05 +06 +07|-4R.u -50 -60 -70|01232323232323232323232123232323232323232323232323232323232323232|-224sR.u pMLR.u 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|12e5","Asia/Oral|LMT +03 +05 +06 +04|-3p.o -30 -50 -60 -40|01232323232323232424242424242424242424242424242|-1Pc3p.o eUop.o 23CK0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 1cM0 IM0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|27e4","Asia/Pontianak|LMT PMT +0730 +09 +08 WITA WIB|-7h.k -7h.k -7u -90 -80 -80 -70|012324256|-2ua7h.k XE00 munL.k 8Rau 6kpu 4PXu xhcu Wqnu|23e4","Asia/Pyongyang|LMT KST JST KST|-8n -8u -90 -90|01231|-2um8n 97XR 1lTzu 2Onc0|29e5","Asia/Qyzylorda|LMT +04 +05 +06|-4l.Q -40 -50 -60|0123232323232323232323232323232323232323232323|-1Pc4l.Q eUol.Q 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 3ao0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|73e4","Asia/Rangoon|RMT +0630 +09|-6o.L -6u -90|0121|-21Jio.L SmnS.L 7j9u|48e5","Asia/Sakhalin|LMT +09 +11 +12 +10|-9u.M -90 -b0 -c0 -a0|01232323232323232323232423232323232424242424242424242424242424242|-2AGVu.M 1BoMu.M 1qFa0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 2pB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|58e4","Asia/Samarkand|LMT +04 +05 +06|-4r.R -40 -50 -60|01232323232323232323232|-1Pc4r.R eUor.R 23CL0 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|36e4","Asia/Seoul|LMT KST JST KST KDT KDT|-8r.Q -8u -90 -90 -9u -a0|0123141414141414135353|-2um8r.Q 97XV.Q 1m1zu kKo0 2I0u OL0 1FB0 Rb0 1qN0 TX0 1tB0 TX0 1tB0 TX0 1tB0 TX0 2ap0 12FBu 11A0 1o00 11A0|23e6","Asia/Srednekolymsk|LMT +10 +11 +12|-ae.Q -a0 -b0 -c0|01232323232323232323232123232323232323232323232323232323232323232|-1Pcae.Q eUoe.Q 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|35e2","Asia/Taipei|CST JST CDT|-80 -90 -90|01020202020202020202020202020202020202020|-1iw80 joM0 1yo0 Tz0 1ip0 1jX0 1cN0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 10N0 1BX0 10p0 1pz0 10p0 1pz0 10p0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1BB0 ML0 1Bd0 ML0 uq10 1db0 1cN0 1db0 97B0 AL0|74e5","Asia/Tashkent|LMT +05 +06 +07|-4B.b -50 -60 -70|012323232323232323232321|-1Pc4B.b eUnB.b 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0|23e5","Asia/Tbilisi|TBMT +03 +04 +05|-2X.b -30 -40 -50|0123232323232323232323212121232323232323232323212|-1Pc2X.b 1jUnX.b WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cK0 1cL0 1cN0 1cL0 1cN0 2pz0 1cL0 1fB0 3Nz0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 An0 Os0 WM0|11e5","Asia/Tehran|LMT TMT +0330 +04 +05 +0430|-3p.I -3p.I -3u -40 -50 -4u|01234325252525252525252525252525252525252525252525252525252525252525252525252525252525252525252525252|-2btDp.I 1d3c0 1huLT.I TXu 1pz0 sN0 vAu 1cL0 1dB0 1en0 pNB0 UL0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 64p0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0|14e6","Asia/Thimphu|LMT +0530 +06|-5W.A -5u -60|012|-Su5W.A 1BGMs.A|79e3","Asia/Tokyo|JST JDT|-90 -a0|010101010|-QJH0 QL0 1lB0 13X0 1zB0 NX0 1zB0 NX0|38e6","Asia/Tomsk|LMT +06 +07 +08|-5D.P -60 -70 -80|0123232323232323232323212323232323232323232323212121212121212121212|-21NhD.P pxzD.P 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 co0 1bB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Qp0|10e5","Asia/Ulaanbaatar|LMT +07 +08 +09|-77.w -70 -80 -90|012323232323232323232323232323232323232323232323232|-2APH7.w 2Uko7.w cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0|12e5","Asia/Ust-Nera|LMT +08 +09 +12 +11 +10|-9w.S -80 -90 -c0 -b0 -a0|012343434343434343434345434343434343434343434343434343434343434345|-21Q9w.S pApw.S 23CL0 1d90 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|65e2","Asia/Vladivostok|LMT +09 +10 +11|-8L.v -90 -a0 -b0|01232323232323232323232123232323232323232323232323232323232323232|-1SJIL.v itXL.v 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4","Asia/Yakutsk|LMT +08 +09 +10|-8C.W -80 -90 -a0|01232323232323232323232123232323232323232323232323232323232323232|-21Q8C.W pAoC.W 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|28e4","Asia/Yekaterinburg|LMT PMT +04 +05 +06|-42.x -3J.5 -40 -50 -60|012343434343434343434343234343434343434343434343434343434343434343|-2ag42.x 7mQh.s qBvJ.5 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|14e5","Asia/Yerevan|LMT +03 +04 +05|-2W -30 -40 -50|0123232323232323232323212121212323232323232323232323232323232|-1Pc2W 1jUnW WCL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 4RX0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|13e5","Atlantic/Azores|HMT -02 -01 +00 WET|1S.w 20 10 0 0|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121232323232323232323232323232323234323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-2ldW5.s aPX5.s Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|25e4","Atlantic/Bermuda|LMT AST ADT|4j.i 40 30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1BnRE.G 1LTbE.G 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e3","Atlantic/Canary|LMT -01 WET WEST|11.A 10 0 -10|01232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-1UtaW.o XPAW.o 1lAK0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4","Atlantic/Cape_Verde|LMT -02 -01|1y.4 20 10|01212|-2xomp.U 1qOMp.U 7zX0 1djf0|50e4","Atlantic/Faroe|LMT WET WEST|r.4 0 -10|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2uSnw.U 2Wgow.U 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|49e3","Atlantic/Madeira|FMT -01 +00 +01 WET WEST|17.A 10 0 -10 0 -10|01212121212121212121212121212121212121212121232123212321232121212121212121212121212121212121212121454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2ldWQ.o aPWQ.o Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 qIl0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|27e4","Atlantic/Reykjavik|LMT -01 +00 GMT|1s 10 0 0|012121212121212121212121212121212121212121212121212121212121212121213|-2uWmw mfaw 1Bd0 ML0 1LB0 Cn0 1LB0 3fX0 C10 HrX0 1cO0 LB0 1EL0 LA0 1C00 Oo0 1wo0 Rc0 1wo0 Rc0 1wo0 Rc0 1zc0 Oo0 1zc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 14o0|12e4","Atlantic/South_Georgia|-02|20|0||30","Atlantic/Stanley|SMT -04 -03 -02|3P.o 40 30 20|012121212121212323212121212121212121212121212121212121212121212121212|-2kJw8.A 12bA8.A 19X0 1fB0 19X0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 Cn0 1Cc10 WL0 1qL0 U10 1tz0 2mN0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 U10 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qN0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 U10 1tz0 U10 1tz0 U10|21e2","Australia/Sydney|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|40e5","Australia/Adelaide|ACST ACDT|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 WM0 1qM0 Rc0 1zc0 U00 1tA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|11e5","Australia/Brisbane|AEST AEDT|-a0 -b0|01010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0|20e5","Australia/Broken_Hill|ACST ACDT|-9u -au|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|18e3","Australia/Currie|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|746","Australia/Darwin|ACST ACDT|-9u -au|010101010|-293lt xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0|12e4","Australia/Eucla|+0845 +0945|-8J -9J|0101010101010101010|-293kI xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|368","Australia/Hobart|AEST AEDT|-a0 -b0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-29E80 19X0 10jd0 yL0 1cN0 1cL0 1fB0 19X0 VfB0 1cM0 1o00 Rc0 1wo0 Rc0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|21e4","Australia/Lord_Howe|AEST +1030 +1130 +11|-a0 -au -bu -b0|0121212121313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313|raC0 1zdu Rb0 1zd0 On0 1zd0 On0 1zd0 On0 1zd0 TXu 1qMu WLu 1tAu WLu 1tAu TXu 1tAu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu 11zu 1o0u 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 11Au 1nXu 1qMu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu 11zu 1o0u WLu 1qMu 14nu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1fzu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu|347","Australia/Lindeman|AEST AEDT|-a0 -b0|010101010101010101010|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0|10","Australia/Melbourne|AEST AEDT|-a0 -b0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|-293lX xcX 10jd0 yL0 1cN0 1cL0 1fB0 19X0 17c10 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1qM0 11A0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|39e5","Australia/Perth|AWST AWDT|-80 -90|0101010101010101010|-293jX xcX 10jd0 yL0 1cN0 1cL0 1gSp0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|18e5","CET|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","CST6CDT|CST CDT CWT CPT|60 50 50 50|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261s0 1nX0 11B0 1nX0 SgN0 8x30 iw0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Pacific/Easter|EMT -07 -06 -05|7h.s 70 60 50|012121212121212121212121212123232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|-1uSgG.w 1s4IG.w WL0 1zd0 On0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 2pA0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0|30e2","EET|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","EST|EST|50|0|","EST5EDT|EST EDT EWT EPT|50 40 40 40|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261t0 1nX0 11B0 1nX0 SgN0 8x40 iv0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Europe/Dublin|DMT IST GMT BST IST|p.l -y.D 0 -10 -10|01232323232324242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242424242|-2ax9y.D Rc0 1fzy.D 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 g600 14o0 1wo0 17c0 1io0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Etc/GMT+0|GMT|0|0|","Etc/GMT+1|-01|10|0|","Etc/GMT+10|-10|a0|0|","Etc/GMT+11|-11|b0|0|","Etc/GMT+12|-12|c0|0|","Etc/GMT+3|-03|30|0|","Etc/GMT+4|-04|40|0|","Etc/GMT+5|-05|50|0|","Etc/GMT+6|-06|60|0|","Etc/GMT+7|-07|70|0|","Etc/GMT+8|-08|80|0|","Etc/GMT+9|-09|90|0|","Etc/GMT-1|+01|-10|0|","Pacific/Port_Moresby|+10|-a0|0||25e4","Pacific/Pohnpei|+11|-b0|0||34e3","Pacific/Tarawa|+12|-c0|0||29e3","Etc/GMT-13|+13|-d0|0|","Etc/GMT-14|+14|-e0|0|","Etc/GMT-2|+02|-20|0|","Etc/GMT-3|+03|-30|0|","Etc/GMT-4|+04|-40|0|","Etc/GMT-5|+05|-50|0|","Etc/GMT-6|+06|-60|0|","Indian/Christmas|+07|-70|0||21e2","Etc/GMT-8|+08|-80|0|","Pacific/Palau|+09|-90|0||21e3","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Amsterdam|AMT NST +0120 +0020 CEST CET|-j.w -1j.w -1k -k -20 -10|010101010101010101010101010101010101010101012323234545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545|-2aFcj.w 11b0 1iP0 11A0 1io0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1co0 1io0 1yo0 Pc0 1a00 1fA0 1Bc0 Mo0 1tc0 Uo0 1tA0 U00 1uo0 W00 1s00 VA0 1so0 Vc0 1sM0 UM0 1wo0 Rc0 1u00 Wo0 1rA0 W00 1s00 VA0 1sM0 UM0 1w00 fV0 BCX.w 1tA0 U00 1u00 Wo0 1sm0 601k WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|16e5","Europe/Andorra|WET CET CEST|0 -10 -20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-UBA0 1xIN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|79e3","Europe/Astrakhan|LMT +03 +04 +05|-3c.c -30 -40 -50|012323232323232323212121212121212121212121212121212121212121212|-1Pcrc.c eUMc.c 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0","Europe/Athens|AMT EET EEST CEST CET|-1y.Q -20 -30 -20 -10|012123434121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2a61x.Q CNbx.Q mn0 kU10 9b0 3Es0 Xa0 1fb0 1dd0 k3X0 Nz0 SCp0 1vc0 SO0 1cM0 1a00 1ao0 1fc0 1a10 1fG0 1cg0 1dX0 1bX0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|35e5","Europe/London|GMT BST BDST|0 -10 -20|0101010101010101010101010101010101010101010101010121212121210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|10e6","Europe/Belgrade|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19RC0 3IP0 WM0 1fA0 1cM0 1cM0 1rc0 Qo0 1vmo0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Berlin|CET CEST CEMT|-10 -20 -30|01010101010101210101210101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 kL0 Nc0 m10 WM0 1ao0 1cp0 dX0 jz0 Dd0 1io0 17c0 1fA0 1a00 1ehA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|41e5","Europe/Prague|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 16M0 1lc0 1tA0 17A0 11c0 1io0 17c0 1io0 17c0 1fc0 1ao0 1bNc0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|13e5","Europe/Brussels|WET CET CEST WEST|0 -10 -20 -10|0121212103030303030303030303030303030303030303030303212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ehc0 3zX0 11c0 1iO0 11A0 1o00 11A0 my0 Ic0 1qM0 Rc0 1EM0 UM0 1u00 10o0 1io0 1io0 17c0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a30 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 y00 5Wn0 WM0 1fA0 1cM0 16M0 1iM0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|21e5","Europe/Bucharest|BMT EET EEST|-1I.o -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1xApI.o 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Axc0 On0 1fA0 1a10 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|19e5","Europe/Budapest|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1ip0 17b0 1op0 1tb0 Q2m0 3Ne0 WM0 1fA0 1cM0 1cM0 1oJ0 1dc0 1030 1fA0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1iM0 1fA0 8Ha0 Rb0 1wN0 Rb0 1BB0 Lz0 1C20 LB0 SNX0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e5","Europe/Zurich|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-19Lc0 11A0 1o00 11A0 1xG10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|38e4","Europe/Chisinau|CMT BMT EET EEST CEST CET MSK MSD|-1T -1I.o -20 -30 -20 -10 -30 -40|012323232323232323234545467676767676767676767323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|-26jdT wGMa.A 20LI.o RA0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 27A0 2en0 39g0 WM0 1fA0 1cM0 V90 1t7z0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 gL0 WO0 1cM0 1cM0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11D0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|67e4","Europe/Copenhagen|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 Tz0 VuO0 60q0 WM0 1fA0 1cM0 1cM0 1cM0 S00 1HA0 Nc0 1C00 Dc0 1Nc0 Ao0 1h5A0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Gibraltar|GMT BST BDST CET CEST|0 -10 -20 -10 -20|010101010101010101010101010101010101010101010101012121212121010121010101010101010101034343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-2axa0 Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 10Jz0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|30e3","Europe/Helsinki|HMT EET EEST|-1D.N -20 -30|0121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-1WuND.N OULD.N 1dA0 1xGq0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Kaliningrad|CET CEST CET CEST MSK MSD EEST EET +03|-10 -20 -20 -30 -30 -40 -30 -20 -30|0101010101010232454545454545454546767676767676767676767676767676767676767676787|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 Am0 Lb0 1en0 op0 1pNz0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|44e4","Europe/Kiev|KMT EET MSK CEST CET MSD EEST|-22.4 -20 -30 -20 -10 -40 -30|0123434252525252525252525256161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc22.4 eUo2.4 rnz0 2Hg0 WM0 1fA0 da0 1v4m0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 Db0 3220 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|34e5","Europe/Kirov|LMT +03 +04 +05|-3i.M -30 -40 -50|01232323232323232321212121212121212121212121212121212121212121|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|48e4","Europe/Lisbon|LMT WET WEST WEMT CET CEST|A.J 0 -10 -20 -10 -20|012121212121212121212121212121212121212121212321232123212321212121212121212121212121212121212121214121212121212121212121212121212124545454212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ldXn.f aPWn.f Sp0 LX0 1vc0 Tc0 1uM0 SM0 1vc0 Tc0 1vc0 SM0 1vc0 6600 1co0 3E00 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 3I00 17c0 1cM0 1cM0 3Fc0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 1tA0 1cM0 1dc0 1400 gL0 IM0 s10 U00 dX0 Rc0 pd0 Rc0 gL0 Oo0 pd0 Rc0 gL0 Oo0 pd0 14o0 1cM0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 3Co0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 pvy0 1cM0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|27e5","Europe/Luxembourg|LMT CET CEST WET WEST WEST WET|-o.A -10 -20 0 -10 -20 -10|0121212134343434343434343434343434343434343434343434565651212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2DG0o.A t6mo.A TB0 1nX0 Up0 1o20 11A0 rW0 CM0 1qP0 R90 1EO0 UK0 1u20 10m0 1ip0 1in0 17e0 19W0 1fB0 1db0 1cp0 1in0 17d0 1fz0 1a10 1in0 1a10 1in0 17f0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Dc0 vA0 60L0 WM0 1fA0 1cM0 17c0 1io0 16M0 1C00 Uo0 1eeo0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4","Europe/Madrid|WET WEST WEMT CET CEST|0 -10 -20 -10 -20|010101010101010101210343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|-25Td0 19B0 1cL0 1dd0 b1z0 18p0 3HX0 17d0 1fz0 1a10 1io0 1a00 1in0 17d0 iIn0 Hd0 1cL0 bb0 1200 2s20 14n0 5aL0 Mp0 1vz0 17d0 1in0 17d0 1in0 17d0 1in0 17d0 6hX0 11B0 XHX0 1a10 1fz0 1a10 19X0 1cN0 1fz0 1a10 1fC0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|62e5","Europe/Malta|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2arB0 Lz0 1cN0 1db0 1410 1on0 Wp0 1qL0 17d0 1cL0 M3B0 5M20 WM0 1fA0 1co0 17c0 1iM0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 LA0 1C00 LA0 1EM0 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1co0 1cM0 1lA0 Xc0 1qq0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1iN0 19z0 1fB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|42e4","Europe/Minsk|MMT EET MSK CEST CET MSD EEST +03|-1O -20 -30 -20 -10 -40 -30 -30|01234343252525252525252525261616161616161616161616161616161616161617|-1Pc1O eUnO qNX0 3gQ0 WM0 1fA0 1cM0 Al0 1tsn0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 3Fc0 1cN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0|19e5","Europe/Monaco|PMT WET WEST WEMT CET CEST|-9.l 0 -10 -20 -10 -20|01212121212121212121212121212121212121212121212121232323232345454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-2nco9.l cNb9.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 2RV0 11z0 11B0 1ze0 WM0 1fA0 1cM0 1fa0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|38e3","Europe/Moscow|MMT MMT MST MDST MSD MSK +05 EET EEST MSK|-2u.h -2v.j -3v.j -4v.j -40 -30 -50 -20 -30 -40|012132345464575454545454545454545458754545454545454545454545454545454545454595|-2ag2u.h 2pyW.W 1bA0 11X0 GN0 1Hb0 c4v.j ik0 3DA0 dz0 15A0 c10 2q10 iM10 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|16e6","Europe/Paris|PMT WET WEST CEST CET WEMT|-9.l 0 -10 -20 -10 -20|0121212121212121212121212121212121212121212121212123434352543434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434|-2nco8.l cNb8.l HA0 19A0 1iM0 11c0 1oo0 Wo0 1rc0 QM0 1EM0 UM0 1u00 10o0 1io0 1wo0 Rc0 1a00 1fA0 1cM0 1cM0 1io0 17c0 1fA0 1a00 1io0 1a00 1io0 17c0 1fA0 1a00 1io0 17c0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1a00 1fA0 1io0 17c0 1cM0 1cM0 1a00 1fA0 1io0 1qM0 Df0 Ik0 5M30 WM0 1fA0 1cM0 Vx0 hB0 1aq0 16M0 1ekn0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|11e6","Europe/Riga|RMT LST EET MSK CEST CET MSD EEST|-1A.y -2A.y -20 -30 -20 -10 -40 -30|010102345454536363636363636363727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272727272|-25TzA.y 11A0 1iM0 ko0 gWm0 yDXA.y 2bX0 3fE0 WM0 1fA0 1cM0 1cM0 4m0 1sLy0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1o00 11A0 1o00 11A0 1qM0 3oo0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|64e4","Europe/Rome|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2arB0 Lz0 1cN0 1db0 1410 1on0 Wp0 1qL0 17d0 1cL0 M3B0 5M20 WM0 1fA0 1cM0 16M0 1iM0 16m0 1de0 1lc0 14m0 1lc0 WO0 1qM0 GTW0 On0 1C10 LA0 1C00 LA0 1EM0 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1C00 LA0 1zc0 Oo0 1C00 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1zc0 Oo0 1fC0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|39e5","Europe/Samara|LMT +03 +04 +05|-3k.k -30 -40 -50|0123232323232323232121232323232323232323232323232323232323212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2y10 14m0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|12e5","Europe/Saratov|LMT +03 +04 +05|-34.i -30 -40 -50|012323232323232321212121212121212121212121212121212121212121212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1cM0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 5810","Europe/Simferopol|SMT EET MSK CEST CET MSD EEST MSK|-2g -20 -30 -20 -10 -40 -30 -40|012343432525252525252525252161616525252616161616161616161616161616161616172|-1Pc2g eUog rEn0 2qs0 WM0 1fA0 1cM0 3V0 1u0L0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 4eL0 1cL0 1cN0 1cL0 1cN0 dX0 WL0 1cN0 1cL0 1fB0 1o30 11B0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0|33e4","Europe/Sofia|EET CET CEST EEST|-20 -10 -20 -30|01212103030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030|-168L0 WM0 1fA0 1cM0 1cM0 1cN0 1mKH0 1dd0 1fb0 1ap0 1fb0 1a20 1fy0 1a30 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Europe/Stockholm|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2azC0 TB0 2yDe0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|15e5","Europe/Tallinn|TMT CET CEST EET MSK MSD EEST|-1D -10 -20 -20 -30 -40 -30|012103421212454545454545454546363636363636363636363636363636363636363636363636363636363636363636363636363636363636363636363|-26oND teD 11A0 1Ta0 4rXl KSLD 2FX0 2Jg0 WM0 1fA0 1cM0 18J0 1sTX0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o10 11A0 1qM0 5QM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|41e4","Europe/Tirane|LMT CET CEST|-1j.k -10 -20|01212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2glBj.k 14pcj.k 5LC0 WM0 4M0 1fCK0 10n0 1op0 11z0 1pd0 11z0 1qN0 WL0 1qp0 Xb0 1qp0 Xb0 1qp0 11z0 1lB0 11z0 1qN0 11z0 1iN0 16n0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|42e4","Europe/Ulyanovsk|LMT +03 +04 +05 +02|-3d.A -30 -40 -50 -20|01232323232323232321214121212121212121212121212121212121212121212|-22WM0 qH90 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0","Europe/Uzhgorod|CET CEST MSK MSD EET EEST|-10 -20 -30 -40 -20 -30|010101023232323232323232320454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|-1cqL0 6i00 WM0 1fA0 1cM0 1ml0 1Cp0 1r3W0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 1Nf0 2pw0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|11e4","Europe/Vienna|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 3KM0 14o0 LA00 6i00 WM0 1fA0 1cM0 1cM0 1cM0 400 2qM0 1a00 1cM0 1cM0 1io0 17c0 1gHa0 19X0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|18e5","Europe/Vilnius|WMT KMT CET EET MSK CEST MSD EEST|-1o -1z.A -10 -20 -30 -20 -40 -30|012324525254646464646464646473737373737373737352537373737373737373737373737373737373737373737373737373737373737373737373|-293do 6ILM.o 1Ooz.A zz0 Mfd0 29W0 3is0 WM0 1fA0 1cM0 LV0 1tgL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11B0 1o00 11A0 1qM0 8io0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|54e4","Europe/Volgograd|LMT +03 +04 +05|-2V.E -30 -40 -50|01232323232323232121212121212121212121212121212121212121212121|-21IqV.E psLV.E 23CL0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1cM0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|10e5","Europe/Warsaw|WMT CET CEST EET EEST|-1o -10 -20 -20 -30|012121234312121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-2ctdo 1LXo 11d0 1iO0 11A0 1o00 11A0 1on0 11A0 6zy0 HWP0 5IM0 WM0 1fA0 1cM0 1dz0 1mL0 1en0 15B0 1aq0 1nA0 11A0 1io0 17c0 1fA0 1a00 iDX0 LA0 1cM0 1cM0 1C00 Oo0 1cM0 1cM0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1C00 LA0 uso0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e5","Europe/Zaporozhye|+0220 EET MSK CEST CET MSD EEST|-2k -20 -30 -20 -10 -40 -30|01234342525252525252525252526161616161616161616161616161616161616161616161616161616161616161616161616161616161616161616161|-1Pc2k eUok rdb0 2RE0 WM0 1fA0 8m0 1v9a0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cK0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cQ0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|77e4","HST|HST|a0|0|","Indian/Chagos|LMT +05 +06|-4N.E -50 -60|012|-2xosN.E 3AGLN.E|30e2","Indian/Cocos|+0630|-6u|0||596","Indian/Kerguelen|-00 +05|0 -50|01|-MG00|130","Indian/Mahe|LMT +04|-3F.M -40|01|-2yO3F.M|79e3","Indian/Maldives|MMT +05|-4S -50|01|-olgS|35e4","Indian/Mauritius|LMT +04 +05|-3O -40 -50|012121|-2xorO 34unO 14L0 12kr0 11z0|15e4","Indian/Reunion|LMT +04|-3F.Q -40|01|-2mDDF.Q|84e4","Pacific/Kwajalein|+11 -12 +12|-b0 c0 -c0|012|-AX0 W9X0|14e3","MET|MET MEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-2aFe0 11d0 1iO0 11A0 1o00 11A0 Qrc0 6i00 WM0 1fA0 1cM0 1cM0 1cM0 16M0 1gMM0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","MST|MST|70|0|","MST7MDT|MST MDT MWT MPT|70 60 60 60|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261r0 1nX0 11B0 1nX0 SgN0 8x20 ix0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Pacific/Chatham|+1215 +1245 +1345|-cf -cJ -dJ|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|-WqAf 1adef IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|600","PST8PDT|PST PDT PWT PPT|80 70 70 70|010102301010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|-261q0 1nX0 11B0 1nX0 SgN0 8x10 iy0 QwN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Pacific/Apia|LMT -1130 -11 -10 +14 +13|bq.U bu b0 a0 -e0 -d0|01232345454545454545454545454545454545454545454545454545454|-2nDMx.4 1yW03.4 2rRbu 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|37e3","Pacific/Bougainville|+10 +09 +11|-a0 -90 -b0|0102|-16Wy0 7CN0 2MQp0|18e4","Pacific/Efate|LMT +11 +12|-bd.g -b0 -c0|0121212121212121212121|-2l9nd.g 2Szcd.g 1cL0 1oN0 10L0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 Lz0 1Nd0 An0|66e3","Pacific/Enderbury|-12 -11 +13|c0 b0 -d0|012|nIc0 B8n0|1","Pacific/Fakaofo|-11 +13|b0 -d0|01|1Gfn0|483","Pacific/Fiji|LMT +12 +13|-bT.I -c0 -d0|0121212121212121212121212121212121212121212121212121212121212121|-2bUzT.I 3m8NT.I LA0 1EM0 IM0 nJc0 LA0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0|88e4","Pacific/Galapagos|LMT -05 -06|5W.o 50 60|01212|-1yVS1.A 2dTz1.A gNd0 rz0|25e3","Pacific/Gambier|LMT -09|8X.M 90|01|-2jof0.c|125","Pacific/Guadalcanal|LMT +11|-aD.M -b0|01|-2joyD.M|11e4","Pacific/Guam|GST ChST|-a0 -a0|01|1fpq0|17e4","Pacific/Honolulu|HST HDT HST|au 9u a0|010102|-1thLu 8x0 lef0 8Pz0 46p0|37e4","Pacific/Kiritimati|-1040 -10 +14|aE a0 -e0|012|nIaE B8nk|51e2","Pacific/Kosrae|+11 +12|-b0 -c0|010|-AX0 1bdz0|66e2","Pacific/Majuro|+11 +12|-b0 -c0|01|-AX0|28e3","Pacific/Marquesas|LMT -0930|9i 9u|01|-2joeG|86e2","Pacific/Pago_Pago|LMT SST|bm.M b0|01|-2nDMB.c|37e2","Pacific/Nauru|LMT +1130 +09 +12|-b7.E -bu -90 -c0|01213|-1Xdn7.E PvzB.E 5RCu 1ouJu|10e3","Pacific/Niue|-1120 -1130 -11|bk bu b0|012|-KfME 17y0a|12e2","Pacific/Norfolk|+1112 +1130 +1230 +11|-bc -bu -cu -b0|01213|-Kgbc W01G On0 1COp0|25e4","Pacific/Noumea|LMT +11 +12|-b5.M -b0 -c0|01212121|-2l9n5.M 2EqM5.M xX0 1PB0 yn0 HeP0 Ao0|98e3","Pacific/Pitcairn|-0830 -08|8u 80|01|18Vku|56","Pacific/Rarotonga|-1030 -0930 -10|au 9u a0|012121212121212121212121212|lyWu IL0 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu|13e3","Pacific/Tahiti|LMT -10|9W.g a0|01|-2joe1.I|18e4","Pacific/Tongatapu|+1220 +13 +14|-ck -d0 -e0|0121212121|-1aB0k 2n5dk 15A0 1wo0 xz0 1Q10 xz0 zWN0 s00|75e3","WET|WET WEST|0 -10|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00"],links:["Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Sao_Tome","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|Atlantic/St_Helena","Africa/Cairo|Egypt","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Lagos|Africa/Bangui","Africa/Lagos|Africa/Brazzaville","Africa/Lagos|Africa/Douala","Africa/Lagos|Africa/Kinshasa","Africa/Lagos|Africa/Libreville","Africa/Lagos|Africa/Luanda","Africa/Lagos|Africa/Malabo","Africa/Lagos|Africa/Niamey","Africa/Lagos|Africa/Porto-Novo","Africa/Maputo|Africa/Blantyre","Africa/Maputo|Africa/Bujumbura","Africa/Maputo|Africa/Gaborone","Africa/Maputo|Africa/Harare","Africa/Maputo|Africa/Kigali","Africa/Maputo|Africa/Lubumbashi","Africa/Maputo|Africa/Lusaka","Africa/Nairobi|Africa/Addis_Ababa","Africa/Nairobi|Africa/Asmara","Africa/Nairobi|Africa/Asmera","Africa/Nairobi|Africa/Dar_es_Salaam","Africa/Nairobi|Africa/Djibouti","Africa/Nairobi|Africa/Kampala","Africa/Nairobi|Africa/Mogadishu","Africa/Nairobi|Indian/Antananarivo","Africa/Nairobi|Indian/Comoro","Africa/Nairobi|Indian/Mayotte","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|US/Alaska","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Catamarca|America/Argentina/ComodRivadavia","America/Argentina/Catamarca|America/Catamarca","America/Argentina/Cordoba|America/Cordoba","America/Argentina/Cordoba|America/Rosario","America/Argentina/Jujuy|America/Jujuy","America/Argentina/Mendoza|America/Mendoza","America/Atikokan|America/Coral_Harbour","America/Chicago|US/Central","America/Curacao|America/Aruba","America/Curacao|America/Kralendijk","America/Curacao|America/Lower_Princes","America/Denver|America/Shiprock","America/Denver|Navajo","America/Denver|US/Mountain","America/Detroit|US/Michigan","America/Edmonton|Canada/Mountain","America/Fort_Wayne|America/Indiana/Indianapolis","America/Fort_Wayne|America/Indianapolis","America/Fort_Wayne|US/East-Indiana","America/Halifax|Canada/Atlantic","America/Havana|Cuba","America/Indiana/Knox|America/Knox_IN","America/Indiana/Knox|US/Indiana-Starke","America/Jamaica|Jamaica","America/Kentucky/Louisville|America/Louisville","America/Los_Angeles|US/Pacific","America/Los_Angeles|US/Pacific-New","America/Manaus|Brazil/West","America/Mazatlan|Mexico/BajaSur","America/Mexico_City|Mexico/General","America/New_York|US/Eastern","America/Noronha|Brazil/DeNoronha","America/Panama|America/Cayman","America/Phoenix|US/Arizona","America/Port_of_Spain|America/Anguilla","America/Port_of_Spain|America/Antigua","America/Port_of_Spain|America/Dominica","America/Port_of_Spain|America/Grenada","America/Port_of_Spain|America/Guadeloupe","America/Port_of_Spain|America/Marigot","America/Port_of_Spain|America/Montserrat","America/Port_of_Spain|America/St_Barthelemy","America/Port_of_Spain|America/St_Kitts","America/Port_of_Spain|America/St_Lucia","America/Port_of_Spain|America/St_Thomas","America/Port_of_Spain|America/St_Vincent","America/Port_of_Spain|America/Tortola","America/Port_of_Spain|America/Virgin","America/Regina|Canada/Saskatchewan","America/Rio_Branco|America/Porto_Acre","America/Rio_Branco|Brazil/Acre","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","America/Tijuana|America/Ensenada","America/Tijuana|America/Santa_Isabel","America/Tijuana|Mexico/BajaNorte","America/Toronto|America/Montreal","America/Toronto|Canada/Eastern","America/Vancouver|Canada/Pacific","America/Whitehorse|Canada/Yukon","America/Winnipeg|Canada/Central","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Vientiane","Asia/Dhaka|Asia/Dacca","Asia/Dubai|Asia/Muscat","Asia/Ho_Chi_Minh|Asia/Saigon","Asia/Hong_Kong|Hongkong","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kathmandu|Asia/Katmandu","Asia/Kolkata|Asia/Calcutta","Asia/Kuala_Lumpur|Asia/Singapore","Asia/Kuala_Lumpur|Singapore","Asia/Macau|Asia/Macao","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|Europe/Nicosia","Asia/Qatar|Asia/Bahrain","Asia/Rangoon|Asia/Yangon","Asia/Riyadh|Asia/Aden","Asia/Riyadh|Asia/Kuwait","Asia/Seoul|ROK","Asia/Shanghai|Asia/Chongqing","Asia/Shanghai|Asia/Chungking","Asia/Shanghai|Asia/Harbin","Asia/Shanghai|PRC","Asia/Taipei|ROC","Asia/Tehran|Iran","Asia/Thimphu|Asia/Thimbu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Asia/Urumqi|Asia/Kashgar","Atlantic/Faroe|Atlantic/Faeroe","Atlantic/Reykjavik|Iceland","Atlantic/South_Georgia|Etc/GMT+2","Australia/Adelaide|Australia/South","Australia/Brisbane|Australia/Queensland","Australia/Broken_Hill|Australia/Yancowinna","Australia/Darwin|Australia/North","Australia/Hobart|Australia/Tasmania","Australia/Lord_Howe|Australia/LHI","Australia/Melbourne|Australia/Victoria","Australia/Perth|Australia/West","Australia/Sydney|Australia/ACT","Australia/Sydney|Australia/Canberra","Australia/Sydney|Australia/NSW","Etc/GMT+0|Etc/GMT","Etc/GMT+0|Etc/GMT-0","Etc/GMT+0|Etc/GMT0","Etc/GMT+0|Etc/Greenwich","Etc/GMT+0|GMT","Etc/GMT+0|GMT+0","Etc/GMT+0|GMT-0","Etc/GMT+0|GMT0","Etc/GMT+0|Greenwich","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belgrade|Europe/Ljubljana","Europe/Belgrade|Europe/Podgorica","Europe/Belgrade|Europe/Sarajevo","Europe/Belgrade|Europe/Skopje","Europe/Belgrade|Europe/Zagreb","Europe/Chisinau|Europe/Tiraspol","Europe/Dublin|Eire","Europe/Helsinki|Europe/Mariehamn","Europe/Istanbul|Asia/Istanbul","Europe/Istanbul|Turkey","Europe/Lisbon|Portugal","Europe/London|Europe/Belfast","Europe/London|Europe/Guernsey","Europe/London|Europe/Isle_of_Man","Europe/London|Europe/Jersey","Europe/London|GB","Europe/London|GB-Eire","Europe/Moscow|W-SU","Europe/Oslo|Arctic/Longyearbyen","Europe/Oslo|Atlantic/Jan_Mayen","Europe/Prague|Europe/Bratislava","Europe/Rome|Europe/San_Marino","Europe/Rome|Europe/Vatican","Europe/Warsaw|Poland","Europe/Zurich|Europe/Busingen","Europe/Zurich|Europe/Vaduz","Indian/Christmas|Etc/GMT-7","Pacific/Auckland|Antarctica/McMurdo","Pacific/Auckland|Antarctica/South_Pole","Pacific/Auckland|NZ","Pacific/Chatham|NZ-CHAT","Pacific/Easter|Chile/EasterIsland","Pacific/Guam|Pacific/Saipan","Pacific/Honolulu|Pacific/Johnston","Pacific/Honolulu|US/Hawaii","Pacific/Kwajalein|Kwajalein","Pacific/Pago_Pago|Pacific/Midway","Pacific/Pago_Pago|Pacific/Samoa","Pacific/Pago_Pago|US/Samoa","Pacific/Palau|Etc/GMT-9","Pacific/Pohnpei|Etc/GMT-11","Pacific/Pohnpei|Pacific/Ponape","Pacific/Port_Moresby|Etc/GMT-10","Pacific/Port_Moresby|Pacific/Chuuk","Pacific/Port_Moresby|Pacific/Truk","Pacific/Port_Moresby|Pacific/Yap","Pacific/Tarawa|Etc/GMT-12","Pacific/Tarawa|Pacific/Funafuti","Pacific/Tarawa|Pacific/Wake","Pacific/Tarawa|Pacific/Wallis"]}),c}),function(){"use strict";var _Mathpow2=Math.pow,KEY={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function isControl(e){var k=e.which;return!(k!==KEY.COMMAND&&k!==KEY.SHIFT&&k!==KEY.CTRL&&k!==KEY.ALT)||!!e.metaKey},isFunctionKey:function isFunctionKey(k){return k=k.which?k.which:k,112<=k&&123>=k},isVerticalMovement:function isVerticalMovement(k){return~[KEY.UP,KEY.DOWN].indexOf(k)},isHorizontalMovement:function isHorizontalMovement(k){return~[KEY.LEFT,KEY.RIGHT,KEY.BACKSPACE,KEY.DELETE].indexOf(k)},toSeparator:function toSeparator(k){var sep={ENTER:"\n",TAB:"\t",SPACE:" "}[k];return sep?sep:KEY[k]?void 0:k}};angular.element.prototype.querySelectorAll===void 0&&(angular.element.prototype.querySelectorAll=function(selector){return angular.element(this[0].querySelectorAll(selector))}),angular.element.prototype.closest===void 0&&(angular.element.prototype.closest=function(selector){for(var elem=this[0],matchesSelector=elem.matches||elem.webkitMatchesSelector||elem.mozMatchesSelector||elem.msMatchesSelector;elem;){if(matchesSelector.bind(elem)(selector))return elem;elem=elem.parentElement}return!1});var latestId=0,removeSelectedOwn=!1,uis=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",generateId:function generateId(){return latestId++},appendToBody:!1,firstItemActive:!0}).service("uiSelectMinErr",function(){var minErr=angular.$$minErr("ui.select");return function(){var error=minErr.apply(this,arguments),message=error.message.replace(/\nhttp:\/\/errors.angularjs.org\/.*/,"");return new Error(message)}}).directive("uisTranscludeAppend",function(){return{link:function link(scope,element,attrs,ctrl,transclude){transclude(scope,function(clone){element.append(clone)})}}}).filter("highlight",function(){function escapeRegexp(queryToEscape){return(""+queryToEscape).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query&&matchItem?(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),"<span class=\"ui-select-highlight\">$&</span>"):matchItem}}).factory("uisOffset",["$document","$window",function($document,$window){return function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}}}]);uis.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(uiSelectConfig,RepeatParser,uiSelectMinErr,$compile,$window){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function templateUrl(tElement){tElement.addClass("ui-select-choices");var theme=tElement.parent().attr("theme")||uiSelectConfig.theme;return theme+"/choices.tpl.html"},compile:function compile(tElement,tAttrs){if(!tAttrs.repeat)throw uiSelectMinErr("repeat","Expected 'repeat' expression.");return function(scope,element,attrs,$select,transcludeFn){var groupByExp=attrs.groupBy,groupFilterExp=attrs.groupFilter;if($select.parseRepeatAttr(attrs.repeat,groupByExp,groupFilterExp),$select.disableChoiceExpression=attrs.uiDisableChoice,$select.onHighlightCallback=attrs.onHighlight,$select.dropdownPosition=attrs.position?attrs.position.toLowerCase():uiSelectConfig.dropdownPosition,groupByExp){var groups=element.querySelectorAll(".ui-select-choices-group");if(1!==groups.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-group but got '{0}'.",groups.length);groups.attr("ng-repeat",RepeatParser.getGroupNgRepeatExpression())}var choices=element.querySelectorAll(".ui-select-choices-row");if(1!==choices.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row but got '{0}'.",choices.length);choices.attr("ng-repeat",$select.parserResult.repeatExpression(groupByExp)).attr("ng-if","$select.open"),$window.document.addEventListener&&choices.attr("ng-mouseenter","$select.setActiveItem("+$select.parserResult.itemName+")").attr("ng-click","$select.select("+$select.parserResult.itemName+",$select.skipFocusser,$event)");var rowsInner=element.querySelectorAll(".ui-select-choices-row-inner");if(1!==rowsInner.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",rowsInner.length);rowsInner.attr("uis-transclude-append",""),$window.document.addEventListener||rowsInner.attr("ng-mouseenter","$select.setActiveItem("+$select.parserResult.itemName+")").attr("ng-click","$select.select("+$select.parserResult.itemName+",$select.skipFocusser,$event)"),$compile(element,transcludeFn)(scope),scope.$watch("$select.search",function(newValue){newValue&&!$select.open&&$select.multiple&&$select.activate(!1,!0),$select.activeIndex=$select.tagging.isActivated||!$select.firstItemActive?-1:0,!attrs.minimumInputLength||$select.search.length>=attrs.minimumInputLength?$select.refresh(attrs.refresh):$select.items=[]}),attrs.$observe("refreshDelay",function(){var refreshDelay=scope.$eval(attrs.refreshDelay);$select.refreshDelay=void 0===refreshDelay?uiSelectConfig.refreshDelay:refreshDelay}),attrs.$observe("firstItemActive",function(){var firstItemActive=scope.$eval(attrs.firstItemActive);$select.firstItemActive=void 0===firstItemActive?uiSelectConfig.firstItemActive:firstItemActive})}}}}]),uis.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function($scope,$element,$timeout,$filter,RepeatParser,uiSelectMinErr,uiSelectConfig,$parse,$injector,$window){function _findIndex(collection,predicate,thisArg){if(collection.findIndex)return collection.findIndex(predicate,thisArg);for(var list=Object(collection),length=list.length>>>0,i=0,value;i<length;i++)if(value=list[i],predicate.call(thisArg,value,i,list))return i;return-1}function _resetSearchInput(){(ctrl.resetSearchInput||void 0===ctrl.resetSearchInput&&uiSelectConfig.resetSearchInput)&&(ctrl.search=EMPTY_SEARCH,ctrl.selected&&ctrl.items.length&&!ctrl.multiple&&(ctrl.activeIndex=_findIndex(ctrl.items,function(item){return angular.equals(this,item)},ctrl.selected)))}function _groupsFilter(groups,groupNames){var result=[],i,j;for(i=0;i<groupNames.length;i++)for(j=0;j<groups.length;j++)[groupNames[i]]==groups[j].name&&result.push(groups[j]);return result}function _handleDropDownSelection(key){var processed=!0;return key===KEY.DOWN?!ctrl.open&&ctrl.multiple?ctrl.activate(!1,!0):ctrl.activeIndex<ctrl.items.length-1&&ctrl.activeIndex++:key===KEY.UP?!ctrl.open&&ctrl.multiple?ctrl.activate(!1,!0):(0<ctrl.activeIndex||0===ctrl.search.length&&ctrl.tagging.isActivated&&-1<ctrl.activeIndex)&&ctrl.activeIndex--:key===KEY.TAB?(!ctrl.multiple||ctrl.open)&&ctrl.select(ctrl.items[ctrl.activeIndex],!0):key===KEY.ENTER?ctrl.open&&(ctrl.tagging.isActivated||0<=ctrl.activeIndex)?ctrl.select(ctrl.items[ctrl.activeIndex],ctrl.skipFocusser):(ctrl.activate(!1,!0),!ctrl.firstItemActive&&ctrl.close()):key===KEY.ESC?ctrl.close():processed=!1,processed}function _ensureHighlightVisible(){var container=$element.querySelectorAll(".ui-select-choices-content"),choices=container.querySelectorAll(".ui-select-choices-row");if(1>choices.length)throw uiSelectMinErr("choices","Expected multiple .ui-select-choices-row but got '{0}'.",choices.length);if(!(0>ctrl.activeIndex)){var highlighted=choices[ctrl.activeIndex],posY=highlighted.offsetTop+highlighted.clientHeight-container[0].scrollTop,height=container[0].offsetHeight;posY>height?container[0].scrollTop+=posY-height:posY<highlighted.clientHeight&&(ctrl.isGrouped&&0===ctrl.activeIndex?container[0].scrollTop=0:container[0].scrollTop-=highlighted.clientHeight-posY)}}var ctrl=this,EMPTY_SEARCH="";if(ctrl.placeholder=uiSelectConfig.placeholder,ctrl.searchEnabled=uiSelectConfig.searchEnabled,ctrl.sortable=uiSelectConfig.sortable,ctrl.refreshDelay=uiSelectConfig.refreshDelay,ctrl.paste=uiSelectConfig.paste,ctrl.firstItemActive=uiSelectConfig.firstItemActive,ctrl.removeSelected=!1,ctrl.closeOnSelect=!0,ctrl.skipFocusser=!1,ctrl.search=EMPTY_SEARCH,ctrl.activeIndex=ctrl.firstItemActive?0:-1,ctrl.items=[],ctrl.open=!1,ctrl.focus=!1,ctrl.disabled=!1,ctrl.selected=void 0,ctrl.dropdownPosition="auto",ctrl.focusser=void 0,ctrl.resetSearchInput=!0,ctrl.multiple=void 0,ctrl.disableChoiceExpression=void 0,ctrl.tagging={isActivated:!1,fct:void 0},ctrl.taggingTokens={isActivated:!1,tokens:void 0},ctrl.lockChoiceExpression=void 0,ctrl.clickTriggeredSelect=!1,ctrl.$filter=$filter,ctrl.$animate=function(){try{return $injector.get("$animate")}catch(err){return null}}(),ctrl.searchInput=$element.querySelectorAll("input.ui-select-search"),1!==ctrl.searchInput.length)throw uiSelectMinErr("searchInput","Expected 1 input.ui-select-search but got '{0}'.",ctrl.searchInput.length);ctrl.isEmpty=function(){return angular.isUndefined(ctrl.selected)||null===ctrl.selected||""===ctrl.selected||ctrl.multiple&&0===ctrl.selected.length},ctrl.activate=function(initSearchValue,avoidReset){if(!ctrl.disabled&&!ctrl.open){avoidReset||_resetSearchInput(),$scope.$broadcast("uis:activate"),ctrl.open=!0,$timeout(function(){ctrl.onShowingChoices($scope)}),ctrl.activeIndex=ctrl.activeIndex>=ctrl.items.length?ctrl.firstItemActive?0:-1:ctrl.activeIndex,ctrl.firstItemActive&&-1===ctrl.activeIndex&&!1!==ctrl.taggingLabel&&(ctrl.activeIndex=0);var container=$element.querySelectorAll(".ui-select-choices-content");ctrl.resetChoicesPosition(),ctrl.$animate&&ctrl.$animate.on&&ctrl.$animate.enabled(container[0])?ctrl.$animate.on("enter",container[0],function(elem,phase){"close"===phase&&$timeout(function(){ctrl.focusSearchInput(initSearchValue)})}):$timeout(function(){ctrl.focusSearchInput(initSearchValue),ctrl.tagging.isActivated||1<ctrl.items.length})}},ctrl.focusSearchInput=function(initSearchValue){ctrl.search=initSearchValue||ctrl.search,ctrl.searchInput[0].focus()},ctrl.findGroupByName=function(name){return ctrl.groups&&ctrl.groups.filter(function(group){return group.name===name})[0]},ctrl.parseRepeatAttr=function(repeatAttr,groupByExp,groupFilterExp){ctrl.setItemsFn=groupByExp?function(items){var groupFn=$scope.$eval(groupByExp);if(ctrl.groups=[],angular.forEach(items,function(item){var groupName=angular.isFunction(groupFn)?groupFn(item):item[groupFn],group=ctrl.findGroupByName(groupName);group?group.items.push(item):ctrl.groups.push({name:groupName,items:[item]})}),groupFilterExp){var groupFilterFn=$scope.$eval(groupFilterExp);angular.isFunction(groupFilterFn)?ctrl.groups=groupFilterFn(ctrl.groups):angular.isArray(groupFilterFn)&&(ctrl.groups=_groupsFilter(ctrl.groups,groupFilterFn))}ctrl.items=[],ctrl.groups.forEach(function(group){ctrl.items=ctrl.items.concat(group.items)})}:function(items){ctrl.items=items},ctrl.parserResult=RepeatParser.parse(repeatAttr),ctrl.isGrouped=!!groupByExp,ctrl.itemProperty=ctrl.parserResult.itemName;var originalSource=ctrl.parserResult.source,createArrayFromObject=function(){var origSrc=originalSource($scope);$scope.$uisSource=Object.keys(origSrc).map(function(v){var result={};return result[ctrl.parserResult.keyName]=v,result.value=origSrc[v],result})};ctrl.parserResult.keyName&&(createArrayFromObject(),ctrl.parserResult.source=$parse("$uisSource"+ctrl.parserResult.filters),$scope.$watch(originalSource,function(newVal,oldVal){newVal!==oldVal&&createArrayFromObject()},!0)),ctrl.refreshItems=function(data){data=data||ctrl.parserResult.source($scope);var selectedItems=ctrl.selected;if(ctrl.isEmpty()||angular.isArray(selectedItems)&&!selectedItems.length||!ctrl.removeSelected)ctrl.setItemsFn(data);else if(void 0!==data){var filteredItems=data.filter(function(i){return selectedItems.every(function(selectedItem){return!angular.equals(i,selectedItem)})});ctrl.setItemsFn(filteredItems)}("auto"===ctrl.dropdownPosition||"up"===ctrl.dropdownPosition)&&$scope.calculateDropdownPos()},$scope.$watchCollection(ctrl.parserResult.source,function(items){if(void 0===items||null===items)ctrl.items=[];else if(!angular.isArray(items))throw uiSelectMinErr("items","Expected an array but got '{0}'.",items);else ctrl.refreshItems(items),ctrl.ngModel.$modelValue=null})};var _refreshDelayPromise;ctrl.refresh=function(refreshAttr){void 0!==refreshAttr&&(_refreshDelayPromise&&$timeout.cancel(_refreshDelayPromise),_refreshDelayPromise=$timeout(function(){$scope.$eval(refreshAttr)},ctrl.refreshDelay))},ctrl.isActive=function(itemScope){if(!ctrl.open)return!1;var itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]),isActive=itemIndex==ctrl.activeIndex;return!(!isActive||0>itemIndex&&!1!==ctrl.taggingLabel||0>itemIndex&&!1===ctrl.taggingLabel)&&(isActive&&!angular.isUndefined(ctrl.onHighlightCallback)&&itemScope.$eval(ctrl.onHighlightCallback),isActive)},ctrl.isDisabled=function(itemScope){if(ctrl.open){var itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]),isDisabled=!1,item;return 0<=itemIndex&&!angular.isUndefined(ctrl.disableChoiceExpression)&&(item=ctrl.items[itemIndex],isDisabled=!!itemScope.$eval(ctrl.disableChoiceExpression),item._uiSelectChoiceDisabled=isDisabled),isDisabled}},ctrl.select=function(item,skipFocusser,$event){if(void 0===item||!item._uiSelectChoiceDisabled){if(!ctrl.items&&!ctrl.search&&!ctrl.tagging.isActivated)return;if(!item||!item._uiSelectChoiceDisabled){if(ctrl.tagging.isActivated)if(!1===ctrl.taggingLabel){if(!(0>ctrl.activeIndex))item=ctrl.items[ctrl.activeIndex];else if(item=void 0===ctrl.tagging.fct?ctrl.search:ctrl.tagging.fct(ctrl.search),!item||angular.equals(ctrl.items[0],item))return;}else if(0===ctrl.activeIndex){if(void 0===item)return;if(void 0===ctrl.tagging.fct||"string"!=typeof item)"string"==typeof item&&(item=item.replace(ctrl.taggingLabel,"").trim());else if(item=ctrl.tagging.fct(item),!item)return}if(ctrl.selected&&angular.isArray(ctrl.selected)&&0<ctrl.selected.filter(function(selection){return angular.equals(selection,item)}).length)return _.remove(ctrl.selected,function(selection){return angular.equals(selection,item)}),void ctrl.onRemoveCallback($scope,{$item:item,$model:ctrl.parserResult.modelMapper($scope,locals)});ctrl.onBeforeSelectCallback($scope,{$item:item}),$scope.$broadcast("uis:select",item);var locals={};locals[ctrl.parserResult.itemName]=item,$timeout(function(){ctrl.onSelectCallback($scope,{$item:item,$model:ctrl.parserResult.modelMapper($scope,locals),$selected:ctrl.selected})}),ctrl.closeOnSelect&&ctrl.close(skipFocusser),$event&&"click"===$event.type&&(ctrl.clickTriggeredSelect=!0)}}},ctrl.close=function(skipFocusser){ctrl.open&&(ctrl.ngModel&&ctrl.ngModel.$setTouched&&ctrl.ngModel.$setTouched(),_resetSearchInput(),ctrl.open=!1,$scope.$broadcast("uis:close",skipFocusser))},ctrl.setFocus=function(){ctrl.focus||ctrl.focusInput[0].focus()},ctrl.clear=function($event){ctrl.select(void 0),$event.stopPropagation(),$timeout(function(){ctrl.focusser[0].focus()},0,!1)},ctrl.toggle=function(e){ctrl.open?(ctrl.close(),e.preventDefault(),e.stopPropagation()):ctrl.activate(),ctrl.resetChoicesPosition()},ctrl.isLocked=function(itemScope,itemIndex){var item=ctrl.selected[itemIndex],isLocked;return item&&!angular.isUndefined(ctrl.lockChoiceExpression)&&(isLocked=!!itemScope.$eval(ctrl.lockChoiceExpression),item._uiSelectChoiceLocked=isLocked),isLocked};var sizeWatch=null;ctrl.sizeSearchInput=function(){var input=ctrl.searchInput[0],container=ctrl.searchInput.parent().parent()[0],calculateContainerWidth=function(){return container.clientWidth*!!input.offsetParent},updateIfVisible=function(containerWidth){if(0===containerWidth)return!1;var inputWidth=containerWidth-input.offsetLeft-5;return 15>inputWidth&&(inputWidth=containerWidth),ctrl.searchInput.css("width",--inputWidth+"px"),!0},noTags=0==ctrl.searchInput.parent().find(".ui-select-match-item").length;ctrl.searchInput.css("min-width",noTags?"50px":""),ctrl.searchInput.css("width","20px"),$timeout(function(){null!==sizeWatch||updateIfVisible(calculateContainerWidth())||(sizeWatch=$scope.$watch(calculateContainerWidth,function(containerWidth){updateIfVisible(containerWidth)&&(sizeWatch(),sizeWatch=null)}))})},ctrl.searchInput.on("keydown",function(e){var key=e.which;~[KEY.ENTER,KEY.ESC].indexOf(key)&&(e.preventDefault(),e.stopPropagation()),$scope.$apply(function(){var tagged=!1;if((0<ctrl.items.length||ctrl.tagging.isActivated)&&(_handleDropDownSelection(key),ctrl.taggingTokens.isActivated)){for(var i=0;i<ctrl.taggingTokens.tokens.length;i++)ctrl.taggingTokens.tokens[i]===KEY.MAP[e.keyCode]&&0<ctrl.search.length&&(tagged=!0);tagged&&$timeout(function(){ctrl.searchInput.triggerHandler("tagged");var newItem=ctrl.search.replace(KEY.MAP[e.keyCode],"").trim();ctrl.tagging.fct&&(newItem=ctrl.tagging.fct(newItem)),newItem&&ctrl.select(newItem,!0)})}}),KEY.isVerticalMovement(key)&&0<ctrl.items.length&&_ensureHighlightVisible(),(key===KEY.ENTER||key===KEY.ESC)&&(e.preventDefault(),e.stopPropagation())}),ctrl.searchInput.on("paste",function(e){var data;if(data=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(e.originalEvent||e).clipboardData.getData("text/plain"),data=ctrl.search+data,data&&0<data.length)if(ctrl.taggingTokens.isActivated){var separator=KEY.toSeparator(ctrl.taggingTokens.tokens[0]),items=data.split(separator||ctrl.taggingTokens.tokens[0]);if(items&&0<items.length){var oldsearch=ctrl.search;angular.forEach(items,function(item){var newItem=ctrl.tagging.fct?ctrl.tagging.fct(item):item;newItem&&ctrl.select(newItem,!0)}),ctrl.search=oldsearch||EMPTY_SEARCH,e.preventDefault(),e.stopPropagation()}}else ctrl.paste&&(ctrl.paste(data),ctrl.search=EMPTY_SEARCH,e.preventDefault(),e.stopPropagation())}),ctrl.searchInput.on("tagged",function(){$timeout(function(){_resetSearchInput()})}),$scope.$on("$destroy",function(){ctrl.searchInput.off("keyup keydown tagged blur paste")}),$scope.$on("finishResize",function(){ctrl.sizeSearchInput()}),angular.element($window).bind("resize",function(){ctrl.sizeSearchInput()})}]),uis.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function($document,uiSelectConfig,uiSelectMinErr,uisOffset,$compile,$parse,$timeout){return{restrict:"EA",templateUrl:function templateUrl(tElement,tAttrs){var theme=tAttrs.theme||uiSelectConfig.theme;return angular.isDefined(tAttrs.multiple)&&angular.isDefined(tAttrs.withoutChoices)?theme+"/custom-select-multiple.tpl.html":theme+(angular.isDefined(tAttrs.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function compile(tElement,tAttrs){removeSelectedOwn=!tAttrs.notRemoveSelected&&("undefined"==typeof tAttrs.notRemoveSelected||!0);var match=/{(.*)}\s*{(.*)}/.exec(tAttrs.ngClass);if(match){var combined="{"+match[1]+", "+match[2]+"}";tAttrs.ngClass=combined,tElement.attr("ng-class",combined)}return angular.isDefined(tAttrs.multiple)?tElement.append("<ui-select-multiple/>").removeAttr("multiple"):tElement.append("<ui-select-single/>"),tAttrs.inputId&&(tElement.querySelectorAll("input.ui-select-search")[0].id=tAttrs.inputId),function(scope,element,attrs,ctrls,transcludeFn){function onDocumentClick(e){if($select.open){$select.resetChoicesPosition();var contains=!1;if(contains=window.jQuery?window.jQuery.contains(element[0],e.target):element[0].contains(e.target),!contains&&!$select.clickTriggeredSelect){var skipFocusser;if(!$select.skipFocusser){var targetController=angular.element(e.target).controller("uiSelect");skipFocusser=targetController&&targetController!==$select,skipFocusser||(skipFocusser=~["input","button","textarea","select"].indexOf(e.target.tagName.toLowerCase()))}else skipFocusser=!0;$select.close(skipFocusser),scope.$digest()}$select.clickTriggeredSelect=!1}}function positionDropdown(){var offset=uisOffset(element);placeholder=angular.element("<div class=\"ui-select-placeholder\"></div>"),placeholder[0].style.width=offset.width+"px",placeholder[0].style.height=offset.height+"px",element.after(placeholder),originalWidth=element[0].style.width,$document.find("body").append(element),element[0].style.position="absolute",element[0].style.left=offset.left+"px",element[0].style.top=offset.top+"px",element[0].style.width=offset.width+"px"}function resetDropdown(){null===placeholder||(placeholder.replaceWith(element),placeholder=null,element[0].style.position="",element[0].style.left="",element[0].style.top="",element[0].style.width=originalWidth,$select.setFocus())}var $select=ctrls[0],ngModel=ctrls[1];tAttrs.id&&($select.elementId=attrs.id),$select.generatedId=uiSelectConfig.generateId(),$select.baseTitle=attrs.title||"Select box",$select.focusserTitle=$select.baseTitle+" focus",$select.focusserId="focusser-"+$select.generatedId,angular.isDefined(attrs.contextMenuOptions)&&($select.menuOptions=scope.$eval(attrs.contextMenuOptions)),$select.closeOnSelect=function(){return angular.isDefined(attrs.closeOnSelect)?$parse(attrs.closeOnSelect)():uiSelectConfig.closeOnSelect}(),scope.$watch("skipFocusser",function(){var skipFocusser=scope.$eval(attrs.skipFocusser);$select.skipFocusser=void 0===skipFocusser?uiSelectConfig.skipFocusser:skipFocusser}),$select.resetChoicesPosition=function(){var dropdown=angular.element(element).querySelectorAll(".ui-select-dropdown"),inputPos=$select.searchInput.offset(),totalWidth=$("body").width(),position;position=inputPos.left+300>totalWidth?$select.searchInput.position().left+(totalWidth-(inputPos.left+300)):$select.searchInput.position().left,dropdown.css("left",position+"px")},$select.onBeforeSelectCallback=function($scope,args){$parse(attrs.onBeforeSelect)($scope,args)},$select.onSelectCallback=function($scope,args){$parse(attrs.onSelect)($scope,args)},$select.onRemoveCallback=function($scope,args){$parse(attrs.onRemove)($scope,args)},$select.onShowingChoices=function($scope,args){$parse(attrs.onShowingChoices)($scope,args)},$select.resetBlurTimeout=function(){},$select.limit=angular.isDefined(attrs.limit)?parseInt(attrs.limit,10):void 0,$select.ngModel=ngModel,$select.choiceGrouped=function(group){return $select.isGrouped&&group&&group.name},attrs.tabindex&&attrs.$observe("tabindex",function(value){$select.focusInput.attr("tabindex",value),element.removeAttr("tabindex")}),scope.$watch("searchEnabled",function(){var searchEnabled=scope.$eval(attrs.searchEnabled);$select.searchEnabled=void 0===searchEnabled?uiSelectConfig.searchEnabled:searchEnabled}),scope.$watch("sortable",function(){var sortable=scope.$eval(attrs.sortable);$select.sortable=void 0===sortable?uiSelectConfig.sortable:sortable}),attrs.$observe("disabled",function(){$select.disabled=void 0!==attrs.disabled&&attrs.disabled}),attrs.$observe("resetSearchInput",function(){var resetSearchInput=scope.$eval(attrs.resetSearchInput);$select.resetSearchInput=void 0===resetSearchInput||resetSearchInput}),attrs.$observe("paste",function(){$select.paste=scope.$eval(attrs.paste)}),attrs.$observe("tagging",function(){if(void 0!==attrs.tagging){var taggingEval=scope.$eval(attrs.tagging);$select.tagging={isActivated:!0,fct:!0===taggingEval?void 0:taggingEval}}else $select.tagging={isActivated:!1,fct:void 0}}),attrs.$observe("taggingLabel",function(){void 0!==attrs.tagging&&("false"===attrs.taggingLabel?$select.taggingLabel=!1:$select.taggingLabel=void 0===attrs.taggingLabel?"(new)":attrs.taggingLabel)}),attrs.$observe("taggingTokens",function(){if(void 0!==attrs.tagging){var tokens=void 0===attrs.taggingTokens?[",","ENTER"]:attrs.taggingTokens.split("|");$select.taggingTokens={isActivated:!0,tokens:tokens}}}),angular.isDefined(attrs.autofocus)&&$timeout(function(){$select.setFocus()}),angular.isDefined(attrs.focusOn)&&scope.$on(attrs.focusOn,function(e){$timeout(function(){$select.setFocus(),$select.toggle(e)})}),$document.on("click",onDocumentClick),scope.$on("$destroy",function(){$document.off("click",onDocumentClick)}),transcludeFn(scope,function(clone){var transcluded=angular.element("<div>").append(clone),transcludedMatch=transcluded.querySelectorAll(".ui-select-match");if(transcludedMatch.removeAttr("ui-select-match"),transcludedMatch.removeAttr("data-ui-select-match"),1!==transcludedMatch.length)throw uiSelectMinErr("transcluded","Expected 1 .ui-select-match but got '{0}'.",transcludedMatch.length);element.querySelectorAll(".ui-select-match").replaceWith(transcludedMatch);var transcludedChoices=transcluded.querySelectorAll(".ui-select-choices");if(transcludedChoices.removeAttr("ui-select-choices"),transcludedChoices.removeAttr("data-ui-select-choices"),1!==transcludedChoices.length)throw uiSelectMinErr("transcluded","Expected 1 .ui-select-choices but got '{0}'.",transcludedChoices.length);element.querySelectorAll(".ui-select-choices").replaceWith(transcludedChoices)});var appendToBody=scope.$eval(attrs.appendToBody);(void 0===appendToBody?uiSelectConfig.appendToBody:appendToBody)&&(scope.$watch("$select.open",function(isOpen){isOpen?positionDropdown():resetDropdown()}),scope.$on("$destroy",function(){resetDropdown()}));var placeholder=null,originalWidth="",dropdown=null,directionUpClassName="direction-up";scope.$watch("$select.open",function(){("auto"===$select.dropdownPosition||"up"===$select.dropdownPosition)&&scope.calculateDropdownPos()});var setDropdownPosUp=function(offset,offsetDropdown){offset=offset||uisOffset(element),offsetDropdown=offsetDropdown||uisOffset(dropdown),dropdown[0].style.position="absolute",dropdown[0].style.top=-1*offsetDropdown.height+"px",element.addClass(directionUpClassName)},setDropdownPosDown=function(offset,offsetDropdown){element.removeClass(directionUpClassName),offset=offset||uisOffset(element),offsetDropdown=offsetDropdown||uisOffset(dropdown),dropdown[0].style.position="",dropdown[0].style.top=""};scope.calculateDropdownPos=function(){if($select.open){if(dropdown=angular.element(element).querySelectorAll(".ui-select-dropdown"),0===dropdown.length)return;dropdown[0].style.opacity=0,$timeout(function(){if("up"===$select.dropdownPosition)setDropdownPosUp();else{element.removeClass(directionUpClassName);var offset=uisOffset(element),offsetDropdown=uisOffset(dropdown),scrollTop=$document[0].documentElement.scrollTop||$document[0].body.scrollTop;offset.top+offset.height+offsetDropdown.height>scrollTop+$document[0].documentElement.clientHeight?setDropdownPosUp(offset,offsetDropdown):setDropdownPosDown(offset,offsetDropdown)}dropdown[0].style.opacity=1})}else{if(null===dropdown||0===dropdown.length)return;dropdown[0].style.position="",dropdown[0].style.top="",element.removeClass(directionUpClassName)}}}}}}]),uis.directive("uiSelectMatch",["uiSelectConfig",function(uiSelectConfig){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function templateUrl(tElement){tElement.addClass("ui-select-match");var theme=tElement.parent().attr("theme")||uiSelectConfig.theme,multi=tElement.parent().attr("multiple");return theme+(multi?"/match-multiple.tpl.html":"/match.tpl.html")},link:function link(scope,element,attrs,$select){function setAllowClear(allow){$select.allowClear=!!angular.isDefined(allow)&&(!(""!==allow)||"true"===allow.toLowerCase())}$select.lockChoiceExpression=attrs.uiLockChoice,attrs.$observe("placeholder",function(placeholder){$select.placeholder=placeholder===void 0?uiSelectConfig.placeholder:placeholder}),attrs.$observe("allowClear",setAllowClear),setAllowClear(attrs.allowClear),$select.multiple&&$select.sizeSearchInput()}}}]),uis.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(uiSelectMinErr,$timeout){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function($scope,$timeout){var ctrl=this,$select=$scope.$select,ngModel;angular.isUndefined($select.selected)&&($select.selected=[]),$scope.$evalAsync(function(){ngModel=$scope.ngModel}),ctrl.activeMatchIndex=-1,ctrl.updateModel=function(){ngModel.$setViewValue(Date.now()),ctrl.refreshComponent()},$scope.$on("sizeSearchInput",$select.sizeSearchInput),ctrl.refreshComponent=function(){$select.refreshItems(),$select.sizeSearchInput()},ctrl.removeChoice=function(index){$select.resetBlurTimeout(),$select.focusInput.focus();var removedChoice=$select.selected[index];if(!removedChoice._uiSelectChoiceLocked){var locals={};locals[$select.parserResult.itemName]=removedChoice,$select.selected.splice(index,1),ctrl.activeMatchIndex=-1,$select.sizeSearchInput(),$timeout(function(){$select.onRemoveCallback($scope,{$item:removedChoice,$model:$select.parserResult.modelMapper($scope,locals),$selected:$select.selected})}),ctrl.updateModel()}},ctrl.getPlaceholder=function(){return $select.selected&&$select.selected.length?void 0:$select.placeholder}}],controllerAs:"$selectMultiple",link:function link(scope,element,attrs,ctrls){function _getCaretPosition(el){return angular.isNumber(el.selectionStart)?el.selectionStart:el.value.length}function _handleMatchSelection(key){var caretPosition=_getCaretPosition($select.searchInput[0]),length=$select.selected.length,last=length-1,curr=$selectMultiple.activeMatchIndex,next=$selectMultiple.activeMatchIndex+1,prev=$selectMultiple.activeMatchIndex-1,newIndex=curr;return!(1<caretPosition||$select.search.length&&key==KEY.RIGHT)&&($select.close(),newIndex=function(){switch(key){case KEY.LEFT:return~$selectMultiple.activeMatchIndex?prev:last;break;case KEY.RIGHT:return~$selectMultiple.activeMatchIndex&&curr!==last?next:($select.activate(),!1);break;case KEY.BACKSPACE:return~$selectMultiple.activeMatchIndex?($selectMultiple.removeChoice(curr),prev):last;break;case KEY.DELETE:return!!~$selectMultiple.activeMatchIndex&&($selectMultiple.removeChoice($selectMultiple.activeMatchIndex),curr);}}(),$selectMultiple.activeMatchIndex=$select.selected.length&&!1!==newIndex?Math.min(last,Math.max(0,newIndex)):-1,!0)}function _findCaseInsensitiveDupe(arr){if(arr===void 0||$select.search===void 0)return!1;var hasDupe=0<arr.filter(function(origItem){return void 0!==$select.search.toUpperCase()&&void 0!==origItem&&origItem.toUpperCase()===$select.search.toUpperCase()}).length;return hasDupe}function _findApproxDupe(haystack,needle){var dupeIndex=-1;if(angular.isArray(haystack))for(var tempArr=angular.copy(haystack),i=0;i<tempArr.length;i++)if(void 0===$select.tagging.fct)tempArr[i]+" "+$select.taggingLabel===needle&&(dupeIndex=i);else{var mockObj=tempArr[i];angular.isObject(mockObj)&&(mockObj.isTag=!0),angular.equals(mockObj,needle)&&(dupeIndex=i)}return dupeIndex}var $select=ctrls[0],ngModel=scope.ngModel=ctrls[1],$selectMultiple=scope.$selectMultiple;$select.multiple=!0,$select.removeSelected=removeSelectedOwn,$select.focusInput=$select.searchInput,ngModel.$isEmpty=function(value){return!value||0===value.length},ngModel.$parsers.unshift(function(){for(var locals={},resultMultiple=[],j=$select.selected.length-1,result;0<=j;j--)locals={},locals[$select.parserResult.itemName]=$select.selected[j],result=$select.parserResult.modelMapper(scope,locals),resultMultiple.unshift(result);return resultMultiple}),ngModel.$formatters.unshift(function(inputValue){var data=$select.parserResult.source(scope,{$select:{search:""}}),locals={},result;if(!data)return inputValue;var resultMultiple=[],checkFnMultiple=function(list,value){if(list&&list.length){for(var p=list.length-1;0<=p;p--){if(locals[$select.parserResult.itemName]=list[p],result=$select.parserResult.modelMapper(scope,locals),$select.parserResult.trackByExp){var propsItemNameMatches=/(\w*)\./.exec($select.parserResult.trackByExp),matches=/\.([^\s]+)/.exec($select.parserResult.trackByExp);if(propsItemNameMatches&&0<propsItemNameMatches.length&&propsItemNameMatches[1]==$select.parserResult.itemName&&matches&&0<matches.length&&result[matches[1]]==value[matches[1]])return resultMultiple.unshift(list[p]),!0}if(angular.equals(result,value))return resultMultiple.unshift(list[p]),!0}return!1}};if(!inputValue)return resultMultiple;for(var k=inputValue.length-1;0<=k;k--)checkFnMultiple($select.selected,inputValue[k])||checkFnMultiple(data,inputValue[k])||resultMultiple.unshift(inputValue[k]);return resultMultiple}),scope.$watchCollection(function(){return ngModel.$modelValue},function(newValue,oldValue){oldValue!=newValue&&(ngModel.$modelValue=null,$selectMultiple.refreshComponent())}),ngModel.$render=function(){if(!angular.isArray(ngModel.$viewValue))if(angular.isUndefined(ngModel.$viewValue)||null===ngModel.$viewValue)$select.selected=[];else throw uiSelectMinErr("multiarr","Expected model value to be array but got '{0}'",ngModel.$viewValue);$select.selected=ngModel.$viewValue,$selectMultiple.refreshComponent(),scope.$evalAsync()},scope.$on("uis:select",function(event,item){$select.selected.length>=$select.limit||($select.selected.push(item),$selectMultiple.updateModel())}),scope.$on("uis:activate",function(){$select.resetBlurTimeout(),$selectMultiple.activeMatchIndex=-1}),scope.$watch("$select.disabled",function(newValue,oldValue){oldValue&&!newValue&&$select.sizeSearchInput()}),$select.searchInput.on("keydown",function(e){var key=e.which;scope.$apply(function(){var processed=!1;KEY.isHorizontalMovement(key)&&(processed=_handleMatchSelection(key)),processed&&key!=KEY.TAB&&(e.preventDefault(),e.stopPropagation())})}),$select.searchInput.on("keyup",function(e){if(KEY.isVerticalMovement(e.which)||scope.$evalAsync(function(){$select.activeIndex=!1!==$select.taggingLabel&&$select.firstItemActive?0:-1}),$select.tagging.isActivated&&0<$select.search.length){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||KEY.isVerticalMovement(e.which))return;if($select.activeIndex=!1!==$select.taggingLabel&&$select.firstItemActive?0:-1,!1===$select.taggingLabel)return;var items=angular.copy($select.items),stashArr=angular.copy($select.items),hasTag=!1,dupeIndex=-1,newItem,item,tagItems,tagItem;if(void 0!==$select.tagging.fct){if(tagItems=$select.$filter("filter")(items,{isTag:!0}),0<tagItems.length&&(tagItem=tagItems[0]),0<items.length&&tagItem&&(hasTag=!0,items=items.slice(1,items.length),stashArr=stashArr.slice(1,stashArr.length)),newItem=$select.tagging.fct($select.search),stashArr.some(function(origItem){return angular.equals(origItem,$select.tagging.fct($select.search))})||$select.selected.some(function(origItem){return angular.equals(origItem,newItem)}))return void scope.$evalAsync(function(){$select.activeIndex=0,$select.items=items});newItem.isTag=!0}else{if(tagItems=$select.$filter("filter")(items,function(item){return item.match($select.taggingLabel)}),0<tagItems.length&&(tagItem=tagItems[0]),item=items[0],void 0!==item&&0<items.length&&tagItem&&(hasTag=!0,items=items.slice(1,items.length),stashArr=stashArr.slice(1,stashArr.length)),newItem=$select.search+" "+$select.taggingLabel,-1<_findApproxDupe($select.selected,$select.search))return;if(_findCaseInsensitiveDupe(stashArr.concat($select.selected)))return void(hasTag&&(items=stashArr,scope.$evalAsync(function(){$select.activeIndex=$select.firstItemActive?0:-1,$select.items=items})));if(_findCaseInsensitiveDupe(stashArr))return void(hasTag&&($select.items=stashArr.slice(1,stashArr.length)))}hasTag&&(dupeIndex=_findApproxDupe($select.selected,newItem)),-1<dupeIndex?items=items.slice(dupeIndex+1,items.length-1):(items=[],items.push(newItem),items=items.concat(stashArr)),scope.$evalAsync(function(){$select.activeIndex=$select.firstItemActive?0:-1,$select.items=items})}}),$select.searchInput.on("blur",function(){$timeout(function(){$selectMultiple.activeMatchIndex=-1})})}}}]),uis.directive("uiSelectSingle",["$timeout","$compile",function($timeout,$compile){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function link(scope,element,attrs,ctrls){var $select=ctrls[0],ngModel=ctrls[1];ngModel.$parsers.unshift(function(inputValue){var locals={},result;return locals[$select.parserResult.itemName]=inputValue,result=$select.parserResult.modelMapper(scope,locals),result}),ngModel.$formatters.unshift(function(inputValue){var data=$select.parserResult.source(scope,{$select:{search:""}}),locals={},result;if(data){var checkFnSingle=function(d){return locals[$select.parserResult.itemName]=d,result=$select.parserResult.modelMapper(scope,locals),result==inputValue};if($select.selected&&checkFnSingle($select.selected))return $select.selected;for(var i=data.length-1;0<=i;i--)if(checkFnSingle(data[i]))return data[i]}return inputValue}),scope.$watch("$select.selected",function(newValue){ngModel.$viewValue!==newValue&&ngModel.$setViewValue(newValue)}),ngModel.$render=function(){$select.selected=ngModel.$viewValue},scope.$on("uis:select",function(event,item){$select.selected=item}),scope.$on("uis:close",function(event,skipFocusser){$timeout(function(){$select.focusser.prop("disabled",!1),skipFocusser||$select.focusser[0].focus()},0,!1)}),scope.$on("uis:activate",function(){focusser.prop("disabled",!0)});var focusser=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");$compile(focusser)(scope),$select.focusser=focusser,$select.focusInput=focusser,element.parent().append(focusser),focusser.bind("focus",function(){scope.$evalAsync(function(){$select.focus=!0})}),focusser.bind("blur",function(){scope.$evalAsync(function(){$select.focus=!1})}),focusser.bind("keydown",function(e){return e.which===KEY.BACKSPACE?(e.preventDefault(),e.stopPropagation(),$select.select(void 0),void scope.$apply()):void(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||((e.which==KEY.DOWN||e.which==KEY.UP||e.which==KEY.ENTER||e.which==KEY.SPACE)&&(e.preventDefault(),e.stopPropagation(),$select.activate()),scope.$digest()))}),focusser.bind("keyup input",function(e){e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||e.which==KEY.ENTER||e.which===KEY.BACKSPACE||($select.activate(focusser.val()),focusser.val(""),scope.$digest())})}}}]),uis.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function($timeout,uiSelectConfig,uiSelectMinErr){return{require:"^^uiSelect",link:function link(scope,element,attrs,$select){function distance(c1,c2){return Math.sqrt(_Mathpow2(c1.x-c2.x,2)+_Mathpow2(c1.y-c2.y,2))}function move(old_index,new_index){return this.splice(new_index,0,this.splice(old_index,1)[0]),this}function cleanCursor(){_.each(positions,function(pos){pos.item.removeClass(droppingAfterClassName),pos.item.removeClass(droppingBeforeClassName)})}if(null===scope[attrs.uiSelectSort])throw uiSelectMinErr("sort","Expected a list to sort");var draggingClassName="dragging",droppingBeforeClassName="dropping-before",droppingAfterClassName="dropping-after";scope.$watch(function(){return $select.sortable},function(newValue){newValue?element.attr("draggable",!0):element.removeAttr("draggable")});var container=element.closest(".ui-select-container"),positions=[],dragOverHandler=function(event){event.stopPropagation(),event.preventDefault();var eventPos={x:event.originalEvent.pageX,y:event.originalEvent.pageY};if(0<positions.length){var distances=_.map(positions,function(pos){return{pos:pos,distance:distance(eventPos,pos.coors)}}),pos=_.min(distances,function(d){return d.distance}).pos;cleanCursor(),"left"==pos.position?(pos.item.addClass(droppingBeforeClassName),newIndex=droppedItemIndex+1<=pos.index?pos.index-1:pos.index,0>newIndex&&(newIndex=0)):(pos.item.addClass(droppingAfterClassName),newIndex=droppedItemIndex>=pos.index+1?pos.index+1:pos.index),lastPos=pos}},dropHandler=function(){-1<newIndex&&droppedItemIndex!=newIndex&&($timeout.cancel(dropTimeout),dropTimeout=$timeout(function(){var theList=scope.$eval(attrs.uiSelectSort),itemToMove=theList[droppedItemIndex];move.apply(theList,[droppedItemIndex,newIndex]),scope.$apply(function(){$select.sizeSearchInput(),scope.$emit("uiSelectSort:change",{id:$select.elementId,array:theList,item:itemToMove,from:droppedItemIndex,to:newIndex})})}))},droppedItemIndex,newIndex,lastPos,dropTimeout;element.on("dragstart",function(){$select.resetBlurTimeout(),droppedItemIndex=scope.$index,element.addClass(draggingClassName),positions=[],lastPos=void 0,$(document).on("dragover",function(){newIndex=-1,cleanCursor()}),container.on("dragover",dragOverHandler),_.each(container.find(".ui-select-match-item"),function(item,i){item=$(item),scope.$index!=i&&(positions.push({index:i,item:item,position:"left",coors:{x:item.offset().left,y:item.offset().top+item.outerHeight()/2}}),positions.push({index:i,item:item,position:"right",coors:{x:item.offset().left+item.outerWidth(),y:item.offset().top+item.outerHeight()/2}}))})}),element.on("dragend",function(){element.removeClass(draggingClassName),cleanCursor(),dropHandler(),$(document).off("dragover",cleanCursor),container.off("dragover",dragOverHandler)})}}}]),uis.service("uisRepeatParser",["uiSelectMinErr","$parse",function(uiSelectMinErr,$parse){var self=this;self.parse=function(expression){var match;if(match=expression.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!match)throw uiSelectMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);var source=match[5],filters="";if(match[3]){source=match[5].replace(/(^\()|(\)$)/g,"");var filterMatch=match[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);filterMatch&&filterMatch[1].trim()&&(filters=filterMatch[1],source=source.replace(filters,""))}return{itemName:match[4]||match[2],keyName:match[3],source:$parse(source),filters:filters,trackByExp:match[6],modelMapper:$parse(match[1]||match[4]||match[2]),repeatExpression:function repeatExpression(grouped){var expression=this.itemName+" in "+(grouped?"$group.items":"$select.items");return this.trackByExp&&(expression+=" track by "+this.trackByExp),expression}}},self.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])}(),angular.module("ui.select").run(["$templateCache",function($templateCache){$templateCache.put("bootstrap/choices.tpl.html","<ul class=\"ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu\" role=\"listbox\" ng-show=\"$select.open\"><li class=\"ui-select-choices-group\" id=\"ui-select-choices-{{ $select.generatedId }}\"><div class=\"divider\" ng-show=\"$select.isGrouped && $index > 0\"></div><div ng-show=\"$select.isGrouped\" class=\"ui-select-choices-group-label dropdown-header\" ng-bind=\"$group.name\"></div><div id=\"ui-select-choices-row-{{ $select.generatedId }}-{{$index}}\" class=\"ui-select-choices-row\" ng-class=\"{active: $select.isActive(this), disabled: $select.isDisabled(this)}\" role=\"option\"><a href=\"javascript:void(0)\" class=\"ui-select-choices-row-inner\"></a></div></li></ul>"),$templateCache.put("bootstrap/choices-custom.tpl.html","<ul class=\"ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu\" role=\"listbox\" ng-show=\"$select.open\">\n    <li ng-show=\"$select.search.length\" class=\"ui-select-choices-group\" id=\"ui-select-choices-{{ $select.generatedId }}\">\n        <div class=\"divider\" ng-show=\"$select.isGrouped && $index > 0\"></div>\n        <div ng-show=\"$select.isGrouped\" class=\"ui-select-choices-group-label dropdown-header\" ng-bind=\"$group.name\"></div>\n        <div id=\"ui-select-choices-row-{{ $select.generatedId }}-{{$index}}\" class=\"ui-select-choices-row\" ng-class=\"{active: $select.isActive(this), disabled: $select.isDisabled(this)}\" role=\"option\">\n            <a href=\"javascript:void(0)\" class=\"ui-select-choices-row-inner\"></a>\n        </div>\n    </li>\n    <span context-menu=\"menuOptions\" ng-show=\"!$select.search.length\">aoeu</span>\n</ul>"),$templateCache.put("bootstrap/match-multiple.tpl.html","<span class=\"ui-select-match\">\n    <span ng-repeat=\"$item in $select.selected\" ng-if=\"!$item.removeFromUi\" style='position: relative; display: inline-block'>\n        <span class='space-between-tags' \n              tag-context-menu=\"$select.menuOptions\"\n              tag-context-menu-ui-select-cursor-position='$index'></span>\n        <span class=\"ui-select-match-item btn btn-default btn-xs\" \n              tabindex=\"-1\" \n              type=\"button\" \n              ng-disabled=\"$select.disabled\"\n              ng-click=\"$selectMultiple.activeMatchIndex = $index;\"\n              ng-class=\"{'btn-primary':$selectMultiple.activeMatchIndex === $index, 'select-locked':$select.isLocked(this, $index), 'hltd': $item.hltd, 'invalid-match': !$item._isValid}\"\n              ui-select-sort=\"$select.selected\">\n            <span class=\"close ui-select-match-close\" \n                  ng-hide=\"$select.disabled || $select.selected[0].key == '$$row_number'\"\n                  ng-click=\"$selectMultiple.removeChoice($index);\">&nbsp;&times;</span>\n            <span class=\"uis-transclude-tag-content\" uis-transclude-append=\"\"></span>\n        </span>\n    </span>\n</span>"),$templateCache.put("bootstrap/match.tpl.html","<div class=\"ui-select-match\" ng-hide=\"$select.open\" ng-disabled=\"$select.disabled\"\n     ng-class=\"{'btn-default-focus':$select.focus}\"><span tabindex=\"-1\"\n                                                          class=\"btn btn-default form-control ui-select-toggle\"\n                                                          aria-label=\"{{ $select.baseTitle }} activate\"\n                                                          ng-disabled=\"$select.disabled\" ng-click=\"$select.activate()\"\n                                                          style=\"outline: 0;\"><span ng-show=\"$select.isEmpty()\"\n                                                                                    class=\"ui-select-placeholder text-muted\">{{$select.placeholder}}</span> <span\n        ng-hide=\"$select.isEmpty()\" class=\"ui-select-match-text pull-left\"\n        ng-class=\"{'ui-select-allow-clear': $select.allowClear && !$select.isEmpty()}\" ng-transclude=\"\"></span> <i\n        class=\"caret pull-right\" ng-click=\"$select.toggle($event)\"></i> <a\n        ng-show=\"$select.allowClear && !$select.isEmpty()\" aria-label=\"{{ $select.baseTitle }} clear\"\n        style=\"margin-right: 10px\" ng-click=\"$select.clear($event)\" class=\"btn btn-xs btn-link pull-right\"><i\n        class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\"></i></a></span></div>"),$templateCache.put("bootstrap/select-multiple.tpl.html","<div class=\"ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control\"\n     ng-class=\"{open: $select.open}\">\n    <div>\n        <div class=\"ui-select-match\"></div>\n        <input type=\"text\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\"\n               class=\"ui-select-search input-xs\" placeholder=\"{{$selectMultiple.getPlaceholder()}}\"\n               ng-disabled=\"$select.disabled\" ng-hide=\"$select.disabled\" ng-click=\"$select.activate()\"\n               ng-model=\"$select.search\" role=\"combobox\" aria-label=\"{{ $select.baseTitle }}\" ondrop=\"return false;\">\n    </div>\n    <div class=\"ui-select-choices\"></div>\n</div>"),$templateCache.put("bootstrap/custom-select-multiple.tpl.html","<div class=\"ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control\" ng-class=\"{open: $select.open}\">\n    <div>\n        <div class=\"ui-select-match\"></div>\n        <input type=\"text\" \n               autocomplete=\"off\" \n               autocorrect=\"off\" \n               autocapitalize=\"off\" \n               spellcheck=\"false\" \n               class=\"ui-select-search input-xs\"  \n               placeholder=\"{{$selectMultiple.getPlaceholder()}}\"   \n               ng-disabled=\"$select.disabled\" \n               ng-hide=\"$select.disabled\" \n               ng-model=\"$select.search\" \n               role=\"combobox\" \n               aria-label=\"{{ $select.baseTitle }}\" \n               tag-context-menu=\"$select.menuOptions\"\n               allow-event-propagation=\"true\"\n               ondrop=\"return false;\">\n    </div>\n    <div class=\"ui-select-choices\"></div>\n</div>"),$templateCache.put("bootstrap/select.tpl.html","<div class=\"ui-select-container ui-select-bootstrap dropdown\" ng-class=\"{open: $select.open}\"><div class=\"ui-select-match\"></div><input type=\"text\" autocomplete=\"off\" tabindex=\"-1\" aria-expanded=\"true\" aria-label=\"{{ $select.baseTitle }}\" aria-owns=\"ui-select-choices-{{ $select.generatedId }}\" aria-activedescendant=\"ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}\" class=\"form-control ui-select-search\" placeholder=\"{{$select.placeholder}}\" ng-model=\"$select.search\" ng-show=\"$select.searchEnabled && $select.open\"><div class=\"ui-select-choices\"></div></div>"),$templateCache.put("select2/choices.tpl.html","<ul class=\"ui-select-choices ui-select-choices-content select2-results\"><li class=\"ui-select-choices-group\" ng-class=\"{'select2-result-with-children': $select.choiceGrouped($group) }\"><div ng-show=\"$select.choiceGrouped($group)\" class=\"ui-select-choices-group-label select2-result-label\" ng-bind=\"$group.name\"></div><ul role=\"listbox\" id=\"ui-select-choices-{{ $select.generatedId }}\" ng-class=\"{'select2-result-sub': $select.choiceGrouped($group), 'select2-result-single': !$select.choiceGrouped($group) }\"><li role=\"option\" id=\"ui-select-choices-row-{{ $select.generatedId }}-{{$index}}\" class=\"ui-select-choices-row\" ng-class=\"{'select2-highlighted': $select.isActive(this), 'select2-disabled': $select.isDisabled(this)}\"><div class=\"select2-result-label ui-select-choices-row-inner\"></div></li></ul></li></ul>"),$templateCache.put("select2/match-multiple.tpl.html","<span class=\"ui-select-match\"><li class=\"ui-select-match-item select2-search-choice\"\n                                  ng-repeat=\"$item in $select.selected\"\n                                  ng-if=\"!$item.removeFromUi\"\n                                  ng-class=\"{'select2-search-choice-focus':$selectMultiple.activeMatchIndex === $index, 'select2-locked':$select.isLocked(this, $index)}\"\n                                  ui-select-sort=\"$select.selected\"><span uis-transclude-append=\"\"></span> <a\n        href=\"javascript:void(0);\" class=\"ui-select-match-close select2-search-choice-close\"\n        ng-click=\"$selectMultiple.removeChoice($index)\" tabindex=\"-1\"></a></li></span>"),$templateCache.put("select2/match.tpl.html","<a class=\"select2-choice ui-select-match\" ng-class=\"{'select2-default': $select.isEmpty()}\" ng-click=\"$select.toggle($event)\" aria-label=\"{{ $select.baseTitle }} select\"><span ng-show=\"$select.isEmpty()\" class=\"select2-chosen\">{{$select.placeholder}}</span> <span ng-hide=\"$select.isEmpty()\" class=\"select2-chosen\" ng-transclude=\"\"></span> <abbr ng-if=\"$select.allowClear && !$select.isEmpty()\" class=\"select2-search-choice-close\" ng-click=\"$select.clear($event)\"></abbr> <span class=\"select2-arrow ui-select-toggle\"><b></b></span></a>"),$templateCache.put("select2/select-multiple.tpl.html","<div class=\"ui-select-container ui-select-multiple select2 select2-container select2-container-multi\" ng-class=\"{'select2-container-active select2-dropdown-open open': $select.open, 'select2-container-disabled': $select.disabled}\"><ul class=\"select2-choices\"><span class=\"ui-select-match\"></span><li class=\"select2-search-field\"><input type=\"text\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" role=\"combobox\" aria-expanded=\"true\" aria-owns=\"ui-select-choices-{{ $select.generatedId }}\" aria-label=\"{{ $select.baseTitle }}\" aria-activedescendant=\"ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}\" class=\"select2-input ui-select-search\" placeholder=\"{{$selectMultiple.getPlaceholder()}}\" ng-disabled=\"$select.disabled\" ng-hide=\"$select.disabled\" ng-model=\"$select.search\" ng-click=\"$select.activate()\" style=\"width: 34px;\" ondrop=\"return false;\"></li></ul><div class=\"ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active\" ng-class=\"{'select2-display-none': !$select.open}\"><div class=\"ui-select-choices\"></div></div></div>"),$templateCache.put("select2/select.tpl.html","<div class=\"ui-select-container select2 select2-container\" ng-class=\"{'select2-container-active select2-dropdown-open open': $select.open, 'select2-container-disabled': $select.disabled, 'select2-container-active': $select.focus, 'select2-allowclear': $select.allowClear && !$select.isEmpty()}\"><div class=\"ui-select-match\"></div><div class=\"ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active\" ng-class=\"{'select2-display-none': !$select.open}\"><div class=\"select2-search\" ng-show=\"$select.searchEnabled\"><input type=\"text\" autocomplete=\"off\" autocorrect=\"false\" autocapitalize=\"off\" spellcheck=\"false\" role=\"combobox\" aria-expanded=\"true\" aria-owns=\"ui-select-choices-{{ $select.generatedId }}\" aria-label=\"{{ $select.baseTitle }}\" aria-activedescendant=\"ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}\" class=\"ui-select-search select2-input\" ng-model=\"$select.search\"></div><div class=\"ui-select-choices\"></div></div></div>"),$templateCache.put("selectize/choices.tpl.html","<div ng-show=\"$select.open\" class=\"ui-select-choices ui-select-dropdown selectize-dropdown single\"><div class=\"ui-select-choices-content selectize-dropdown-content\"><div class=\"ui-select-choices-group optgroup\" role=\"listbox\"><div ng-show=\"$select.isGrouped\" class=\"ui-select-choices-group-label optgroup-header\" ng-bind=\"$group.name\"></div><div role=\"option\" class=\"ui-select-choices-row\" ng-class=\"{active: $select.isActive(this), disabled: $select.isDisabled(this)}\"><div class=\"option ui-select-choices-row-inner\" data-selectable=\"\"></div></div></div></div></div>"),$templateCache.put("selectize/match.tpl.html","<div ng-hide=\"($select.open || $select.isEmpty())\" class=\"ui-select-match\" ng-transclude=\"\"></div>"),$templateCache.put("selectize/select.tpl.html","<div class=\"ui-select-container selectize-control single\" ng-class=\"{'open': $select.open}\"><div class=\"selectize-input\" ng-class=\"{'focus': $select.open, 'disabled': $select.disabled, 'selectize-focus' : $select.focus}\" ng-click=\"$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()\"><div class=\"ui-select-match\"></div><input type=\"text\" autocomplete=\"off\" tabindex=\"-1\" class=\"ui-select-search ui-select-toggle\" ng-click=\"$select.toggle($event)\" placeholder=\"{{$select.placeholder}}\" ng-model=\"$select.search\" ng-hide=\"!$select.searchEnabled || ($select.selected && !$select.open)\" ng-disabled=\"$select.disabled\" aria-label=\"{{ $select.baseTitle }}\"></div><div class=\"ui-select-choices\"></div></div>")}]),define("angular-ui-select",["angular"],function(){}),angular.module("jsonFormatter",["RecursionHelper"]).provider("JSONFormatterConfig",function(){var hoverPreviewEnabled=!1,hoverPreviewArrayCount=100,hoverPreviewFieldCount=5;return{get hoverPreviewEnabled(){return hoverPreviewEnabled},set hoverPreviewEnabled(value){hoverPreviewEnabled=!!value},get hoverPreviewArrayCount(){return hoverPreviewArrayCount},set hoverPreviewArrayCount(value){hoverPreviewArrayCount=parseInt(value,10)},get hoverPreviewFieldCount(){return hoverPreviewFieldCount},set hoverPreviewFieldCount(value){hoverPreviewFieldCount=parseInt(value,10)},$get:function $get(){return{hoverPreviewEnabled:hoverPreviewEnabled,hoverPreviewArrayCount:hoverPreviewArrayCount,hoverPreviewFieldCount:hoverPreviewFieldCount}}}}).directive("jsonFormatter",["RecursionHelper","JSONFormatterConfig",function(RecursionHelper,JSONFormatterConfig){function escapeString(str){return str.replace("\"","\"")}function getObjectName(object){if(object===void 0)return"";if(null===object)return"{}";if("object"===("undefined"==typeof object?"undefined":_typeof2(object))&&!object.constructor)return"{}";var funcNameRegex=/function (.{1,})\(/,results=funcNameRegex.exec(object.constructor.toString());return results&&1<results.length?"Object"==results[1]?"{}":"":""}function getType(object){return null===object?"null":"undefined"==typeof object?"undefined":_typeof2(object)}function getValuePreview(object,value){var type=getType(object);return"null"===type||"undefined"===type?type:("string"===type&&(value="\""+escapeString(value)+"\""),"function"===type?object.toString().replace(/[\r\n]/g,"").replace(/\{.*\}/,"")+"{\u2026}":value)}function getPreview(object){var value="";return angular.isObject(object)?(value=getObjectName(object),angular.isArray(object)&&(value+="["+object.length+"]")):value=getValuePreview(object,object),value}function link(scope){scope.isArray=function(){return angular.isArray(scope.json)},scope.isObject=function(){return angular.isObject(scope.json)},scope.getKeys=function(){if(scope.isObject())return Object.keys(scope.json).map(function(key){return""===key?"\"\"":key})},scope.type=getType(scope.json),scope.hasKey="undefined"!=typeof scope.key,scope.getConstructorName=function(){return getObjectName(scope.json)},"string"===scope.type&&("Invalid Date"!==new Date(scope.json).toString()&&(scope.isDate=!0),0===scope.json.indexOf("http")&&(scope.isUrl=!0)),scope.isEmptyObject=function(){return scope.getKeys()&&!scope.getKeys().length&&scope.isOpen&&!scope.isArray()},scope.isOpen=!!scope.open,scope.toggleOpen=function(){scope.isOpen=!scope.isOpen},scope.childrenOpen=function(){return 1<scope.open?scope.open-1:0},scope.openLink=function(isUrl){isUrl&&(window.location.href=scope.json)},scope.parseValue=function(value){return getValuePreview(scope.json,value)},scope.showThumbnail=function(){return!!JSONFormatterConfig.hoverPreviewEnabled&&scope.isObject()&&!scope.isOpen},scope.getThumbnail=function(){if(scope.isArray())return scope.json.length>JSONFormatterConfig.hoverPreviewArrayCount?"[\u2026] + ("+scope.json.length+" items)":"["+scope.json.map(getPreview).join(", ")+"]";var keys=scope.getKeys(),narrowKeys=keys.slice(0,JSONFormatterConfig.hoverPreviewFieldCount),kvs=narrowKeys.map(function(key){return key+":"+getPreview(scope.json[key])}),ellipsis=5<=keys.length?"\u2026":"";return"{"+kvs.join(", ")+ellipsis+"}"}}return{templateUrl:"json-formatter.html",restrict:"E",replace:!0,scope:{json:"=",key:"=",open:"="},compile:function compile(element){return RecursionHelper.compile(element,link)}}}]),"object"===("undefined"==typeof module?"undefined":_typeof2(module))&&(module.exports="jsonFormatter"),angular.module("RecursionHelper",[]).factory("RecursionHelper",["$compile",function($compile){return{compile:function compile(element,link){angular.isFunction(link)&&(link={post:link});var contents=element.contents().remove(),compiledContents;return{pre:link&&link.pre?link.pre:null,post:function post(scope,element){compiledContents||(compiledContents=$compile(contents)),compiledContents(scope,function(clone){element.append(clone)}),link&&link.post&&link.post.apply(null,arguments)}}}}}]),angular.module("jsonFormatter").run(["$templateCache",function($templateCache){$templateCache.put("json-formatter.html","<div ng-init=\"isOpen = open && open > 0\" class=\"json-formatter-row\"><a ng-click=\"toggleOpen()\"><span class=\"toggler {{isOpen ? 'open' : ''}}\" ng-if=\"isObject()\"></span> <span class=\"toggler-whitespace\" ng-if=\"!isObject()\"></span> <span class=\"key\" ng-if=\"hasKey\"><span class=\"key-text\">{{key}}</span><span class=\"colon\">:</span></span> <span class=\"value\"><span ng-if=\"isObject()\"><span class=\"constructor-name\">{{getConstructorName(json)}}</span> <span ng-if=\"isArray()\"><span class=\"bracket\">[</span><span class=\"number\">{{json.length}}</span><span class=\"bracket\">]</span></span></span> <span ng-if=\"!isObject()\" ng-click=\"openLink(isUrl)\" class=\"{{type}}\" ng-class=\"{date: isDate, url: isUrl}\">{{parseValue(json)}}</span></span> <span ng-if=\"showThumbnail()\" class=\"thumbnail-text\">{{getThumbnail()}}</span></a><div class=\"children\" ng-if=\"getKeys().length && isOpen\"><json-formatter ng-repeat=\"key in getKeys() track by $index\" json=\"json[key]\" key=\"key\" open=\"childrenOpen()\"></json-formatter></div><div class=\"children empty object\" ng-if=\"isEmptyObject()\"></div><div class=\"children empty array\" ng-if=\"getKeys() && !getKeys().length && isOpen && isArray()\"></div></div>")}]),define("json-formatter",["angular"],function(){}),function(root,pluralize){"function"==typeof require&&"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof2(module))?module.exports=pluralize():"function"==typeof define&&define.amd?define("pluralize",[],function(){return pluralize()}):root.pluralize=pluralize()}(this,function(){function toTitleCase(str){return str.charAt(0).toUpperCase()+str.substr(1).toLowerCase()}function sanitizeRule(rule){return"string"==typeof rule?new RegExp("^"+rule+"$","i"):rule}function restoreCase(word,token){return word===word.toUpperCase()?token.toUpperCase():word[0]===word[0].toUpperCase()?toTitleCase(token):token.toLowerCase()}function interpolate(str,args){return str.replace(/\$(\d{1,2})/g,function(match,index){return args[index]||""})}function sanitizeWord(token,word,collection){if(!token.length||uncountables.hasOwnProperty(token))return word;for(var len=collection.length,rule;len--;)if(rule=collection[len],rule[0].test(word))return word.replace(rule[0],function(match,index,word){var result=interpolate(rule[1],arguments);return""===match?restoreCase(word[index-1],result):restoreCase(match,result)});return word}function replaceWord(replaceMap,keepMap,rules){return function(word){var token=word.toLowerCase();return keepMap.hasOwnProperty(token)?restoreCase(word,token):replaceMap.hasOwnProperty(token)?restoreCase(word,replaceMap[token]):sanitizeWord(token,word,rules)}}function pluralize(word,count,inclusive){var pluralized=1===count?pluralize.singular(word):pluralize.plural(word);return(inclusive?count+" ":"")+pluralized}var pluralRules=[],singularRules=[],uncountables={},irregularPlurals={},irregularSingles={};return pluralize.plural=replaceWord(irregularSingles,irregularPlurals,pluralRules),pluralize.singular=replaceWord(irregularPlurals,irregularSingles,singularRules),pluralize.addPluralRule=function(rule,replacement){pluralRules.push([sanitizeRule(rule),replacement])},pluralize.addSingularRule=function(rule,replacement){singularRules.push([sanitizeRule(rule),replacement])},pluralize.addUncountableRule=function(word){return"string"==typeof word?void(uncountables[word.toLowerCase()]=!0):void(pluralize.addPluralRule(word,"$0"),pluralize.addSingularRule(word,"$0"))},pluralize.addIrregularRule=function(single,plural){plural=plural.toLowerCase(),single=single.toLowerCase(),irregularSingles[single]=plural,irregularPlurals[plural]=single},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach(function(rule){return pluralize.addIrregularRule(rule[0],rule[1])}),[[/s?$/i,"s"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(rule){return pluralize.addPluralRule(rule[0],rule[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(?:sis|ses)$/i,"$1sis"],[/(^analy)(?:sis|ses)$/i,"$1sis"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(e[mn]u)s?$/i,"$1"],[/(movie|twelve)s$/i,"$1"],[/(cris|test|diagnos)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(rule){return pluralize.addSingularRule(rule[0],rule[1])}),["advice","adulthood","agenda","aid","alcohol","ammo","athletics","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","commerce","cod","cooperation","corps","digestion","debris","diabetes","energy","equipment","elk","excretion","expertise","flounder","fun","gallows","garbage","graffiti","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","news","pike","plankton","pliers","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","trout","traffic","transporation","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pox$/i,/ois$/i,/deer$/i,/fish$/i,/sheep$/i,/measles$/i,/[^aeiou]ese$/i].forEach(pluralize.addUncountableRule),pluralize}),function($){function getCaret(element){if(element.selectionStart)return element.selectionStart;if(document.selection){element.focus();var r=document.selection.createRange();if(null==r)return 0;var re=element.createTextRange(),rc=re.duplicate();return re.moveToBookmark(r.getBookmark()),rc.setEndPoint("EndToStart",re),rc.text.length}return 0}var defaults={allowFloat:!1,allowNegative:!1};$.fn.numericInput=function(options){var settings=$.extend({},defaults,options),allowFloat=settings.allowFloat,allowNegative=settings.allowNegative;return this.keypress(function(event){var inputCode=event.which,currentValue=$(this).val();if(0<inputCode&&(48>inputCode||57<inputCode)){if(!0==allowFloat&&46==inputCode){if(!0==allowNegative&&0==getCaret(this)&&"-"==currentValue.charAt(0))return!1;if(currentValue.match(/[.]/))return!1}else if(!0==allowNegative&&45==inputCode){if("-"==currentValue.charAt(0))return!1;if(0!=getCaret(this))return!1}else return 8==inputCode;}else if(0<inputCode&&48<=inputCode&&57>=inputCode&&!0==allowNegative&&"-"==currentValue.charAt(0)&&0==getCaret(this))return!1}),this}}(jQuery),define("numericInput",["jquery"],function(){}),angular.module("templates-angularcronjobs",["cronselection.html"]),angular.module("cronselection.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("cronselection.html","<div class=\"cron-wrap\">\n    <div class='schedule-status' style='display:flex'>\n        <div class='highlighted-var refresh-settings-label'>Refresh settings:</div>\n        <div class=\"cron-select-wrap\" uib-dropdown>\n            <span>\n                <div ng-if=\"myFrequency\" class=\"select-options\">\n                    <span ng-if=\"myFrequency.base >= 5\">on the </span>\n                    <div ng-if=\"myFrequency.base >= 5\" class=\"cron-select-wrap\">\n                        <!-- If Multiple is Enabled -->\n                        <!-- If Multiple is not Enabled -->\n                        <div class=\"cron-select day-of-month-value\" uib-dropdown><span uib-dropdown-toggle><u>{{myFrequency.dayOfMonthValues | cronNumeral}}</u></span>\n                            <ul class='dropdown-menu tool-bar-dropdown flexible-space-dropdown timezone-dropdown'\n                                role=\"menu\"\n                                uib-dropdown-menu>\n                                <li ng-repeat=\"value in dayOfMonthValues\"\n                                    ng-click='changeSelect(value, \"dayOfMonthValues\")'>\n                                    <a>{{value | cronNumeral}}</a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                    <span ng-if=\"myFrequency.base == 6\">of </span>\n                    <!-- If Multiple is Enabled -->\n                    <div ng-if=\"myFrequency.base == 6\" class=\"cron-select-wrap\">\n                        <div class=\"cron-select month-value\" uib-dropdown><span uib-dropdown-toggle><u>{{myFrequency.monthValues | cronMonthName}}</u></span>\n                            <ul class='dropdown-menu tool-bar-dropdown flexible-space-dropdown timezone-dropdown'\n                                role=\"menu\"\n                                uib-dropdown-menu>\n                                <li ng-repeat=\"value in monthValues\" ng-click='changeSelect(value, \"monthValues\")'>\n                                    <a>{{value | cronMonthName}}</a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                    <span ng-if=\"myFrequency.base >= 2\">{{getLabelByBase(myFrequency)}} at </span>\n                    <!-- If Multiple is Enabled -->\n                    <div ng-if=\"myFrequency.base >= 3\" class=\"cron-select-wrap\" uib-dropdown>\n                        <input type=\"text\" class=\"input-time\"\n                               ng-click=\"selectText($event)\"\n                               ng-model=\"myFrequency.displayTime\"\n                               ng-enter=\"enterCallback()\"\n                               ng-model-options=\"{updateOn: 'change'}\"\n                               ng-change=\"onTimeChanged(myFrequency.displayTime, '{{myFrequency.displayTime}}')\"\n                               uib-dropdown-toggle>\n                        <ul class='dropdown-menu tool-bar-dropdown flexible-space-dropdown timezone-dropdown time-helper-dropdown'\n                            role=\"menu\" uib-dropdown-menu>\n                                <li ng-repeat=\"time in timeHelper\" ng-click=\"onTimeChanged(time)\">{{time}}</li>\n                        </ul>\n                    </div>\n                    <!-- If Multiple is Enabled -->\n                    <div ng-if=\"myFrequency.base === 2\" class=\"cron-select-wrap\">\n                        <input class=\"minute-value\"\n                               type=\"number\"\n                               ng-click=\"selectText($event)\"\n                               ng-model='myFrequency.minuteValues'\n                               ng-change='changeSelect(myFrequency.minuteValues, \"minuteValues\")'/></div>\n                    <span ng-if=\"myFrequency.base == 2\"> min past the hour</span>\n                    <span ng-transclude=\"timezone\"></span>\n                    <span ng-if=\"myFrequency.base == 4\">on </span>\n                    <div ng-if=\"myFrequency.base == 4\" class=\"cron-select-wrap\">\n                        <div class=\"cron-select day-value\" uib-dropdown>\n                            <input uib-dropdown-toggle\n                                   class=\"schedule-select day-input\"\n                                   readonly\n                                   ng-click=\"selectText($event)\"\n                                   onBlur=\"this.setSelectionRange(0, 0)\"\n                                   ng-value=\"myFrequency.dayValues | cronDayName\"/>\n                            <ul class='dropdown-menu tool-bar-dropdown flexible-space-dropdown timezone-dropdown'\n                                role=\"menu\"\n                                uib-dropdown-menu>\n                                <li ng-repeat=\"value in dayValues\" ng-click='changeSelect(value, \"dayValues\")'>\n                                    <i class=\"timezone-checkmark\" ng-if=\"myFrequency.dayValues === value\"></i>\n                                    <div class=\"timezone-info\">{{value | cronDayName}}</div>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n                <span class=\"caret-wrapper\" tabindex=\"0\" ng-click=\"toggleCronDropdown()\"\n                      click-out=\"hideCronDropdown()\"\n                      click-out-excluding-classes=\"['cron-main-dropdown']\">\n                <span ng-if=\"!myFrequency\">never</span>\n                    <span class=\"caret\"></span>\n                </span>\n            </span>\n            <ul class='timezone-dropdown cron-main-dropdown tool-bar-dropdown flexible-space-dropdown dropdown-menu dropdown-menu-right'\n                role=\"menu\" ng-show=\"cronDropdownOpened\">\n                <li ng-click='resetSelect(); hideCronDropdown()'>\n                    <i class=\"timezone-checkmark\" ng-if=\"!myFrequency\"></i>\n                    <div class=\"timezone-info\">never</div>\n                </li>\n                <li ng-repeat=\"item in frequency | filter:{hidden: false}\"\n                    ng-click='changeSelect(item.value, \"base\"); hideCronDropdown()'>\n                    <i class=\"timezone-checkmark\" ng-if=\"myFrequency.base === item.value\"></i>\n                    <div class=\"timezone-info\">{{item.label}}</div>\n                </li>\n            </ul>\n        </div>\n    </div>\n</div>")}]),angular.module("angular-cron-jobs",["templates-angularcronjobs"]),define("angular-cron-jobs",["moment","lodash"],function(moment,_){angular.module("angular-cron-jobs").directive("cronSelection",["cronService",function(cronService){return{restrict:"EA",replace:!0,transclude:{timezone:"?timezone"},require:"ngModel",scope:{ngModel:"=",config:"=",myFrequency:"=?frequency",timezone:"="},templateUrl:function templateUrl(element,attributes){return attributes.template||"cronselection.html"},link:function link($scope,$el,$attr,$ngModel){function retrieveHourDetailInfo(){var cron=$scope.ngModel.replace(/\s+/g," ").split(" "),timePeriod=12<=parseInt(cron[2])?"pm":"am",hours=(parseInt(cron[2])+11)%12+1;return{hours:hours,timePeriod:timePeriod}}function setInitialValuesForBase(freq){freq.base=parseInt(freq.base),2<=freq.base&&(freq.minuteValues=$scope.minuteValues[0]),3<=freq.base&&(freq.hourValues=$scope.hourValues[$scope.hourValues.length-1]),4==freq.base&&(freq.dayValues=$scope.dayValues[0]),5<=freq.base&&(freq.dayOfMonthValues=$scope.dayOfMonthValues[0]),6==freq.base&&(freq.monthValues=$scope.monthValues[0])}var TIME_FORMAT="h:mma",WEEK_DAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],modelChanged=!1;if($scope.getLabelByBase=function(frequency){var currentFrequency=$scope.frequency.find(function(freq){return freq.value===frequency.base});if(currentFrequency)return currentFrequency.label},$scope.enterCallback=function(){var activeElement=angular.element(document.activeElement);activeElement&&(activeElement.hasClass("input-time")||activeElement.hasClass("schedule-select"))&&activeElement.blur()},$scope.selectText=function(e){e.target&&e.target.select()},$scope.frequency=[{value:1,label:"each minute",hidden:!1},{value:2,label:"hourly",description:function description(){return this.label+" at "+$scope.myFrequency.minuteValues+" past the hour"},hidden:!1},{value:3,label:"daily",description:function description(){var _retrieveHourDetailIn=retrieveHourDetailInfo(),hours=_retrieveHourDetailIn.hours,timePeriod=_retrieveHourDetailIn.timePeriod;return this.label+" at "+hours+timePeriod+" "+$scope.timezone},hidden:!1},{value:4,label:"weekly",description:function description(){var _retrieveHourDetailIn2=retrieveHourDetailInfo(),hours=_retrieveHourDetailIn2.hours,timePeriod=_retrieveHourDetailIn2.timePeriod;return this.label+" at "+hours+timePeriod+" "+$scope.timezone+" on "+WEEK_DAYS[$scope.myFrequency.dayValues]},hidden:!1},{value:5,label:"monthly",hidden:!1},{value:6,label:"annually",hidden:!1}],$scope.timeHelper=function(start,end){start||(start="12:00am"),end||(end="11:30pm");var startTime=moment(start,TIME_FORMAT),endTime=moment(end,TIME_FORMAT);if(!startTime.isValid()||!endTime.isValid())return void console.error("Invalid argument format. Expected format like: \"12:30am\".");endTime.isBefore(startTime)&&endTime.add(1,"day");for(var timeStops=[];startTime<=endTime;)timeStops.push(new moment(startTime).format(TIME_FORMAT)),startTime.add(30,"minutes");return timeStops}(),$scope.toggleCronDropdown=function(){$scope.cronDropdownOpened=!$scope.cronDropdownOpened},$scope.hideCronDropdown=function(){$scope.cronDropdownOpened=!1},$scope.$watch("ngModel",function(newValue){angular.isDefined(newValue)&&newValue?(modelChanged=!0,$scope.myFrequency=cronService.fromCron(newValue,$scope.allowMultiple)):(""===newValue||!newValue)&&($scope.myFrequency=void 0)}),$scope.resetSelect=function(){$scope.myFrequency=void 0},$scope.onTimeChanged=function(time,oldTime){var m=moment(time,[TIME_FORMAT,"ha","h"],!0),freq=$scope.myFrequency,defaultTime=_.omit(moment(freq.time).toObject(),["hours","minutes"]);return m.set(defaultTime),freq&&!m.isValid()?void(freq.displayTime=oldTime):void("h"===m.creationData().format&&"am"===m.format("a")&&m.add(12,"hours"),freq.time=m.toDate())},$scope.changeSelect=function(value,type){"undefined"==typeof $scope.myFrequency&&($scope.myFrequency=cronService.fromCron("0 * * * * *",$scope.allowMultiple)),$scope.myFrequency[type]=value},"object"===_typeof2($scope.config)&&!$scope.config.length){if("object"===_typeof2($scope.config.options)){var optionsKeyArray=Object.keys($scope.config.options);for(var i in optionsKeyArray){var currentKey=optionsKeyArray[i].replace(/^allow/,""),originalKey=optionsKeyArray[i];if(!$scope.config.options[originalKey])for(var b in $scope.frequency)$scope.frequency[b].label===currentKey&&($scope.frequency[b].hidden=!0)}}$scope.allowMultiple=!!angular.isDefined($scope.config.allowMultiple)&&$scope.config.allowMultiple}$scope.minuteValues=[0,5,10,15,20,25,30,35,40,45,50,55],$scope.hourValues=[1,2,3,4,5,6,7,8,9,10,11,12],$scope.dayOfMonthValues=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],$scope.dayValues=[0,1,2,3,4,5,6],$scope.monthValues=[1,2,3,4,5,6,7,8,9,10,11,12],$scope.$watch("myFrequency",function(n,o){if(void 0!==n){n&&n.base&&(!o||n.base!==o.base)&&!modelChanged?setInitialValuesForBase(n):n&&n.base&&o&&o.base&&(modelChanged=!1);var newVal=cronService.setCron(n);$ngModel.$setViewValue(newVal)}else $ngModel.$setViewValue(void 0)},!0)}}}]).filter("cronNumeral",function(){return function(input){return 1===input?"1st":2===input?"2nd":3===input?"3rd":21===input?"21st":22===input?"22nd":23===input?"23rd":31===input?"31st":null===input?null:input+"th"}}).filter("cronMonthName",function(){return function(input){var months={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"};return null!==input&&angular.isDefined(months[input])?months[input]:null}}).filter("cronDayName",function(){return function(input){var days={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"};return null!==input&&angular.isDefined(days[input])?days[input]:null}}).filter("cronTimeName",function(){return function(input){return(10>input||!input)&&null!==input?"0"+input:input}}),"use strict",angular.module("angular-cron-jobs").factory("cronService",function(){var service={},dayOfWeekAbbrs={MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6,SUN:0};return service.setCron=function(n){var cron=["*","*","*","*","*"];if(n&&n.base&&2<=n.base){n.time.getMinutes()!=n.minuteValues&&2==n.base&&n.time.setMinutes(n.minuteValues);var minutes=n.time.getMinutes();cron[0]="undefined"==typeof minutes?"*":minutes}if(n&&n.base&&3<=n.base){var hours=n.time.getHours();cron[1]="undefined"==typeof hours?"*":hours}return n&&n.base&&4===n.base&&(cron[4]=_.map(_.isArray(n.dayValues)?n.dayValues:[n.dayValues],function(d){return _.invert(dayOfWeekAbbrs)[d]})),n&&n.base&&5<=n.base&&(cron[2]="undefined"==typeof n.dayOfMonthValues?"*":n.dayOfMonthValues),n&&n.base&&6===n.base&&(cron[3]="undefined"==typeof n.monthValues?"*":n.monthValues),cron.unshift(0),cron.join(" ")},service.fromCron=function(value,allowMultiple){var cron=value.replace(/\s+/g," ").split(" ");cron.shift();var frequency={base:"1",time:new Date(1970,0,1,0,0,0)};if("*"===cron[0]&&"*"===cron[1]&&"*"===cron[2]&&"*"===cron[3]&&"*"===cron[4]?frequency.base=1:"*"===cron[1]&&"*"===cron[2]&&"*"===cron[3]&&"*"===cron[4]?frequency.base=2:"*"===cron[2]&&"*"===cron[3]&&"*"===cron[4]?frequency.base=3:"*"===cron[2]&&"*"===cron[3]?frequency.base=4:"*"===cron[3]&&"*"===cron[4]?frequency.base=5:"*"===cron[4]&&(frequency.base=6),"*"!==cron[0])if(allowMultiple){for(var tempArray=cron[0].split(","),i=0;i<tempArray.length;i++)tempArray[i]=+tempArray[i];frequency.minuteValues=tempArray}else frequency.time.setMinutes(parseInt(cron[0])),frequency.minuteValues=parseInt(cron[0]);if("*"!==cron[1])if(allowMultiple){for(var tempArray=cron[1].split(","),i=0;i<tempArray.length;i++)tempArray[i]=+tempArray[i];frequency.hourValues=tempArray}else frequency.time.setHours(parseInt(cron[1])),frequency.hourValues=parseInt(cron[1]),frequency.displayTime=moment(frequency.time).format("h:mma");if("*"!==cron[2])if(allowMultiple){for(var tempArray=cron[2].split(","),i=0;i<tempArray.length;i++)tempArray[i]=+tempArray[i];frequency.dayOfMonthValues=tempArray}else frequency.dayOfMonthValues=parseInt(cron[2]);if("*"!==cron[3])if(allowMultiple){for(var tempArray=cron[3].split(","),i=0;i<tempArray.length;i++)tempArray[i]=+tempArray[i];frequency.monthValues=tempArray}else frequency.monthValues=parseInt(cron[3]);if("*"!==cron[4])if(allowMultiple){for(var tempArray=cron[4].split(","),i=0;i<tempArray.length;i++)tempArray[i]=+tempArray[i];frequency.dayValues=tempArray}else frequency.dayValues=dayOfWeekAbbrs[cron[4]];return frequency},service})}),function(){angular.module("ui.bootstrap.tagContextMenu",[]).service("CustomService",function(){"use strict";return{initialize:function initialize(item){console.log("got here",item)}}}).directive("tagContextMenu",["$parse","$q","CustomService","$sce","$compile","$rootScope",function($parse,$q,custom,$sce,$compile,$rootScope){function isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints}var contextMenus=[],removeContextMenus=function(level){for(;contextMenus.length&&(!level||contextMenus.length>level);)contextMenus.pop().remove()},$sortButton=$("<div class=\"sort-button\"\n                uib-tooltip=\"{{alreadySorted \n                    ? 'Sorted alphabetically, click to Sort by column index' \n                    : 'Sorted by column index, click to sort alphabetically'}}\"\n                tooltip-placement=\"top-right\"\n                tooltip-popup-delay=\"250\"\n                tooltip-append-to-body=\"true\"\n                tooltip-class=\"main-page-tooltip tooltip-sort-button\">"),processTextItem=function($scope,item,text,event,modelValue,$promises,nestedMenu,$){"use strict";var $a=$("<a>");if($a.css({"padding-right":"8px","padding-left":"27px",position:"relative",overflow:"hidden","text-overflow":"ellipsis"}),$a.attr({tabindex:"-1",href:"#"}),"object"===_typeof2(item[0])){if(item[0].getPreHtml){var el=$(item[0].getPreHtml());el.css({position:"absolute",left:"5px",top:"5px"}),$a.append(el)}text=item[0].getTitleHtml?$(item[0].getTitleHtml()):item[0].title}else"string"==typeof item[0]?text=item[0]:"function"==typeof item[0]?text=item[0].call($scope,$scope,event,modelValue):"undefined"!=typeof item.text&&(text=item.text);var $promise=$q.when(text);return $promises.push($promise),$promise.then(function(text){nestedMenu&&($a.css("cursor","default"),$a.append($("<i style=\"float: right;margin-top: 5px;\" class=\"fa fa-chevron-right\"></i>"))),$a.append(text)}),$a},processItem=function($scope,event,modelValue,item,$ul,$li,$promises,$q,$,level,parentEl){"use strict";var nestedMenu=angular.isArray(item[1])||item[1]&&angular.isFunction(item[1].then)?item[1]:angular.isArray(item[2])||item[2]&&angular.isFunction(item[2].then)?item[2]:angular.isArray(item[3])||item[3]&&angular.isFunction(item[3].then)?item[3]:null,text="New Item";"function"==typeof item[0]||"string"==typeof item[0]||"object"===_typeof2(item[0])||"undefined"!=typeof item.text?(null!=item[0].id&&$li.attr({"tree-id":item[0].id}),text=processTextItem($scope,item,text,event,modelValue,$promises,nestedMenu,$)):"function"==typeof item.html?text=item.html($scope):"undefined"!=typeof item.html&&(text=item.html),$li.append(text);var isEnabled=function(){return"undefined"==typeof item.enabled?"function"!=typeof item[2]||item[2].call($scope,$scope,event,modelValue,text):item.enabled.call($scope,$scope,event,modelValue,text)};registerEnabledEvents($scope,isEnabled(),item,$ul,$li,nestedMenu,modelValue,text,event,$,level,parentEl)},handlePromises=function($ul,level,event,$promises){"use strict";$q.all($promises).then(function(){var topCoordinate=event.event?$(event.event.currentTarget).offset().top-8:event.pageY,menuHeight=angular.element($ul[0]).prop("offsetHeight"),winHeight=window.scrollY+event.view.innerHeight,leftCoordinate=event.pageX,menuWidth=angular.element($ul[0]).prop("offsetWidth"),winWidth=event.view.innerWidth,rightPadding=5;if(leftCoordinate>menuWidth&&winWidth-leftCoordinate-rightPadding<menuWidth)leftCoordinate=winWidth-menuWidth-rightPadding;else if(winWidth-leftCoordinate<menuWidth){var reduceThresholdX=5;leftCoordinate<reduceThresholdX+rightPadding&&(reduceThresholdX=leftCoordinate+rightPadding),leftCoordinate=winWidth-menuWidth-reduceThresholdX-rightPadding}$ul.css({display:"block",position:"absolute",left:leftCoordinate+"px",top:topCoordinate+"px","max-height":winHeight-topCoordinate-10+"px"})})},alreadySorted=!1,registerEnabledEvents=function($scope,enabled,item,$ul,$li,nestedMenu,modelValue,text,event,$,level,parentEl){if(enabled){var openNestedMenu=function($event,parent_$li){removeContextMenus(level+1);var ev={pageX:event.pageX+$ul[0].offsetWidth-1,pageY:$ul[0].offsetTop+$li[0].offsetTop-7,view:event.view||window,event:$event};$q.when(nestedMenu).then(function(promisedNestedMenu){renderContextMenu($scope,ev,promisedNestedMenu,modelValue,level+1,null,parent_$li)})};$li.on("click",function($event){1==$event.which&&($event.preventDefault(),$scope.$apply(function(){nestedMenu?openNestedMenu($event):angular.isFunction(item[1])?item[1].call($scope,$scope,event,modelValue,text,$li,parentEl):item.click.call($scope,$scope,event,modelValue,text,$li)}))}),$li.on("mouseover",function($event){$scope.$apply(function(){nestedMenu?openNestedMenu($event,$li):removeContextMenus(level+1)})})}else $li.on("click",function($event){$event.preventDefault()}),$li.addClass("disabled")},reCompileSortButton=function($scope){$(".tooltip-sort-button").remove(),$compile($sortButton)($scope),sortButtonCompiled=!1},sortButtonCompiled=!1,renderContextMenu=function($scope,event,options,modelValue,level,customClass,parentEl){function removeAllContextMenus(){$(document.body).unbind("mousedown.contextmenu"),$(document).unbind("scroll.contextmenu"),$(event.currentTarget).hasClass("context")&&($(event.currentTarget).removeClass("context"),removeContextMenus())}if(level||(level=0),!$)var $=angular.element;$(event.currentTarget).addClass("context");var $ul;$ul="$select"in $scope?$compile("<ul ng-hide=\"$select.open\"></ul>")($scope):$("<ul>"),$ul.addClass("dropdown-menu"),0===level?$ul.addClass("ui-select-choices"):$ul.addClass("context-submenu"),$ul.attr({role:"menu"}),$ul.css({display:"block",position:"absolute",left:event.pageX+"px",top:event.pageY+"px"});var $promises=[];$scope.showButton&&(!sortButtonCompiled&&$compile($sortButton)($scope),$ul.append($sortButton)),$scope.alreadySorted=alreadySorted,$sortButton.on("click",function(){sortButtonCompiled=!0;var selectDeselect=[],sort;_.each(options,function(value){void 0===value[0].name&&(selectDeselect=value)}),sort=_.filter(options,function(o){return o[0].name}),alreadySorted?(sort=_.sortBy(sort,function(o){return o[0].order}),alreadySorted=!1):(sort=_.sortBy(sort,function(o){return o[0].name}),alreadySorted=!0),options.splice(0,options.length),options.unshift(selectDeselect),_.each(sort,function(value){options.push(value)}),$sortButton.toggleClass("ascending",alreadySorted),$scope.$emit("refresh-context-menu"),$scope.$emit("update-show-me-list",_.rest(options),alreadySorted),reCompileSortButton($scope)}),angular.forEach(options,function(item){var $li=$("<li>");null===item?$li.addClass("divider"):"object"!==_typeof2(item[0])||item[0].getPreHtml?processItem($scope,event,modelValue,item,$ul,$li,$promises,$q,$,level,parentEl):custom.initialize($li,item),$ul.append($li)});Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);$(document).find("body").append($ul),handlePromises($ul,level,event,$promises),0===level&&($(document.body).bind("mousedown.contextmenu",function(e){$(e.target).hasClass("dropdown-menu")||$(e.target).parents().hasClass("dropdown-menu")||removeAllContextMenus(e)}),$(document).bind("scroll.contextmenu",function(e){removeAllContextMenus(e)})),$scope.$on("$destroy",function(){removeContextMenus()}),contextMenus.push($ul)};return function($scope,element,attrs){var openMenuEvent="click";attrs.tagContextMenuOn&&"string"==typeof attrs.tagContextMenuOn&&(openMenuEvent=attrs.tagContextMenuOn),attrs.tagContextMenuUiSelectCursorPosition&&($scope.uiSelectCursorPosition=$scope.$eval(attrs.tagContextMenuUiSelectCursorPosition)),$rootScope.$on("refresh-context-menu",function(){removeContextMenus(),$scope.lastEvent?$scope.$apply(function(){$scope.options=$scope.$eval(attrs.tagContextMenu).options;var customClass=attrs.tagContextMenuClass;if($scope.modelValue=$scope.$eval(attrs.model),$scope.options instanceof Array){if(0===$scope.options.length)return;renderContextMenu($scope,$scope.lastEvent,$scope.options,$scope.modelValue,void 0,customClass)}else throw"\""+attrs.tagContextMenu+"\" not an array"}):console.info("you must showing context menu, before refreshing")}),element.on(openMenuEvent,function(event){return attrs.allowEventPropagation||(event.stopPropagation(),event.preventDefault()),event.pageX=$(event.currentTarget).offset().left,event.pageY=$(event.currentTarget).offset().top+$(event.currentTarget).height()+8,!(isTouchDevice()&&"true"===element.attr("draggable"))&&void $scope.$apply(function(){$scope.options=$scope.$eval(attrs.tagContextMenu).options,$scope.showButton=$scope.$eval(attrs.tagContextMenu).isShowButton;var customClass=attrs.tagContextMenuClass;if($scope.modelValue=$scope.$eval(attrs.model),$scope.lastEvent=event,$scope.options instanceof Array){if(0===$scope.options.length)return;renderContextMenu($scope,event,$scope.options,$scope.modelValue,void 0,customClass)}else throw"\""+attrs.tagContextMenu+"\" not an array"})})}}])}(),define("tag-context-menu",["angular"],function(){}),define("cached-templates/templates-include",["angular"],function(angular){"use strict";return angular.module("templates-include",[]).run(["$templateCache",function($templateCache){$templateCache.put("static/templates/include/add-folder-pane.html","<div class=upload-item> <div class=col-md-6> <div class=first-column> <div class=icon> <div class=\"img folder\"></div> </div> <div class=name> <input class=new-folder-name ng-model=editedFolder.name> </div> <div class=add-folder-loader ng-if=loading> <svg class=spinner width=22px height=22px viewBox=\"0 0 66 66\" xmlns=http://www.w3.org/2000/svg> <circle class=path fill=none stroke-width=7 stroke-linecap=round cx=33 cy=33 r=30></circle> </svg> </div> </div> </div> <div class=col-md-3> <div class=second-column> &#8212; </div> </div> <div class=col-md-3> <div class=third-column></div> </div> </div>"),$templateCache.put("static/templates/include/add-source.html","<form class=\"delete-modal add-source-modal\" name=$parent.sourceForm novalidate> <div class=modal-header> <button type=button class=close ng-click=closeSourceModal()>&times;</button> <h4 class=modal-title> <span ng-show=externalDsTypeToReplace>{{'Replace Source \"' + externalDsTypeToReplace.name + '\"...'}}</span> <span ng-show=\"isEditDs && !externalDsTypeToReplace\" class=text-capitalize>{{externalFileParams.name + ' ('+$parent.externalDsType+')'}}</span> <span ng-show=\"!isEditDs && !externalDsTypeToReplace\">Add New Source</span> </h4> </div> <div class=modal-body ng-if=!externalDsSaved style=overflow-y:visible;max-height:none> <dl ng-show=!$parent.selectedUploads.length class=dl-horizontal style=margin-bottom:0> <dt>Source Type</dt> <dd> <div uib-dropdown append-to-body class=dropdown> <div uib-dropdown-toggle class=form-control style=cursor:pointer>{{$parent.externalDsType || 'Select Source Type'}}</div> <ul class=dropdown-menu uib-dropdown-menu> <li class=dropdown-menu-item ng-click=\"externalDsTypeSelected('File')\"><a>File</a></li> <li class=divider ng-click=$event.stopPropagation();></li> <li ng-if=\"t !== 'File'\" ng-click=externalDsTypeSelected(t) class=dropdown-menu-item ng-repeat=\"t in availableDsTypes | orderBy:t\"> <a ng-bind=t></a> </li> </ul> </div> </dd> </dl> <hr ng-show=\"externalDsType && !$parent.selectedUploads.length\" style=\"margin:40px 0\"> <dl class=dl-horizontal ng-show=isDbExternalDsTypeSelected()> <dt ng-if=isEditDs style=margin-top:0>Connection Name</dt> <dd ng-if=isEditDs> <div class=form-group> <input name=connection-name class=form-control ng-blur=onExternalConnectionNameBlur() ng-model=externalFileParams.name> </div> </dd> <dt>Host</dt> <dd> <div class=form-group> <input name=host class=form-control required ng-model=externalDsParams.host> <div ng-show=\"sourceForm.host.$error.required && sourceForm.host.$touched\" class=error>This field is required</div> </div> </dd> <dt>Port</dt> <dd> <div class=form-group> <input name=port class=form-control required ng-model=externalDsParams.port> <div ng-show=\"sourceForm.port.$error.required && sourceForm.port.$touched\" class=error>This field is required</div> </div> </dd> <dt>Username</dt> <dd> <div class=form-group> <input name=user class=form-control required ng-model=externalDsParams.user> <div ng-show=\"sourceForm.user.$error.required && sourceForm.user.$touched\" class=error>This field is required</div> </div> </dd> <dt>Password</dt> <dd> <div class=form-group> <input name=password type=password class=form-control required ng-model=externalDsParams.password> <div ng-show=\"sourceForm.password.$error.required && sourceForm.password.$touched\" class=error>This field is required</div> </div> </dd> <dt>Database</dt> <dd> <div class=form-group> <input name=dbName class=form-control required ng-model=externalDsParams.dbName> <div ng-show=\"sourceForm.dbName.$error.required && sourceForm.dbName.$touched\" class=error>This field is required</div> </div> </dd> </dl> <dl class=dl-horizontal ng-show=\"externalDsType == 'File'\"> <dt></dt> <dd><input id=add-source-modal-file-picker type=file nv-file-select uploader=uploader accept={{availableFileFormats}} multiple=multiple> </dd> </dl> <dl ng-if=externalDsError.errors.globalMessage class=dl-horizontal> <dt> </dt> <dd> <div class=error ng-bind=externalDsError.errors.globalMessage></div> </dd> </dl> <dl ng-if=isEditDs class=dl-horizontal> <dt> </dt> <dd> <div class=connection-info> <div class=test-connection-status> <div class=loading-spinner ng-if=isExternalDsConnecting> <svg class=spinner width=12px height=12px viewBox=\"0 0 66 66\" xmlns=http://www.w3.org/2000/svg> <circle class=path fill=none stroke-width=7 stroke-linecap=round cx=33 cy=33 r=30></circle> </svg> </div> <i ng-if=\"!isExternalDsConnecting && !externalDsValidConnection\" class=\"fa fa-times\" style=color:tomato></i> <i ng-if=\"!isExternalDsConnecting && externalDsValidConnection\" class=\"fa fa-check-circle\" style=color:#41ad49></i> </div> <span class=last-tested> Connection last tested <span style=margin-left:3px ng-bind=lastTestedConnectionString></span> </span> <a ng-click=testConnection()>Test Connection</a> <p class=disconnected-source ng-if=\"!externalDsValidConnection && disconnectedStringAvailable()\"> Disconnected {{getDisconnectedString()}}. </p> </div> </dd> </dl> </div> <div ng-if=externalDsSaved class=modal-body> <span><i class=\"fa fa-check-circle\" style=color:#41ad49;margin-right:10px></i>Your connection settings have been successfully saved.</span> </div> <div class=modal-footer> <button type=button ng-if=!externalDsSaved class=\"btn btn-default-flat-goog pull-right\" style=margin-left:10px ng-click=closeSourceModal() autofocus>Cancel</button> <div class=pull-right ng-click=\"isExternalDsSaving ? stopRemoteLinkUpsert() : saveDataSource()\"> <button type=submit ng-disabled=sourceForm.$invalid ng-if=\"isDbExternalDsTypeSelected() && !isEditDs && !externalDsSaved\" class=\"btn btn-primary-goog btn-primary\" ladda=isExternalDsSaving data-style=expand-left> {{ isExternalDsSaving ? 'Stop' : 'Connect'}} </button> <button type=submit ng-disabled=sourceForm.$invalid ng-if=\"isEditDs && externalDsParamsEdited && !externalDsSaved\" class=\"btn btn-primary-goog btn-primary\" data-style=expand-left ladda=isExternalDsSaving> {{ isExternalDsSaving ? 'Stop' : 'Update'}} </button> </div> </div> </form>"),$templateCache.put("static/templates/include/cancel-commit.html","<form class=delete-modal> <div class=modal-header> <button type=button class=close ng-click=closeIngestionCancelModal()>&times;</button> <h4 class=modal-title>Cancel ingestion?</h4> </div> <div class=modal-body> <div style=\"padding:20px 0\"> <div> This will cancel your current ingestion. Are you sure you want to do this? </div> </div> </div> <div class=modal-footer> <button class=\"btn btn-primary-goog pull-right\" ladda=isCommitCancelling() ng-click=doCancelCommit()>Cancel Ingest</button> <button type=submit class=\"btn btn-default-flat-goog pull-right\" style=margin-left:10px ng-click=closeIngestionCancelModal() autofocus>Do not cancel</button> </div> </form>"),$templateCache.put("static/templates/include/chart-tooltip.html","<div ng-if=\"controllerName != 'embedCtrl' && chartTooltip.visible\" click-out=chartTooltip.hide() ng-mouseover=chartTooltip.resetTimeout() ng-mousemove=$event.stopPropagation() class=\"chart-tooltip drill-in-menu dropdown-menu\" ng-style=\"{'border-color': chartTooltip.color}\"> <div class=tooltip-header ng-class=\"{'active': chartTooltip.active}\" ng-style=\"{'border-color': chartTooltip.color, 'font-size': (chartTooltip.headerData.length > 1) ? '13px' : '14px'}\"> <div style=padding:2px ng-hide=\"vizSummary.chartType == chartTypes.SCATTER\">{{chartTooltip.value | fixedIfFloatFilter}}</div> <div ng-repeat=\"el in chartTooltip.headerData\" style=padding-left:15px> <i class=icon-column ng-style=\"{'background-color': el.color || chartTooltip.color}\"></i> <span ng-bind-html=removeCalculate(el.key)></span>&nbsp; <strong style=float:right ng-hide=\"vizSummary.chartType == chartTypes.SCATTER\">{{el.value | fixedIfFloatFilter}}</strong> <strong style=float:right ng-hide=\"vizSummary.chartType != chartTypes.SCATTER\">({{chartTooltip.value | fixedIfFloatFilter}}, {{el.value | fixedIfFloatFilter}})</strong> </div> </div> <div ng-show=\"!chartTooltip.viewData && chartTooltip.active\" ng-click=chartTooltip.hide()> <div class=dropdown-menu-right> <div ng-show=!chartTooltip.isRegressionLine ng-if=\"controllerName == 'visualizationCtrl'\"> <div class=dropdown-submenu> <div class=drill-in-menu-item ng-click=$event.stopPropagation()><strong>Drill in</strong> by</div> <ul class=\"dropdown-menu drill-in-menu\" ng-style=\"{'border-color': chartTooltip.color}\" ng-class=\"{'left': isMostLeftPoint(chartTooltip.point)}\"> <li ng-repeat=\"intoColumn in filterList\" ng-if=\"intoColumn.name != chartTooltip.byColumn.name\"> <a ng-click=\"drillDown(chartTooltip.byColumn, chartTooltip.byValue, intoColumn, true, chartTooltip.row)\" class=drill-in-menu-item> {{humanize(intoColumn.rename || intoColumn.name)}}</a> </li> </ul> </div> <div class=drill-in-menu-item ng-click=\"selectFromResults(chartTooltip.byColumn, chartTooltip.byValue, false, chartTooltip.row, true)\"> <strong>Filter</strong> to value </div> <div class=drill-in-menu-item ng-click=\"selectFromResultsRemove(chartTooltip.byColumn, chartTooltip.byValue, chartTooltip.row, true)\"> <strong>Exclude</strong> this value </div> <div class=drill-in-menu-item ng-click=openModalFromTooltip(chartTooltip)> <strong>View</strong> data </div> </div> <div ng-if=\"vizSummary.chartType == chartTypes.SCATTER\" class=dropdown-submenu> <div class=drill-in-menu-item ng-click=$event.stopPropagation()><strong>Add</strong> regression</div> <ul class=\"dropdown-menu dropdown-settings sidebar-filters drill-in-menu regression-menu\" ng-style=\"{'border-color': chartTooltip.color}\" ng-class=\"{'left': isMostLeftPoint(chartTooltip.point)}\"> <li ng-click=onRegressionTypeSelected(null) class=menu-item-table> <span> <input type=checkbox class=\"regular-checkbox arrowed\" ng-checked=\"vizSummary.regressionType === null\"> <label></label> </span> <a class=drill-in-menu-item>None</a> </li> <li ng-repeat=\"regType in REGRESSION_TYPE_OPTIONS\" ng-click=onRegressionTypeSelected(regType.value) class=menu-item-table> <span> <input type=checkbox class=\"regular-checkbox arrowed\" ng-checked=\"vizSummary.regressionType === regType.value\"> <label></label> </span> <a class=drill-in-menu-item ng-bind=regType.desc></a> </li> </ul> </div> </div> </div> <div class=arrow ng-class=chartTooltip.direction ng-style=\"{'color': chartTooltip.color}\"></div> </div> <div ng-if=\"controllerName == 'embedCtrl' && !chartTooltip.viewData && chartTooltip.active\" ng-click=chartTooltip.hide()> <div class=dropdown-menu-right> <div ng-if=\"vizSummary.chartType == chartTypes.SCATTER\" class=dropdown-submenu> <div class=drill-in-menu-item ng-click=$event.stopPropagation()><strong>Add</strong> regression</div> <ul class=\"dropdown-menu dropdown-settings sidebar-filters drill-in-menu regression-menu\" ng-style=\"{'border-color': chartTooltip.color}\" ng-class=\"{'left': isMostLeftPoint(chartTooltip.point)}\"> <li ng-click=onRegressionTypeSelected(null) class=menu-item-table> <span> <input type=checkbox class=\"regular-checkbox arrowed\" ng-checked=\"vizSummary.regressionType === null\"> <label></label> </span> <a class=drill-in-menu-item>None</a> </li> <li ng-repeat=\"regType in REGRESSION_TYPE_OPTIONS\" ng-click=onRegressionTypeSelected(regType.value) class=menu-item-table> <span> <input type=checkbox class=\"regular-checkbox arrowed\" ng-checked=\"vizSummary.regressionType === regType.value\"> <label></label> </span> <a class=drill-in-menu-item ng-bind=regType.desc></a> </li> </ul> </div> </div> </div>"),$templateCache.put("static/templates/include/chart-view-data.html","<div class=modal-header> <button type=button class=close ng-click=cancel()>\xD7</button> <h3 class=modal-title>Viewing data for <span ng-bind-html=titleInfo.col></span> = {{titleInfo.val}}</h3> <div ng-if=popupData.dataSummary.aggs.length class=\"btn-group pull-right\" style=margin-top:-30px;margin-right:30px uib-dropdown> <button type=button class=btn uib-dropdown-toggle> <span class=\"fa fa-download\"></span> </button> <ul uib-dropdown-menu class=\"dropdown-menu sidebar-ul dropdown-options dropdown-settings\" role=menu> <li class=filter-settings-header> Download data as: </li> <li class=menu-item-table ng-click=\"prepareExport('CSV', 'CSV')\"> <a style=padding-left:15px>CSV</a> </li> <li class=menu-item-table ng-click=\"prepareExport('Excel', 'XLS')\"> <a style=padding-left:15px>Excel</a> </li> </ul> </div> </div> <div class=modal-body id=search-results> <div class=clearfix> <div class=\"pull-right dropdown switch-to-table dropdown-settings inline-block\" uib-dropdown style=top:-5px> <button class=btn-filters href=javascript:void(0) uib-dropdown-toggle> <i class=\"fa fa-cog\"></i> <i class=\"fa fa-caret-down\"></i> </button> <ul uib-dropdown-menu class=\"dropdown-menu sidebar-ul dropdown-options dropdown-settings\" role=menu> <li class=filter-settings-header> Download data as: </li> <li class=menu-item-table ng-click=\"prepareExport('CSV', 'CSV')\"> <a style=padding-left:15px>CSV</a> </li> <li class=menu-item-table ng-click=\"prepareExport('Excel', 'XLS')\"> <a style=padding-left:15px>Excel</a> </li> </ul> </div> <div class=pull-right>{{gridOptions.data.length}} rows returned ({{popupData.totalSize || 1}} in total)</div> </div> <br> <div ui-grid=gridOptions ui-grid-infinite-scroll ui-grid-auto-resize ui-grid-resize-columns></div> </div> <div class=modal-footer style=position:absolute;bottom:0;width:100%> <button class=\"btn btn-default-cstm\" type=button ng-click=ok()>Close</button> </div>"),$templateCache.put("static/templates/include/confirmation-modal.html","<form class=delete-modal novalidate> <div class=modal-header> <button type=button class=close ng-click=closeModal()>&times;</button> <h4 class=modal-title>Re-run query?</h4> </div> <div class=modal-body> <div> <h4 ng-show=title>{{title}}</h4> <div ng-show=description style=\"padding:15px 0\">{{description}}</div> </div> </div> <div class=modal-footer> <button type=submit class=\"btn btn-primary-goog\" style=margin-left:0 ng-click=agree()>{{agreeButtonTitle}} </button> <button class=\"btn btn-default-flat-goog\" ng-click=closeModal()>Cancel</button> </div> </form>"),$templateCache.put("static/templates/include/convert-to-list.html","<form class=delete-modal> <div class=modal-header> <button type=button class=close ng-click=closeConvertToListModal()>&times;</button> <h4 class=modal-title>Convert to list</h4> </div> <div class=modal-body> <div style=\"padding:15px 0\">Enter separator string:</div> <div class=form-group> <input name=separator class=form-control ng-model=convertToListModalSettings.separator required autofocus style=width:100%> </div> </div> <div class=modal-footer> <button type=submit ng-if=convertToListModalSettings.hasSeparator class=\"btn btn-default-flat-goog pull-left\" style=width:100px ng-click=deleteConvertToList()>Delete</button> <button type=submit class=\"btn btn-primary-goog pull-right\" style=width:100px;margin-left:10px ng-click=updateConvertToList()>Save</button> <button class=\"btn btn-default-flat-goog pull-right\" style=width:100px ng-click=closeConvertToListModal()>Cancel</button> </div> </form>"),$templateCache.put("static/templates/include/create-datadoc-modal.html","<form class=delete-modal> <div class=modal-header> <button type=button class=close ng-click=cancelNewDatadocModal()>&times;</button> <h4 class=modal-title>Create a new datadoc?</h4> </div> <div class=modal-body> <div style=\"padding:20px 0 0 0\"> <div>The following datadoc has already been created from <b>{{currentFile.name}}: </b> <span ng-show=!!currentFile.relatedDatadocs.length> <a ui-sref=\"main.visualize({id: datadoc.id})\" ng-repeat=\"datadoc in currentFile.relatedDatadocs | orderBy:'name'\">{{datadoc.name}} <i class=\"fa fa-external-link\"></i></a> </span>. </div> <div style=margin-top:20px> Are you sure you want to create a new datadoc? </div> </div> </div> <div class=modal-footer> <button type=submit class=\"btn btn-primary-goog pull-right\" ng-disabled=\"\" ng-click=goToVisualization(currentFile.relatedDatadocs[0]) autofocus> Open existing datadoc </button> <button class=\"btn btn-default-flat-goog pull-right\" style=margin-left:10px ng-click=createIndex(currentFile)>Create new </button> </div> </form>"),$templateCache.put("static/templates/include/datadoc-info.html","<form class=\"delete-modal datadoc-info-modal\" novalidate> <div class=modal-header> <button type=button class=close ng-click=closeDatadocInfoModal()>&times;</button> <h4 class=modal-title>{{selectedTable.name}}</h4> </div> <div class=modal-body> <div class=info> <div class=datadoc> <div class=title>Datadoc Info</div> <div class=three-dots-loader ng-show=datadocInfoModal.statsLoading></div> <div class=clearfix></div> <div ng-show=!datadocInfoModal.stats.lastSaved class=not-saved>This datadoc has not been saved yet.</div> <table ng-show=datadocInfoModal.stats.lastSaved> <tr> <td>Sheets:</td> <td>{{datadocInfoModal.stats.sheets}}</td> </tr> <tr> <td>Total Rows:</td> <td>{{datadocInfoModal.stats.totalRows | number}}</td> </tr> <tr> <td>Storage Space:</td> <td>{{datadocInfoModal.stats.storageSpace | size:1:'bytes'}}</td> </tr> <tr> <td>Created:</td> <td>{{datadocInfoModal.stats.created | date:\"MMM d, y 'at' ha\"}} by {{datadocInfoModal.stats.createdByUserName}}</td> </tr> </table> </div> <div class=sheet> <div class=title>Sheet Info</div> <div class=three-dots-loader ng-show=datadocInfoModal.statsLoading></div> <div class=clearfix></div> <div uib-dropdown class=dropdown> <div uib-dropdown-toggle class=form-control style=cursor:pointer>{{datadocInfoModal.selectedTabStats.bookmarkName}}</div> <ul class=dropdown-menu uib-dropdown-menu> <li ng-click=datadocInfoModal.selectTab(tab) class=dropdown-menu-item ng-repeat=\"tab in datadocInfoModal.stats.bookmarks\"> <a ng-bind=tab.bookmarkName></a> </li> </ul> </div> <div ng-show=!datadocInfoModal.selectedTabStats.lastSaved class=not-saved>This sheet has not been saved yet.</div> <table ng-show=datadocInfoModal.selectedTabStats.lastSaved> <tr> <td>Rows:</td> <td>{{datadocInfoModal.selectedTabStats.rows | number}}</td> </tr> <tr> <td>Cols:</td> <td>{{datadocInfoModal.selectedTabStats.columns | number}}</td> </tr> <tr> <td>Storage Space:</td> <td> <span>{{datadocInfoModal.selectedTabStats.storageSpace | size:1:'bytes'}}</span> <span ng-show=\"datadocInfoModal.selectedTabStats.storageType == 'Small'\" class=storage-type>&nbsp;S</span> <span ng-show=\"datadocInfoModal.selectedTabStats.storageType == 'Large'\" class=storage-type>&nbsp;L</span> </td> </tr> <tr> <td>Created:</td> <td>{{datadocInfoModal.selectedTabStats.created | date:\"MMM d, y 'at' ha\"}} by {{datadocInfoModal.selectedTabStats.createdByUserName}}</td> </tr> <tr ng-show=!datadocInfoModal.selectedTabStats.createdAndLastSavedAreSameToHours> <td>Data Last Saved:</td> <td>{{datadocInfoModal.selectedTabStats.lastSaved | date:\"MMM d, y 'at' ha\"}} by {{datadocInfoModal.selectedTabStats.lastSavedByUserName}}</td> </tr> </table> </div> </div> </div> </form>"),$templateCache.put("static/templates/include/datadoc-pane.html","<div class=\"upload-item movable no-select\" ng-class=\"{selected: isDocSelected(d), folder: d.type == 'folder', last: $last}\"> <input type=hidden class=uid value={{d.id}}> <div class=col-md-6> <div class=first-column ng-switch=\"d == indexToRename\"> <div class=\"icon drag-handler\"> <div class=\"img {{getUploadIcon(d)}}\"></div> </div> <div ng-switch-when=false class=\"name no-overflow\"> <div class=\"no-overflow drag-handler\" ng-switch on=\"d.type == 'folder'\"> <div ng-switch-when=true class=\"no-overflow main\"> <span uib-tooltip={{d.name}} tooltip-placement=bottom tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip ng-bind-html=d.name></span> </div> <div ng-switch-when=false class=\"no-overflow main\" style=position:relative> <span uib-tooltip={{d.name}} tooltip-placement=bottom tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip ng-bind=d.name></span> </div> </div> </div> <input ng-switch-when=true class=name-input ng-click=$event.stopPropagation(); ng-dblclick=$event.stopPropagation(); ng-keydown=renameKeyEvent($event) ng-blur=doRenameDoc(d) ng-model=d.newName> </div> </div> <div class=col-md-3> <div ng-show=\"getDocsSelectedColumns()[COLUMN_NUMBERS.SECOND] == 'Last viewed by me'\"> <div class=second-column ng-show=\"d.type != 'folder'\"> {{(d.lastViewedByMe | date:'mediumDate') || 'Index not viewed'}} </div> </div> </div> <div class=col-md-3> <span ng-show=\"getDocsSelectedColumns()[COLUMN_NUMBERS.THIRD] == 'Data last refreshed'\"> <div class=third-column ng-show=\"d.committed && d.type != 'folder'\">{{d.committed | date:'mediumDate'}}</div> <div class=third-column ng-show=\"!d.committed && d.type != 'folder'\">Index not committed</div> </span> <span ng-show=\"getDocsSelectedColumns()[COLUMN_NUMBERS.THIRD] == 'Added by'\"> <div class=third-column ng-bind=d.userName></div> </span> <span ng-show=\"getDocsSelectedColumns()[COLUMN_NUMBERS.THIRD] == 'Added on'\"> <div class=third-column>{{d.created | date:'mediumDate'}}</div> </span> <span ng-show=\"getDocsSelectedColumns()[COLUMN_NUMBERS.THIRD] == 'Last viewed'\"> <div class=third-column>{{(d.lastViewedByMe | date:'mediumDate') || 'Index not viewed'}}</div> </span> </div> </div>"),$templateCache.put("static/templates/include/datadoc-presence.html","<div class=presence-widgets> <div class=total-viewers ng-if=presenceDropdownOpened>{{presenceUsersCopy.length}} total viewers</div> <div class=presence-widget-container ng-repeat=\"user in presenceUsersCopy | limitTo: 10\" id=presence-{{user.userId}} ng-show=!presenceDropdownOpened> <div class=presence-widget uib-tooltip=\"{{user.fullName || user.email}}\" tooltip-placement=bottom tooltip-append-to-body=true tooltip-class=main-page-tooltip style=background-color:{};> <div class=img-wrapper ng-style=\"{'background-color': user.image ? '#f1f1f1' : user.color}\"> <img ng-if=user.image ng-src={{user.image}} alt=\"{{user.fullName || user.email}}\"> <div ng-if=!user.image class=initials-container ng-attr-data-initials={{getUserInitials(user)}}></div> </div> </div> </div> <div class=presence-dropdown-wrapper uib-dropdown is-open=presenceDropdownOpened ng-if=\"presenceUsersCopy.length >= 10\"> <div class=presence-dropdown-button uib-tooltip=\"{{presenceUsersCopy.length}} total viewers\" tooltip-placement=bottom tooltip-append-to-body=true tooltip-class=main-page-tooltip uib-dropdown-toggle> <div class=caret-down></div> </div> <div class=\"presence-dropdown-menu dropdown-menu-right\" uib-dropdown-menu> <div class=presence-dropdown-menu-item ng-repeat=\"user in presenceUsersCopy\"> <div class=img-wrapper ng-style=\"{'background-color': user.image ? '#f1f1f1' : user.color}\"> <img ng-if=user.image ng-src={{user.image}} alt=\"{{user.fullName || user.email}}\"> <div ng-if=!user.image class=initials-container ng-attr-data-initials={{getUserInitials(user)}}></div> </div> <div class=user-name>{{user.fullName || user.email}}</div> </div> </div> </div> </div>"),$templateCache.put("static/templates/include/date-format.html","<form class=delete-modal> <div class=modal-header> <button type=button class=close ng-click=closeDateFormatModal()>&times;</button> <h4 class=modal-title>Date Pattern</h4> </div> <div class=modal-body style=\"padding:10px 20px\"> <input class=form-control ng-model=dateFormatModalSettings.pattern maxlength=30 autofocus placeholder=\"Enter date pattern or leave empty for UNIX timestamp\"> </div> <div class=modal-footer> <button class=\"btn btn-default-flat-goog pull-right\" style=width:100px ng-click=closeDateFormatModal()>Cancel</button> <button type=submit class=\"btn btn-primary-goog pull-right\" style=width:100px;margin-left:10px ng-click=updateDateFormat()>Save</button> </div> </form>"),$templateCache.put("static/templates/include/datepicker-popup.html","<ul role=presentation class=\"uib-datepicker-popup dropdown-menu uib-position-measure\" dropdown-nested ng-if=isOpen ng-keydown=keydown($event) ng-click=$event.stopPropagation()> <li ng-transclude></li> <li ng-if=showButtonBar class=uib-button-bar> <span class=\"btn-group pull-left\"> <button type=button class=\"btn btn-sm btn-info uib-datepicker-current\" ng-click=\"select('today', $event)\" ng-disabled=\"isDisabled('today')\">{{ getText('current') }}</button> <button type=button class=\"btn btn-sm btn-danger uib-clear\" ng-click=\"select(null, $event)\">{{ getText('clear') }}</button> </span> <button type=button class=\"btn btn-sm btn-success pull-right uib-close\" ng-click=close($event)>{{ getText('close') }}</button> </li> </ul>"),$templateCache.put("static/templates/include/delete-query.html","<form class=delete-modal> <div class=modal-header> <button type=button class=close ng-click=closeConfirmationModal()>&times;</button> <h4 class=modal-title>Delete {{selectedQuery.name}}?</h4> </div> <div class=modal-body> <div style=\"padding:20px 0\"> <div> Are you sure you want to delete <b>{{selectedQuery.name}}</b>? </div> </div> </div>  <div class=modal-footer> <button class=\"btn btn-default-flat-goog pull-right\" style=margin-left:10px ng-click=closeConfirmationModal()>Cancel</button> <button type=submit class=\"btn btn-primary-goog pull-right\" ng-click=\"deleteQueryFromFavorites(selectedQuery); closeConfirmationModal()\" autofocus>Delete</button> </div> </form>"),$templateCache.put("static/templates/include/delete-upload.html","<form class=delete-modal> <div class=modal-header> <button type=button class=close ng-click=cancelDeleteModal()>&times;</button> <h4 class=modal-title>Delete {{deleteUploadOptions.descriptionText}}?</h4> </div> <div class=modal-body> <div style=\"padding:20px 0\"> <div ng-switch=deleteUploadOptions.loading> <div ng-switch-when=true> <i class=\"fa fa-spin fa-spinner\"></i> </div> <div ng-switch-when=false> <span ng-if=deleteUploadOptions.connectedToIndex><b>Warning! {{deleteUploadOptions.multi ? 'Some of these sources are ' : 'This source is '}} connected to an datadoc.</b></span> Are you sure you want to delete {{deleteUploadOptions.descriptionText}}? </div> </div> </div> </div> <div class=modal-footer> <button class=\"btn btn-default-flat-goog pull-right\" style=margin-left:10px ng-click=cancelDeleteModal()>Cancel</button> <button type=submit class=\"btn btn-primary-goog pull-right\" ladda=deleteUploadOptions.deleting ng-click=delete(selectedUploads) autofocus>Delete</button> </div> </form>"),$templateCache.put("static/templates/include/delete-view.html","<form class=delete-modal> <div class=modal-header> <h4 class=modal-title>Delete view</h4> </div> <div class=modal-body style=padding-top:24px> <p>Are you sure you want to delete the view named '{{deleteViewOptions.name}}'?</p> </div> <div class=modal-footer> <button class=\"btn btn-default-flat-goog pull-right\" style=margin-left:10px ng-click=cancelDeleteViewModal()>Cancel</button> <button type=submit class=\"btn btn-primary-goog pull-right\" ng-click=deleteViewOptions.deleteBookmarkState()>Delete</button> </div> </form>"),$templateCache.put("static/templates/include/ds-annotation.html","<form> <div class=modal-header> <button type=button class=close ng-click=closeDsAnnotationModal()>&times;</button> <h4 class=modal-title>Annotation</h4> </div> <div class=modal-body> <textarea class=form-control ng-model=annotation rows=3 maxlength=1000 autofocus placeholder=\"Enter an annotation for your source\"></textarea> </div> <div class=modal-footer> <button type=submit ng-if=oldAnnotation class=\"btn btn-default-cstm pull-left\" style=width:100px ladda=isUpdateRunning ng-click=deleteDsAnnotation()>Delete</button> <button type=submit class=\"btn btn-primary-cstm pull-right\" style=width:100px;margin-left:10px ladda=isUpdateRunning ng-click=updateDsAnnotation()>Save</button> <button class=\"btn btn-default-cstm pull-right\" style=width:100px ng-click=closeDsAnnotationModal()>Cancel</button> </div> </form>"),$templateCache.put("static/templates/include/ds-error.html","<form> <div class=modal-header> <button type=button class=close ng-click=closeDsErrorModal()>&times;</button> <h4 class=modal-title>Error Details</h4> </div> <div class=modal-body> Message:<br> <pre>{{dsErrorTask.statistics.lastErrorRootCauseMessage}}</pre> Stack Trace:<br> <pre>{{dsErrorTask.statistics.lastErrorStackTrace}}</pre> </div> <div class=modal-footer> <button class=\"btn btn-default-cstm pull-right\" style=width:100px ng-click=closeDsErrorModal()>Close</button> </div> </form>"),$templateCache.put("static/templates/include/ds-model.html","<div id=data-model> <div id=status-bar> <div class=\"input-wrapper pull-left\"> <table style=width:100%;table-layout:fixed> <tr> <td style=width:105px> <button class=\"btn toolbar-button close-data-model pull-left\" ng-click=closeIndex()> <i class=\"fa fa-level-up fa-rotate-270 fa-lg\"></i> </button> <button class=\"btn toolbar-button view-mode pull-left\" style=margin-left:4px ng-click=\"viewMode = true\" tooltip-placement=top tooltip-append-to-body=true uib-tooltip=\"Go To Visualization\" ng-show=selectedTable.committed> <i class=\"fa fa-eye fa-lg\"></i> </button> </td> <td style=width:300px> <object-select selected=selectedTable.name on-update=renameIndex> </object-select> </td> <td> <div class=data-model-progress ng-show=\"isCommitRunning || progressBar.isFinished\" ng-switch on=isCommitRunning> <div ng-switch-when=true> <uib-progressbar class=\"progress-striped active\" max=100 value=progressBar.value> <span class=progress-step>Step {{progressBar.step}}/{{progressBar.steps}} ({{progressBar.value}}%) {{progressBar.remainingStr}}</span> </uib-progressbar> </div> <span ng-switch-when=false class=\"progress-success-msg pull-right\"> All done processing! <a style=cursor:pointer ng-click=progressBar.viewMode()>Visualize my data</a> </span> </div> </td> <td style=width:150px> <div style=display:inline> <div id=commit-btn class=pull-right uib-tooltip=\"Please fix errors before commit\" tooltip-placement=bottom tooltip-enable=\"errors.length > 0\" ng-show=!isCommitRunning style=display:inline-block> <div class=btn-group uib-dropdown> <button id=split-button type=button class=\"btn btn-primary btn-sm btn-commit\" ng-click=api.commit() ladda=isPreviewRunning> {{selectedTable.committed ? 'Save Changes' : 'Save Index'}} </button> <button type=button class=\"btn btn-primary btn-sm btn-commit\" uib-dropdown-toggle> <i class=\"fa fa-caret-down\"></i> </button> <ul class=\"dropdown-menu dropdown-menu-right\" uib-dropdown-menu role=menu aria-labelledby=split-button> <li role=menuitem><a ng-click=api.configureRefresh()>Schedule Refresh</a></li> </ul> </div> </div> <div id=cancel-btn class=pull-right style=display:inline-block> <button class=\"btn btn-sm btn-filters\" ladda=isCommitCancelling ng-show=isCommitRunning ng-click=api.cancel()> Cancel </button> </div> </div> </td> </tr> </table> </div> </div> <div class=\"page-content no-select\"> <div id=page-content-scrollable widget-container> <div class=\"data-model-wrapper widget\" style=height:auto> <div class=data-model-header> <div class=data-model-title> <div class=data-model-title-text>Data Model</div> <div class=data-model-title-icon uib-tooltip-template=\"'static/templates/include/tooltip/dm.html'\" tooltip-placement=right tooltip-trigger=outsideClick tooltip-append-to-body=true> <i class=\"fa fa-info-circle\"></i> </div> <div class=toolbar-warning ng-show=\"errors.length > 0\"> <i class=\"fa fa-lg fa-exclamation-triangle\"></i> <div class=btn-group uib-dropdown dropdown-append-to=appendToEl is-open=dropdownMenu.status> <a class=warning-text uib-dropdown-toggle ng-mouseenter=dropdownMenu.toggle() ng-mouseleave=\"dropdownMenu.mouseOverButton = false; dropdownMenu.close()\">{{getWarningText()}}</a> <ul class=dropdown-menu uib-dropdown-menu role=menu ng-mouseenter=\"dropdownMenu.mouseOverList = true\" ng-mouseleave=\"dropdownMenu.mouseOverList = false; dropdownMenu.close()\"> <li role=menuitem ng-repeat=\"e in errors\" ng-mouseenter=\"highlightError(e.nodeId, true)\" ng-mouseleave=\"highlightError(e.nodeId, false)\"><span>{{e.message}}</span></li> </ul> </div> </div> </div> <div id=toolbar class=pull-right> <div id=join-button class=toolbar-icon> <div class=join-button> <i class=\"fa fa-link join-button-rotate fa-2x\"></i> <div class=icon-text>Add Join</div> </div> </div> <div class=control-buttons> <a class=ctrl-btn href=javascript:void(0) ng-class=\"{'disabled': !api.history.hasPrev()}\" ng-click=api.history.undo()><i class=\"fa fa-arrow-left\"></i></a> <a class=ctrl-btn href=javascript:void(0) ng-class=\"{'disabled': !api.history.hasNext()}\" ng-click=api.history.redo()><i class=\"fa fa-arrow-right\"></i></a> </div> </div> </div> <div class=data-model-body v-resizable v-resizable-min=50 v-resizable-max=800 v-resizable-min-snap v-resizable-callback=onWorkspaceResize v-resizable-storage-attr=workspaceH> <div id=flow-execution ng-show=isCommitRunning></div> <div id=data-loading ng-show=isModelLoading> <table><tr><td> <i class=\"fa fa-spinner fa-spin fa-4x\"></i> </td></tr></table> </div> <div id=worksheet ng-class=\"{'data-model-blur': isModelLoading}\"> </div> <div class=arrow style=display:none> <div class=head><div class=inner></div></div> <div class=body></div> </div> </div> </div> <div class=\"data-preview-wrapper widget\" style=height:auto> <div class=data-preview-header> <div class=\"data-preview-title dropdown-options\"> <div class=data-preview-title-text>Data Preview</div> <div class=\"data-preview-skipped pull-left\" ng-show=previewSettings.skippedCount> <i class=\"fa fa-warning fa-lg\"></i> <ng-pluralize count=previewSettings.skippedCount when=\"{\n                            '1': '1 row skipped',\n                            'other': '{{previewSettings.skippedCount | number}} rows skipped'}\"> </ng-pluralize> </div> <div class=\"data-preview-rows pull-right\" ng-show=previewSettings> <ng-pluralize count=previewSettings.rows when=\"{\n                            '1': '{{ 1 | number }} row returned',\n                            '1000': '{{ 1000 | number }} rows returned (max in preview)',\n                            'other': '{{ previewSettings.rows | number }} rows returned'}\"> </ng-pluralize> </div> <div class=\"data-preview-columns pull-right\" ng-switch on=previewSettings.editable> <div ng-switch-when=true> <div ng-switch=previewSettings.enableNestedView class=pull-left> <div class=btn-group ng-switch-when=true style=\"padding:2px 20px 2px 2px\"> <label class=\"btn btn-xs btn-default\" ng-change=refreshCurrentView(ViewType.TABLE) ng-model=currentView uib-btn-radio=ViewType.TABLE> <i class=\"fa fa-fw fa-table\" uib-tooltip=\"Table View\"></i></label> <label class=\"btn btn-xs btn-default\" ng-change=refreshCurrentView(ViewType.LIST) ng-model=currentView uib-btn-radio=ViewType.LIST> <i class=\"fa fa-fw fa-list\" uib-tooltip=\"List View\"></i></label> <label class=\"btn btn-xs btn-default\" ng-change=refreshCurrentView(ViewType.NESTED) ng-model=currentView uib-btn-radio=ViewType.NESTED> <i class=\"fa fa-fw fa-indent\" uib-tooltip=\"Nested View\"></i></label> </div> <div class=btn-group ng-switch-when=false style=\"padding:2px 20px 2px 2px\"> <label class=\"btn btn-xs btn-default\" ng-change=refreshCurrentView(ViewType.TABLE) ng-model=currentView uib-btn-radio=ViewType.TABLE> <i class=\"fa fa-fw fa-table\" uib-tooltip=\"Table View\"></i></label> <label class=\"btn btn-xs btn-default\" ng-change=refreshCurrentView(ViewType.LIST) ng-model=currentView uib-btn-radio=ViewType.LIST> <i class=\"fa fa-fw fa-list\" uib-tooltip=\"List View\"></i></label> </div> </div> <div class=pull-left uib-dropdown dropdown-append-to=columnsListMenu.appendTo is-open=columnsListMenu.isOpen> <a uib-dropdown-toggle=columnsListMenu.toggleMenu() auto-close=outsideClick> <ng-pluralize count=previewSettings.columns when=\"{ '1': '1 column', 'other': '{{previewSettings.columns}} columns'}\"> </ng-pluralize></a><span ng-show=previewSettings.removedColumns>, {{previewSettings.removedColumns}} removed</span> <ul class=\"dropdown-menu sidebar-ul dropdown-settings\" role=menu uib-dropdown-menu> <li class=filter-settings-header> View: </li> <li class=menu-item-table ng-click=refreshCurrentView(ViewType.TABLE)> <span> <input type=checkbox class=\"regular-checkbox arrowed\" ng-checked=\"currentView == ViewType.TABLE\"> <label></label> </span> <a>Table</a> </li> <li class=menu-item-table ng-click=refreshCurrentView(ViewType.LIST)> <span> <input type=checkbox class=\"regular-checkbox arrowed\" ng-checked=\"currentView == ViewType.LIST\"> <label></label> </span> <a>List</a> </li> <li ng-if=previewSettings.enableNestedView class=menu-item-table ng-click=refreshCurrentView(ViewType.NESTED)> <span> <input type=checkbox class=\"regular-checkbox arrowed\" ng-checked=\"currentView == ViewType.NESTED\"> <label></label> </span> <a>Nested</a> </li> <li class=filter-settings-header> Display columns: </li> <ul class=\"sidebar-ul inner-ul\" role=menu sv-root=previewGridOptions.columnDefs sv-part=previewGridOptions.columnDefs sv-on-sort=\"endSortFields($indexFrom, $indexTo);\" ng-click=$event.stopPropagation();> <li role=menuitem class=menu-item-table ng-click=selectAllNoneFields()> <span> <input type=checkbox ng-checked=selectAllNone class=regular-checkbox> <label></label> </span> <a href=javascript:void(0)><strong>Select All</strong></a> </li> <li role=menuitem ng-repeat=\"columnDef in previewGridOptions.columnDefs\" class=menu-item-table sv-element ng-click=switchVisibility(columnDef);> <span sv-handle class=handle><i class=\"fa fa-grip fa-rotate-90\"></i></span> <span> <input type=checkbox ng-model=columnDef.visible class=regular-checkbox> <label></label> </span> <a href=javascript:void(0)>{{columnDef.displayName}}</a> </li> </ul> </ul> </div> </div> <div ng-switch-when=false> <span style=font-size:14px;font-style:normal> <ng-pluralize count=previewSettings.columns when=\"{ '1': '1 column', 'other': '{{previewSettings.columns}} columns'}\"> </ng-pluralize> </span> <span ng-show=previewSettings.removedColumns>, {{previewSettings.removedColumns}} removed</span> </div> <span style=display:none>, 1 removed</span> </div> <div class=data-preview-info ng-show=previewSettings> <div class=pull-left> <span>Currently showing a preview of data in the <b>{{previewSettings.name}}</b>.</span> <span ng-show=previewSettings.editable>Any data modifications you do will be applied here.</span> </div> <div class=\"sidebar-title-icon pull-left\" ng-show=previewSettings.editable uib-tooltip-template=\"\" tooltip-placement=right tooltip-trigger=outsideClick tooltip-append-to-body=true> <i class=\"fa fa-info-circle\"></i> </div> </div> </div> </div> <div class=data-preview-body v-resizable v-resizable-min=50 v-resizable-max=800 v-resizable-min-snap v-resizable-storage-attr=dataPreviewH> <div ng-class=\"transformHistory.length > 0 ? 'col-md-10' : 'col-md-12'\" style=padding-left:0;height:100%;padding-bottom:30px> <div class=data-preview style=height:100%> <div class=no-data ng-show=isPreviewRunning> <div class=msg> <span><i class=\"fa fa-spinner fa-spin fa-2x\"></i></span> </div> </div> <div class=data-preview-table ng-show=\"currentView == ViewType.TABLE\" ui-grid=previewGridOptions ui-grid-auto-resize ui-grid-resize-columns ui-grid-move-columns> </div> <div class=data-preview-list ng-if=\"currentView == ViewType.LIST\"> <div class=items-table> <table class=item-table> <tbody ng-repeat=\"items in listView.data\"> <tr ng-repeat=\"item in items\"> <td>{{item.name}}</td> <td style=text-align:left;width:5px>:</td> <td class=value ng-init=\"arr = wrapArray(item.data)\"> <span ng-switch=\"arr.length > 10\"> <span ng-switch-when=false> <span ng-if=isArray(item.data);>[</span> <span ng-repeat=\"v in arr track by $index\"> <span ng-switch=getValueType(v)> <span ng-switch-when=error class=error-value uib-tooltip=\"{{v.description | errorValueDescriptionFilter }}\" tooltip-append-to-body=true>\xD8</span> <span ng-switch-when=default>{{v}}</span></span><span ng-if=!$last class=comma>, </span> </span> <span ng-if=isArray(item.data);>]</span> </span> <span ng-switch-when=true>[\u2026] <span>({{arr.length}} items)</span></span> </span> </td> </tr> <tr style=height:10px><td colspan=3></td></tr> <tr style=height:10px><td colspan=3></td></tr> </tbody> </table> </div> <div class=\"pagination pagination-custom\" ng-show=\"listView.pagination.length > 1 && listView.data.length > 0\"> <span ng-if=\"listView.currentPagination>1\"> <a ng-click=\"switchPaginate(listView, listView.currentPagination - 1)\">&laquo; Prev</a> </span> <span ng-repeat=\"pag in listView.pagination track by $index\"> <a \u0441lass=pagination-blue ng-if=\"pag!=='...' && pag!=listView.currentPagination\" ng-click=\"switchPaginate(listView, pag)\">{{pag}}</a> <span ng-if=\"pag==='...' || pag==listView.currentPagination\">{{pag}}</span> </span> <span ng-if=\"listView.currentPagination<listView.pagination[listView.pagination.length-1]\"> <a ng-click=\"switchPaginate(listView, listView.currentPagination + 1)\">Next &raquo;</a> </span> </div> </div> <div class=data-preview-nested ng-if=\"currentView == ViewType.NESTED\"> <div ng-repeat=\"item in nestedView.data track by $index\" style=\"padding:10px 20px 0\"> <json-formatter json=item open=1></json-formatter> <div ng-if=!$last style=\"margin-top:10px;border-bottom:1px dotted #eee\"></div> </div> <div class=\"pagination pagination-custom\" ng-show=\"nestedView.pagination.length > 1 && nestedView.data.length > 0\"> <span ng-if=\"nestedView.currentPagination>1\"> <a ng-click=\"switchPaginate(nestedView, nestedView.currentPagination - 1)\">&laquo; Prev</a> </span> <span ng-repeat=\"pag in nestedView.pagination track by $index\"> <a \u0441lass=pagination-blue ng-if=\"pag!=='...' && pag!=nestedView.currentPagination\" ng-click=\"switchPaginate(nestedView, pag)\">{{pag}}</a> <span ng-if=\"pag==='...' || pag==nestedView.currentPagination\">{{pag}}</span> </span> <span ng-if=\"nestedView.currentPagination<nestedView.pagination[nestedView.pagination.length-1]\"> <a ng-click=\"switchPaginate(nestedView, nestedView.currentPagination + 1)\">Next &raquo;</a> </span> </div> </div> </div> <div class=clearfix></div> </div> <div ng-class=\"transformHistory.length > 0 ? 'col-md-2' : 'none'\"> <ul style=padding-left:0> <li ng-repeat=\"t in transformHistory\">{{t.title | uppercase}} for {{getTransformColumnNames(t)}} <a href=javascript:void(0) ng-click=deleteTransform($index)><i class=\"fa fa-close\"></i></a></li> </ul> <div class=clearfix></div> </div> </div> </div> </div> </div> </div>"),$templateCache.put("static/templates/include/ds-query.html","<form> <div class=modal-header> <button type=button class=close ng-click=closeDsQueryModal()>&times;</button> <h4 class=modal-title>{{externalDsQuery.id ? 'Edit' : 'Create'}} Query</h4> </div> <div class=modal-body> <dl class=dl-horizontal style=margin-bottom:0> <dt>Name</dt> <dd> <div class=form-group> <input name=name class=form-control placeholder=Name ng-model=externalDsQuery.name autofocus> </div> </dd> <dt>Query</dt> <dd> <div class=form-group style=height:200px> <ui-codemirror ui-codemirror-opts=sqlEditorOptions ng-model=externalDsQuery.query></ui-codemirror> </div> </dd> </dl> </div> <div class=modal-footer> <button type=submit ng-if=externalDsQuery.id class=\"btn btn-default-cstm pull-left\" style=width:100px ng-click=deleteDsQuery()>Delete</button> <button type=submit class=\"btn btn-primary-cstm pull-right\" style=width:100px;margin-left:10px ladda=isSavingExternalDsQuery ng-click=saveDsQuery()>{{externalDsQuery.id ? 'Update' : 'Save'}}</button> <button class=\"btn btn-default-cstm pull-right\" style=width:100px ng-click=closeDsQueryModal()>Close</button> </div> </form>"),$templateCache.put("static/templates/include/embed-settings.html","<form name=embedForm> <div class=row> <div class=col-md-7> <div id=widget-container></div> <div page-loader id=embed-loader></div> </div> <div class=col-md-5 id=settings-pane> <div class=\"input-group embed-url\"> <input class=form-control readonly=readonly value={{getUrlText()}}> <span class=input-group-btn> <button class=\"btn btn-primary\" ng-model=selectedUrlMode uib-btn-radio=urlModes.URL> <span>URL</span> </button> <button class=\"btn btn-primary\" ng-model=selectedUrlMode uib-btn-radio=urlModes.EMBED> <span>Embed</span> </button> </span> </div> <div class=preview-link ng-click=previewEmbed()> <i class=\"fa fa-external-link\" aria-hidden=true></i> </div> <dl class=dl-horizontal style=margin-bottom:0> <dt>Title</dt> <dd> <div class=form-group> <input name=title class=form-control ng-change=setDirty() ng-model=embedFormModel.title> </div> </dd> <dt>Desc.</dt> <dd> <div class=form-group> <input name=description placeholder=\"Customize Description\" class=form-control ng-change=setDirty() ng-model=embedFormModel.description>  </div> </dd> <table> <tr> <td> <dt>Width</dt> <dd> <div class=form-group> <input type=number class=form-control style=width:50px min=1 name=width ng-model=embedFormModel.width ng-change=setDirty() required> </div> </dd> </td> <td style=padding-left:10px> <dt>Height</dt> <dd> <div class=form-group> <input type=number class=form-control style=width:50px min=1 name=height ng-model=embedFormModel.height ng-change=setDirty() required> </div> </dd> </td> </tr> </table> </dl> <div class=embed-checkbox> <label><input type=checkbox ng-change=setDirty() ng-model=embedFormModel.export>Allow exporting of data</label> </div> <div class=embed-checkbox> <label><input type=checkbox ng-change=\"setDirty(); onAllowViewRawChanged()\" ng-model=embedFormModel.clickIn>Allow viewing of raw data</label> </div> <hr style=\"border-top:1px solid #ddd\"> <div class=embed-checkbox> <label><input type=checkbox ng-change=setDirty() ng-model=duplicateTab>Duplicate in new tab</label> <br> <span class=embed-caution-text>Caution: this embed will be tied to the current tab.</span> <br> <span class=embed-caution-text> <i>Any changes you make to the current tab will also be reflected in the embed. If you would like to 'freeze' this embed, we recommend selecting this option.</i> </span> </div>  </div> </div> <div class=save-buttons> <button class=btn ng-class=\"dirty ? 'btn-primary-embed' : 'btn-default-cstm'\" ladda=isEmbedUpdating type=button ng-disabled=!dirty ng-click=updateEmbed(embedForm)>Save Changes</button> <div class=comment-text> <span ng-show=dirty>Some changes are not yet saved.</span> <span ng-show=!dirty>All changes saved.</span> </div> </div> </form>"),$templateCache.put("static/templates/include/embed-widget.html","<div id=embed-page> <div class=embed-wrapper> <table class=contents-table> <tr><td style=height:60px> <div class=data-header> <div class=\"header-title inline-block\"> <span class=embed-title-wrapper> <i class=\"fa fa-level-up fa-rotate-270 back\" ng-cloak ng-show=isViewRawData ng-click=selectDataSummaryBack()></i> <span id=embed-title ng-bind=embedSettings.title>Loading...</span> </span> <div class=\"inline-block embed-button-wrapper\" ng-cloak> <div ng-if=embedSettings.export class=pull-left is-open=exportPopup.isopen uib-dropdown> <button type=button class=\"btn embed-button\" ladda=isExportRunning data-spinner-color=#333 uib-dropdown-toggle> <i class=\"fa fa-download\"></i> Export </button> <ul class=\"dropdown-menu pull-right hover\" uib-dropdown-menu> <li ng-repeat=\"op in exportDropdown\"> <a href=# ng-click=\"exportData($event, op.type)\">{{op.name}}</a> </li> </ul> </div> </div> <div ng-show=isVisibleForRow() class=\"show-me-bar-table pull-right\" ng-cloak> <ng-include src=\"'static/templates/include/filter-tags.html'\"></ng-include> </div> <div class=\"total-size pull-right-text\" style=top:-2px;right:20px ng-cloak ng-show=!isRawData()> {{resultsOffset|number}} result{{resultsOffset != 1 ? 's' : ''}} </div> <div class=\"total-size pull-right-text\" style=top:-2px;right:20px ng-cloak ng-show=isRawData()> {{resultsOffset|number}} (of {{totalSize|number}}) result{{resultsOffset != 1 ? 's' : ''}} </div> </div> <div class=\"header-title inline-block header-title-description\" ng-cloak ng-show=embedSettings.description ng-bind=embedSettings.description> </div> </div> </td></tr> <tr><td style=height:0> <div id=search-results style=height:100%;width:100%;position:relative class=resizable-wrapper> <div class=page-content-wrapper style=position:relative;height:100%;width:100%> <table style=width:100%;height:100%> <tr ng-show=\"viewMode == viewModes.TABLE && embedSettings.search\"> <td style=height:32px> <div class=embed-search-input-for-table-view ng-class=\"{active: dataSummary.search}\" ng-if=embedSettings.search ng-cloak> <i class=\"fa fa-search\"></i> <input ng-model=dataSummary.search ng-change=searching() ng-model-options=\"{debounce: 500}\" placeholder=Search> </div> </td> </tr> <tr ng-show=\"viewMode == viewModes.LIST && embedSettings.search\"> <td class=embed-search-input-wrapper> <div class=embed-search-input ng-class=\"{active: dataSummary.search}\" ng-if=embedSettings.search ng-cloak> <i class=\"fa fa-search\"></i> <input ng-model=dataSummary.search ng-change=searching() ng-model-options=\"{debounce: 500}\" placeholder=Search> </div> </td> </tr> <tr><td> <div style=overflow-y:hidden;position:relative;height:100%;width:100%> <div class=main-viewport> <div class=\"loader backdrop-only\" ng-show=inRequest> <div class=loader-backdrop></div> </div> <div id=ag-grid-embed ng-show=\"viewMode == viewModes.TABLE\" class=ag-custom></div> <div viz-list style=width:100%;height:100% ng-show=\"viewMode == viewModes.LIST\"></div> </div> </div> </td></tr> </table> </div> <div viz-filters ctrl-name=embedCtrl filter-id=visualization-filters></div> </div> </td></tr> </table> <div id=tabs-bar> <div id=toggle-widgets> <button type=button ng-click=toggleRightFilters() ng-class=\"{'active': isShowFilters}\"> <i class=\"fa fa-filter\"></i> Filters </button> </div> </div> </div> </div>"),$templateCache.put("static/templates/include/error-convert-filters.html","<form> <div class=modal-header> <button type=button class=close ng-click=cancelDeleteTableModal()>&times;</button> <h4 class=modal-title>Convert Error</h4> </div> <div class=modal-body> <div style=\"padding:20px 0\"> This query can not be converted into UI filters, would you like to proceed and reset all filters? </div> </div> <div class=modal-footer> <button type=submit class=\"btn btn-primary-cstm pull-right\" style=width:100px;margin-left:10px ng-click=resetConvertToFilters() autofocus>Reset</button> <button class=\"btn btn-default-cstm pull-right\" style=width:100px ng-click=cancelConvertToFilters()>Cancel</button> </div> </form>"),$templateCache.put("static/templates/include/export-warning.html","<form> <div class=modal-header> <button type=button class=close ng-click=closeExportWarningModal()>&times;</button> <h4 class=modal-title>Warning</h4> </div> <div class=modal-body> <p>{{exportWarningMessage}}</p> </div> <div class=modal-footer> <button type=submit class=\"btn btn-primary-cstm pull-right\" style=width:100px;margin-left:10px ng-click=proceedExport(exportFormat)>Export</button> <button class=\"btn btn-default-cstm pull-right\" style=width:100px ng-click=closeExportWarningModal()>Cancel</button> </div> </form>"),$templateCache.put("static/templates/include/filter-tags.html","<div class=\"inline-block ui-select-with-tooltip-block ui-select-container ui-select-multiple ui-select-bootstrap\"> <span class=ui-select-match> <span ng-show=dataSummary.search class=\"ui-select-match-item btn btn-default btn-xs\" ng-click=\"$event.stopPropagation(); resetSearch()\"> <span>search = {{dataSummary.search}}</span> <span class=\"close ui-select-match-close\">&nbsp;\xD7</span> </span> <span ng-repeat=\"filter in dataSummary.filters track by filter.field\"> <span class=\"ui-select-match-item btn btn-default btn-xs\" ng-click=\"resetFilterInRow(filter, $event)\" ng-if=\"filter.col.type == 'LOCATION_LAT_LON' && isFilterActive(filter)\"> {{filter.col.name}} = <span ng-repeat=\"agg in getSelectedFilters(filter.list) | orderBy:'selected'\"> <span ng-class=\"{'filter-removed': !agg.show}\" ng-if=\"agg.key != null\">\"{{agg.key}}\"</span> <span ng-class=\"{'filter-removed': !agg.show}\" ng-if=\"agg.key == null\">\"[Empty value]\"</span> {{$last ? '' : (filter.and_or ? 'and' : 'or')}} </span> <span class=\"close ui-select-match-close\">&nbsp;\xD7</span> </span> <span class=\"ui-select-match-item btn btn-default btn-xs\" ng-click=\"resetFilterInRow(filter, $event)\" ng-if=\"!filter.listMode && filter.col.type == 'DECIMAL' && isFilterActive(filter)\"> {{filter.col.name}} = {{filter.value1}} - {{filter.value2}} <span class=\"close ui-select-match-close\">&nbsp;\xD7</span> </span> <span class=\"ui-select-match-item btn btn-default btn-xs\" ng-click=\"resetFilterInRow(filter, $event)\" ng-if=\"!filter.listMode && filter.col.type == 'TIME' && isFilterActive(filter)\"> {{filter.col.name}} = {{filter.value1 | date:\"HH:mm:ss\":'UTC'}} - {{filter.value2 | date:\"HH:mm:ss\":'UTC'}} <span class=\"close ui-select-match-close\">&nbsp;\xD7</span> </span> <span class=\"ui-select-match-item btn btn-default btn-xs\" ng-click=\"resetFilterInRow(filter, $event)\" ng-if=\"!filter.listMode && filter.col.type == 'DATE' && isFilterActive(filter)\"> {{filter.col.name}} = {{filter.value1 | date:'mediumDate'}} - {{filter.value2 | date:'mediumDate'}} <span class=\"close ui-select-match-close\">&nbsp;\xD7</span> </span> <span class=\"ui-select-match-item btn btn-default btn-xs\" ng-click=\"resetFilterInRow(filter, $event)\" ng-if=\"filter.listMode && isFilterActive(filter)\"> {{filter.col.name}} = <span ng-repeat=\"agg in getSelectedFilters(filter.list) | orderBy:'selected'\"> <span ng-class=\"{'filter-removed': !agg.show}\" ng-if=\"agg.key != null && filter.col.type == 'DATE'\">\"{{agg.key | date:'mediumDate':'UTC'}}\"</span> <span ng-class=\"{'filter-removed': !agg.show}\" ng-if=\"agg.key != null && filter.col.type == 'BOOLEAN' && agg.key == 0\">No</span> <span ng-class=\"{'filter-removed': !agg.show}\" ng-if=\"agg.key != null && filter.col.type == 'BOOLEAN' && agg.key == 1\">Yes</span> <span ng-class=\"{'filter-removed': !agg.show}\" ng-if=\"agg.key != null && filter.col.type != 'DATE' && filter.col.type != 'BOOLEAN'\">\"{{agg.key}}\"</span> <span ng-class=\"{'filter-removed': !agg.show}\" ng-if=\"agg.key == null\">\"[Empty value]\"</span> {{$last ? '' : (filter.and_or ? 'and' : 'or')}} </span> <span class=\"close ui-select-match-close\">&nbsp;\xD7</span> </span> </span> </span> </div>"),$templateCache.put("static/templates/include/ingest-db-tables.html","<div id=sidebar-wrapper-filters class=\"sidebar-wrapper sidebar-flexible no-select\" resizable=\"{id:filterId, min: 215, default: 300, max: 600, save: savePaneWidth, hideOnInit: true, minResizeCallback: toggleRightFilters}\"> <div class=\"resize-handle-h resize-handle-filter\"></div> <div class=ingest-table-title-header> <div class=title>Tables & Saved Views</div> <div class=close-tables ng-click=toggleRightFilters()> <i class=\"fa fa-lg fa-angle-double-left\"></i> </div> </div> <div class=ingest-table-wrapper> <div class=ingest-table-header> <div class=table-search> <input class=table-search-input ng-model=searchTest.name placeholder=Search> <span class=icon><i class=\"fa fa-search\"></i></span> <span class=refresh-icon> <i class=\"fa fa-refresh\" ng-click=forceRefreshDatabaseTables(ingestDataSummary.parentDatabase) ng-class=\"{ 'refreshing-spin': databaseTablesSettings.refresh}\" uib-tooltip=\"Refresh tables\" tooltip-placement=right tooltip-popup-delay=250 tooltip-append-to-body=true tooltip-class=main-page-tooltip> </i> </span> </div> </div> <uib-accordion close-others=false class=scrollable-accordion> <ul uib-accordion-group class=\"table-list dropdown-options\" is-open=savedViewsSettings.opened> <uib-accordion-heading> <i class=\"pull-left bold fa table-list__arrow\" ng-class=\"{'fa-caret-down': savedViewsSettings.opened, 'fa-caret-right': !savedViewsSettings.opened}\"></i> <span class=table-list__header>Saved Views</span> </uib-accordion-heading> <li class=\"no-overflow no-saved-views\" ng-if=\"ingestDataSummary.savedViews.length === 0\">No saved views for this source.</li> <li class=no-overflow ng-click=selectDatabaseView(view) ng-class=\"{active : view.selected}\" ng-repeat=\"view in ingestDataSummary.savedViews | searchFilterWithCallback:searchTest:toggleSavedViews\"> <span>{{view.name}}</span> </li> </ul> <ul uib-accordion-group class=\"table-list dropdown-options\" is-open=databaseTablesSettings.opened is-disabled=databaseTablesSettings.disabled> <uib-accordion-heading> <i class=\"pull-left bold fa table-list__arrow\" ng-class=\"{'fa-caret-down': databaseTablesSettings.opened, 'fa-caret-right': !databaseTablesSettings.opened}\"></i> <span class=table-list__header>Tables</span> </uib-accordion-heading> <li class=\"no-overflow no-tables\" ng-if=\"!databaseTablesSettings.refresh && ingestDataSummary.databaseTables.length === 0\">No tables for this source.</li> <li class=no-overflow ng-click=selectTable(table) ng-class=\"{active : ingestDataSummary.table === table.tableId}\" ng-attr-id=\"{{ingestDataSummary.table == table.tableId ? 'selected' : ''}}\" ng-repeat=\"table in ingestDataSummary.databaseTables | searchFilterWithCallback:searchTest:toggleDatabaseTables\"> <span>{{table.name}}</span> </li> </ul> </uib-accordion> </div> </div>"),$templateCache.put("static/templates/include/ingest-other-settings-dropdown.html","<div class=limit-settings-dropdown> <div class=limit-settings-pill-wrapper ng-repeat=\"item in ingestOtherSettingsDropdown.items\" ng-class=\"{'top-border': $index > 0}\"> <div class=limit-settings-pill-section> <span class=limit-settings-pill-caption compile=item.title></span> <div class=limit-settings-select tabindex=0 uib-dropdown is-open=item.isOpen> <div ng-if=item.isEditable class=limit-input-wrapper ng-click=\"ingestOtherSettingsDropdown.toggleChoicesDropdown($event, item)\"> <input type={{item.type}} min=0 ng-focus=onIngestOtherSettingsFocusInput($event) ng-model=item.value ng-blur=onIngestOtherSettingsBlur(item) ng-keydown=\"onKeyDownIngestOtherSettingsInput($event, item)\" ng-change=onIngestOtherSettingsModelChanged(item) pu-elastic-input> </div> <span ng-if=!item.isEditable class=limit-item-value ng-click=\"ingestOtherSettingsDropdown.toggleChoicesDropdown($event, item)\" uib-tooltip={{item.value}} tooltip-enable=\"item.value.length > 20\" tooltip-append-to-body=true tooltip-placement=top tooltip-popup-delay=250 tooltip-class=main-page-tooltip> {{item.value}} <span class=caret></span> </span> <ul ng-show=\"ingestOtherSettingsDropdown.choices[item.key] && ingestOtherSettingsDropdown.choices[item.key].helperDropdown\" class=dropdown-menu uib-dropdown-menu> <li ng-repeat=\"choice in ingestOtherSettingsDropdown.choices[item.key].helperDropdown\" ng-click=\"onIngestOtherSettingsChoiceSelect($event, choice, item)\" ng-class=\"{'selected': choice == item.value}\" class=dropdown-menuitem> <span class=\"dropdown-menuitem-content no-overflow\" ng-bind=choice></span> </li> </ul> </div> </div> <a ng-show=\"ingestOtherSettingsDropdown.choices[item.key] && ingestOtherSettingsDropdown.choices[item.key].infoText\" class=info-button uib-tooltip={{ingestOtherSettingsDropdown.choices[item.key].infoText}} tooltip-append-to-body=true tooltip-placement=top tooltip-popup-delay=250 tooltip-class=main-page-tooltip></a> </div> </div>"),$templateCache.put("static/templates/include/join-settings.html","<div class=modal-header> <button type=button class=close ng-click=cancelJoinSettings()>&times;</button> <h4 class=modal-title>Join Settings</h4> </div> <div class=modal-body> <dl class=dl-horizontal> <dt>Type</dt> <dd> <div class=form-group> <select class=form-control ng-init=joinType ng-change=joinTypeSelected() ng-options=\"t as t for t in availableJoinTypes\" ng-model=$parent.joinType> <option value=\"\" disabled=disabled>-- Select Join Type --</option> </select> </div> <div ng-if=joinParam.text> {{ joinParam.text }} </div> </dd> <div ng-if=\"joinParam.type == 'join'\"> <dt>Join Type</dt> <dd> <div class=form-group> <select class=form-control ng-model=joinSettings.type ng-options=\"t.value as t.name for t in joinTypes\"> <option value=\"\" disabled=disabled>-- Select Join Type --</option> </select> </div> </dd> <dt>Join Fields</dt> <dd> <div ng-repeat=\"condition in joinSettings.conditions\"> <div class=form-group> <div class=col-md-5 style=\"padding:5px 0\"> <select class=form-control ng-option ng-model=condition.leftKey ng-options=\"c as c for c in joinLeftDs\"> <option value=\"\" disabled=disabled>-- Select Left Key --</option> </select> </div> <div class=col-md-1 style=text-align:center;line-height:44px> = </div> <div class=col-md-5 style=\"padding:5px 0\"> <select class=form-control ng-model=condition.rightKey ng-options=\"c as c for c in joinRightDs\"> <option value=\"\" disabled=disabled>-- Select Right Key --</option> </select> </div> <div class=col-md-1 style=text-align:right;padding:7px> <button class=\"btn join-modal-btn\" type=button ng-click=removeJoinCondition($index)> <i class=\"fa fa-times\"></i> </button> </div> </div> </div> <div class=clearfix></div> <button class=\"btn join-modal-btn pull-left\" ng-click=addJoinCondition() title=\"+ Add additional\"><i class=\"fa fa-plus\"></i></button> </dd> </div> </dl> </div> <div class=modal-footer> <button type=submit class=\"btn btn-primary-cstm pull-right\" style=width:100px;margin-left:10px ng-click=saveJoinSettings() ng-if=\"joinParam.type != 'union'\">Save</button> <button type=submit class=\"btn btn-primary-cstm pull-right\" style=width:100px;margin-left:10px ng-click=switchJoin() ng-if=\"joinParam.type == 'union'\">Save</button> <button class=\"btn btn-default-cstm pull-right\" style=width:100px ng-click=cancelJoinSettings()>Cancel</button> </div>"),$templateCache.put("static/templates/include/join.html","<p>Select upload:</p> <div class=form-group> <select class=form-control ng-model=model.from ng-options=\"u.id as u.name for u in getUploadsLeft(model.from)\"> <option value=\"\" disabled=disabled>-- Select Upload --</option> </select> </div> <div class=form-group ng-repeat=\"jt in model.joins\"> <a href=javascript:void(0) ng-click=deleteJoin($index)><i class=\"fa fa-remove\"></i></a> <select class=form-control ng-model=jt.type ng-options=\"t.value as t.name for t in joinTypes\"> <option value=\"\" disabled=disabled>-- Select Join Type --</option> </select> <select class=form-control ng-model=jt.upload ng-options=\"u.id as u.name for u in getUploadsLeft(jt.upload)\"> <option value=\"\" disabled=disabled>-- Select Upload --</option> </select> <div class=row> <div class=col-sm-6> <select class=form-control ng-model=jt.leftKey ng-options=\"h.id as h.name for h in getLeftKeys($index) track by h.id \"> <option value=\"\" disabled=disabled>-- Select Left Key --</option> </select> </div> <div class=col-sm-6> <select class=form-control ng-model=jt.rightKey ng-options=\"h.id as h.name for h in getRightKeys($index) track by h.id\"> <option value=\"\" disabled=disabled>-- Select Right Key --</option> </select> </div> </div> </div> <button class=\"btn btn-default pull-right\" ng-disabled=\"model.joins.length >= getUploads().length - 1\" ng-click=addJoin()>Join Another Table</button> <br><br>"),$templateCache.put("static/templates/include/limit-settings-dropdown.html","<div class=limit-settings-dropdown> <div class=limit-settings-pill> <div class=limit-settings-pill-wrapper ng-repeat=\"item in limitSettingsDropdown.items\" ng-class=\"{'top-border': $index > 0}\"> <div class=limit-settings-pill-section> <span class=limit-settings-pill-caption ng-bind=item.title></span> <div class=limit-settings-select uib-dropdown is-open=item.isOpen> <div class=limit-input-wrapper ng-click=\"limitSettingsDropdown.toggleChoicesDropdown($event, item, true)\"> <input type=number placeholder=Type... min=0 ng-focus=$event.stopPropagation() ng-model=item.limit ng-blur=onLimitBlur(item) ng-keydown=\"onKeyDownLimitInput($event, item)\" ng-change=onLimitModelChanged(item)> </div> <ul class=dropdown-menu uib-dropdown-menu> <li ng-repeat=\"choice in limitSettingsDropdown.choices[item.key]\" ng-click=\"onLimitChoiceSelect(choice, item)\" class=dropdown-menuitem> <span class=dropdown-menuitem-content ng-bind=choice></span> </li> </ul> </div> </div> </div> </div> </div>"),$templateCache.put("static/templates/include/linked-datadocs-popover.html","<div class=linked-datadocs-popover> <div ng-repeat=\"datadoc in u.relatedDatadocs | orderBy:'name'\"> <a ui-sref=\"main.visualize({id: datadoc.id})\" class=no-overflow>{{datadoc.name}}</a> </div> </div>"),$templateCache.put("static/templates/include/main-page-ds-pane.html","<div class=\"upload-item movable no-select\" ng-class=\"{selected: isUploadSelected(u), folder: u.type == 'folder', 'highlight-selected' : uploadHighlightStatus(u) === 'selected', 'highlight-non-selected' : uploadHighlightStatus(u)==='non-selected'}\"> <input type=hidden class=uid value={{u.id}}> <div class=\"col-md-6 col-sm-6 col-xs-6\"> <div class=first-column> <div class=\"icon drag-handler\"> <div class=\"img {{getUploadIcon(u)}}\"></div> </div> <div class=name ng-switch on=\"uploadToRename == undefined || uploadToRename != u\"> <div class=has-subitems ng-switch-when=true> <div class=\"no-overflow drag-handler\" ng-switch on=\"u.type == 'folder'\"> <div ng-switch-when=true class=\"no-overflow main\"> <span uib-tooltip={{u.name}} tooltip-placement=bottom tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip ng-bind-html=u.name></span> <span class=addon ng-show=isShowOriginalName(u)>({{getOriginalName(u)}})</span> <span ng-show=hasError(u) class=annotation-wrapper> <span class=annotation ng-bind=getErrorDescription(u)></span> </span> </div> <div ng-switch-when=false class=\"no-overflow main\" style=position:relative> <span ng-show=!isDb(u) uib-tooltip={{u.name}} tooltip-placement=bottom tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip ng-bind-html=u.name></span> <span ng-show=isDb(u) uib-tooltip={{u.name}} tooltip-placement=bottom tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip>{{u.name+' '}} <span> {{'('+getFormatName(u)+')'}} </span> </span> <span ng-show=hasError(u) class=annotation-wrapper> <span class=annotation ng-bind=getErrorDescription(u)></span> </span> </div> </div> </div> <div ng-switch-when=false> <input class=new-file-name ng-click=$event.stopPropagation(); ng-dblclick=$event.stopPropagation(); placeholder=Undefined ng-model=u.newName> </div> </div> <span class=ingesting-progress>{{u.ingestingProgress >= 0 ? '(' + u.ingestingProgress + '%)' : ''}}</span> </div> </div> <div class=\"col-md-3 col-sm-3 col-xs-3\"> <div class=second-column> {{isSearchSection() ? \"\" : getFormatName(u)}} </div> </div> <div class=\"col-md-3 col-sm-3 col-xs-3\"> <span ng-show=\"getSourcesSelectedColumns(isSearchSection())[COLUMN_NUMBERS.THIRD] == 'Added on'\"> <div class=third-column>{{u.created | date:'mediumDate'}}</div> </span> <span ng-show=\"getSourcesSelectedColumns(isSearchSection())[COLUMN_NUMBERS.THIRD] == 'Size'\"> <div class=\"third-column multiline-column\"> <span>{{getFileSizeString(u)}}</span><br> <span class=secondary-text>{{getDimensionsString(u)}}</span> </div> </span> <span ng-show=\"getSourcesSelectedColumns(isSearchSection())[COLUMN_NUMBERS.THIRD] == 'Added by'\"> <div class=third-column>{{u.userName}}</div> </span> <span ng-show=\"getSourcesSelectedColumns(isSearchSection())[COLUMN_NUMBERS.THIRD] == 'Data last refreshed'\"> <div class=third-column ng-show=\"u.committed && u.type != 'folder'\">{{u.committed | date:'mediumDate'}}</div> <div class=third-column ng-show=\"!u.committed && u.type == 'doc'\">Index not committed</div> <div class=third-column ng-show=\"!u.committed && u.type != 'doc'\">\u2014</div> </span> <span ng-show=\"getSourcesSelectedColumns(isSearchSection())[COLUMN_NUMBERS.THIRD] == 'Last viewed by me'\"> <div class=third-column>{{(u.lastViewedByMe | date:'mediumDate') || '\u2014'}}</div> </span> <span ng-show=\"getSourcesSelectedColumns(isSearchSection())[COLUMN_NUMBERS.THIRD] == 'Date'\"> <div class=third-column>{{(u.lastViewedByMeOrAddedOn | date:'mediumDate') || '\u2014'}}</div> </span> </div> </div>"),$templateCache.put("static/templates/include/main-page-file-details.html","<div class=header> <div class=header-content> <div class=header-content-title> <div class=\"icon drag-handler\"> <div class=\"img {{fileDetails.icon}}\"></div> </div> <span class=file-name>{{fileDetails.current.name}}</span> </div> <span ng-click=closeFileDetailsPanel() class=close-button> <svg x=0px y=0px width=14px height=14px viewBox=\"0 0 10 10\" focusable=false> <polygon class=a-s-fa-Ha-pa fill=#000000 points=\"10,1.01 8.99,0 5,3.99 1.01,0 0,1.01 3.99,5 0,8.99 1.01,10 5,6.01 8.99,10 10,8.99 6.01,5 \"></polygon></svg></span> </div> <div class=header-details-title> DETAILS </div> </div> <div class=details> <div class=details-point ng-if=fileDetails.isDatadoc> <div class=details-point-header>Share With</div> <div class=details-point-value> <a ng-click=\"openShareModal($event, fileDetails.current.id)\" uib-tooltip-html=getSharedInfoTooltip(fileDetails.current) tooltip-placement=bottom tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip> {{fileDetailsShareWithMessage(fileDetails.current)}} </a> </div> </div> <div class=details-point> <div class=details-point-header>Type</div> <div class=details-point-value>{{fileDetails.type}}</div> </div> <div class=details-point ng-show=fileDetails.current.descriptor.size> <div class=details-point-header>Size</div> <div class=details-point-value>{{fileDetails.current.descriptor.size | size:1:\"bytes\"}}</div> </div> <div class=details-point ng-show=fileDetails.numSheets> <div class=details-point-header>Num Sheets</div> <div class=details-point-value>{{fileDetails.numSheets}}</div> </div> <div class=details-point ng-show=fileDetails.numTables> <div class=details-point-header>Num Tables</div> <div class=details-point-value>{{fileDetails.numTables}}</div> </div> <div class=details-point> <div class=details-point-header>Location</div> <div class=details-point-value>{{fileDetails.location}}</div> </div> <div class=details-point> <div class=details-point-header>Added on</div> <div class=details-point-value>{{fileDetails.current.created | date:'mediumDate'}}</div> </div> <div class=details-point> <div class=details-point-header>Added by</div> <div class=details-point-value>{{$parent.userState.userId == fileDetails.current.userId ? 'me' : fileDetails.current.userName}}</div> </div> <div class=details-point ng-show=\"fileDetails.isDatadoc && fileDetails.current.lastViewedByMe\"> <div class=details-point-header>Last opened</div> <div class=details-point-value>{{fileDetails.current.lastViewedByMe | date:'MMM d, y h:mm a'}}</div> </div> <div class=details-point ng-show=\"fileDetails.isDatadoc && fileDetails.current.updated\"> <div class=details-point-header>Last refreshed</div> <div class=details-point-value>{{fileDetails.current.updated | date:'MMM d, y h:mm a'}}</div> </div> <div class=details-point ng-show=fileDetails.current.descriptor> <div class=details-point-header>Datadocs</div> <div class=details-point-value> <span ng-show=\"fileDetails.current.relatedDatadocs.length == 0\">\u2014</span> <a ng-click=\"goToVisualization(datadoc, true)\" ng-repeat=\"datadoc in fileDetails.current.relatedDatadocs | orderBy:'name'\">{{datadoc.name}} <i class=\"fa fa-external-link\"></i></a> </div> </div> </div> <div class=function-block> <button class=\"button btn btn-filters btn-filters-blue\" ng-click=ingestSelectedSource() ng-if=!fileDetails.isDatadoc ng-show=\"fileDetails.current.type!='folder'\"> {{fileDetails.isDatabase ? 'Create datadoc from DB' : 'Open source'}} </button> <button class=\"button btn btn-filters btn-filters-blue\" ng-click=goToVisualization(fileDetails.current) ng-if=fileDetails.isDatadoc> Open Datadoc </button> </div> "),$templateCache.put("static/templates/include/no-docs.html","<div class=\"main-page-ds-pane last\"> <div class=col-md-12> <div class=\"empty-section-description empty-docs\"> <div class=icon></div> <div class=text> <div class=header>There are no datadocs here.</div> <div>Click the \"Create\" button<br>to create a new datadoc</div> <div class=clearfix></div> </div> </div> </div> <div class=clearfix></div> </div> "),$templateCache.put("static/templates/include/no-sources.html","<div class=\"no-sources main-page-ds-pane last\"> <div class=col-md-12> <div class=\"empty-section-description empty-sources\"> <div class=icon></div> <div class=text> <div class=header>There are no sources here.</div> <div>Drag files here to upload<br>or use the \"Create\" button.</div> <div class=footer>Excel, csv, tsv, json and xml are acceptable file formats.</div> <div class=clearfix></div> </div> </div> </div> <div class=clearfix></div> </div> "),$templateCache.put("static/templates/include/object-select.html","<div class=object-select> <input class=\"form-control selected status-bar-input\" ng-disabled={{isDisabled}} ng-focus=object.edit() ng-blur=object.update() ng-keydown=object.keyEvent($event) placeholder={{object.placeholder}} ng-model=selectedValue pu-elastic-input autocorrect=off autocapitalize=none> </div>"),$templateCache.put("static/templates/include/page-loader.html","<div class=\"state-loader loader large\" ng-show=stateChange> <div ng-show=showFullBackdrop class=loader-backdrop> </div> <div class=loader-spinner> <div class=loader-spinner-wheel></div> <div class=\"loader-inner-text no-select\" ng-show=innerText ng-bind-html=innerText></div> <a class=loader-cancel ng-click=cancelRequest() ng-show=showCancelRequestButton>Cancel</a> </div> </div> "),$templateCache.put("static/templates/include/preserve-history.html","<form> <div class=modal-header> <button type=button class=close ng-click=closePreserveHistoryModal()>&times;</button> <h4 class=modal-title>Preserve history</h4> </div> <div class=modal-body> <dl class=dl-horizontal style=margin-bottom:0> <dt>Retention</dt> <dd> <ul class=list-inline> <li> <input type=number class=form-control style=width:65px ng-model=preserveHistoryModalSettings.retention.value min=1 max=365> </li> <li> <select class=form-control style=width:120px ng-options=\"t as t for t in preserveHistoryModalSettings.retention.period\" ng-model=preserveHistoryModalSettings.retention.selectedPeriod> </select> </li> </ul> </dd> </dl> </div> <div class=modal-footer> <button type=submit ng-if=preserveHistoryModalSettings.column.preserveHistory class=\"btn btn-default-cstm pull-left\" style=width:100px ng-click=deletePreserveHistory()>Delete</button> <button type=submit class=\"btn btn-primary-cstm pull-right\" style=width:100px;margin-left:10px ng-click=updatePreserveHistory()>Save</button> <button class=\"btn btn-default-cstm pull-left\" style=width:100px ng-click=closePreserveHistoryModal()>Cancel</button> </div> </form>"),$templateCache.put("static/templates/include/preview-annotation.html","<form> <div class=modal-header> <button type=button class=close ng-click=closePreviewAnnotationModal()>&times;</button> <h4 class=modal-title>Annotation</h4> </div> <div class=modal-body> <textarea class=form-control ng-model=annotationModalSettings.annotation rows=3 maxlength=1000 autofocus placeholder=\"Enter an annotation for your source\"></textarea> </div> <div class=modal-footer> <button type=submit ng-if=annotationModalSettings.oldAnnotation class=\"btn btn-default-cstm pull-left\" style=width:100px ng-click=deletePreviewAnnotation()>Delete</button> <button type=submit class=\"btn btn-primary-cstm pull-right\" style=width:100px;margin-left:10px ng-click=updatePreviewAnnotation()>Save</button> <button class=\"btn btn-default-cstm pull-right\" style=width:100px ng-click=closePreviewAnnotationModal()>Cancel</button> </div> </form>"),$templateCache.put("static/templates/include/preview-distinct.html","<div class=modal-header> <button type=button class=close ng-click=closePreviewDistinctModal()>&times;</button> <h4 class=modal-title>Deduplicate Settings</h4> </div> <div class=modal-body> <div class=modal-helper-text>Select columns to deduplicate on:</div> <div ng-repeat=\"column in distinctModalSettings.selected\"> <button class=\"btn join-modal-btn\" type=button ng-click=distinctModalSettings.remove(column)> <i class=\"fa fa-times\"></i> </button> {{removeCorners(column.name)}} </div> <div class=form-group style=clear:both ng-show=\"distinctModalSettings.notSelected.length > 0\"> <select class=form-control ng-model=distinctModalSettings.selectedColumn ng-options=\"column as removeCorners(column.name) for column in distinctModalSettings.notSelected\" ng-change=distinctModalSettings.add(distinctModalSettings.selectedColumn)> <option value=\"\" disabled=disabled>-- Add Column --</option> </select> </div> <div class=clearfix></div> </div> <div class=modal-footer> <button type=submit class=\"btn btn-primary-cstm pull-right\" style=width:100px;margin-left:10px ng-disabled=\"distinctModalSettings.selected.length == 0\" ng-click=updatePreviewDistinct()>Save</button> <button class=\"btn btn-default-cstm pull-right\" style=width:100px ng-click=closePreviewDistinctModal()>Cancel</button> </div>"),$templateCache.put("static/templates/include/preview-format-visualize.html","<form> <div class=modal-header> <button type=button class=close ng-click=closePreviewFormatModal()>&times;</button> <h4 class=modal-title>Number Format</h4> </div> <div class=modal-body> <dl class=dl-horizontal style=margin-bottom:10px> <dt>Sample</dt> <dd style=padding-top:8px;white-space:nowrap>{{ -12250.0123456789 | numberFilter: formatModalSettings}}</dd> </dl> <dl class=dl-horizontal style=margin-bottom:10px> <dt>Decimal places</dt> <dd style=padding-top:5px> <select class=form-control style=width:65px ng-options=\"t as t for t in formatModalSettings.decimalPlacesAvailable\" ng-model=formatModalSettings.decimal> </select> </dd> </dl> <dl class=dl-horizontal style=margin-bottom:10px> <dt>Symbol</dt> <dd> <select class=form-control style=width:65px ng-options=\"t as t for t in formatModalSettings.symbsAvailable\" ng-model=formatModalSettings.symb> </select> </dd> </dl> <dl class=dl-horizontal style=margin-bottom:10px> <dt>Negative values</dt> <dd> <select class=form-control style=width:65px ng-options=\"t.key as t.name for t in formatModalSettings.negativeValues\" ng-model=formatModalSettings.negative> </select> </dd> </dl> </div> <div class=modal-footer> <button type=submit class=\"btn btn-primary-cstm pull-right\" style=width:100px;margin-left:10px ng-click=updatePreviewFormat()>Save</button> <button class=\"btn btn-default-cstm pull-left\" style=width:100px ng-click=closePreviewFormatModal()>Cancel</button> </div> </form>"),$templateCache.put("static/templates/include/preview-format.html","<form> <div class=modal-header> <button type=button class=close ng-click=closePreviewFormatModal()>&times;</button> <h4 class=modal-title>Format</h4> </div> <div class=modal-body> <dl class=dl-horizontal style=margin-bottom:10px> <dt>Sample</dt> <dd style=padding-top:8px>{{ formatModalSettings.type }}{{ 25 | number: (formatModalSettings.decimalPlaces || 0) }}</dd> </dl> <dl class=dl-horizontal style=margin-bottom:10px> <dt>Decimal places</dt> <dd style=padding-top:5px><input type=number min=0 max=19 ng-model=formatModalSettings.decimalPlaces style=padding-left:12px;width:65px></dd> </dl> <dl class=dl-horizontal style=margin-bottom:10px> <dt>Symbol</dt> <dd> <select class=form-control style=width:65px ng-change=\"formatModalSettings.type = formatModalSettings.typeSelected\" ng-options=\"t as t for t in formatModalSettings.types\" ng-model=formatModalSettings.typeSelected> </select> </dd> </dl> </div> <div class=modal-footer> <button type=submit class=\"btn btn-primary-cstm pull-right\" style=width:100px;margin-left:10px ng-click=updatePreviewFormat()>Save</button> <button class=\"btn btn-default-cstm pull-left\" style=width:100px ng-click=closePreviewFormatModal()>Cancel</button> </div> </form>"),$templateCache.put("static/templates/include/query-editor.html","<ui-codemirror ui-codemirror-opts=ingestDataSummary.queryEditorOptions ng-model=ingestDataSummary.query ng-change=queryChanged() ui-refresh=ingestDataSummary.query> </ui-codemirror> <div class=resize-handle-line></div> <div class=drag-section></div> <div class=query-toolbar> <button class=\"btn toolbar-button pull-left\" ng-click=runQuery() ng-disabled=\"inRequest || !ingestDataSummary.queryMode || !ingestDataSummary.query\">Preview Query </button> <div class=\"result-message pull-left\"> <div class=flex-column-no-wrap> <span class=bold>{{getQuerySuccessMessage()}}</span> <span class=note ng-if=getQuerySuccessMessage()>{{getQueryNoteMessage()}}</span> </div> <div class=error-wrapper ng-if=getQueryErrorMessage()> <span class=error-type>Query error:</span> <span class=error-message>{{getQueryErrorMessage()}}</span> </div> </div> <div class=\"query-history dropdown-options\" uib-dropdown> <div class=\"dropdown-menu pull-right\" uib-dropdown-menu> <div class=dropdown-arrow> <div class=outer></div> <div class=inner></div> </div> <div> <ul class=sidebar-ul style=max-height:440px role=menu ng-click=\"\"> <li role=menuitem ng-repeat=\"query in ingestDataSummary.queryHistory\" ng-click=updateQueryFromHistory(query.query) class=menu-item-table uib-tooltip={{query.query}} tooltip-popup-delay=250 tooltip-class=main-page-tooltip> <a href=javascript:void(0)> <span class=query-status ng-class=\"query.success ? 'done' : 'fail'\"></span> <span class=query>{{query.query}}</span> </a> </li> </ul> </div> </div> </div> <div class=\"query-favorites dropdown-options\" click-out=favoriteQueryDropdown.toggle(false)> <div class=\"dropdown-menu pull-right\" ng-show=favoriteQueryDropdown.opened> <div class=dropdown-arrow> <div class=outer></div> <div class=inner></div> </div> <div> <ul class=sidebar-ul style=max-height:440px;min-width:250px role=menu> <li ng-repeat=\"query in ingestDataSummary.queryFavorites\" ng-click=\"updateQueryFromFavorites(query); favoriteQueryDropdown.toggle(false)\" class=menu-item-table uib-tooltip={{query.descriptor.query}} tooltip-popup-delay=250 tooltip-class=main-page-tooltip tooltip-placement=top> <div> <div class=item-description> <span>{{query.name}}</span> <div uib-dropdown dropdown-append-to-body=true> <i uib-dropdown-toggle ng-click=$event.stopPropagation() class=\"fa fa-caret-down\"> <ul class=\"dropdown-menu favorite-query-sub-dropdown\" uib-dropdown-menu style=width:auto;min-width:0> <li ng-click=updateQueryFromFavorites(query) class=dropdown-menuitem> <a> <span class=dropdown-menuitem-content>Edit</span> </a> </li> <li ng-click=\"confirmQueryDelete($event, query)\" class=dropdown-menuitem> <a> <span class=dropdown-menuitem-content>Delete</span> </a> </li> </ul> </i> </div> </div> <span class=query>{{query.descriptor.query}}</span> </div> </li> </ul> </div> </div> </div> </div> "),$templateCache.put("static/templates/include/re-ingest-confirm.html","<form class=delete-modal> <div class=modal-header> <button type=button class=close ng-click=cancelReIngestModal()>&times;</button> <h4 class=modal-title>This change requires re-saving your data.</h4> </div> <div class=modal-body> <div style=\"padding:20px 0\"> <p>The following changes require us to re-save your data:</p> <p ng-bind-html=reIngestModalOptions.actionText></p> <p>We estimate re-saving your data will take <b>{{reIngestModalOptions.lastLoadText}}</b> to complete.</p> </div> </div> <div class=modal-footer> <button class=\"btn btn-default-flat-goog pull-right\" style=margin-left:10px ng-click=cancelReIngestModal()>Cancel</button> <button type=submit class=\"btn btn-primary-goog pull-right\" ladda=reIngestModalOptions.starting ng-click=reIngestModalOptions.reload() autofocus>OK</button> </div> </form>"),$templateCache.put("static/templates/include/refresh-settings.html","<form> <div class=modal-header> <button type=button class=close ng-click=closeRefreshSettingsModal()>&times;</button> <h4 class=modal-title>Refresh Schedule</h4> </div> <div class=modal-body> <dl class=dl-horizontal style=margin-bottom:0> <dt>Refresh Type</dt> <dd> <div class=form-group> <select class=form-control ng-options=\"t.code as t.name for t in availableTypes\" ng-model=refreshSettings.type> <option value=\"\" disabled=disabled>Select Refresh Type</option> </select> </div> </dd> </dl> <dl class=dl-horizontal ng-show=\"refreshSettings.type != 'NONE'\" style=margin-bottom:0> <dt>Refresh Frequency</dt> <dd> <div class=form-group> <cron-selection ng-model=refreshSettings.cronExpression></cron-selection> </div> </dd> </dl> <dl class=dl-horizontal ng-show=\"refreshSettings.type != 'NONE'\" style=margin-bottom:0> <dt>Preserve History</dt> <dd> <div class=form-group> <input type=checkbox class=regular-checkbox style=margin-top:10px ng-model=refreshSettings.preserveHistory> <label></label> </div> </dd> </dl> </div> <div class=modal-footer> <button type=submit class=\"btn btn-primary-cstm pull-right\" style=width:100px;margin-left:10px ladda=isExternalDsSaving ng-click=saveRefreshSettings()>Save</button> <button class=\"btn btn-default-cstm pull-right\" style=width:100px ng-click=closeRefreshSettingsModal()>Close</button> </div> </form>"),$templateCache.put("static/templates/include/regression-calculator.html","<div class=modal-header> <button type=button class=close ng-click=cancel()>\xD7</button> <h3 class=modal-title ng-bind-html=title></h3> </div> <div class=\"modal-body regression\"> <div class=clearfix> <form name=calculatorForm> <div class=form-group> <label for=x class=\"col-sm-3 control-label\">Enter x:</label> <div class=col-sm-9> <input class=form-control id=x name=x placeholder=\"Enter x\" ng-model=calculateFormModel.x ng-change=calculate() ng-class=\"{'form-control-error': wrongFormat}\" only-numeric autofocus> </div> </div> <br><br><br> <div class=form-group> <label for=y class=\"col-sm-3 control-label\">Result (y):</label> <div class=col-sm-9> <input class=form-control id=y name=y placeholder=\"Result (y)\" ng-model=calculateFormModel.y readonly=readonly> </div> </div> </form> </div> </div> <div class=modal-footer> <button class=\"btn btn-default-cstm\" type=button ng-click=ok()>Close</button> </div>"),$templateCache.put("static/templates/include/rename-datadoc.html","<form class=delete-modal name=$parent.renameDocForm novalidate> <div class=modal-body> <div style=padding-top:20px> <h4>Name before saving</h4> <div style=\"padding:15px 0\">Give your untitled document a name before it's saved:</div> <div class=form-group> <input name=document-name class=form-control ng-model=renameDocModal.docName required style=width:100%> <div ng-show=\"renameDocForm['document-name'].$error.required && renameDocForm['document-name'].$touched\" class=error>Document name should not be empty</div> </div> <div> <button type=submit ng-disabled=renameDocForm.$invalid class=\"btn btn-primary-goog\" style=margin-left:0 ng-click=saveNameAndCommit()>Save</button> </div> </div> </div> </form>"),$templateCache.put("static/templates/include/replace-errors.html","<form> <div class=modal-header> <button type=button class=close ng-click=closeReplaceErrorsModal()>&times;</button> <h4 class=modal-title>Replace Errors in Column \"{{replaceErrorsModalSettings.column.rename || replaceErrorsModalSettings.column.name}}\"</h4> </div> <div class=modal-body> <span>Enter a valid {{replaceErrorsModalSettings.typeNameText}} input to be used as a replacement value for any errors. By default, NULL will be used if nothing is entered here.</span> <input class=form-control ng-model=replaceErrorsModalSettings.replaceErrors autofocus placeholder=\"Enter a replacement value\"> </div> <div class=modal-footer> <button type=submit ng-if=replaceErrorsModalSettings.column.replaceErrors class=\"btn btn-default-cstm pull-left\" style=width:100px ng-click=deleteReplaceErrors()>Delete</button> <button type=submit class=\"btn btn-primary-cstm pull-right\" style=width:100px;margin-left:10px ng-click=updateReplaceErrors()>Save</button> <button class=\"btn btn-default-cstm pull-right\" style=width:100px ng-click=closeReplaceErrorsModal()>Cancel</button> </div> </form>"),$templateCache.put("static/templates/include/save-query-to-favorites.html","<form class=\"delete-modal add-source-modal save-to-favorites\" name=$parent.saveFavoriteForm novalidate> <div class=modal-header> <button type=button class=close ng-click=closeSaveQueryModal()>&times;</button> <h4 class=modal-title> <span>Save Query</span> </h4> </div> <div class=modal-body> <div class=flex-inline> <span>Name:</span> <div class=form-group> <input name=queryName class=form-control ng-model=saveQueryModalSettings.queryName required autofocus autocomplete=off spellcheck=false> </div> </div> <div ng-show=saveQueryModalSettings.update class=placeholder> To create a new query, change the query name </div> <div ng-show=\"saveFavoriteForm.queryName.$error.required && saveFavoriteForm.queryName.$dirty\" class=error>Name is required </div> </div> <div class=modal-footer> <button type=button class=\"btn btn-default-flat-goog pull-right\" style=margin-left:10px ng-click=closeSaveQueryModal()>Cancel </button> <button type=submit ng-disabled=saveFavoriteForm.$invalid class=\"btn btn-primary-goog pull-right\" ladda=saveQueryModalSettings.saving ng-click=saveFavoriteQuery()> {{isSaveOrUpdate() ? 'Update' : 'Save'}} </button> </div> </form>"),$templateCache.put("static/templates/include/search-bar.html","<div ng-if=isLandingPage() class=search-autocomplete> <input ng-model=searchInput.value ng-enter=\"searchInputChange(searchInput.value, true)\" uib-typeahead=\"item.name for item in getSuggestions($viewValue)\" typeahead-on-select=\"onSuggestionSelected($item, $model, $label, $event)\" typeahead-focus-first=false typeahead-template-url=static/templates/include/search-item.html typeahead-no-results=searchInput.noSearchResults placeholder=Search autocorrect=off autocapitalize=none> <button type=button ng-click=\"searchInputChange(searchInput.value, true)\"><i class=\"fa fa-search\"></i></button> <div class=no-results ng-show=searchInput.noSearchResults>There are no recent records that match your search.</div> </div> <div ng-if=isVisualization() class=\"search-autocomplete ng-cloak\"> <div ng-transclude=dropdownOptions style=position:absolute></div> <input ng-model=searchInput.value ng-enter=\"searchInputChange(searchInput.value, true)\" ng-change=delayedSearchInputChange(searchInput.value) ng-trim=false placeholder=Search autocorrect=off autocapitalize=none> <button type=button ng-click=\"searchInputChange(searchInput.value, true)\"><i class=\"fa fa-search\"></i></button> </div>"),$templateCache.put("static/templates/include/search-item.html","<a class=\"search-item row\"> <div class=\"col-md-9 col-sm-9 col-xs-9 ingest-search-item-left\"> <div class=main> <div class=icon> <div class=\"img icon-small {{match.model.icon}}\"></div> </div> <div class=\"name no-overflow\" ng-bind-html=\"match.model.parentName && match.model.isTable ? match.model.parentName + '.' + match.model.name : match.model.name | uibTypeaheadHighlight:query\"> </div> <span class=ingesting-progress>{{match.model.ingestingProgress >= 0 ? \"(\" + match.model.ingestingProgress + \"%)\": ''}}</span> <div class=loading-spinner ng-show=\"$parent.options.currentSelected === match.model.id\"> <svg class=spinner width=20px height=20px viewBox=\"0 0 66 66\" xmlns=http://www.w3.org/2000/svg> <circle class=path fill=none stroke-width=7 stroke-linecap=round cx=33 cy=33 r=30></circle> </svg> </div> </div> </div> <div class=\"col-md-3 col-sm-3 col-xs-3 ingest-search-item-right\"> <div class=date>{{match.model.updated | date:short}}</div> </div> </a>"),$templateCache.put("static/templates/include/search-nav-popup.html","<div class=dropdown-menu ng-show=\"isOpen() && !moveInProgress\" ng-style=\"{top: position().top+'px'}\" role=listbox aria-hidden={{!isOpen()}}> <div class=nav ng-show=!options.isSearchMode()> <span ng-show=options.selectedFolder> <a class=\"item item-link\" ng-click=\"options.selectFolder(undefined, $event)\"> <input type=hidden class=uid> <span>Sources</span></a> <span ng-show=options.selectedFolder> <span ng-repeat=\"parent in options.selectedFolder.parentsPath\"> <span class=\"item item-delimiter\"><i class=\"fa fa-angle-right\"></i></span> <a class=\"item item-link\" ng-click=\"options.selectFolder(parent, $event)\"> <input type=hidden class=uid value={{parent.id}}> <span>{{parent.name}}</span> </a> </span> <span> <span class=\"item item-delimiter\"><i class=\"fa fa-angle-right\"></i></span> <span class=\"item item-current\">{{options.selectedFolder.name}}</span> </span> </span> </span> <span ng-show=\"!options.selectedFolder && options.ingestDataSummary.selectedSources.length\"> <span class=\"item item-current\">Current Source: </span> <a class=\"item item-link\" ng-click=\"options.selectSource(options.ingestDataSummary.selectedSources[0], $event)\"> <span ng-bind=\"options.ingestDataSummary.selectedSources[0].type === 'section-ds' ? options.ingestDataSummary.selectedSources[0].parentName : options.ingestDataSummary.selectedSources[0].name\"></span> </a> </span> <span ng-show=\"!options.selectedFolder && !options.ingestDataSummary.selectedSources.length && options.mostRecentSource\"> <span class=\"item item-current\">Last Source: </span> <a class=\"item item-link\" ng-click=\"options.selectSource(options.mostRecentSource, $event)\"> <span ng-bind=options.mostRecentSource.name></span> </a> </span> </div> <div class=items> <div class=uib-typeahead-match ng-repeat=\"match in matches track by $index\" ng-class=\"{active: isActive($index) }\" ng-mousemove=selectActive($index) ng-click=\"selectMatch($index, $event)\" role=option id={{::match.id}}> <div uib-typeahead-match index=$index match=match query=query template-url=templateUrl></div> </div> </div> </div> "),$templateCache.put("static/templates/include/search-settings-dropdown.html","<div class=\"dropdown-options dropdown\" click-out=searchOptionsDropdown.toggle(false) click-out-excluding-classes=\"['dropdown-menu']\"> <div ng-click=searchOptionsDropdown.toggle() class=dropdown-toggle uib-tooltip=\"Edit search settings\" tooltip-append-to-body=true tooltip-placement=bottom> <span class=gear></span> </div> <div ng-show=searchOptionsDropdown.opened class=\"dropdown-menu sidebar-ul\"> <div class=search-dropdown-wrapper> <div class=search-dropdown-title> <span>Search is currently working across <strong>{{searchOptionsDropdown.enabledItemsCount}}</strong> of {{searchOptionsDropdown.columns.length}} fields.</span> </div> <div class=search-dropdown-section> <span> <strong>Instant search</strong> <a class=info-button uib-tooltip=\"Like Google search, your results will show up as you type.\" tooltip-placement=top tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip></a> </span> <span uib-dropdown is-open=searchOptionsDropdown.isInstantSearchDropdownOpened class=select dropdown-append-to-body=true ng-class=\"{'disabled': !autoRefresh}\" uib-tooltip=\"Auto-Query must be turned on to use Instant Search.\" tooltip-enable=!autoRefresh tooltip-placement=right tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip> <span ng-click=searchOptionsDropdown.toggleInstantSearchDropdown($event)> <span>{{searchOptionsDropdown.instantSearch.text}}</span> <span class=caret></span> </span> <ul class=\"dropdown-menu checkable\" style=width:200px uib-dropdown-menu> <li ng-repeat=\"choice in searchOptionsDropdown.onOffOptions\" ng-click=\"searchOptionsDropdown.onInstantSearchSelect($event, choice)\" ng-class=\"{'selected': choice.value == searchOptionsDropdown.instantSearch.value}\" class=dropdown-menuitem> <a> <span class=dropdown-menuitem-content>{{choice.text}}</span> </a> </li> </ul> </span> </div> <div class=search-dropdown-section> <span> <strong>Highlight matches</strong> <a class=info-button uib-tooltip=\"Whatever matches your search will be highlighted in yellow.\" tooltip-placement=top tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip></a> </span> <span uib-dropdown class=select dropdown-append-to-body=true> <span uib-dropdown-toggle> <span>{{searchOptionsDropdown.highlightMatches.text}}</span> <span class=caret></span> </span> <ul class=\"dropdown-menu checkable\" style=width:200px uib-dropdown-menu> <li ng-repeat=\"choice in searchOptionsDropdown.onOffOptions\" ng-click=\"searchOptionsDropdown.onHighlightMatchesSelect($event, choice)\" ng-class=\"{'selected': choice.value == searchOptionsDropdown.highlightMatches.value}\" class=dropdown-menuitem> <a> <span class=dropdown-menuitem-content>{{choice.text}}</span> </a> </li> </ul> </span> </div> <div class=search-main> <div class=dropdown-option> <div class=search-options-wrapper> <div class=option-name> <input type=checkbox ng-model=searchOptionsDropdown.allSelected ng-model-options=\"{getterSetter: true}\" id=setAll> <label for=setAll></label> <span class=\"text no-overflow\">All Fields</span> </div> <span ng-click=\"searchOptionsDropdown.toggleSearchTypeOptions($event, searchOptionsDropdown.allColumnsOption)\" uib-dropdown is-open=searchOptionsDropdown.searchTypeMenuOpened[searchOptionsDropdown.allColumnsOption.field] ng-class=\"{'disabled': col.disabled}\" class=select> <span ng-bind-html=searchOptionsDropdown.getTypeName(searchOptionsDropdown.allColumnsOption.searchType)></span> <span class=caret></span> <ul class=\"dropdown-menu-right checkable\" style=width:200px uib-dropdown-menu ng-if=searchOptionsDropdown.searchTypeMenuOpened[searchOptionsDropdown.allColumnsOption.field]> <li ng-repeat=\"choice in searchOptionsDropdown.getAvailableSearchTypes(searchOptionsDropdown.allColumnsOption)\" ng-click=\"searchOptionsDropdown.onSearchTypeSelect($event, choice, searchOptionsDropdown.allColumnsOption)\" ng-class=\"{'selected': choice.value == searchOptionsDropdown.allColumnsOption.searchType}\" class=dropdown-menuitem> <a> <span class=dropdown-menuitem-content ng-bind-html=choice.text></span> </a> </li> </ul> </span> </div> </div> <div ng-repeat=\"col in searchOptionsDropdown.columns\" class=dropdown-option uib-tooltip-html=col.disabledTooltip tooltip-enable=col.disabled tooltip-placement=right tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip uib-dropdown is-open=searchOptionsDropdown.searchTypeMenuOpened[col.field]> <div class=search-options-wrapper> <div class=option-name> <input id={{col.name}} type=checkbox ng-model=col.selected ng-disabled=col.disabled ng-click=searchOptionsDropdown.refreshInfo()> <label for={{col.name}}></label> <span class=\"text no-overflow\">{{col.name}}: </span> </div> <span ng-click=\"searchOptionsDropdown.toggleSearchTypeOptions($event, col)\" ng-class=\"{'disabled': col.disabled}\" class=select> <span ng-bind-html=searchOptionsDropdown.getTypeName(col.settings.searchType)></span> <span class=caret></span> </span> </div> <ul class=\"dropdown-menu-right checkable\" uib-dropdown-menu ng-if=searchOptionsDropdown.searchTypeMenuOpened[col.field]> <li ng-repeat=\"choice in searchOptionsDropdown.getAvailableSearchTypes(col)\" ng-click=\"searchOptionsDropdown.onSearchTypeSelect($event, choice, col)\" ng-class=\"{'selected': choice.value == col.settings.searchType}\" class=dropdown-menuitem> <a> <span class=dropdown-menuitem-content ng-bind-html=choice.text></span> </a> </li> </ul> </div> </div> <div class=search-save-changes> <div> <button class=\"btn btn-primary-goog save-changes-btn\" ng-click=searchOptionsDropdown.saveChanges() ladda=searchOptionsDropdown.savingChanges ng-disabled=!searchOptionsDropdown.hasChangesToCommit> Save Changes </button> <button class=\"btn btn-default-flat-goog\" ng-disabled=!searchOptionsDropdown.hasChangesToCommit> Reset </button> </div> <div class=\"est-time small\"> <span ng-if=searchOptionsDropdown.hasChangesToCommit> Est time to save changes: <b>{{ getLastCommitDuration() || '-' }}</b> </span> <span ng-if=!searchOptionsDropdown.hasChangesToCommit> All changes applied. </span> </div> </div> </div> </div> </div>"),$templateCache.put("static/templates/include/set-name-modal.html","<form class=delete-modal name=setName novalidate> <div class=modal-body> <div style=padding-top:20px> <h4>Name your view</h4> <div style=\"padding:15px 0\">Give your view a name before it's saved:</div> <div class=form-group> <input name=name class=form-control ng-model=setNameForStateModal.name required autofocus style=width:100%> <div ng-show=\"setName['name'].$error.required && setName['name'].$touched\" class=error>View name should not be empty</div> </div> <div> <button type=submit ng-disabled=setName.$invalid class=\"btn btn-primary-goog\" style=margin-left:0 ng-click=onSaveCurrentState(setNameForStateModal.name)>Save</button> </div> </div> </div> </form>"),$templateCache.put("static/templates/include/share-modal.html","<form class=share-modal> <div class=modal-header> <button type=button class=close ng-click=closeShareModal()>&times;</button> <h4 class=modal-title>Share with others</h4> </div> <div class=modal-body> <div class=share-with-label>People</div> <div class=share-with-wrapper> <ui-select multiple=multiple ng-model=selectedShareWith.selected id=share-with-input on-before-select=shareInputValidation($item) on-select=\"onSelectPerson($item, $model, $selected)\" on-remove=\"onRemovePerson($item, $model, $selected)\" focus-on=shareInputFocus> <ui-select-match placeholder=\"Enter email addresses...\"> <div class=person-icon> <svg fill=#000000 height=24 viewBox=\"0 0 24 24\" width=24 xmlns=http://www.w3.org/2000/svg> <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"/> <path d=\"M0 0h24v24H0z\" fill=none /> </svg> </div> <span>{{$item.isNewTag ? $item.email : $item.name}}</span> </ui-select-match> <ui-select-choices class=contacts-menu repeat=\"person in canShareWith | filter: $select.search\" refresh-delay=0 refresh=onBeforeChangeUserShare($select.search) minimum-input-length=1> <li class=contacts-menu-item> <div class=contact-content> <div class=\"contact-avatar random-color\" data-initials={{person.name[0].toUpperCase()}} ng-if=!person.avatarPath></div> <div class=contact-avatar ng-if=person.avatarPath> <img ng-src={{person.avatarPath}} alt={{person.name}}> </div> <div class=text> <div class=name ng-hide=person.isNewTag ng-bind-html=\"person.name | highlight: $select.search\"></div> <div class=email ng-bind-html=\"person.email | highlight: !person.isNewTag && $select.search\"></div> </div> </div> </li> </ui-select-choices> </ui-select> <div class=share-button-dropdown uib-dropdown> <button class=\"share-access-button font-strong\" uib-dropdown-toggle> {{selectedSharingRole.display_title}} <span class=gray-arrow> <span class=arrow-down-gray></span> </span> </button> <ul class=\"sharing-access-bubble-menu dropdown-menu-right\" uib-dropdown-menu> <li class=sharing-access-menu-item ng-class=\"{'selected': selectedSharingRole.index === $index}\" ng-repeat=\"role in sharingRoles\" ng-click=\"selectSharingRole(role.display_title, $index)\"> <div class=bubble-check> <div class=check-icon></div> </div> <div class=bubble-text> <div class=title>{{role.display_title}}</div> <div class=description>{{role.description}}</div> </div> </li> </ul> </div> </div> </div> <div class=invalid-results-section ng-show=isShareInvalid>One or more names or email addresses you entered are invalid.</div> <div class=share-sources-wrapper ng-show=selectedShareWith.selected.length> <div class=share-sources-checkbox ng-click=toggleShareAttachedSources()> <input type=checkbox class=regular-checkbox ng-model=shareAttachedSources> <label></label> </div> <div class=share-sources-decsription>Also share all source files attached to this datadoc</div> </div> <div class=share-modal-main-section ng-class=\"{'message-pad-horizontal': selectedShareWith.selected.length}\"> <div class=link-info ng-if=!selectedShareWith.selected.length ng-class=\"{'link-created': sharingLinkCreated}\"> <div class=link-info-icon> <div class=link-icon></div> </div> <div class=link-details> <div class=description ng-bind-html=\"sharingLinkCreated\n                     ? '<b>Anyone</b> with the link can <b>view</b> this file'\n                     : 'No link created yet'\"></div> <div class=link-holder ng-if=sharingLinkCreated> <input title=\"Shared link URL\" ng-copy=handleLinkCopy() class=generated-link ng-model=generatedSharingLink readonly=readonly onclick=this.setSelectionRange(0,this.value.length)> </div> <div class=shared-states-wrapper uib-dropdown dropdown-append-to-body=true ng-show=\"sharingLinkCreated && sharedStates && activeUser.id === sharedInfo.datadocOwner.id\"> <div class=shared-states-description uib-dropdown-toggle> <span class=shared-states-title>Shared State:</span> <div class=shared-states-action> <span>{{selectedSharedState ? selectedSharedState.name : \"None\"}}</span> <span class=gray-arrow> <span class=arrow-down-gray></span> </span> </div> </div> <ul class=\"sharing-member-bubble-menu dropdown-menu-right\" uib-dropdown-menu> <li class=sharing-member-menu-item ng-repeat=\"state in sharedStates\" ng-click=selectSharedState(state) ng-class=\"{'selected': selectedSharedState.uuid === state.uuid, 'disabled': option.disabled}\"> <div class=bubble-check> <div class=check-icon></div> </div> <div class=bubble-text> <div class=title>{{state.name}}</div> </div> </li> </ul> </div> </div> <div class=link-action ng-if=!sharingLinkCreated> <button class=button-as-link ng-click=toggleSharingLink()>Create a link</button> </div> <div class=link-created-action ng-if=sharingLinkCreated uib-dropdown dropdown-append-to-body=true> <button class=\"button-as-link sharing-link-status\" ng-mouseenter=\"hovering=true\" ng-mouseleave=\"hovering=false\" uib-dropdown-toggle>Turned on <span class=gray-arrow ng-if=!hovering> <span class=arrow-down-gray></span> </span> <span class=blue-arrow ng-if=hovering> <span class=arrow-down-blue></span> </span> </button> <ul class=\"sharing-member-bubble-menu dropdown-menu-right\" uib-dropdown-menu> <li class=sharing-member-menu-item ng-repeat=\"option in sharingLinkOptions\" ng-click=\"handleSharingLinkOptions(option, $index)\" ng-class=\"{'selected': selectedSharingLinkOption == $index, 'disabled': option.disabled}\"> <div class=bubble-check> <div class=check-icon></div> </div> <div class=bubble-text> <div class=title>{{option.title}}</div> <div class=description>{{option.description}}</div> </div> </li> </ul> </div> </div> <div class=sharing-member-list ng-if=!selectedShareWith.selected.length> <div class=\"sharing-member-list-item member-me\" ng-if=sharedInfo.sharedWith.length> <div class=\"member-avatar random-color\" data-initials={{sharedInfo.datadocOwner.email[0].toUpperCase()}} ng-if=!sharedInfo.datadocOwner.avatarPath></div> <div class=member-avatar ng-if=sharedInfo.datadocOwner.avatarPath> <img ng-src={{sharedInfo.datadocOwner.avatarPath}} alt={{sharedInfo.datadocOwner.email}}> </div> <div class=sharing-member-info> <div class=member-name-title>{{sharedInfo.datadocOwner.name}}</div> <div class=member-email>{{sharedInfo.datadocOwner.email}}</div> </div> <div class=member-role> <button class=\"button-as-link user-role-owner\"> Owner </button> </div> </div> <div class=sharing-member-list-item ng-repeat=\"person in sharedInfo.sharedWith\"> <div class=\"member-avatar random-color\" data-initials={{person.email[0].toUpperCase()}} ng-if=!person.avatarPath></div> <div class=member-avatar ng-if=person.avatarPath> <img ng-src={{person.avatarPath}} alt={{person.email}}> </div> <div class=sharing-member-info> <div class=member-name-title ng-if=person.name>{{person.name}}</div> <div class=member-email ng-class=\"{'no-member-name': !person.name}\">{{person.email}}</div> </div> <div class=member-role ng-mouseenter=\"hovering=true\" ng-mouseleave=\"hovering=false\" uib-dropdown dropdown-append-to-body=true ng-if=\"activeUser.email != person.email\"> <button class=\"button-as-link user-role-link\" uib-dropdown-toggle>{{getSharedUserRoleTitle(person.shareType)}} <span class=gray-arrow ng-if=!hovering> <span class=arrow-down-gray></span> </span> <span class=blue-arrow ng-if=hovering> <span class=arrow-down-blue></span> </span> </button> <ul class=\"sharing-member-bubble-menu dropdown-menu-right\" uib-dropdown-menu> <li class=sharing-member-menu-item ng-repeat=\"role in sharedUserRoles\" ng-click=\"selectSharedUserRole(person, role.type)\" ng-class=\"{'selected': person.shareType == role.type}\"> <div class=bubble-check> <div class=check-icon></div> </div> <div class=bubble-text> <div class=title ng-class=\"{'title-danger': role.type === 'REMOVE'}\">{{role.title}} </div> <div class=description>{{role.description}}</div> </div> </li> </ul> </div> <div class=member-role ng-if=\"activeUser.email == person.email\"> <button class=\"button-as-link user-role-owner\"> Me </button> </div> </div> </div> <div class=message-wrapper ng-if=selectedShareWith.selected.length> <textarea ng-model=$parent.shareMessage placeholder=\"Add a message (optional)\"></textarea> </div> </div> <div class=modal-footer> <div class=folder-settings> <button class=text-button> <span class=settings-icon></span> Folder settings </button> </div> <div class=share-submit ng-if=selectedShareWith.selected.length> <button class=\"btn btn-primary-goog\" ladda=isSharing ng-disabled=isShareInvalid ng-click=shareDatadoc($parent.shareMessage)>Share </button> <button class=\"btn btn-default-flat-goog\" ng-click=shareCancel()>Cancel</button> </div> </div> </form>"),$templateCache.put("static/templates/include/signed-out-modal.html","<form class=network-modal> <div class=modal-header> <h4 class=modal-title>Signed out</h4> </div> <div class=modal-body id=modal-body> <div class=body-description>It looks like you have been signed out in another tab.</div> </div> <div class=modal-footer> <button type=submit class=\"btn btn-primary-goog pull-right\" ng-click=forceRefreshPage()>Refresh</button> </div> </form>"),$templateCache.put("static/templates/include/sort-columns.html","<div ng-repeat=\"col in sortColumnsOptions.columns\" ng-class=col.class> <div ng-if=\"col.choices.length > 1\"> <span uib-dropdown> <span uib-dropdown-toggle class=col-name-wrapper ng-class=\"{'hovered': col.hovered}\" ng-click=\"col.onHeaderClick($event, col)\" ng-mouseover=\"col.hovered = true;\" ng-mouseout=\"col.hovered = false;\"> <span ng-class=col.innerClass compile=col.selected.title></span> <span class=sort-section-wrapper ng-show=\"!col.selected.sortDisabled && !col.sort.disabled && (col.hovered || col.sort.direction)\" ng-click=\"sortColumnsOptions.onSort($event, col)\"> <span ng-if=\"col.sort.direction == SortDirection.ASC\" class=goog-arrow></span> <span ng-if=\"col.sort.direction == SortDirection.DESC\" class=\"goog-arrow goog-arrow-down\"></span> </span> </span> <ul class=main-page-dropdown-menu uib-dropdown-menu> <li ng-repeat=\"choice in col.choices\" ng-click=col.onChoiceSelected(choice) class=main-page-dropdown-menuitem ng-class=\"{'selected': choice == col.selected}\"> <span ng-bind-html=choice.title></span> </li> </ul> </span> </div> <div ng-if=\"col.selected.title === 'Type' && activeSection !== SECTIONS.SEARCH\"> <span uib-dropdown auto-close=outsideClick> <span uib-dropdown-toggle class=col-name-wrapper ng-class=\"{'hovered': col.hovered}\" ng-click=\"col.onHeaderClick($event, col)\" ng-mouseover=\"col.hovered = true;\" ng-mouseout=\"col.hovered = false;\"> <span ng-class=col.innerClass> {{ col.selected.title }} ({{(showUploadsTypes | filter:{selected:true}).length }}/{{ showUploadsTypes.length }}) </span> <span class=sort-section-wrapper ng-show=\"!col.selected.sortDisabled && !col.sort.disabled && (col.hovered || col.sort.direction)\" ng-click=\"sortColumnsOptions.onSort($event, col)\"> <span ng-if=\"col.sort.direction == SortDirection.ASC\" class=goog-arrow></span> <span ng-if=\"col.sort.direction == SortDirection.DESC\" class=\"goog-arrow goog-arrow-down\"></span> </span> </span> <ul class=\"main-page-dropdown-menu upload-types-dropdown\" uib-dropdown-menu> <li class=header-li>Show</li> <li ng-repeat=\"type in showUploadsTypes\" ng-click=changeUploadTypes(type)> <span> <input type=checkbox class=regular-checkbox ng-checked=type.selected> <label></label> </span> <span>{{type.name}}</span> </li> </ul> </span> </div> <span ng-if=\"col.choices.length === 1 && col.selected.title !== 'Type'\" class=col-name-wrapper ng-class=\"{'without-click-action': !col.onHeaderClick,\n                     'hovered': col.hovered}\" ng-click=\"col.onHeaderClick($event, col)\" ng-mouseover=\"col.hovered = true;\" ng-mouseout=\"col.hovered = false;\"> <span ng-if=!col.templateUrl ng-class=col.innerClass compile=col.selected.title></span> <span ng-if=col.templateUrl ng-class=col.innerClass ng-include=col.templateUrl></span> <span class=sort-section-wrapper ng-show=\"!col.selected.sortDisabled && !col.sort.disabled && (col.hovered || col.sort.direction)\" ng-click=\"sortColumnsOptions.onSort($event, col)\"> <span ng-if=\"col.sort.direction == SortDirection.ASC\" class=goog-arrow></span> <span ng-if=\"col.sort.direction == SortDirection.DESC\" class=\"goog-arrow goog-arrow-down\"></span> </span> </span> </div>"),$templateCache.put("static/templates/include/sort-settings-dropdown.html","<div class=sort-section click-out=closeDropdown()> <div class=sort-section-pill> <div class=sort-section-pill-section> <span>Order by:</span> <div class=\"sort-section-pill-nodrag inline-block sort-section-select\"> <div class=\"inline-block sort-section-select-inner-box\"> <span uib-dropdown> <div class=\"inline-block sort-section-select-caption droppable\" uib-dropdown-toggle> <span class=caption ng-bind-html=item.selectedDirection></span> </div> <ul class=dropdown-menu uib-dropdown-menu> <li ng-repeat=\"choice in item.directionChoices\" ng-click=item.setDirection(choice) class=dropdown-menuitem> <span class=dropdown-menuitem-content ng-bind=choice.title></span> </li> </ul> </span> </div> </div> </div> <div class=\"sort-section-pill-section sort-section-pill-section-top-border\"> <span class=sort-section-pill-sort-by>Sort by:</span> <div class=\"sort-section-pill-nodrag inline-block sort-section-select waffle-pivot-pill-sort-by\"> <div class=\"inline-block sort-section-select-inner-box\"> <span uib-dropdown> <div class=\"inline-block sort-section-select-caption droppable\" uib-dropdown-toggle> <span class=caption ng-bind-html=item.selectedSortBy></span> </div> <ul class=dropdown-menu uib-dropdown-menu> <li ng-repeat=\"choice in item.sortByChoices\" ng-click=item.setSortBy(choice) class=dropdown-menuitem> <span class=dropdown-menuitem-content ng-bind-html=choice.title></span> </li> </ul> </span> </div> <div ng-repeat=\"multiplyChoice in item.multiplyChoices |orderBy:$index\" ng-if=\"multiplyChoice.match === item.selectedSortBy\" click-out=multiplyChoice.closeDropdown() click-out-excluding-classes=\"['dropdown-menu']\" class=\"sort-section-pivot-pill-nodrag sort-section-multi-select\"> <div class=inline-block ng-repeat=\"resultChoice in multiplyChoice.resultChoices\" ng-if=\"resultChoice.index === 0 || resultChoice.isMatched\"> <div class=\"inline-block sort-section-select\"> <div class=\"inline-block sort-section-select-outer-box\"> <div class=\"inline-block sort-section-select-inner-box\"> <span uib-dropdown ng-class=\"{'open': resultChoice.parent.isDropdownOpened && resultChoice.isOpen}\" ng-mouseover=resultChoice.parent.setIsOpen(resultChoice)> <div class=\"inline-block sort-section-select-caption droppable\" ng-click=resultChoice.parent.onToggle(resultChoice) uib-dropdown-toggle> <span class=caption ng-bind-html=\"resultChoice.parent.filteredValue(resultChoice.selectedChoice, resultChoice)\"></span> </div> <ul class=dropdown-menu uib-dropdown-menu> <li ng-repeat=\"choice in resultChoice.choices\" ng-class=\"{'disabled': choice.disabled}\" ng-click=\"choice.disabled ? $event.stopPropagation() : resultChoice.setMultiplyChoice(choice)\" class=dropdown-menuitem> <span class=dropdown-menuitem-content ng-bind-html=\"resultChoice.parent.filteredValue((choice.title || choice), resultChoice)\"></span> </li> </ul> </span> </div> </div> </div> <div ng-if=\"multiplyChoice.resultChoices.length !== $index+1\" class=\"inline-block sort-section-select-divider\">:</div> </div> </div> </div> </div> <div class=\"sort-section-pill-section sort-section-pill-section-top-border\"> <span class=sort-section-pill-sort-by>Limit:</span> <div class=\"sort-section-pill-nodrag inline-block sort-section-select\"> <div class=\"inline-block sort-section-select-inner-box\"> <div class=\"inline-block sort-section-select-caption\"> <div class=limit-input-wrapper> <input type=number ng-keydown=\"onKeyDownLimitInput($event, item)\" ng-blur=item.limitByBlur(item.limit) ng-model=item.limit placeholder=Type... min=0 max=1000> </div> </div> </div> </div> </div> <div class=\"sort-section-pill-section sort-section-pill-section-top-border\" ng-if=isShowTotalAvailable ng-click=toggleShowTotal(item)> <span> <input type=checkbox ng-model=item.itemFromModel.id.settings.showTotal class=regular-checkbox> <label></label> </span> Show totals </div> </div> </div> "),$templateCache.put("static/templates/include/stop-ingest-modal.html","<form class=delete-modal> <div class=modal-header> <button type=button class=close ng-click=closeStopIngestModal()>&times;</button> <h4 class=modal-title>Stop ingesting</h4> </div> <div class=modal-body> <div style=\"padding:20px 0\"> <span> Are you sure you want to delete this file? </span> </div> </div> <div class=modal-footer> <button class=\"btn btn-default-flat-goog pull-right\" style=margin-left:10px ng-click=closeStopIngestModal()>Cancel </button> <button type=submit class=\"btn btn-primary-goog pull-right\" ng-click=stopIngest(stopItem) autofocus>Stop Ingest </button> </div> </form>"),$templateCache.put("static/templates/include/user-menu.html","<div class=user-wrapper uib-dropdown> <div class=small-avatar-toggle ng-class=\"{'default random-color': !user().avatarPath}\" ng-attr-data-initials=\"{{!user().avatarPath ? getUserInitials() : ''}}\" uib-dropdown-toggle ng-style=\"user().avatarPath && {'background': 'url(' + user().avatarPath + ') center center / cover no-repeat'}\"> <div class=uploading-avatar-backdrop ng-if=isUploadingAvatar> <div class=avatar-spinner></div> </div> </div> <div class=\"user-card dropdown-menu-right\" uib-dropdown-menu> <div class=card-content> <div class=user-avatar-wrapper> <div class=user-avatar ng-class=\"{'random-color': !user().avatarPath}\" ng-attr-data-initials=\"{{!user().avatarPath ? getUserInitials() : ''}}\" ng-style=\"user().avatarPath && {'background': 'url(' + user().avatarPath + ') center center / cover no-repeat'}\"> </div> <input type=file id=change-avatar-file nv-file-select uploader=avatarUploader style=display:none> <label for=change-avatar-file class=change-avatar>Change </label> </div> <div class=details> <div class=user-fullname>{{user().name}}</div> <div class=user-email>{{user().email}}</div> <a class=user-settings ui-sref=main.landing.user_settings>User Settings</a> <button class=\"button btn btn-filters btn-filters-blue logout-button\" ng-click=signOut()> Log Out </button> </div> </div> <a class=view-tests ng-if=user().admin href=/test-results/ >View tests</a> </div> </div>"),$templateCache.put("static/templates/include/view-mapping.html","<form> <div class=modal-header> <h3 class=modal-title>Schema</h3> </div> <div class=modal-body> <pre style=overflow-y:auto;max-height:400px>{{ tableMapping | json }}</pre> </div> <div class=modal-footer> <button class=\"pull-right btn btn-warning\" ng-click=closeMappingModal() autofocus>Close</button> </div> </form>"),$templateCache.put("static/templates/include/viz-datepicker.html","<li class=chart-datepicker ng-if=\"(controllerName == 'visualizationCtrl' && getDateFilterAvalilableValues().length) || controllerName == 'embedPopupCtrl' || (controllerName == 'embedCtrl' && options.dateFilter)\" ng-hide=\"(controllerName == 'embedPopupCtrl' && !embedFormModel.dateFilter)\" style=padding-top:5px> <div> <div class=dropdown ng-if=\"getDateFilterAvalilableValues().length > 1\" style=\"border-bottom:1px dotted #bbb\" uib-dropdown> <div class=\"chart-datepicker-header for-select\" uib-dropdown-toggle> {{humanize(getDateFilterForChart().name)}} </div> <ul class=\"dropdown-menu sidebar-ul\" role=menu uib-dropdown-menu> <li class=menu-item-table ng-repeat=\"item in getDateFilterAvalilableValues()\" ng-click=setDateFilterForChart(item)> <a ng-bind-html=item.showName>{{humanize(item.name)}}</a> </li> </ul> </div> </div> <div> <date-selector class=dropdown style=\"margin:0 0 0 10px\" uib-dropdown> <div class=\"date-selector-inner dropdown-toggle\" uib-dropdown-toggle> <div class=\"button form-control\" style=border:0;box-shadow:none;padding-right:0;padding-left:0> <div class=\"calendar-startDate popover-context\"> <div class=popover-toggle> <i class=\"fa fa-calendar calendar-icon\"></i> <span ng-if=chartDatepicker class=endDate>{{getCalendarFormat(getDateFilterForChart())}}</span> <span ng-if=!chartDatepicker class=endDate ng-click=addDateFilterForChart()>Filter by Date</span> </div> </div> </div> </div> <div popover-menu ng-if=getDateFilterForChart() mappings=getDateFilterForChart() hide-popover=hidePopover(part) class=\"dropdown-menu date-selector-popover popover2 active\" style=margin-right:0 uib-dropdown-menu></div> </date-selector> <div style=display:inline-block> by <div class=\"btn-group interval-dropdown\" uib-dropdown> <label class=\"btn btn-xs btn-dateinterval text-capitalize\" style=cursor:default ng-bind=\"vizSummary.xAxisShows[0].operation || 'none'\"></label> <button class=\"btn btn-dateinterval\" ng-style=\"{'padding-top': controllerName == 'embedCtrl' ? '0px' : ''}\" uib-dropdown-toggle><i class=caret></i></button> <ul class=dropdown-menu uib-dropdown-menu> <li ng-if=\"!(vizSummary.xAxisShows[0].key == '$$row_number'\n                                                       || (vizSummary.xAxisShows[0].type == 'daterange' && !vizSummary.xAxisShows[0].operation)\n                                                       || vizSummary.xAxisShows[0].type != 'daterange')\"> <label ng-click=clearDatePickerInterval()>None</label> </li> <li ng-repeat=\"op in dateOps\" ng-if=\"op.val != vizSummary.xAxisShows[0].operation\"> <label class=text-capitalize ng-class=\"{active: op.val == vizSummary.xAxisShows[0].operation}\" ng-click=\"datePickerInterval(vizSummary.xAxisShows[0], op)\">{{op.val}}</label> </li> </ul> </div> </div> </div> </li>"),$templateCache.put("static/templates/include/datepicker/popover-main-template.html","<div class=\"period-selector button-bar\"> <button ng-click=\"currentTab = 'range'; mappings.popoverCal = false;\" ng-class=\"currentTab == 'range' ? 'selected' : ''\" class=range>Range</button> <button ng-click=\"currentTab = 'week'\" ng-class=\"currentTab == 'week' ? 'selected' : ''\" class=week>Week</button> <button ng-click=\"currentTab = 'month'\" ng-class=\"currentTab == 'month' ? 'selected' : ''\" class=month>Month</button> <button ng-click=\"currentTab = 'quarter'\" ng-class=\"currentTab == 'quarter' ? 'selected' : ''\" class=quarter>Quarter</button> <button ng-click=\"currentTab = 'year'\" ng-class=\"currentTab == 'year' ? 'selected' : ''\" class=year>Year</button> </div> <div popover-menu-range mappings=mappings facet={{facet}} ng-show=\"currentTab === 'range'\"></div> <div popover-menu-week mappings=mappings facet={{facet}} ng-show=\"currentTab == 'week'\"></div> <div popover-menu-month mappings=mappings facet={{facet}} ng-show=\"currentTab == 'month'\"></div> <div popover-menu-quarter mappings=mappings facet={{facet}} ng-show=\"currentTab === 'quarter'\"></div> <div popover-menu-year mappings=mappings facet={{facet}} ng-show=\"currentTab === 'year'\"></div>"),$templateCache.put("static/templates/include/datepicker/popover-month-template.html"," <div class=range-date-picker-wrap> <date-picker-reports> <div class=month> <header class=controls> <span ng-click=\"getYear(calLabel, -1)\" class=\"scroller prev\"><i class=\"fa fa-chevron-left\"></i></span> <span class=current-label>{{calLabel * 1000 | date:'yyyy'}}</span> <span ng-click=\"getYear(calLabel, 1)\" class=\"scroller next\"><i class=\"fa fa-chevron-right\"></i></span> </header> </div> <table class=calendar> <tbody> <tr> <td ng-click=selectMonth(0) ng-class=\"{'selected': isSelected(0)}\" class=selectable><span class=label>Jan</span></td> <td ng-click=selectMonth(1) ng-class=\"{'selected': isSelected(1)}\" class=selectable><span class=label>Feb</span></td> <td ng-click=selectMonth(2) ng-class=\"{'selected': isSelected(2)}\" class=selectable><span class=label>Mar</span></td> </tr> <tr> <td ng-click=selectMonth(3) ng-class=\"{'selected': isSelected(3)}\" class=selectable><span class=label>Apr</span></td> <td ng-click=selectMonth(4) ng-class=\"{'selected': isSelected(4)}\" class=selectable><span class=label>May</span></td> <td ng-click=selectMonth(5) ng-class=\"{'selected': isSelected(5)}\" class=selectable><span class=label>Jun</span></td> </tr> <tr> <td ng-click=selectMonth(6) ng-class=\"{'selected': isSelected(6)}\" class=selectable><span class=label>Jul</span></td> <td ng-click=selectMonth(7) ng-class=\"{'selected': isSelected(7)}\" class=selectable><span class=label>Aug</span></td> <td ng-click=selectMonth(8) ng-class=\"{'selected': isSelected(8)}\" class=selectable><span class=label>Sep</span></td> </tr> <tr> <td ng-click=selectMonth(9) ng-class=\"{'selected': isSelected(9)}\" class=selectable><span class=label>Oct</span></td> <td ng-click=selectMonth(10) ng-class=\"{'selected': isSelected(10)}\" class=selectable><span class=label>Nov</span></td> <td ng-click=selectMonth(11) ng-class=\"{'selected': isSelected(11)}\" class=selectable><span class=label>Dec</span></td> </tr> </tbody> </table> </date-picker-reports> </div>"),$templateCache.put("static/templates/include/datepicker/popover-quarter-template.html"," <div class=range-date-picker-wrap> <date-picker-reports> <div class=quarter> <header class=controls> <span ng-click=\"getYear(calLabel, -1)\" class=\"scroller prev\"><i class=\"fa fa-chevron-left\"></i></span> <span class=current-label>{{calLabel * 1000 | date:'yyyy'}}</span> <span ng-click=\"getYear(calLabel, 1)\" class=\"scroller next\"><i class=\"fa fa-chevron-right\"></i></span> </header> </div> <table class=calendar> <tbody> <tr class=highlight ng-click=selectQuarter(1)> <td class=quart><span class=label>Q1</span></td> <td class=selectable ng-class=\"{'selected': isSelected(1)}\"><span class=label>Jan</span></td> <td class=selectable ng-class=\"{'selected': isSelected(1)}\"><span class=label>Feb</span></td> <td class=selectable ng-class=\"{'selected': isSelected(1)}\"><span class=label>Mar</span></td> </tr> <tr class=highlight ng-click=selectQuarter(2) ng-class=\"{'selected': isSelected(2)}\"> <td class=quart><span class=label>Q2</span></td> <td class=selectable ng-class=\"{'selected': isSelected(2)}\"><span class=label>Apr</span></td> <td class=selectable ng-class=\"{'selected': isSelected(2)}\"><span class=label>May</span></td> <td class=selectable ng-class=\"{'selected': isSelected(2)}\"><span class=label>Jun</span></td> </tr> <tr class=highlight ng-click=selectQuarter(3) ng-class=\"{'selected': isSelected(3)}\"> <td class=quart><span class=label>Q3</span></td> <td class=selectable ng-class=\"{'selected': isSelected(3)}\"><span class=label>Jul</span></td> <td class=selectable ng-class=\"{'selected': isSelected(3)}\"><span class=label>Aug</span></td> <td class=selectable ng-class=\"{'selected': isSelected(3)}\"><span class=label>Sep</span></td> </tr> <tr class=highlight ng-click=selectQuarter(4) ng-class=\"{'selected': isSelected(0)}\"> <td class=quart><span class=label>Q4</span></td> <td class=selectable ng-class=\"{'selected': isSelected(4)}\"><span class=label>Oct</span></td> <td class=selectable ng-class=\"{'selected': isSelected(4)}\"><span class=label>Nov</span></td> <td class=selectable ng-class=\"{'selected': isSelected(4)}\"><span class=label>Dec</span></td> </tr> </tbody> </table> </date-picker-reports> </div>"),$templateCache.put("static/templates/include/datepicker/popover-range-template.html"," <div class=range-selector-wrap> <ul class=range-selector> <li class=range-type ng-click=\"fixedInterval('y', 24)\"> <i ng-class=\"currentRange == 'y' ? 'fa fa-check check1' : 'none'\"></i>Yesterday </li> <li class=range-type ng-click=\"fixedInterval('7', 168)\"> <i ng-class=\"currentRange == '7' ? 'fa fa-check check1' : 'none'\"></i>Last 7 Days </li> <li class=range-type ng-click=\"fixedInterval('30', 720)\"> <i ng-class=\"currentRange == '30' ? 'fa fa-check check1' : 'none'\"></i>Last 30 Days </li> <li class=range-type ng-click=\"fixedInterval('90', 2160)\"> <i ng-class=\"currentRange == '90' ? 'fa fa-check check1' : 'none'\"></i>Last 90 Days </li> <li class=range-type ng-click=\"fixedInterval('365', 8760)\"> <i ng-class=\"currentRange == '365' ? 'fa fa-check check1' : 'none'\"></i>Last 365 Days </li> <li class=range-type ng-click=\"fixedInterval('l')\"> <i ng-class=\"currentRange == 'l' ? 'fa fa-check check1' : 'none'\"></i>Lifetime </li> <li class=\"calnopad hr\"> <hr> </li> <li class=\"range-type is-active custom-range-type title\"><i ng-class=\"currentRange == 'c' ? 'fa fa-check check1' : 'none'\"></i>Custom Range </li> </ul> <div class=radioCont> <div> <input id={{facet}}-f type=radio ng-value=false ng-change=toggleRadio() name=radio1 ng-model=mappings.popoverRadio checked=checked><label for={{facet}}-f>Fixed</label> </div> <div> <input id={{facet}}-d type=radio ng-value=true ng-change=toggleRadio() ng-model=mappings.popoverRadio name=radio1><label for={{facet}}-d>Dynamic</label> </div> </div> <div class=\"custom-range-inputs range-inputs\" ng-show=!mappings.popoverRadio> <input class=\"startDateInput date-input\" ng-focus=\"renderCal(customMin, 'min')\" value=\"{{customMin|date:'MMM dd, yyyy'}}\">&nbsp; <input class=\"endDateInput date-input\" ng-focus=\"renderCal(customMax, 'max')\" value=\"{{customMax|date:'MMM dd, yyyy'}}\"> </div> </div> <div class=range-date-picker-wrap ng-show=mappings.popoverCal> <date-picker-reports class=\"range-date-picker is-active\"> <div class=day> <header class=controls> <span ng-click=\"getMonth(calLabel, -1)\" class=\"scroller prev\"><i class=\"fa fa-chevron-left\"></i></span> <span class=current-label>{{calLabel|date:'MMM yyyy'}}</span> <span ng-click=\"getMonth(calLabel, 1)\" class=\"scroller next\"><i class=\"fa fa-chevron-right\"></i></span> </header> <table class=calendar> </table> </div> </date-picker-reports> </div> <div class=range-date-picker-wrap ng-show=mappings.popoverRadio> <date-picker-reports class=\"range-date-picker is-active dyanmicDatepicker\"> <div class=movingRange> <div style=margin-right:18px;margin-top:-2px ng-click=\"dynamicSelect('last')\"> <input type=checkbox id=checkbox-{{facet}}-last class=regular-checkbox ng-checked=last maxlength=3 ng-click=\"applyFilter('a')\"> <label for=checkbox-{{facet}}-last></label> </div> <div style=margin-right:10px;font-size:12px;margin-top:3px>Last</div> <div style=margin-right:5px><input ng-model=lastValue ng-disabled=\"inputDisabled('last')\" ng-change=\"applyFilter('a')\"></div> <div> <select style=font-size:12px ng-model=lastSelect ng-init=\"lastSelect = 'd'\" ng-change=\"applyFilter('a')\"> <option value=d>Days</option> <option value=w>Weeks</option> <option value=M>Months</option> <option value=Q>Quarters</option> <option value=y>Years</option> </select> </div> <div class=clear></div> </div> <div class=movingRange> <div style=margin-right:18px;margin-top:-2px ng-click=\"dynamicSelect('next')\"> <input type=checkbox id=checkbox-{{facet}}-next class=regular-checkbox ng-checked=next maxlength=3 ng-click=\"applyFilter('a')\"> <label for=checkbox-{{facet}}-next></label> </div> <div style=margin-right:10px;font-size:12px;margin-top:3px>Next</div> <div style=margin-right:5px><input ng-model=nextValue ng-disabled=\"inputDisabled('next')\" ng-change=\"applyFilter('a')\"></div> <div> <select style=font-size:12px ng-model=nextSelect ng-init=\"nextSelect = 'd'\" ng-change=\"applyFilter('a')\"> <option value=d>Days</option> <option value=w>Weeks</option> <option value=M>Months</option> <option value=Q>Quarters</option> <option value=y>Years</option> </select> </div> <div class=clear></div> </div> </date-picker-reports> </div>"),$templateCache.put("static/templates/include/datepicker/popover-week-template.html"," <div class=range-date-picker-wrap> <date-picker-reports class=\"range-date-picker is-active\"> <div class=day> <header class=controls> <span ng-click=\"getMonth(calLabel, -1)\" class=\"scroller prev\"><i class=\"fa fa-chevron-left\"></i></span> <span class=current-label>{{calLabel|date:'MMM yyyy'}}</span> <span ng-click=\"getMonth(calLabel, 1)\" class=\"scroller next\"><i class=\"fa fa-chevron-right\"></i></span> </header> <table class=calendar> </table> </div> </date-picker-reports> </div>"),$templateCache.put("static/templates/include/datepicker/popover-year-template.html"," <div class=range-date-picker-wrap> <date-picker-reports> <div class=year> <table class=calendar> <tbody> <tr ng-repeat=\"year in years\" ng-click=selectYear(year)> <td class=selectable ng-class=\"{'selected': isSelected(year)}\"><span class=label>{{year}}</span></td> </tr> </tbody> </table> </div> </date-picker-reports> </div>"),$templateCache.put("static/templates/include/popover/cant-detect-delimiter.html","<div style=width:210px>Looks like we've had trouble inferring the properties of this file. If you're sure this is a valid file, try modifying the \"Other options\" in the dropdown above.</div>"),$templateCache.put("static/templates/include/popover/cant-detect-field-names.html","<div>We were unable to determine the Field Names from this file, so we've used defaults. Please change them below if you'd like.</div> "),$templateCache.put("static/templates/include/popover/cant-ingest-file-due-to-errors.html","<div>Can't ingest file due to errors</div>"),$templateCache.put("static/templates/include/popover/ingest-error.html","<span>ingestion error: ERROR!!!</span>"),$templateCache.put("static/templates/include/popover/sticky-note-template.html","<button class=close ng-click=close($event)>&times;</button> <div ng-include=snTemplate></div>"),$templateCache.put("static/templates/include/popover/sticky-note.html","<div class=popover-anchor ng-class={{snClass}} ng-if=snOpen uib-popover-template=\"'static/templates/include/popover/sticky-note-template.html'\" popover-trigger=\"{none: 'none'}\" popover-is-open=true popover-placement={{snPlacement}} popover-class=sticky-note></div>"),$templateCache.put("static/templates/include/tooltip/cancel-upload.html","<div class=tooltip-content>Cancel all uploads</div>"),$templateCache.put("static/templates/include/tooltip/dm.html","<div class=tooltip-content>The Data Model is a visual representation of the data in your index.<br> You can add multiple data sources, join them on the fly, and transform your data in numerous ways.</div>"),$templateCache.put("static/templates/include/tooltip/ds.html","<div class=tooltip-content>Data sources are where you add files and connections to external data stores. <br> After a data source has been added, you can visualize it in a single click, <br> or perform more advanced data preparation on one or more source files before visualizing.</div>"),$templateCache.put("static/templates/include/viz-directives/viz-chart.html","<div id=chart-container style=width:100%;height:100% ng-show=\"isCurrentView('chart') && !chartDisabled\"></div> <div id=map-container style=width:100%;height:100% ng-show=\"isCurrentView('map') && !chartDisabled\"></div>"),$templateCache.put("static/templates/include/viz-directives/viz-filters.html","<div id=sidebar-wrapper-filters class=\"sidebar-wrapper no-select\" resizable=\"{id:filterId, min: 215, default: 300, max: 600, save: savePaneWidth, hideOnInit: true, minResizeCallback: toggleRightFilters}\" ng-init=\"filtersDropDownOpened = true\"> <div class=\"resize-handle-h resize-handle-filter\"></div> <div class=sidebar-filters-body> <div class=filter-title-header> <div class=title>Filters</div> <div class=loading-filters-spinner ng-if=filtersStatus.refreshing> <svg class=spinner width=15px height=15px viewBox=\"0 0 66 66\" xmlns=http://www.w3.org/2000/svg> <circle class=path fill=none stroke-width=7 stroke-linecap=round cx=33 cy=33 r=30></circle> </svg> </div> <div class=close-filters ng-click=toggleRightFilters()> <i class=\"fa fa-lg fa-angle-double-left\"></i> </div> </div> <div class=\"filter-dropdown-header dropdown-options\" uib-dropdown on-toggle=onSidebarUlToggle() uib-dropdown-toggle> <div class=filter-add-remove> <div class=descr> <span ng-if=\"controllerName == ctrlNames.VIZ\">Click to add, remove, or sort filters</span> </div> <div class=reset> <a ng-click=\"$event.stopPropagation(); resetAllFilters()\" ng-show=isResetAllShow()>Reset all</a> </div> </div> <div class=\"dropdown-menu sidebar-ul-wrapper\" uib-dropdown-menu> <div class=dropdown-arrow> <div class=outer></div> <div class=inner></div> </div> <ul class=sidebar-ul role=menu ng-click=$event.stopPropagation();> <li role=menuitem class=\"menu-item-table select-all\" ng-click=toggleSelectAllFilters();> <a>{{isAllFiltersSelected() ? \"Deselect All\" : \"Select All\"}}</a> </li> </ul> <hr style=\"margin:5px 0 7px 0\"> <ul class=\"sidebar-ul filters-ul\" role=menu sv-root sv-part=dataSummary.filters sv-on-sort=\"filterMoved($item, $indexTo)\" ng-click=$event.stopPropagation();> <li role=menuitem ng-repeat=\"one_filter in dataSummary.filters track by one_filter.field\" class=menu-item-table ng-switch=one_filter.col.type ng-if=!one_filter.hidden ng-click=\"addFilter(one_filter); $event.stopPropagation();\" sv-element> <span sv-handle class=handle><i class=\"fa fa-grip fa-rotate-90\"></i></span> <span> <input type=checkbox ng-model=one_filter.selected class=regular-checkbox> <label></label> </span> <a>{{one_filter.col.name}}</a> </li> </ul> </div> </div> <div class=filters-section-wrapper ng-show=\"activeSection == SECTION_NAME.FILTERS\"> <div class=filters-section> <div id=sidebar-body-wrapper> <div ng-if=!dataSummary.advancedModeCheck id=sidebar-filters> <div class=sidebar-filters sv-root sv-part=dataSummary.filters sv-on-sort=\"filterMoved($item, $indexTo)\"> <div class=filters-list ng-repeat=\"filter in dataSummary.filters track by filter.field\" on-render=onRenderFilters() ng-if=\"!filter.hidden && filter.selected\" sv-element> <div class=sidebar-header> <div class=sidebar-title-wrapper-t sv-handle> <div class=sbar-title-name> <span class=filter-name>{{filter.col.name}}</span> <a ng-if=isDecimalColFormattedAsDate(filter) class=info-button uib-tooltip-html=getTooltipForFilter(filter) tooltip-placement=top-left tooltip-popup-close-delay=2000 tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip></a> </div> <div class=sbar-title-right-side> <div class=sbar-title-link> <a ng-click=reset(filter) ng-show=isResetShow(filter)>Clear</a> </div> <div class=sbar-mode-switch ng-if=filter.listMode> <div class=mode-button> <span ng-if=filter.listMode ng-click=switchAndOr(filter)> <i class=\"fa fa-chain-broken\" ng-if=!filter.and_or uib-tooltip=\"Switch to AND\" tooltip-popup-delay=500 tooltip-append-to-body=true></i> <i class=\"fa fa-chain\" ng-if=filter.and_or uib-tooltip=\"Switch to OR\" tooltip-popup-delay=500 tooltip-append-to-body=true></i> </span> </div> </div> <div class=sbar-mode-switch ng-if=\"filter.col.type == 'DATE' || filter.col.type == 'DECIMAL'\" uib-tooltip={{getModeSwitchTooltip(filter)}} tooltip-popup-delay=500 tooltip-append-to-body=true> <div class=mode-button ng-click=\"filter.listMode = !filter.listMode\"> <i class=\"fa fa-calendar-o\" ng-if=\"filter.col.type == 'DATE' && !filter.listMode\"></i> <i class=\"fa fa-sliders\" ng-if=\"filter.col.type == 'DECIMAL' && !filter.listMode\"></i> <i class=\"fa fa-list\" ng-if=\"(filter.col.type == 'DECIMAL' || filter.col.type == 'DATE') && filter.listMode\"></i> </div> </div> </div> </div> </div> <div class=no-results ng-if=showNoValues(filter)>There are no values for this filter </div> <div ng-if=filter.listMode> <div class=search ng-hide=\"filter.col.type == 'BOOLEAN' || !filter.showSearch || showNoValues(filter)\"> <input type=search class=\"form-control search-input\" placeholder=Search ng-model=filter.search ng-if=\"filter.col.type != 'DATE'\" ng-enter=\"filterSearch(filter, true)\" ng-change=delayedFilterSearch(filter)> <input type=search class=\"form-control search-input\" placeholder=\"mmm d, yyyy\" ng-model=filter.search ng-if=\"filter.col.type == 'DATE'\" ng-enter=\"filterSearch(filter, true)\" ng-change=delayedFilterSearch(filter)> <div class=right-icons> <div ng-show=\"!filter.search || !autoRefresh\" ng-click=\"filterSearch(filter, true)\"> <i class=\"fa fa-search\"></i> </div> <div class=search-reset ng-show=filter.search ng-click=clearSearch(filter) style=margin-left:5px> <i class=\"fa fa-close\"></i> </div> </div> </div> <div class=no-results ng-if=showNoResults(filter)>No search results </div> <ul class=items> <li class=item ng-class=\"{'filter-removed': !agg.show}\" ng-click=\"selectFilter(agg, filter)\" ng-if=\"!filter.search || agg.key !== undefined\" ng-repeat=\"agg in filter.list|orderBy:(filter.search ? ['selected','!show','-docCount','key'] : ['show', '!selected','-docCount','key'])\"> <div class=list-item-table> <div class=list-item-left-side> <div class=checkbox-cell> <span> <input type=checkbox ng-model=agg.selected class=regular-checkbox> <label></label> </span> </div> <div class=\"title-cell no-overflow\"> <div class=title-wrapper> <div class=term-name> <span ng-if=\"agg.key != null\" ng-switch=filter.col.type> <a class=title ng-switch-when=STRING tooltip-placement=top-left tooltip-append-to-body=true tooltip-popup-delay=1000 uib-tooltip={{agg.key}}>{{agg.key|numberFilter:filter.col.settings.format}}</a> <a class=title ng-switch-when=LOCATION_COUNTRY_CODES>{{agg.key}}</a> <a class=title ng-switch-when=LOCATION_USA_STATE_CODES>{{agg.key}}</a> <a class=title ng-switch-when=DECIMAL>{{agg.key|numberFilter:filter.col.settings.format}}</a> <a class=title ng-switch-when=TIME>{{agg.key|numberFilter:filter.col.settings.format}}</a> <a class=title ng-switch-when=DATE>{{agg.key|numberFilter:filter.col.settings.format}}</a> <a class=title ng-switch-when=BOOLEAN>{{agg.key|numberFilter:filter.col.settings.format}}</a> </span> <span ng-if=\"agg.key == null\"> <a class=title>[Empty value]</a> </span> </div> <div class=term-count> <span class=count>{{agg.docCount > 0 ? '(' + agg.docCount + ')' : ''}}</span> </div> </div> </div> </div> <div class=hidden-button-cell> <a class=only ng-click=\"only(filter, agg); $event.stopPropagation();\">only</a> <a class=remove ng-click=\"remove(filter, agg); $event.stopPropagation();\" ng-show=agg.show>x</a> </div> </div> </li> </ul> </div> <div ng-if=\"!filter.listMode && filter.col.type!='DATE' && !showNoValues(filter)\"> <div class=slider-vals style=width:250px ng-cloak> <span class=slider-from> <span class=slider-from-to-wrapper> <span class=slider-from-to ng-if=\"filter.col.type == 'DECIMAL'\"> {{filter.value1|numberFilter:filter.col.settings.format}} <input class=slider-input ng-model=filter.value1 ng-blur=blurSliderInput(filter) ng-change=changeSliderInput(filter) ng-keypress=keyPressSliderInput($event)> </span> </span> <span ng-if=\"filter.col.type=='TIME'\"> {{filter.value1|date:'HH:mm:ss':'UTC'}} </span> </span> <span> \u2012 </span> <span class=slider-to> <span class=slider-from-to-wrapper> <span class=slider-from-to ng-if=\"filter.col.type == 'DECIMAL'\"> {{filter.value2|numberFilter:filter.col.settings.format}} <input class=slider-input ng-model=filter.value2 ng-blur=blurSliderInput(filter) ng-change=changeSliderInput(filter) ng-keypress=keyPressSliderInput($event)> </span> </span> <span ng-if=\"filter.col.type=='TIME'\"> {{filter.value2|date:'HH:mm:ss':'UTC'}} </span> </span> </div> <div class=slider-container> <rzslider ng-if=\"filter.col.type=='TIME' || filter.linlog\" rz-slider-options=filter.options rz-slider-model=filter.value1 rz-slider-high=filter.value2 ng-mouseup=changeSliderInput(filter);></rzslider> <rzslider ng-if=\"filter.col.type!='TIME' && !filter.linlog\" rz-slider-options=filter.options rz-slider-model=filter.value1exp rz-slider-high=filter.value2exp ng-mouseup=changeSliderInput(filter);></rzslider> </div> </div> <div class=datepicker-container ng-if=\"!filter.listMode && filter.col.type=='DATE' && !showNoValues(filter)\"> <div ng-init=\"startOpened = false; endOpened = false\" class=datepicker-range> <div class=\"datepicker from\"> <div class=focus-border-wrapper> <input uib-datepicker-popup=\"MMM dd, yyyy\" ng-model=filter.options.fromDate ng-change=\"changeDateInput(filter, true)\" ng-model-options=\"{updateOn : 'change blur'}\" ng-click=\"selectText($event); startOpened = true;\" alt-input-formats=\"['yyyy-M!-d!', 'M!/d!/yyyy', 'd!/M!/yyyy', 'MMM d!, yyyy', 'MMM d! yyyy']\" ng-disabled=filter.isFixedDateEnabled is-open=startOpened datepicker-options=filter.datepickerOptionsFrom on-open-focus=false show-button-bar=false datepicker-append-to-body=true selected-fixed=filter.options available-fixed-dates=getAvailableFixedPeriods(filter) datepicker-popup-template-url=static/templates/include/datepicker-popup.html> <span class=focus-border></span> </div> <div class=timepicker-wrapper ng-if=filter.isTimePickerEnabled> <input class=timepicker ng-disabled=filter.isFixedDateEnabled ng-model-options=\"{updateOn : 'change blur'}\" ng-change=changeTimeInput(filter) ng-click=selectText($event) ng-model=filter.options.displayFromTime> </div> </div> <div class=icon> <span>to</span> </div> <div class=\"datepicker to\"> <div class=focus-border-wrapper> <input uib-datepicker-popup=\"MMM dd, yyyy\" ng-model=filter.options.toDate ng-model-options=\"{updateOn : 'change blur'}\" ng-change=\"changeDateInput(filter, true)\" ng-click=\"selectText($event); endOpened = true\" alt-input-formats=\"['yyyy-M!-d!', 'M!/d!/yyyy', 'd!/M!/yyyy', 'MMM d!, yyyy', 'MMM d! yyyy']\" ng-disabled=filter.isFixedDateEnabled is-open=endOpened datepicker-options=filter.datepickerOptionsTo on-open-focus=false show-button-bar=false datepicker-append-to-body=true selected-fixed=filter.options available-fixed-dates=getAvailableFixedPeriods(filter) datepicker-popup-template-url=static/templates/include/datepicker-popup.html> <span class=focus-border></span> </div> <div class=timepicker-wrapper ng-if=filter.isTimePickerEnabled> <input class=timepicker ng-disabled=filter.isFixedDateEnabled ng-model-options=\"{updateOn : 'change blur'}\" ng-change=changeTimeInput(filter) ng-click=selectText($event) ng-model=filter.options.displayToTime> </div> </div> </div> <div class=fixed-date> <div class=fixed-date-option ng-click=\"toggleFixedDateFilter($event, filter)\"> <input title=\"Fixed date\" type=checkbox ng-model=filter.isFixedDateEnabled> <label class=fixed-date-checkbox></label> <span>Fixed date</span> </div> <div class=fixed-date-suggestions ng-show=filter.isFixedDateEnabled uib-dropdown is-open=filter.options.isFixedDateDropdownOpened> <div class=fixed-date-toggle uib-dropdown-toggle> <span>{{getSelectedFixedPeriod(filter)}}</span> <i class=\"fa fa-caret-down\"></i> </div> <div uib-dropdown-menu class=\"tool-bar-dropdown flexible-space-dropdown date-filter-dropdown dropdown-menu-right\"> <li ng-repeat=\"period in getAvailableFixedPeriods()\" ng-click=\"selectFixedDateFilter(filter, period)\">{{period.label}}</li> </div> </div> </div> </div> <div class=separator></div> </div> </div> </div> <div ng-if=dataSummary.advancedModeCheck class=form-group style=\"height:300px;padding:15px 10px 2px;margin-bottom:0\"> <ui-codemirror ui-codemirror-opts=complexFilterEditorOptions ng-model=dataSummary.advancedFilterQuery> </ui-codemirror> <button class=\"btn btn-primary-cstm pull-right\" ng-click=executeQuery() style=margin-right:10px>Execute </button> </div> </div> </div> </div> </div> </div>"),$templateCache.put("static/templates/include/viz-directives/viz-list.html","<div class=viz-list infinite-scroll=loadMoreData infinite-scroll-offset-from-bottom=10> <div vs-repeat vs-size=getListItemSize() vs-scroll-parent=.viz-list> <div class=list-container ng-repeat=\"o in resultsList\"> <div class=list-item-header ng-repeat=\"show in listViewShows.header()\" ng-bind-html=o[show.id.field]|formatCell:show.col:null:(dataSummary.highlightMatches?dataSummary.search:null)> </div> <table class=list-table> <tr class=list-table-row ng-repeat=\"show in listViewShows.data()\"> <td> <span class=list-item-key ng-bind-html=show.showName></span>: </td> <td> <span class=list-item-value ng-bind-html=o[show.id.field]|formatCell:show.col:null:(dataSummary.highlightMatches?dataSummary.search:null)></span> </td> </tr> </table> </div> </div> </div>"),$templateCache.put("static/templates/include/viz-pages/ingest-status-bar.html","<div ng-if=isIngestMode() id=status-bar class=\"search-results dark-status-bar ingest-bar-wrapper\" style=padding:0;height:56px> <div class=ingest-status-bar ng-class=\"{'db-source-bar': isRemote()}\"> <div class=ingest-source-buttons> <div class=\"options-buttons chart-change-buttons\" ng-click=\"(isCommitted() && togglePageMode(true)) || goToMainPage(true)\" pagemode=visualization> <i class=ingest-back-arrow aria-hidden=true ng-class=\"{'active': pageMode === PAGE_MODE.INGEST}\"></i> </div> </div> <div class=ingest-source-section> <div class=disabled-ingest-message ng-if=isMobileView()>{{getDisabledPreviewMessage()}}</div> <div class=ingest-source-select-and-settings ng-hide=\"(isLiveSource() || isUningestedTab()) && isMobileView()\"> <div class=commit-backdrop ng-show=isCommitRunning()></div> <div class=ingest-source-select> <sticky-note sn-template=/static/templates/include/popover/cant-ingest-file-due-to-errors.html sn-open=cantIngestFileDueToErrorsNote.opened sn-placement=\"'bottom-left'\"> </sticky-note> <div class=search-autocomplete ng-if=\"ingestDataSummary.pageLoaded && (!ingestDataSummary.selectedSources.length || sourceSuggestionActive)\"> <input ng-click=toggleSourceSuggestionActive(true) ng-model=sourceSearch.value placeholder=\"{{ingestDataSummary.selectedSources && !ingestDataSummary.selectedSources.length ? 'Find your source by searching or navigating below' : ''}}\" uib-typeahead=\"item.name for item in sourceSuggestions($viewValue)\" typeahead-on-select=\"sourceSuggestionSelected($item, $event)\" typeahead-on-close=toggleSourceSuggestionActive(false) typeahead-excluding-close-selectors=\"['#tabs-list']\" typeahead-min-length=0 typeahead-focus-first=false typeahead-popup-options=sourceSearchPopupOptions typeahead-popup-template-url=static/templates/include/search-nav-popup.html typeahead-template-url=static/templates/include/search-item.html typeahead-no-results=sourceSearch.noSearchResults autocorrect=off autocapitalize=none> <div class=no-results ng-if=\"sourceSearch.noSearchResults && uploadsExist && !updatingSourceSuggestions\"> There are no sources that match your search. </div> <div class=no-results ng-if=\"!uploadsExist && !updatingSourceSuggestions\"> You have not added any sources yet <a ui-sref=\"main.landing.my_data({ openAddSourceModal: true })\">Click to add a source</a> </div> </div> <div class=\"ui-select-with-tooltip-block ui-select-container ui-select-multiple ui-select-bootstrap\" ng-click=\"toggleSourceSuggestionActive(true, $event)\" ng-if=\"ingestDataSummary.selectedSources.length && !sourceSuggestionActive\"> <span class=ingest-source-match-container> <div class=ingest-source-match-item ng-repeat=\"source in ingestDataSummary.selectedSources\"> <div class=icon> <div class=\"img icon-small {{getUploadIcon(source)}}\"></div> </div> <span class=text-content> <span>{{source.fullName}}</span> </span> </div> </span> </div> <div class=loading-spinner ng-if=updatingSourceSuggestions> <svg class=spinner width=15px height=15px viewBox=\"0 0 66 66\" xmlns=http://www.w3.org/2000/svg> <circle class=path fill=none stroke-width=7 stroke-linecap=round cx=33 cy=33 r=30></circle> </svg> </div> </div> <script type=text/ng-template id=settingPopoverTemplate.html> <div class=\"settings-popover-content\">\n                        <div class=\"ingest-source-item showing-fields-settings dropdown-options\"\n                             uib-dropdown>\n\n                            <div>\n                                <span class=\"highlighted-var\">Fields to display:</span>\n                                <span class=\"ingest-source-item-select\" uib-dropdown-toggle>\n                            {{ isCheckedIngestColumnsAll() ? 'All (' + getAllSelectedIngestColumns().length + ')' : getAllSelectedIngestColumns().length}}\n                            <span class=\"caret\"></span>\n                        </span>\n                            </div>\n\n\n                            <div class=\"dropdown-menu pull-right\"\n                                 uib-dropdown-menu>\n                                <div class=\"dropdown-arrow\">\n                                    <div class=\"outer\"></div>\n                                    <div class=\"inner\"></div>\n                                </div>\n                                <ul class=\"sidebar-ul\"\n                                    role=\"menu\"\n                                    ng-click=\"$event.stopPropagation();\">\n                                    <li role=\"menuitem\"\n                                        class=\"menu-item-table select-all\"\n                                        ng-click=\"toggleAllIngestColumns();\">\n                                 <span>\n                                    <input type=\"checkbox\"\n                                           ng-checked=\"isCheckedIngestColumnsAll();\"\n                                           class=\"regular-checkbox arrowed\">\n                                    <label></label>\n                                </span>\n                                        <a>Select All</a>\n                                    </li>\n                                </ul>\n                                <hr style=\"margin: 5px 0 7px 0\">\n                                <div>\n                                    <ul class=\"sidebar-ul\"\n                                        role=\"menu\"\n                                        sv-root\n                                        sv-part=\"ingestDataSummary.columns\"\n                                        sv-on-sort=\"onIngestColumnMoved($indexFrom, $indexTo)\"\n                                        ng-click=\"$event.stopPropagation();\">\n                                        <li role=\"menuitem\" ng-repeat=\"col in ingestDataSummary.columns\" ng-if=\"!col.blank\"\n                                            ng-click=\"toggleIngestColumn(col);\"\n                                            class=\"menu-item-table\"\n                                            sv-element>\n                                            <span sv-handle class=\"handle\" style=\"width: 10px; right: 12px;\"><i\n                                                    class=\"fa fa-grip fa-rotate-90\"></i></span>\n                                            <span>\n                                        <input type=\"checkbox\" class=\"regular-checkbox arrowed\"\n                                               ng-checked=\"!col.settings.removed\"/>\n                                        <label></label>\n                                    </span>\n                                            <a>{{col.name}}</a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n\n                        </div>\n\n                        <div class=\"ingest-source-item use-headers-settings dropdown-options\" uib-dropdown\n                             ng-show=\"isShowHeaderInFirstRowOption()\">\n\n                            <div>\n                                <span class=\"highlighted-var\">Headers in first row:</span>\n                                <span class=\"ingest-source-item-select\" uib-dropdown-toggle>\n                            {{getIngestSelectedSourceSettings().useHeaders ? 'Yes' : 'No'}}\n                            <span class=\"caret\"></span>\n                        </span>\n                            </div>\n\n                            <ul uib-dropdown-menu\n                                class=\"dropdown-menu dropdown-settings sidebar-ul pull-right\" role=\"menu\">\n\n                                <li class=\"menu-item-table\" ng-click=\"switchIngestUseHeaders(true)\">\n                            <span>\n                                <input type=\"checkbox\" class=\"regular-checkbox arrowed\"\n                                       ng-checked=\"getIngestSelectedSourceSettings().useHeaders\">\n                                <label></label>\n                            </span>\n                                    <a>Yes</a>\n                                </li>\n                                <li class=\"menu-item-table\" ng-click=\"switchIngestUseHeaders(false)\">\n                            <span>\n                                <input type=\"checkbox\" class=\"regular-checkbox arrowed\"\n                                       ng-checked=\"!getIngestSelectedSourceSettings().useHeaders\">\n                                <label></label>\n                            </span>\n                                    <a>No</a>\n                                </li>\n                            </ul>\n\n                        </div>\n\n                        <div class=\"ingest-source-item refresh-schedule dropdown-options\"\n                             ng-if=\"isRemote()\">\n                            <cron-selection ng-model='ingestDataSummary.runningSchedule.cronExpression'\n                                            ng-change=\"updateRunningSchedule()\"\n                                            config=\"ingestDataSummary.runningSchedule.config\"\n                                            timezone=\"ingestDataSummary.runningSchedule.timeZone.abbr\">\n                                <timezone>\n                                    <div class=\"cron-select-wrap\"\n                                         ng-show=\"ingestDataSummary.runningSchedule.cronExpression\"\n                                         uib-dropdown>\n                        <input uib-dropdown-toggle\n                               ng-show=\"ingestDataSummary.runningSchedule.status !== 'Hourly'\"\n                               readonly\n                               onClick=\"this.setSelectionRange(0, this.value.length)\"\n                               onBlur=\"this.setSelectionRange(0, 0)\"\n                               class=\"schedule-select timezone-input\"\n                               ng-value=\"ingestDataSummary.runningSchedule.timeZone.abbr\">\n                                        <ul class='dropdown-menu tool-bar-dropdown flexible-space-dropdown timezone-dropdown'\n                                            role=\"menu\"\n                                            uib-dropdown-menu>\n                                            <li ng-repeat=\"item in ingestDataSummary.runningSchedule.availableTimeZones\"\n                                                ng-click='updateRunningScheduleTimeZone(item)' class=\"timezone-item\">\n                                                <i class=\"timezone-checkmark\" ng-if=\"isSelectedTimeZone(item.abbr)\"></i>\n                                                <div class=\"timezone-info\">\n                                                    <span>({{item.displayZone}})</span>\n                                                    <span>{{item.text}}</span>\n                                                </div>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                </timezone>\n                            </cron-selection>\n                        </div>\n\n                        <div class=\"ingest-source-item dropdown-options\">\n                            <div>\n                                <span class=\"highlighted-var\">Source Timezone:</span>\n                                <div class=\"ingest-source-item-select\" uib-dropdown>\n                                    <div uib-dropdown-toggle>\n                                        <span>{{getBookmarkTimezoneAbbreviation()}}</span>\n                                        <span class=\"caret\"></span>\n                                    </div>\n\n                                    <ul class='tool-bar-dropdown flexible-space-dropdown source-timezone-dropdown'\n                                        role=\"menu\" uib-dropdown-menu>\n                                        <li ng-repeat=\"item in ingestDataSummary.runningSchedule.availableTimeZones\"\n                                            ng-click='updateBookmarkTimezone(item.name)' class=\"timezone-item\">\n                                            <i class=\"timezone-checkmark\" ng-if=\"isSelectedBookmarkTimezone(item.name)\"></i>\n                                            <div class=\"timezone-info\">\n                                                <span>({{item.displayZone}})</span>\n                                                <span>{{item.text}}</span>\n                                            </div>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"ingest-source-item dropdown-options\">\n                            <div ng-if=\"isShowMore()\">\n                        <span ng-click=\"toggleIngestOtherSettingsDropdown()\"\n                              ng-class=\"{ dropup: isShowIngestOtherSettingsDropdown }\">\n                            Show {{ isShowIngestOtherSettingsDropdown ? 'Less' : 'More'}}\n                            <span class=\"caret\"></span>\n                        </span>\n                            </div>\n\n                            <div class=\"ingest-other-settings-dropdown-wrapper\"\n                                 ng-show=\"isShowIngestOtherSettingsDropdown || !isShowMore()\">\n                                <ingest-other-settings-dropdown></ingest-other-settings-dropdown>\n                            </div>\n\n                            <sticky-note sn-template=\"/static/templates/include/popover/cant-detect-delimiter.html\"\n                                         sn-open=\"cantDetectDelimiterNote.opened\"\n                                         sn-placement=\"'bottom-left'\"\n                                         sn-on-close=\"closeDelimiterStickyNote()\">\n                            </sticky-note>\n                        </div>\n                    </div> </script> <div class=ingest-source-settings ng-if=\"ingestDataSummary.selectedSources.length && !sourceSuggestionActive\" ng-hide=isMobileView()> <div class=\"ingest-source-item start-section-title\" uib-popover-template=\"'settingPopoverTemplate.html'\" popover-trigger=\"'outsideClick'\" popover-placement=bottom popover-class=ingest-settings-popover> <div ng-show=isRemote()> <span class=file-settings-label ng-show=isRemote()><b>Source settings</b></span> <span class=\"file-settings-description refresh-data-string\">Refresh data {{ingestDataSummary.settingString}}</span> <span class=caret></span> </div> <div ng-show=!isRemote()> <span class=file-settings-label><b>File settings:</b></span> <span class=file-settings-description> <span class=file-settings-option> Showing <span ng-show=!isCheckedIngestColumnsAll() ng-bind=getAllSelectedIngestColumns().length></span> <span ng-show=isCheckedIngestColumnsAll()>all</span> fields{{getIngestSelectedSourceSettings().useHeaders ? ',' : ''}} </span> <span class=file-settings-option>{{getIngestSelectedSourceSettings().useHeaders ? 'using 1st row as headers' : ''}}</span> </span> <span class=caret></span> </div> </div> </div> </div> <div class=extra-options ng-hide=isMobileView() ng-class=\"{'committing': isCommitRunning()}\"> <div class=\"preview-limit no-overflow\" ng-show=\"ingestDataSummary.selectedSources.length && !isCommitRunning()\"> <div class=\"preview-mode-info no-overflow\"> <span class=preview-title><b>Preview mode</b></span> <span class=preview-description>{{totalRowsCount > 1000 ? 'Limited to ' + (previewLimit | number) + ' rows' : ''}}</span> </div> </div> <div class=commit-section ng-show=ingestDataSummary.selectedSources.length ng-class=\"{'progress-section': isCommitRunning()}\"> <div class=btn-query-wrapper-collapsed ng-show=!isCommitRunning()> <button class=\"btn btn-filters\" href=javascript:void(0) ng-disabled=!isIndexChanged() ng-if=isCommitted() ng-click=resetIngestSettings()> Reset </button> <button class=\"btn btn-filters btn-filters-blue\" href=javascript:void(0) ng-disabled=\"((!isIndexChanged() || !ingestPreviewLoaded) && !ingestDataSummary.query)\" ng-click=commit()> {{getSaveDataMessage()}} </button> </div> <div class=data-model-progress ng-show=isCommitRunning()> <uib-progressbar class=active max=100 ng-class=\"{'complete': commitProgress.getValue() >= 100, 'started': commitProgress.getValue() <= 0}\" value=commitProgress.getValue()> <span class=progress-step>{{commitProgress.getText()}}</span> </uib-progressbar> <button class=\"btn btn-sm\" ladda=isCommitCancelling() ladda-spinner-color=#000 ng-click=cancelCommit() uib-tooltip=\"Cancel ingest&nbsp;\" tooltip-placement=left tooltip-popup-delay=250 tooltip-class=main-page-tooltip>&times; </button> </div> </div> </div> </div> </div> </div>"),$templateCache.put("static/templates/include/viz-pages/ingest.html","<div ng-if=isIngestMode() id=search-results class=\"widget resizable-wrapper\"> <div class=\"results page-content-wrapper\"> <table style=width:100%;height:100%> <tr ng-if=\"(ingestDataSummary.queryMode || ingestDataSummary.tableMode) && !isMobileView()\" style=height:0> <td class=editor-wrapper> <div class=editor-block-wrapper> <div class=editor-disabled ng-click=openQueryEditor() ng-if=!ingestDataSummary.queryMode></div> <query-editor></query-editor> </div> </td> </tr> <tr> <td style=position:relative> <div class=table-disabled ng-show=isTableDisabled ng-click=enableTable()></div> <div style=overflow:hidden;position:relative;height:100%;width:100%> <div class=\"loader backdrop-only\" ng-show=inRequest> <div class=\"loader-backdrop semi-transparent\"></div> </div> <div class=\"loader backdrop-only\" ng-show=\"sourceSuggestionActive || ingestCommitOptions.isFailed\"> <div class=\"loader-backdrop semi-transparent\"></div> </div> <sticky-note sn-class=\"'fields-sticky-note'\" sn-template=/static/templates/include/popover/cant-detect-field-names.html sn-open=cantDetectFieldNamesNote.opened sn-placement=\"'bottom-left'\" sn-on-close=closeFieldsStickyNote()> </sticky-note> <div class=main-viewport> <div id=preview-grid class=ag-custom></div> </div> </div> </td> </tr> </table> </div> <div ingest-db-tables ctrl-name=visualizationCtrl filter-id=visualization-filters save-width=true></div> </div>"),$templateCache.put("static/templates/include/viz-pages/viz-status-bar.html","<div ng-if=isVizMode() id=status-bar class=viz-bar-wrapper> <div> <div class=status-bar-wrapper> <div class=tool-bar-info-panel> <div class=toggle-page-mode-button ng-if=\"!isViewOnly && isMobileView()\"> <div class=\"chart-change-buttons options-buttons\"> <i class=viz-mobile-back-arrow aria-hidden=true ng-click=handleMobileBack()></i> </div> </div> <div> <div class=input-wrapper> <object-select selected-value=selectedTable.name is-disabled=isViewOnly on-update=updateTable> </object-select> <a ng-click=showDatadocInfoModal() class=info-button uib-tooltip=\"Click to view info for this datadoc\" tooltip-placement=top tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip></a> </div> </div> </div> <div class=tool-bar-action-panel responsive-settings> <div class=number-results> <div class=\"rows-returned pull-right\"> <div class=\"total-size pull-right-text\"> Showing <span ng-if=!isRawData()> {{dataSummary.limit.aggData == resultsOffset ? ('Top ' + resultsOffset) : resultsOffset}} result{{resultsOffset != 1 ? 's' : ''}} {{dataSummary.aggs.length > 1 ? '(top level)' : ''}} </span> <span ng-if=isRawData()> {{resultsOffset | number}} result{{resultsOffset != 1 ? 's' : ''}} {{totalSize == resultsOffset ? '': '(out of ' + (totalSize | number) + ')'}} </span> in {{loadQueryTime}}s </div> </div> </div> <div class=data-format> <div class=backdrop ng-show=!isFormatToolbarActive()></div> <div class=btn-group role=group aria-label=...> <div class=btn-group uib-dropdown ng-repeat=\"formatButton in formatToolbarButtons\"> <button class=\"btn btn-filters format-button\" ng-disabled=isViewOnly ng-click=formatButton.action($event) uib-tooltip-html=formatButton.tooltipMessage tooltip-trigger=\"'mouseenter focus'\" tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip> <span ng-bind-html=formatButton.label()></span> </button> <button type=button ng-show=formatButton.dropdownList class=\"btn btn-filters btn-toggle\" ng-disabled=isViewOnly uib-dropdown-toggle> <span class=caret></span> <span class=sr-only>Split</span> </button> <ul class=format-toolbar-submenu uib-dropdown-menu> <li ng-repeat=\"option in formatButton.dropdownList\" ng-click=option.action($event) class=format-toolbar-submenu-item ng-class=\"{'selected': option.selected(), 'divider': option.separator}\"> <div class=format-toolbar-submenu-content> <span class=format-toolbar-submenu-title ng-bind-html=option.label></span> <span class=format-toolbar-submenu-descr ng-bind=option.descr></span> </div> </li> </ul> </div> <div class=btn-group uib-dropdown is-open=columnTypeDropdownStatus.isOpen> <button class=\"btn btn-filters format-button other-formats-button\" uib-tooltip-html=\"'Other formats'\" tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip tooltip-trigger=\"'mouseenter outsideClick'\" uib-dropdown-toggle ng-click=refreshOtherFormatOptions()> <span>123 <i class=\"fa fa-caret-down\"></i></span> </button> <ul class=\"format-toolbar-submenu other-formats-submenu\" uib-dropdown-menu> <li ng-repeat=\"option in otherFormatOptions\" ng-click=option.action($event) class=format-toolbar-submenu-item ng-class=\"{'disabled': option.disabled, 'selected': option.selected, 'divider': option.separator}\"> <div class=format-toolbar-submenu-content> <span class=format-toolbar-submenu-title ng-bind-html=option.label></span> <span class=format-toolbar-submenu-descr ng-bind=option.descr></span> </div> </li> <li class=divider></li> <li class=\"format-toolbar-submenu-item format-toolbar-comment\"> <span>Need another format? <a ng-click=\"togglePageMode(true, 0, true)\">Click to Edit Source.</a> </span> </li> </ul> </div> <div class=toolbar-label-down>Data Format</div> </div> </div> <div class=settings> <div class=\"settings-more-btn btn\" ng-class=\"{opened: showSettingsDropdown}\" ng-if=showSettingsDropdownToggle ng-click=toggleSettingsDropdown()> More <i class=caret></i> </div> <div class=settings-wrapper> <div class=tool-bar-settings-wrapper> <div class=\"settings-button dropdown-options inline-block pull-right\" uib-dropdown> <button class=\"btn btn-filters\" ng-disabled=isViewOnly uib-dropdown-toggle> <i class=\"fa fa-eye btn-icon\"></i> Views </button> <ul uib-dropdown-menu class=\"dropdown-menu tool-bar-dropdown flexible-space-dropdown pull-right\" role=menu> <li ng-click=saveCurrentState() ng-class=\"{'disabled': !isDefaultState()}\"> <a>Save current view</a> </li> <li class=divider></li> <li ng-if=!isDefaultState() ng-click=cleanState()> <a style=font-weight:500>None</a> </li> <li ng-repeat=\"availableBookmarkState in allBookmarkStates\" ng-click=\"changeBookmarkState(availableBookmarkState, true)\"> <span> <a ng-class=\"{'selected-view': availableBookmarkState.uuid === selectedViewStateId}\"> <i ng-if=\"availableBookmarkState.uuid === selectedViewStateId\" class=\"fa fa-check muted\"></i> {{ availableBookmarkState.name }} </a> </span> <i ng-click=\"removeState($event, availableBookmarkState)\" class=\"fa fa-times remove-view\"></i> </li> </ul> </div> <div class=\"settings-button dropdown-options inline-block pull-right\" uib-dropdown auto-close=outsideClick is-open=exportDropdownSettings.opened> <button class=\"btn btn-filters\" uib-dropdown-toggle> <i class=\"fa fa-download btn-icon\"></i> Export </button> <ul uib-dropdown-menu class=\"dropdown-menu tool-bar-dropdown pull-right\" role=menu> <li ng-click=\"prepareExport('CSV')\"> <a>Export as CSV</a> </li> <li ng-click=\"prepareExport('XLS')\"> <a>Export as Excel</a> </li> <li ng-show=\"tabsSection.options.tabs.length > 1\" ng-click=\"prepareExport('XLS_WORKBOOK')\"> <a>Export as Excel (full workbook)</a> </li> <li ng-show=\"totalSize > 4000000\" class=export-info> <a class=muted>Note: exports limited to 2M rows</a> </li> </ul> </div> <div class=\"settings-button dropdown-options inline-block pull-right ingest-settings-dropdown\"> <button class=\"btn btn-filters\" ng-disabled=isViewOnly ng-click=toggleIngestSettingsDropdown()> <i class=\"fa fa-cog btn-icon\"></i> Settings </button> <div ng-show=ingestSettingsDropdown.open class=settings-panel-value role=menu click-out=hideIngestSettingsDropdown() click-out-excluding-classes=\"['ingest-settings-dropdown', 'dropdown-menu']\"> <div class=page-settings-wrapper> <div class=\"settings-list page-settings\"> <div class=settings-list-item> <span class=settings-label> <span>Drill into fields:</span> <a class=info-button uib-tooltip=\"What fields will display when you click into an aggregation to see the data behind that aggregated value\" tooltip-placement=top tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=\"main-page-tooltip text-left\"></a> </span> <div class=settings-list-action-dropdown uib-dropdown dropdown-append-to-body=true> <span class=\"ingest-source-item-select dropdown-toggle\" uib-dropdown-toggle> All ({{selectedGroupByCount()}}) <span class=caret></span> </span> <ul class=\"dropdown-menu dropdown-menu-right drill-into-columns-dropdown tool-bar-dropdown tool-bar-settings pull-right\" uib-dropdown-menu role=menu> <li class=filter-settings-header> Drill-into Columns: </li> <ul class=\"sidebar-ul inner-ul tool-bar-dropdown flexible-dropdown\" role=menu sv-root=rawShowMeList sv-part=rawShowMeList sv-on-sort=\"endSortFieldsRaw($item, $indexTo);\" ng-click=$event.stopPropagation();> <li role=menuitem ng-click=toggleSelectAllFieldRaw();> <span> <input type=checkbox ng-checked=isAllFieldsRawSelected() class=regular-checkbox> <label></label> </span> <a><b>Select All</b></a> </li> <li role=menuitem ng-repeat=\"rawShow in rawShowMeList\" ng-click=toggleRawShow(rawShow); sv-element> <span sv-handle class=handle> <i class=\"fa fa-grip fa-rotate-90\"></i> </span> <span> <input type=checkbox ng-model=rawShow.id.selected class=regular-checkbox> <label></label> </span> <a> <span ng-bind-html=rawShow.name></span> </a> <span class=sort ng-click=\"$event.stopPropagation(); switchShowRawSort(rawShow);\"> <i ng-class=getSortClass(rawShow.id.sort.direction)></i> </span> </li> </ul> </ul> </div> </div> <div class=separator></div> <div class=settings-list-item> <span class=settings-label> <span>Auto-query:</span> <a class=info-button uib-tooltip=\"Changes will automatically be applied to the page without having to click submit.\" tooltip-placement=top tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=\"main-page-tooltip text-left\"></a> </span> <div class=\"settings-list-action-dropdown dropdown-menu-right\" uib-dropdown dropdown-append-to-body=true> <span uib-dropdown-toggle> <span>{{autoRefresh ? 'On' : 'Off'}}</span> <span class=caret></span> </span> <ul class=\"dropdown-menu checkable dropdown-menu-right tool-bar-dropdown\" uib-dropdown-menu> <li ng-click=switchAutoRefresh(true) class=dropdown-menuitem ng-class=\"{'selected': autoRefresh}\"> <span>On</span> </li> <li ng-if-end ng-click=switchAutoRefresh(false) class=dropdown-menuitem ng-class=\"{'selected': !autoRefresh}\"> <span>Off</span> </li> </ul> </div> </div> <div class=settings-list-item> <span class=settings-label> <span>Convert times to {{getUserTimezoneAbbreviation()}}</span> </span> <div class=\"settings-list-action-dropdown dropdown-menu-right\" uib-dropdown dropdown-append-to-body=true> <span uib-dropdown-toggle> <span>{{isConvertToUserTimezone() ? \"On\" : \"Off\"}}</span> <span class=caret></span> </span> <ul class=\"dropdown-menu checkable dropdown-menu-right tool-bar-dropdown\" uib-dropdown-menu> <li ng-click=switchConvertTimes(true) class=dropdown-menuitem ng-class=\"{'selected': isConvertToUserTimezone()}\"> <span>On</span> </li> <li ng-if-end ng-click=switchConvertTimes(false) class=dropdown-menuitem ng-class=\"{'selected': !isConvertToUserTimezone()}\"> <span>Off</span> </li> </ul> </div> </div> <div class=settings-list-item> <span class=settings-label> <span>Adjust Field Headings:</span> </span> <div class=\"settings-list-action-dropdown dropdown-menu-right\" uib-dropdown dropdown-append-to-body=true> <span uib-dropdown-toggle> <span>{{getCurrentHeaderAdjustmentValue()}}</span> <span class=caret></span> </span> <ul class=\"dropdown-menu checkable dropdown-menu-right tool-bar-dropdown\" uib-dropdown-menu> <li ng-repeat=\"(key, value) in columnHeaderAvailableFormats\" ng-click=setCurrentHeaderAdjustmentValue(key) class=dropdown-menuitem ng-class=\"{'selected': isCurrentHeaderAdjustment(key)}\"> <span>{{value}}</span> </li> </ul> </div> </div> </div> </div> </div> </div> <div class=\"settings-button dropdown-options inline-block pull-right source-settings-dropdown\"> <button class=\"btn btn-filters\" ng-disabled=isViewOnly ng-click=toggleSourceSettingsDropdown() uib-tooltip=\"{{isCommitRunning() ? 'Your source is currently being refreshed.' : ''}}\" tooltip-placement=top tooltip-popup-delay=250 tooltip-class=\"main-page-tooltip text-left\" tooltip-append-to-body=true ng-disabled=isSourceDeleted()> <div class=source-icon></div> <span ng-show=isCommitRunning() class=source-button-label>{{commitProgress.getValue() ? commitProgress.getValue() : 0}}%</span> <span ng-hide=isCommitRunning() class=source-button-label>Source</span> <span class=disconnected-source-sign ng-if=\"sourceValidationInfo.removed || !sourceValidationInfo.valid\"></span> </button> <div class=source-panel-value ng-show=sourceSettingsDropdown.open role=menu click-out=hideSourceSettingsDropdown() click-out-excluding-classes=\"['source-settings-dropdown']\"> <div class=data-settings-wrapper> <div class=settings-list> <div class=settings-list-item> <span class=settings-label>Data source: </span> <span class=settings-value>{{sourceInfoMessage}}</span> </div> <div class=settings-list-item> <span class=settings-label>Last ingested: </span> <div class=settings-value> <div>{{getLastIngestedTime()}} ({{getTimeSinceLastCommit()}})</div> <div class=last-refresh-time>{{getLastCommitDuration(true)}}</div> </div> </div> <div class=settings-list-action> <div class=refresh-section> <button class=\"btn btn-filters btn-filters-blue refresh-now-btn\" ng-click=refreshNow() ng-show=isRefreshableSource() ladda=isRefreshingNow ladda-numerical-progress=\"commitProgress.getValue() ? commitProgress.getValue() : 0\">Refresh Now</button> <span class=last-failed-updated-data ng-if=\"isRefreshableSource() && !isCommitRunning() && (sourceValidationInfo.removed || !sourceValidationInfo.valid)\">{{lastUpdateTabMessage()}}</span> <a class=cancel-commit ng-if=isCommitRunning() ng-click=cancelCommit()>Cancel</a> <a class=goto-source-link ng-click=\"togglePageMode(true, 0, false)\">Go to source</a> <span class=\"padding-left-small disabled\" ng-if=sourceRemoved> (Removed)</span> </div> </div> </div> </div> </div> </div> </div> </div> <div class=toolbar-label-down>Settings</div> </div> </div> <div class=status-bar-search-wrapper ng-class=\"{'mobile-search-active': mobileSearch.active}\" mobile-search> <div class=mobile-search-icon></div> </div> </div> </div> </div>"),$templateCache.put("static/templates/include/viz-pages/viz.html","<div id=search-results ng-if=\"isVizMode() && dataTabs.results\" class=\"widget resizable-wrapper\"> <div class=\"results page-content-wrapper\"> <table style=width:100%;height:100%> <tr class=collapsed-tags-row click-out=setShowCollapsedTags(true) click-out-excluding-classes=\"['ui-select-choices', 'context-submenu', 'sort-section']\"> <td id=non-collapsed-tags ng-show=\"!isCurrentView('chart')\" style=height:82px;display:none> <div class=show-me-bar-table> <div class=table-wrapper> <table class=query-table style=min-height:82px> <tbody> <tr id=show-me-row> <td class=section-name> <span>Show me </span> <a href=javascript:void(0) ng-show=\"dataSummary.shows.length > 0\" style=margin-right:5px;color:#aaa;float:right ng-click=removeAllShowMe()> <i class=\"fa fa-times\" uib-tooltip=\"Remove all items\" tooltip-append-to-body=true tooltip-placement=right tooltip-popup-delay=250 tooltip-class=main-page-tooltip></i> </a> </td> <td> <table style=width:100%;height:100%;table-layout:fixed> <tr> <td> <ui-select id=shows-select multiple=multiple ng-model=dataSummary.shows on-remove=\"showMeOnRemove($item, $select)\" on-select=\"showMeOnSelect($item, false, $select)\" sortable=true not-remove-selected=true close-on-select=false without-choices context-menu-options=showMeContextMenuOptions focus-on=FocusOnShowMe> <ui-select-match> <span ng-bind-html=$item.showName></span> </ui-select-match> <ui-select-choices first-item-active=false position=down repeat=\"col in showMeAutoCompleteList | filter: matchFn($select.search)\" ng-hide=!$select.search.length> <span> <i class=\"fa fa-fw\" ng-class=\"{'fa-check': showMeColChecked(col)}\"></i> <span ng-bind-html=col.showName></span> </span> </ui-select-choices> </ui-select> </td> </tr> </table> </td> </tr> <tr id=broken-down-row> <td class=section-name> <i style=color:#000 class=\"fa fa-level-up fa-rotate-270 back\" ng-cloak ng-click=selectDataSummaryBack() ng-show=isViewRawData></i> <span>Broken down by </span> <a href=javascript:void(0) ng-show=\"dataSummary.aggs.length > 0 || dataSummary.pivot.length > 0\" style=margin-right:5px;color:#aaa;float:right ng-click=removeAllGroupBy()> <i class=\"fa fa-times\" uib-tooltip=\"Remove all items\" tooltip-append-to-body=true tooltip-placement=right tooltip-popup-delay=250 tooltip-class=main-page-tooltip></i> </a> </td> <td style=position:relative> <table style=width:100%;table-layout:fixed> <tr> <td> <ui-select id=group-by-select multiple=multiple ng-model=dataSummary.aggs on-select=\"groupBySummarySelect($item, $model, $select)\" on-remove=\"groupBySelectOnRemove($item, $select)\" sortable=true not-remove-selected=true without-choices context-menu-options=groupByContextMenuOptions on-showing-choices=setMaxHeightOnElement() close-on-select=false focus-on=FocusOnGroupBy> <ui-select-match placeholder=Drill-into> <span ng-click=\"showSortSettingsDropdown($event, $item)\"> <span ng-bind-html=$item.displayName></span> <div class=sort-description> <span>sorted&nbsp; <span ng-bind=$item.id.settings.sort.direction></span>, </span> <span>limit <span ng-bind=\"$item.id.settings.limit || dataSummary.limit.aggData\"></span> </span> <span class=sort-settings-dropdown-button> <i class=\"fa fa-caret-down\"></i> </span> </div> </span> </ui-select-match> <ui-select-choices first-item-active=false position=down ng-hide=!$select.search.length repeat=\"col in filterGroupBy() | filter: matchFn($select.search, true)\"> <span> <i class=\"fa fa-fw\"></i> <span ng-bind-html=col.displayName></span> <span style=color:#333 ng-if=\"$select.search.length >= 2 && col.operation\">({{col.colName}})</span> </span> </ui-select-choices> </ui-select> </td> <td class=section-name style=font-size:14px;width:40px> <a href=javascript:void(0) ng-show=\"dataSummary.pivot.length > 0\" style=margin-right:5px;color:#aaa;float:right ng-click=removeAllGroupPivotBy()> <i class=\"fa fa-times\" uib-tooltip=\"Remove all items\" tooltip-append-to-body=true tooltip-placement=right tooltip-popup-delay=250 tooltip-class=main-page-tooltip></i> </a> </td> <td style=position:relative> <ui-select id=pivot-by multiple=multiple ng-model=dataSummary.pivot sortable=true on-select=\"groupPivotBySummarySelect($item, $model)\" on-remove=groupPivotBySelectOnRemove($item) not-remove-selected=true close-on-select=false without-choices context-menu-options=pivotByContextMenuOptions on-showing-choices=setMaxHeightOnElement() focus-on=FocusOnPivotBy> <ui-select-match placeholder=\"Pivot on\"> <span ng-click=\"showSortSettingsDropdown($event, $item)\"> <span ng-bind-html=$item.displayName></span> <div class=sort-description> <span>sorted&nbsp; <span ng-bind=$item.id.settings.sort.direction></span>, </span> <span>limit <span ng-bind=\"$item.id.settings.limit || dataSummary.limit.pivotData\"></span> </span> <span class=sort-settings-dropdown-button> <i class=\"fa fa-caret-down\"></i> </span> </div> </span> </ui-select-match> <ui-select-choices first-item-active=false position=down ng-hide=!$select.search.length repeat=\"col in filterGroupBy() | filter: matchFn($select.search, true)\" ui-disable-choice=\"col.operation==''\"> <span> <i class=\"fa fa-fw\"></i> <span ng-bind-html=col.displayName></span> <span style=color:#333 ng-if=\"$select.search.length >= 2 && col.operation\">({{col.colName}})</span> </span> </ui-select-choices> </ui-select> </td> </tr> </table> </td> </tr> <tr class=show-me-for-tr ng-if=\"isShowFilterSection || isVisibleForRow()\" uib-tooltip=\"Use the filter panel on the left to build filters\" tooltip-append-to-body=true tooltip-placement=top tooltip-trigger=outsideClick ng-click=toggleFilterTooltip($event) tooltip-is-open=isShowFilterTooltip tooltip-class=filterRowTooltipClass> <td class=section-name> <span>For </span> <a href=javascript:void(0) style=margin-right:5px;color:#aaa;float:right ng-click=resetAllFilters() ng-show=isResetAllShow()> <i class=\"fa fa-times\" uib-tooltip=\"Remove all items\" tooltip-append-to-body=true tooltip-placement=right tooltip-popup-delay=250 tooltip-class=main-page-tooltip></i> </a> </td> <td> <ng-include src=\"'static/templates/include/filter-tags.html'\"></ng-include> <input style=position:absolute;left:-99999px ng-blur=onHiddenFilterInputBlur()> </td> </tr> </tbody> </table> </div> <div class=bnt-query-wrapper-expanded> <button ng-show=!autoRefresh ng-disabled=!refreshAvailable class=\"btn btn-filters btn-filters-blue\" href=javascript:void(0) style=\"padding:0 9px;margin-right:10px;height:28px\" ng-click=doHandleRefresh()> Run Query </button> <button ng-show=!autoRefresh ng-disabled=!refreshAvailable class=\"btn btn-filters\" href=javascript:void(0) style=\"padding:0 9px;margin-right:10px;height:28px\" ng-click=doCancelRefresh()> Cancel </button> </div> </div> </td> <td ng-show=\"!isCurrentView('chart')\" id=collapsed-tags style=\"height:40px;border-bottom:1px solid #d4d4d4\" ng-click=$event.stopPropagation();> <table style=width:100%;height:100%> <tr> <td style=padding:10px;width:15px ng-click=selectDataSummaryBack() ng-show=isViewRawData> <i class=\"fa fa-level-up fa-rotate-270 back\" ng-cloak></i> </td> <td ng-style=\"{'padding-left': !isViewRawData ? '30px' : ''}\"> <div collapsed-tags style=height:100%;position:relative></div> </td> <td ng-show=!autoRefresh style=width:170px> <div class=btn-query-wrapper-collapsed> <button ng-disabled=!refreshAvailable class=\"btn btn-filters btn-filters-blue\" href=javascript:void(0) style=\"padding:0 9px;margin-right:10px;height:28px\" ng-click=doHandleRefresh()> Run Query </button> <button ng-disabled=!refreshAvailable class=\"btn btn-filters\" href=javascript:void(0) style=\"padding:0 9px;margin-right:10px;height:28px\" ng-click=doCancelRefresh()> Cancel </button> </div> </td> </tr> </table> </td> </tr> <tr> <td> <div style=overflow:hidden;position:relative;height:100%;width:100%> <div class=\"loader backdrop-only\" ng-show=inRequest> <div class=\"loader-backdrop semi-transparent\"></div> </div> <div class=main-viewport> <span class=chart-disabled-message ng-show=chartDisabled ng-bind=chartDisabled.message></span> <div id=ag-grid ng-show=\"viewMode == viewModes.TABLE\" class=ag-custom></div> <div viz-list ng-show=\"viewMode == viewModes.LIST\"></div> </div> </div> </td> </tr> </table> </div> <div viz-filters ng-if=!isViewOnly ctrl-name=visualizationCtrl filter-id=visualization-filters save-width=true></div> </div>"),$templateCache.put("static/templates/include/worksheet/input-node.html","<div class=\"source input-node\"> <a class=delete>x</a> <i class=\"fa fa-plug fa-3x\"></i> <div class=icon-text>Input Data</div> <div class=bottom-container> <span class=add><span class=add-wrap><span class=lbl></span></span></span> <span class=add><span class=\"add-wrap start-on-row\">Start on <a class=lnk><span class=row-text>Row 1</span></a></span></span> <span class=add><span class=\"add-wrap use-headers\"><a class=lnk>Use Headers</a></span></span> </div> <div class=out-port></div> </div>"),$templateCache.put("static/templates/include/worksheet/join-node.html","<div class=\"source join-node\"> <a class=delete>x</a> <i class=\"fa fa-link fa-3x\"></i> <a class=switch>Join<div class=ctrl></div></a> <div class=bottom-container> <span class=add><span class=add-wrap><a id=type class=lnk>Click to set join condition</a></span></span> </div> <div class=out-port></div> <div class=\"in-port in-port-1\"> <div class=letter>L</div> </div> <div class=\"in-port in-port-2\"> <div class=letter>R</div> </div> </div>"),$templateCache.put("static/templates/include/worksheet/ops-node.html","<div class=ops-node> <div class=connector-line></div> <i class=\"fa fa-calculator ops-icon\"></i> <span class=ops-node-text></span> <div class=ops-bottom-container></div> </div>"),$templateCache.put("static/templates/include/worksheet/output-node.html"," <div class=\"source output-node\"> <i class=\"fa fa-check fa-3x\"></i> <div class=icon-text>Final Output</div> <div class=in-port></div> </div>"),$templateCache.put("static/templates/include/worksheet/source.html","<div class=source> <a class=delete>x</a> <label></label> <span></span> <input type=hidden class=datasource-id> </div>"),$templateCache.put("static/templates/include/worksheet/union-folder-node.html","<div class=\"source union-folder\"> <a class=delete>x</a> <i class=\"fa fa-folder-open-o fa-3x\"></i> <div class=icon-text>Union Folder</div> <div class=bottom-container> <span class=add><span class=add-wrap><span class=lbl></span></span></span> </div> <div class=out-port></div> </div>"),$templateCache.put("static/templates/include/worksheet/union-node.html","<div class=\"source union-node\"> <a class=delete>x</a> <i class=\"fa fa-link fa-3x\"></i> <a class=switch>Union<div class=ctrl></div></a> <div class=out-port></div> <div class=in-port></div> </div>")}])}),define("cached-templates/templates-main",["angular"],function(angular){"use strict";return angular.module("templates-main",[]).run(["$templateCache",function($templateCache){$templateCache.put("/static/templates/main/datadocs.html","<div style=display:flex;flex-direction:row;height:100%> <div class=\"homescreen-wrapper docs-section\" ng-class=\"{ 'file-details-opened': fileDetails.isOpen }\"> <div class=\"container header-container\"> <div sort-columns class=row sort-columns-options=columnsSections.docs></div> </div> <div class=wrapper-for-spinner> <div class=loading-spinner ng-show=updateDocs> <svg class=spinner width=50px height=50px viewBox=\"0 0 66 66\" xmlns=http://www.w3.org/2000/svg> <circle class=path fill=none stroke-width=7 stroke-linecap=round cx=33 cy=33 r=30></circle> </svg> </div> <div class=\"container index-list-wrapper index-list-wrapper-with-spinner\" enable-keyboard-navigation=true> <div ng-if=\"!getDatadocs().length && !isShowNewDocFolder()\" ng-include=\"'static/templates/include/no-docs.html'\"></div> <div class=main-page-ds-pane ng-show=isShowNewDocFolder()> <add-folder-pane id=new-doc-folder on-enter=\"createNewDocFolder(folder.name, selectedDocFolder ? selectedDocFolder.id : undefined)\" on-cancel=cancelDocFolderCreate()> </add-folder-pane> </div> <div class=\"main-page-datadoc-pane row\" ng-class=\"{'last': $last}\" ng-repeat=\"d in getDatadocs() | orderBy: '__index'\" on-finish-render=processRenderedDocBreadcrumbs() context-menu=\"indexOptions($event, d)\" context-menu-open-event=\"contextmenu dblclick touchstart touchmove touchend\" context-menu-options=docContextMenuOptions> <datadoc-pane></datadoc-pane> </div> <div class=isLoadingSpinner ng-show=isLoadMoreDocs> <svg class=spinner width=30px height=30px viewBox=\"0 0 66 66\" xmlns=http://www.w3.org/2000/svg> <circle class=path fill=none stroke-width=7 stroke-linecap=round cx=33 cy=33 r=30></circle> </svg> </div> </div> </div> </div> <main-page-file-details ng-show=fileDetails.isOpen ng-cloak></main-page-file-details> </div>"),$templateCache.put("/static/templates/main/index.html","<div ui-view></div> <uploads></uploads>"),$templateCache.put("/static/templates/main/main.html","<div class=navbar-wrapper> <nav class=\"navbar navbar-inverse navbar-fixed-top\" role=navigation> <div class=\"navbar-header main-navbar-header\"> <a class=navbar-brand ng-click=\"toggleActiveSection(SECTIONS.MY_DATA, false, true)\"></a> </div> <search-bar ng-show=!goingToVizPage></search-bar> <div class=flex-spacer></div> <div class=general-settings> <user-menu></user-menu> </div> </nav> </div> <div id=wrapper ng-click=\"resetRenameSource(); resetRenameDoc()\" class=resizable-wrapper style=cursor:default ng-class=\"{'reset-sidebar-padding': isLandingPage()}\" nv-file-drop uploader=uploader options=uploaderOptions upload-border> <div id=page-content-wrapper class=\"main-page-wrapper page-content-wrapper\"> <div class=main-page> <nav class=nav-sidebar-wrapper> <div class=\"nav-sidebar-content no-select\"> <div class=content-header> <div class=recent-section-dropdown-wrapper uib-dropdown is-open=recentDropdownMenuOpened> <button class=create-doc ng-click=\"createIndex(null, null, true, true)\" uib-tooltip=\"Click to create a new datadoc\" tooltip-placement=top tooltip-popup-delay=250 tooltip-append-to-body=true tooltip-class=main-page-tooltip> <span class=create-doc-text> Create </span> </button> <button uib-dropdown-toggle class=\"create-doc sub-button\" uib-tooltip=\"Click to add a new source or folder\" tooltip-placement=top tooltip-popup-delay=250 tooltip-append-to-body=true tooltip-class=main-page-tooltip tooltip-enable=!recentDropdownMenuOpened> <i class=\"fa fa-plus\"></i> </button> <ul class=\"main-page-dropdown-menu recent-section-dropdown landing-page-menu\" uib-dropdown-menu> <li class=main-page-dropdown-menuitem ng-click=createIndex()> <a> <div class=icon> <div class=\"img index-icon icon-small\"></div> </div> <span class=text-content> Create datadoc </span> </a> </li> <li class=main-page-dropdown-menuitem ng-click=addDataSource()> <a> <div class=icon> <div class=\"img sources\"></div> </div> <span class=text-content> Add source </span> </a> </li> <li class=main-page-dropdown-menuitem ng-click=showNewFolderModal() ng-show=\"activeSection != SECTIONS.RECENT\"> <a> <div class=icon> <div class=\"img folder icon-small\"></div> </div> <span class=text-content> Add folder </span> </a> </li> </ul> </div> </div> <div class=nav-section-wrapper ng-cloak> <div class=nav-item-wrapper ng-class=\"{'active': activeSection == SECTIONS.MY_DATA}\" ng-click=\"toggleActiveSection(SECTIONS.MY_DATA, false, true)\"> <span class=item-icon> <div class=\"img sources\"></div> </span> <span class=item-content>My Data</span> </div> <div class=nav-item-wrapper ng-class=\"{'active': activeSection == SECTIONS.USER_SETTINGS}\" ng-click=toggleActiveSection(SECTIONS.USER_SETTINGS)> <span class=item-icon> <div class=\"img user\"></div> </span> <span class=item-content>User Settings</span> </div> </div> </div> </nav> <div class=homescreen-container ng-cloak context-menu=mainPageMainMenuOptions() context-menu-options=mainContextMenuOptions ui-view> </div> </div> </div> </div> "),$templateCache.put("/static/templates/main/my-data.html","<div style=display:flex;flex-direction:row;height:100%> <div class=\"homescreen-wrapper sources-section\" ng-class=\"{ 'file-details-opened': fileDetails.isOpen }\"> <div class=\"container header-container\"> <div sort-columns class=row sort-columns-options=columnsSections.sources></div> </div> <div class=wrapper-for-spinner> <div class=loading-spinner ng-show=isShowSourcesBackdrop ng-class=\"!gettingSources() ? 'backdrop' : 'no-backdrop'\"> <svg class=spinner width=50px height=50px viewBox=\"0 0 66 66\" xmlns=http://www.w3.org/2000/svg> <circle class=path fill=none stroke-width=7 stroke-linecap=round cx=33 cy=33 r=30></circle> </svg> </div> <div class=\"container index-list-wrapper index-list-wrapper-with-spinner\" ng-select-items=ngSelectSourcesSectionOptions enable-keyboard-navigation=true> <div ng-if=\"!getUploads().length && !isShowNewSourceFolder() && !gettingSources()\" ng-include=\"'static/templates/include/no-sources.html'\"></div> <div class=main-page-ds-pane ng-show=isShowNewSourceFolder()> <add-folder-pane id=new-source-folder loading=isNewSourceFolderLoading() on-enter=\"createNewSourceFolder(folder.name, selectedSourceFolder ? selectedSourceFolder.id : undefined)\" on-cancel=cancelSourceFolderCreate()> </add-folder-pane> </div> <div class=main-page-ds-pane ng-repeat=\"u in getUploads() | orderBy: '__index'\" ng-class=\"{'last': $last}\" on-finish-render=processRenderedSourceBreadcrumbs() context-menu=uploadedItemOptions($event) context-menu-options=sourceContextMenuOptions context-menu-open-event=\"contextmenu dblclick touchstart touchmove touchend\"> <main-page-ds-pane></main-page-ds-pane> </div> <div class=isLoadingSpinner ng-show=isLoadMoreSources> <svg class=spinner width=30px height=30px viewBox=\"0 0 66 66\" xmlns=http://www.w3.org/2000/svg> <circle class=path fill=none stroke-width=7 stroke-linecap=round cx=33 cy=33 r=30></circle> </svg> </div> </div> </div> </div> <main-page-file-details ng-show=fileDetails.isOpen ng-cloak></main-page-file-details> </div>"),$templateCache.put("/static/templates/main/search.html","<div style=display:flex;flex-direction:row;height:100%> <div class=\"homescreen-wrapper search-section\" ng-class=\"{ 'file-details-opened': fileDetails.isOpen }\"> <div class=section-wrapper ng-show=searchResultsFiles.length> <div class=\"container header-container\"> <div sort-columns class=row sort-columns-options=columnsSections.searchResultsSources></div> </div> <div class=\"container index-list-wrapper\" ng-select-items=ngSelectSourcesSectionOptions> <div class=main-page-ds-pane ng-show=isShowNewSourceFolder()> <add-folder-pane id=new-source-folder on-enter=\"createNewSourceFolder(folder.name, selectedSourceFolder ? selectedSourceFolder.id : undefined)\" on-cancel=cancelSourceFolderCreate()> </add-folder-pane> </div> <div class=main-page-ds-pane ng-repeat=\"u in searchResultsFiles | orderBy: '__index'\" ng-class=\"{'last': $last}\" on-finish-render=processRenderedSourceBreadcrumbs() context-menu=uploadedItemOptions($event) context-menu-options=sourceContextMenuOptions context-menu-open-event=\"contextmenu dblclick touchstart touchmove touchend\"> <main-page-ds-pane ds-drag=false></main-page-ds-pane> </div> </div> </div> <div class=section-wrapper ng-show=\"!loadingResults() && !getSearchResults().length\"> <div class=\"container header-container\"> <div sort-columns class=row sort-columns-options=columnsSections.noResults></div> </div> <div class=\"container index-list-wrapper\"> <div class=main-page-ds-pane> <div class=col-md-12> <div class=empty-folder-description> <span>There are no items that match your search. <a ng-click=clearSearch()>Clear search</a></span> </div> </div> </div> </div> </div> </div> <main-page-file-details ng-show=fileDetails.isOpen ng-cloak></main-page-file-details> </div>"),$templateCache.put("/static/templates/main/sources-breadcrumbs.html","<span ng-show=\"!(selectedSourceFolder != undefined && !isSearchMode())\" ng-bind-html=col.selected.title></span> <span class=folders-path> <span ng-show=\"selectedSourceFolder != undefined && !isSearchMode()\" style=display:flex> <a class=\"item item-link\" ng-click=\"$event.stopPropagation(); selectSourceFolder(undefined)\"> <input type=hidden class=uid> <span>My Data</span></a> <span ng-repeat=\"parent in selectedSourceFolder.parentsPath\" on-finish-render=processRenderedSourceBreadcrumbs() class=parent-item uib-tooltip={{parent.name}} tooltip-append-to-body=true tooltip-placement=top tooltip-popup-delay=1000 tooltip-class=main-page-tooltip> <span class=item><i class=\"fa fa-angle-right\"></i></span> <a class=\"item item-link\" ng-click=\"$event.stopPropagation(); selectSourceFolder(parent)\"> <input type=hidden class=uid value={{parent.id}}> <span>{{parent.name}}</span> </a> </span> <span class=current-folder uib-tooltip={{selectedSourceFolder.name}} tooltip-append-to-body=true tooltip-placement=top tooltip-popup-delay=1000 tooltip-class=main-page-tooltip> <span class=item><i class=\"fa fa-angle-right\"></i></span> <span class=\"item item-link\">{{selectedSourceFolder.name}}</span> </span> </span> </span>"),$templateCache.put("/static/templates/main/uploads-close.html","<form class=delete-modal> <div class=modal-header> <button type=button class=close ng-click=closeUploadCloseModal(false)>&times;</button> <h4 class=modal-title>Cancel uploads?</h4> </div> <div class=modal-body> <div style=margin-top:20px>Your upload is not complete. Would you like to cancel the upload?</div> </div> <div class=modal-footer> <button class=\"btn btn-default-flat-goog pull-right\" style=margin-left:10px ng-click=closeUploadCloseModal(true)>Cancel upload</button> <button type=submit class=\"btn btn-primary-goog pull-right\" ng-click=closeUploadCloseModal(false) autofocus>Continue upload</button> </div> </form>"),$templateCache.put("/static/templates/main/uploads.html","<div> <div class=modal-header> <span class=\"modal-title no-overflow\">{{getUploadsPopupTitle()}}</span> <div class=modal-buttons> <button type=button ng-show=false> <svg fill=#FFFFFF height=24 viewBox=\"0 0 24 24\" width=24 xmlns=http://www.w3.org/2000/svg> <path d=\"M0 0h24v24H0z\" fill=none></path> <path d=\"M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z\"></path> </svg> </button> <button type=button ng-show=!uploadModal.minimized ng-click=minimizeUploadsPopup()> <svg x=0px y=0px width=14px height=14px viewBox=\"0 0 24 24\" focusable=false> <path fill=#FFFFFF d=M21.17,5.17L12,14.34l-9.17-9.17L0,8l12,12,12-12z></path></svg> </button> <button type=button ng-show=uploadModal.minimized ng-click=maximizeUploadsPopup()> <svg x=0px y=0px width=14px height=14px viewBox=\"0 0 24 24\" focusable=false> <path fill=#FFFFFF d=M2.83,18.83L12,9.66l9.17,9.17L24,16,12,4,0,16z></path></svg> </button> <button type=button ng-click=closeUploadsPopup()> <svg x=0px y=0px width=14px height=14px viewBox=\"0 0 10 10\" focusable=false> <polygon class=a-s-fa-Ha-pa fill=#FFFFFF points=\"10,1.01 8.99,0 5,3.99 1.01,0 0,1.01 3.99,5 0,8.99 1.01,10 5,6.01 8.99,10 10,8.99 6.01,5 \"></polygon></svg> </button> </div> </div> <div class=modal-body ng-show=!uploadModal.minimized> <div ng-repeat=\"item in uploader.queue\" class=item ng-class=\"{'pointed': item.datadoc || item.isDuplicate}\" ng-click=openDatadoc(item)> <div class=item-content> <div> <div class=icon ng-class=\"{'uploaded': item.isUploaded && !item.isCancel}\"> <div class=\"img {{getUploadItemIcon(item)}}\"></div> </div> </div> <div class=name-container> <span class=\"no-overflow name\" ng-class=\"{'uploaded': item.isUploaded && !item.isCancel && !item.verifying, 'compressed': getUploadItemStatus(item)}\"> {{ item.file.name }}</span> <span class=under-name-progress ng-hide=\"(item.isCancel || item.isError)\">{{getUnderNameStatus(item)}}</span> </div> <span class=delimiter uib-tooltip=\"{{item.errorDescription || item.resultMessage}}\" tooltip-enable=\"{{!!item.errorDescription || !!item.resultMessage }}\" tooltip-append-to-body=true tooltip-placement=top-right tooltip-popup-delay=250 tooltip-class=main-page-tooltip>{{getUploadItemStatus(item)}}</span> <div class=buttons> <div ng-mouseenter=\"hovering=true\" ng-mouseleave=\"hovering=false\"> <div class=modal-tooltip-error ng-show=\"(item.isCancel || item.isError) && !hovering\" uib-tooltip={{item.errorDescription}} tooltip-enable={{!!item.errorDescription}} tooltip-placement=top-right tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip> <svg ng-switch=item.isDuplicate class=a-s-fa-Ha-pa width=24px height=24px viewBox=\"0 0 24 24\" fill=\"{{item.isDuplicate ? '#0F9D58' : '#db4437'}}\"> <path ng-switch-when=true d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"></path> <path ng-switch-default d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"></path> </svg> </div> <div class=modal-tooltip-error ng-show=\"(item.isError || item.isCancel || item.stoppingIngest) && hovering\" ng-click=clearItem(item) uib-tooltip=\"Remove entry\" tooltip-enable={{!!item.errorDescription}} tooltip-placement=left tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip> <svg x=0px y=0px width=24px height=24px viewBox=\"0 0 24 24\" focusable=false> <path class=a-s-fa-Ha-pa fill=#000000 d=\"M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M17,15.6L15.6,17L12,13.4L8.4,17L7,15.6l3.6-3.6   L7,8.4L8.4,7l3.6,3.6L15.6,7L17,8.4L13.4,12L17,15.6z\"></path></svg> </div> </div> <div class=modal-tooltip-uploading ng-show=\"item.isUploading || item.isSchemaDefining && !item.ingesting\" ng-click=\"item.cancel(); showItem(item)\" uib-tooltip=\"Cancel upload\" tooltip-enable=item.isUploading tooltip-placement=left tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip> <svg x=0px y=0px width=24px height=24px viewBox=\"0 0 24 24\" focusable=false> <path class=cancel-button fill=#000000 d=\"M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M17,15.6L15.6,17L12,13.4L8.4,17L7,15.6l3.6-3.6   L7,8.4L8.4,7l3.6,3.6L15.6,7L17,8.4L13.4,12L17,15.6z\"></path></svg> </div> <div ng-mouseenter=\"hoveringDatadoc=true\" ng-mouseleave=\"hoveringDatadoc=false\"> <div ng-show=item.isSuccess> <div ng-switch=item.ingesting> <div ng-switch-when=IN_PROGRESS> <div class=modal-tooltip-ingesting ng-click=\"showStopIngestModal($event, item)\" ng-disabled=!item.datadoc.lastFlowExecutionTasks ng-class=\"{'disabled': !item.datadoc.lastFlowExecutionTasks}\" uib-tooltip=\"Stop ingesting\" tooltip-enable=true tooltip-placement=left tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip> <svg x=0px y=0px width=24px height=24px viewBox=\"0 0 24 24\" focusable=false> <path class=cancel-button fill=#000000 d=\"M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M17,15.6L15.6,17L12,13.4L8.4,17L7,15.6l3.6-3.6   L7,8.4L8.4,7l3.6,3.6L15.6,7L17,8.4L13.4,12L17,15.6z\"></path></svg> </div> </div> <div class=modal-tooltip-finished ng-switch-when=FINISHED uib-tooltip=\"Open Datadoc\" tooltip-placement=left tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip ng-click=\"goToVisualization(item.datadoc, true)\"> <svg class=a-s-fa-Ha-pa width=24px height=24px viewBox=\"0 0 24 24\" fill=#0F9D58> <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"></path> </svg> </div> <div class=modal-tooltip-failed ng-switch-when=NO_INGEST ng-if=!hoveringDatadoc uib-tooltip={{item.resultMessage}} tooltip-enable={{!!item.resultMessage}} tooltip-placement=left tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip> <svg ng-if=!hoveringDatadoc class=a-s-fa-Ha-pa width=24px height=24px viewBox=\"0 0 24 24\" fill=#0F9D58> <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"></path> </svg> </div> <div class=modal-tooltip-cancel ng-show=\"(item.isError || item.isCancel || item.stoppingIngest) && hoveringDatadoc\" ng-click=clearItem(item) uib-tooltip=\"Remove entry\" tooltip-enable={{!!item.resultMessage}} tooltip-placement=left tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip> <svg x=0px y=0px width=24px height=24px viewBox=\"0 0 24 24\" focusable=false> <path class=a-s-fa-Ha-pa fill=#000000 d=\"M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10c5.5,0,10-4.5,10-10S17.5,2,12,2z M17,15.6L15.6,17L12,13.4L8.4,17L7,15.6l3.6-3.6   L7,8.4L8.4,7l3.6,3.6L15.6,7L17,8.4L13.4,12L17,15.6z\"></path></svg> </div> </div> </div> </div> </div> </div> <div class=progress ng-show=uploader.isHTML5> <div class=progress-bar role=progressbar ng-show=\"item.isUploading || item.isSchemaDefining\" ng-style=\"{ 'width': item.progress + '%' }\"></div> <div class=delimiter ng-show=\"!item.isUploading || !item.isSchemaDefining\"></div> </div> </div> </div> </div> "),$templateCache.put("/static/templates/main/user-settings.html","<div style=padding:20px>---</div>"),$templateCache.put("/static/templates/main/visualization.html","<div class=disable-page ng-if=\"isCommitRunning() && isIngestMode()\" tabindex=-1 uib-tooltip=\"The section cannot be modified while ingesting your data\" tooltip-placement=mouse-top tooltip-trigger=\"'click'\" tooltip-class=\"unmodifiable-section-tooltip main-page-tooltip\"> </div> <div class=navbar-wrapper ng-class=\"isVizMode() ? 'viz-navbar-wrapper' : 'ingest-navbar-wrapper'\"> <nav class=\"navbar navbar-inverse navbar-fixed-top\" role=navigation> <div class=\"navbar-header viz-navbar-header\"> <a class=navbar-brand ui-sref=main.landing.my_data></a> </div> <search-bar ng-if=isVizMode()> <dropdown-options> <search-settings-dropdown></search-settings-dropdown> </dropdown-options> </search-bar> <div class=flex-spacer></div> <div class=general-settings> <user-menu></user-menu> <div class=share ng-show=\"isVizMode() && !isViewOnly\"> <button class=\"btn btn-primary btn-sm share-button\" ng-click=openShareModal() uib-tooltip-html=shareWithDatadocMessage() tooltip-placement=bottom tooltip-popup-delay=250 tooltip-is-open=true tooltip-enable=true tooltip-class=share-tooltip> <span class=share-icon></span> Share </button> </div> <datadoc-presence class=presence-widgets presence-users=datadocViewers ng-if=isVizMode()> </datadoc-presence> </div> </nav> </div> <div id=wrapper class=\"ng-isolate-scope viz-page\"> <div class=viz-status-bar static-include=static/templates/include/viz-pages/viz-status-bar.html></div> <div class=viz-status-bar static-include=static/templates/include/viz-pages/ingest-status-bar.html></div> <div id=page-content-wrapper ng-class=\"isVizMode() ? 'viz-content-wrapper' : 'ingest-content-wrapper'\"> <div class=page-content> <div static-include=static/templates/include/viz-pages/viz.html></div> <div static-include=static/templates/include/viz-pages/ingest.html></div> <div id=tabs-bar> <div id=toggle-widgets ng-if=!isViewOnly uib-tooltip=\"Your must first save your data to apply Filters\" tooltip-enable=\"!isVizMode() && !ingestDataSummary.queryMode\" tooltip-placement=top tooltip-popup-delay=250 tooltip-append-to-body=true tooltip-class=main-page-tooltip> <button type=button ng-click=toggleRightFilters() ng-disabled=\"(isIngestMode() && !isShowTables()) || isMobileView()\" ng-class=\"{'active': isShowFilters, 'disabled': (isIngestMode() && !isShowTables()) || isMobileView()}\"> <i class=\"fa fa-filter\"></i> {{isIngestMode() && isShowTables() ? 'Tables' : 'Filters'}} </button> </div> <div id=tabs-bar-content> <div class=\"inline-block dropup pull-left add-tab-wrapper\" ng-if=!isViewOnly uib-dropdown> <div class=\"tab-button add-tab-button\" ng-click=tabsSection.addNewTab() uib-tooltip=\"Add Sheet\" tooltip-placement=top tooltip-popup-delay=250 tooltip-append-to-body=true tooltip-class=main-page-tooltip> <span>+</span> </div> <ul class=\"dropdown-menu tabs-dropdown\" style=left:0;right:auto uib-dropdown-menu role=menu> <li role=menuitem><a ng-click=tabsSection.addNewTab()>Create New</a></li> <li role=menuitem><a ng-click=tabsSection.duplicateTab(false)>Duplicate Sheet</a></li> </ul> </div> <div id=tabs-list-wrapper sv-root sv-part=tabsSection.options.tabs sv-only-x sv-not-leave sv-on-sort=\"tabsSection.moveTabForServer($item, $indexTo)\" sv-on-start=tabsSection.onMoveStart($item) sv-on-stop=tabsSection.onMoveStop($item)> <div class=\"left-shadow hidden\"> <div class=\"fade fade-40 pull-right\"></div> <div class=\"fade fade-62 pull-right\"></div> <div class=\"fade fade-82 pull-right\"></div> </div> <div id=tabs-list ng-class=\"{'sorting': tabsSection.options.move}\"> <div uib-tooltip=\"Tab not yet processed.\" tooltip-enable=isForbiddenTab(tab) tooltip-placement=top tooltip-append-to-body=true tooltip-popup-delay=250 tooltip-class=main-page-tooltip ng-repeat=\"tab in tabsSection.options.tabs\" class=single-tab-wrapper> <div class=\"single-tab dropup pull-left\" ng-class=\"{'active': tab.active, 'saving': isCommitRunning(tab.id)}\" ng-click=\"tabsSection.setActiveTab(tab, false, true)\" ng-disabled=isForbiddenTab(tab) uib-dropdown dropdown-append-to-body=true is-open=tab.dropdownOpened click-out=tabsSection.closeInputOnTab(tab) sv-without=\"['ul.tabs-dropdown']\" sv-element> <span ng-dblclick=\"tabsSection.renameTab(tab, $index, $event)\" ng-style=\"{'opacity': tab.editable ? 0 : 1,\n                                              'position': tab.editable ? 'absolute' : 'relative',\n                                              'visibility': tab.editable ? 'hidden' : 'visible'}\" ng-attr-id={{snakeCase(tab.name)}}_{{$index}} ng-bind-html=tab.name class=no-overflow></span> <span ng-show=\"isCommitRunning(tab.id) && !tab.editable\" style=color:#999;margin-left:7px>({{commitProgress.getShortText(tab.id)}})</span> <input ng-model=tab.name ng-show=tab.editable ng-mousedown=$event.stopPropagation() ng-keyup=\"tabsSection.inputKeyPress($event, tab, $index)\" limit-to=50 pu-elastic-input> <i class=\"fa fa-caret-down\" style=margin-left:5px ng-mousedown=\"onTabsDropdownToggled($event, tab)\" ng-click=$event.stopPropagation(); ng-disabled=!tab.active></i> <ul class=\"dropdown-menu tabs-dropdown\" uib-dropdown-menu role=menu> <li role=menuitem><a ng-click=\"tabsSection.deleteTab(tab, $index, $event)\">Delete</a> </li> <li role=menuitem><a ng-click=\"tabsSection.renameTab(tab, $index, $event)\">Rename</a> </li> </ul> </div> </div> </div> <div class=\"right-shadow hidden\"> <div class=\"fade fade-40 pull-left\"></div> <div class=\"fade fade-62 pull-left\"></div> <div class=\"fade fade-82 pull-left\"></div> </div> </div> <div id=tabs-arrows class=\"inline-block hidden\"> <button type=button class=tab-button ng-click=\"moveTabs('left')\"><i class=\"fa fa-arrow-left\"></i></button> <button type=button class=tab-button ng-click=\"moveTabs('right')\"><i class=\"fa fa-arrow-right\"></i></button> </div> <div class=clearfix></div> </div> </div> </div> </div> <ng-include src=\"'static/templates/include/chart-tooltip.html'\"></ng-include> </div>")}])}),define("modules/main/controllers/module",["angular"],function(ng){"use strict";return ng.module("app.main.controllers",[])}),define("common",["alertify","angular","utils","lodash","moment"],function(alertify,angular,utils,_,moment){var _arguments=arguments;function getErrorString(e){if(_.isArray(e)){var errorString="";return _.forEach(e,function(error){error.field||error.message?error.field?errorString+="<li>"+error.field+": "+error.defaultMessage+"</li>":error.message&&(errorString+="<li>"+error.message+"</li>"):errorString+="<li>"+error.code+"</li>"}),"<ul>"+errorString+"</ul>"}return e.message}function showError(error){return notify({message:error.message,icon:"warning"})}function notify(content){function getNotificationClass(){if(content.icon)switch(content.icon){case"notification":return"fa-warning notification";case"success":return"fa-check-circle notification";case"warning":default:return"fa-warning";}}var $container=$("<div class=\"content\">"),wait=10,$el;if(content.message){var iconClass=getNotificationClass();$el=$("<span><i class=\"fa fa-lg "+iconClass+"\"></i><span>"+content.message+"</span></span>"),void 0!=content.wait&&(wait=content.wait)}else $el=content;$container.append($el),$container.append("<a class=\"close\"><svg x=\"0px\" y=\"0px\" width=\"12px\" height=\"12px\" viewBox=\"0 0 10 10\" focusable=\"false\"><polygon class=\"a-s-fa-Ha-pa\" fill=\"#FFFFFF\" points=\"10,1.01 8.99,0 5,3.99 1.01,0 0,1.01 3.99,5 0,8.99 1.01,10 5,6.01 8.99,10 10,8.99 6.01,5 \"></polygon></svg></a>");var msg=alertify.notify($container[0],"notification",wait);return content.keepOthers||msg.dismissOthers(),msg.ondismiss=function(e){var closing=!e||0<$(e.target).closest(".close").length;return closing&&content.ondismiss&&content.ondismiss(e),closing},msg}function unscreen(s){return s.replace("\\.",".")}function isResetShow(filter){return filter.listMode?"BOOLEAN"===filter.col.type||"LOCATION_LAT_LON"===filter.col.type?_.some(filter.list,function(f){return f.selected||!f.show}):10<filter.count||_.some(filter.list,function(f){return f.selected||!f.show}):"DECIMAL"===filter.col.type?!filter.linlog||filter.changed||filter.value1!=filter.min||filter.value2!=filter.max:filter.value1!=filter.min||filter.max!=filter.value2}alertify.set("notifier","position","bottom-left");var viewModes={TABLE:7,LIST:8},viewModeOptions=[{desc:"Vertical Bar Chart",e:"Needs X-axis value to select this."},{desc:"Horizontal Bar Chart",e:"Needs X-axis value to select this."},{desc:"Pie Chart",e:"Needs X-axis value"},{desc:"Line Chart"},{desc:"Area Chart"},{desc:"Geo Graph",e:"Needs 1 country or coordinate to select this."},{desc:"Scatter Plot",e:"Needs numbers for X-axis value and Y-axis value to select this."},{desc:"Table View"},{desc:"List view"}],URL_REGEXP=/^(\s*(http|https|ftp|ftps|itmss)\:\/\/[a-zA-Z0-9\-\.]+\.[a-zA-Z]{2,6}(\/[^\s,;]*)?)$/g,smartTimer=function(){function getTime(key){return timer[key].end-timer[key].start}function start(key){timer[key]={start:Date.now()}}function stop(key){timer[key]||start(key),timer[key].end=Date.now()}function getTimer(){return timer}function removeTimer(key){delete timer[key]}function clearTimer(){timer={}}function showAll(){console.group("smartTimer"),_.map(timer,function(timeObj,key){return{name:key,order:timeObj.end,time:getTime(key)}}).sort(function(a,b){return a.order-b.order}).forEach(function(time){console.log(time.name+": "+time.time)}),console.groupEnd()}var timer;return clearTimer(),{start:start,stop:stop,getTimer:getTimer,showAll:showAll,remove:removeTimer,clear:clearTimer}}(),msgCounter={};String.prototype.hashCode=function(){var hash=0,i,chr,len;if(0===this.length)return hash;for(i=0,len=this.length;i<len;i++)chr=this.charCodeAt(i),hash=(hash<<5)-hash+chr,hash|=0;return hash};var hashCode=function(stuff){if(!stuff)return 0;if(stuff.hashCode)return stuff.hashCode();if(_.isObject(stuff))return JSON.stringify(stuff).hashCode();throw"Can't calculate hash"},ErrorWithId=function(_Error){function ErrorWithId(msg,type,id,options){_classCallCheck2(this,ErrorWithId);var _this9=_possibleConstructorReturn(this,(ErrorWithId.__proto__||Object.getPrototypeOf(ErrorWithId)).call(this,msg,options));return _this9.id=id,_this9.type=type,_this9.errorId=id+"_"+type,_this9}return _inherits2(ErrorWithId,_Error),ErrorWithId}(Error);return{coalesce:function coalesce(){return _.chain(_arguments).filter(_.identity).first().value()},toUpperCase:function toUpperCase(val){return null===val||void 0===val?val:"string"==typeof val?val.toUpperCase():void 0},ErrorWithId:ErrorWithId,show:function(type,msg,key,multiTemplate){if(msgCounter[key]||(msgCounter[key]={count:0,msg:void 0}),msgCounter[key].count+=1,msgCounter[key].msg&&multiTemplate){var s=_.template(multiTemplate)({count:msgCounter[key].count});msgCounter[key].msg.delay(3).setContent(s)}else msgCounter[key].msg=alertify[type](msg),msgCounter[key].msg.callback=function(){msgCounter[key].count=0,msgCounter[key].msg=void 0};return msgCounter[key].msg},randomGUID:utils.randomGUID,getFullTemplateName:function(t){return"static/templates/include/"+t+".html"},instanceGUID:utils.instanceGUID,URL_REGEXP:URL_REGEXP,showError:showError,showWarning:function(warning){return notify({message:warning.message,icon:"warning"})},showSuccess:function(success){return notify({message:success.message,icon:"success"})},showNotification:function(message,wait,callback){return alertify.notify(message,wait,callback)},closeAllNotifications:function(){alertify.dismissAll()},notify:notify,highlightURL:function(str){return str.toString().replace(URL_REGEXP,"<a href=\"$1\" target=\"_blank\">$1</a>")},onlyHighlightURL:function(str){return str.toString().replace(URL_REGEXP,"<span class=\"highlighted-link\">$1</span>")},isURL:function(str){return URL_REGEXP.test(str)},moveInArray:function(array,fromIndex,toIndex){return array.splice(toIndex,0,array.splice(fromIndex,1)[0]),array},renderContextMenu:function renderContextMenu($scope,event,options,model){if(!$)var $=angular.element;var contextMenuOptions=$scope.contextMenuOptions||{};$(event.currentTarget).addClass("context");var $contextMenu=$("<div>");$contextMenu.addClass("dropdown clearfix");var $ul=$("<ul>");$ul.addClass("dropdown-menu"),contextMenuOptions.dropdownMenuClass?$ul.addClass(contextMenuOptions.dropdownMenuClass):$ul.addClass("context-menu"),$ul.attr({role:"menu"}),$ul.css({display:"block",position:"absolute",left:event.pageX+"px",top:event.pageY+"px"}),angular.forEach(options,function(item){var $li=$("<li>");if(contextMenuOptions.dropdownItemClass&&$li.addClass(contextMenuOptions.dropdownItemClass),null===item)$li.addClass("divider");else{var $a=$("<a>");$a.attr({tabindex:"-1",href:"#"}),$a.css({display:"flex","align-items":"center"});var text="string"==typeof item[0]?item[0]:item[0].call($scope,$scope,event,model);$a.html(text),$li.append($a);var enabled=!angular.isDefined(item[2])||item[2].call($scope,$scope,event,text,model);enabled?$li.on("click",function($event){$event.preventDefault(),$scope.$apply(function(){$(event.currentTarget).removeClass("context"),$contextMenu.remove(),item[1].call($scope,$scope,event,model)}),contextMenuOptions.onClose&&contextMenuOptions.onClose($event)}):($li.on("click",function($event){$event.preventDefault()}),$li.addClass("disabled"))}$ul.append($li)}),$contextMenu.append($ul);var height=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);$contextMenu.css({width:"100%",height:height+"px",position:"absolute",top:0,left:0,zIndex:9999}),$(document).find("body").append($contextMenu),$("body").innerHeight()-$ul.position().top<=$ul.innerHeight()&&$ul.css({top:$ul.position().top-$ul.innerHeight()});var overflowX=$("body").innerWidth()-$ul[0].getBoundingClientRect().right;0>overflowX&&$ul.css({left:$ul.position().left+overflowX}),$contextMenu.on("mousedown",function(e){$(e.target).hasClass("dropdown")&&($(event.currentTarget).removeClass("context"),$contextMenu.remove(),contextMenuOptions.onClose&&contextMenuOptions.onClose(e))}).on("contextmenu",function(event){$(event.currentTarget).removeClass("context"),event.preventDefault(),$contextMenu.remove(),contextMenuOptions.onClose&&contextMenuOptions.onClose(e)})},getErrorString:getErrorString,showValidationErrors:function showValidationErrors(errors){showError({error:getErrorString(errors)})},withIgnoreOnBeforeUnload:function withIgnoreOnBeforeUnload($timeout,f){var tmp=window.onbeforeunload;window.onbeforeunload=null,f(),$timeout(function(){window.onbeforeunload=tmp})},typeNameMappings:{DECIMAL:"Number",BOOLEAN:"Boolean",STRING:"String",DATE:"Date"},splitPath:function splitPath(s){if(1>s.length)return[s];for(var res=[],current="",i=0;i<s.length;i++)0<i&&"."===s[i]&&"\\"!==s[i-1]?(res.push(current),current=""):current+=s[i];return res.push(current),_.map(res,unscreen)},unscreen:unscreen,hashCode:hashCode,isValidURL:function(str){var pat=/^(https?|itmss|ftp):\/\//i;return pat.test(str)},numberOps:[{name:"",val:""},{name:"Value",val:"terms"},{name:"Sum",val:"sum"},{name:"Count",val:"value_count"},{name:"Unique Count",val:"cardinality"},{name:"Avg",val:"avg"},{name:"Min",val:"min"},{name:"Max",val:"max"}],nonNumberOps:[{name:"",val:""},{name:"Value",val:"terms"},{name:"Count",val:"value_count"},{name:"Unique count",val:"cardinality"}],dateOps:[{name:"HOUR",val:"hour"},{name:"DAY",val:"day"},{name:"MONTH",val:"month"},{name:"QUARTER",val:"quarter"},{name:"YEAR",val:"year"}],resetOneFilter:function(filter,$scope){console.warn("Using deprecated function. Try using FilterService instead.");var type=filter.col.type;"STRING"===type?(filter.search="",filter.and_or=!1,filter.count=10,filter.isload=!1,_.forEach(filter.list,function(agg){agg.selected=!1,agg.show=!0})):"DECIMAL"===type?filter.linlog||(filter.linlog=!0,$scope.switchLinLog(filter)):"TIME"===type?(filter.value1=filter.min,filter.value2=filter.max,filter.changed=!1):"DATE"===type?(filter.value1=filter.min,filter.value2=filter.max):"LOCATION_LAT_LON"===type?delete filter.box:"BOOLEAN"===type?(filter.and_or=!1,filter.isload=!1,_.forEach(filter.list,function(agg){agg.selected=!1,agg.show=!0})):void 0},setChartDatepicker:function($scope){var v=$scope.vizSummary.xAxisShows;if(v&&v[0]&&v[0].type&&"daterange"===v[0].type){var column=v[0],filterColumn=_.find($scope.dataSummary.filters,{name:column.field});filterColumn?$scope.chartDatepicker=!0:(filterColumn=_.find($scope.filterList,{name:column.field}),$scope.addFilter(filterColumn))}else filterColumn=_.find($scope.dataSummary.filters,{type:"daterange"}),$scope.chartDatepicker=!!(filterColumn&&isResetShow(filterColumn))},showRegressionCalculator:function(e,_regData,$uibModal){e.preventDefault(),e.stopPropagation();var modalInstance=$uibModal.open({templateUrl:"static/templates/include/regression-calculator.html",controller:"regressionCalculatorCtrl",backdrop:"static",size:"md",resolve:{regData:function regData(){return _regData}}});modalInstance.result.then(function(){},function(){})},onRegressionTypeSelected:function(type,$scope){$scope.vizSummary.regressionType===type||($scope.vizSummary.regressionType=type,$scope.updateChart())},queryParams:function(){for(var query_string={},query=window.location.search.substring(1),vars=query.split("&"),i=0,pair;i<vars.length;i++)if(pair=vars[i].split("="),"undefined"==typeof query_string[pair[0]])query_string[pair[0]]=decodeURIComponent(pair[1]);else if("string"==typeof query_string[pair[0]]){var arr=[query_string[pair[0]],decodeURIComponent(pair[1])];query_string[pair[0]]=arr}else query_string[pair[0]].push(decodeURIComponent(pair[1]));return query_string},getCtrlNames:function(){return{VIZ:"visualizationCtrl",EPOPUP:"embedPopupCtrl",EMBED:"embedCtrl"}},isResetShow:isResetShow,getBodyWidth:function(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1},getBodyHeight:function(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1},getViewModes:function getViewModes(){return viewModes},getViewModeOptions:function getViewModeOptions(){return viewModeOptions},smartTimer:smartTimer,isOverflow:function(el){var cloneEl=$(el).clone().css({display:"inline",width:"auto",visibility:"hidden"}).appendTo("body");return cloneEl.width()>$(el).width()},estimateRemainingTime:function(before,after,interval){void 0==interval&&(interval=1e3);var diff=after-before,secOnPercent=1/diff*interval;if(!diff)return"";var duration=moment.duration((100-after)*secOnPercent,"milliseconds");return duration.hours()+":"+duration.minutes()+":"+duration.seconds()},getColumnType:function(column){if(column.isList)return"[...]";switch(column.colType.toLowerCase()){case"string":return"ABC";case"boolean":return"Y-N";case"decimal":return"123";case"date":return"Jan";case"time":return"11:00";case"location_lat_lon":case"location_usa_state_codes":case"location_country_codes":return"Loc";case"array":return"Arr";case"object":return"Obj";}return"undef"},iterator:function(array){var nextIndex=0;return{next:function next(){return nextIndex<array.length?{value:array[nextIndex++],done:!1}:{done:!0}}}},isDefined:function isDefined(v){return null!==v&&v!==void 0}}}),define("modules/main/controllers/mainCtrl",["./module","angular","common","lodash"],function(controllers,angular,common,_){"use strict";controllers.controller("mainCtrl",["$scope","$rootScope","$state","UserStateService","SectionNamesService",function($scope,$rootScope,$state,UserStateService,SectionNamesService){$scope.userState=UserStateService.get();var currentSection;if("main"==$state.current.name)currentSection=$scope.userState.activeSection;else if(_.startsWith($state.current.name,"main.landing."))currentSection=SectionNamesService.getSectionFromSectionName($state.current.name);else return;var sectionToGo=SectionNamesService.getSectionNameFromSection(currentSection);sectionToGo!==$state.current.name&&(console.log("Redirecting to: "+SectionNamesService.getSectionKey(currentSection)),$state.go(sectionToGo))}])}),define("notifications-utils",["./module","lodash","alertify"],function(module,_,alertify){var NotificationType={SUCCESS:0,WARNING:1,ERROR:2},NotificationsHolder=function(){function NotificationsHolder(){_classCallCheck2(this,NotificationsHolder),this.notifications={}}return _createClass2(NotificationsHolder,[{key:"_onDismiss",value:function _onDismiss(id,notification,element,options){var _this10=this;notification.ondismiss=function(e){delete _this10.notifications[id];var closing=!e||0<$(e.target).closest(".close").length;return closing&&(element.ondismiss&&element.ondismiss(e),options.customDismissHandler&&options.customDismissHandler()),closing}}},{key:"addNotification",value:function addNotification(id,notification,element){var options=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return!!id&&(this.notifications[id]={notification:notification,element:element,options:options},this._onDismiss(id,notification,element,options),!0)}},{key:"notificationAppear",value:function notificationAppear(id){return!!this.notifications[id]}},{key:"getNotification",value:function getNotification(id){return this.notifications[id]}},{key:"updateNotificationElement",value:function updateNotificationElement(id,element){this.notifications[id].element=element}},{key:"closeAll",value:function closeAll(){var withGlobal=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];_.values(this.notifications).forEach(function(_ref9){var notification=_ref9.notification,options=_ref9.options;options.global&&withGlobal?notification.dismiss():!options.global&&notification.dismiss()})}}]),NotificationsHolder}(),notificationsHolder=new NotificationsHolder,_getNotificationClass=function(type){if(null!==type&&type!==void 0)switch(type){case NotificationType.ERROR:return"fa-warning";case NotificationType.SUCCESS:return"fa-check-circle notification";case NotificationType.WARNING:default:return"fa-warning notification";}},_buildNotificationContainer=function(id,notificationElement,withCloseButton,width){var element=$("<div id=\""+id+"\" class=\"content\" "+(width?"style=\"min-width: "+width+"\"":"")+">");return element.append(notificationElement),withCloseButton&&element.append("<a class=\"close\"><svg x=\"0px\" y=\"0px\" width=\"12px\" height=\"12px\" viewBox=\"0 0 10 10\" focusable=\"false\"><polygon class=\"a-s-fa-Ha-pa\" fill=\"#FFFFFF\" points=\"10,1.01 8.99,0 5,3.99 1.01,0 0,1.01 3.99,5 0,8.99 1.01,10 5,6.01 8.99,10 10,8.99 6.01,5 \"></polygon></svg></a>"),element},_getNotificationElement=function(notification,type){var message=notification.message;if(message){var iconClass=_getNotificationClass(type);return $("<span id=\"notification\">\n                     <i class=\"fa fa-lg "+iconClass+"\"></i>\n                      <span>"+message+"</span>\n                  </span>")}return notification},notify=function(notificationContent){var options=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},_options$hideOthers=options.hideOthers,_options$delay=options.delay,delay=_options$delay===void 0?10:_options$delay,_options$type=options.type,type=_options$type===void 0?NotificationType.SUCCESS:_options$type,customDismissHandler=options.customDismissHandler,width=options.width,id=notificationContent.id,notificationElement=_getNotificationElement(notificationContent,type),notificationContainer=_buildNotificationContainer(id,notificationElement,!0,width);if(notificationsHolder.notificationAppear(id)){var _notificationsHolder$=notificationsHolder.getNotification(id),element=_notificationsHolder$.element,notification=_notificationsHolder$.notification;element.replaceWith(notificationContainer),notification.delay(delay),notificationsHolder.updateNotificationElement(id,notificationContainer)}else{var _notification=alertify.notify(_.first(notificationContainer),"notification",delay);return _options$hideOthers!==void 0&&_options$hideOthers&&_notification.dismissOthers(),id&&notificationsHolder.addNotification(id,_notification,notificationContainer,options),_notification}};return{closeAll:notificationsHolder.closeAll,closeNotification:function closeNotification(id){var ntf=notificationsHolder.getNotification(id);return!!ntf&&(ntf.notification.dismiss(),!0)},NotificationContent:function NotificationContent(id,message){_classCallCheck2(this,NotificationContent),this.id=id,this.message=message},NotificationType:NotificationType,notify:notify,notifyError:function notifyError(notificationContent){var options=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};notify(notificationContent,_.merge(options,{type:NotificationType.ERROR}))},notifyWarning:function notifyWarning(notificationContent){var options=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};notify(notificationContent,_.merge(options,{type:NotificationType.WARNING}))},notifySuccess:function notifySuccess(notificationContent){var options=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};notify(notificationContent,_.merge(options,{type:NotificationType.SUCCESS}))}}}),function(root,factory){"use strict";"function"==typeof define&&define.amd?define("rzslider",["angular"],factory):"object"===("undefined"==typeof module?"undefined":_typeof2(module))&&module.exports?module.exports=factory(require("angular")):factory(root.angular)}(this,function(angular){"use strict";var _Mathabs5=Math.abs,_Mathmin3=Math.min,_Mathmax3=Math.max,_Mathround4=Math.round,module=angular.module("rzModule",[]).factory("RzSliderOptions",function(){var defaultOptions={floor:0,ceil:null,step:1,precision:0,minRange:0,id:null,translate:null,stepsArray:null,draggableRange:!1,draggableRangeOnly:!1,showSelectionBar:!1,showSelectionBarEnd:!1,showSelectionBarFromValue:null,hideLimitLabels:!1,readOnly:!1,disabled:!1,interval:350,showTicks:!1,showTicksValues:!1,ticksTooltip:null,ticksValuesTooltip:null,vertical:!1,selectionBarColor:null,keyboardSupport:!0,scale:1,enforceStep:!1,enforceRange:!1,noSwitching:!1,onlyBindHandles:!1,onStart:null,onChange:null,onEnd:null},globalOptions={},factory={};return factory.options=function(value){angular.extend(globalOptions,value)},factory.getOptions=function(options){return angular.extend({},defaultOptions,globalOptions,options)},factory}).factory("rzThrottle",["$timeout",function($timeout){return function(func,wait,options){var getTime=Date.now||function(){return new Date().getTime()},timeout=null,previous=0,context,args,result;options=options||{};var later=function(){previous=getTime(),timeout=null,result=func.apply(context,args),context=args=null};return function(){var now=getTime(),remaining=wait-(now-previous);return context=this,args=arguments,0>=remaining?($timeout.cancel(timeout),timeout=null,previous=now,result=func.apply(context,args),context=args=null):!timeout&&!1!==options.trailing&&(timeout=$timeout(later,remaining)),result}}}]).factory("RzSlider",["$timeout","$document","$window","$compile","RzSliderOptions","rzThrottle",function($timeout,$document,$window,$compile,RzSliderOptions,rzThrottle){var Slider=function(scope,sliderElem){this.scope=scope,this.sliderElem=sliderElem,this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.dragging={active:!1,value:0,difference:0,offset:0,lowLimit:0,highLimit:0},this.positionProperty="left",this.dimensionProperty="width",this.handleHalfDim=0,this.maxPos=0,this.precision=0,this.step=1,this.tracking="",this.minValue=0,this.maxValue=0,this.valueRange=0,this.initHasRun=!1,this.internalChange=!1,this.fullBar=null,this.selBar=null,this.minH=null,this.maxH=null,this.flrLab=null,this.ceilLab=null,this.minLab=null,this.maxLab=null,this.cmbLab=null,this.ticks=null,this.init()};return Slider.prototype={init:function init(){var self=this,calcDimFn=function(){self.calcViewDimensions()},thrLow,thrHigh;this.applyOptions(),this.initElemHandles(),this.manageElementsStyle(),this.setDisabledState(),this.calcViewDimensions(),this.setMinAndMax(),this.addAccessibility(),this.updateCeilLab(),this.updateFloorLab(),this.initHandles(),this.manageEventsBindings(),this.scope.$on("reCalcViewDimensions",calcDimFn),angular.element($window).on("resize",calcDimFn),this.initHasRun=!0,thrLow=rzThrottle(function(){self.onLowHandleChange()},self.options.interval),thrHigh=rzThrottle(function(){self.onHighHandleChange()},self.options.interval),this.scope.$on("rzSliderForceRender",function(){self.resetLabelsValue(),thrLow(),self.range&&thrHigh(),self.resetSlider()}),this.scope.$watch("rzSliderOptions",function(newValue,oldValue){newValue===oldValue||(self.applyOptions(),self.resetSlider())},!0),this.scope.$watch("rzSliderModel",function(newValue,oldValue){self.internalChange||newValue===oldValue||thrLow()}),this.scope.$watch("rzSliderHigh",function(newValue,oldValue){self.internalChange||newValue===oldValue||(null!=newValue&&thrHigh(),(self.range&&null==newValue||!self.range&&null!=newValue)&&(self.applyOptions(),self.resetSlider()))}),this.scope.$on("$destroy",function(){self.unbindEvents(),angular.element($window).off("resize",calcDimFn)})},onLowHandleChange:function onLowHandleChange(){this.setMinAndMax(),this.updateLowHandle(this.valueToOffset(this.scope.rzSliderModel)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCmbLabel()},onHighHandleChange:function onHighHandleChange(){this.setMinAndMax(),this.updateHighHandle(this.valueToOffset(this.scope.rzSliderHigh)),this.updateSelectionBar(),this.updateTicksScale(),this.updateCmbLabel(),this.updateAriaAttributes()},applyOptions:function applyOptions(){this.options=RzSliderOptions.getOptions(this.scope.rzSliderOptions),0>=this.options.step&&(this.options.step=1),this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.options.draggableRange=this.range&&this.options.draggableRange,this.options.draggableRangeOnly=this.range&&this.options.draggableRangeOnly,this.options.draggableRangeOnly&&(this.options.draggableRange=!0),this.options.showTicks=this.options.showTicks||this.options.showTicksValues,this.scope.showTicks=this.options.showTicks,this.options.showSelectionBar=this.options.showSelectionBar||this.options.showSelectionBarEnd||null!==this.options.showSelectionBarFromValue,this.options.stepsArray?(this.options.floor=0,this.options.ceil=this.options.stepsArray.length-1,this.options.step=1,this.customTrFn=function(value){return this.options.stepsArray[value]}):this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(value){return value+""},this.options.vertical&&(this.positionProperty="bottom",this.dimensionProperty="height")},resetSlider:function resetSlider(){this.manageElementsStyle(),this.addAccessibility(),this.setMinAndMax(),this.updateCeilLab(),this.updateFloorLab(),this.unbindEvents(),this.manageEventsBindings(),this.setDisabledState(),this.calcViewDimensions()},initElemHandles:function initElemHandles(){angular.forEach(this.sliderElem.children(),function(elem,index){var jElem=angular.element(elem);0===index?this.fullBar=jElem:1===index?this.selBar=jElem:2===index?this.minH=jElem:3===index?this.maxH=jElem:4===index?this.flrLab=jElem:5===index?this.ceilLab=jElem:6===index?this.minLab=jElem:7===index?this.maxLab=jElem:8===index?this.cmbLab=jElem:9===index?this.ticks=jElem:void 0},this),this.selBar.rzsp=0,this.minH.rzsp=0,this.maxH.rzsp=0,this.flrLab.rzsp=0,this.ceilLab.rzsp=0,this.minLab.rzsp=0,this.maxLab.rzsp=0,this.cmbLab.rzsp=0},manageElementsStyle:function manageElementsStyle(){this.range?this.maxH.css("display",""):this.maxH.css("display","none"),this.alwaysHide(this.flrLab,this.options.showTicksValues||this.options.hideLimitLabels),this.alwaysHide(this.ceilLab,this.options.showTicksValues||this.options.hideLimitLabels),this.alwaysHide(this.minLab,this.options.showTicksValues),this.alwaysHide(this.maxLab,this.options.showTicksValues||!this.range),this.alwaysHide(this.cmbLab,this.options.showTicksValues||!this.range),this.alwaysHide(this.selBar,!this.range&&!this.options.showSelectionBar),this.options.vertical&&this.sliderElem.addClass("vertical"),this.options.draggableRange?this.selBar.addClass("rz-draggable"):this.selBar.removeClass("rz-draggable")},alwaysHide:function alwaysHide(el,hide){el.rzAlwaysHide=hide,hide?this.hideEl(el):this.showEl(el)},manageEventsBindings:function manageEventsBindings(){this.options.disabled||this.options.readOnly?this.unbindEvents():this.bindEvents()},setDisabledState:function setDisabledState(){this.options.disabled?this.sliderElem.attr("disabled","disabled"):this.sliderElem.attr("disabled",null)},resetLabelsValue:function resetLabelsValue(){this.minLab.rzsv=void 0,this.maxLab.rzsv=void 0},initHandles:function initHandles(){this.updateLowHandle(this.valueToOffset(this.scope.rzSliderModel)),this.range&&this.updateHighHandle(this.valueToOffset(this.scope.rzSliderHigh)),this.updateSelectionBar(),this.range&&this.updateCmbLabel(),this.updateTicksScale()},translateFn:function translateFn(value,label,which,useCustomTr){useCustomTr=void 0===useCustomTr||useCustomTr;var valStr=(useCustomTr?this.customTrFn(value,this.options.id,which):value)+"",getDimension=!1;(void 0===label.rzsv||label.rzsv.length!==valStr.length||0<label.rzsv.length&&0===label.rzsd)&&(getDimension=!0,label.rzsv=valStr),label.html(valStr),getDimension&&this.getDimension(label)},setMinAndMax:function setMinAndMax(){this.step=+this.options.step,this.precision=+this.options.precision,this.minValue=this.options.floor,this.options.enforceStep&&(this.scope.rzSliderModel=this.roundStep(this.scope.rzSliderModel),this.range&&(this.scope.rzSliderHigh=this.roundStep(this.scope.rzSliderHigh))),this.maxValue=null==this.options.ceil?this.options.ceil=this.range?this.scope.rzSliderHigh:this.scope.rzSliderModel:this.options.ceil,this.options.enforceRange&&(this.scope.rzSliderModel=this.sanitizeValue(this.scope.rzSliderModel),this.range&&(this.scope.rzSliderHigh=this.sanitizeValue(this.scope.rzSliderHigh))),this.valueRange=this.maxValue-this.minValue},addAccessibility:function addAccessibility(){this.minH.attr("role","slider"),this.updateAriaAttributes(),this.options.keyboardSupport&&!(this.options.readOnly||this.options.disabled)?this.minH.attr("tabindex","0"):this.minH.attr("tabindex",""),this.options.vertical&&this.minH.attr("aria-orientation","vertical"),this.range&&(this.maxH.attr("role","slider"),this.options.keyboardSupport&&!(this.options.readOnly||this.options.disabled)?this.maxH.attr("tabindex","0"):this.maxH.attr("tabindex",""),this.options.vertical&&this.maxH.attr("aria-orientation","vertical"))},updateAriaAttributes:function updateAriaAttributes(){this.minH.attr({"aria-valuenow":this.scope.rzSliderModel,"aria-valuetext":this.customTrFn(this.scope.rzSliderModel,this.options.id,"model"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue}),this.range&&this.maxH.attr({"aria-valuenow":this.scope.rzSliderHigh,"aria-valuetext":this.customTrFn(this.scope.rzSliderHigh,this.options.id,"high"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue})},calcViewDimensions:function calcViewDimensions(){var handleWidth=this.getDimension(this.minH);this.handleHalfDim=handleWidth/2,this.barDimension=this.getDimension(this.fullBar),this.maxPos=this.barDimension-handleWidth,this.getDimension(this.sliderElem),this.sliderElem.rzsp=this.sliderElem[0].getBoundingClientRect()[this.positionProperty],this.initHasRun&&(this.updateFloorLab(),this.updateCeilLab(),this.initHandles())},updateTicksScale:function updateTicksScale(){if(this.options.showTicks){var ticksCount=_Mathround4((this.maxValue-this.minValue)/this.step)+1;this.scope.ticks=[];for(var i=0;i<ticksCount;i++){var value=this.roundStep(this.minValue+i*this.step),tick={selected:this.isTickSelected(value)};tick.selected&&this.options.getSelectionBarColor&&(tick.style={"background-color":this.getSelectionBarColor()}),this.options.ticksTooltip&&(tick.tooltip=this.options.ticksTooltip(value),tick.tooltipPlacement=this.options.vertical?"right":"top"),this.options.showTicksValues&&(tick.value=this.getDisplayValue(value,"tick-value"),this.options.ticksValuesTooltip&&(tick.valueTooltip=this.options.ticksValuesTooltip(value),tick.valueTooltipPlacement=this.options.vertical?"right":"top")),this.scope.ticks.push(tick)}}},isTickSelected:function isTickSelected(value){if(!this.range)if(null!==this.options.showSelectionBarFromValue){var center=this.options.showSelectionBarFromValue;if(this.scope.rzSliderModel>center&&value>=center&&value<=this.scope.rzSliderModel)return!0;if(this.scope.rzSliderModel<center&&value<=center&&value>=this.scope.rzSliderModel)return!0}else if(this.options.showSelectionBarEnd){if(value>=this.scope.rzSliderModel)return!0;}else if(this.options.showSelectionBar&&value<=this.scope.rzSliderModel)return!0;return!!(this.range&&value>=this.scope.rzSliderModel&&value<=this.scope.rzSliderHigh)},updateCeilLab:function updateCeilLab(){this.translateFn(this.maxValue,this.ceilLab,"ceil"),this.setPosition(this.ceilLab,this.barDimension-this.ceilLab.rzsd),this.getDimension(this.ceilLab)},updateFloorLab:function updateFloorLab(){this.translateFn(this.minValue,this.flrLab,"floor"),this.getDimension(this.flrLab)},callOnStart:function callOnStart(){if(this.options.onStart){var self=this;this.scope.$evalAsync(function(){self.options.onStart(self.options.id,self.scope.rzSliderModel,self.scope.rzSliderHigh)})}},callOnChange:function callOnChange(){if(this.options.onChange){var self=this;this.scope.$evalAsync(function(){self.options.onChange(self.options.id,self.scope.rzSliderModel,self.scope.rzSliderHigh)})}},callOnEnd:function callOnEnd(){if(this.options.onEnd){var self=this;this.scope.$evalAsync(function(){self.options.onEnd(self.options.id,self.scope.rzSliderModel,self.scope.rzSliderHigh)})}},updateHandles:function updateHandles(which,newOffset){"rzSliderModel"===which?this.updateLowHandle(newOffset):this.updateHighHandle(newOffset),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCmbLabel()},updateLowHandle:function updateLowHandle(newOffset){this.setPosition(this.minH,newOffset),this.translateFn(this.scope.rzSliderModel,this.minLab,"model");var pos=_Mathmin3(_Mathmax3(newOffset-this.minLab.rzsd/2+this.handleHalfDim,0),this.barDimension-this.ceilLab.rzsd);this.setPosition(this.minLab,pos),this.shFloorCeil()},updateHighHandle:function updateHighHandle(newOffset){this.setPosition(this.maxH,newOffset),this.translateFn(this.scope.rzSliderHigh,this.maxLab,"high");var pos=_Mathmin3(newOffset-this.maxLab.rzsd/2+this.handleHalfDim,this.barDimension-this.ceilLab.rzsd);this.setPosition(this.maxLab,pos),this.shFloorCeil()},shFloorCeil:function shFloorCeil(){var flHidden=!1,clHidden=!1;this.minLab.rzsp<=this.flrLab.rzsp+this.flrLab.rzsd+5?(flHidden=!0,this.hideEl(this.flrLab)):(flHidden=!1,this.showEl(this.flrLab)),this.minLab.rzsp+this.minLab.rzsd>=this.ceilLab.rzsp-this.handleHalfDim-10?(clHidden=!0,this.hideEl(this.ceilLab)):(clHidden=!1,this.showEl(this.ceilLab)),this.range&&(this.maxLab.rzsp+this.maxLab.rzsd>=this.ceilLab.rzsp-10?this.hideEl(this.ceilLab):!clHidden&&this.showEl(this.ceilLab),this.maxLab.rzsp<=this.flrLab.rzsp+this.flrLab.rzsd+this.handleHalfDim?this.hideEl(this.flrLab):!flHidden&&this.showEl(this.flrLab))},updateSelectionBar:function updateSelectionBar(){var position=0,dimension=0;if(this.range)dimension=_Mathabs5(this.maxH.rzsp-this.minH.rzsp),position=this.minH.rzsp+this.handleHalfDim;else if(null!==this.options.showSelectionBarFromValue){var center=this.options.showSelectionBarFromValue,centerPosition=this.valueToOffset(center);this.scope.rzSliderModel>center?(dimension=this.minH.rzsp-centerPosition,position=centerPosition+this.handleHalfDim):(dimension=centerPosition-this.minH.rzsp,position=this.minH.rzsp+this.handleHalfDim)}else this.options.showSelectionBarEnd?(dimension=_Mathabs5(this.maxPos-this.minH.rzsp)+this.handleHalfDim,position=this.minH.rzsp+this.handleHalfDim):(dimension=_Mathabs5(this.maxH.rzsp-this.minH.rzsp)+this.handleHalfDim,position=0);if(this.setDimension(this.selBar,dimension),this.setPosition(this.selBar,position),this.options.getSelectionBarColor){var color=this.getSelectionBarColor();this.scope.barStyle={backgroundColor:color}}},getSelectionBarColor:function getSelectionBarColor(){return this.range?this.options.getSelectionBarColor(this.scope.rzSliderModel,this.scope.rzSliderHigh):this.options.getSelectionBarColor(this.scope.rzSliderModel)},updateCmbLabel:function updateCmbLabel(){if(this.minLab.rzsp+this.minLab.rzsd+10>=this.maxLab.rzsp){var lowTr=this.getDisplayValue(this.scope.rzSliderModel,"model"),highTr=this.getDisplayValue(this.scope.rzSliderHigh,"high"),labelVal=lowTr===highTr?lowTr:lowTr+" - "+highTr;this.translateFn(labelVal,this.cmbLab,"cmb",!1);var pos=_Mathmin3(_Mathmax3(this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2,0),this.barDimension-this.cmbLab.rzsd);this.setPosition(this.cmbLab,pos),this.hideEl(this.minLab),this.hideEl(this.maxLab),this.showEl(this.cmbLab)}else this.showEl(this.maxLab),this.showEl(this.minLab),this.hideEl(this.cmbLab)},getDisplayValue:function getDisplayValue(value,which){return this.customTrFn(value,this.options.id,which)},roundStep:function roundStep(value){var steppedDifference=parseFloat((value-this.minValue)/this.step).toPrecision(12);steppedDifference=_Mathround4(+steppedDifference)*this.step;var newValue=(this.minValue+ +steppedDifference).toFixed(this.precision);return+(+newValue).toFixed(10)},hideEl:function hideEl(element){return element.css({opacity:0})},showEl:function showEl(element){return element.rzAlwaysHide?element:element.css({opacity:1})},setPosition:function setPosition(elem,pos){elem.rzsp=pos;var css={};return css[this.positionProperty]=pos+"px",elem.css(css),pos},getDimension:function getDimension(elem){var val=elem[0].getBoundingClientRect();return elem.rzsd=this.options.vertical?(val.bottom-val.top)*this.options.scale:(val.right-val.left)*this.options.scale,elem.rzsd},setDimension:function setDimension(elem,dim){elem.rzsd=dim;var css={};return css[this.dimensionProperty]=dim+"px",elem.css(css),dim},valueToOffset:function valueToOffset(val){return(this.sanitizeValue(val)-this.minValue)*this.maxPos/this.valueRange||0},sanitizeValue:function sanitizeValue(val){return _Mathmin3(_Mathmax3(val,this.minValue),this.maxValue)},offsetToValue:function offsetToValue(offset){return offset/this.maxPos*this.valueRange+this.minValue},getEventXY:function getEventXY(event){var clientXY=this.options.vertical?"clientY":"clientX";return clientXY in event?event[clientXY]:void 0===event.originalEvent?event.touches[0][clientXY]:event.originalEvent.touches[0][clientXY]},getEventPosition:function getEventPosition(event){var sliderPos=this.sliderElem.rzsp,eventPos=0;return eventPos=this.options.vertical?-this.getEventXY(event)+sliderPos:this.getEventXY(event)-sliderPos,(eventPos-this.handleHalfDim)*this.options.scale},getEventNames:function getEventNames(event){var eventNames={moveEvent:"",endEvent:""};return event.touches||void 0!==event.originalEvent&&event.originalEvent.touches?(eventNames.moveEvent="touchmove",eventNames.endEvent="touchend"):(eventNames.moveEvent="mousemove",eventNames.endEvent="mouseup"),eventNames},getNearestHandle:function getNearestHandle(event){if(!this.range)return this.minH;var offset=this.getEventPosition(event),distanceMin=_Mathabs5(offset-this.minH.rzsp),distanceMax=_Mathabs5(offset-this.maxH.rzsp);return distanceMin<distanceMax?this.minH:distanceMin>distanceMax?this.maxH:offset<this.minH.rzsp?this.minH:this.maxH},focusElement:function focusElement(el){el[0].focus()},bindEvents:function bindEvents(){var barTracking,barStart,barMove;this.options.draggableRange?(barTracking="rzSliderDrag",barStart=this.onDragStart,barMove=this.onDragMove):(barTracking="rzSliderModel",barStart=this.onStart,barMove=this.onMove),this.options.onlyBindHandles||(this.selBar.on("mousedown",angular.bind(this,barStart,null,barTracking)),this.selBar.on("mousedown",angular.bind(this,barMove,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("mousedown",angular.bind(this,barStart,null,barTracking)),this.maxH.on("mousedown",angular.bind(this,barStart,null,barTracking))):(this.minH.on("mousedown",angular.bind(this,this.onStart,this.minH,"rzSliderModel")),this.range&&this.maxH.on("mousedown",angular.bind(this,this.onStart,this.maxH,"rzSliderHigh")),!this.options.onlyBindHandles&&(this.fullBar.on("mousedown",angular.bind(this,this.onStart,null,null)),this.fullBar.on("mousedown",angular.bind(this,this.onMove,this.fullBar)),this.ticks.on("mousedown",angular.bind(this,this.onStart,null,null)),this.ticks.on("mousedown",angular.bind(this,this.onMove,this.ticks)))),this.options.onlyBindHandles||(this.selBar.on("touchstart",angular.bind(this,barStart,null,barTracking)),this.selBar.on("touchstart",angular.bind(this,barMove,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("touchstart",angular.bind(this,barStart,null,barTracking)),this.maxH.on("touchstart",angular.bind(this,barStart,null,barTracking))):(this.minH.on("touchstart",angular.bind(this,this.onStart,this.minH,"rzSliderModel")),this.range&&this.maxH.on("touchstart",angular.bind(this,this.onStart,this.maxH,"rzSliderHigh")),!this.options.onlyBindHandles&&(this.fullBar.on("touchstart",angular.bind(this,this.onStart,null,null)),this.fullBar.on("touchstart",angular.bind(this,this.onMove,this.fullBar)),this.ticks.on("touchstart",angular.bind(this,this.onStart,null,null)),this.ticks.on("touchstart",angular.bind(this,this.onMove,this.ticks)))),this.options.keyboardSupport&&(this.minH.on("focus",angular.bind(this,this.onPointerFocus,this.minH,"rzSliderModel")),this.range&&this.maxH.on("focus",angular.bind(this,this.onPointerFocus,this.maxH,"rzSliderHigh")))},unbindEvents:function unbindEvents(){this.minH.off(),this.maxH.off(),this.fullBar.off(),this.selBar.off(),this.ticks.off()},onStart:function onStart(pointer,ref,event){var eventNames=this.getEventNames(event),ehMove,ehEnd;event.stopPropagation(),event.preventDefault(),this.calcViewDimensions(),pointer?this.tracking=ref:(pointer=this.getNearestHandle(event),this.tracking=pointer===this.minH?"rzSliderModel":"rzSliderHigh"),pointer.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(pointer),ehMove=angular.bind(this,this.dragging.active?this.onDragMove:this.onMove,pointer),ehEnd=angular.bind(this,this.onEnd,ehMove),$document.on(eventNames.moveEvent,ehMove),$document.one(eventNames.endEvent,ehEnd),this.callOnStart()},onMove:function onMove(pointer,event){var newOffset=this.getEventPosition(event),newValue;0>=newOffset?newValue=this.minValue:newOffset>=this.maxPos?newValue=this.maxValue:(newValue=this.offsetToValue(newOffset),newValue=this.roundStep(newValue)),this.positionTrackingHandle(newValue)},onEnd:function onEnd(ehMove,event){var moveEventName=this.getEventNames(event).moveEvent;this.options.keyboardSupport||(this.minH.removeClass("rz-active"),this.maxH.removeClass("rz-active"),this.tracking=""),this.dragging.active=!1,$document.off(moveEventName,ehMove),this.scope.$emit("slideEnded"),this.callOnEnd()},onPointerFocus:function onPointerFocus(pointer,ref){this.tracking=ref,pointer.one("blur",angular.bind(this,this.onPointerBlur,pointer)),pointer.on("keydown",angular.bind(this,this.onKeyboardEvent)),pointer.addClass("rz-active")},onPointerBlur:function onPointerBlur(pointer){pointer.off("keydown"),this.tracking="",pointer.removeClass("rz-active")},onKeyboardEvent:function onKeyboardEvent(event){var currentValue=this.scope[this.tracking],keyCode=event.keyCode||event.which,actions={UP:currentValue+this.step,DOWN:currentValue-this.step,LEFT:currentValue-this.step,RIGHT:currentValue+this.step,PAGEUP:currentValue+this.valueRange/10,PAGEDOWN:currentValue-this.valueRange/10,HOME:this.minValue,END:this.maxValue},key={38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[keyCode],action=actions[key];if(null!=action&&""!==this.tracking){event.preventDefault();var newValue=this.roundStep(this.sanitizeValue(action));if(!this.options.draggableRangeOnly)this.positionTrackingHandle(newValue);else{var difference=this.scope.rzSliderHigh-this.scope.rzSliderModel,newMinValue,newMaxValue;"rzSliderModel"===this.tracking?(newMinValue=newValue,newMaxValue=newValue+difference,newMaxValue>this.maxValue&&(newMaxValue=this.maxValue,newMinValue=newMaxValue-difference)):(newMaxValue=newValue,newMinValue=newValue-difference,newMinValue<this.minValue&&(newMinValue=this.minValue,newMaxValue=newMinValue+difference)),this.positionTrackingBar(newMinValue,newMaxValue)}}},onDragStart:function onDragStart(pointer,ref,event){var offset=this.getEventPosition(event);this.dragging={active:!0,value:this.offsetToValue(offset),difference:this.scope.rzSliderHigh-this.scope.rzSliderModel,lowLimit:offset-this.minH.rzsp,highLimit:this.maxH.rzsp-offset},this.onStart(pointer,ref,event)},onDragMove:function onDragMove(pointer,event){var newOffset=this.getEventPosition(event),newMinValue,newMaxValue;if(newOffset<=this.dragging.lowLimit){if(0===this.minH.rzsp)return;newMinValue=this.minValue,newMaxValue=this.minValue+this.dragging.difference}else if(newOffset>=this.maxPos-this.dragging.highLimit){if(this.maxH.rzsp===this.maxPos)return;newMaxValue=this.maxValue,newMinValue=this.maxValue-this.dragging.difference}else newMinValue=this.offsetToValue(newOffset-this.dragging.lowLimit),newMinValue=this.roundStep(newMinValue),newMaxValue=newMinValue+this.dragging.difference;this.positionTrackingBar(newMinValue,newMaxValue)},positionTrackingBar:function positionTrackingBar(newMinValue,newMaxValue){this.scope.rzSliderModel=newMinValue,this.scope.rzSliderHigh=newMaxValue,this.updateHandles("rzSliderModel",this.valueToOffset(newMinValue)),this.updateHandles("rzSliderHigh",this.valueToOffset(newMaxValue)),this.applyModel()},positionTrackingHandle:function positionTrackingHandle(newValue){var valueChanged=!1;this.range&&(newValue=this.applyMinRange(newValue),"rzSliderModel"===this.tracking&&newValue>this.scope.rzSliderHigh?(this.options.noSwitching&&this.scope.rzSliderHigh!==this.minValue?newValue=this.applyMinRange(this.scope.rzSliderHigh):(this.scope[this.tracking]=this.scope.rzSliderHigh,this.updateHandles(this.tracking,this.maxH.rzsp),this.updateAriaAttributes(),this.tracking="rzSliderHigh",this.minH.removeClass("rz-active"),this.maxH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.maxH)),valueChanged=!0):"rzSliderHigh"===this.tracking&&newValue<this.scope.rzSliderModel&&(this.options.noSwitching&&this.scope.rzSliderModel!==this.maxValue?newValue=this.applyMinRange(this.scope.rzSliderModel):(this.scope[this.tracking]=this.scope.rzSliderModel,this.updateHandles(this.tracking,this.minH.rzsp),this.updateAriaAttributes(),this.tracking="rzSliderModel",this.maxH.removeClass("rz-active"),this.minH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.minH)),valueChanged=!0)),this.scope[this.tracking]!==newValue&&(this.scope[this.tracking]=newValue,this.updateHandles(this.tracking,this.valueToOffset(newValue)),this.updateAriaAttributes(),valueChanged=!0),valueChanged&&this.applyModel()},applyMinRange:function applyMinRange(newValue){if(0!==this.options.minRange){var oppositeValue="rzSliderModel"===this.tracking?this.scope.rzSliderHigh:this.scope.rzSliderModel,difference=_Mathabs5(newValue-oppositeValue);if(difference<this.options.minRange)return"rzSliderModel"===this.tracking?this.scope.rzSliderHigh-this.options.minRange:this.scope.rzSliderModel+this.options.minRange}return newValue},applyModel:function applyModel(){this.internalChange=!0,this.scope.$apply(),this.callOnChange(),this.internalChange=!1}},Slider}]).directive("rzslider",["RzSlider",function(RzSlider){return{restrict:"E",scope:{rzSliderModel:"=?",rzSliderHigh:"=?",rzSliderOptions:"=?",rzSliderTplUrl:"@"},templateUrl:function templateUrl(elem,attrs){return attrs.rzSliderTplUrl||"rzSliderTpl.html"},link:function link(scope,elem){scope.slider=new RzSlider(scope,elem)}}}]);return module.run(["$templateCache",function($templateCache){$templateCache.put("rzSliderTpl.html","<span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class=\"rz-bar rz-selection\" ng-style=barStyle></span></span> <span class=rz-pointer></span> <span class=rz-pointer></span> <span class=\"rz-bubble rz-limit\"></span> <span class=\"rz-bubble rz-limit\"></span> <span class=rz-bubble></span> <span class=rz-bubble></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat=\"t in ticks track by $index\" class=tick ng-class=\"{selected: t.selected}\" ng-style=t.style ng-attr-uib-tooltip=\"{{ t.tooltip }}\" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body=\"{{ t.tooltip ? true : undefined}}\"><span ng-if=\"t.value != null\" class=tick-value ng-attr-uib-tooltip=\"{{ t.valueTooltip }}\" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span></li></ul>")}]),module});(function(window,angular){"use strict";function jqAdd(elem){var res=angular.element(),i;for(elem=angular.element(elem),i=0;i<this.length;i++)res.push(this[i]);for(i=0;i<elem.length;i++)res.push(elem[i]);return res}function touchFix(e){if(e.clientX===void 0&&e.clientY===void 0){var touches=e.touches||e.originalEvent.touches;touches&&touches.length&&(e.clientX=touches[0].clientX,e.clientY=touches[0].clientY),e.preventDefault()}}function getPreviousSibling(element){if(element=element[0],element.previousElementSibling)return angular.element(element.previousElementSibling);for(var sib=element.previousSibling;null!=sib&&1!=sib.nodeType;)sib=sib.previousSibling;return angular.element(sib)}function getCssInt($element,style){return parseInt($element.css(style))||0}function getBoundingClientRect(element,withMargins){var result={},$element=angular.element(element),bcr=element.getBoundingClientRect(),getCssIntFn=withMargins?getCssInt:function(){return 0};return result.left=bcr.left-getCssIntFn($element,"margin-left")-getCssIntFn($element,"border-left"),result.right=bcr.right+getCssIntFn($element,"margin-right")+getCssIntFn($element,"border-right"),result.top=bcr.top-getCssIntFn($element,"margin-top")-getCssIntFn($element,"border-top"),result.bottom=bcr.bottom+getCssIntFn($element,"margin-bottom")+getCssIntFn($element,"border-bottom"),result.width=result.right-result.left,result.height=result.bottom-result.top,result}function insertElementBefore(element,newElement){var prevSibl=getPreviousSibling(element);0<prevSibl.length?prevSibl.after(newElement):element.parent().prepend(newElement)}function getPositionedParent(element){for(var parent=element.parent(),pos=parent.css("position"),transform=parent.css("transform");0<parent.length&&!parent.is(document.documentElement)&&("static"===pos||!pos)&&("none"===transform||!transform);)parent=parent.parent(),pos=parent.css("position"),transform=parent.css("transform");return 0===parent.length&&(parent=angular.element(document.documentElement)),parent}function elementMatchesSelector(element,selector){if(element instanceof angular.element&&(element=element[0]),null!==matchingFunction)return element[matchingFunction](selector)}var _Mathabs6=Math.abs,_Mathpow3=Math.pow,_Mathmin4=Math.min,_Mathmax4=Math.max,SCROLL_TIMEOUT=200,SCROLL_DISTANCE=5;angular.element(document.head).append(["<style>"+".sv-helper{"+"position: absolute !important;"+"z-index: 99999;"+"margin: 0 !important;"+"}"+".sv-candidate{"+"}"+".sv-placeholder{"+"}"+".sv-sorting-in-progress{"+"-webkit-user-select: none;"+"-moz-user-select: none;"+"-ms-user-select: none;"+"user-select: none;"+"}"+".sv-visibility-hidden{"+"visibility: hidden !important;"+"opacity: 0 !important;"+"}"+"</style>"].join(""));var dde=document.documentElement,matchingFunction=dde.matches?"matches":dde.matchesSelector?"matchesSelector":dde.webkitMatches?"webkitMatches":dde.webkitMatchesSelector?"webkitMatchesSelector":dde.msMatches?"msMatches":dde.msMatchesSelector?"msMatchesSelector":dde.mozMatches?"mozMatches":dde.mozMatchesSelector?"mozMatchesSelector":null;if(null==matchingFunction)throw"This browser doesn't support the HTMLElement.matches method";var closestElement=angular.element.prototype.closest||function(selector){for(var el=this[0].parentNode;el!==document.documentElement&&!el[matchingFunction](selector);)el=el.parentNode;return el[matchingFunction](selector)?angular.element(el):angular.element()},module=angular.module("angular-sortable-view",[]);module.directive("svRoot",[function(){function shouldBeAfter(elem,pointer,isGrid){return isGrid?0>elem.x-pointer.x:0>elem.y-pointer.y}function getSortableElements(key){return ROOTS_MAP[key]}function removeSortableElements(key){delete ROOTS_MAP[key]}var ROOTS_MAP=Object.create(null),body=document.body,sortingInProgress;return{restrict:"A",controller:["$scope","$attrs","$interpolate","$parse","$element",function($scope,$attrs,$interpolate,$parse,$rootElement){var mapKey=$interpolate($attrs.svRoot)($scope)||$scope.$id,isGrid=!1,onSort=$parse($attrs.svOnSort),isScrolling=!1,candidates,$placeholder,options,$helper,$original,$target,scrollingTimeoutId,previousDownScroll,previousUpScroll,previousGoUp;ROOTS_MAP[mapKey]||(ROOTS_MAP[mapKey]=[]),$attrs.svOnStart=$attrs.$$element[0].attributes["sv-on-start"],$attrs.svOnStart=$attrs.svOnStart&&$attrs.svOnStart.value,$attrs.svOnStop=$attrs.$$element[0].attributes["sv-on-stop"],$attrs.svOnStop=$attrs.svOnStop&&$attrs.svOnStop.value;var onStart=$parse($attrs.svOnStart),onStop=$parse($attrs.svOnStop),scroll=function(step,delay){var rootElement=$rootElement[0].parentElement.parentElement,scrollTop=rootElement.scrollTop,upperBound=_Mathmax4(0,rootElement.scrollHeight-rootElement.clientHeight),newScrollTop=_Mathmin4(_Mathmax4(0,rootElement.scrollTop+step),upperBound);isScrolling=!0,newScrollTop===scrollTop?isScrolling=!1:(rootElement.scrollTop=newScrollTop,scrollingTimeoutId=setTimeout(function(){scrollingTimeoutId=null,isScrolling&&scroll(step,delay)},delay))};if(this.sortingInProgress=function(){return sortingInProgress},this.stopScrolling=function(){previousDownScroll=null,previousUpScroll=null,previousGoUp=null,scrollingTimeoutId&&(clearTimeout(scrollingTimeoutId),scrollingTimeoutId=null),isScrolling=!1},!$attrs.svGrid)$scope.$watchCollection(function(){return getSortableElements(mapKey)},function(collection){isGrid=!1;var array=collection.filter(function(item){return!item.container}).map(function(item){return{part:item.getPart().id,y:item.element[0].getBoundingClientRect().top}}),dict=Object.create(null);array.forEach(function(item){dict[item.part]?dict[item.part].push(item.y):dict[item.part]=[item.y]}),Object.keys(dict).forEach(function(key){dict[key].sort(),dict[key].forEach(function(item,index){index<dict[key].length-1&&0<item&&item===dict[key][index+1]&&(isGrid=!0)})})});else if(isGrid="true"===$attrs.svGrid||"false"!==$attrs.svGrid&&null,null===isGrid)throw"Invalid value of sv-grid attribute";this.$moveUpdate=function(opts,mouse,svElement,svOriginal,svPlaceholder,originatingPart,originatingIndex){var containmentEl=opts.containment&&closestElement.call(svElement,opts.containment)[0],svRect=getBoundingClientRect(svElement[0],!0),rootRect=getBoundingClientRect($rootElement[0].parentElement.parentElement,!0),containmentRect=containmentEl&&getBoundingClientRect(containmentEl,!0),scrollBoundTop=_Mathmax4(rootRect.top,containmentRect?containmentRect.top:0),scrollBoundBottom=_Mathmin4(rootRect.bottom,containmentRect?containmentRect.bottom:Infinity),pRect,pCenter;"element"===opts.tolerance&&(mouse={x:~~(svRect.left+svRect.width/2),y:~~(svRect.top+svRect.height/2)}),$placeholder||(svPlaceholder?($placeholder=svPlaceholder.clone(),$placeholder.removeClass("ng-hide")):($placeholder=svOriginal.clone(),$placeholder.addClass("sv-visibility-hidden"),$placeholder.addClass("sv-placeholder"),$placeholder.css({height:svRect.height+"px",width:svRect.width+"px"})),svOriginal.after($placeholder),svOriginal.addClass("ng-hide"),$original=svOriginal,options=opts,$helper=svElement,onStart($scope,{$helper:{element:$helper},$part:originatingPart.model(originatingPart.scope),$index:originatingIndex,$item:originatingPart.model(originatingPart.scope)[originatingIndex]}),$scope.$root&&$scope.$root.$$phase||$scope.$apply()),pRect=$placeholder[0].getBoundingClientRect(),pCenter={x:~~(pRect.left+pRect.width/2),y:~~(pRect.top+pRect.height/2)},sortingInProgress=!0,candidates=[],$helper[0].reposition({x:mouse.x-mouse.offset.x*svRect.width,y:mouse.y-mouse.offset.y*svRect.height},containmentRect),getSortableElements(mapKey).forEach(function(se){if(null==opts.containment||elementMatchesSelector(se.element,opts.containment)||elementMatchesSelector(se.element,opts.containment+" *")){var rect=se.element[0].getBoundingClientRect(),center={x:~~(rect.left+rect.width/2),y:~~(rect.top+rect.height/2)};!se.container&&(se.element[0].scrollHeight||se.element[0].scrollWidth)&&candidates.push({element:se.element,q:(center.x-mouse.x)*(center.x-mouse.x)+(center.y-mouse.y)*(center.y-mouse.y),view:se.getPart(),targetIndex:se.getIndex(),after:shouldBeAfter(center,mouse,isGrid)}),se.container&&!se.element[0].querySelector("[sv-element]:not(.sv-placeholder):not(.sv-source)")&&candidates.push({element:se.element,q:(center.x-mouse.x)*(center.x-mouse.x)+(center.y-mouse.y)*(center.y-mouse.y),view:se.getPart(),targetIndex:0,container:!0})}}),candidates.push({q:(pCenter.x-mouse.x)*(pCenter.x-mouse.x)+(pCenter.y-mouse.y)*(pCenter.y-mouse.y),element:$placeholder,placeholder:!0}),candidates.sort(function(a,b){return a.q-b.q}),candidates.forEach(function(cand,index){0!==index||cand.placeholder||cand.container?0===index&&cand.container?($target=cand,cand.element.append($placeholder)):cand.element.removeClass("sv-candidate"):($target=cand,cand.element.addClass("sv-candidate"),cand.after?cand.element.after($placeholder):insertElementBefore(cand.element,$placeholder))}),svRect=getBoundingClientRect(svElement[0],!0);var isGoingUp=previousUpScroll>svRect.top&&previousDownScroll>svRect.bottom,isCloseToStart=300>_Mathabs6(_Mathabs6(svRect.top)-_Mathabs6(scrollBoundTop)),isCloseToEnd=50>_Mathabs6(_Mathabs6(svRect.bottom)-_Mathabs6(scrollBoundBottom));isGoingUp!==previousGoUp&&this.stopScrolling(),isGoingUp&&isCloseToStart?scroll(-SCROLL_DISTANCE,SCROLL_TIMEOUT):isCloseToEnd?scroll(SCROLL_DISTANCE,SCROLL_TIMEOUT):this.stopScrolling(),previousGoUp=isGoingUp,previousUpScroll=svRect.top,previousDownScroll=svRect.bottom},this.$drop=function(originatingPart,index,options){function afterRevert(){if(sortingInProgress=!1,$placeholder.remove(),$helper.remove(),$original.removeClass("ng-hide"),candidates=void 0,$placeholder=void 0,options=void 0,$helper=void 0,$original=void 0,onStop($scope,{$part:originatingPart.model(originatingPart.scope),$index:index,$item:originatingPart.model(originatingPart.scope)[index]}),$target){$target.element.removeClass("sv-candidate");var spliced=originatingPart.model(originatingPart.scope).splice(index,1),targetIndex=$target.targetIndex;$target.view===originatingPart&&$target.targetIndex>index&&targetIndex--,$target.after&&targetIndex++,$target.view.model($target.view.scope).splice(targetIndex,0,spliced[0]),($target.view!==originatingPart||index!==targetIndex)&&onSort($scope,{$partTo:$target.view.model($target.view.scope),$partFrom:originatingPart.model(originatingPart.scope),$item:spliced[0],$indexTo:targetIndex,$indexFrom:index})}$target=void 0,$scope.$root&&$scope.$root.$$phase||$scope.$apply()}if($placeholder)if(options.revert){var placeholderRect=$placeholder[0].getBoundingClientRect(),helperRect=$helper[0].getBoundingClientRect(),distance=Math.sqrt(_Mathpow3(helperRect.top-placeholderRect.top,2)+_Mathpow3(helperRect.left-placeholderRect.left,2)),duration=+options.revert*distance/200;duration=_Mathmin4(duration,+options.revert),["-webkit-","-moz-","-ms-","-o-",""].forEach(function(prefix){"undefined"!=typeof $helper[0].style[prefix+"transition"]&&($helper[0].style[prefix+"transition"]="all "+duration+"ms ease")}),setTimeout(afterRevert,duration),$helper.css({top:placeholderRect.top+body.scrollTop+"px",left:placeholderRect.left+body.scrollLeft+"px"})}else afterRevert()},this.addToSortableElements=function(se){getSortableElements(mapKey).push(se)},this.removeFromSortableElements=function(se){var elems=getSortableElements(mapKey),index=elems.indexOf(se);-1<index&&(elems.splice(index,1),0===elems.length&&removeSortableElements(mapKey))}}]}}]),module.directive("svPart",["$parse",function($parse){return{restrict:"A",require:"^svRoot",controller:["$scope",function($scope){$scope.$ctrl=this,this.getPart=function(){return $scope.part},this.$drop=function(index,options){$scope.$sortableRoot.$drop($scope.part,index,options)}}],scope:!0,link:function link($scope,$element,$attrs,$sortable){if(!$attrs.svPart)throw new Error("no model provided");var model=$parse($attrs.svPart);if(!model.assign)throw new Error("model not assignable");$scope.part={id:$scope.$id,element:$element,model:model,scope:$scope},$scope.$sortableRoot=$sortable;var sortablePart={element:$element,getPart:$scope.$ctrl.getPart,container:!0};$sortable.addToSortableElements(sortablePart),$scope.$on("$destroy",function(){$sortable.removeFromSortableElements(sortablePart)})}}}]),module.directive("svElement",["$parse",function($parse){return{restrict:"A",require:["^svPart","^svRoot"],controller:["$scope",function($scope){$scope.$ctrl=this}],link:function link($scope,$element,$attrs,$controllers){function cleanupStartEvents(){handle.off("touchstart",onTouchStart),handle.off("mousedown",onMouseDown)}function onTouchStart(e){function cancel(){clearTimeout(switchTimer),html.off(cancelEvents,cancel)}var cancelEvents=moveEvents+" "+endEvents,switchTimer;html.on("touchmove "+touchEndEvents,cancel),switchTimer=setTimeout(function(){cancel(),onMouseDown(e,!0)},100)}function onMouseDown(e,runMouseMoveHandler){function onMouseup(){$controllers[1].stopScrolling(),html.off(moveEvents,onMousemove),html.off(endEvents,onMouseup),html.removeClass("sv-sorting-in-progress"),moveExecuted&&$controllers[0].$drop($scope.$index,opts),$element.removeClass("sv-visibility-hidden")}function onMousemove(e){touchFix(e),moveExecuted||($element.parent().prepend(clone),moveExecuted=!0),$controllers[1].$moveUpdate(opts,{x:e.clientX,y:e.clientY,offset:pointerOffset},clone,$element,placeholder,$controllers[0].getPart(),$scope.$index)}if((touchFix(e),!$controllers[1].sortingInProgress())&&(0==e.button||"mousedown"!==e.type)){var target=$element,clientRect=$element[0].getBoundingClientRect(),opts=$parse($attrs.svElement)($scope),pointerOffset={x:(e.clientX-clientRect.left)/clientRect.width,y:(e.clientY-clientRect.top)/clientRect.height},clone;moveExecuted=!1,opts=angular.extend({},{tolerance:"pointer",revert:200,containment:"html"},opts),helper||(helper=$controllers[0].helper),placeholder||(placeholder=$controllers[0].placeholder),helper?(clone=helper.clone(),clone.removeClass("ng-hide"),clone.css({left:clientRect.left+body.scrollLeft+"px",top:clientRect.top+body.scrollTop+"px"}),target.addClass("sv-visibility-hidden")):(clone=target.clone(),clone.addClass("sv-helper").css({left:clientRect.left+body.scrollLeft+"px",top:clientRect.top+body.scrollTop+"px",width:clientRect.width+"px"})),clone[0].reposition=function(coords,containmentRect){var helperRect=clone[0].getBoundingClientRect(),posParent=getPositionedParent(clone),posParentBcr=posParent[0].getBoundingClientRect(),posParentTop=posParentBcr.top-posParent[0].scrollTop,posParentLeft=posParentBcr.left-posParent[0].scrollLeft,targetLeft=coords.x-posParentLeft,targetTop=coords.y-posParentTop,contRectTop,contRectLeft,contRectBottom,contRectRight;containmentRect&&(contRectTop=containmentRect.top-posParentTop,contRectLeft=containmentRect.left-posParentLeft,contRectBottom=contRectTop+containmentRect.height,contRectRight=contRectLeft+containmentRect.width,targetTop=_Mathmin4(contRectBottom-helperRect.height,_Mathmax4(targetTop,contRectTop)),targetLeft=_Mathmin4(contRectRight-helperRect.width,_Mathmax4(targetLeft,contRectLeft))),this.style.left=targetLeft+"px",this.style.top=targetTop+"px"},html.addClass("sv-sorting-in-progress"),html.on(moveEvents,onMousemove).on(endEvents,onMouseup),runMouseMoveHandler&&onMousemove(e)}}var body=document.body,touchEndEvents="touchend touchcancel",endEvents="mouseup "+touchEndEvents,moveEvents="mousemove touchmove",handle=$element,sortableElement={element:$element,getPart:$controllers[0].getPart,getIndex:function getIndex(){return $scope.$index}},isDestroyed=!1,html=angular.element(document.documentElement),moveExecuted,helper,placeholder;$controllers[1].addToSortableElements(sortableElement),$scope.$on("$destroy",function(){isDestroyed=!0,cleanupStartEvents(),$controllers[1].removeFromSortableElements(sortableElement)}),handle.on("touchstart",onTouchStart),handle.on("mousedown",onMouseDown),$scope.$watch("$ctrl.handle",function(customHandle){customHandle&&(cleanupStartEvents(),handle=customHandle,handle.on("touchstart",onTouchStart),handle.on("mousedown",onMouseDown))}),$scope.$watch("$ctrl.helper",function(customHelper){customHelper&&(helper=customHelper)}),$scope.$watch("$ctrl.placeholder",function(customPlaceholder){customPlaceholder&&(placeholder=customPlaceholder)})}}}]),module.directive("svHandle",function(){return{require:"?^svElement",link:function link($scope,$element,$attrs,$ctrl){$ctrl&&($ctrl.handle=jqAdd.call($element,$ctrl.handle))}}}),module.directive("svHelper",function(){return{require:["?^svPart","?^svElement"],link:function link($scope,$element,$attrs,$ctrl){$element.addClass("sv-helper").addClass("ng-hide"),$ctrl[1]?$ctrl[1].helper=$element:$ctrl[0]&&($ctrl[0].helper=$element)}}}),module.directive("svPlaceholder",function(){return{require:["?^svPart","?^svElement"],link:function link($scope,$element,$attrs,$ctrl){$element.addClass("sv-placeholder").addClass("ng-hide"),$ctrl[1]?$ctrl[1].placeholder=$element:$ctrl[0]&&($ctrl[0].placeholder=$element)}}})})(window,window.angular),define("angular-sortable-view",["angular"],function(){}),define("modules/main/controllers/visualizationCtrl",["./module","angular","lodash","common","moment","notifications-utils","rzslider","angular-sortable-view","angular-ui-bootstrap-tpls","angular-ui-select","angular-sanitize"],function(controllers,angular,_,cc,moment,NotificationsUtils){"use strict";controllers.controller("visualizationCtrl",["$rootScope","$scope","$http","$localStorage","$timeout","$stateParams","$q","$state","SearchBarService","CodesService","$uibModal","$filter","$compile","ExportService","DataLoadingService","GridService","$window","EmbedService","SortSectionService","HistoryHandlerService","EventNames","TabsSection","IngestDataLoadingService","SourceService","WSocket","FlowService","BookmarkCommitService","BookmarkEventService","FormatToolbarService","ColumnsService","cronService","TimeZoneService","$location","RecentSourcesService","User","ShareService","RouterService","FilterService","BrowserHistoryService",function($rootScope,$scope,$http,$localStorage,$timeout,$stateParams,$q,$state,SearchBarService,CodesService,$uibModal,$filter,$compile,ExportService,DataLoadingService,GridService,$window,EmbedService,SortSectionService,HistoryHandlerService,EventNames,TabsSection,IngestDataLoadingService,SourceService,WSocket,FlowService,BookmarkCommitService,BookmarkEventService,FormatToolbarService,ColumnsService,cronService,TimeZoneService,$location,RecentSourcesService,User,ShareService,RouterService,FilterService,BrowserHistoryService){var _this12=this;function setDefaultTimezone(){var bookmarkTimezone=_.get($scope,"tabsSection.options.activeTab.state.timezone"),userTimezone=User.getCurrent().timezone,timezone=void 0;return timezone=$scope.isConvertToUserTimezone()?userTimezone?userTimezone:moment.tz.guess():bookmarkTimezone,moment.tz.setDefault(timezone),timezone}function isEventOwner(event){var hidden;"undefined"==typeof document.hidden?"undefined"==typeof document.msHidden?"undefined"!=typeof document.webkitHidden&&(hidden="webkitHidden"):hidden="msHidden":hidden="hidden";var isUsersMatch=event.user===User.getCurrent().id||event.sessionId===User.getCurrent().sessionId,isDocumentVisibleAndFocused=!document[hidden]&&document.hasFocus();return isUsersMatch&&isDocumentVisibleAndFocused}function getRunningScheduleStatus(cronExpression){var base=cronService.fromCron(cronExpression).base;return["Each minute","Hourly","Daily","Weekly","Monthly","Annually"][base-1]}function restoreRunningSchedule(){var tab=$scope.tabsSection.options.activeTab,refreshSettings=tab.tableSchema.refreshSettings,runningSchedule=$scope.ingestDataSummary.runningSchedule;runningSchedule.lastCommitDuration=$scope.getLastCommitDuration(),runningSchedule.status="NONE"===refreshSettings.type?"Never":getRunningScheduleStatus(refreshSettings.cronExpression),runningSchedule.cronExpression=refreshSettings.cronExpression;var timeZones=TimeZoneService.getTimeZones();runningSchedule.timeZone=_.find(timeZones,function(_ref10){var text=_ref10.text;return"UTC"===text}),$scope.getSettingString()}function toggleCommit(toggle){$scope.previewGridOptions.suppressMenuMainPanel=toggle,$scope.previewGridOptions.suppressMovableColumns=toggle}function doCommit(){return changeStateOnceHandler&&changeStateOnceHandler.unregister(),toggleCommit(!0),closeAllStickyNotes(),$scope.updateIngestSettings(!0,!1).then(function(){return BookmarkCommitService.commit($scope.tabId,!0).catch(function(e){cc.showError(e),toggleCommit(!1)})})}function wrapSource(container,source){return source.fullName=container&&"composite-ds"===container.type?container.name+"."+source.name:source.name,source}function isNewQuerySource(source){return source&&"new_query"===source.type}function createNewQuerySource(container,name){return{id:container.id,icon:"query",type:"new_query",name:name?name:container.name,fullName:container.name+(name?"."+name:""),descriptor:{format:container.descriptor.format+"_QUERY"}}}function resetSavedViewsSelection(){var savedViews=_.get($scope,"ingestDataSummary.savedViews");savedViews&&_.each($scope.ingestDataSummary.savedViews,function(v){v.selected=!1})}function tryShowDelimiterStickyNote(source){$scope.cantDetectDelimiterNote.opened=!_.includes(source.closedNotes,"CANT_DETECT_DELIMITER")&&"CSV"===source.descriptor.format&&!source.descriptor.settings.delimiter}function hasRelatedDatadocs(source){return 0<_.size(source.relatedDatadocs)}function closeAllStickyNotes(){$scope.closeFieldsStickyNote(),$scope.closeDelimiterStickyNote()}function onIngestStart(t,e){$scope.ingestDataSummary.selectedSources[0]&&_.includes(e.sourceIds,$scope.ingestDataSummary.selectedSources[0].id)&&($scope.ingestDataSummary.selectedSources[0].ingesting=!0,$scope.ingestDataSummary.selectedSources[0].ingestProgress=0)}function onIngestComplete(t,e){if($scope.isRefreshingNow=!1,e.user!==User.getCurrent().id)return void $scope.tabsSection.loadTabFromServer({id:e.bookmarkId},null,User.getCurrent().id).then(function(processedTab){if(processedTab){var activeTabId=_.get($scope,"tabsSection.options.activeTab.id");_.remove($scope.tabsSection.options.tabs,function(t){return t.id===e.bookmarkId}),$scope.tabsSection.options.tabs.push(processedTab),$scope.tabsSection.options.tabs=_.sortBy($scope.tabsSection.options.tabs,function(t){return t.position}),activeTabId===e.bookmarkId&&$timeout(function(){return $scope.tabsSection.setActiveTab(processedTab,!1,!0)})}}).catch(function(e){console.error("Fetching processed tab failed",e)});var selectedSource=$scope.ingestDataSummary.selectedSources[0];if(selectedSource&&($scope.closeIngestionCancelModal(),_.includes(e.sourceIds,selectedSource.id)||_.includes(e.sourceIds,selectedSource.parentId)))if(e.error||e.stopped){if("interrupted"===e.errorCode||e.stopped)return void console.log("APPLY FLOW COMPLETE INTERRUPTED OR STOP");var err=IngestDataLoadingService.getErrorMessage({code:e.errorCode,message:e.errorMessage});"stop_on_error"===e.errorCode?$scope.cantIngestFileDueToErrorsNote.opened=!0:"interrupted"!==e.errorCode&&cc.notify(err),"interrupted"!==e.errorCode&&$scope.$evalAsync(function(){return $scope.ingestCommitOptions.isFailed=!0})}else selectedSource.ingesting=!1,selectedSource.ingestProgress=1,$scope.goToVisualization({id:e.datadocId})}function onIngestProgress(t,e){$scope.ingestDataSummary.selectedSources[0]&&_.includes(e.sourceIds,$scope.ingestDataSummary.selectedSources[0].id)&&($scope.ingestDataSummary.selectedSources[0].ingesting=!0,$scope.ingestDataSummary.selectedSources[0].ingestProgress=100<=t.progress?.99:t.progress/100)}function saveIngestColumnChanges(columns,callback){$scope.isVizMode()?$scope.showReIngestModal({actionText:"Convert "+columns[0].name+" to list?",reload:function reload(){$scope.reIngestModalOptions.starting=!0,$scope.updateIngestSettingsAndCommit(function(){return callback(columns),!0}).then(function(){$scope.reIngestModalOptions.starting=!1,$scope.cancelReIngestModal()})}}):(callback(columns),$scope.updateIngestSettings())}function getCurrentFolder(){var currentFolderId=_.get(SourceService.getSelectedFolder(),"id",null);if(!currentFolderId)if($scope.isVizMode()&&!$scope.selectedTable.preSaved)currentFolderId=_.get($scope,"selectedTable.parentId");else if($scope.isIngestMode()){var parentsPath=_.get($scope,"ingestDataSummary.selectedSources[0].parentsPath[0]");parentsPath&&"folder"===parentsPath.type&&(currentFolderId=parentsPath.id)}else console.warn("Cannot specify current folder");return currentFolderId}function createIngestColumnsContextMenuObj(col,title){var child=$scope.$new(),iconTemplate;child.column=col,iconTemplate="<i class=\"context-menu-icon fa fa-fw\" ng-class=\"{'fa-check': $parent.isIngestColChecked(column)}\" ></i>";var iconHtml=$compile(iconTemplate)(child);return{getPreHtml:function getPreHtml(){return iconHtml},title:title}}function createShowMeContextMenuObj(col,title,isCheckedFn){return{getPreHtml:function getPreHtml(){return"<i class=\"context-menu-icon fa fa-fw "+(isCheckedFn(col)?"fa-check":"")+"\"></i>"},title:title}}function createShowMeContextMenuObjForShows(col,title,order){var child=$scope.$new(),iconTemplate;child.column=col,iconTemplate="<i class=\"context-menu-icon fa fa-fw\" ng-class=\"{'fa-check': $parent.isCheckedShowMe(column)}\" ></i>";var iconHtml=$compile(iconTemplate)(child);return{getPreHtml:function getPreHtml(){return iconHtml},title:title,name:col.name,order:order}}function createShowMeContextMenuObjWithAngular(col){var child=$scope.$new();child.column=col;var titleHtml=$compile("<span>"+"<span ng-bind-html=\"column.showName\"></span> "+"<span style=\"font-weight: bold; padding-right: 10px;\" ng-bind=\"$parent.showGrouppedByAggs(column.field)\"></span>"+"</span>")(child),iconHtml=$compile("<i class=\"context-menu-icon fa fa-fw\" ng-class=\"{'fa-check': $parent.isCheckedShowMe(column)}\" ></i>")(child);return{getPreHtml:function getPreHtml(){return iconHtml},getTitleHtml:function getTitleHtml(){return titleHtml}}}function getOnShowMeContextMenuClickFn(col,isCheckedFn){return function(scope,event,arg,element){var contextMenuIcon=element.find(".context-menu-icon"),isTheSameShow=_.find($scope.dataSummary.shows,{key:col.key}),showIndex=$scope.dataSummary.shows.indexOf(isTheSameShow);isTheSameShow?($scope.showMeOnSelect(col,!0,null,scope.uiSelectCursorPosition),0<scope.uiSelectCursorPosition&&showIndex<scope.uiSelectCursorPosition&&scope.uiSelectCursorPosition--):$scope.showMeOnSelect(col,!0,null,scope.uiSelectCursorPosition),isCheckedFn(col)?!contextMenuIcon.hasClass("fa-check")&&contextMenuIcon.addClass("fa-check"):contextMenuIcon.removeClass("fa-check")}}function getOnIngestColumnsContextMenuClickFn(col,isCheckedFn){return function(scope,event,arg,element){var contextMenuIcon=element.find(".context-menu-icon"),isTheSameShow=_.find($scope.ingestDataSummary.selectedColumns,{id:col.id}),colIndex=$scope.ingestDataSummary.selectedColumns.indexOf(isTheSameShow);isTheSameShow?($scope.onIngestColumnsSelect(col,!0,null,scope.uiSelectCursorPosition),0<scope.uiSelectCursorPosition&&colIndex<scope.uiSelectCursorPosition&&scope.uiSelectCursorPosition--):$scope.onIngestColumnsSelect(col,!0,null,scope.uiSelectCursorPosition),isCheckedFn(col)?!contextMenuIcon.hasClass("fa-check")&&contextMenuIcon.addClass("fa-check"):contextMenuIcon.removeClass("fa-check")}}function doRefreshRawShows(supressRefresh){return DataLoadingService.doRefreshRawShows(supressRefresh,$scope)}function getAggChangeShowTotalEventName(item){return-1===_.indexOf($scope.dataSummary.pivot,item)?EventNames.CHANGE_SHOW_TOTAL.AGGS:EventNames.CHANGE_SHOW_TOTAL.PIVOT}function getAggChangeSortEventName(item){return-1===_.indexOf($scope.dataSummary.pivot,item)?EventNames.CHANGE_SORT_EVENT.AGGS:EventNames.CHANGE_SORT_EVENT.PIVOT}function getNextSortDirection(direction){return"ASC"===direction?"DESC":"DESC"===direction?null:"ASC"}function getNextPriority(){var priorityArray=_.map(_.filter($scope.rawShowMeList,function(rawShow){return rawShow.id.sort}),function(rawShowWithSort){return rawShowWithSort.id.sort.priority});return priorityArray.length?_.max(priorityArray)+1:0}function removeAllShows(){resetShows([]),DataLoadingService.doRefreshIfNeeded($scope)}function resetShows(shows){return DataLoadingService.resetShows(shows,$scope)}function resetAggs(aggs){return DataLoadingService.resetAggs(aggs,$scope)}function resetPivot(pivot){return DataLoadingService.resetPivot(pivot,$scope)}function removeFromShows(key){var shows=$scope.dataSummary.shows.slice();_.remove(shows,key),resetShows(shows)}function cleanShows(){1===$scope.dataSummary.aggs.length+$scope.dataSummary.pivot.length&&resetShows([])}function restoreShows(item){if(0===$scope.dataSummary.aggs.length+$scope.dataSummary.pivot.length){resetPivot([]);var shows=_.filter($scope.showMeList,function(s){return null==s.id.op});shows=_.take(shows,10),resetShows(shows)}else removeFromShows({key:item.key})}function removeGroup(events){if(0>=$scope.dataSummary.aggs.length+$scope.dataSummary.pivot.length){var shows=_.filter($scope.showMeList,function(s){return null==s.id.op});resetShows(_.take(shows,10))}BookmarkEventService.emit(".BookmarkVizCompositeStateChangeEvent",{events:events},$scope),DataLoadingService.doRefreshIfNeeded($scope)}function resetPivotOrder(){$scope.dataSummary.pivotOrder=[],BookmarkEventService.emit(".shows.ShowMovePivotEvent",{pivotOrder:$scope.dataSummary.pivotOrder},$scope)}function isRawData(){return 0===$scope.dataSummary.aggs.length&&0===$scope.dataSummary.pivot.length}function isAggregatedData(){return 0<$scope.dataSummary.aggs.length&&0===$scope.dataSummary.pivot.length}function getShowMeColumnsForContextMenu(show){return _.map(_.filter($scope.showMeList,function(s){return show.col.field===s.col.field&&!!s.id.op}),function(s){return[createShowMeContextMenuObj(s,s.id.op,$scope.showMeColChecked),getOnShowMeContextMenuClickFn(s,$scope.showMeColChecked)]})}function createSelectingObjForContextMenuWithAngular(){var titleHtml=$compile("<span ng-bind=\"isHiddenShowAll() ? 'Deselect All' : 'Select All'\"></span>")($scope);return{getPreHtml:function getPreHtml(){return"<i class=\"fa fa-fw\"></i>"},getTitleHtml:function getTitleHtml(){return titleHtml}}}function createSelectDeselectObjForContextMenuWithAngular(){var titleHtml=$compile("<span ng-bind=\"isHiddenIngestColumnsAll() ? 'Select All' : 'Deselect All'\"></span>")($scope);return{getPreHtml:function getPreHtml(){return"<i class=\"fa fa-fw\"></i>"},getTitleHtml:function getTitleHtml(){return titleHtml}}}function getGroupByOptions(actionFn,colNameFormat){function getOnClickSubMenuFn(col,colName){return function(scope,event,modelValue,text,$li,parentEl){actionFn(col);var parent=_.find(scope.options,function(o){return o[0]===colName});_.remove(parent[1],function(el){return el[0]===col.operation}),parent[1].length||(_.remove($scope.options,parent),$li.parent().remove(),parentEl.remove()),$li.remove()}}function getOnClickMenuFn(col){return function(scope,event,modelValue,text,$li){$li.remove(),actionFn(col,null,null,scope.uiSelectCursorPosition)}}var dateColumnsArray=function(){return _.filter($scope.filterGroupBy(),{type:"DATE"})}(),colNamesArray=function(array){return _.uniq(_.map(array,function(col){return col.colName}))}(dateColumnsArray),groupByOptions=_.map(colNamesArray,function(colName){return[colName,_.map(_.filter(dateColumnsArray,function(dateCol){return colName===dateCol.colName}),function(col){return[col.operation,getOnClickSubMenuFn(col,colName)]})]});return groupByOptions=groupByOptions.concat(_.map(function(){return _.filter($scope.filterGroupBy(),function(a){return"DATE"!==a.type})}(),function(col){return[ColumnsService.formatColumnName(colNameFormat,col.colName),getOnClickMenuFn(col)]})),groupByOptions=_.sortBy(groupByOptions),groupByOptions}$scope.controllerName="visualizationCtrl",$scope.currentState=$stateParams.sharedId?"main.visualize-shared":"main.visualize",$scope.datadocId=$stateParams.id;var changeStateOnceHandler;$scope.isFilterActive=FilterService.isFilterActive,$scope.getSelectedFilters=FilterService.getSelectedFilters,$scope.resetFilterInRow=FilterService.resetFilterInRow.bind(null,$scope),$scope.ingestSettingsDropdown={open:!1},$scope.sourceSettingsDropdown={open:!1},$scope.databaseTablesSettings={opened:!0,disabled:!1,refresh:!1},$scope.savedViewsSettings={opened:!1,disabled:!0,refresh:!1},$scope.toggleDatabaseTables=function(items){return 0<items.length&&($scope.databaseTablesSettings.opened=!0)},$scope.toggleSavedViews=function(items){return 0<items.length&&($scope.savedViewsSettings.opened=!0)},$scope.toggleIngestSettingsDropdown=function(){$scope.ingestSettingsDropdown.open=!$scope.ingestSettingsDropdown.open},$scope.hideIngestSettingsDropdown=function(){$scope.ingestSettingsDropdown.open=!1},$scope.toggleSourceSettingsDropdown=function(){$scope.sourceSettingsDropdown.open=!$scope.sourceSettingsDropdown.open},$scope.hideSourceSettingsDropdown=function(){$scope.sourceSettingsDropdown.open=!1},$scope.selectedGroupByCount=function(){return $scope.rawShowMeList?$scope.rawShowMeList.reduce(function(acc,val){return acc+=val.id.selected?1:0},0):0},$scope.switchAutoRefresh=function(value){$scope.autoRefresh=value;var tab=$scope.tabsSection.options.activeTab;tab.state.autoRefresh=value,value&&$scope.doCancelRefresh(),$scope.dataSummary.instantSearch=value,$timeout(function(){return $scope.$broadcast("reset-search-settings")}),BookmarkEventService.emit(".request.AutoQueryingToggleEvent",{value:value},$scope)};var attempts=0,defaultTimezoneInterval=setInterval(function(){var result=setDefaultTimezone();return attempts++,attempts>50?(console.log("Failed to set default time zone. Exceeded attempts limit."),void clearInterval(defaultTimezoneInterval)):void(result&&(console.log("Default time zone was set to \""+moment().tz()+"\"."),clearInterval(defaultTimezoneInterval)))},100);$scope.isConvertToUserTimezone=function(){return _.get($scope,"tabsSection.options.activeTab.state.convertToUserTimezone")},$scope.columnHeaderAvailableFormats=ColumnsService.colNameFormat,$scope.isCurrentHeaderAdjustment=function(key){var currentFormat=ColumnsService.colNameFormat[key],activeFormat=ColumnsService.colNameFormat[_.get($scope,"tabsSection.options.activeTab.state.colNameFormat")];return currentFormat===activeFormat},$scope.getCurrentHeaderAdjustmentValue=function(){return ColumnsService.colNameFormat[_.get($scope,"tabsSection.options.activeTab.state.colNameFormat")]},$scope.setCurrentHeaderAdjustmentValue=function(colNameFormat){var tab=$scope.tabsSection.options.activeTab;tab.state&&(tab.state.colNameFormat=colNameFormat,_.each($scope.dataSummary.filters,function(filter){return filter.col.name=ColumnsService.formatColumnName(colNameFormat,filter.col.originalField)}),_.each($scope.showMeList,function(show){return DataLoadingService.wrapShow(show,colNameFormat)}),_.each($scope.groupByList,function(group){return DataLoadingService.wrapAgg(group,colNameFormat)}),$scope.updateGroupByAutocompleteList(),$scope.$emit("DoRebuildCollapsedTags"),BookmarkEventService.emit(".ingest.ColNameFormatChangeEvent",{colNameFormat:colNameFormat},$scope),$scope.$emit("update-columns-header",{colNameFormat:colNameFormat}))},$scope.switchConvertTimes=function(value){var bookmarkState=_.get($scope,"tabsSection.options.activeTab.state");bookmarkState.convertToUserTimezone=value,BookmarkEventService.emit(".BookmarkStateConvertToUserTimezone",{convertToUserTimezone:value},$scope);var timezone;if(value){var userTimezone=User.getCurrent().timezone;timezone=userTimezone?userTimezone:moment.tz.guess()}else timezone=bookmarkState.timezone;moment.tz.setDefault(timezone),console.log("Current time zone was set to \""+moment().tz()+"\""),DataLoadingService.doRefreshIfNeeded($scope),DataLoadingService.updateFilters($scope.dataSummary.filters,$scope)},$scope.updateBookmarkTimezone=function(timezone){var tab=_.get($scope,"tabsSection.options.activeTab");tab.state.timezone=timezone,BookmarkEventService.emit(".BookmarkTimezoneChangeEvent",{timezone:timezone},$scope),moment.tz.setDefault(timezone),console.log("Bookmark time zone was set to \""+moment.tz.zone(timezone).name+"\"")},$scope.getBookmarkTimezoneAbbreviation=function(){var availableAbbreviations=TimeZoneService.getTimeZones(),bookmarkTimezone=_.get($scope,"tabsSection.options.activeTab.state.timezone");return _.chain(availableAbbreviations).find(function(a){return bookmarkTimezone===a.name}).get("abbr").value()},$scope.isGuessedTimezone=function(){return moment.tz.guess()===moment().tz()},$scope.isSelectedBookmarkTimezone=function(timezone){var bookmarkTimezone=_.get($scope,"tabsSection.options.activeTab.state.timezone");return bookmarkTimezone===timezone},$stateParams.preSave&&(changeStateOnceHandler=new function(){var _this11=this,self=this,callback=function(id){return $http.delete("/api/docs/"+id)};this.register=function(){_this11.event=$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){event.preventDefault(),callback(fromParams.id).then(function(){self.unregister(),$state.go(toState,toParams)})})},this.unregister=function(){_this11.event&&_this11.event()}},changeStateOnceHandler.register()),$scope.isPagination=!1,$scope.isInfiniteScroll=!1,$scope.allowInfiniteScroll=!1;var isMoveShowMe=!1;$scope.storage=$localStorage.$default(),$scope.currentRequest={},$scope.maxResults=1e4,$scope.currentPagination=1,$scope.totalSize=0,$scope.filtersStatus={refreshing:!1},$scope.inRequest=!1,$scope.isSuggestionFolderSelected=!1,$scope.floatingTopRows=[],$scope.hideCollapsedTags=!0,$scope.dataTabs={results:!0,summary:!1},$scope.sourceTagsSectionAutoCompleteList=[],$scope.ingestColumnsAutoCompleteList=[];var PAGE_MODE=$scope.PAGE_MODE={VIZ:0,INGEST:1};$scope.pageMode=$stateParams.pageMode,$scope.previewGridOptions={},$scope.isVizMode=function(){return $scope.pageMode===PAGE_MODE.VIZ},$scope.isIngestMode=function(){return $scope.pageMode===PAGE_MODE.INGEST},$scope.isShowTables=function(){return $scope.ingestDataSummary.queryMode||$scope.ingestDataSummary.tableMode},$scope.datadocViewers=[],WSocket.subscribe("/doc/event/"+$scope.datadocId,function(event){var tabsOptions=$scope.tabsSection.options;switch(event.type){case"DATADOC_NAME_CHANGED":{if(isEventOwner(event))return;$scope.$evalAsync(function(){$scope.selectedTable.name=event.renameTo,$scope.$emit("$titleChanged",$scope.selectedTable.name)});break}case"DATADOC_VIEWED":{$scope.$evalAsync(function(){$scope.datadocViewers=_.filter(event.datadocViewUsers,function(u){return u.userId!==User.getCurrent().id})});break}case"TAB_NAME_CHANGED":{if(isEventOwner(event))return;var tab=_.find(tabsOptions.tabs,function(tab){return tab.id===event.tabId});$scope.$evalAsync(function(){tab.name=event.renameTo});break}case"TAB_ADDED":{if(isEventOwner(event))return;$scope.tabsSection.loadTabFromServer({id:event.tabId},event.stateId,event.user).then(function(newTab){newTab&&tabsOptions.tabs.push(newTab)});break}case"TAB_REMOVED":{if(isEventOwner(event))return;$scope.$evalAsync(function(){if(tabsOptions.activeTab.id===event.tabId){var newActiveTabIndex=0===event.tabIndex?0:event.tabIndex-1;tabsOptions.activeTab={},$scope.tabsSection.setActiveTab(tabsOptions.tabs[newActiveTabIndex],!0,!0,!1)}_.remove(tabsOptions.tabs,function(t){return t.id===event.tabId}),$scope.tabsSection.calculateTabsWidth(!1,!0)});break}case"TAB_POSITION_CHANGED":{if(isEventOwner(event))return;$scope.$evalAsync(function(){var tab=_.chain(tabsOptions.tabs).remove(function(t){return t.id===event.tabId}).head().value();tabsOptions.tabs.splice(event.tabIndex,0,tab),_.each(tabsOptions.tabs,function(t){return t.position=tabsOptions.tabs.indexOf(t)})});break}}},!0),WSocket.send("/doc/event",{"@type":"com.dataparse.server.service.docs.ViewDatadocEvent",datadocId:parseInt($scope.datadocId)});var unsubscribeFromDatadocViewers=$rootScope.$on("$stateChangeStart",function(e,toState,toParams,fromState){fromState.name===toState.name||(WSocket.unsubscribe("/doc/event/"+$scope.datadocId),unsubscribeFromDatadocViewers())});$scope.ingestDataSummary={pageLoaded:!1,selectedSources:[],sources:[],lastSourceSelected:null,selectedColumns:[],columns:[],query:"",queryEditorOptions:{autoRefresh:{delay:100},lineWrapping:!0,lineNumbers:!0,mode:"text/x-sql",matchBrackets:!0,extraKeys:{"Cmd-Enter":function CmdEnter(){$scope.$broadcast("ingest-run-query")},"Ctrl-Enter":function CtrlEnter(){$scope.$broadcast("ingest-run-query")}}},runningSchedule:{status:"Never",cronExpression:"0 0 0 * * *",timeZone:"UTC",lastCommitDuration:"",availableTimeZones:TimeZoneService.getTimeZones(),config:{options:{"alloweach minute":!1,allowhourly:!0,allowmonthly:!1,allowannually:!1}}},settingString:""},$scope.cantDetectFieldNamesNote={opened:!1},$scope.cantDetectDelimiterNote={opened:!1},$scope.cantIngestFileDueToErrorsNote={opened:!1},$scope.getSettingString=function(){var schedule=$scope.ingestDataSummary.runningSchedule,scheduleTab=$scope.tabsSection.options.activeTab.tableSchema.refreshSettings;if("Never"===schedule.status)$scope.ingestDataSummary.settingString="never";else{var cron=scheduleTab.cronExpression.replace(/\s+/g," ").split(" "),fromCron=cronService.fromCron(scheduleTab.cronExpression),timePeriod=12<=parseInt(cron[2])?"PM":"AM",hours=(parseInt(cron[2])+11)%12+1,cronString=void 0;switch(fromCron.base){case 2:cronString=cron[1]+" min past the hour";break;case 3:cronString=hours+timePeriod.toLowerCase()+" "+schedule.timeZone.text;break;case 4:cronString=hours+timePeriod.toLowerCase()+" "+schedule.timeZone.text+" on "+{SUN:"Sunday",MON:"Monday",TUE:"Tuesday",WED:"Wednesday",THU:"Thursday",FRI:"Friday",SAT:"Saturday"}[cron[5]];break;default:cronString="";}$scope.ingestDataSummary.settingString=schedule.status.toLowerCase()+" at "+cronString}},$scope.getUserTimezoneAbbreviation=function(){var timezone=User.getCurrent().timezone;if(!timezone){var guessedTimezone=moment.tz.guess();return moment.tz.zone(guessedTimezone).abbr(moment())}return moment.tz.zone(timezone).abbr(moment())},$scope.getLastCommitDuration=function(){var withPrefix=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],lastCommitDuration=_.get($scope,"tabsSection.options.activeTab.tableSchema.lastCommitDuration");if(!lastCommitDuration)return"";var duration=moment.duration(lastCommitDuration),result="";return result=1e3<lastCommitDuration?duration.minutes()+"m "+duration.seconds()+"s":"less than a second",withPrefix&&result&&(result="in "+result),result},$scope.updateRunningSchedule=function(){var tab=$scope.tabsSection.options.activeTab,refreshSettings=tab.tableSchema.refreshSettings,runningSchedule=$scope.ingestDataSummary.runningSchedule;return runningSchedule.cronExpression?(runningSchedule.status=getRunningScheduleStatus(runningSchedule.cronExpression),refreshSettings.type="FULL"):(runningSchedule.status="Never",refreshSettings.type="NONE"),refreshSettings.cronExpression=runningSchedule.cronExpression,refreshSettings.timeZone=_.get(runningSchedule,"timeZone.offset"),$scope.getSettingString(),$http.post("/api/docs/bookmarks/"+tab.id+"/update_refresh_settings",{settings:_.omit(tab.tableSchema.refreshSettings,"id")})},$scope.updateRunningScheduleTimeZone=function(timeZone){$scope.ingestDataSummary.runningSchedule.timeZone=timeZone,$scope.updateRunningSchedule()},$scope.isSelectedTimeZone=function(timeZone){var currentTimeZone=$scope.ingestDataSummary.runningSchedule.timeZone;if(currentTimeZone)return _.isPlainObject(currentTimeZone)?timeZone===currentTimeZone.text:_.isString(currentTimeZone.text)?timeZone===currentTimeZone:void console.warn("Failed to recognize time zone.")},$rootScope.$on("LoadQueryTime",function(event,startQueryTime){$timeout(function(){$scope.loadQueryTime=_.round((new Date-startQueryTime)/1e3,2)})}),$scope.getIngestPreviewLabel=function(){var total=$scope.totalSize,str="";return 1e3===total?str+="Showing 1,000 rows":0<total&&(str+="Showing "+total+" rows"),$scope.isIndexChanged()&&(str+=". Save Changes to import all data",$scope.ingestDataSummary.queryMode?str+=" from your query":$scope.ingestDataSummary.tableMode&&(str+=" from your table"),str+="."),str},$scope.getUploadIcon=function(upload){return SourceService.getIcon(upload)},$scope.exportDropdownSettings={opened:!1},$scope.togglePageMode=function(toggledByUser,pageMode,localChange){toggledByUser&&BrowserHistoryService.push("TogglePageMode","main.visualize"),pageMode||(pageMode=$scope.pageMode===PAGE_MODE.VIZ?PAGE_MODE.INGEST:PAGE_MODE.VIZ);var tab=$scope.tabsSection.options.activeTab;return tab.state.pageMode=pageMode,$scope.pageMode=pageMode,localChange||BookmarkEventService.emit(".PageModeChangeEvent",{pageMode:$scope.pageMode},$scope),pageMode===PAGE_MODE.VIZ&&(tab.state.flowJSON=tab.state.pendingFlowJSON),$scope.tabsSection.refreshActiveTab(!0,null,!1),!0};$rootScope.$on("TogglePageMode",function(){$scope.togglePageMode()});$scope.updateColumns=function(){_.each($scope.ingestDataSummary.columns,function(column,index){if(column.settings.type=column.settings.type||column.type,column.settings.name=column.settings.name||column.name,column.settings.index=cc.isDefined(column.settings.index)?column.settings.index:index,column.settings.searchType||ColumnsService.resetSearchType(column),_.get(column.settings.type.dataType)){switch(column.settings.type.dataType.toLowerCase()){case"location_lat_lon":column.settings.filter="lat-lon";break;case"location_usa_state_codes":case"location_country_codes":column.settings.filter="codes";}(column.settings.pkey||column.pkey||_.contains(["STRING"],column.settings.type.dataType))&&(column.settings.preserveHistory=null)}})},$scope.commit=function(){!$scope.isCommitted()&&_.startsWith($scope.selectedTable.name,"Untitled datadoc")?($scope.renameDocModal=$uibModal.open({templateUrl:"static/templates/include/rename-datadoc.html",scope:$scope,animation:!0,size:"md",windowClass:"tiny-modal"}),$scope.renameDocModal.opened.then(function(){$scope.renameDocModal.docName=$scope.selectedTable.name}),$scope.renameDocModal.rendered.then(function(){$(".tiny-modal input[name=document-name]").focus().select()})):doCommit()},$scope.isCommitRunning=function(bookmarkId){bookmarkId||(bookmarkId=$scope.tabId);var isCommitRunning=BookmarkCommitService.isCommitRunning(bookmarkId);return isCommitRunning&&($scope.isRefreshingNow=!0),isCommitRunning},$scope.isCommitCancelling=function(bookmarkId){return bookmarkId||(bookmarkId=$scope.tabId),BookmarkCommitService.isCommitCancelling(bookmarkId)},$scope.renameDocForm={},$scope.saveNameAndCommit=function(){$scope.renameDocModal.dismiss(),$scope.selectedTable.name=$scope.renameDocModal.docName,$scope.updateTable().then(function(){doCommit()})},$scope.cancelRenameModal=function(){$scope.renameDocModal.dismiss()},$scope.isCommitted=function(){var tab=$scope.tabsSection.options.activeTab;return tab&&tab.tableSchema&&tab.tableSchema.committed},$scope.lastUpdateTabMessage=function(){var tab=$scope.tabsSection.options.activeTab,updated=_.get(tab,"updated");if(_.get(tab,"tableSchema.committed")&&updated)return"Failed since "+moment(updated).format("D.MM.YY h:mmA")},$scope.getTimeSinceLastCommit=function(){var lastCommit=_.get($scope,"tabsSection.options.activeTab.tableSchema.committed");return moment(lastCommit).fromNow()},$scope.getLastIngestedTime=function(){var lastIngestedTime=_.get($scope,"tabsSection.options.activeTab.tableSchema.committed");return moment(lastIngestedTime).format("MMM D, YYYY [at] h:mmA")},$scope.isIndexChanged=function(){var tab=$scope.tabsSection.options.activeTab;return!!tab.state&&tab.state.flowJSON!==tab.state.pendingFlowJSON},$scope.getSaveDataMessage=function(){var dataType=$scope.ingestDataSummary.queryMode?"Query":$scope.ingestDataSummary.tableMode?"Table":"All";return"Save "+dataType+" Data"},$scope.resetIngestSettings=function(){var tab=$scope.tabsSection.options.activeTab;tab.state.flowJSON=tab.state.pendingFlowJSON,BookmarkEventService.emit(".ingest.ResetIngestSettings",{},$scope),$scope.refreshIngestPage()},$scope.refreshIngestPage=function(){var shouldBackdropWhenPreview=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1],tab=$scope.tabsSection.options.activeTab;$scope.sourceSearch={value:""},$scope.sourcePath="",$scope.ingestDataSummary.pageLoaded=!1,$scope.isShowFilters=tab.state.showFilters&&($scope.ingestDataSummary.queryMode||$scope.ingestDataSummary.tableMode)&&!$scope.isMobileView(),$timeout(function(){restoreRunningSchedule(),$scope.pageMode===$scope.PAGE_MODE.INGEST&&IngestDataLoadingService.initGrid({selector:"#preview-grid",mode:"ingest_raw"},$scope),$scope.isShowFilters?$scope.$broadcast("expand-visualization-filters"):$scope.$broadcast("collapse-visualization-filters");var flowJSON=tab.state?tab.state.flowJSON:null;return $scope.deserializeIngestSettingsFromJSON(flowJSON).then(function(){if($scope.pageMode===$scope.PAGE_MODE.INGEST)$scope.ingestDataSummary.queryMode||$scope.ingestDataSummary.tableMode?($scope.$broadcast("reset-query-editor-resize",tab.state.queryEditorHeight),$scope.toggleSourceSuggestionActive(!1),IngestDataLoadingService.clear($scope),$timeout(function(){return $scope.togglePageLoader(!1)})):(IngestDataLoadingService.preview($scope,{force:!0,shouldBackdrop:shouldBackdropWhenPreview}),flowJSON?$scope.toggleSourceSuggestionActive(!1):($scope.toggleSourceSuggestionActive(!0),$timeout(function(){$(".search-autocomplete input").focus()}))),$scope.ingestDataSummary.lastSourceSelected&&tryShowDelimiterStickyNote($scope.ingestDataSummary.lastSourceSelected),$scope.ingestDataSummary.table&&$scope.ingestDataSummary.tableMode?IngestDataLoadingService.preview($scope,{force:!1,shouldBackdrop:shouldBackdropWhenPreview}):$scope.ingestDataSummary.query&&$scope.ingestDataSummary.queryMode?$scope.updateQueryFromFavorites($scope.ingestDataSummary.selectedSources[0]):$scope.ingestDataSummary.selectedSources[0]&&$scope.loadSource($scope.ingestDataSummary.selectedSources[0],null,!0,!1),$scope.ingestDataSummary.pageLoaded=!0;else{var flow=JSON.parse(flowJSON),inputNode=flow.cells[0];$scope.ingestDataSummary.columns=_.map(inputNode.settings.columns,function(settings,i){return{id:i+1,name:settings.name,settings:settings}})}})})},$scope.isShowHeaderInFirstRowOption=function(){var source=$scope.ingestDataSummary.selectedSources[0];return source&&_.includes(["CSV","XLS_SHEET","XLSX_SHEET"],source.descriptor.format)},$scope.getIngestSelectedSourceSettings=function(){var source=$scope.ingestDataSummary.selectedSources[0];return source?source.descriptor.settings:{}},$scope.switchIngestUseHeaders=function(value){var source=$scope.ingestDataSummary.selectedSources[0];if(source.descriptor.settings.useHeaders!==value){var oldValue=source.descriptor.settings.useHeaders;if(source.descriptor.settings.useHeaders=value,$scope.pageMode===$scope.PAGE_MODE.VIZ)return;$scope.togglePageLoader(!0),$scope.updateIngestFileSettings(source.id,source.descriptor.settings).then(function(res){source.descriptor=res.data.descriptor,source.previewDescriptor=res.data.previewDescriptor,$scope.ingestPreviewLoaded=!1,$scope.updateIngestColumns(),$scope.updateIngestSettings(!$scope.ingestDataSummary.selectedSources.length),$scope.updateIngestColumnsAutocompleteList()},function(e){source.descriptor.settings.useHeaders=oldValue,$scope.togglePageLoader(!1);var err=IngestDataLoadingService.getErrorMessage({code:e.errorCode,message:e.errorMessage});err.message="Ingest "+err.message,cc.notify(err)})}},$scope.updateIngestFileSettings=function(id,settings){return $http.post("/api/files/update_settings",{path:"id:"+id,settings:settings})},$scope.cleanState=_asyncToGenerator(regeneratorRuntime.mark(function _callee8(){return regeneratorRuntime.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return $scope.firstRequestApplied=!1,_context8.abrupt("return",$scope.presetDefaultState({tabId:$scope.tabId,toCleanState:!0}));case 2:case"end":return _context8.stop();}},_callee8,_this12)})),$scope.cancelPreviewRequest=function(){$scope.currentPreviewRequest&&$scope.currentPreviewRequest.canceler&&$scope.currentPreviewRequest.canceler.resolve(),$scope.inRequest=!1,$scope.togglePageLoader(!1)};var searchMode=!1;$scope.sourceSearchPopupOptions={selectedFolder:null,ingestDataSummary:$scope.ingestDataSummary,mostRecentSource:_.head(RecentSourcesService.getList()),isSelectFolderRequest:null},$scope.toggleSourceSuggestionActive=function(toggle,$event){$scope.isMobileView()||($event&&$event.stopPropagation(),$scope.sourceSuggestionClicked=!!(toggle&&$event),$timeout(function(){$scope.sourceSuggestionActive=toggle,toggle&&(closeAllStickyNotes(),$scope.cantIngestFileDueToErrorsNote.opened=!1,$timeout(function(){$(".search-autocomplete input").focus()}))}))},$scope.uploadsExist=!1,$scope.sourceSuggestions=function(searchText){var setUpdatingSource=setTimeout(function(){$scope.updatingSourceSuggestions=!0},300),mapFile=function(o){return o.icon=SourceService.getIcon(o),o.isTable=o.descriptor&&_.endsWith(o.descriptor.format,"TABLE"),o},getFiles=function(data){return _.sortBy(_.map(data,mapFile),function(o){return o.name.toLowerCase()})};if(searchText)return $http.post("/api/search/suggest-sources",{s:searchText,limit:10}).then(function(response){return clearTimeout(setUpdatingSource),searchMode=!0,$scope.updatingSourceSuggestions=!1,getFiles(response.data)});var params={offset:0,limit:100,path:$scope.sourcePath,withDatadocs:!0,sourcesOnly:!0,foldersOnly:!0};return $http.post("/api/files/list_files",params).then(function(response){clearTimeout(setUpdatingSource),searchMode=!1;var container=$scope.sourceSearchPopupOptions.selectedFolder,files=getFiles(response.data);return files=_.map(files,_.partial(wrapSource,container)),SourceService.isDbSource(container)&&files.unshift(createNewQuerySource(container)),$scope.sourcePath&&files.unshift({type:"folder",icon:"folder",name:"..",id:container.parentId}),$scope.uploadsExist=!_.isEmpty(response.data)||$scope.uploadsExist,$timeout(function(){$scope.ingestDataSummary.pageLoaded&&!$scope.inRequest&&$scope.togglePageLoader(!1)},500),$scope.sourceSearchPopupOptions.isSelectFolderRequest=!1,$scope.sourceSearchPopupOptions.currentSelected="",$scope.updatingSourceSuggestions=!1,files})},$scope.queryChanged=function(){$scope.currentQueryData.manualChangesPerformed=!1,$scope.ingestPreviewLoaded=!1},$scope.$on("ingest-change-query",function(e,data){$scope.ingestDataSummary.query=data.query,$scope.ingestPreviewLoaded=!1}),$scope.openQueryEditor=function(){$scope.ingestDataSummary.queryMode=!0,$scope.ingestDataSummary.tableMode=!1,$scope.isTableDisabled=!0,$scope.ingestDataSummary.table=null,$scope.$broadcast("open-query-editor")},$scope.isMobileView=function(){return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))},$scope.isLiveSource=function(){return $scope.ingestDataSummary.tableMode||$scope.ingestDataSummary.queryMode},$scope.isUningestedTab=function(){var flowJSON=_.get($scope,"tabsSection.options.activeTab.state.flowJSON",null);return!flowJSON},$scope.getDisabledPreviewMessage=function(){return $scope.isLiveSource()?"Editing live source disabled on mobile.":$scope.isUningestedTab()?"Editing source disabled on mobile.":""},$scope.disableGridBeforeQuery=function(){$scope.isTableDisabled=!0},$scope.enableGridAfterQuery=function(){$scope.isTableDisabled=!1,$scope.ingestDataSummary.table=null},$scope.enableTable=function(){$scope.isTableDisabled&&($scope.ingestDataSummary.queryMode=!1,$scope.ingestDataSummary.tableMode=!0,$scope.isTableDisabled=!1,$scope.ingestDataSummary.table=_.get($scope,"ingestDataSummary.selectedSources[0].tableId",null))};var originalSelectedSource=null;$scope.currentQueryData={successQuery:!1,canceledQuery:!1,errorQuery:!1,manualChangesPerformed:!1,queryRunning:!1,lastQueryErrorMessage:"",cachedPreviewData:!1,lastQueryTime:0,reset:function reset(){this.successQuery=!1,this.canceledQuery=!1,this.errorQuery=!1,this.manualChangesPerformed=!1,this.cachedPreviewData=!1}},$scope.getQueryNoteMessage=function(){var _$scope$currentQueryD=$scope.currentQueryData,errorQuery=_$scope$currentQueryD.errorQuery,successQuery=_$scope$currentQueryD.successQuery,queryRunning=_$scope$currentQueryD.queryRunning;if(errorQuery||queryRunning)return null;return $scope.ingestDataSummary.queryMode&&!successQuery?"Note that you can save your data directly to a datadoc by clicking \""+$scope.getSaveDataMessage()+"\".":$scope.ingestDataSummary.tableMode||$scope.ingestDataSummary.queryMode?"To save all results to your datadoc, click \""+$scope.getSaveDataMessage()+"\".":$scope.currentQueryData.cachedPreviewData?"To get \"fresh\" results, click Run Query.":null},$scope.getQuerySuccessMessage=function(){var _$scope$currentQueryD2=$scope.currentQueryData,successQuery=_$scope$currentQueryD2.successQuery,canceledQuery=_$scope$currentQueryD2.canceledQuery,errorQuery=_$scope$currentQueryD2.errorQuery,queryRunning=_$scope$currentQueryD2.queryRunning,manualChangesPerformed=_$scope$currentQueryD2.manualChangesPerformed;if(queryRunning||errorQuery||!(successQuery||canceledQuery||$scope.ingestDataSummary.tableMode||$scope.ingestDataSummary.queryMode))return null;return $scope.currentQueryData.cachedPreviewData&&successQuery&&!manualChangesPerformed?"Preview Data loaded from cache.":$scope.ingestDataSummary.tableMode?"Previewing table below.":$scope.ingestDataSummary.queryMode&&!successQuery?"Click button to preview query results.":$scope.ingestDataSummary.queryMode?"Previewing results below ("+$scope.currentQueryData.lastQueryTime+" elapsed)":$scope.currentQueryData.canceledQuery?"Query cancelled after "+$scope.currentQueryData.lastQueryTime:null},$scope.getQueryErrorMessage=function(){var _$scope$currentQueryD3=$scope.currentQueryData,errorQuery=_$scope$currentQueryD3.errorQuery,queryRunning=_$scope$currentQueryD3.queryRunning;return queryRunning?null:errorQuery?$scope.currentQueryData.lastQueryErrorMessage:null},$scope.loadSource=function(source,parent){var skipPreview=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2],forcePreview=!(3<arguments.length&&arguments[3]!==void 0)||arguments[3],payload=4<arguments.length&&arguments[4]!==void 0?arguments[4]:{};IngestDataLoadingService.clear($scope),resetSavedViewsSelection(),$scope.sourceSearch.value="",originalSelectedSource=source;var savedQuerySelected=SourceService.isDbQuerySource(source),newQuerySelected=isNewQuerySource(source),tableSelected=SourceService.isDbTableSource(source);$scope.ingestDataSummary.queryMode=$scope.isTableDisabled=savedQuerySelected||newQuerySelected,$scope.ingestDataSummary.query=savedQuerySelected?source.descriptor.query:$scope.ingestDataSummary.query,$scope.ingestDataSummary.tableMode=tableSelected,$scope.ingestDataSummary.table=tableSelected?source.tableId:null,savedQuerySelected&&(source.queryId=source.id,source.id=source.parentId),(savedQuerySelected||newQuerySelected||tableSelected)&&parent&&($scope.updateQueryHistory(parent),$scope.updateQueryFavorites(parent),$scope.updateDatabaseTables(parent),$scope.updateQueryEditorMode(source)),isNewQuerySource(source)||(parent?wrapSource(parent,source):tableSelected?source.fullName=source.parentName:wrapSource({id:source.parentId,name:source.parentName,type:source.descriptor.section?"composite-ds":"ds"},source)),$scope.ingestDataSummary.selectedSources=[_.cloneDeep(source)],$scope.ingestDataSummary.lastSourceSelected=_.cloneDeep(source),$scope.ingestDataSummary.relatedDatadocs=_.cloneDeep(source.relatedDatadocs),$scope.sourceSearchPopupOptions.ingestDataSummary=$scope.ingestDataSummary;var tab=$scope.tabsSection.options.activeTab;tab.state.lastSourceSelectedId=source.id,BookmarkEventService.emit(".ingest.LastSourceSelectedIdChangeEvent",{lastSourceSelectedId:tab.state.lastSourceSelectedId},$scope),$scope.ingestPreviewLoaded=!1,$scope.updateIngestSettings(skipPreview,!1,!1,forcePreview,!1,payload).then(function(){$rootScope.$emit("refresh-ingest-other-settings-dropdown")}),$scope.isShowFilters=tab.state.showFilters&&($scope.ingestDataSummary.queryMode||$scope.ingestDataSummary.tableMode)&&!$scope.isMobileView(),$scope.isShowFilters?$scope.$broadcast("expand-visualization-filters"):$scope.$broadcast("collapse-visualization-filters"),tryShowDelimiterStickyNote($scope.ingestDataSummary.lastSourceSelected)},$scope.sourceSuggestionSelected=function($item,$event){$event.stopPropagation();if($scope.sourceSearchPopupOptions.currentSelected=$item.id,$scope.sourceSearch.value="",SourceService.isDbSource($item))$http.post("/api/files/get_file",{path:"id:"+$item.id,sections:!0}).then(function(response){var parent=response.data,newQuery=createNewQuerySource(parent);$scope.loadSource(newQuery,parent),$scope.sourceSearchPopupOptions.currentSelected=null}).catch(function(e){console.error(e),$scope.sourceSearchPopupOptions.currentSelected=null});else if("folder"===$item.type||"composite-ds"===$item.type){$scope.sourceSearchPopupOptions.isSelectFolderRequest=!0,$scope.sourcePath=$item.id?"id:"+$item.id:"";var p=$scope.sourcePath?$http.post("/api/files/get_file",{path:$scope.sourcePath,sections:!0}):{data:null},container=$($event.currentTarget).parent();$q.when(p).then(function(response){var source=response.data;$scope.sourceSearchPopupOptions.selectedFolder=source,$scope.$emit("typeahead-refresh"),$timeout(function(){return container.scrollTop(0)}),source&&1===_.size(source.sections)&&($scope.sourceSuggestionActive=!1,$scope.loadSource(_.cloneDeep(source.sections[0]),$scope.sourceSearchPopupOptions.selectedFolder))})}else $scope.loadSource(_.cloneDeep($item),$scope.sourceSearchPopupOptions.selectedFolder,!1,!0,{disablePageLoader:!0}),$scope.ingestDataSummary.tableMode&&$timeout(function(){return $scope.$broadcast("scroll-to-selected-table")});return{keepOpened:!0}},$scope.removeSource=function(item,$event){_.remove($scope.ingestDataSummary.selectedSources,{id:item.id}),$scope.cancelPreviewRequest(),$scope.ingestPreviewLoaded=!1,$scope.updateIngestColumns(),$scope.updateIngestSettings(),$scope.updateIngestColumnsAutocompleteList(),$event.preventDefault(),$event.stopPropagation()},$scope.serializeIngestSettingsToJSON=function(resetColumns){var bookmark=$scope.tabsSection.options.activeTab,dataSummary=$scope.ingestDataSummary,source=dataSummary.selectedSources[0],columns=dataSummary.columns;resetColumns&&(columns=[]);var columnSettings=_.filter(_.map(columns,function(col){var isSelected=$scope.isIngestColChecked(col);if(col.settings.initialIndex=col.initialIndex,!isSelected){var cloneCol=_.cloneDeep(col);return cloneCol.settings.removed=!0,cloneCol.settings}return col.settings}),function(c){return c.name});return source?FlowService.create(bookmark,source,columnSettings,dataSummary):null},$scope.cancelCommit=function(){$scope.isCommitRunning()&&($scope.ingestionCancelModal=$uibModal.open({templateUrl:"static/templates/include/cancel-commit.html",scope:$scope,animation:!0,size:"md",windowClass:"preview-format-modal"}))},$scope.doCancelCommit=function(){BookmarkCommitService.updateStatus($scope.tabId,"Cancelling..."),BookmarkCommitService.cancel($scope.tabId)},$scope.closeIngestionCancelModal=function(){$scope.ingestionCancelModal&&$scope.ingestionCancelModal.dismiss()},$scope.selfBlur=function(event){event.currentTarget.blur()},$scope.ingestCommitOptions={isFailed:!1},$scope.commitProgress={getValue:function getValue(bookmarkId){bookmarkId||(bookmarkId=$scope.tabId);var task=BookmarkCommitService.get(bookmarkId);return task&&task.progress},getShortText:function getShortText(bookmarkId){bookmarkId||(bookmarkId=$scope.tabId);var task=BookmarkCommitService.get(bookmarkId);return task&&void 0!=task.progress?(100<=task.progress?99:task.progress)+"%":""},getText:function getText(bookmarkId){bookmarkId||(bookmarkId=$scope.tabId);var task=BookmarkCommitService.get(bookmarkId);if(task&&!task.progress&&task.status)return task.status;return task&&void 0!=task.progress?100<=task.progress?"Finishing...":task.progress+"%":""}},$scope.closeDelimiterStickyNote=function(){var source=$scope.ingestDataSummary.selectedSources[0],noteType="CANT_DETECT_DELIMITER";source&&($scope.cantDetectDelimiterNote.opened&&(originalSelectedSource.closedNotes.push(noteType),$http.post("/api/files/close_sticky_note",{path:"id:"+source.id,stickyNoteType:noteType})),$scope.cantDetectDelimiterNote.opened=!1)},$scope.closeFieldsStickyNote=function(){var source=$scope.ingestDataSummary.selectedSources[0],noteType="CANT_DETECT_FIELDS";source&&($scope.cantDetectFieldNamesNote.opened&&(originalSelectedSource.closedNotes.push(noteType),$http.post("/api/files/close_sticky_note",{path:"id:"+source.id,stickyNoteType:noteType})),$scope.cantDetectFieldNamesNote.opened=!1)},$scope.updateQueryFromHistory=function(query){$scope.ingestDataSummary.query=query,$scope.ingestDataSummary.table=null,$timeout(function(){return IngestDataLoadingService.clear($scope)})},$scope.updateQueryHistory=function(source){$scope.ingestDataSummary.queryHistory=_.sortByOrder(source.descriptor.queryHistory,"startTime","desc")},$scope.updateQueryFromFavorites=function(query){$scope.loadSource(_.cloneDeep(query)),$scope.$broadcast("ingest-run-query",{force:!1})},$scope.saveFavoriteQuery=function(){$scope.saveQueryModalSettings.saving=!0;var update=!!$scope.ingestDataSummary.selectedSources[0].queryId&&$scope.saveQueryModalSettings.queryName===$scope.ingestDataSummary.selectedSources[0].name,url,params;update?(url="api/files/update_remote_query",params={name:$scope.saveQueryModalSettings.queryName,query:$scope.ingestDataSummary.query,path:"id:"+$scope.ingestDataSummary.selectedSources[0].queryId}):(url="/api/files/create_remote_query",params={name:$scope.saveQueryModalSettings.queryName,query:$scope.ingestDataSummary.query,remoteLinkPath:"id:"+$scope.ingestDataSummary.selectedSources[0].id}),$http.post(url,params).then(function(result){$scope.$emit("typeahead-refresh"),$scope.refreshQueryFavorites().then(function(){if(!update){var query=result.data;query=wrapSource({name:query.parentName,id:query.parentId},query),$scope.loadSource(query,null,!0,!0)}$scope.saveQueryModalSettings.saving=!1,$scope.closeSaveQueryModal()})},function(response){console.log("saving error",response.data),$scope.saveQueryModalSettings.saving=!1,$scope.closeSaveQueryModal(),cc.notify({message:response.data.message,icon:"warning",wait:2})})},$scope.updateQueryFavorites=function(source){var favorites=_.filter(source.sections,function(s){return!s.descriptor.tableName});_.each(favorites,function(fav){wrapSource(source,fav)}),$scope.ingestDataSummary.queryFavorites=_.sortByOrder(favorites,[function(fav){return fav.name.toLowerCase()}])},$scope.confirmQueryDelete=function(e,query){$scope.selectedQuery=query,$scope.confirmationModal=$uibModal.open({templateUrl:"static/templates/include/delete-query.html",scope:$scope,animation:!0,size:"md"})},$scope.deleteQueryFromFavorites=function(query){$http.post("/api/files/delete",{paths:["id:"+query.id]}).then(function(){$scope.refreshQueryFavorites()})},$scope.closeConfirmationModal=function(){$scope.confirmationModal.dismiss()},$scope.$on("refresh-query-history",function(){var sourceId=$scope.ingestDataSummary.selectedSources[0].id;$http.post("/api/files/get_file",{path:"id:"+sourceId}).then(function(result){var source=result.data;$scope.updateQueryHistory(source)})}),$scope.refreshQueryFavorites=function(){var sourceId=$scope.ingestDataSummary.selectedSources[0].id;return $http.post("/api/files/get_file",{path:"id:"+sourceId,sections:!0}).then(function(result){var source=result.data;$scope.updateQueryFavorites(source)})},$scope.isRemote=function(source){var selectedSource=$scope.ingestDataSummary.selectedSources[0],sourceDescriptor=source?source.descriptor.remote:!!selectedSource&&selectedSource.descriptor.remote,newQueryType=source?source.type:!!selectedSource&&selectedSource.type;return sourceDescriptor||"new_query"===newQueryType},$scope.isRefreshableSource=function(){var schema=$scope.tabsSection.options.activeTab.tableSchema;return schema&&schema.uploads&&schema.uploads.length&&schema.uploads[0].descriptor.remote&&!$scope.sourceValidationInfo.removed},$scope.ingestOtherSettingsInfo={},$scope.isShowMore=function(){var enabledMainSettingsCount=_.compact([!$scope.ingestDataSummary.queryMode,$scope.isShowHeaderInFirstRowOption(),$scope.isRemote()]).length,enabledOtherSettingsCount=$scope.ingestOtherSettingsInfo.count;return 1<enabledMainSettingsCount&&2<enabledOtherSettingsCount},$scope.isSaveOrUpdate=function(){return $scope.saveQueryModalSettings.update&&$scope.saveQueryModalSettings.queryName===$scope.ingestDataSummary.selectedSources[0].name},$scope.saveQueryModalSettings={},$scope.showSaveQueryModal=function(){var update=!!$scope.ingestDataSummary.selectedSources[0].queryId;$scope.saveQueryModalSettings.queryName=update?$scope.ingestDataSummary.selectedSources[0].name:null,$scope.saveQueryModalSettings.update=update,$scope.saveQueryModal=$uibModal.open({templateUrl:"static/templates/include/save-query-to-favorites.html",scope:$scope,animation:!0,size:"md"})},$scope.closeSaveQueryModal=function(){$scope.saveQueryModal.dismiss()},$scope.updateDatabaseTables=function(source){var sections=_.filter(source.sections,function(s){return s.descriptor.tableName});$scope.ingestDataSummary.databaseTables=_.chain(sections).each(function(s){return s.tableId=s.id}).sortBy(function(s){return s.descriptor.tableName}).value()},$scope.selectDatabaseView=function(view){var source=_.get($scope,"ingestDataSummary.selectedSources[0]");source&&(source.queryId=view.query.id),$scope.ingestDataSummary.table=null,resetSavedViewsSelection(),view.selected=!0,$scope.ingestDataSummary.tableMode=!1,$scope.ingestDataSummary.queryMode=!0,$scope.ingestDataSummary.query=view.query.query,$scope.$broadcast("ingest-run-query",{force:!0})},$scope.forceRefreshDatabaseTables=function(database){if(!$scope.databaseTablesSettings.refresh)return $scope.databaseTablesSettings.refresh=!0,$scope.ingestDataSummary.databaseTables=[],SourceService.isDbSource(database)?$http.post("/api/files/refresh_tables",{path:"id:"+database.id}).then(function(response){$scope.updateDatabaseTables(response.data),$scope.databaseTablesSettings.refresh=!1},function(e){console.error("Failed to update tables",e),$scope.databaseTablesSettings.refresh=!1}):void(console.error("Wrong source",database),$scope.databaseTablesSettings.refresh=!1)},$scope.updateQueryEditorMode=function(source){var mode="text/x-sql";switch(source.descriptor.format){case"MYSQL_QUERY":mode="text/x-mysql";break;case"POSTGRESQL_QUERY":mode="text/x-pgsql";break;case"MSSQL_QUERY":mode="text/x-mssql";break;case"ORACLE_QUERY":mode="text/x-plsql";}$scope.ingestDataSummary.queryEditorOptions.mode=mode},$scope.isSourceDeleted=function(){return _.get($scope.ingestDataSummary,"selectedSources[0].deleted")},$scope.sourceValidationInfo={removed:!1,valid:!0},$scope.deserializeIngestSettingsFromJSON=function(json){if(json){var obj=JSON.parse(json),selectedSource=obj.cells[0],selectedSourceId=selectedSource.settings.uploadId;return $scope.ingestDataSummary.selectedColumns=[],$http.post("/api/files/get_file",{path:"id:"+selectedSourceId,sections:!0,relatedDatadocs:!0}).then(function(response){$scope.sourceValidationInfo.removed=!1;var promises=[],source=response.data;return SourceService.isDbSource(source)?(SourceService.retrieveDbRelatedData(source.id).then(function(result){$scope.ingestDataSummary.savedViews=result}),$scope.ingestDataSummary.parentDatabase=source,$scope.sourceValidationInfo.valid=!1!==_.get($scope.ingestDataSummary.parentDatabase,"descriptor.valid"),FlowService.isQueryInputNode(obj.cells[0])?($scope.ingestDataSummary.queryMode=!0,$scope.ingestDataSummary.tableMode=!1,$scope.ingestDataSummary.query=selectedSource.settings.query,$scope.updateQueryHistory(source),$scope.updateQueryFavorites(source),$scope.updateDatabaseTables(source),source=createNewQuerySource(source),source.queryId=selectedSource.settings.queryId,$scope.updateQueryEditorMode(source)):FlowService.isTableInputNode(obj.cells[0])&&($scope.ingestDataSummary.queryMode=!1,$scope.ingestDataSummary.tableMode=!0,$scope.ingestDataSummary.table=selectedSource.settings.tableId,$scope.updateDatabaseTables(source),source=_.find($scope.ingestDataSummary.databaseTables,{tableId:selectedSource.settings.tableId}),source.fullName=source.parentName)):(hasRelatedDatadocs(source)&&($scope.ingestDataSummary.relatedDatadocs=source.relatedDatadocs),$scope.ingestDataSummary.tableMode=!1,$scope.ingestDataSummary.queryMode=!1,wrapSource(source.parentsPath[0],source)),$http.post("/api/docs/bookmarks/preset_settings_from_bookmark",{tabId:$scope.tabId,sourceId:source.id}).then(function(_ref12){var data=_ref12.data;data&&(source.descriptor=data),$scope.ingestDataSummary.selectedSources=[source];var activeCommitTask=BookmarkCommitService.get($scope.tabsSection.options.activeTab.id);return toggleCommit(!!activeCommitTask),$q.all(promises)})}).catch(function(e){if(404===e.status){if($scope.isIngestMode()){NotificationsUtils.notify({message:"This datadoc is not connected to a source. Please re-add a source for this datadoc"},{type:NotificationsUtils.NotificationType.WARNING,delay:4})}$scope.sourceValidationInfo.removed=!0,$scope.sourceSuggestions(),$timeout(function(){$(".search-autocomplete input").focus()}),$scope.toggleSourceSuggestionActive(!1)}})}return toggleCommit(!1),$scope.ingestDataSummary.selectedSources=[],$scope.ingestDataSummary.sources=[],$scope.ingestDataSummary.lastSourceSelected=null,$scope.ingestDataSummary.mostRecentSource=null,$scope.ingestDataSummary.selectedColumns=[],Promise.resolve()},$scope.updateIngestSettings=function(skipPreview,noReset,resetColumns){var forcePreview=!(3<arguments.length&&arguments[3]!==void 0)||arguments[3],changedByUser=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],options=5<arguments.length&&arguments[5]!==void 0?arguments[5]:{};if(!$scope.isCommitRunning()){$scope.currentQueryData.manualChangesPerformed=changedByUser;var flowJSON=$scope.serializeIngestSettingsToJSON(resetColumns);$scope.tabsSection.options.activeTab.state.flowJSON=flowJSON,skipPreview||$scope.ingestDataSummary.selectedSources.length||IngestDataLoadingService.clear($scope);return BookmarkEventService.emit(".ingest.IngestSettingsChanged",{flowJSON:flowJSON,skipPreview:skipPreview,force:forcePreview,noReset:noReset},$scope).then(function(){if(!skipPreview)return options.force=forcePreview,IngestDataLoadingService.preview($scope,options)}).then(function(response){return $scope.toggleSourceSuggestionActive(!1),response})}return Promise.resolve()},$scope.ingestSelectedSource=function(){$scope.ingestDataSummary.selectedSources[0].ingesting=!0,$scope.ingestDataSummary.selectedSources[0].ingestProgress=0,BookmarkCommitService.ingest($scope.ingestDataSummary.selectedSources[0],{embedded:!1})},BookmarkCommitService.reset({isPublicChannel:!0}),BookmarkCommitService.on("start",onIngestStart),BookmarkCommitService.on("complete",onIngestComplete),BookmarkCommitService.on("progress",onIngestProgress),$scope.$on("$destroy",function(){BookmarkCommitService.off("start",onIngestStart),BookmarkCommitService.off("complete",onIngestComplete),BookmarkCommitService.off("progress",onIngestProgress)}),$scope.updateIngestColumns=function(){var descriptor=$scope.previewDescriptor;descriptor||(descriptor={columns:[]}),$scope.ingestDataSummary.columns=descriptor.columns,$scope.ingestDataSummary.selectedColumns=descriptor.columns,$scope.updateColumns()},$scope.dataTypeModalSettings={columns:[],availableFormatOptions:[],hasChanges:!1,needToReIngest:!1,formatTypeNames:{TEXT:"Text",NUMBER:"Number",PERCENT:"Percent",FINANCIAL:"Financial",DATE_1:"Date v1",DATE_2:"Date v2",DATE_TIME:"Datetime",TIME:"Time",DURATION:"Duration",BOOLEAN_1:"Boolean y/n",BOOLEAN_2:"Boolean T/F"},iconClass:{TEXT:"string",NUMBER:"number",PERCENT:"number",FINANCIAL:"number",DATE_1:"date",DATE_2:"date",DATE_TIME:"date",TIME:"time",DURATION:"time",BOOLEAN_1:"boolean",BOOLEAN_2:"boolean"},highlightOtherFormatGroup:function highlightOtherFormatGroup(group){var options=_.filter($scope.dataTypeModalSettings.availableFormatOptions,{group:group});$scope.dataTypeModalSettings.removeHighlightOtherFormat(),_.each(options,function(option){option.highlighted=!0})},removeHighlightOtherFormat:function removeHighlightOtherFormat(){_.each($scope.dataTypeModalSettings.availableFormatOptions,function(option){option.highlighted=!1})},refreshFormatOptions:function refreshFormatOptions(col,open){function checkNeedToReIngest(){var needToReIngest=!1,hasChanges=!1;_.each($scope.dataTypeModalSettings.columns,function(col){needToReIngest=needToReIngest||!FormatToolbarService.isBasicFormat(col,col.settings.format.type);var originalCol=_.find($scope.columns,{field:col.field});col.formatChanged=originalCol.settings.format.type!==col.settings.format.type,hasChanges=hasChanges||col.formatChanged}),$scope.dataTypeModalSettings.needToReIngest=needToReIngest,$scope.dataTypeModalSettings.hasChanges=hasChanges}open&&($scope.dataTypeModalSettings.availableFormatOptions=FormatToolbarService.getFormatOptionsForColumn($scope,col,function($scope,format){$http.post("/api/visualization/format-value",{tabId:$scope.tabId,stateId:$scope.bookmarkStateId,fieldName:col.field,format:col.settings.format}).then(function(newExampleValue){col.exampleValue=newExampleValue.data,col.parseFailed&&(col.parseFailed=!1)}).catch(function(){console.log(col),col.exampleValue="",col.parseFailed=!0}),_.isFunction(format)?format(col.settings.format,col):col.settings.format=format,checkNeedToReIngest()},!0))},reset:function reset(){$scope.dataTypeModalSettings.hasChanges=!1,$scope.dataTypeModalSettings.needToReIngest=!1},inputFocus:function inputFocus(col,index,event){col.oldName=col.name,event.currentTarget.select()},doUpdateColumnName:function doUpdateColumnName(col){var column=_.find($scope.columns,{field:col.field});col.name!==col.oldName&&DataLoadingService.updateColumnName(column,col.name,$scope)},inputKeyPress:function inputKeyPress(e,col){switch(e.stopPropagation(),e.keyCode){case 13:e.currentTarget.blur();break;case 27:col.name=col.oldName,e.currentTarget.blur();}},apply:function apply(){$scope.dataTypeModalSettings.savingChanges=!1,$timeout(function(){$scope.dataTypeModalSettings.needToReIngest?$scope.updateIngestSettingsAndCommit(function(){return _.each($scope.dataTypeModalSettings.columns,function(col){var ingestColumn=_.find($scope.ingestDataSummary.columns,function(c){return c.settings.rename===col.originalField||c.name===col.originalField});if(ingestColumn&&col.formatChanged&&(ingestColumn.settings.formatType=col.settings.format.type,!FormatToolbarService.isBasicFormat(col,col.settings.format.type))){var format=FormatToolbarService.getTypeByFormat(ingestColumn.settings.formatType);ColumnsService.setDataType(ingestColumn,format)}}),!0}).then(function(){$scope.dataTypeModalSettings.savingChanges=!1}):(_.each($scope.dataTypeModalSettings.columns,function(col){if(col.formatChanged&&FormatToolbarService.isBasicFormat(col,col.settings.format.type)){var originalCol=_.find($scope.columns,function(c){return c.field===col.field});originalCol.settings.format=col.settings.format,BookmarkEventService.emit(".cols.ColFormatChangeEvent",{field:col.field,format:col.settings.format},$scope)}}),setTimeout(function(){$scope.gridOptions.api.refreshView()}))})}},$scope.dateFormatModalSettings={column:null,pattern:null},$scope.showDateFormatModal=function(settings,columns,originalType){var pattern=settings.type.pattern||originalType&&originalType.pattern;$scope.dateFormatModalSettings={column:settings,columns:columns,pattern:pattern},$scope.dateFormatModal=$uibModal.open({templateUrl:"static/templates/include/date-format.html",scope:$scope,animation:!0,size:"md"})},$scope.closeDateFormatModal=function(){$scope.dateFormatModal.dismiss()},$scope.updateDateFormat=function(){_.each($scope.dateFormatModalSettings.columns,function(column){column.settings.type={"@class":"com.dataparse.server.service.parser.type.DateTypeDescriptor",dataType:"DATE",pattern:$scope.dateFormatModalSettings.pattern},ColumnsService.resetSearchType(column)}),$scope.dateFormatModal.dismiss(),$scope.updateIngestSettings(!0)},$scope.convertToListModalSettings={columns:null,separator:null,hasSeparator:null},$scope.showConvertToListModal=function(columns){$scope.convertToListModalSettings.columns=columns;var column=_.find(columns,function(col){return col.settings.splitOn});column?($scope.convertToListModalSettings.hasSeparator=!0,$scope.convertToListModalSettings.separator=column.settings.splitOn):($scope.convertToListModalSettings.hasSeparator=!1,$scope.convertToListModalSettings.separator=","),$scope.convertToListModal=$uibModal.open({templateUrl:"static/templates/include/convert-to-list.html",scope:$scope,animation:!0,size:"md"})},$scope.closeConvertToListModal=function(){console.log("modal closed"),$scope.convertToListModal.dismiss()},$scope.updateConvertToList=function(){saveIngestColumnChanges($scope.convertToListModalSettings.columns,function(columns){_.each(columns,function(column){column.settings.splitOn=$scope.convertToListModalSettings.separator})}),$scope.convertToListModal.dismiss()},$scope.deleteConvertToList=function(){saveIngestColumnChanges($scope.convertToListModalSettings.columns,function(columns){_.each(columns,function(column){column.settings.splitOn=null})}),$scope.convertToListModal.dismiss()},$scope.showDatadocInfoModal=function(){$scope.datadocInfoModal=$uibModal.open({templateUrl:"static/templates/include/datadoc-info.html",scope:$scope,animation:!0,size:"md"}),$scope.datadocInfoModal.stats={},$scope.datadocInfoModal.statsLoading=!0,$scope.datadocInfoModal.selectTab=function(tab){$scope.datadocInfoModal.selectedTabStats=tab},$http.get("/api/docs/"+$scope.selectedTable.id+"/stats").then(function(result){$scope.datadocInfoModal.stats=result.data,$scope.datadocInfoModal.statsLoading=!1,$scope.datadocInfoModal.selectTab(_.find(result.data.bookmarks,{bookmarkId:$scope.tabsSection.options.activeTab.id}))})},$scope.closeDatadocInfoModal=function(){$scope.datadocInfoModal.dismiss()},$scope.goToMainPage=function(toFolder){RouterService.goToMainPage(!0,{f:$scope.isMobileView()||toFolder?getCurrentFolder():null})},$scope.handleMobileBack=function(){$scope.isViewRawData?$scope.selectDataSummaryBack():$scope.goToMainPage()},$scope.showMeList=[],$scope.columns=[],$scope.results=[],$scope.showMeAutoCompleteList=[],$scope.groupByList=[],$scope.isShowFilterTooltip=!1,$scope.subMenuShowMeShown={},$scope.history=[],$scope.chartDatepicker=!1,$scope.chartTotals=[],$scope.popupData={is:!1},$scope.bookmarkStorage={$$newBookmark:{name:""},$$editing:null,$$isOpen:!1,bookmarks:[]},$scope.requestFinished=!1,$scope.fromHistory=!1,$scope.expandOnDrillDown=!1,$scope.initialLoading=!0,$scope.customDateChartFilter=null,$scope.selectedTable=DataLoadingService.getCurrentDoc(),$scope.selectedTable||RouterService.goToMainPage(!0);var VIEW_MODES=cc.getViewModes(),VIEW_MODE_OPTIONS=cc.getViewModeOptions();$scope.viewMode=VIEW_MODES.TABLE,$scope.viewModes=VIEW_MODES,$scope.viewModeCodes=_.values(VIEW_MODES).sort(),$scope.formatToolbarButtons=FormatToolbarService.getFormatButtons($scope),$scope.otherFormatOptions=FormatToolbarService.getOtherFormatOptions($scope),$scope.isFormatToolbarActive=function(){return FormatToolbarService.isFormatToolbarActive($scope)},$scope.refreshOtherFormatOptions=function(){$scope.columnTypeDropdownStatus={isOpen:!1},$scope.otherFormatOptions=FormatToolbarService.getOtherFormatOptions($scope),$scope.columnTypeDropdownStatus.isOpen=!0},$scope.formatModalSettings={};$scope.dataSummary=_.merge({},{shows:[],aggs:[],pivot:[],filters:[],search:"",count:100,active:!0,showAggregationTotal:!0,advancedModeCheck:!1,advancedFilterQuery:null,formats:[],limit:{rawData:1e4,pageSize:1e3,aggData:100,pivotData:100}}),$scope.isDecimalColFormattedAsDate=function(filter){var formatType=filter.col.settings.format.type;return"DECIMAL"===filter.col.type&&["DATE_1","DATE_2","DATE_TIME","TIME"].includes(formatType)},$scope.getTooltipForFilter=function(){var currentRef=window.location.href,newReferenceToPreviewPage=currentRef.substring(0,currentRef.length-1)+"1";return"Note: to use the date-picker, you will need to go to change this field from a Number to a Date/Time on the <a href=\""+newReferenceToPreviewPage+"\">Preview</a> page."};var vizSummaryDefault={xAxisShows:[],yAxisShows:[],sortBy:[],segmentBy:[],chartType:VIEW_MODES.TABLE,regressionType:null,graphLimit:void 0,seriesType:{},enabledMultiAxis:!1,showMeasures:!0};$scope.vizSummary=_.merge({},vizSummaryDefault),$scope.isCurrentView=function(view){return"table"===view?$scope.viewMode===VIEW_MODES.TABLE:"list"===view?$scope.viewMode===VIEW_MODES.LIST:"map"===view?$scope.viewMode===VIEW_MODES.MAP:"chart"===view?!_.contains([VIEW_MODES.TABLE,VIEW_MODES.LIST,VIEW_MODES.MAP],$scope.viewMode):void 0},$scope.showMeContextMenuOptions={options:[]},$scope.groupByContextMenuOptions={options:[]},$scope.pivotByContextMenuOptions={options:[]},$scope.sourceTagsSectionContextMenuOptions={options:[]},$scope.ingestColumnsContextMenuOptions={options:[]},$scope.updateIngestSettingsAndCommit=function(callback){if($scope.isCommitRunning()){var err=IngestDataLoadingService.getErrorMessage();return err.message="You should cancel current ingest first.",void cc.notify(err)}var tab=$scope.tabsSection.options.activeTab,flowJSON=tab.state.flowJSON,promise=$q.defer();return $scope.deserializeIngestSettingsFromJSON(flowJSON).then(function(){callback()?($scope.ingestDataSummary.selectedColumns=$scope.ingestDataSummary.columns,flowJSON=$scope.serializeIngestSettingsToJSON(),tab.state.flowJSON=flowJSON,doCommit(),promise.resolve()):(promise.reject(),console.error("can't re-ingest"))}),promise.promise},$scope.saveSourceSettings=function(){$scope.updateIngestSettingsAndCommit(function(){return!0})},$scope.showReIngestModal=function(options,callback){$scope.reIngestModalOptions=_.merge({reload:function reload(){$scope.reIngestModalOptions.starting=!0,$timeout(function(){$scope.updateIngestSettingsAndCommit(callback).then(function(){$scope.reIngestModalOptions.starting=!1,$scope.cancelReIngestModal()})})},lastLoadText:$scope.getLastCommitDuration(),isStarting:!1},options),$scope.reIngestModal=$uibModal.open({templateUrl:"static/templates/include/re-ingest-confirm.html",scope:$scope,animation:!0,size:"md"})},$scope.cancelReIngestModal=function(){$scope.reIngestModal.dismiss()},$scope.showCollapsedTags=!0,$scope.setShowCollapsedTags=function(value){$scope.showCollapsedTags=value,value&&($scope.isShowFilterSection=!1),$scope.isCurrentView("chart")||$scope.$emit("DoRebuildCollapsedTags")},$scope.$on("DoTableLayout",function(){$scope.gridOptions&&($scope.showCollapsedTags?($("#non-collapsed-tags").css("display","none"),$("#collapsed-tags").css("display","table-cell")):($("#collapsed-tags").css("display","none"),$("#non-collapsed-tags").css("display","table-cell")),$scope.gridOptions.api.doLayout())}),$scope.isShowFilterSection=!1,$scope.showFilterSection=function(){$scope.isShowFilterSection=!0},$scope.toggleFilterTooltip=function(e){var posX=e.clientX;if(!$(".filterRowTooltipClass").attr("class").match("fade in top")){var style=document.createElement("style");style.type="text/css",style.innerHTML=".filterRowTooltipClass { left: "+(posX-125)+" !important; }",document.getElementsByTagName("head")[0].appendChild(style)}},$scope.isVisibleForRow=function(){return GridService.isVisibleForRow($scope)},$scope.resetSearch=function(){SearchBarService.setSearch(""),$scope.searchInputChange("")},$scope.searchInputChange=function(searchText,force){return $scope.dataSummary.search=searchText,DataLoadingService.search(searchText,force,$scope)},SearchBarService.callback=$scope.searchInputChange,$scope.isSameMonth=function(filter){return moment(filter.value1).isSame(filter.value2,"month")},$scope.isSameYear=function(filter){return moment(filter.value1).isSame(filter.value2,"year")&&!$scope.isSameMonth(filter)},$scope.switchPaginate=function(pag){$scope.currentPagination=pag,$scope.isPagination=!0,$scope.searching()},$scope.toggleSelectAllFieldRaw=function(){var value=!$scope.isAllFieldsRawSelected();$scope.rawShowMeList.forEach(function(el){el.id.selected=value}),BookmarkEventService.emit(".raw.RawShowToggleAllEvent",{selected:value},$scope),doRefreshRawShows()},$scope.isAllFieldsRawSelected=function(){return _.every($scope.rawShowMeList,function(s){return s.id.selected})},$scope.toggleRawShow=function(show){show.id.selected=!show.id.selected,BookmarkEventService.emit(".raw.RawShowChangeEvent",{show:show.id},$scope),doRefreshRawShows()},$scope.toggleShowTotal=function(item){item.id.settings.showTotal=!item.id.settings.showTotal,BookmarkEventService.emit(getAggChangeShowTotalEventName(item),{key:item.id},$scope),DataLoadingService.updateShowTotals($scope)},$scope.getShowTotalsArray=function(){var pivotArray=$scope.dataSummary.pivot,aggsArray=$scope.dataSummary.aggs.slice(0,1);return _.union(pivotArray,aggsArray)},$scope.getSortClass=function(direction){return"ASC"===direction?"fa fa-sort-asc":"DESC"===direction?"fa fa-sort-desc":"fa fa-sort"},$scope.switchShowRawSort=function(show){if(!show.id.sort)show.id.sort={direction:getNextSortDirection(),priority:getNextPriority()};else{var nextDirection=getNextSortDirection(show.id.sort.direction);nextDirection?show.id.sort.direction=nextDirection:show.id.sort=null}BookmarkEventService.emit(".raw.RawShowChangeEvent",{show:show.id},$scope),doRefreshRawShows()},$scope.endSortFieldsRaw=function(item,to){BookmarkEventService.emit(".raw.RawShowMoveEvent",{key:item.id,toPosition:to},$scope)},$scope.doHandleRefresh=function(){$scope.refreshAvailable&&(0<$scope.dataSummary.filtersToRefresh.length&&_.set($scope,"filtersStatus.refreshing",!0),BookmarkEventService.emit(".request.ApplyRequestEvent",{},$scope))},$scope.doCancelRefresh=function(){BookmarkEventService.emit(".request.CancelRequestEvent",{},$scope);var tab=$scope.tabsSection.options.activeTab;tab.state.refreshAvailable=!1,tab.state.pendingQueryParams=_.cloneDeep(tab.state.queryParams),DataLoadingService.restore(tab,"#ag-grid",$scope,{suppressReloadingData:!0}),$scope.$emit("DoRebuildCollapsedTags"),$scope.updateShowMeAutocompleteList(),$scope.updateGroupByAutocompleteList()},$scope.onIngestColumnMoved=function(indexFrom,indexTo){$scope.updateIngestColumnsOrder(),$scope.previewGridOptions.columnApi.moveColumn(indexFrom,indexTo)},$scope.getAllSelectedIngestColumns=function(){return _.filter($scope.ingestDataSummary.columns,function(col){return col.settings&&!col.settings.removed&&!col.blank})},$scope.$on("uiSelectSort:change",function(event,args){var to=args.to;switch(args.id){case"shows-select":if(to++,isAggregatedData()&&to++,isMoveShowMe=!0,0<$scope.dataSummary.pivot.length)resetShows(args.array),DataLoadingService.onShowsOrderChangePivot($scope,args.array,args.to);else{var from=_.findIndex($scope.gridOptions.columnApi.getAllGridColumns(),function(col){return col.colDef.field===args.item.key});-1<from&&(resetShows(args.array),$scope.gridOptions.columnApi.moveColumn(from,to))}break;case"group-by-select":resetAggs(args.array),BookmarkEventService.emit(".aggs.AggMoveEvent",{key:args.item.id,toPosition:to},$scope),DataLoadingService.doRefreshIfNeeded($scope);break;case"pivot-by":resetPivot(args.array),BookmarkEventService.emit(".pivot.PivotMoveEvent",{key:args.item.id,toPosition:to},$scope),DataLoadingService.doRefreshIfNeeded($scope);break;case"import-fields":var offset=1,from=-1,to=-1,columns=$scope.ingestDataSummary.columns.slice();columns.sort(function(c1,c2){return c1.settings.index-c2.settings.index});for(var hidden=0,i=0;i<columns.length;i++)columns[i].settings.removed&&hidden++,0>from&&args.from===i-hidden&&(from=i),0>to&&args.to===i-hidden&&(to=i);$scope.previewGridOptions.columnApi.moveColumn(from+offset,to+offset);}}),$scope.closeIndex=function(){$state.go("main")},$scope.$on("$destroy",function(){$scope.cancelPreviewRequest(),$scope.cancelRequest(),$scope.previewGridOptions&&$scope.previewGridOptions.api&&$scope.previewGridOptions.api.destroy(!0),$scope.gridOptions&&$scope.gridOptions.api&&$scope.gridOptions.api.destroy(!0)}),$scope.goToVisualization=function(index,newTab){if(newTab){var url=$state.href("main.visualize",{id:index.id,pageMode:index.pageMode,preSave:!1});window.open(url,"_blank")}else $state.go("main.visualize",{id:index.id,pageMode:index.pageMode,preSave:!1})},$scope.goToDataModel=function(){$state.go("main.index-edit",{id:$scope.datadocId})},$scope.updateTable=function(){return $scope.selectedTable.name||($scope.selectedTable.name="Untitled datadoc"),$scope.isUpdating=!0,$http.post("/api/docs/"+$scope.selectedTable.id,{name:$scope.selectedTable.name,preSave:!1}).then(function(response){return $scope.isUpdating=!1,$scope.$emit("$titleChanged",$scope.selectedTable.name),WSocket.send("/doc/event",{"@type":"com.dataparse.server.service.docs.DatadocNameChangedEvent",datadocId:parseInt($scope.datadocId),renameTo:$scope.selectedTable.name}),response.data},function(e){cc.showError(e),$scope.isUpdating=!1})},ShareService.retrieveSharedInfo($scope.datadocId).then(function(sharedInfo){$scope.datadocSharedInfo=sharedInfo}).catch(function(err){console.error("Can not retrieve shared information about \""+$scope.selectedTable.name+"\"",err.status+" ("+err.statusText+")")}),$scope.shareWithDatadocMessage=function(){if($scope.datadocSharedInfo)return ShareService.shareWithMessage($scope.datadocSharedInfo)},$scope.openShareModal=_.partial(ShareService.openShareModal,$scope.datadocId,$scope),$scope.tabSwitcher=function(tab){_.forEach($scope.dataTabs,function(val,key){$scope.dataTabs[key]=key===tab})},$scope.isForbiddenTab=function(tab){var createdByUserId=_.get(tab,"createdByUser.id"),tableSchema=_.get(tab,"tableSchema");return createdByUserId?createdByUserId!==User.getCurrent().id&&!tableSchema.committed:void 0},$scope.setFocusElementBySelector=function(selector,delay){null==delay?$(selector).focus():$timeout(function(){$(selector).focus()},delay)},$scope.togglePageLoader=function(toggle){var backdrop=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1],innerText=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"";$rootScope.$broadcast("togglePageLoader-main-loader",{toggle:toggle,backdrop:backdrop,innerText:innerText})},$scope.togglePageLoaderCancelButton=function(cancelCallback){$rootScope.$broadcast("togglePageLoaderCancelButton-main-loader",cancelCallback)},$scope.cancelRequest=function(){$scope.currentRequest.canceler&&$scope.currentRequest.canceler.resolve(),$scope.inRequest=!1,$scope.togglePageLoader(!1)},$scope.removeAllShowMe=function(){$scope.deselectAllShowMe()},$scope.isHiddenShowAll=function(){return $scope.dataSummary.aggs.length||$scope.dataSummary.pivot.length||0<$scope.dataSummary.shows.length},$scope.isHiddenIngestColumnsAll=function(){return $scope.ingestDataSummary.selectedSources.length&&_.every($scope.ingestDataSummary.columns,function(col){return col.settings&&!!col.settings.removed})},$scope.isCheckedIngestColumnsAll=function(){return $scope.ingestDataSummary.selectedSources.length&&_.every($scope.ingestDataSummary.columns,function(col){return col.settings&&!col.settings.removed})},$scope.isCheckedShowAll=function(){return $scope.dataSummary.aggs.length||$scope.dataSummary.pivot.length||0===$scope.dataSummary.shows.length},$scope.isHiddenShowMe=function(col,$select){if(col.isAll)return!0;return 2<=$select.search.length?isRawData()?col.operation:!col.operation:!col.isCountAgg&&col.operation},$scope.isCheckedShowMe=function(col){return!isRawData()&&$scope.showGrouppedByAggs(col.field)||col.operation&&!isRawData()&&$scope.showMeColChecked(col)||!col.operation&&isRawData()&&$scope.showMeColChecked(col)},$scope.isCheckedSourceTag=function(col){return!!_.find($scope.ingestDataSummary.selectedSources,{id:col.id})},$scope.isIngestColChecked=function(col){return!!_.find($scope.ingestDataSummary.selectedColumns,{id:col.id})},$scope.showMeAll=function($event){resetShows(_.filter($scope.showMeList,function(s){return null==s.id.op}));var events=_.map($scope.dataSummary.shows,function(show){return{"@type":".shows.ShowAddEvent",key:show.id}});DataLoadingService.doRefreshIfNeeded($scope),$event.stopPropagation(),$event.preventDefault(),BookmarkEventService.emit(".BookmarkVizCompositeStateChangeEvent",{events:events},$scope)},$scope.deselectAllShowMe=function($event){$event&&($event.stopPropagation(),$event.preventDefault());var events=_.map($scope.dataSummary.shows,function(show){return{"@type":".shows.ShowRemoveEvent",key:show.id}});BookmarkEventService.emit(".BookmarkVizCompositeStateChangeEvent",{events:events},$scope),removeAllShows()},$scope.toggleAllIngestColumns=function(event){$scope.isCheckedIngestColumnsAll()?$scope.deselectAllIngestColumns(event):$scope.selectAllIngestColumns(event)},$scope.deselectAllIngestColumns=function($event){$event&&($event.stopPropagation(),$event.preventDefault()),$scope.removeAllIngestColumns()},$scope.selectAllIngestColumns=function($event){$event&&($event.stopPropagation(),$event.preventDefault()),_.each($scope.ingestDataSummary.columns,function(c){c.settings.removed=!1}),$scope.updateSelectedIngestColumns(),$scope.pageMode===$scope.PAGE_MODE.INGEST&&($scope.updateIngestSettings(!0),IngestDataLoadingService.toggleColumns($scope.ingestDataSummary.columns,!0,$scope))},$scope.fixedIfFloat=function(x){return!(x%1)?x:parseFloat(x.toFixed(2))},$scope.onHiddenFilterInputBlur=function(){$timeout(function(){$scope.$broadcast("BlurOnSelectInput","filter-by-select")},200)};var resetShowMeInput=function($select){$select&&($select.resetBlurTimeout(),$select.search="")};$scope.showMeOnRemove=function(item,isSubMenu,$select){resetShowMeInput($select),_.remove($scope.dataSummary.shows,{key:item.key}),_.isEmpty($scope.dataSummary.shows)&&DataLoadingService.updateShowTotals($scope),$scope.gridOptions.columnApi.setColumnsVisible([item.key],!1),BookmarkEventService.emit(".shows.ShowRemoveEvent",{key:item.id},$scope),$scope.$emit("tags-changed",{type:"show",op:"remove",tag:item}),$scope.gridOptions.api.sizeColumnsToFit()},$scope.showMeOnSelect=function(item,isSubMenu,$select,newPosition){var emitAddEvent=function(){BookmarkEventService.emit(".shows.ShowAddEvent",{key:item.id,toPosition:newPosition},$scope),DataLoadingService.doRefreshIfNeeded($scope)};if(resetShowMeInput($select),!item.isCountAgg&&isSubMenu){var isTheSameShow=_.find($scope.dataSummary.shows,{key:item.key});isTheSameShow?(_.remove($scope.dataSummary.shows,isTheSameShow),$scope.gridOptions.columnApi.setColumnsVisible([item.key],!1),$scope.gridOptions.api.sizeColumnsToFit(),BookmarkEventService.emit(".shows.ShowRemoveEvent",{key:item.id},$scope),_.isEmpty($scope.dataSummary.shows)&&DataLoadingService.updateShowTotals($scope)):(null==newPosition?$scope.dataSummary.shows.push(item):$scope.dataSummary.shows=[].concat($scope.dataSummary.shows.slice(0,newPosition),item,$scope.dataSummary.shows.slice(newPosition)),emitAddEvent())}else isSubMenu||emitAddEvent();$scope.$emit("tags-changed",{type:"show",op:"add",tag:item})},$scope.$on("update-show-me-list",function(e,options,alreadySorted){_.each($scope.dataSummary.shows,function(s){_.each(options,function(o){s.name&&s.name===o[0].name&&(s.order=o[0].order)})}),$scope.dataSummary.shows=_.sortBy($scope.dataSummary.shows,alreadySorted?"name":"order"),DataLoadingService.doRefreshIfNeeded($scope)}),$scope.$on("update-columns-header",function(){DataLoadingService.recreateColumns($scope,!0)}),$scope.toggleIngestColumn=function(item){var isRemoved=!item.settings.removed;$scope.setRemovedIngestColumn(item,isRemoved),$scope.updateSelectedIngestColumns(),$scope.pageMode===$scope.PAGE_MODE.INGEST&&($scope.updateIngestSettings(!0),IngestDataLoadingService.toggleColumns([item],!isRemoved,$scope))},$scope.onIngestColumnsSelect=function(item,isSubMenu,$select){$select&&$select.resetBlurTimeout();var isRemoved=!1;isSubMenu&&(isRemoved=!!_.find($scope.ingestDataSummary.selectedColumns,{id:item.id})),$scope.setRemovedIngestColumn(item,isRemoved),$scope.updateSelectedIngestColumns(),$scope.updateIngestSettings(!0),IngestDataLoadingService.toggleColumns([item],!isRemoved,$scope)},$scope.updateSelectedIngestColumns=function(){$scope.ingestDataSummary.selectedColumns=_.filter(_.sortBy($scope.ingestDataSummary.columns,"settings.index"),function(c){return!c.settings.removed&&!c.blank})},$scope.setRemovedIngestColumn=function(item,removed){var col=_.find($scope.ingestDataSummary.columns,{id:item.id});col.settings.removed=removed},$scope.updateIngestColumnsOrder=function(){_.each($scope.ingestDataSummary.columns,function(c,i){c.settings.index=i})},$scope.onIngestColumnsRemove=function(item){$scope.setRemovedIngestColumn(item,!0),$scope.updateSelectedIngestColumns(),$scope.updateIngestSettings(!0),$scope.updateIngestColumnsAutocompleteList(),IngestDataLoadingService.toggleColumns([item],!1,$scope)},$scope.removeAllIngestColumns=function(){_.each($scope.ingestDataSummary.columns,function(c){c.settings.removed=!0}),$scope.ingestDataSummary.selectedColumns=[],$scope.pageMode===$scope.PAGE_MODE.INGEST&&($scope.updateIngestSettings(!0),IngestDataLoadingService.toggleColumns($scope.ingestDataSummary.columns,!1,$scope))},$scope.subMenuShowCountSelect=function(item,$select,$event){delete $scope.dataSummary.filter,resetShows([item]),resetAggs([_.find($scope.groupByList,{key:item.field})]),DataLoadingService.doRefreshIfNeeded($scope),$timeout(function(){$select.resetBlurTimeout(),$select.resetChoicesPosition()}),$event.stopPropagation(),$event.preventDefault()},$scope.subMenuShowItemSelect=function(item,$select){var col=_.find($scope.dataSummary.shows,{key:item.key});col?$scope.showMeOnRemove(item,!0):$scope.showMeOnSelect(item,!0),$timeout(function(){$select.resetBlurTimeout(),$select.resetChoicesPosition()})},$scope.showGrouppedByAggs=function(colField){var grouppedBy=_.groupBy($scope.dataSummary.shows,{field:colField}),string="";return _.forEach(grouppedBy.true,function(item){item.operation&&(string+=""==string?": ":", ",string+=item.showListView)}),string},$scope.showMeColChecked=function(col){return"undefined"!=typeof _.find($scope.dataSummary.shows,{key:col.key})},$scope.removeFromShowsMe=function(col,e,$select){!col.isCountAgg&&isRawData()||col.operation||(e.preventDefault(),e.stopPropagation()),$select&&$select.resetBlurTimeout(),$scope.setFocusElementBySelector("#shows-select input")},$scope.isShowSubmenuToTheRight=function(){var $menu=$(".ui-select-choices.ui-select-choices-content.ui-select-dropdown:visible");return 200>$("body").width()-($menu.offset().left+$menu.width())},$scope.groupBySummarySelect=function(item,$model,$select,newPosition){$select&&$select.resetBlurTimeout(),_.find($scope.dataSummary.aggs,item)||(null==newPosition?$scope.dataSummary.aggs.push(item):$scope.dataSummary.aggs=[].concat($scope.dataSummary.aggs.slice(0,newPosition),item,$scope.dataSummary.aggs.slice(newPosition)),BookmarkEventService.emit(".aggs.AggAddEvent",{key:item.id,toPosition:newPosition},$scope)),cleanShows(),resetAggs($scope.dataSummary.aggs),(isAggregatedData()||DataLoadingService.isPivotTable($scope))&&DataLoadingService.doRefreshIfNeeded($scope),$scope.$emit("tags-changed",{type:"agg",op:"add",tag:item})},$scope.groupBySelectOnRemove=function(item,$select){restoreShows(item),$select&&$select.resetBlurTimeout(),resetAggs($scope.dataSummary.aggs),BookmarkEventService.emit(".aggs.AggRemoveEvent",{key:item.id},$scope),DataLoadingService.doRefreshIfNeeded($scope),$scope.$emit("tags-changed",{type:"agg",op:"remove",tag:item})},$scope.removeAllGroupBy=function(){var events=_.map($scope.dataSummary.aggs,function(agg){return{"@type":".aggs.AggRemoveEvent",tabId:$scope.tabId,key:agg.id}});resetAggs([]),removeGroup(events)},window.moment=moment,$scope.groupPivotBySummarySelect=function(item,$model,$select,newPosition){_.find($scope.dataSummary.pivot,item)||(null==newPosition?$scope.dataSummary.pivot.push(item):$scope.dataSummary.pivot=[].concat($scope.dataSummary.pivot.slice(0,newPosition),item,$scope.dataSummary.pivot.slice(newPosition)),BookmarkEventService.emit(".pivot.PivotAddEvent",{key:item.id,toPosition:newPosition},$scope)),cleanShows(),resetPivot($scope.dataSummary.pivot),$scope.$emit("tags-changed",{type:"pivot",op:"add",tag:item}),DataLoadingService.doRefreshIfNeeded($scope)},$scope.groupPivotBySelectOnRemove=function(item){restoreShows(item),resetPivot($scope.dataSummary.pivot),$scope.$emit("tags-changed",{type:"pivot",op:"remove",tag:item}),BookmarkEventService.emit(".pivot.PivotRemoveEvent",{key:item.id},$scope),DataLoadingService.doRefreshIfNeeded($scope)},$scope.$on("tags-changed",function(e,data){if("agg"===data.type||"pivot"===data.type){if("add"===data.op)$scope.viewMode=cc.getViewModes().TABLE;else if("remove"===data.op){var events=[],model,pathModel;"agg"===data.type?(model=$scope.dataSummary.pivot,pathModel=$scope.dataSummary.aggs):(model=$scope.dataSummary.aggs,pathModel=$scope.dataSummary.pivot),_.forEach(model,function(item){var sort=item.id.settings.sort;sort.aggKeyPath&&sort.aggKeyPath.length&&(sort.aggKeyPath.splice(pathModel.length),events.push({"@type":getAggChangeSortEventName(item),key:item.id}))}),events.length&&BookmarkEventService.emit(".BookmarkVizCompositeStateChangeEvent",{events:events},$scope)}"pivot"===data.type&&resetPivotOrder(),0!==$scope.dataSummary.pinnedRowsCount&&DataLoadingService.smartEmit($scope,EventNames.CHANGE_PINNED_COUNT.ROWS,0),0!==$scope.dataSummary.pinnedColsCount&&DataLoadingService.smartEmit($scope,EventNames.CHANGE_PINNED_COUNT.COLS,0),$scope.updateGroupByAutocompleteList(),$scope.updateShowMeAutocompleteList()}else if("show"===data.type){if("remove"===data.op&&(0<$scope.dataSummary.aggs.length||0<$scope.dataSummary.pivot.length)){var events=[],items=$scope.dataSummary.aggs.concat($scope.dataSummary.pivot);_.forEach(items,function(item){var sort=item.id.settings.sort;data.tag.key===sort.field&&(sort.isCount=!1,sort.type="BY_KEY",sort.field=null,sort.aggKeyPath=null,sort.direction="ASC",events.push({"@type":getAggChangeSortEventName(item),key:item.id}))}),events.length&&BookmarkEventService.emit(".BookmarkVizCompositeStateChangeEvent",{events:events},$scope),$scope.dataSummary.pivot.length&&resetPivotOrder()}0!==$scope.dataSummary.pinnedRowsCount&&DataLoadingService.smartEmit($scope,EventNames.CHANGE_PINNED_COUNT.ROWS,0),0!==$scope.dataSummary.pinnedColsCount&&DataLoadingService.smartEmit($scope,EventNames.CHANGE_PINNED_COUNT.COLS,0)}}),$scope.$on("data-request-started",function(){}),$scope.removeAllGroupPivotBy=function(){var events=_.map($scope.dataSummary.pivot,function(piv){return{"@type":".pivot.PivotRemoveEvent",tabId:$scope.tabId,key:piv.id}});resetPivot([]),removeGroup(events)},$scope.isRawData=isRawData,$scope.keydownColumnName=function(column,event){27===event.which?(column.rename=column.displayName,event.target.blur(),event.preventDefault(),event.stopPropagation()):13===event.which&&(column.edited=!1,event.target.blur(),event.preventDefault(),event.stopPropagation())};$scope.updateGroupByAutocompleteList=function(){var colNameFormat=$scope.tabsSection.options.activeTab.state.colNameFormat;$scope.groupByContextMenuOptions.options=getGroupByOptions($scope.groupBySummarySelect,colNameFormat),$scope.pivotByContextMenuOptions.options=getGroupByOptions($scope.groupPivotBySummarySelect,colNameFormat),$scope.$broadcast("refresh-context-menu")},$scope.updateShowMeAutocompleteList=function(){var shows=_.filter($scope.showMeList,function(s){return!s.id.op});if(!isRawData())$scope.showMeContextMenuOptions.options=_.map(shows,function(s){return[createShowMeContextMenuObjWithAngular(s),getShowMeColumnsForContextMenu(s)]}),$scope.showMeContextMenuOptions.isShowButton=!1;else{var showsArr=[[createSelectingObjForContextMenuWithAngular(),function(scope,event){$scope.isHiddenShowAll()?$scope.deselectAllShowMe(event):$scope.showMeAll(event)}]],order=0;showsArr=showsArr.concat(_.map(shows,function(s){return order++,[createShowMeContextMenuObjForShows(s,s.showName,order),getOnShowMeContextMenuClickFn(s,$scope.isCheckedShowMe)]})),$scope.showMeContextMenuOptions.options=showsArr,$scope.showMeContextMenuOptions.isShowButton=!0}$scope.showMeAutoCompleteList=_.filter($scope.showMeList,function(s){return isRawData()?!s.id.op:s.id.op})},$scope.updateIngestColumnsAutocompleteList=function(){var descriptor=$scope.previewDescriptor;descriptor||(descriptor={columns:[]});var columns=_.cloneDeep(descriptor.columns),columnsArr=[];columnsArr.push([createSelectDeselectObjForContextMenuWithAngular(),function($scope,event,arg,element){var contextMenuIcon=element.parent().parent().find(".context-menu-icon");$scope.isHiddenIngestColumnsAll()?(contextMenuIcon.addClass("fa-check"),$scope.selectAllIngestColumns(event)):(contextMenuIcon.removeClass("fa-check"),$scope.deselectAllIngestColumns(event))}]),columnsArr.push.apply(columnsArr,_toConsumableArray2(_.map(columns,function(c){return[createIngestColumnsContextMenuObj(c,c.settings.rename||c.name,$scope.isIngestColChecked),getOnIngestColumnsContextMenuClickFn(c,$scope.isIngestColChecked)]}))),$scope.ingestColumnsContextMenuOptions.options=columnsArr,$scope.ingestColumnsAutoCompleteList=columns},$scope.isDisableChoice=function(col){return!col.operation&&!isRawData()&&(!_.some($scope.dataSummary.aggs,{key:col.field})||_.some($scope.dataSummary.shows,{key:col.key}))},$scope.sortMatchFn=function(match){var smatch=match.split(/\W+/);return function(value){var searchValue=[value.col.name];return value.type?(searchValue.push(value.type),value.isCount&&searchValue.push("COUNT")):value.item&&value.item.op.name&&searchValue.push(value.item.op.name),value.id.pivot&&(searchValue=searchValue.concat(_.map(value.id.pivot,function(el){return el+""}))),_.every(smatch,function(m){return _.some(searchValue,function(sv){return sv?-1<sv.toLowerCase().indexOf(m.toLowerCase()):""})})}},$scope.matchFn=function(match,brokenDown){var smatch=match.split(/\W+/);return function(value){var searchValue=brokenDown?[value.selectedName,value.displayName]:[value.showName,value.op.name];return _.every(smatch,function(m){return _.some(searchValue,function(sv){return sv?-1<sv.toLowerCase().indexOf(m.toLowerCase()):""})})}},$scope.ingestColumnsMatchFn=function(match){var smatch=match.split(/\W+/);return function(value){var searchValue=value.name;return _.every(smatch,function(m){return searchValue?-1<searchValue.toLowerCase().indexOf(m.toLowerCase()):""})}},$scope.filterGroupBy=function(){return _.filter($scope.groupByList,function(g){return!_.find(_.union($scope.dataSummary.pivot,$scope.dataSummary.aggs),{key:g.key})})},$scope.downloader=ExportService.downloader,ExportService.checkPendingExports($scope),$scope.isDefaultState=function(){return $scope.tabsSection.options.activeTab.currentState===$scope.tabsSection.options.activeTab.defaultState},$scope.selectedViewStateId=$stateParams.stateId,$scope.onSaveCurrentState=function(name){var request={tabId:$scope.tabId,name:name,stateId:$scope.bookmarkStateId.stateId};$http.post("/api/docs/bookmarks/save_state",request).then(function(response){$scope.setNameForStateModal.close(),$scope.allBookmarkStates=response.data.allBookmarkStates,$scope.tabsSection.options.activeTab.currentState=response.data.currentState,$scope.selectedViewStateId=response.data.currentState;var newStateParams={pid:response.data.bookmarkStateId.tabId,stateId:response.data.bookmarkStateId.stateId};$scope.firstRequestApplied=!1,$state.transitionTo($scope.currentState,_.merge({},$stateParams,newStateParams),{notify:!1,location:"replace"}),cc.notify({message:"Successfully saved view \""+name+"\"",icon:"success",wait:2})}).catch(function(err){cc.showError(err),$scope.setNameForStateModal.close()})},$scope.saveCurrentState=function(){$scope.setNameForStateModal=$uibModal.open({templateUrl:"static/templates/include/set-name-modal.html",animation:!0,scope:$scope,size:"md",windowClass:"tiny-modal"})},$scope.cancelDeleteViewModal=function(){$scope.deleteStateModal&&($scope.deleteStateModal.close(),$scope.deleteViewOptions={})},$scope.removeState=function($event,_ref13){var stateId=_ref13.uuid,tabId=_ref13.tabId,name=_ref13.name;$event.stopPropagation(),$scope.deleteViewOptions={name:name},$scope.deleteStateModal=$uibModal.open({templateUrl:"static/templates/include/delete-view.html;",scope:$scope,animation:!0,size:"md",keyboard:!0}),$scope.deleteViewOptions.deleteBookmarkState=function(){$scope.cancelDeleteViewModal();var currentStateId=$scope.tabsSection.options.activeTab.currentState,defaultStateId=$scope.tabsSection.options.activeTab.defaultState;$scope.allBookmarkStates=$scope.allBookmarkStates.filter(function(el){return el.uuid!==stateId}),$http.delete("/api/docs/bookmarks/state/"+tabId+"/"+stateId).then(function(){var newStateParams=_.omit($stateParams,"stateId");if($scope.firstRequestApplied=!1,currentStateId===stateId){var activeTab=$scope.tabsSection.options.activeTab;activeTab.currentState=defaultStateId,$scope.bookmarkStateId.stateId=defaultStateId,$scope.tabsSection.restoreTab(activeTab,!1,!0)}$state.transitionTo($scope.currentState,_.merge({},newStateParams),{notify:!1,location:"replace"}),cc.notify({message:"Successfully removed view \""+name+"\"",icon:"success",wait:2})}).catch(function(){cc.showError({message:"Failed to remove view '"+name+"'."})})}},$scope.changeBookmarkState=function(_ref14,resetFirstRequest){var tabId=_ref14.tabId,stateId=_ref14.uuid;return $http.post("/api/docs/bookmarks/change_bookmark_state",{tabId:tabId,stateId:stateId}).then(function(resp){$scope.firstRequestApplied=!resetFirstRequest,$scope.selectedViewStateId=resp.data.state.id,$scope.tabsSection.refreshActiveTab(!1,stateId)}).catch(function(err){cc.showError(err)})},$scope.presetDefaultState=function(){var _ref16=_asyncToGenerator(regeneratorRuntime.mark(function _callee9(_ref15){var tabId=_ref15.tabId,stateId=_ref15.stateId,toCleanState=_ref15.toCleanState;return regeneratorRuntime.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.abrupt("return",$http.post("/api/docs/bookmarks/preset_default",{bookmarkStateId:{tabId:tabId,stateId:stateId},toCleanState:toCleanState}).then(function(resp){var _resp$data=resp.data,uuid=_resp$data.defaultState,tabId=_resp$data.id;$scope.changeBookmarkState({tabId:tabId,uuid:uuid},toCleanState)}).catch(function(err){console.error(err)}));case 1:case"end":return _context9.stop();}},_callee9,_this12)}));return function(){return _ref16.apply(this,arguments)}}(),$scope.prepareExport=function(format){$timeout(function(){return $scope.exportDropdownSettings.opened=!1},500),("XLS"===format||"XLS_WORKBOOK"===format)&&isRawData()&&2e6<$scope.totalSize?($scope.exportFormat=format,$scope.exportWarningMessage="Results size exceeds Excel limits (2M rows). Would you like to export limited results?",$scope.exportWarningModal=$uibModal.open({templateUrl:"static/templates/include/export-warning.html",scope:$scope,animation:!0,size:"sm",windowClass:"preview-format-modal"})):$scope.proceedExport(format)},$scope.proceedExport=function(format){var tabIds=[];"XLS_WORKBOOK"!==format&&(tabIds=[$scope.tabId]),ExportService.prepareExport($scope.datadocId,tabIds,format,$scope)},$scope.closeExportWarningModal=function(){$scope.exportWarningModal.dismiss()},$scope.isShowRefreshDropdown=!1,$scope.isRefreshingNow=!1,$scope.toggleRefreshDropdown=function(){$scope.isShowRefreshDropdown=!$scope.isShowRefreshDropdown,$scope.isShowRefreshDropdown&&restoreRunningSchedule()},$scope.closeRefreshDropdown=function(){$scope.isShowRefreshDropdown&&$scope.toggleRefreshDropdown()},$scope.refreshNow=function(){$scope.isRefreshingNow=!0,$timeout(function(){$scope.updateIngestSettingsAndCommit(function(){return!0}).then(function(){$scope.closeRefreshDropdown()})})},$scope.isShowLimitDropdown=!1,$scope.toggleLimitDropdown=function(){$scope.isShowLimitDropdown=!$scope.isShowLimitDropdown},$scope.closeLimitDropdown=function(){$scope.isShowLimitDropdown&&$scope.toggleLimitDropdown()},$scope.isShowIngestOtherSettingsDropdown=!1,$scope.toggleIngestOtherSettingsDropdown=function(){$scope.isShowIngestOtherSettingsDropdown=!$scope.isShowIngestOtherSettingsDropdown,$scope.isShowIngestOtherSettingsDropdown&&$scope.closeDelimiterStickyNote()},$scope.closeIngestOtherSettingsDropdown=function(){$scope.isShowIngestOtherSettingsDropdown&&$scope.toggleIngestOtherSettingsDropdown()},$scope.isShowEmbedDropdown=!1,$scope.previewEmbed=EmbedService.preview,$scope.$on("embed-settings-saved",function(e,data){if($scope.tabsSection.options.activeTab.embedSettings=data.settings,data.duplicateTab){var tab=$scope.tabsSection.options.activeTab;tab.name+=" (Embed)",$scope.tabsSection.doRenameTab(tab),$scope.tabsSection.duplicateTab()}}),$scope.selectDataSummaryBack=function(){DataLoadingService.selectDataSummaryBack($scope)},$scope.onViewModeSelected=function(viewMode){$scope.viewMode=viewMode,BookmarkEventService.emit(".ViewModeChangeEvent",{viewMode:viewMode},$scope)},$scope.onExportRawDataLimitChanged=function(){BookmarkEventService.emit(".RawDataExportLimitChangeEvent",{limit:$scope.dataSummary.limit.rawDataExport},$scope)},$scope.getViewModeTooltip=function(type){return VIEW_MODE_OPTIONS[type].desc},$scope.isViewModeSelected=function(viewMode){return $scope.viewMode===viewMode},$scope.isAllowedViewMode=function(code){switch(code){case VIEW_MODES.COLUMN:case VIEW_MODES.BAR:case VIEW_MODES.LINE:case VIEW_MODES.AREA:case VIEW_MODES.PIE:case VIEW_MODES.MAP:case VIEW_MODES.SCATTER:return!1;case VIEW_MODES.TABLE:return!0;case VIEW_MODES.LIST:return isRawData();default:throw"Unknown chart type: "+code;}},$scope.getViewModeIcon=function(code){switch(code){case VIEW_MODES.COLUMN:return"fa-bar-chart";case VIEW_MODES.BAR:return"fa-bar-chart rotate-90-and-flip-vertical";case VIEW_MODES.PIE:return"fa-pie-chart";case VIEW_MODES.LINE:return"fa-line-chart";case VIEW_MODES.AREA:return"fa-area-chart";case VIEW_MODES.MAP:return"fa-globe";case VIEW_MODES.SCATTER:return"cf-scatter-plot";case VIEW_MODES.TABLE:return"fa-table";case VIEW_MODES.LIST:return"fa-search";default:throw"Unknown chart type: "+code;}},$scope.openLink=function(link){$window.open(link,"_blank")},$scope.onTabsDropdownToggled=function($event,tab){(tab.dropdownOpened||!$scope.isCommitRunning(tab.id))&&(tab.dropdownOpened=!tab.dropdownOpened)},$scope.historyHandler=new HistoryHandlerService($scope),$scope.tabsSection=new TabsSection($scope),$scope.moveTabs=function(action){var tabsList=$("#tabs-list"),left=parseInt(tabsList.css("left")),leftShadow=$("#tabs-list-wrapper .left-shadow"),rightShadow=$("#tabs-list-wrapper .right-shadow"),currentTabsWidthWithoutOverflow=.7*(document.body.clientWidth-110-20),tabsWidth=currentTabsWidthWithoutOverflow-tabsList.width();"right"===action?(leftShadow.removeClass("hidden"),left-=80,left<=tabsWidth&&(left=tabsWidth),left===tabsWidth&&rightShadow.addClass("hidden")):(rightShadow.removeClass("hidden"),left+=80,0<left&&(left=0),0===left&&leftShadow.addClass("hidden")),tabsList.css("left",left)},$scope.snakeCase=function(text){return _.snakeCase(text)},$scope.$on("onResize-visualization-filters",function(){$rootScope.$broadcast("reCalcViewDimensions"),$scope.gridOptions&&$scope.gridOptions.api&&$scope.gridOptions.api.doLayout()}),$scope.setMaxHeightOnElement=function(selector){void 0==selector&&(selector=".ui-select-choices.dropdown-menu:not(.ng-hide)");var element=$(selector),bodyHeight,maxHeight;element.length&&(bodyHeight=$(window).height(),maxHeight=bodyHeight-element.offset().top-10,element.css("max-height",maxHeight+"px"))},$scope.$on("onResizeFinished-visualization-filters",function(){$scope.resizeChart(),$rootScope.$broadcast("sizeSearchInput")}),$scope.toggleRightFilters=function(){$scope.isShowFilters=!$scope.isShowFilters,$scope.tabsSection.options.activeTab.state.showFilters=$scope.isShowFilters,$scope.isShowFilters?($scope.$broadcast("expand-visualization-filters"),BookmarkEventService.emit(".ToggleFiltersEvent",{show:!0},$scope)):($scope.$broadcast("collapse-visualization-filters"),BookmarkEventService.emit(".ToggleFiltersEvent",{show:!1},$scope))},$(document).mousedown(function(event){var target=$(event.target);(!_.isEmpty(target.closest(".CodeMirror-scroll"))||!_.isEmpty(target.closest(".CodeMirror-line")))&&$scope.previewGridOptions&&$scope.previewGridOptions.api?($scope.previewGridOptions.api.clearFocusedCell(),$scope.previewGridOptions.api.clearRangeSelection()):_.isEmpty(target.closest("#ag-grid"))&&_.isEmpty(target.closest(".data-format"))&&_.isEmpty(target.closest(".settings"))&&_.isEmpty(target.closest(".ag-menu"))&&$scope.gridOptions&&$scope.gridOptions.api&&($scope.gridOptions.api.clearFocusedCell(),$scope.gridOptions.api.clearRangeSelection())}).keydown(function(objEvent){return!("INPUT"!==objEvent.target.nodeName)||!(objEvent.ctrlKey&&65===objEvent.keyCode)&&void 0}),$scope.showSortSettingsDropdown=function($event,item){var sortSectionItem=SortSectionService.getDataItem($scope,item),childScope=$scope.$new();childScope.item=sortSectionItem,childScope.getShowTotalsArray=$scope.getShowTotalsArray,childScope.toggleShowTotal=function(item){return $scope.toggleShowTotal(item.itemFromModel)};var targetRect=$event.currentTarget.getBoundingClientRect(),subMenu=$compile(angular.element("<sort-settings-dropdown></sort-settings-dropdown>"))(childScope);childScope.closeDropdown=function(){subMenu.remove()},childScope.$on("closeSortSettingsDropdown",childScope.closeDropdown),$("body").append(subMenu),$timeout(function(){subMenu.css({left:targetRect.left-subMenu.width()+targetRect.width+4,top:targetRect.bottom})})},$(document).ready(function(){$(window).resize(function(){$scope.setMaxHeightOnElement()}),$timeout(function(){window.$scope=angular.element($("#wrapper")).scope(),window.clr=function(){localStorage.clear()}},1e3)})}])}),!function(){var e={debug:!1,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,COLON:186,EQUALS:187,UNDERSCORE:189,QUESTION_MARK:191,TILDE:192,OPEN_BRACKET:219,BACKWARD_SLASH:220,CLOSED_BRACKET:221,QUOTES:222,LESS_THAN:188,GREATER_THAN:190,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,HELP:47,NUM_LOCK:144},o=[],E=!1,t=!1,r=function(n){E||(e.debug&&!o[n.keyCode]&&console.log("Key pressed: "+n.keyCode),o[n.keyCode]=!0)},A=function(n){E||(e.debug&&o[n.keyCode]&&console.log("Key released: "+n.keyCode),o[n.keyCode]=!1)},d=function(){for(var t in o)o.hasOwnProperty(t)&&(o[t]=!1);E=!0,e.debug&&console.log("Target lost focus")},n;_restartKeys=function _restartKeys(){E=!1,e.debug&&console.log("Target received focus")},e.startCapture=function(o){o=o||window,t&&e.endCapture(),n=o,n.addEventListener("keydown",r),n.addEventListener("keyup",A),n.addEventListener("blur",d),n.addEventListener("focus",_restartKeys),t=!0,e.debug&&console.log("Capture started")},e.endCapture=function(){t&&(n.removeEventListener("keydown",r),n.removeEventListener("keyup",A),n.removeEventListener("blur",d),n.removeEventListener("focus",_restartKeys),n=null,t=!1,e.resetKeys(null),e.debug&&console.log("Capture ended"))},e.isDown=function(e){return!E&&void 0!=o[e]&&null!=o[e]&&1==o[e]},"undefined"==typeof module?window.KeyJS=e:module.exports=e}(),define("KeyJS",function(global){return function(){var ret;return ret||global.KeyJS}}(this)),define("modules/main/controllers/uploadsCtrl",["./module","angular","common","lodash","moment","KeyJS","notifications-utils"],function(controllers,angular,common,_,moment,KeyJS,NotificationsUtils){"use strict";controllers.controller("uploadsCtrl",["$scope","$rootScope","$http","$compile","$uibModal","$sce","$q","$timeout","$filter","WSocket","$document","User","UserStateService","$state","$window","SourceService","SortSectionColumnsService","SortDirection","SearchBarService","SectionNamesService","SearchService","HistoryService","UploaderService","BookmarkCommitService","UserEventService","ShareService","RecentSourcesService","DbSourceService",function($scope,$rootScope,$http,$compile,$uibModal,$sce,$q,$timeout,$filter,WSocket,$document,User,UserStateService,$state,$window,SourceService,SortSectionColumnsService,SortDirection,SearchBarService,SectionNamesService,SearchService,HistoryService,UploaderService,BookmarkCommitService,UserEventService,ShareService,RecentSourcesService,DbSourceService){function sendCreateDatadocRequest(source,preSave){return $http({method:"POST",url:"/api/docs",data:{name:"Untitled datadoc",sourcePath:source&&"id:"+source.id,preSave:preSave}})}function scrollToItem(id){var offset=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,item=$(".sources-section .upload-item input.uid[value=\""+id+"\"]").closest(".main-page-ds-pane"),parent=item.parent(),position=item.position();parent&&position&&parent.animate({scrollTop:position.top+parent.scrollTop()+offset},200),$scope.selectedUploads=[SourceService.get(id)]}function setSearchResults(){$timeout(function(){if($scope.selectedUploads=[],SearchService.getSearchText()){var searchResultFiles=_.map(SearchService.getList(),function(file){return file.ingestingProgress=_.get(SourceService.get(file.id),"ingestingProgress"),file});$scope.searchResultsFiles=searchResultFiles}else $scope.toggleActiveSection(SECTIONS.MY_DATA);$scope.columnsSections.searchResultsSources=SortSectionColumnsService.genSortColumnsOptions($scope,!0),$scope.searchInput.keepClosed=!1})}function isAllowFileDownload(u){return u&&u.descriptor&&!u.descriptor.remote}function isUploadSelected(u){return _.some($scope.selectedUploads,function(upload){return upload.id===u.id})}function uploadHighlightStatus(u){var checkItem=$scope.highlightedUpload.id===u.id,isInSelected=!!_.find($scope.selectedUploads,function(upload){return upload.id===u.id});return checkItem&&isInSelected?"selected":checkItem&&!isInSelected?"non-selected":"not-highlight"}function isFolder(u){return"folder"===_.get(u,"type")}function isDatadoc(u){return"doc"===_.get(u,"type")}function getAllSortedUploads(){switch($scope.activeSection){case SECTIONS.SEARCH:return $scope.searchResultsFiles;default:return $scope.getUploads();}}function getHistoryActionMessage(message){return $scope.historyActionMessage=message,$compile($("<span>"+"<span style=\"flex-grow: 100\">{{ historyActionMessage | limitTo : 100}}</span>"+"<a style=\"padding-left: 20px\" ng-click=\"undoLastAction()\">UNDO</a>"+"</span>"))($scope)}function doMoveSource(files,oldFolder,newFolder){function move(to){return $http.post("/api/files/move",{fromPaths:ids,toPath:to?"id:"+to.id:""}).catch(common.showError)}var ids=_.map(files,function(u){return"id:"+u.id});HistoryService.do({redo:function redo(){return move(newFolder).then(function(){$scope.resetSources({keepSize:!0})})},undo:function undo(){return move(oldFolder).then(function(){$scope.resetSources({keepSize:!0})})},notify:getHistoryActionMessage("Moved "+ids.length+" file"+(1<ids.length?"s":"")+" to "+(newFolder?newFolder.name:"Sources"))})}function containsDocs(items){return _.some(items,function(item){return isDatadoc(item)})}function showSourceModal(){$scope.resetUploaderUrl(),$scope.sourceModal=$uibModal.open({templateUrl:"static/templates/include/add-source.html;",scope:$scope,animation:!0,size:"md"})}function updateServerTimeDiff(res){var serverTime=new Date(res.headers().date).getTime(),clientTime=new Date(Date.now()).getTime();$scope.serverTimeDiff=serverTime-clientTime}function onIngestComplete(t,e){SourceService.update(_.min(e.sourceIds)).then(function(source){$rootScope.$broadcast("source-updated",{source:source})}),$scope.resetSources({keepSize:!0})}function selectAllSources(){var _$scope$selectedUploa;$scope.selectedUploads.length=0,(_$scope$selectedUploa=$scope.selectedUploads).push.apply(_$scope$selectedUploa,_toConsumableArray2($scope.getUploads()))}var SECTIONS=$scope.SECTIONS=SectionNamesService.SECTIONS;$scope.availableFileFormats=UploaderService.availableFileFormats.map(function(_ref17){var extension=_ref17.extension;return"."+extension}).join(",");$scope.COLUMN_NUMBERS={FIRST:0,SECOND:1,THIRD:2};$scope.serverTimeDiff=0,$scope.dataModelAPI={},$scope.userState={},$scope.activeSection=SECTIONS.MY_DATA,$scope.searchResultsDocs=[],$scope.searchResultsFiles=[],SearchBarService.callback=function(s){$scope.searchInput.keepClosed=!0,$scope.toggleActiveSection(SECTIONS.SEARCH,!0),$state.go("main.landing.search",{s:s},{location:!0})},SearchBarService.suggestions=function(searchText){return $http.post("/api/search/suggest",{s:searchText,limit:10}).then(function(response){var data=_.map(response.data,function(o){return o.icon=$scope.getUploadIcon(o),o});if((".."==searchText&&$scope.selectedSourceFolder&&0==$scope.selectedSourceFolder.parentsPath.length||("main"==searchText.toLowerCase()||"root"==searchText.toLowerCase())&&10>data.length)&&data.push({type:"folder",icon:"folder",name:"Main (root folder)",id:null}),".."==searchText&&$scope.selectedSourceFolder&&0<selectedSourceFolder.parentsPath.length){var parent=$scope.selectedSourceFolder.parentsPath.slice(-1).pop();data.push({type:"folder",icon:"folder",name:parent.name,id:parent.id})}return data})},SearchBarService.suggestionSelected=function($item){switch($item.entityType){case"Datadoc":$scope.goToVisualization($item);break;default:var folder;if("folder"==$item.type)folder=null==$item.id?null:$item;else return void $rootScope.$broadcast("create-index-from-upload",$item);$scope.selectSourceFolder(folder).then(function(){if("folder"!=$item.type)$scope.currentSelectedUpload=$scope.getUploadById($item.id),$scope.selectedUploads=[$scope.currentSelectedUpload],$timeout(function(){$scope.$broadcast("source-selection-changed"),scrollToItem($item.id)});else{var section=$(".sources-section .index-list-wrapper");section.animate({scrollTop:0},200)}}),$scope.toggleActiveSection(SECTIONS.MY_DATA);}SearchBarService.setSearch("")},$scope.loadingResults=SearchService.isLoadingResults,$scope.$on("set-search-results",setSearchResults),$scope.clearSearch=function(){SearchBarService.resetSearch()},$scope.highlightedUpload={},$scope.isDb=SourceService.isDbSource,$scope.isUploadSelected=function(u){return isUploadSelected(u)},$scope.uploadHighlightStatus=function(u){return uploadHighlightStatus(u)},$scope.isLandingPage=function(){return!!~$state.current.name.indexOf("main")},$scope.isIndexEditPage=function(){return"main.index-edit"==$state.current.name},$scope.isBelongsToCurrentFolder=function(file){return!file.parentId&&!$scope.selectedSourceFolder||$scope.selectedSourceFolder&&file.parentId===$scope.selectedSourceFolder.id},$scope.isShowCompositeAsSingle=function(u){return"composite-ds"==u.type&&u.descriptor&&_.contains(["XLS","XLSX"],u.descriptor.format)&&u.sections&&1==u.sections.length},$scope.isShowSections=function(u){return u.expanded&&!$scope.isShowCompositeAsSingle(u)},$scope.hasError=function(u){return u.descriptor&&!1===u.descriptor.valid},$scope.isShowEditAction=function(){if(1!=$scope.selectedUploads.length)return!1;var u=$scope.selectedUploads[0];return u&&u.descriptor&&_.contains(["MYSQL","MSSQL","POSTGRESQL","ORACLE"],u.descriptor.format)},$scope.isShowOpenAction=function(){return 1==$scope.selectedUploads.length},$scope.isShowRenameAction=function(){return 1==$scope.selectedUploads.length},$scope.isShowDownloadAction=function(){if(1!=$scope.selectedUploads.length)return!1;var u=$scope.selectedUploads[0];return isAllowFileDownload(u)},$scope.isShowDownloadArchiveAction=function(withoutMultiplyChecking){return 1==$scope.selectedUploads.length&&"folder"==$scope.selectedUploads[0].type||!withoutMultiplyChecking&&1<$scope.selectedUploads.length&&_.every($scope.selectedUploads,function(u){return u&&"folder"==u.type||isAllowFileDownload(u)})},$scope.isShowDeleteAction=function(){return 0<$scope.selectedUploads.length},$scope.isShowOriginalName=function(u){return u.descriptor&&$scope.isDb(u)&&u.name!=$scope.getOriginalName(u)},$scope.isDbExternalDsTypeSelected=function(){return _.contains(["MySQL","PostgreSQL","Microsoft SQL Server","Oracle Database"],$scope.externalDsType)},$scope.toggleActiveSectionWrapper=function(section){section===SECTIONS.MY_DATA&&$scope.selectedSourceFolder?$scope.selectSourceFolder():$scope.toggleActiveSection(section)};var setActiveSection=function(section){null==section&&(section=$scope.activeSection),$scope.activeSection!=section&&section!=SECTIONS.SEARCH&&UserEventService.emit(".ActiveSectionChangeEvent",{activeSection:section},$scope),$scope.userState.activeSection=$scope.activeSection=section};$scope.toggleActiveSection=function(section,suppressStateChange,ignoreFolder){$scope.activeSection===SECTIONS.SEARCH&&section!==SECTIONS.SEARCH&&SearchBarService.resetSearch(),setActiveSection(section),$scope.selectedUploads=[],suppressStateChange||(section===SECTIONS.MY_DATA?$state.go("main.landing.my_data",{f:$scope.selectedSourceFolder&&!ignoreFolder?$scope.selectedSourceFolder.id:null}):$state.go(SectionNamesService.getSectionNameFromSection(section)))},$scope.editedSourceFolder=!1,$scope.selectedUploads=[],$scope.lastSelectedUpload=!1,$scope.pendingDownloads=[],$scope.checkingPendingDownloads=!1,$scope.checkPendingDownloads=function(force){(!$scope.checkingPendingDownloads||force)&&($scope.checkingPendingDownloads=!0,$http.get("/api/files/archive/pending").success(function(data){_.forEach($scope.pendingDownloads,function(d1){var found=!1;_.forEach(data,function(d2){d1.id==d2.id&&(found=!0)}),found||common.withIgnoreOnBeforeUnload($timeout,function(){window.location.href="/api/files/archive/download?requestId="+d1.id})}),$scope.pendingDownloads=data,$scope.pendingDownloads.length?$timeout(function(){$scope.checkPendingDownloads(!0)},5e3):$scope.checkingPendingDownloads=!1}))},$scope.showNewFolderModal=function(){$scope.activeSection!==SECTIONS.MY_DATA&&$scope.toggleActiveSection(SECTIONS.MY_DATA),$timeout(function(){$scope.creatingSourceFolder=!0,$scope.$broadcast("create-folder-new-source-folder",$scope.selectedSourceFolder)})},$scope.resetSelectedUpload=function(){$scope.selectedUploads=[],$scope.lastSelectedUpload=void 0,$scope.highlightedUpload={}},$scope.createNewSourceFolder=function(name,parentId,callback){$scope.newSourceFolderLoading=!0,$http.post("/api/files/create_folder",{path:(parentId?"id:"+parentId:"")+"/"+name}).then(function(res){$scope.resetSources({keepSize:!0}).then(function(){$scope.creatingSourceFolder=$scope.newSourceFolderLoading=!1,$scope.singleClick(res.data),$timeout(function(){scrollToItem(res.data.id,-104),callback&&callback(res.data)},!1)})}).catch(function(res){$scope.creatingSourceFolder=$scope.newSourceFolderLoading=!1,common.showError(res.data)})},$scope.isNewSourceFolderLoading=function(){return $scope.newSourceFolderLoading},$scope.cancelSourceFolderCreate=function(){$scope.creatingSourceFolder=!1},$scope.getCurrentPageView=function(){return $state.current.name},$scope.getUploads=function(){return SourceService.getList()},$scope.getSearchResults=function(){return SearchService.getList()},$scope.singleClick=function(f,e){var isCtrlKey=e&&!e.shiftKey&&(e.ctrlKey||e.metaKey),isShiftKey=e&&e.shiftKey,_ref18=[$scope.selectedUploads,$scope.lastSelectedUpload,$scope.highlightedUpload],selectedItems=_ref18[0],lastSelectedItem=_ref18[1],highlightedUpload=_ref18[2];if(isCtrlKey)e.which===KeyJS.UP||e.which===KeyJS.DOWN?highlightedUpload=f:(highlightedUpload={},e.which===KeyJS.SPACEBAR&&(highlightedUpload=f),isUploadSelected(f)?_.remove(selectedItems,function(u){return u.id==f.id}):selectedItems.push(f)),lastSelectedItem=f;else if(isShiftKey){highlightedUpload={};var allSorted=[];lastSelectedItem?allSorted=getAllSortedUploads(f):(allSorted=[f],lastSelectedItem=f);var lastSelected=lastSelectedItem;e.selectedBeforeLasso&&(lastSelected=e.lassoStartedFrom);var indexOfSelected=_.findIndex(allSorted,function(u){return u.id===f.id}),indexOfLastSelected=lastSelected?_.findIndex(allSorted,function(u){return u.id===lastSelected.id}):0,first=Math.min(indexOfSelected,indexOfLastSelected),last=Math.max(indexOfSelected,indexOfLastSelected),newRange=_.slice(allSorted,first,last+1);e.selectedBeforeLasso&&(_.each(newRange,function(u){var bli=_.findIndex(e.selectedBeforeLasso,u);-1<bli&&e.selectedBeforeLasso.splice(bli,1)}),newRange.push.apply(newRange,_toConsumableArray2(e.selectedBeforeLasso))),selectedItems=newRange}else highlightedUpload={},lastSelectedItem=f,selectedItems=[f];$scope.currentSelectedUpload=f,$scope.lastSelectedUpload=lastSelectedItem,$scope.selectedUploads=selectedItems,$scope.highlightedUpload=highlightedUpload;var uploads={selected:$scope.currentSelectedUpload,allSelected:$scope.selectedUploads};isCtrlKey&&(e.which===KeyJS.UP||e.which===KeyJS.DOWN)||$rootScope.$broadcast("source-selection-changed",uploads),$scope.resetRenameSource()},$scope.onWrapperClick=function(){$scope.isSelectionDragged.value||$scope.resetSelectedUpload(),$scope.isSelectionDragged.value=!1,$rootScope.$broadcast("source-selection-changed")},$scope.selectSourceFolder=function(f){if(!f||"folder"===f.type)return SourceService.selectFolder(f?f.id:null).then(function(folder){$scope.selectedSourceFolder=folder,UserEventService.emit(".SelectedFolderChangeEvent",{folderId:folder?folder.id:null},$scope),$scope.toggleActiveSection(SECTIONS.MY_DATA)})},$scope.getUploadIcon=SourceService.getIcon,$scope.dropFileCallback=function(event){var drop=$(event.target),parentId=drop.find("input.uid").val(),newFolder=$scope.getUploadById(parentId);return newFolder&&isUploadSelected(newFolder)?void event.preventDefault():void doMoveSource($scope.selectedUploads.slice(),$scope.selectedSourceFolder,newFolder)},$scope.undoLastAction=function(){HistoryService.undo()},$scope.redoLastAction=function(){HistoryService.redo()};var handleShortcuts=HistoryService.handleShortcuts($scope);$("body").on("keydown",handleShortcuts),$scope.$on("$destroy",function(){$("body").off("keydown",handleShortcuts)}),$scope.processRenderedSourceBreadcrumbs=function(){$(".breadcrumbs .item.item-link, .folders-path .item.item-link").droppable({accept:".upload-item",hoverClass:"drop-active",drop:$scope.dropFileCallback,tolerance:"pointer"})},$scope.isSelectionDragged={value:!1},$scope.getFilePath=SourceService.getSourcePath,$scope.selectParentSourceFolder=function(u){$scope.selectSourceFolder(u.parentsPath[u.parentsPath.length-1])},$scope.getFileSizeString=function(u){return u.descriptor&&u.descriptor.size?$filter("size")(u.descriptor.size,0,"bytes"):"\u2014"},$scope.fileDetailsShareWithMessage=function(source){return ShareService.fileDetailsShareWithMessage(source)},$scope.isSharedWithAnyOne=function(u){return!!_.get(u.sharedWithInfo,"allSharedCount")},$scope.getSharedInfoTooltip=function(u){var hideUsersCount=_.get(u.sharedWithInfo,"hideCount"),sharedWith=_.get(u.sharedWithInfo,"sharedWith");return $scope.isSharedWithAnyOne(u)?sharedWith.join("<br/>")+" "+(0<hideUsersCount?"<br/> and "+hideUsersCount+" more...":""):"<span>Not shared with anyone yet</span>"},$scope.getSharedInfo=function(u){var sharedCount=_.get(u.sharedWithInfo,"allSharedCount");return sharedCount?sharedCount+" member"+(1<sharedCount?"s":""):"Not shared"},$scope.getDimensionsString=function(u){if(u.descriptor){if(u.descriptor.composite){var objName=u.descriptor.remote?"table":"sheet";return u.sectionsSize+" "+objName+(1<u.sectionsSize?"s":"")}var rows=u.descriptor.rowsCount,rowsApprox=!!u.descriptor.rowsEstimatedCount,rowsStr=$filter("size")(rows,rowsApprox?0:1);return rowsStr+" row"+(1<rows?"s":"")}},$scope.mainMenuOptions=function(){return[["Add Source",function(){return $scope.addDataSource()}],["Add Folder",function(){return $scope.showNewFolderModal()}]]},$scope.mainPageMainMenuOptions=function(){function getMainPageMenuOptionsTemplate(title,iconClass){return"<div class=\"icon\"> <div class=\"img "+(iconClass||"")+"\"></div> </div> <span class=\"text-content\"> "+title+" </span>"}var items=[[getMainPageMenuOptionsTemplate("Create datadoc","index-icon icon-small"),function(){return $scope.createIndex()}],[getMainPageMenuOptionsTemplate("Add source","sources"),function(){return $scope.addDataSource()}],[getMainPageMenuOptionsTemplate("Add folder","folder icon-small"),function(){return $scope.showNewFolderModal()}]];return items},$scope.getErrorDescription=function(u){if(u.descriptor&&u.descriptor.errorString&&_.contains(["MYSQL","MSSQL","POSTGRESQL","ORACLE"],u.descriptor.format))return"(disconnected)"},$scope.sourceContextMenuOptions={dropdownMenuClass:"main-page-dropdown-menu",dropdownItemClass:"main-page-dropdown-menuitem",enabled:function enabled(event){var o=$(event.originalEvent.target),menuButton=o.closest(".menu-button");if(menuButton.length)return!0;var itemId=o.closest(".upload-item").find(".uid").val(),item=$scope.getUploadById(itemId,$scope.activeSection);return 1===event.which&&(isFolder(item)?$scope.$apply(function(){return $scope.selectSourceFolder(item)}):isDatadoc(item)?$scope.goToVisualization(item):$scope.isDb(item)&&!1===_.get(item,"descriptor.valid")?$scope.edit(item):$scope.createIndex(item)),"contextmenu"==event.type}},$scope.showCreateNewDatadocModal=function(item){$scope.currentFile=item,$scope.createNewDatadocModal=$uibModal.open({templateUrl:"static/templates/include/create-datadoc-modal.html;",scope:$scope,animation:!0,size:"md"}),$scope.$broadcast("disable-keyboard-navigation"),$scope.createNewDatadocModal.closed.then(function(){return $scope.$broadcast("enable-keyboard-navigation")})},$scope.cancelNewDatadocModal=function(){delete $scope.currentFile,$scope.createNewDatadocModal.dismiss()},$scope.mainContextMenuOptions={dropdownMenuClass:"main-page-dropdown-menu landing-page-menu",dropdownItemClass:"main-page-dropdown-menuitem"},$scope.openShareModal=function(e,docId){return e.preventDefault(),e.stopPropagation(),ShareService.openShareModal(docId,$scope)},$scope.uploadedItemOptions=function(event,suppressSelect){function getDocItems(doc){return[["<i class='fa fa-external-link icon'></i>Open in new tab",function(){event.stopPropagation(),$scope.goToVisualization(doc,!0)}],["<i class='fa  fa-share-alt icon'></i>Share Datadoc",function(){event.stopPropagation(),ShareService.openShareModal(doc.id,$scope)}],["<i class='fa fa-font icon'></i>Rename",function(){return $scope.renameSource(doc)}],["<i class='fa fa-trash icon'></i>Delete",function(){return event.stopPropagation(),$scope.showDeleteModal()}]]}function getSourceItems(sources){var menu=[],isDbSource=$scope.isDb(sources[0]);return $scope.isShowRenameAction()&&menu.push(["<i class=\"fa fa-font icon\"></i>Rename",function(){return $scope.renameSource(sources[0])}]),$scope.isShowEditAction()&&menu.push(["<i class=\"fa fa-wrench icon\"></i>Connection Settings",function(){return $scope.edit(sources[0])}]),$scope.isShowDownloadArchiveAction(!0)&&menu.push(["<i class=\"fa fa-download icon\"></i>Download",function(){return $scope.initArchiveDownload(sources)}]),$scope.isShowDownloadAction()&&menu.push(["<i class=\"fa fa-download icon\"></i>Download",function(){return $scope.initDownload(sources[0])}]),$scope.isShowDeleteAction()&&(itemName="<i class=\"fa fa-trash icon\"></i> "+(isDbSource?"Remove Source":"Delete"),menu.push([itemName,function(){return $scope.showDeleteModal()}])),menu}var menu=[],uploadId=$(event.target).closest(".upload-item").find(".uid").val(),u=$scope.getUploadById(uploadId,$scope.activeSection),itemName;suppressSelect?$scope.singleClick(u,event):!isUploadSelected(u)&&$scope.singleClick(u,event);var items=$scope.selectedUploads;return 1<items.length?containsDocs(items)?menu.push(["<i class='fa fa-trash icon'></i>Delete",function(){return event.stopPropagation(),$scope.showDeleteModal()}]):menu=getSourceItems(items):isDatadoc(items[0])?menu=getDocItems(items[0]):menu=getSourceItems(items),menu},$document.keydown(function(event){"INPUT"!=event.target.tagName&&"TEXTAREA"!=event.target.tagName&&(113==event.which?$scope.$apply(function(){$scope.isShowRenameAction()&&$scope.renameSource($scope.selectedUploads[0])}):46==event.which&&$scope.$apply(function(){$scope.isShowDeleteAction()&&$scope.showDeleteModal()}))}),$scope.initArchiveDownload=function(us){$http.post("/api/files/archive/prepare",{paths:_.map(us,function(u){return"id:"+u.id})}).success(function(data){$scope.pendingDownloads.push({id:data.requestId,finished:!1}),$scope.checkPendingDownloads()})},$scope.initDownload=function(u){common.withIgnoreOnBeforeUnload($timeout,function(){window.location.href="/api/files/download?id="+u.id})},$scope.getOriginalName=function(u){if($scope.isDb(u))return u.descriptor.params.dbName},$scope.setUploaderUrl=UploaderService.setUrl,$scope.resetUploaderUrl=function(){UploaderService.setUrl($scope.selectedSourceFolder?$scope.selectedSourceFolder.id:void 0)},$scope.isShowNewSourceFolder=function(){return $scope.creatingSourceFolder},$scope.isNoUploadsExist=function(){return 0==SourceService.getList().length&&!$scope.selectedSourceFolder&&!$scope.isShowNewSourceFolder()},$scope.getUploadById=function(uid){var section=1<arguments.length&&void 0!==arguments[1]?arguments[1]:$scope.activeSection,upload=void 0,uploads=$scope.getUploads();return section===SECTIONS.SEARCH&&(uploads=$scope.searchResultsFiles),_.each(uploads,function(u){if(u.id===+uid)return upload=u,!1;if(u.sections){var _section=_.find(u.sections,function(s){return s.id===uid});if(_section)return upload=_section,!1}}),upload},$scope.mapToQuery=function(s){return{id:s.id,name:s.name,query:s.descriptor.query,parentId:s.parentId,rowsExactCount:s.rowsExactCount}},$scope.externalDsError={},$scope.edit=function(u){if($scope.isDb(u)){switch($scope.externalDsQueries=_(u.sections).filter(function(s){return _.contains(s.descriptor.format,"_QUERY")}).map($scope.mapToQuery).value(),$scope.isEditDs=!0,$scope.externalDsConnected=u.descriptor.valid,u.descriptor.format){case"MYSQL":$scope.externalDsType="MySQL";break;case"POSTGRESQL":$scope.externalDsType="PostgreSQL";break;case"MSSQL":$scope.externalDsType="Microsoft SQL Server";break;case"ORACLE":$scope.externalDsType="Oracle Database";}$scope.externalDsSelectedTables=_(u.sections).filter(function(s){return _.contains(s.descriptor.format,"_TABLE")}).map(function(t){return{name:t.name}}).value(),$scope.externalDsParams=u.descriptor.params,$scope.defaultExternalDsParams=_.cloneDeep($scope.externalDsParams),$scope.externalFileParams={name:_.clone(u.name)},$scope.defaultExternalFileParams=_.cloneDeep($scope.externalFileParams),$scope.externalDsError.errors=null,$scope.externalDsValidConnection=u.descriptor.lastConnectionTestSuccessful,$scope.externalDsSaved=!1,$scope.lastTestedConnectionString=$scope.getLastConnectionTimeString(),showSourceModal()}},$scope.renameSource=function(u){$scope.uploadToRename=u,$scope.uploadToRename.newName=$scope.uploadToRename.name},$scope.resetRenameSource=function(){$scope.uploadToRename=void 0},$scope.doRenameSource=function(){function rename(name){return $http.post("/api/files/move",{fromPaths:["id:"+uploadId],toPath:name}).then(function(response){var upload=$scope.getUploadById(uploadId,$scope.activeSection);upload.name=response.data[0].name,$scope.resetRenameSource(),$scope.resetSelectedUpload(),$scope.resetSources({untilIdFound:uploadId}).then(function(){$timeout(function(){return scrollToItem(uploadId)})})}).catch(common.showError)}var uploadId=$scope.uploadToRename.id,newName=$scope.uploadToRename.newName,oldName=$scope.uploadToRename.name;HistoryService.do({redo:function redo(){return rename(newName)},undo:function undo(){return rename(oldName)},notify:getHistoryActionMessage(oldName+" renamed to "+newName)})},$scope.onExternalConnectionNameBlur=function(){$scope.externalFileParams.name||($scope.externalFileParams.name=$scope.selectedUploads[0].name)},$scope.getFormatName=function(u){return"Folder"===u.entityType?"\u2014":u.entityType},$scope.getLastConnectionTimeString=function(){if(!$scope.selectedUploads.length||!$scope.selectedUploads[0].descriptor)return"";var now=new Date(Date.now()).getTime();return 0>$scope.serverTimeDiff?now+=$scope.serverTimeDiff:now-=$scope.serverTimeDiff,moment($scope.selectedUploads[0].descriptor.lastConnected).from(now)},$scope.disconnectedStringAvailable=function(){return!!$scope.selectedUploads[0].descriptor.disconnectedTime},$scope.getDisconnectedString=function(){if(!$scope.selectedUploads.length||!$scope.selectedUploads[0].descriptor)return"";var now=new Date(Date.now()).getTime();0>$scope.serverTimeDiff?now+=$scope.serverTimeDiff:now-=$scope.serverTimeDiff;var disconnectedTime=$scope.selectedUploads[0].descriptor.disconnectedTime,disconnectedFromNow=moment(disconnectedTime).from(now),disconnectedDay=moment(disconnectedTime).format("h:mm a on MMM d, YYYY");return disconnectedFromNow+" at "+disconnectedDay},$scope.addDataSource=function(){$scope.externalDsQueries=[],$scope.externalDsType=void 0,$scope.externalDsTypeToReplace=void 0,$scope.externalDsConnected=!1,$scope.externalDsSaved=!1,$scope.isEditDs=!1,$scope.resetSelectedUpload(),showSourceModal()},$state.params.openAddSourceModal&&$scope.addDataSource(),$scope.sourceForm={},$scope.deleteUploadOptions={},$scope.showDeleteModal=function(){$scope.deleteUploadOptions={loading:!0,deleting:!1,descriptionText:function(){return $scope.selectedUploads.length?1<$scope.selectedUploads.length?$scope.selectedUploads.length+" items":"\""+$scope.selectedUploads[0].name+"\"":""}(),multi:1<$scope.selectedUploads.length,connectedToIndex:!1},$http.post("/api/files/get_attached",_.map($scope.selectedUploads,"id")).success(function(result){$scope.deleteUploadOptions.loading=!1,$scope.deleteUploadOptions.connectedToIndex=!_.isEmpty(result)}),$scope.$broadcast("disable-keyboard-navigation"),$scope.deleteModal=$uibModal.open({templateUrl:"static/templates/include/delete-upload.html;",scope:$scope,animation:!0,size:"md",keyboard:!0}),$scope.deleteModal.closed.then(function(){$scope.$broadcast("enable-keyboard-navigation")})},$scope.cancelDeleteModal=function(){$scope.deleteModal.dismiss()},$scope.isSearchSection=function(){return $scope.activeSection===SECTIONS.SEARCH},$scope.resetSearchResults=function(){var options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};SearchService.search(SearchService.getSearchText(),options).then(setSearchResults())},$scope.delete=function(us){return $scope.deleteUploadOptions.deleting=!0,$http.post("/api/files/delete",{paths:_.map(us,function(u){return"id:"+u.id})}).then(function(){$scope.deleteUploadOptions.deleting=!1,$scope.selectedUploads.length=0,HistoryService.clear(),$scope.activeSection===SECTIONS.SEARCH?SearchService.search(SearchService.getSearchText()).then(function(){setSearchResults(),$scope.deleteModal.dismiss()}):$scope.resetSources({keepSize:!0}).then(function(){$rootScope.$broadcast("source-selection-changed",null,!0),$scope.deleteModal.dismiss()})},function(e){$scope.deleteUploadOptions.deleting=!1,common.showError(e),$scope.deleteModal.dismiss()})},$scope.removeUploads=function(uploadsToDelete){var deleteIds=_.map(uploadsToDelete,"id");_.remove($scope.getUploads(),function(u){return _.includes(deleteIds,u.id)}).length||_.forEach($scope.getUploads(),function(u){u.sections&&_.remove(u.sections,function(u){return _.includes(deleteIds,u.id)})}),_.remove($scope.selectedUploads,function(u){return _.includes(deleteIds,u.id)})},$scope.uploader=UploaderService.getUploader(),$scope.uploaderOptions={createFolderCallback:function createFolderCallback(name,parentId,callback){parentId||(parentId=$scope.selectedSourceFolder?$scope.selectedSourceFolder.id:void 0),$scope.createNewSourceFolder(name,parentId,callback)}},$scope.$on("upload-item-success",function(e,data){var response=data.upload;$scope.isBelongsToCurrentFolder(response)&&SourceService.reset({keepSize:!0})}),$scope.$on("upload-item-ingest-complete",function(e,data){var event=data.event;1==UploaderService.getUploader().queue.length&&($rootScope.$broadcast("close-uploads-modal"),$scope.goToVisualization({id:event.datadocId}))}),$scope.updateExternalFormErrors=function(err){$scope.externalDsError.errors={},Array.isArray(err)?_.forEach(err,function(e){if(!e.field){switch(e.code){case"db_auth_error":$scope.sourceForm.user.$validators.invalidValue=function(){return $scope.sourceForm.password.$setValidity("invalidValue",!0),!0},$scope.sourceForm.password.$validators.invalidValue=function(){return $scope.sourceForm.user.$setValidity("invalidValue",!0),!0},$scope.sourceForm.user.$setValidity("invalidValue",!1),$scope.sourceForm.password.$setValidity("invalidValue",!1);break;case"db_not_exists":$scope.sourceForm.dbName.$validators.invalidValue=function(){return!0},$scope.sourceForm.dbName.$setValidity("invalidValue",!1);break;case"db_conn_refused":return void($scope.externalDsError.errors.globalMessage="We could not connect to '"+$scope.externalDsParams.dbName+"' with the above credentials");}$scope.externalDsError.errors.globalMessage=e.message}}):$scope.externalDsError.errors.globalMessage=_.get(err,"message")},$scope.testConnection=function(){function updateUploadItem(data){var descriptor=data.descriptor,selectedDescriptor=$scope.selectedUploads[0].descriptor;selectedDescriptor.lastConnected=descriptor.lastConnected,selectedDescriptor.errorString=null,$scope.externalDsValidConnection=selectedDescriptor.lastConnectionTestSuccessful=descriptor.lastConnectionTestSuccessful}var id=$scope.externalDsParams.id;$scope.isExternalDsConnecting=!0;var request={path:id?"id:"+$scope.selectedUploads[0].id:"id:"+($scope.selectedSourceFolder?$scope.selectedSourceFolder.id:""),connectionParams:$scope.externalDsParams};return DbSourceService.testConnection(request).then(function(res){return SourceService.update(res.data.id).then(function(){_.set($scope.externalDsError,"errors.globalMessage ",null),updateServerTimeDiff(res),$scope.externalDsConnected=!0,$scope.isExternalDsConnecting=!1,updateUploadItem(res.data)})},function(){$scope.externalDsConnected=!1,$scope.isExternalDsConnecting=!1})},$scope.saveDataSourceCanceler=null,$scope.stopRemoteLinkUpsert=function(){$scope.isExternalDsSaving=!1,$scope.saveDataSourceCanceler&&$scope.saveDataSourceCanceler.resolve(),$scope.saveDataSourceCanceler=null},$scope.saveDataSource=function(){$scope.isExternalDsSaving=!0;var id=$scope.externalDsParams.id,upsertSource=id?DbSourceService.updateRemoteLink:DbSourceService.createRemoteLink,cancelUpsertSource=id?DbSourceService.cancelUpdateRemoteLink:DbSourceService.cancelCreateRemoteLink,request={path:id?"id:"+$scope.selectedUploads[0].id:"id:"+($scope.selectedSourceFolder?$scope.selectedSourceFolder.id:""),connectionParams:$scope.externalDsParams,fileParams:$scope.externalFileParams,includeTables:_.map($scope.externalDsSelectedTables,"name")};$scope.saveDataSourceCanceler=$q.defer(),$scope.saveDataSourceCanceler.promise.then(function(){return cancelUpsertSource(request)}),upsertSource(request,{timeout:$scope.saveDataSourceCanceler.promise}).success(function(data){$scope.saveDataSourceCanceler=null,$scope.isExternalDsSaving=!1,$scope.resetSources({keepSize:!0}).then($scope.updateSelectedUploads),id?($scope.defaultExternalDsParams=_.cloneDeep($scope.externalDsParams),$scope.defaultExternalFileParams=_.cloneDeep($scope.externalFileParams),$scope.externalDsParamsEdited=!1):($scope.externalDsSaved=!0,$timeout(function(){$scope.closeSourceModal(),$scope.createIndex(data)},1500))}).error(function(e){$scope.isExternalDsSaving=!1,$scope.updateExternalFormErrors(e)})},$scope.closeSourceModal=function(){$scope.sourceModal.dismiss(),$scope.customUploadPath=null,$scope.externalDsParams={},$scope.externalDsError.errors={},$scope.isEditDs=!1,$scope.externalDsSaved=!1},$scope.externalDsType=void 0,$scope.externalDsTypeToReplace=void 0,$scope.externalDsParams={},$scope.externalFileParams={},$scope.availableDsTypes=["MySQL","PostgreSQL","Microsoft SQL Server","Oracle Database","File"],$scope.externalDsTypeSelected=function(type){if($scope.externalDsType!==type)switch($scope.sourceForm.$setUntouched(),$scope.externalDsError.errors={},$scope.externalDsType=type,$scope.externalDsParams={},$scope.externalDsType){case"MySQL":$scope.externalDsParams.protocol="mysql",$scope.externalDsParams.port=3306;break;case"PostgreSQL":$scope.externalDsParams.protocol="postgresql",$scope.externalDsParams.port=5432;break;case"Microsoft SQL Server":$scope.externalDsParams.protocol="sqlserver",$scope.externalDsParams.port=1433;break;case"Oracle Database":$scope.externalDsParams.protocol="oracle",$scope.externalDsParams.port=1521;break;case"File":$("#add-source-modal-file-picker").click();}},$scope.updateSelectedUploads=function(){for(var i=0,newUpload;i<$scope.selectedUploads.length;++i)newUpload=$scope.getUploadById($scope.selectedUploads[i].id),$scope.selectedUploads[i]=newUpload},BookmarkCommitService.reset({isPublicChannel:!1,resetCurrentDatadoc:!0}),BookmarkCommitService.on("complete",onIngestComplete),$scope.$on("$destroy",function(){BookmarkCommitService.off("complete",onIngestComplete)}),$scope.$watch("[externalDsParams, externalFileParams]",function(newParamsArr){var newExternalDsParams=newParamsArr[0],newExternalFileParams=newParamsArr[1];$scope.externalDsParamsEdited=!(_.isEqual($scope.defaultExternalDsParams,newExternalDsParams)&&(!$scope.isEditDs||_.isEqual($scope.defaultExternalFileParams,newExternalFileParams))),$scope.externalDsConnected=!1},!0),$scope.$on("create-index-from-upload",function(e,source){$scope.createIndex(source)}),$scope.$on("update-ingesting-value",function(e,source){if(source){var items=[SourceService.get(source.id),_.find($scope.searchResultsFiles,{id:source.id})];_.each(items,function(item){item&&item.ingestingProgress!==source.ingestingProgress&&(item.ingestingProgress=source.ingestingProgress)})}}),$scope.$on("delete-ingesting-value",function(e,sourceId){if(sourceId){var item=SourceService.get(sourceId);item&&delete item.ingestingProgress}}),$scope.createIndex=function(source,autoIngest,preSaved,updateRecent){var preSave=source&&"Datadoc"!==source.entityType||preSaved;return updateRecent&&RecentSourcesService.reset(),$rootScope.$broadcast("togglePageLoader-main-loader",{toggle:!0,backdrop:!0}),$scope.toggleGoingToVizPage(!0),sendCreateDatadocRequest(source,preSave).success(function(data){return $scope.goToVisualization(data,null,autoIngest,preSave),data}).error(function(e){$scope.toggleGoingToVizPage(!1),common.showError(e)})},$scope.goToVisualization=function(index,newTab,autoIngest,preSave){if(newTab){var url=$state.href("main.visualize",{id:index.id,preSave:preSave});window.open(url,"_blank")}else $scope.toggleGoingToVizPage(!0),autoIngest?$state.go("main.visualize",{id:index.id,autoingest:!0,preSave:preSave},{location:"replace"}):$state.go("main.visualize",{id:index.id,preSave:preSave})},$scope.goingToVizPage=!1,$scope.toggleGoingToVizPage=function(value){$scope.goingToVizPage=value},$rootScope.$on("cancelGoingToVisualization",function(){$rootScope.$broadcast("togglePageLoader-main-loader",{toggle:!1,backdrop:!1}),$scope.toggleGoingToVizPage(!1)}),$scope.$on("$destroy",function(){NotificationsUtils.closeAll()}),$scope.getSourcesSelectedColumns=function(search){return search?$scope.columnsSections.searchResultsSources.getSelected():$scope.columnsSections.sources.getSelected()},document.body.addEventListener("contextmenu",function(e){"INPUT"!==e.target.nodeName&&"TEXTAREA"!==e.target.nodeName&&e.preventDefault()}),HistoryService.setMaxSize(1),$scope.resetSources=function(){var options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return $scope.isShowSourcesBackdrop=options.backdrop,$scope.isLoadingSources=!0,SourceService.reset(options).then(function(){$scope.isLoadingSources=!1,$scope.isShowSourcesBackdrop=!1})},$scope.loadMoreSources=function(){return $scope.isLoadingSources=!0,$scope.isLoadMoreSources=!0,SourceService.nextPage().then(function(){$scope.isLoadingSources=!1,$scope.isLoadMoreSources=!1})},$scope.selectedSourceFolder=SourceService.getSelectedFolder(),$scope.$on("refresh-selected-folder",function(){return $scope.selectedSourceFolder=SourceService.getSelectedFolder()}),$scope.setUploaderUrl(),$scope.userState=UserStateService.get(),$scope.columnsSections={sources:SortSectionColumnsService.genSortColumnsOptions($scope),searchResults:SortSectionColumnsService.genSortColumnsOptions($scope,!0),noResults:SortSectionColumnsService.genSearchResultsEmptyResultsSortColumnsOptions($scope)};var currentSection=SectionNamesService.getSectionFromSectionName($state.current.name);if($scope.userState.activeSection=$scope.activeSection=currentSection,currentSection==SECTIONS.SEARCH){var searchText=SearchService.getSearchText();$timeout(function(){SearchBarService.setSearch(searchText),setSearchResults()})}$scope.changeUploadTypes=function(type){var options={};type.selected=!type.selected,_.each($scope.showUploadsTypes,function(t){return options[t.type]=t.selected,options}),UserEventService.emit(".ShowTypesOptionsChangeEvent",options,$scope),UserStateService.reset().then(function(response){$scope.userState=response,$scope.resetSources(options)})};var _$scope$userState$sho=$scope.userState.showTypesOptions,datadocsOnly=_$scope$userState$sho.datadocsOnly,foldersOnly=_$scope$userState$sho.foldersOnly,sourcesOnly=_$scope$userState$sho.sourcesOnly;$scope.showUploadsTypes=[{name:"Datadocs",type:"datadocsOnly",selected:datadocsOnly},{name:"Folders",type:"foldersOnly",selected:foldersOnly},{name:"Sources",type:"sourcesOnly",selected:sourcesOnly}],$scope.ngSelectSourcesSectionOptions={itemSelector:".upload-item",itemSelectorWrapper:".main-page-ds-pane",getItemFn:$scope.getUploadById,selectedItemsKey:"selectedUploads",lastSelectItem:"lastSelectedUpload",currentSelectedItem:"currentSelectedUpload",onClick:$scope.singleClick,loadMore:$scope.loadMoreSources,keyboardNavOptions:{onEnter:function onEnter(e,item){"folder"==item.type?$scope.$evalAsync(function(){return $scope.selectSourceFolder(item)}):"doc"==item.type&&$scope.$evalAsync(function(){return $scope.goToVisualization(item)})},onSelectAll:function onSelectAll(){$scope.$evalAsync(selectAllSources)},onEsc:function onEsc(){$scope.$evalAsync($scope.resetSelectedUpload)},onBack:function onBack(){$scope.selectedSourceFolder&&$scope.$evalAsync(function(){return $scope.selectParentSourceFolder($scope.selectedSourceFolder)})},enableAutoSelect:!0}},$scope.createDatadocFromSource=function(){$scope.$broadcast("ingest-selected-source")},$scope.gettingSources=SourceService.gettingSources,$scope.socket={client:null,stomp:null},WSocket.subscribe("/upload-events",function(e){if(e.instanceId&&e.instanceId!==common.instanceGUID||e.user!==User.getCurrent().id)switch(e.type){case"CREATE_FILE":if(e.file&&$scope.isBelongsToCurrentFolder(e.file))$scope.$evalAsync(function(){SourceService.push(e.file)});else if(e.file){var _parent=$scope.getUploadById(e.file.parentId);_parent&&_parent.sections&&$scope.$evalAsync(function(){_parent.sections.push(e.file)})}break;case"DELETE_FILE":if($scope.isBelongsToCurrentFolder(e.file)){var fileToDelete=$scope.getUploadById(e.file.id);$scope.$evalAsync(function(){SourceService.remove(fileToDelete)})}else $scope.$evalAsync(function(){var parent=$scope.getUploadById(e.file.parentId);parent&&parent.sections&&_.remove(parent.sections,function(s){return s.id===e.file.id})});break;case"EDIT_FILE":if($scope.isBelongsToCurrentFolder(e.oldFile)){var fileToEdit=$scope.getUploadById(e.oldFile.id);e.file.parentId===e.oldFile.parentId?$scope.$evalAsync(function(){fileToEdit.name=e.file.name}):$scope.$evalAsync(function(){SourceService.remove(fileToEdit)})}else $scope.isBelongsToCurrentFolder(e.file)&&$scope.$evalAsync(function(){SourceService.push(e.file)});}})}])}),define("modules/main/controllers/dsAnnotationCtrl",["./module","common"],function(controllers){"use strict";controllers.controller("dsAnnotationCtrl",["$scope","$http","$uibModalInstance","uploadId","annotation","onSuccess",function($scope,$http,$uibModalInstance,uploadId,annotation,onSuccess){$scope.oldAnnotation=annotation,$scope.annotation=annotation,$scope.closeDsAnnotationModal=function(){$uibModalInstance.dismiss()},$scope.updateDsAnnotation=function(){$scope.annotate($scope.annotation)},$scope.deleteDsAnnotation=function(){$scope.annotate(null)},$scope.annotate=function(annotation){$scope.updateRunning=!0,$http.post("/api/files/annotate",{path:"id:"+uploadId,annotation:annotation}).success(function(data){onSuccess(data),$scope.updateRunning=!1,$scope.closeDsAnnotationModal()}).error(function(e){$scope.xlsPreviewErrorString=e.message,$scope.updateRunning=!1})}}])}),define("modules/main/controllers/confirmationModalCtrl",["./module","angular","common"],function(controllers){"use strict";controllers.controller("confirmationModalCtrl",["$scope","$uibModalInstance","title","description","agreeButtonTitle","agree",function($scope,$uibModalInstance,title,description,agreeButtonTitle,agree){return $scope.title=title,$scope.description=description,$scope.agreeButtonTitle=agreeButtonTitle,$scope.agree=function(){agree(),$scope.closeModal()},$scope.closeModal=$uibModalInstance.dismiss,{}}])}),define("modules/main/controllers/refreshSettingsCtrl",["./module","angular","common"],function(controllers,angular,common){"use strict";controllers.controller("refreshSettingsCtrl",["$scope","$http","$uibModalInstance","indexId","refreshSettings","onSuccess",function($scope,$http,$uibModalInstance,indexId,refreshSettings,onSuccess){$scope.availableTypes=[{name:"None",code:"NONE"},{name:"Full",code:"FULL"}],null==refreshSettings&&(refreshSettings={type:"NONE",cronExpression:""}),$scope.refreshSettings=refreshSettings,$scope.closeRefreshSettingsModal=function(){$uibModalInstance.dismiss()},$scope.saveRefreshSettings=function(){$scope.savingRefreshSettings=!0,$http.post("/api/docs/bookmarks/"+indexId+"/update_refresh_settings",{settings:$scope.refreshSettings}).success(function(s){onSuccess(s),$scope.savingRefreshSettings=!1,$scope.closeRefreshSettingsModal()}).error(function(e){$scope.savingRefreshSettings=!1,common.showValidationErrors(e)})}}])}),define("modules/main/controllers/shareCtrl",["./module","angular","common"],function(controllers,angular,cc){"use strict";var _this13=this;controllers.controller("shareCtrl",["$scope","$rootScope","$http","$uibModalInstance","datadocId","shareWith","shareInfo","sharedStates","ShareService","User","$timeout","SourceService",function($scope,$rootScope,$http,$uibModalInstance,datadocId,shareWith,shareInfo,sharedStates,ShareService,User,$timeout,SourceService){var updateDatadoc=function(){var _ref19=_asyncToGenerator(regeneratorRuntime.mark(function _callee10(datadocId){var datadoc;return regeneratorRuntime.wrap(function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.next=2,SourceService.update(datadocId);case 2:return datadoc=_context10.sent,$rootScope.$broadcast("source-updated",{source:datadoc}),_context10.abrupt("return",datadoc);case 5:case"end":return _context10.stop();}},_callee10,this)}));return function(){return _ref19.apply(this,arguments)}}();function validateEmail(email){var regExp=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return regExp.test(email)}function getSelectedSharedState(stateId){return stateId||(stateId=shareInfo.sharedStateId),_.find($scope.sharedStates,function(state){return state.uuid===stateId})}function generateSharedLink(){var shareUrlTemplate=shareInfo.shareUrlTemplate;return $scope.selectedSharedState?shareUrlTemplate+("?pid="+$scope.selectedSharedState.tabId+"&stateId="+$scope.selectedSharedState.uuid):shareUrlTemplate}$uibModalInstance.rendered.then(function(){return $("#share-with-input").find(":input").focus()}),$scope.canShareWith=[],$scope.selectedShareWith=[],$scope.sharedStates=sharedStates,$scope.shareAttachedSources=!1,$scope.selectedSharedState=getSelectedSharedState(),$scope.generatedSharingLink=generateSharedLink(),$scope.sharedInfo=shareInfo,$scope.isViewOnly="VIEW"===shareInfo.shareType,$scope.activeUser=User.getCurrent(),$scope.shareEmail="",$scope.isSharing=!1,$scope.sharingLinkCreated=shareInfo.publicShared,$scope.selectedSharingLinkOption=0,$scope.isShareInvalid=!1,$scope.toggleShareAttachedSources=function(){$scope.shareAttachedSources=!$scope.shareAttachedSources},$scope.shareDatadoc=function(shareMessage){$scope.isSharing=!0;var selectedEmails=_.map($scope.selectedShareWith.selected,"email"),shareType=$scope.sharingRoles[$scope.selectedSharingRole.index].type;ShareService.shareDatadoc(datadocId,selectedEmails,shareType,shareMessage,$scope.shareAttachedSources).then(function(shareResult){if($scope.closeShareModal(),$scope.isSharing=!1,$scope.selectedShareWith.selected=null,$scope.sharedInfo.sharedWith||($scope.sharedInfo.sharedWith=[]),$scope.sharedInfo.sharedWith=$scope.sharedInfo.sharedWith.concat(shareResult.successfullyShared),!_.isEmpty(shareResult.successfullyShared)){var emails=_.map(shareResult.successfullyShared,"email");cc.notify({message:"Successfully shared with "+emails.length+" "+(1<emails.length?"users":"user")+".",icon:"success",wait:4})}_.isEmpty(shareResult.failedShared)||cc.notify({message:shareResult.failedShared.join("\n"),icon:"warning"}),updateDatadoc(datadocId)}).catch(function(_ref20){var message=_ref20.data;$scope.closeShareModal(),cc.notify({message:message,icon:"warning"}),$scope.isSharing=!1})},$scope.sharingRoles=[{display_title:"Can edit",title:"Admin",description:"Can view or modify this document and has access to its source",type:"ADMIN"},{display_title:"Can view",title:"Viewer",description:"Can view this document and modify how it appears",type:"VIEW"}],$scope.selectedSharingRole={index:1,display_title:"Can view"},$scope.checkIsShareValid=function($selected){$scope.isShareInvalid=_.some($selected,function(i){return!i._isValid})},$scope.onSelectPerson=function($item,$model,$selected){$scope.checkIsShareValid($selected),$scope.$broadcast("shareInputFocus")},$scope.onRemovePerson=function($item,$model,$selected){$scope.checkIsShareValid($selected)},$scope.shareInputValidation=function($item){$item._isValid=validateEmail($item.email)},$scope.onBeforeChangeUserShare=function(search){$scope.canShareWith=[],$scope.onChangeUserShare(search)},$scope.onChangeUserShare=_.debounce(function(){var _ref21=_asyncToGenerator(regeneratorRuntime.mark(function _callee11(search){var canShareWith;return regeneratorRuntime.wrap(function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.next=2,ShareService.usersShareHint(datadocId,search);case 2:canShareWith=_context11.sent,_.isEmpty(canShareWith)?$scope.canShareWith.push({name:search,email:search,isNewTag:!0}):$scope.canShareWith=canShareWith,$scope.$evalAsync();case 5:case"end":return _context11.stop();}},_callee11,_this13)}));return function(){return _ref21.apply(this,arguments)}}(),500);$scope.sharedUserRoles=_.clone($scope.sharingRoles),$scope.sharedUserRoles.push({title:"Remove",type:"REMOVE"}),$scope.selectSharedUserRole=function(user,shareType){var userId=user.userId,email=user.email;switch(shareType){case"REMOVE":_.remove($scope.sharedInfo.sharedWith,function(u){return email===u.email}),$http.delete("/share/"+datadocId+"/"+userId).then(function(){return updateDatadoc(datadocId)});break;case"VIEW":case"ADMIN":$http.post("/share/update",{userId:userId,datadocId:datadocId,shareType:shareType});break;default:throw"There is no such share type: "+shareType;}user.shareType=shareType},$scope.getSharedUserRoleTitle=function(userRoleType){return _.find($scope.sharedUserRoles,function(r){return r.type===userRoleType}).title},$scope.sharingLinkOptions=[{type:"ON",title:"Turn on",description:"Turning on sharing link",display:"Turned on",disabled:!$scope.sharingLinkCreated},{type:"OFF",title:"Turn off",description:"Turning off sharing link",display:"Turned off",disabled:!1}],$scope.selectSharedState=function(state){return $scope.selectedSharedState=getSelectedSharedState(state.uuid),$scope.generatedSharingLink=generateSharedLink(),ShareService.selectSharedState(datadocId,state.uuid)},$scope.toggleSharingLink=function(){$scope.sharingLinkCreated=!$scope.sharingLinkCreated,$scope.togglePublicShareLink(!0).then(function(){$timeout(function(){var input=$(".generated-link");input.focus(),input[0].setSelectionRange(0,input.val().length),document.execCommand("copy")})}).catch(function(err){console.error(err),$scope.sharingLinkCreated=!0})},$scope.handleLinkCopy=function(){cc.notify({message:"Link copied to clipboard.",icon:"success",wait:2})},$scope.togglePublicShareLink=function(enable){return $http.post("/share/public",{datadocId:datadocId,enable:enable})},$scope.handleSharingLinkOptions=function(option){"OFF"===option.type&&($scope.sharingLinkCreated=!1,$scope.togglePublicShareLink(!1).catch(function(err){console.error(err),$scope.sharingLinkCreated=!0}))},$scope.selectSharingRole=function(title,index){$scope.selectedSharingRole={index:index,display_title:title}},$scope.shareCancel=function(){$scope.selectedShareWith.selected=null},$scope.closeShareModal=function(){$uibModalInstance.dismiss()}}])}),define("modules/main/controllers/index",["./mainCtrl","./visualizationCtrl","./uploadsCtrl","./dsAnnotationCtrl","./confirmationModalCtrl","./refreshSettingsCtrl","./shareCtrl"],function(){}),define("modules/main/directives/module",["angular"],function(ng){"use strict";return ng.module("app.main.directives",[])}),define("modules/main/directives/join",["./module"],function(directives){"use strict";directives.directive("join",function(){return{restrict:"E",scope:{model:"=",uploads:"="},templateUrl:"static/templates/include/join.html",link:function link($scope){function getFullHeaders(upload){if(!upload)return[];var table=_.find($scope.uploads,{id:upload});return table&&table.headers?_.map(table.headers,function(h){return{id:table.id+"."+h,name:table.name+"."+h}}):[]}$scope.joinTypes=[{name:"INNER JOIN",value:"INNER"},{name:"LEFT OUTER JOIN",value:"LEFT_OUTER"},{name:"RIGHT OUTER JOIN",value:"RIGHT_OUTER"},{name:"FULL OUTER JOIN",value:"FULL_OUTER"}],$scope.getUploads=function(){return _.map($scope.uploads,function(o){return o.id})},$scope.getUploadsLeft=function(include){var all=$scope.getUploads(),selected=_.map($scope.model.joins,function(o){return o.upload});$scope.model.from&&selected.push($scope.model.from);var ids=_.difference(all,selected);include&&ids.push(include);var result=[];return _.forEach($scope.uploads,function(u){_.includes(ids,u.id)&&result.push(u)}),result},$scope.getLeftKeys=function(idx){for(var headers=getFullHeaders($scope.model.from),i=0;i<idx;i++)headers=headers.concat(getFullHeaders($scope.model.joins[i].upload));return headers},$scope.getRightKeys=function(idx){return getFullHeaders($scope.model.joins[idx].upload)},$scope.addJoin=function(){$scope.model.joins.push({})},$scope.deleteJoin=function(idx){$scope.model.joins.splice(idx,1)}}}})}),define("modules/main/directives/onFinishRender",["./module"],function(directives){"use strict";directives.directive("onFinishRender",["$timeout",function($timeout){return{restrict:"A",link:function link(scope,element,attr){!0===scope.$last&&$timeout(function(){scope.$apply(function(){scope.$eval(attr.onFinishRender)})})}}}])}),define("modules/main/directives/objectSelect",["./module","common"],function(directives){"use strict";directives.directive("objectSelect",["ScopeService",function(ScopeService){return{restrict:"E",templateUrl:"static/templates/include/object-select.html",scope:{placeholder:"=",selectedValue:"=",onUpdate:"=",isDisabled:"="},link:function link($scope,elm){var $input=$(elm).find("input"),temp;$input.on("focus",function(){ScopeService.safeApply($scope,function(){temp=$scope.selectedValue})}).on("blur",function(){ScopeService.safeApply($scope,function(){temp&&temp!=$scope.selectedValue&&($scope.onUpdate(),temp=void 0)})}).on("keydown",function(event){ScopeService.safeApply($scope,function(){27==event.which?($scope.selectedValue=temp,$input.blur(),event.preventDefault(),event.stopPropagation()):13==event.which&&($input.blur(),event.preventDefault(),event.stopPropagation())})})}}}])}),define("modules/main/directives/contextMenu",["./module","angular","common","lodash"],function(directives,angular,common){"use strict";directives.directive("contextMenu",["$timeout",function(){return function($scope,element,attrs){var contextMenuOpenEvent=attrs.contextMenuOpenEvent||"contextmenu",scrolling=!1;element.on(contextMenuOpenEvent,function(event){$scope.contextMenuOptions={},attrs.contextMenuOptions&&($scope.contextMenuOptions=$scope.$eval(attrs.contextMenuOptions));var enabled=$scope.contextMenuOptions.enabled;if("ontouchstart"in document.documentElement&&event.originalEvent instanceof TouchEvent){switch(event.type){case"touchstart":scrolling=!1;break;case"touchmove":scrolling=!0;break;case"touchend":if(scrolling)return;enabled(event);}return}enabled&&!enabled(event)||(event.stopPropagation(),$scope.$apply(function(){event.preventDefault();var options=$scope.$eval(attrs.contextMenu,{$event:event}),model=$scope.$eval(attrs.model);if(options instanceof Array){if(0===options.length)return;common.renderContextMenu($scope,event,options,model)}else throw"\""+attrs.contextMenu+"\" not an array"}))})}}])}),define("modules/main/directives/resizable",["./module"],function(directives){"use strict";directives.directive("resizable",["$document","$localStorage","$rootScope","$timeout",function($document,$localStorage,$rootScope){return{restrict:"EA",link:function link($scope,$elm,$attr){function resize(x){options.right?$content.css({"margin-right":x+"px"}):$wrapper.css({"padding-left":x+"px"}),$sidebar.css("display",0>=x?"none":"block"),$sidebar.css({width:x+"px"}),$rootScope.$broadcast("onResize-"+options.id,{x:x})}function tryToGuessX(){var x=$scope.$storage[options.id]?$scope.$storage[options.id]:$scope.$storage[options.id+"-beforeHide"];return"undefined"==typeof x&&(x=defaultSize),x}function restoreSidebarOpacityIfNeeded(){var currentOpacity=parseFloat($sidebar.css("opacity"));1!==currentOpacity&&$sidebar.css("opacity",1)}function mousemove(event){var x;if(x=options.right?$(window).width()-event.pageX:event.pageX-$handle.parent().offset().left,options.max&&x>options.max&&(x=parseInt(options.max)),options.min&&x<options.min){if(callback){var maxOffset=options.min-options.min/2.5,k=1/(options.min-maxOffset),opacity=(event.pageX-maxOffset)*k;if($sidebar.css("opacity",opacity),event.pageX<maxOffset)return $scope.$evalAsync(function(){return callback()}),resize(0),mouseup(),void(options.save&&($scope.$storage[options.id]=defaultSize))}x=parseInt(options.min)}resize(x),options.save&&($scope.$storage[options.id]=x)}function mouseup(){restoreSidebarOpacityIfNeeded(),$document.unbind("mousemove",mousemove),$document.unbind("mouseup",mouseup);var width=$sidebar.outerWidth();$rootScope.$broadcast("onResizeFinish-"+options.id,width)}var $wrapper=$($elm.closest(".resizable-wrapper").first()),$sidebar=$($wrapper.find(".sidebar-wrapper").first()),$handle=$($sidebar.find(".resize-handle-h").first()),$content=$($wrapper.find(".page-content-wrapper").first()),options=$scope.$eval($attr.resizable);if(!options||!options.id)throw"Please assign resize component ID through options";var callback=options.minResizeCallback?options.minResizeCallback:null;$scope.$storage=$localStorage.$default();var defaultSize=options.default?options.default:options.min?options.min:300,initialX=void 0;options.save?(initialX=$scope.$storage[options.id],null==initialX&&($scope.$storage[options.id]=defaultSize,initialX=defaultSize)):options.hideOnInit?initialX=0:initialX=defaultSize,resize(initialX,!0),$handle.on("mousedown",function(event){event.preventDefault(),$document.on("mousemove",mousemove),$document.on("mouseup",mouseup),$scope.$broadcast("onResizeStart-"+options.id)}),$scope.$on("expand-"+options.id,function(){var x;options.save?(x=tryToGuessX(),$scope.$storage[options.id]=x):x=defaultSize,resize(x)}),$scope.$on("collapse-"+options.id,function(){resize(0),options.save&&(0<$scope.$storage[options.id]&&($scope.$storage[options.id+"-beforeHide"]=$scope.$storage[options.id]),$scope.$storage[options.id]=0)})}}}])}),define("modules/main/directives/focus-on-show",["./module"],function(directives){"use strict";directives.directive("focusOnShow",["$timeout",function($timeout){return{restrict:"A",link:function link($scope,$element,$attr){$attr.ngShow&&$scope.$watch($attr.ngShow,function(newValue){newValue&&$timeout(function(){$element.focus()},0)}),$attr.ngHide&&$scope.$watch($attr.ngHide,function(newValue){newValue||$timeout(function(){$element.focus()},0)})}}}])}),define("modules/main/directives/upload-border",["./module"],function(directives){"use strict";directives.directive("uploadBorder",function(){return{restrict:"A",link:function link($scope,$elm){var lastDropFolderId=-1,counter=0,$backdrop=$("<div class=\"upload-drop\"><div class=\"backdrop\"></div>"+"<div class=\"message no-overflow\">Drop files to upload to <span class=\"folder\">Sources</span></div></div>").hide().appendTo("body"),$folder=$backdrop.find(".folder"),addBackdrop=function(e){e.preventDefault(),counter++,$backdrop.show(),$scope.resetUploaderUrl(),$("body").addClass("drop-file")},hideBackdrop=function(){counter=0,$backdrop.hide(),$("body").removeClass("drop-file")},editMessage=function(){var folderId=$(".upload-item.movable.drop-active .uid").val();if(folderId!=lastDropFolderId){if(!folderId){var currentFolderName=$scope.selectedSourceFolder?$scope.selectedSourceFolder.name:"Sources";$folder.text(currentFolderName)}else{var u=$scope.getUploadById(folderId);$folder.text(u.name)}lastDropFolderId=folderId}},removeBackdrop=function(){counter--,0===counter&&hideBackdrop()},dropAndRemoveBackdrop=function(){hideBackdrop()};$elm.on("dragover",editMessage).on("dragenter",addBackdrop).on("dragleave",removeBackdrop).on("drop",dropAndRemoveBackdrop),$scope.$on("$destroy",function(){$elm.off("dragover",editMessage).off("dragenter",addBackdrop).off("dragleave",removeBackdrop).off("drop",dropAndRemoveBackdrop)})}}})}),define("modules/main/directives/datadoc-pane",["./module"],function(directives){"use strict";directives.directive("datadocPane",["$timeout",function($timeout){return{restrict:"E",templateUrl:"static/templates/include/datadoc-pane.html",link:function link($scope,$elm){$elm=$elm.children().first(),$scope.$watch("indexToRename",function(index){index&&$timeout(function(){var input=$elm.find(".name-input");input.length&&(input.focus(),input[0].setSelectionRange(0,input.val().length))})})}}}])}),define("modules/main/directives/datepicker",["./module","moment","angular"],function(module,moment,angular){"use strict";var CaseApp={};CaseApp.convertHex=function(hex,opacity){hex=hex.replace("#","");var r=parseInt(hex.substring(0,2),16),g=parseInt(hex.substring(2,4),16),b=parseInt(hex.substring(4,6),16);return"rgba("+r+","+g+","+b+","+opacity/100+")"},CaseApp.cFL=function(string){return string.charAt(0).toUpperCase()+string.slice(1)},CaseApp.Calendar=function(month,year,op){this.month=month,this.year=year,this.op=op,this.html=""},CaseApp.Calendar.prototype.generateHTML=function(scope,week){var startingDay=moment([this.year,this.month,1]).isoWeekday(),monthLength=[31,28,31,30,31,30,31,31,30,31,30,31][this.month],tempDate=moment(scope["custom"+CaseApp.cFL(this.op)]),weekBuffer=week?" class=\"highlight\" ng-click=\"selectWeek($event,"+moment([this.year,this.month,15]).unix()+")\"":"",weekHighlight,weekClick,lastmonday,d;1==this.month&&(0==this.year%4&&0!=this.year%100||0==this.year%400)&&(monthLength=29);for(var html="<thead><tr><th>Mo</th><th>Tu</th><th>We</th><th>Th</th><th>Fr</th><th>Sa</th><th>Su</th></tr></thead><tbody><tr"+weekBuffer+">",day=1,nextDay=1,i=0;9>i;i++){for(var j=1;7>=j;j++)day<=monthLength&&(0<i||j>=startingDay)?(weekHighlight=week?moment([this.year,this.month,day]).isSame(tempDate.toISOString(),"isoweek")?"selected":"":day==tempDate.date()&&this.month==tempDate.month()&&this.year==tempDate.year()?"selected":"",weekClick=week?"":"ng-click=\"selectDay("+day+", calLabel,'"+this.op+"')\"",html+="<td "+weekClick+" class=\"selectable "+weekHighlight+"\"><span class=\"label\">"+day+"</span>",day++):day>monthLength?(d=11==this.month?moment([this.year+1,0,day-monthLength]):moment([this.year,this.month+1,day-monthLength]),html+="<td class=\"next-month "+(week?d.isSame(tempDate.toISOString(),"isoweek")?"selected":"":"")+"\"><span class=\"label\">"+nextDay+"</span>",nextDay++,day++):day<monthLength&&j<startingDay&&(d=0==this.month?moment([this.year-1,11,1]).endOf("month").startOf("week"):moment([this.year,this.month-1,1]).endOf("month").startOf("week"),lastmonday=d.add(j,"days").date(),html+="<td class=\"prev-month "+(week?moment([this.year,this.month,day]).isSame(tempDate.toISOString(),"isoweek")?"selected":"":"")+"\"><span class=\"label\">"+lastmonday+"</span>"),html+="</td>";if(day>monthLength)break;else html+="</tr><tr"+weekBuffer+">"}html+="</tr></tbody>",this.html=html},CaseApp.Calendar.prototype.getHTML=function(){return this.html},module.directive("popoverMenu",["$rootScope","$compile",function(){return{restrict:"A",link:function link(scope){scope.currentTab="range",scope.doSearch=function(min,max){scope.mappings.value1=1e3*min,scope.mappings.value2=1e3*max,scope.mappings.callback()}},scope:{mappings:"="},templateUrl:"static/templates/include/datepicker/popover-main-template.html"}}]),module.directive("popoverMenuRange",["$rootScope","$compile",function($rootScope,$compile){return{restrict:"A",link:function link(scope,element){var table=angular.element(element[0].querySelector(".day table"));scope.currentInput="min",scope.calLabel=0,scope.customMin=scope.mappings.value1,scope.customMax=scope.mappings.value2,scope.currentRange="c",scope.last=!1,scope.next=!1,scope.now=moment(),scope.getMonth=function(unixDate,op){var date=new Date(unixDate);this.renderCal(new Date(date.getFullYear(),date.getMonth()+op,1).getTime(),this.currentInput)},scope.renderCal=function(unixDate,op){if(!this.mappings.popoverRadio){this.currentInput=op,this.mappings.popoverCal=!0,this.calLabel=unixDate;var date=new Date(unixDate),newCal=new CaseApp.Calendar(date.getMonth(),date.getFullYear(),op);newCal.generateHTML(this),table.html(newCal.getHTML()),$compile(table.contents())(this)}},scope.selectDay=function(day,unixDate,op){var date=new Date(unixDate);date.setDate(day),unixDate=date.getTime(),"min"==op?this.customMin=unixDate:this.customMax=unixDate,this.renderCal(unixDate,op),this.currentRange="c",this.applyFilter()},scope.fixedInterval=function(interval,hours){var today=Math.round(new Date().getTime());"l"==interval?(this.customMin=scope.mappings.min,this.customMax=scope.mappings.max):(this.customMin=today-1e3*(3600*hours),this.customMax=today),this.mappings.popoverRadio=!1,this.currentRange=interval,this.applyFilter()},scope.applyFilter=function(button){var from,to,now;this.currentRange=button?"c":this.currentRange,this.mappings.popoverRadio&&(""==this.lastValue?from=this.now.clone():(now=this.now.clone(),from=now.subtract(this.lastValue,this.lastSelect)),""==this.nextValue?to=this.now.clone():(now=this.now.clone(),to=now.add(this.nextValue,this.nextSelect)),this.customMin=1e3*from.unix(),this.customMax=1e3*to.unix()),scope.$parent.doSearch(scope.customMin/1e3,scope.customMax/1e3),this.mappings.popoverCal=!1,this.mappings.popover=!1},scope.toggleRadio=function(){this.mappings.popoverRadio&&(this.mappings.popoverCal=!1),this.next=!1,this.last=!1},scope.dynamicSelect=function(type){"LABEL"!=event.target.tagName&&(this[type]=!this[type])},scope.inputDisabled=function(type){return!this[type]&&(this[type+"Value"]="",!0)}},scope:{mappings:"=",facet:"@"},templateUrl:"static/templates/include/datepicker/popover-range-template.html"}}]),module.directive("popoverMenuWeek",["$rootScope","$compile",function($rootScope,$compile){return{restrict:"A",link:function link(scope,element){var table=angular.element(element[0].querySelector(".day table"));scope.calLabel=0,scope.customMin=scope.mappings.value1,scope.customMax=scope.mappings.value2,scope.getMonth=function(unixDate,op){var date=new Date(unixDate);this.renderCal(new Date(date.getFullYear(),date.getMonth()+op,1).getTime(),this.currentInput)},scope.renderCal=function(unixDate){this.calLabel=unixDate;var date=new Date(unixDate),newCal=new CaseApp.Calendar(date.getMonth(),date.getFullYear(),"min");newCal.generateHTML(this,!0),table.html(newCal.getHTML()),$compile(table.contents())(this)},scope.selectWeek=function(e,d){var weekStart,weekEnd,from,to,weekNo;angular.element(e.target).hasClass("label")?(weekStart=+e.target.parentNode.parentNode.childNodes[0].textContent,weekEnd=+e.target.parentNode.parentNode.childNodes[6].textContent,weekNo=e.target.parentNode.parentNode.rowIndex):(weekStart=+e.target.parentNode.childNodes[0].textContent,weekEnd=+e.target.parentNode.childNodes[6].textContent,weekNo=e.target.parentNode.rowIndex),weekStart>weekEnd&&1==weekNo?(from=moment.unix(d).date(weekStart).subtract(1,"month").unix(),to=moment.unix(d).date(weekEnd).unix()):weekStart>weekEnd?(from=moment.unix(d).date(weekStart).unix(),to=moment.unix(d).date(weekEnd).add(1,"month").unix()):(from=moment.unix(d).date(weekStart).unix(),to=moment.unix(d).date(weekEnd).unix()),this.customMin=1e3*from,this.customMax=1e3*to,scope.renderCal(this.customMin),scope.$parent.doSearch(from,to),this.mappings.popoverCal=!1,this.mappings.popover=!1},0==scope.calLabel&&scope.renderCal(scope.customMin)},scope:{mappings:"=",facet:"@"},templateUrl:"static/templates/include/datepicker/popover-week-template.html"}}]),module.directive("popoverMenuMonth",["$rootScope","$compile",function(){return{restrict:"A",link:function link(scope){scope.customMin=scope.mappings.value1,scope.customMax=scope.mappings.value2,scope.calLabel=moment().unix(),scope.getYear=function(unixDate,op){var date=moment.unix(unixDate);1==op?date.add(1,"year"):date.subtract(1,"year"),scope.calLabel=date.unix()},scope.isSelected=function(month){var then=moment.unix(this.calLabel).month(month),now=moment.unix(this.customMin);return then.month()==now.month()&&then.year()==now.year()},scope.selectMonth=function(month){this.customMin=moment.unix(this.calLabel).month(month).startOf("month").unix(),this.customMax=moment.unix(this.calLabel).month(month).endOf("month").unix(),this.calLabel=this.customMin,scope.$parent.doSearch(scope.customMin,scope.customMax),this.mappings.popoverCal=!1,this.mappings.popover=!1}},scope:{mappings:"=",facet:"@"},templateUrl:"static/templates/include/datepicker/popover-month-template.html"}}]),module.directive("popoverMenuQuarter",["$rootScope","$compile",function(){return{restrict:"A",link:function link(scope){scope.calLabel=moment().unix(),scope.customMin=scope.mappings.value1,scope.customMax=scope.mappings.value2,scope.getYear=function(unixDate,op){var date=moment.unix(unixDate);1==op?date.add(1,"year"):date.subtract(1,"year"),scope.calLabel=date.unix()},scope.isSelected=function(quarter){var then=moment.unix(this.calLabel).quarter(quarter),now=moment.unix(this.customMin);return then.quarter()==now.quarter()&&then.year()==now.year()},scope.selectQuarter=function(quarter){this.customMin=moment.unix(this.calLabel).quarter(quarter).startOf("quarter").unix(),this.customMax=moment.unix(this.calLabel).quarter(quarter).endOf("quarter").unix(),this.calLabel=this.customMin,scope.$parent.doSearch(scope.customMin,scope.customMax),this.mappings.popoverCal=!1,this.mappings.popover=!1}},scope:{mappings:"=",facet:"@"},templateUrl:"static/templates/include/datepicker/popover-quarter-template.html"}}]),module.directive("popoverMenuYear",["$rootScope","$compile",function(){return{restrict:"A",link:function link(scope){var startYear=moment(scope.mappings.min).year(),endYear=moment(scope.mappings.max).year();scope.years=[];for(var i=startYear;i<=endYear;i++)scope.years.push(i);scope.selectYear=function(year){var now=moment();this.customMin=now.year(year).startOf("year").unix(),this.customMax=now.year(year).endOf("year").unix(),scope.$parent.doSearch(this.customMin,this.customMax),this.mappings.popoverCal=!1,this.mappings.popover=!1},scope.isSelected=function(year){var now=moment(this.mappings.value1);return year==now.year()}},scope:{mappings:"=",facet:"@"},templateUrl:"static/templates/include/datepicker/popover-year-template.html"}}]),module.directive("hidePopover",["$document",function($document){return{restrict:"A",link:function link(scope,element,attrs){element.on("click",".period-selector, .radioCont, .movingRange, .custom-range-inputs, .custom-range-type, header.controls",function(e){e.stopPropagation()}),$document.bind("click",function(){scope.$apply(attrs.hidePopover)})}}}])});(function(){function require(name){var module=require.modules[name];if(!module)throw new Error("failed to require \""+name+"\"");return"exports"in module||"function"!=typeof module.definition||(module.client=module.component=!0,module.definition.call(this,module.exports={},module),delete module.definition),module.exports}var _Mathabs7=Math.abs;require.loader="component",require.helper={},require.helper.semVerSort=function(a,b){for(var aArray=a.version.split("."),bArray=b.version.split("."),i=0;i<aArray.length;++i){var aInt=parseInt(aArray[i],10),bInt=parseInt(bArray[i],10);if(aInt===bInt){var aLex=aArray[i].substr((""+aInt).length),bLex=bArray[i].substr((""+bInt).length);if(""===aLex&&""!==bLex)return 1;if(""!==aLex&&""===bLex)return-1;if(""!==aLex&&""!==bLex)return aLex>bLex?1:-1;continue}else return aInt>bInt?1:-1}return 0},require.latest=function(name,returnPath){function showError(name){throw new Error("failed to find latest module of \""+name+"\"")}var versionRegexp=/(.*)~(.*)@v?(\d+\.\d+\.\d+[^\/]*)$/,remoteRegexp=/(.*)~(.*)/;remoteRegexp.test(name)||showError(name);for(var moduleNames=Object.keys(require.modules),semVerCandidates=[],otherCandidates=[],i=0,moduleName;i<moduleNames.length;i++)if(moduleName=moduleNames[i],new RegExp(name+"@").test(moduleName)){var version=moduleName.substr(name.length+1),semVerMatch=versionRegexp.exec(moduleName);null==semVerMatch?otherCandidates.push({version:version,name:moduleName}):semVerCandidates.push({version:version,name:moduleName})}if(0===semVerCandidates.concat(otherCandidates).length&&showError(name),0<semVerCandidates.length){var module=semVerCandidates.sort(require.helper.semVerSort).pop().name;return!0===returnPath?module:require(module)}var module=otherCandidates.pop().name;return!0===returnPath?module:require(module)},require.modules={},require.register=function(name,definition){require.modules[name]={definition:definition}},require.define=function(name,exports){require.modules[name]={exports:exports}},require.register("abpetkov~transitionize@0.0.3",function(exports,module){function Transitionize(element,props){return this instanceof Transitionize?void(this.element=element,this.props=props||{},this.init()):new Transitionize(element,props)}module.exports=Transitionize,Transitionize.prototype.isSafari=function(){return /Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},Transitionize.prototype.init=function(){var transitions=[];for(var key in this.props)transitions.push(key+" "+this.props[key]);this.element.style.transition=transitions.join(", "),this.isSafari()&&(this.element.style.webkitTransition=transitions.join(", "))}}),require.register("ftlabs~fastclick@v0.6.11",function(exports,module){function FastClick(layer){"use strict";var self=this,oldOnClick;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=layer,!layer||!layer.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(self,arguments)},this.onMouse=function(){return FastClick.prototype.onMouse.apply(self,arguments)},this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(self,arguments)},this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(self,arguments)},this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(self,arguments)},this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(self,arguments)},FastClick.notNeeded(layer)||(this.deviceIsAndroid&&(layer.addEventListener("mouseover",this.onMouse,!0),layer.addEventListener("mousedown",this.onMouse,!0),layer.addEventListener("mouseup",this.onMouse,!0)),layer.addEventListener("click",this.onClick,!0),layer.addEventListener("touchstart",this.onTouchStart,!1),layer.addEventListener("touchmove",this.onTouchMove,!1),layer.addEventListener("touchend",this.onTouchEnd,!1),layer.addEventListener("touchcancel",this.onTouchCancel,!1),!Event.prototype.stopImmediatePropagation&&(layer.removeEventListener=function(type,callback,capture){var rmv=Node.prototype.removeEventListener;"click"===type?rmv.call(layer,type,callback.hijacked||callback,capture):rmv.call(layer,type,callback,capture)},layer.addEventListener=function(type,callback,capture){var adv=Node.prototype.addEventListener;"click"===type?adv.call(layer,type,callback.hijacked||(callback.hijacked=function(event){event.propagationStopped||callback(event)}),capture):adv.call(layer,type,callback,capture)}),"function"==typeof layer.onclick&&(oldOnClick=layer.onclick,layer.addEventListener("click",function(event){oldOnClick(event)},!1),layer.onclick=null))}FastClick.prototype.deviceIsAndroid=0<navigator.userAgent.indexOf("Android"),FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),FastClick.prototype.needsClick=function(target){"use strict";switch(target.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(target.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===target.type||target.disabled)return!0;break;case"label":case"video":return!0;}return /\bneedsclick\b/.test(target.className)},FastClick.prototype.needsFocus=function(target){"use strict";switch(target.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(target.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1;}return!target.disabled&&!target.readOnly;default:return /\bneedsfocus\b/.test(target.className);}},FastClick.prototype.sendClick=function(targetElement,event){"use strict";var clickEvent,touch;document.activeElement&&document.activeElement!==targetElement&&document.activeElement.blur(),touch=event.changedTouches[0],clickEvent=document.createEvent("MouseEvents"),clickEvent.initMouseEvent(this.determineEventType(targetElement),!0,!0,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,!1,!1,!1,!1,0,null),clickEvent.forwardedTouchEvent=!0,targetElement.dispatchEvent(clickEvent)},FastClick.prototype.determineEventType=function(targetElement){"use strict";return this.deviceIsAndroid&&"select"===targetElement.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(targetElement){"use strict";var length;this.deviceIsIOS&&targetElement.setSelectionRange&&0!==targetElement.type.indexOf("date")&&"time"!==targetElement.type?(length=targetElement.value.length,targetElement.setSelectionRange(length,length)):targetElement.focus()},FastClick.prototype.updateScrollParent=function(targetElement){"use strict";var scrollParent,parentElement;if(scrollParent=targetElement.fastClickScrollParent,!scrollParent||!scrollParent.contains(targetElement)){parentElement=targetElement;do{if(parentElement.scrollHeight>parentElement.offsetHeight){scrollParent=parentElement,targetElement.fastClickScrollParent=parentElement;break}parentElement=parentElement.parentElement}while(parentElement)}scrollParent&&(scrollParent.fastClickLastScrollTop=scrollParent.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(eventTarget){"use strict";return eventTarget.nodeType===Node.TEXT_NODE?eventTarget.parentNode:eventTarget},FastClick.prototype.onTouchStart=function(event){"use strict";var targetElement,touch,selection;if(1<event.targetTouches.length)return!0;if(targetElement=this.getTargetElementFromEventTarget(event.target),touch=event.targetTouches[0],this.deviceIsIOS){if(selection=window.getSelection(),selection.rangeCount&&!selection.isCollapsed)return!0;if(!this.deviceIsIOS4){if(touch.identifier===this.lastTouchIdentifier)return event.preventDefault(),!1;this.lastTouchIdentifier=touch.identifier,this.updateScrollParent(targetElement)}}return this.trackingClick=!0,this.trackingClickStart=event.timeStamp,this.targetElement=targetElement,this.touchStartX=touch.pageX,this.touchStartY=touch.pageY,200>event.timeStamp-this.lastClickTime&&event.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(event){"use strict";var touch=event.changedTouches[0],boundary=this.touchBoundary;return!!(_Mathabs7(touch.pageX-this.touchStartX)>boundary||_Mathabs7(touch.pageY-this.touchStartY)>boundary)},FastClick.prototype.onTouchMove=function(event){"use strict";return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event))&&(this.trackingClick=!1,this.targetElement=null),!0)},FastClick.prototype.findControl=function(labelElement){"use strict";return void 0===labelElement.control?labelElement.htmlFor?document.getElementById(labelElement.htmlFor):labelElement.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea"):labelElement.control},FastClick.prototype.onTouchEnd=function(event){"use strict";var targetElement=this.targetElement,forElement,trackingClickStart,targetTagName,scrollParent,touch;if(!this.trackingClick)return!0;if(200>event.timeStamp-this.lastClickTime)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=event.timeStamp,trackingClickStart=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(touch=event.changedTouches[0],targetElement=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||targetElement,targetElement.fastClickScrollParent=this.targetElement.fastClickScrollParent),targetTagName=targetElement.tagName.toLowerCase(),"label"===targetTagName){if(forElement=this.findControl(targetElement),forElement){if(this.focus(targetElement),this.deviceIsAndroid)return!1;targetElement=forElement}}else if(this.needsFocus(targetElement))return 100<event.timeStamp-trackingClickStart||this.deviceIsIOS&&window.top!==window&&"input"===targetTagName?(this.targetElement=null,!1):(this.focus(targetElement),this.deviceIsIOS4&&"select"===targetTagName||(this.targetElement=null,event.preventDefault()),!1);return!!(this.deviceIsIOS&&!this.deviceIsIOS4&&(scrollParent=targetElement.fastClickScrollParent,scrollParent&&scrollParent.fastClickLastScrollTop!==scrollParent.scrollTop))||(this.needsClick(targetElement)||(event.preventDefault(),this.sendClick(targetElement,event)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(event){"use strict";return!this.targetElement||!!event.forwardedTouchEvent||!event.cancelable||this.needsClick(this.targetElement)&&!this.cancelNextClick||(event.stopImmediatePropagation?event.stopImmediatePropagation():event.propagationStopped=!0,event.stopPropagation(),event.preventDefault(),!1)},FastClick.prototype.onClick=function(event){"use strict";var permitted;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):!("submit"!==event.target.type||0!==event.detail)||(permitted=this.onMouse(event),permitted||(this.targetElement=null),permitted)},FastClick.prototype.destroy=function(){"use strict";var layer=this.layer;this.deviceIsAndroid&&(layer.removeEventListener("mouseover",this.onMouse,!0),layer.removeEventListener("mousedown",this.onMouse,!0),layer.removeEventListener("mouseup",this.onMouse,!0)),layer.removeEventListener("click",this.onClick,!0),layer.removeEventListener("touchstart",this.onTouchStart,!1),layer.removeEventListener("touchmove",this.onTouchMove,!1),layer.removeEventListener("touchend",this.onTouchEnd,!1),layer.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(layer){"use strict";var metaViewport,chromeVersion;if("undefined"==typeof window.ontouchstart)return!0;if(chromeVersion=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],chromeVersion){if(!FastClick.prototype.deviceIsAndroid)return!0;if(metaViewport=document.querySelector("meta[name=viewport]"),metaViewport){if(-1!==metaViewport.content.indexOf("user-scalable=no"))return!0;if(31<chromeVersion&&window.innerWidth<=window.screen.width)return!0}}return"none"===layer.style.msTouchAction},FastClick.attach=function(layer){"use strict";return new FastClick(layer)},"undefined"!=typeof define&&define.amd?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick}),require.register("component~indexof@0.0.3",function(exports,module){module.exports=function(arr,obj){if(arr.indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i)if(arr[i]===obj)return i;return-1}}),require.register("component~classes@1.2.1",function(exports,module){function ClassList(el){if(!el)throw new Error("A DOM element reference is required");this.el=el,this.list=el.classList}var index=require("component~indexof@0.0.3"),re=/\s+/,toString=Object.prototype.toString;module.exports=function(el){return new ClassList(el)},ClassList.prototype.add=function(name){if(this.list)return this.list.add(name),this;var arr=this.array(),i=index(arr,name);return~i||arr.push(name),this.el.className=arr.join(" "),this},ClassList.prototype.remove=function(name){if("[object RegExp]"==toString.call(name))return this.removeMatching(name);if(this.list)return this.list.remove(name),this;var arr=this.array(),i=index(arr,name);return~i&&arr.splice(i,1),this.el.className=arr.join(" "),this},ClassList.prototype.removeMatching=function(re){for(var arr=this.array(),i=0;i<arr.length;i++)re.test(arr[i])&&this.remove(arr[i]);return this},ClassList.prototype.toggle=function(name,force){return this.list?("undefined"==typeof force?this.list.toggle(name):force!==this.list.toggle(name,force)&&this.list.toggle(name),this):("undefined"==typeof force?this.has(name)?this.remove(name):this.add(name):force?this.add(name):this.remove(name),this)},ClassList.prototype.array=function(){var str=this.el.className.replace(/^\s+|\s+$/g,""),arr=str.split(re);return""===arr[0]&&arr.shift(),arr},ClassList.prototype.has=ClassList.prototype.contains=function(name){return this.list?this.list.contains(name):!!~index(this.array(),name)}}),require.register("switchery",function(exports,module){function Switchery(element,options){if(!(this instanceof Switchery))return new Switchery(element,options);for(var i in this.element=element,this.options=options||{},defaults)null==this.options[i]&&(this.options[i]=defaults[i]);null!=this.element&&"checkbox"==this.element.type&&this.init()}var transitionize=require("abpetkov~transitionize@0.0.3"),fastclick=require("ftlabs~fastclick@v0.6.11"),classes=require("component~classes@1.2.1");module.exports=Switchery;var defaults={color:"#64bd63",secondaryColor:"#dfdfdf",jackColor:"#fff",className:"switchery",disabled:!1,disabledOpacity:.5,speed:"0.4s",size:"default"};Switchery.prototype.hide=function(){this.element.style.display="none"},Switchery.prototype.show=function(){var switcher=this.create();this.insertAfter(this.element,switcher)},Switchery.prototype.create=function(){return this.switcher=document.createElement("span"),this.jack=document.createElement("small"),this.switcher.appendChild(this.jack),this.switcher.className=this.options.className,this.switcher},Switchery.prototype.insertAfter=function(reference,target){reference.parentNode.insertBefore(target,reference.nextSibling)},Switchery.prototype.isChecked=function(){return this.element.checked},Switchery.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled||this.element.readOnly},Switchery.prototype.setPosition=function(clicked){var checked=this.isChecked(),switcher=this.switcher,jack=this.jack;clicked&&checked?checked=!1:clicked&&!checked&&(checked=!0),!0===checked?(this.element.checked=!0,jack.style.left=window.getComputedStyle?parseInt(window.getComputedStyle(switcher).width)-parseInt(window.getComputedStyle(jack).width)+"px":parseInt(switcher.currentStyle.width)-parseInt(jack.currentStyle.width)+"px",this.options.color&&this.colorize(),this.setSpeed()):(jack.style.left=0,this.element.checked=!1,this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor,this.switcher.style.borderColor=this.options.secondaryColor,this.switcher.style.backgroundColor=this.options.secondaryColor===defaults.secondaryColor?"#fff":this.options.secondaryColor,this.jack.style.backgroundColor=this.options.jackColor,this.setSpeed())},Switchery.prototype.setSpeed=function(){var switcherProp={},jackProp={left:this.options.speed.replace(/[a-z]/,"")/2+"s"};switcherProp=this.isChecked()?{border:this.options.speed,"box-shadow":this.options.speed,"background-color":3*this.options.speed.replace(/[a-z]/,"")+"s"}:{border:this.options.speed,"box-shadow":this.options.speed},transitionize(this.switcher,switcherProp),transitionize(this.jack,jackProp)},Switchery.prototype.setSize=function(){switch(this.options.size){case"small":classes(this.switcher).add("switchery-small");break;case"large":classes(this.switcher).add("switchery-large");break;default:classes(this.switcher).add("switchery-default");}},Switchery.prototype.colorize=function(){var switcherHeight=this.switcher.offsetHeight/2;this.switcher.style.backgroundColor=this.options.color,this.switcher.style.borderColor=this.options.color,this.switcher.style.boxShadow="inset 0 0 0 "+switcherHeight+"px "+this.options.color,this.jack.style.backgroundColor=this.options.jackColor},Switchery.prototype.handleOnchange=function(){if(document.dispatchEvent){var event=document.createEvent("HTMLEvents");event.initEvent("change",!0,!0),this.element.dispatchEvent(event)}else this.element.fireEvent("onchange")},Switchery.prototype.handleChange=function(){var self=this,el=this.element;el.addEventListener?el.addEventListener("change",function(){self.setPosition()}):el.attachEvent("onchange",function(){self.setPosition()})},Switchery.prototype.handleClick=function(){var self=this,switcher=this.switcher,parent=self.element.parentNode.tagName.toLowerCase(),labelParent="label"!==parent;!1===this.isDisabled()?(fastclick(switcher),switcher.addEventListener?switcher.addEventListener("click",function(){self.setPosition(labelParent),self.handleOnchange(self.element.checked)}):switcher.attachEvent("onclick",function(){self.setPosition(labelParent),self.handleOnchange(self.element.checked)})):(this.element.disabled=!0,this.switcher.style.opacity=this.options.disabledOpacity)},Switchery.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",!0)},Switchery.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")},Switchery.prototype.init=function(){this.hide(),this.show(),this.setSize(),this.setPosition(),this.markAsSwitched(),this.handleChange(),this.handleClick()}}),"object"==("undefined"==typeof exports?"undefined":_typeof2(exports))?module.exports=require("switchery"):"function"==typeof define&&define.amd?define("Switchery",[],function(){return require("switchery")}):(this||window).Switchery=require("switchery")})(),define("modules/main/directives/ui-switch",["./module","Switchery"],function(directives,Switchery){"use strict";directives.directive("uiSwitch",["$window","$timeout","$log","$parse",function($window,$timeout,$log,$parse){return{require:"ngModel",restrict:"AE",scope:{initValue:"=ngModel"},link:function(scope,elem,attrs,ngModel){function initializeSwitch(){$timeout(function(){switcher&&angular.element(switcher.switcher).remove(),switcher=new Switchery(elem[0],options);var element=switcher.element;element.checked=scope.initValue,switcher.setPosition(!1),element.addEventListener("change",function(){scope.$apply(function(){ngModel.$setViewValue(element.checked)})})},0)}if(!ngModel)return!1;var options={};try{options=$parse(attrs.uiSwitch)(scope)}catch(e){}var switcher,previousDisabledValue;attrs.$observe("disabled",function(value){void 0!=value&&value!=previousDisabledValue&&(previousDisabledValue=value,initializeSwitch())}),initializeSwitch()}}}])}),define("modules/main/directives/v-resizable",["./module","angular"],function(directives,angular){"use strict";directives.directive("vResizable",["$document","$localStorage","$timeout","$rootScope",function($document,$localStorage,$timeout,$rootScope){return{restrict:"A",link:function link($scope,$elm,$attr){function setHeight(y){$elm.css({height:y+"px"})}function mousemove(event){var parent=$elm.offsetParent(),padding=parent.height()-$elm[0].offsetHeight,y=event.pageY-$elm.offset().top-padding;if(options.vResizableMax&&y>options.vResizableMax&&(y=parseInt(options.vResizableMax)),options.vResizableMin&&y<options.vResizableMin&&("vResizableMinSnap"in options?y=0:y=parseInt(options.vResizableMin)),nextElement){var newHeight=nextElement.height()-nextY;0>newHeight&&(newHeight=0),nextElement.height(newHeight),nextElement.attr("v-resizable-storage-attr")&&($scope.$storage[nextElement.attr("v-resizable-storage-attr")]=newHeight)}if(setHeight(y),$scrollable){var bottom=$elm.offset().top+$elm.outerHeight();bottom>$scrollable.height()?$scrollable.scrollTop($scrollable.scrollTop()+20):bottom<$scrollable.offset().top+100&&$scrollable.scrollTop($scrollable.scrollTop()-20)}options.vResizableStorageAttr&&($scope.$storage[options.vResizableStorageAttr]=y),doCallback(onResize,$elm)}function doCallback(callback,element){if(callback){var args=[{width:element.outerWidth(),height:element.outerHeight()}];callback.apply($scope,args)}}function mouseup(){$document.unbind("mousemove",mousemove),$document.unbind("mouseup",mouseup),$scope.$apply(function(){doCallback(onResizeFinished,$elm)})}var $handle=angular.element("<div class=\"resize-handle\"></div>"),options=$attr,$scrollable,onResize,onResizeFinished,nextElement;if(options.id=$attr.vResizableId,!options||!options.id)throw"Please assign resize component ID through options";options.vResizableScrollableContainer&&($scrollable=$(options.vResizableScrollableContainer)),options.vResizableOnResizeFinished&&$timeout(function(){onResizeFinished=$scope.$eval(options.vResizableOnResizeFinished)}),options.vResizableOnResize&&$timeout(function(){onResize=$scope.$eval(options.vResizableOnResize)}),$elm.after($handle),$scope.$storage=$localStorage.$default(),$rootScope.$on("doWidgetResize",function(){$(document).ready(function(){if(options.vResizableStorageAttr){var y=$scope.$storage[options.vResizableStorageAttr];(y||0==y)&&(setHeight(y),doCallback(onResizeFinished,$elm))}})}),$handle.on("mousedown",function(event){event.preventDefault();var elements=$("div[v-resizable]");nextElement=null;for(var i=0;i<elements.length-1;++i)if(elements[i]==$elm[0]){nextElement=$(elements[i+1]);break}$document.on("mousemove",mousemove),$document.on("mouseup",mouseup)}),$scope.$on("reset-"+options.id,function(e,height){var y=height;options.vResizableMin&&y<options.vResizableMin&&("vResizableMinSnap"in options?y=0:options.vResizableDefault?y=parseInt(options.vResizableDefault):y=parseInt(options.vResizableMin)),options.vResizableMax&&y>options.vResizableMax&&(y=parseInt(options.vResizableMax)),setHeight(y)})}}}])}),define("modules/main/directives/on-render",["./module"],function(directives){"use strict";directives.directive("onRender",["ScopeService",function(){return{restrict:"A",link:function link(scope,element,attr){scope.$eval(attr.onRender)}}}])}),define("modules/main/directives/infinite-scroll",["./module"],function(directives){"use strict";directives.directive("infiniteScroll",[function(){return{restrict:"A",scope:{callback:"=infiniteScroll",offsetFromBottom:"=infiniteScrollOffsetFromBottom"},link:function link(scope,elm){var raw=elm[0];elm.bind("scroll",function(){raw.scrollTop+raw.offsetHeight>=raw.scrollHeight*((100-(scope.offsetFromBottom||0))/100)&&!scope.$parent.inRequest&&scope.$apply(function(){scope.callback()})})}}}])}),define("modules/main/directives/vs-repeat",["./module","angular"],function(directives,angular){"use strict";function getWindowScroll(){if("pageYOffset"in window)return{scrollTop:pageYOffset,scrollLeft:pageXOffset};var d=document,r=d.documentElement,b=d.body,sx,sy;return sx=r.scrollLeft||b.scrollLeft||0,sy=r.scrollTop||b.scrollTop||0,{scrollTop:sy,scrollLeft:sx}}function getClientSize(element,sizeProp){return element===window?"clientWidth"===sizeProp?window.innerWidth:window.innerHeight:element[sizeProp]}function getScrollPos(element,scrollProp){return element===window?getWindowScroll()[scrollProp]:element[scrollProp]}function getScrollOffset(vsElement,scrollElement,isHorizontal){var vsPos=vsElement.getBoundingClientRect()[isHorizontal?"left":"top"],scrollPos=scrollElement===window?0:scrollElement.getBoundingClientRect()[isHorizontal?"left":"top"],correction=vsPos-scrollPos+(scrollElement===window?getWindowScroll():scrollElement)[isHorizontal?"scrollLeft":"scrollTop"];return correction}var _Mathceil3=Math.ceil,_Mathfloor3=Math.floor,_Mathabs8=Math.abs,_Mathmin5=Math.min,_Mathmax5=Math.max,dde=document.documentElement,matchingFunction=dde.matches?"matches":dde.matchesSelector?"matchesSelector":dde.webkitMatches?"webkitMatches":dde.webkitMatchesSelector?"webkitMatchesSelector":dde.msMatches?"msMatches":dde.msMatchesSelector?"msMatchesSelector":dde.mozMatches?"mozMatches":dde.mozMatchesSelector?"mozMatchesSelector":null,closestElement=angular.element.prototype.closest||function(selector){for(var el=this[0].parentNode;el!==document.documentElement&&null!=el&&!el[matchingFunction](selector);)el=el.parentNode;return el&&el[matchingFunction](selector)?angular.element(el):angular.element()};directives.directive("vsRepeat",["$compile","$parse",function($compile,$parse){return{restrict:"A",scope:!0,compile:function compile($element,$attrs){var repeatContainer=angular.isDefined($attrs.vsRepeatContainer)?angular.element($element[0].querySelector($attrs.vsRepeatContainer)):$element,ngRepeatChild=repeatContainer.children().eq(0),childCloneHtml=ngRepeatChild[0].outerHTML,collectionName="$vs_collection",isNgRepeatStart=!1,attributesDictionary={vsRepeat:"elementSize",vsOffsetBefore:"offsetBefore",vsOffsetAfter:"offsetAfter",vsScrolledToEndOffset:"scrolledToEndOffset",vsExcess:"excess"},ngRepeatExpression,expressionMatches,lhs,rhs,rhsSuffix,originalNgRepeatAttr;if(ngRepeatChild.attr("ng-repeat"))originalNgRepeatAttr="ng-repeat",ngRepeatExpression=ngRepeatChild.attr("ng-repeat");else if(ngRepeatChild.attr("data-ng-repeat"))originalNgRepeatAttr="data-ng-repeat",ngRepeatExpression=ngRepeatChild.attr("data-ng-repeat");else if(ngRepeatChild.attr("ng-repeat-start"))isNgRepeatStart=!0,originalNgRepeatAttr="ng-repeat-start",ngRepeatExpression=ngRepeatChild.attr("ng-repeat-start");else if(ngRepeatChild.attr("data-ng-repeat-start"))isNgRepeatStart=!0,originalNgRepeatAttr="data-ng-repeat-start",ngRepeatExpression=ngRepeatChild.attr("data-ng-repeat-start");else throw new Error("angular-vs-repeat: no ng-repeat directive on a child element");if(expressionMatches=/^\s*(\S+)\s+in\s+([\S\s]+?)(track\s+by\s+\S+)?$/.exec(ngRepeatExpression),lhs=expressionMatches[1],rhs=expressionMatches[2],rhsSuffix=expressionMatches[3],isNgRepeatStart)for(var index=0,repeaterElement=repeatContainer.children().eq(0);null==repeaterElement.attr("ng-repeat-end")&&null==repeaterElement.attr("data-ng-repeat-end");)index++,repeaterElement=repeatContainer.children().eq(index),childCloneHtml+=repeaterElement[0].outerHTML;return repeatContainer.empty(),{pre:function pre($scope,$element,$attrs){function refresh(){if(!originalCollection||1>originalCollection.length)$scope[collectionName]=[],originalLength=0,$scope.sizesCumulative=[0];else if(originalLength=originalCollection.length,sizesPropertyExists){$scope.sizes=originalCollection.map(function(item){var s=$scope.$new(!1);angular.extend(s,item),s[lhs]=item;var size=$attrs.vsSize||$attrs.vsSizeProperty?s.$eval($attrs.vsSize||$attrs.vsSizeProperty):$scope.elementSize;return s.$destroy(),size});var sum=0;$scope.sizesCumulative=$scope.sizes.map(function(size){var res=sum;return sum+=size,res}),$scope.sizesCumulative.push(sum)}else setAutoSize();reinitialize()}function setAutoSize(){autoSize&&$scope.$$postDigest(function(){if(repeatContainer[0].offsetHeight||repeatContainer[0].offsetWidth){for(var children=repeatContainer.children(),i=0,gotSomething=!1,insideStartEndSequence=!1;i<children.length;){if(null!=children[i].attributes[originalNgRepeatAttr]||insideStartEndSequence)if(gotSomething||($scope.elementSize=0),gotSomething=!0,children[i][offsetSize]&&($scope.elementSize+=children[i][offsetSize]),!isNgRepeatStart)break;else if(null!=children[i].attributes["ng-repeat-end"]||null!=children[i].attributes["data-ng-repeat-end"])break;else insideStartEndSequence=!0;i++}gotSomething&&(reinitialize(),autoSize=!1,$scope.$root&&!$scope.$root.$$phase&&$scope.$apply())}else var dereg=$scope.$watch(function(){(repeatContainer[0].offsetHeight||repeatContainer[0].offsetWidth)&&(dereg(),setAutoSize())})})}function getLayoutProp(){var layoutPropPrefix="tr"===childTagName?"":"min-",layoutProp=$$horizontal?layoutPropPrefix+"width":layoutPropPrefix+"height";return layoutProp}function scrollHandler(){updateInnerCollection()&&$scope.$digest()}function onWindowResize(){"undefined"!=typeof $attrs.vsAutoresize&&(autoSize=!0,setAutoSize(),$scope.$root&&!$scope.$root.$$phase&&$scope.$apply()),updateInnerCollection()&&$scope.$apply()}function reinitialize(){_prevStartIndex=void 0,_prevEndIndex=void 0,_minStartIndex=originalLength,_maxEndIndex=0,updateTotalSize(sizesPropertyExists?$scope.sizesCumulative[originalLength]:$scope.elementSize*originalLength),updateInnerCollection(),$scope.$emit("vsRepeatReinitialized",$scope.startIndex,$scope.endIndex)}function updateTotalSize(size){$scope.totalSize=$scope.offsetBefore+size+$scope.offsetAfter}function reinitOnClientHeightChange(){var ch=getClientSize($scrollParent[0],clientSize);ch!==_prevClientSize&&(reinitialize(),$scope.$root&&!$scope.$root.$$phase&&$scope.$apply()),_prevClientSize=ch}function updateInnerCollection(){var $scrollPosition=getScrollPos($scrollParent[0],scrollPos),$clientSize=getClientSize($scrollParent[0],clientSize),scrollOffset=repeatContainer[0]===$scrollParent[0]?0:getScrollOffset(repeatContainer[0],$scrollParent[0],$$horizontal),__startIndex=$scope.startIndex,__endIndex=$scope.endIndex;if(sizesPropertyExists){for(__startIndex=0;$scope.sizesCumulative[__startIndex]<$scrollPosition-$scope.offsetBefore-scrollOffset;)__startIndex++;for(0<__startIndex&&__startIndex--,__startIndex=_Mathmax5(_Mathfloor3(__startIndex-$scope.excess/2),0),__endIndex=__startIndex;$scope.sizesCumulative[__endIndex]<$scrollPosition-$scope.offsetBefore-scrollOffset+$clientSize;)__endIndex++;__endIndex=_Mathmin5(_Mathceil3(__endIndex+$scope.excess/2),originalLength)}else __startIndex=_Mathmax5(_Mathfloor3(($scrollPosition-$scope.offsetBefore-scrollOffset)/$scope.elementSize)-$scope.excess/2,0),__endIndex=_Mathmin5(__startIndex+_Mathceil3($clientSize/$scope.elementSize)+$scope.excess,originalLength);_minStartIndex=_Mathmin5(__startIndex,_minStartIndex),_maxEndIndex=_Mathmax5(__endIndex,_maxEndIndex),$scope.startIndex=$$options.latch?_minStartIndex:__startIndex,$scope.endIndex=$$options.latch?_maxEndIndex:__endIndex;var digestRequired=!1;if(null==_prevStartIndex?digestRequired=!0:null==_prevEndIndex&&(digestRequired=!0),digestRequired||($$options.hunked?_Mathabs8($scope.startIndex-_prevStartIndex)>=$scope.excess/2||0===$scope.startIndex&&0!==_prevStartIndex?digestRequired=!0:(_Mathabs8($scope.endIndex-_prevEndIndex)>=$scope.excess/2||$scope.endIndex===originalLength&&_prevEndIndex!==originalLength)&&(digestRequired=!0):digestRequired=$scope.startIndex!==_prevStartIndex||$scope.endIndex!==_prevEndIndex),digestRequired){if($scope[collectionName]=originalCollection.slice($scope.startIndex,$scope.endIndex),$scope.$emit("vsRepeatInnerCollectionUpdated",$scope.startIndex,$scope.endIndex,_prevStartIndex,_prevEndIndex),$attrs.vsScrolledToEnd){var triggerIndex=originalCollection.length-($scope.scrolledToEndOffset||0);($scope.endIndex>=triggerIndex&&_prevEndIndex<triggerIndex||originalCollection.length&&$scope.endIndex===originalCollection.length)&&$scope.$eval($attrs.vsScrolledToEnd)}_prevStartIndex=$scope.startIndex,_prevEndIndex=$scope.endIndex;var offsetCalculationString=sizesPropertyExists?"(sizesCumulative[$index + startIndex] + offsetBefore)":"(($index + startIndex) * elementSize + offsetBefore)",parsed=$parse(offsetCalculationString),o1=parsed($scope,{$index:0}),o2=parsed($scope,{$index:$scope[collectionName].length}),total=$scope.totalSize;$beforeContent.css(getLayoutProp(),o1+"px"),$afterContent.css(getLayoutProp(),total-o2+"px")}return digestRequired}var repeatContainer=angular.isDefined($attrs.vsRepeatContainer)?angular.element($element[0].querySelector($attrs.vsRepeatContainer)):$element,childClone=angular.element(childCloneHtml),childTagName=childClone[0].tagName.toLowerCase(),originalCollection=[],$$horizontal="undefined"!=typeof $attrs.vsHorizontal,$beforeContent=angular.element("<"+childTagName+" class=\"vs-repeat-before-content\"></"+childTagName+">"),$afterContent=angular.element("<"+childTagName+" class=\"vs-repeat-after-content\"></"+childTagName+">"),autoSize=!$attrs.vsRepeat,sizesPropertyExists=!!$attrs.vsSize||!!$attrs.vsSizeProperty,$scrollParent=$attrs.vsScrollParent?"window"===$attrs.vsScrollParent?angular.element(window):closestElement.call(repeatContainer,$attrs.vsScrollParent):repeatContainer,$$options="vsOptions"in $attrs?$scope.$eval($attrs.vsOptions):{},clientSize=$$horizontal?"clientWidth":"clientHeight",offsetSize=$$horizontal?"offsetWidth":"offsetHeight",scrollPos=$$horizontal?"scrollLeft":"scrollTop",originalLength;if($scope.totalSize=0,!("vsSize"in $attrs)&&"vsSizeProperty"in $attrs&&console.warn("vs-size-property attribute is deprecated. Please use vs-size attribute which also accepts angular expressions."),0===$scrollParent.length)throw"Specified scroll parent selector did not match any element";$scope.$scrollParent=$scrollParent,sizesPropertyExists&&($scope.sizesCumulative=[]),$scope.elementSize=+$attrs.vsRepeat||getClientSize($scrollParent[0],clientSize)||50,$scope.offsetBefore=0,$scope.offsetAfter=0,$scope.excess=2,$$horizontal?($beforeContent.css("height","100%"),$afterContent.css("height","100%")):($beforeContent.css("width","100%"),$afterContent.css("width","100%")),Object.keys(attributesDictionary).forEach(function(key){$attrs[key]&&$attrs.$observe(key,function(value){$scope[attributesDictionary[key]]=+value,reinitialize()})}),$scope.$watchCollection(rhs,function(coll){originalCollection=coll||[],refresh()}),childClone.eq(0).attr(originalNgRepeatAttr,lhs+" in "+collectionName+(rhsSuffix?" "+rhsSuffix:"")),childClone.addClass("vs-repeat-repeated-element"),repeatContainer.append($beforeContent),repeatContainer.append(childClone),$compile(childClone)($scope),repeatContainer.append($afterContent),$scope.startIndex=0,$scope.endIndex=0,$scrollParent.on("scroll",scrollHandler),angular.element(window).on("resize",onWindowResize),$scope.$on("$destroy",function(){angular.element(window).off("resize",onWindowResize),$scrollParent.off("scroll",scrollHandler)}),$scope.$on("vsRepeatTrigger",refresh),$scope.$on("vsRepeatResize",function(){autoSize=!0,setAutoSize()});var _prevStartIndex,_prevEndIndex,_minStartIndex,_maxEndIndex;$scope.$on("vsRenderAll",function(){$$options.latch&&setTimeout(function(){var __endIndex=originalLength;_maxEndIndex=_Mathmax5(__endIndex,_maxEndIndex),$scope.endIndex=$$options.latch?_maxEndIndex:__endIndex,$scope[collectionName]=originalCollection.slice($scope.startIndex,$scope.endIndex),_prevEndIndex=$scope.endIndex,$scope.$$postDigest(function(){$beforeContent.css(getLayoutProp(),0),$afterContent.css(getLayoutProp(),0)}),$scope.$apply(function(){$scope.$emit("vsRenderAllDone")})})});var _prevClientSize;$scope.$watch(function(){"function"==typeof window.requestAnimationFrame?window.requestAnimationFrame(reinitOnClientHeightChange):reinitOnClientHeightChange()})}}}}}])}),define("modules/main/directives/fsm-sticky-header",["./module","jquery"],function(directives,$){"use strict";directives.directive("fsmStickyHeader",["$rootScope",function($rootScope){return{restrict:"EA",replace:!1,scope:{fsmStickyHeader:"=",scrollBody:"@",scrollStop:"=",scrollableContainer:"=",contentOffset:"=",fsmZIndex:"="},link:function link(scope,element){function setColumnHeaderSizes(){if(clonedHeader.is("tr")||clonedHeader.is("thead")){var clonedColumns=clonedHeader.find("th");header.find("th").each(function(index,column){var clonedColumn=$(clonedColumns[index]),finalWidthSet=100*(column.offsetWidth/($(window).innerWidth()-20));clonedColumn.css("width",finalWidthSet+"%")})}}function determineVisibility(){var scrollTop=scrollableContainer.scrollTop()+scope.scrollStop,contentTop=content.offset().top+contentOffset;$.isWindow(scrollableContainer[0])||(contentTop+=scrollTop);var contentBottom=contentTop+content.outerHeight(!1);if(!(scrollTop>contentTop&&scrollTop<contentBottom))clonedHeader&&(header.remove(),header=clonedHeader,clonedHeader=null,header.removeClass("fsm-sticky-header"),header.css({position:"relative",left:0,top:0,width:"auto","z-index":0,visibility:"visible"}),$rootScope.$broadcast("hide-menu"));else if(clonedHeader||(createClone(),clonedHeader.css({visibility:"visible"})),scrollTop<contentBottom&&scrollTop>contentBottom-clonedHeader.outerHeight(!1)){var top=contentBottom-scrollTop+scope.scrollStop-clonedHeader.outerHeight(!1);clonedHeader.css("top",top+"px")}else calculateSize()}function calculateSize(){clonedHeader.css({top:scope.scrollStop,width:header.outerWidth(),left:header.offset().left}),setColumnHeaderSizes()}function createClone(){clonedHeader=header,header=clonedHeader.clone(),clonedHeader.after(header),clonedHeader.addClass("fsm-sticky-header"),clonedHeader.css({position:"fixed","z-index":scope.fsmZIndex||1e4,visibility:"hidden"}),calculateSize()}function init(){scrollableContainer.on("scroll.fsmStickyHeader",determineVisibility).trigger("scroll"),scrollableContainer.on("resize.fsmStickyHeader",determineVisibility),scope.$on("$destroy",function(){scrollableContainer.off(".fsmStickyHeader")})}if(scope.fsmStickyHeader){var header=$(element,this),clonedHeader=null,scrollableContainer=$(scope.scrollableContainer),contentOffset=scope.contentOffset||0,unbindScrollBodyWatcher=scope.$watch("scrollBody",function(){content=$(scope.scrollBody),init(),unbindScrollBodyWatcher()}),content;0===scrollableContainer.length&&(scrollableContainer=$(window))}}}}]),directives.directive("fsmMenu",["$location",function($location){return{restrict:"A",scope:{},link:function link(scope,el){function menuOnClick(e){var menuTitle=angular.element(e.currentTarget),submenu=menuTitle.next(".fsm-sub-menu");submenu.slideToggle("fast",function(){var chevron=menuTitle.children("[class*='fa-chevron']");chevron.toggleClass("fa-chevron-down fa-chevron-up"),menuItems=navigationMenu.find("[tc-menu-item]:visible")})}function tabOutOfMenu(e){if(e.shiftKey)$("[fsm-menu-button]").focus();else{var firstTabItem=$("[tabindex=1]");if(0==firstTabItem.length)return;firstTabItem.focus()}e.preventDefault(),e.stopPropagation()}function triggerMenuItem(e){e.currentTarget=$(menuItems[activeMenu]).children("a").first(),menuOnClick(e)}function highlightMenuItem(e){e.preventDefault(),e.stopPropagation(),38===e.keyCode?0<activeMenu?$(menuItems[activeMenu-1]).children("a").first().focus():$(menuItems[menuItems.length-1]).children("a").first().focus():40===e.keyCode&&(activeMenu<menuItems.length-1?$(menuItems[activeMenu+1]).children("a").first().focus():$(menuItems[0]).children("a").first().focus())}function getCurrentMenuItem(){var focusedMenu=navigationMenu.find(":focus");return 1===focusedMenu.length?menuItems.index(focusedMenu.parent("[tc-menu-item]").first()):menuItems.index(navigationMenu.find("[tc-menu-item].active").first())}function menuOnFocus(e){e.preventDefault(),e.stopPropagation(),activeMenu=getCurrentMenuItem(),$(menuItems[activeMenu]).children("a").first().focus()}var navigationMenu=angular.element(el),menuTitles=navigationMenu.find(".fsm-menu-title"),menuItems=navigationMenu.find("[tc-menu-item]:visible"),activeMenu=0;menuTitles.click(menuOnClick),navigationMenu.keydown(function(e){activeMenu=getCurrentMenuItem(),9===e.keyCode?tabOutOfMenu(e):13===e.keyCode||37===e.keyCode||39===e.keyCode?triggerMenuItem(e):(38===e.keyCode||40===e.keyCode)&&highlightMenuItem(e)}),navigationMenu.focus(menuOnFocus),scope.$watch(function(){return $location.path()},function(path){var allMenuItems=el.find("a[href^='#']");angular.forEach(allMenuItems,function(menuItem){var menu=angular.element(menuItem),link=menu.attr("href").split("#")[1];if(0==path.indexOf(link)){angular.element(menuItem.parentElement).addClass("active");var submenus=menu.parents(".fsm-sub-menu");submenus.show();var chevrons=submenus.prev().children("[class*='fa-chevron']");chevrons.removeClass("fa-chevron-down"),chevrons.addClass("fa-chevron-up")}else angular.element(menuItem.parentElement).removeClass("active")}),menuItems=navigationMenu.find("[tc-menu-item]:visible")})}}}]),directives.directive("fsmMenuButton",function(){return{restrict:"EA",replace:!1,scope:{},link:function link(scope,element){function isMenuClosed(){return $("body").hasClass("fsm-menu-toggle")}function menuOnClick(){$("body").toggleClass("fsm-menu-toggle"),setMenuSpin(),setTimeout(setMenuSpin,50)}function setMenuSpin(){menuButton.find(".fsm-menu-button-open").toggleClass("fsm-spin-forward"),menuButton.find(".fsm-menu-button-close").toggleClass("fsm-spin-backward")}var menuButton=$(element,this);menuButton.addClass("fsm-menu-button"),menuButton.keydown(function(e){(32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),e.stopPropagation(),menuOnClick())}),$("body").keydown(function(e){77===e.keyCode&&e.ctrlKey&&e.altKey?(isMenuClosed()&&menuOnClick(),$("[fsm-menu]").focus()):77===e.keyCode&&e.ctrlKey&&(menuButton.focus(),menuOnClick())});menuButton.on("click.fsmMenuButton",menuOnClick),scope.$on("$destroy",function(){menuButton.off(".fsmMenuButton")})}}}),directives.directive("fsmBigData",["$filter",function($filter){return{restrict:"AE",scope:{},replace:!1,transclude:!0,link:function link(scope,element,attrs,controller,transclude){var orderBy=$filter("orderBy"),currentPage=0,pagedDataName=attrs.fsmBigData.split(" of ")[0],rightHandExpression=attrs.fsmBigData.split(" of ")[1],pageSize=parseInt(rightHandExpression.split(" take ")[1],10),sourceData=rightHandExpression.split(" take ")[0],rawData=[],sortedData=[],pagedData=[],page=$(window),sortTypes=["None","Ascending","Descending"],sortColumns=[];transclude(function(clone,transcludedScope){function nextPage(){var dataSlice=sortedData.slice(pageSize*currentPage,pageSize*(currentPage+1));0<dataSlice.length&&(pagedData.push.apply(pagedData,dataSlice),currentPage++)}function renderData(){sortedData=sortColumns.length?orderBy(rawData,sortColumns):rawData,pagedData.length=0,currentPage=0,nextPage()}transcludedScope.sortTypes=sortTypes,element.append(clone),transcludedScope[pagedDataName]=pagedData,transcludedScope.$parent.$watchCollection(sourceData,function(newData){newData&&(rawData=newData,renderData())}),transcludedScope.addSortColumn=function(columnName,sortType){for(var i=0;i<sortColumns.length;i++)-1<sortColumns[i].indexOf(columnName)&&sortColumns.splice(i,1);if(0<sortType){var direction="";"Descending"===sortTypes[sortType]&&(direction="-"),sortColumns.unshift(direction+columnName)}renderData()},page.on("scroll.fsmBigData",function(){var s=$(window).scrollTop(),d=$(document).height(),c=$(window).height();.98<s/(d-c)&&transcludedScope.$apply(nextPage)}).trigger("scroll"),transcludedScope.$on("$destroy",function(){page.off(".fsmBigData")})})}}}]),directives.directive("fsmSort",[function(){return{restrict:"AE",replace:!1,scope:{},link:function link(scope,element,attrs){function swapIcons(){sortIcon.removeClass("fa-sort-desc fa-sort-asc fa-sort");var classToAdd="fa-sort";"Ascending"===scope.$parent.sortTypes[currentSortType]?classToAdd="fa-sort-asc":"Descending"===scope.$parent.sortTypes[currentSortType]&&(classToAdd="fa-sort-desc"),sortIcon.addClass(classToAdd)}function applySort(){currentSortType++,currentSortType==scope.$parent.sortTypes.length&&(currentSortType=0),scope.$apply(scope.$parent.addSortColumn(columnName,currentSortType)),swapIcons()}var columnHeader=element,columnName=attrs.fsmSort,sortIcon=angular.element("<i class=\"fa fa-sort\"></i>");columnHeader.append("&nbsp;"),columnHeader.append(sortIcon);var currentSortType=0;columnHeader.css({cursor:"pointer"}),columnHeader.on("click.fsmSort",applySort),columnHeader.on("keydown.fsmSort",function(e){13===e.keyCode&&(applySort(),e.preventDefault(),e.stopPropagation())}),scope.$on("$destroy",function(){columnHeader.off(".fsmSort")})}}}])}),define("modules/main/directives/widget-container",["./module","angular"],function(directives){"use strict";directives.directive("widgetContainer",["$rootScope",function($rootScope){return{restrict:"A",link:function($scope,$elm){function recalculateWidgetsSize(override){var widgets=$elm.find(".widget:visible"),widgetHeight=$elm.height()/widgets.length;_.forEach(widgets,function(w){var $w=$(w),$resizable=$w.find("div[v-resizable]"),restHeight=$w.outerHeight(!0)-$resizable.outerHeight(!0),resizableHeight=widgetHeight-restHeight-1;0>resizableHeight&&(resizableHeight=0),$resizable.attr("v-resizable-storage-attr")&&(override||!$scope.$storage[$resizable.attr("v-resizable-storage-attr")])&&($scope.$storage[$resizable.attr("v-resizable-storage-attr")]=resizableHeight)}),$rootScope.$emit("doWidgetResize")}recalculateWidgetsSize(),$rootScope.$on("finishInitialization",function(){recalculateWidgetsSize(!0)})}}}])}),define("modules/main/directives/click-out",["./module","angular","lodash"],function(directives,angular,_){"use strict";directives.directive("clickOut",["$window","$parse","$timeout",function($window,$parse,$timeout){return{restrict:"A",link:function link(scope,element,attrs){function mouseDownListener(event){$timeout(function(){_.some(event.originalEvent.path,function(el){return excludingClasses?element[0]==el||_.some(excludingClasses,function(c){return $(el).hasClass(c)}):element[0]==el})||clickOutHandler(scope,{$event:event})})}var clickOutHandler=$parse(attrs.clickOut),excludingClasses=scope.$eval(attrs.clickOutExcludingClasses);angular.element($window).on("mousedown",mouseDownListener),scope.$on("$destroy",function(){angular.element($window).off("mousedown",mouseDownListener)})}}}])}),define("modules/main/directives/viz-filters",["./module","moment","lodash","common","angular"],function(directives,moment,_,cc){var _Mathlog=Math.log;directives.directive("vizFilters",["DataLoadingService","AvailableFixedDates","BookmarkEventService","FilterService",function(DataLoadingService,AvailableFixedDates,BookmarkEventService,FilterService){var ctrlNames=cc.getCtrlNames();return{restrict:"A",templateUrl:"static/templates/include/viz-directives/viz-filters.html",compile:function(el,attrs){return attrs.ctrlName===ctrlNames.EMBED&&(el.find(".sidebar-filters").removeAttr("sv-root"),el.find(".sidebar-filters").removeAttr("sv-part"),el.find(".filters-list").removeAttr("sv-element"),el.find(".sbar-title-ico").removeAttr("sv-handle"),el.find(".sbar-title-name").removeAttr("sv-handle"),el.find(".filter-dropdown-header").removeAttr("uib-dropdown"),el.find(".filter-dropdown-header").removeAttr("uib-dropdown-toggle")),{pre:function pre($scope,$el,$attrs){$scope.filterId=$attrs.filterId,$scope.savePaneWidth="true"===$attrs.saveWidth,$scope.hideOnInit="true"===$attrs.hideOnInit}}},controller:["$scope","$q","$http","$timeout","$uibModal","$rootScope",function($scope,$q,$http,$timeout,$uibModal,$rootScope){function executeQuery(){DataLoadingService.setDatasource($scope)}function spaceReplacer(str){for(var reg=/(["'].*?["'])/,arr=str.split(reg),i=0;i<arr.length;++i)arr[i].match(reg)&&(arr[i]=arr[i].replace(/ /g,"_"));return arr.join("")}function resetComplexQuery(){$scope.dataSummary.advancedFilterQuery=null}function setAdvancedModeCheck(value){$scope.dataSummary.advancedModeCheck=value,BookmarkEventService.emit(".AdvancedFiltersQueryModeToggleEvent",{advancedMode:value},$scope)}function isValidTS(ts){return!isNaN(Date.parse(ts))}$scope.ctrlNames=ctrlNames,$scope.onRenderFilters=_.debounce(function(){$rootScope.$broadcast("reCalcViewDimensions")},100),$scope.getModeSwitchTooltip=function(filter){switch(filter.col.type){case"DATE":return filter.listMode?"Switch to date":"Switch to list";case"DECIMAL":return filter.listMode?"Switch to slider":"Switch to list";}},$scope.open1=function(){$scope.popup1.opened=!0},$scope.linterMessage;$scope.complexFilterEditorOptions={autoRefresh:{delay:100},lineWrapping:!0,lineNumbers:!0,extraKeys:{"Ctrl-Space":"autocomplete","Ctrl-Enter":executeQuery},onLoad:function onLoad(cm){$scope.cmInstance=cm,$scope.cmInstance.focus(),cm.on("change",function(cm){$scope.dataSummary.advancedFilterQuery=cm.getValue(),BookmarkEventService.emit(".AdvancedFilterQueryChangeEvent",{query:cm.getValue()},$scope)})},mode:"text/bnf",hintOptions:{hint:function(cm){return new Promise(function(accept){for(var cursor=cm.getCursor(),line=cm.getLine(cursor.line),start=cursor.ch,end=cursor.ch,tempLine=spaceReplacer(line);0<start&&!tempLine[start-1].match(/[\t\n ]/);)--start;var word=line.slice(start,end).toLowerCase(),opt={list:[],from:CodeMirror.Pos(cursor.line,start),to:CodeMirror.Pos(cursor.line,end)};return cm.state.completionActive.widget?(opt.list=_.filter(lastResData,function(el){return-1!==el.toLowerCase().indexOf(word)}),accept(opt)):void $http.post("/api/visualization/autocomplete",{bookmarkStateId:$scope.bookmarkStateId,query:$scope.dataSummary.advancedFilterQuery,cursor:cm.doc.getRange({line:0,ch:0},cursor).length}).then(function(result){return lastResData=opt.list=result.data,accept(opt)})})}},lint:function(message,obj,cm){if($scope.linterMessage){for(var cursor={line:$scope.linterMessage.line-1,ch:$scope.linterMessage.column},line=cm.getLine(cursor.line),start=cursor.ch,end=cursor.ch,tempLine=spaceReplacer(line);0<start&&tempLine[start-1]&&!tempLine[start-1].match(/[\t\n "']/);)--start;for(;end<tempLine.length&&!tempLine[end].match(/[\t\n "']/);)++end;var word=line.slice(start,end);console.groupCollapsed("Linter applied: %c%s","color: darkgreen;",word),console.log("start: %c","color: blue;",start),console.log("end: %c","color: blue;",end),console.groupEnd();var obj={from:{line:cursor.line,ch:start},to:{line:cursor.line,ch:end},message:$scope.linterMessage.message};return $scope.linterMessage=null,[obj]}return[]},gutters:["CodeMirror-lint-markers"]},$scope.executeQuery=executeQuery;var lastResData;$scope.setAdvancedModeCheck=function(value){value?$http.post("/api/visualization/from-filters",{bookmarkStateId:$scope.bookmarkStateId}).then(function(result){$scope.dataSummary.advancedFilterQuery=result.data.advancedFiltersQuery,setAdvancedModeCheck(value)}):$http.post("/api/visualization/to-filters",{tableBookmarkId:$scope.tabId,query:$scope.dataSummary.advancedFilterQuery}).then(function(result){var filters=JSON.parse(result.data.filters);DataLoadingService.updateFilters(filters,$scope),setAdvancedModeCheck(value),resetComplexQuery()},function(){$scope.errorConvertFiltersModal=$uibModal.open({templateUrl:"static/templates/include/error-convert-filters.html",scope:$scope,animation:!0,size:"md"}),$scope.cancelConvertToFilters=function(){$scope.errorConvertFiltersModal.dismiss()},$scope.resetConvertToFilters=function(){$scope.resetAllFilters(),$scope.errorConvertFiltersModal.dismiss(),setAdvancedModeCheck(value),resetComplexQuery(),DataLoadingService.setDatasource($scope)}})},$scope.isResetShow=cc.isResetShow,$scope.filterMoved=function(filter,toPosition){BookmarkEventService.emit(".filter.FilterMoveEvent",{field:filter.field,toPosition:toPosition},$scope)},$scope.addFilter=function(filter){filter.selected=!filter.selected;var eventId=BookmarkEventService.emit(".filter.FilterToggleEvent",{field:filter.field,selected:filter.selected},$scope).id;filter.selected&&DataLoadingService.startRefreshFilters(eventId,[filter],$scope)},$scope.resetAllFilters=function(){_.each($scope.dataSummary.filters,function(filter){$scope.resetOneFilter(filter)}),DataLoadingService.clearAllFilters($scope)},$scope.isResetAllShow=function(){return _.some($scope.dataSummary.filters,$scope.isResetShow)},$scope.switchLinLog=FilterService.switchLinLog,$scope.switchStringView=function(filter){var isRequest=$scope.isResetShow(filter);isRequest?$scope.searching():$scope.controllerName!==ctrlNames.EMBED&&$scope.saveFiltersState()},$scope.switchAndOr=function(filter){filter.and_or=!filter.and_or;var selectedList=_.filter(filter.list,function(el){return el.selected||!el.show});2<=selectedList.length?DataLoadingService.makeRequestRefreshFilters(filter,$scope):BookmarkEventService.emit(".filter.FilterChangeEvent",{filter:filter},$scope)},$scope.hideNullValues=function(filter){DataLoadingService.makeRequestRefreshFilters(filter,$scope)},$scope.filterSearch=function(filter,force){($scope.autoRefresh||force)&&DataLoadingService.filterSearch(filter,$scope)},$scope.delayedFilterSearch=_.debounce($scope.filterSearch,600),$scope.clearSearch=function(filter){filter.search="",DataLoadingService.filterSearch(filter,$scope)},$scope.showNoResults=function(filter){return filter.search&&0===filter.list.length},$scope.showNoValues=function(filter){return!filter.searching&&!filter.search&&0===filter.list.length},$scope.selectFilter=function(agg,filter){agg.selected=!agg.selected,agg.show=!0,DataLoadingService.makeRequestRefreshFilters(filter,$scope)},$scope.isAllFiltersSelected=function(){return _.every($scope.dataSummary.filters,function(s){return s.selected})},$scope.toggleSelectAllFilters=function(){var value=!$scope.isAllFiltersSelected();$scope.dataSummary.filters.forEach(function(el){el.selected=value}),BookmarkEventService.emit(".filter.FilterToggleAllEvent",{selected:value},$scope,function(eventId){value&&DataLoadingService.startRefreshFilters(eventId,$scope.dataSummary.filters,$scope)})},$scope.only=function(filter,agg){agg.show=!0,_.forEach(filter.list,function(v){v.selected=v===agg}),DataLoadingService.makeRequestRefreshFilters(filter,$scope)},$scope.remove=function(filter,agg){agg.selected=!1,agg.show=!1,DataLoadingService.makeRequestRefreshFilters(filter,$scope)},$scope.blurSliderInput=function(filter){filter.value2<filter.value1&&(filter.value2=[filter.value1,filter.value1=filter.value2][0]),DataLoadingService.makeRequestRefreshFilters(filter,$scope)},$scope.changeSliderInput=function(filter){filter.linlog||(filter.value1exp=_Mathlog(filter.value1),filter.value2exp=_Mathlog(filter.value2))},$scope.keyPressSliderInput=function(event){13===event.which&&event.target.blur()},$scope.selectText=function(e){e.target&&e.target.select()},$scope.changeDateInput=function(filter,clearFixed){if(!isValidTS(filter.options.fromDate))throw filter.options.fromDate=new Date(filter.value1),new Error("Invalid 'fromDate' value for the filter");if(!isValidTS(filter.options.toDate))throw filter.options.toDate=new Date(filter.value2),new Error("Invalid 'toDate' value for the filter");var from=moment(filter.options.fromDate),to=moment(filter.options.toDate),isNeedToSwap=from.isAfter(to)||to.isBefore(from);isNeedToSwap?(filter.value1=to.valueOf(),filter.value2=from.valueOf()):(filter.value1=from.valueOf(),filter.value2=to.valueOf()),filter.options.period&&clearFixed&&(delete filter.options.period,delete filter.fixedDate,filter.isFixedDateEnabled=!1),filter.options.fromDate=new Date(filter.value1),filter.options.toDate=new Date(filter.value2),DataLoadingService.makeRequestRefreshFilters(filter,$scope)},$scope.changeTimeInput=function(filter){var _filter$options=filter.options,fromDate=_filter$options.fromDate,toDate=_filter$options.toDate,displayFromTime=_filter$options.displayFromTime,displayToTime=_filter$options.displayToTime,formats=["h:mm a","h:mma","ha","h"],fromTime=moment(displayFromTime,formats,!0),toTime=moment(displayToTime,formats,!0);if(!fromTime.isValid())throw filter.options.displayFromTime=moment(fromDate).format("h:mm a"),new Error("Invalid 'from time' value for the filter");if(!toTime.isValid())throw filter.options.displayToTime=moment(toDate).format("h:mm a"),new Error("Invalid 'to time' value for the filter");"h"===fromTime.creationData().format&&"am"===fromTime.format("a")&&fromTime.add(12,"hours"),"h"===toTime.creationData().format&&"am"===toTime.format("a")&&toTime.add(12,"hours"),fromDate=moment(fromDate),toDate=moment(toDate),fromDate.set({hours:fromTime.hours(),minutes:fromTime.minutes()}),toDate.set({hours:toTime.hours(),minutes:toTime.minutes()}),filter.options.fromDate=fromDate.toDate(),filter.options.toDate=toDate.toDate(),filter.options.displayFromTime=moment(fromDate).format("h:mm a"),filter.options.displayToTime=moment(toDate).format("h:mm a"),$scope.changeDateInput(filter,!0)},$scope.toggleFixedDateFilter=function(e,f){f.isFixedDateEnabled=!f.isFixedDateEnabled,f.isFixedDateEnabled&&$timeout(function(){f.options.isFixedDateDropdownOpened=!0})},$scope.getAvailableFixedPeriods=function(){return AvailableFixedDates.allAvailableFixedDates},$scope.getSelectedFixedPeriod=function(filter){var availableFixedDates=$scope.getAvailableFixedPeriods(),noValueMessage="Select Date";if(!availableFixedDates||!filter)return noValueMessage;var selectedFixedPeriod=_.find(availableFixedDates,function(period){return period.type===filter.fixedDate});return selectedFixedPeriod?selectedFixedPeriod.label:noValueMessage},$scope.selectFixedDateFilter=function(filter,period){var isResetFilter=period&&"reset_filter"===period.type;return isResetFilter?($scope.resetOneFilter(filter),void $scope.changeDateInput(filter,!0)):void(filter.options.period=period,filter.fixedDate=period.type,filter.options.fromDate=period.value1,filter.options.toDate=period.value2,filter.options.displayFromTime=moment(period.value1).local().format("h:mm a"),filter.options.displayToTime=moment(period.value2).local().format("h:mm a"),$scope.changeDateInput(filter,!1))},$scope.getCalendarFormat=function(filter){if(filter){var start=moment(filter.value1),end=moment(filter.value2),someMonth=start.isSame(end,"month"),edgeWeek=start.isSame(end,"isoweek")&&1===start.day()&&0===end.day(),edgesMonth=1===start.date()&&end.date()===moment(end).endOf("month").date();return start.isSame(end,"day")?"Day: "+end.format("MMM D, YYYY"):edgeWeek&&!someMonth?"Week: "+start.format("MMM D")+" - "+end.format("MMM D, YYYY"):edgeWeek?"Week: "+start.format("MMM D")+" - "+end.format("D, YYYY"):someMonth&&edgesMonth?"Month: "+end.format("MMMM YYYY"):someMonth?start.format("MMM D")+" - "+end.format("D, YYYY"):0===start.month()&&2===end.month()&&edgesMonth?"Q1: "+start.format("MMM")+" - "+end.format("MMM YYYY"):3===start.month()&&5===end.month()&&edgesMonth?"Q2: "+start.format("MMM")+" - "+end.format("MMM YYYY"):6===start.month()&&8===end.month()&&edgesMonth?"Q3: "+start.format("MMM")+" - "+end.format("MMM YYYY"):9===start.month()&&11===end.month()&&edgesMonth?"Q4: "+start.format("MMM")+" - "+end.format("MMM YYYY"):1===start.dayOfYear()&&31===end.date()&&11===end.month()?"Year: "+end.format("YYYY"):start.isSame(end,"year")?start.format("MMM D")+" - "+end.format("MMM D, YYYY"):start.format("MMM D, YYYY")+" - "+end.format("MMM D, YYYY")}},$scope.isFilterActive=FilterService.isFilterActive,$scope.getSelectedFilters=FilterService.getSelectedFilters,$scope.resetFilterInRow=FilterService.resetFilterInRow.bind(null,$scope),$scope.resetOneFilter=FilterService.resetOneFilter,$scope.reset=FilterService.reset.bind(null,$scope),$scope.getFilterFromFieldKey=function(key){var colDef=_.find($scope.gridOptions.columnDefs,{field:key});if(colDef)return colDef.customFilter},$scope.getDateFilterForChart=function(){return $scope.chartDatepicker=!0,$scope.customDateChartFilter||_.find($scope.dataSummary.filters,$scope.vizSummary.xAxisShows.length&&"daterange"===$scope.vizSummary.xAxisShows[0].type?{name:$scope.vizSummary.xAxisShows[0].field}:{type:"daterange"})},$scope.datePickerInterval=function(agg,op){var promise,deferred;if(!$scope.getDateFilterForChart()){var filterColumn=_.find($scope.filterList,{type:"daterange"});promise=$scope.addFilter(filterColumn)}else deferred=$q.defer(),promise=deferred.promise;promise.then(function(){"daterange"!==agg.type;var newAgg=_.find($scope.groupByList,{key:op.val+"_"+agg.field});if(newAgg&&newAgg.key!==agg.key){var index=_.indexOf($scope.dataSummary.aggs,_.find($scope.dataSummary.aggs,{key:agg.key}));0<=index?$scope.dataSummary.aggs.splice(index,1,newAgg):($scope.dataSummary.aggs.push(newAgg),1===$scope.dataSummary.aggs.length&&($scope.dataSummary.shows=[]),$timeout(function(){1===$scope.dataSummary.aggs.length&&_.forEach(_.filter($scope.showMeList,function(v){return"visualizationCtrl"===$scope.controllerName?"sum"===v.op.val:"sum"===v.op.val&&_.find($scope.vizSummary.yAxisShows,{field:v.field})}),function(){})})),delete $scope.dataSummary.filter,$scope.xAxisShowMeOnSelect(newAgg),$scope.saveColumnDefs(),$scope.isSummary()&&$scope.searching()}}),deferred&&deferred.resolve()},$scope.svOnStopFilterList=function(part){$timeout(function(){var tempFilters=_.cloneDeep($scope.dataSummary.filters);$scope.dataSummary.filters=[],_.forEach(part,function(v){v.selected&&$scope.dataSummary.filters.push(_.find(tempFilters,{name:v.name}))})})},$scope.clearDatePickerInterval=function(){}}]}}])}),define("modules/main/directives/ingest-db-tables",["./module","moment","lodash","common","angular"],function(directives,moment,_){directives.directive("ingestDbTables",["$q","$http","$timeout","$uibModal","$rootScope","IngestDataLoadingService","BookmarkEventService",function($q,$http,$timeout,$uibModal,$rootScope){return{restrict:"A",templateUrl:"static/templates/include/ingest-db-tables.html",compile:function(){return{pre:function pre($scope,$el,$attrs){$scope.filterId=$attrs.filterId,$scope.savePaneWidth="true"===$attrs.saveWidth,$scope.hideOnInit="true"===$attrs.hideOnInit},post:function post($scope,$el){$scope.onRenderFilters=_.debounce(function(){$rootScope.$broadcast("reCalcViewDimensions")},100),$scope.$on("scroll-to-selected-table",function(){$scope.scrollToItem()}),$scope.scrollToItem=function(){var container=$el.find(".table-list"),scrollTo=$el.find("#selected");container.scrollTop(scrollTo.offset().top-container.offset().top+container.scrollTop())},$scope.selectTable=function(item){$scope.currentQueryData.successQuery=!1,$scope.currentQueryData.errorQuery=!1,$scope.loadSource(_.cloneDeep(item))}}}}}}])}),define("modules/main/directives/viz-list",["./module"],function(directives){directives.directive("vizList",["DataLoadingService",function(DataLoadingService){return{restrict:"A",templateUrl:"static/templates/include/viz-directives/viz-list.html",controller:["$scope",function($scope){$scope.listViewShows=new function($scope,count){null==count&&(count=1);var headerListViewCount=count;return{header:function header(){return $scope.dataSummary.shows.slice(0,headerListViewCount)},data:function data(){return $scope.dataSummary.shows.slice(headerListViewCount)}}}($scope,1),$scope.getListItemSize=function(){var showsSize=$scope.listViewShows.data().length;return 24+14+1+showsSize*(14+4+4)+(21+4+1+20)};var loading=!1;$scope.loadMoreData=function(){if(!(loading||$scope.resultsList.length>=$scope.totalSize))return loading=!0,0==$scope.resultsList.length&&($scope.floatingTopRows=[]),DataLoadingService.loadMoreData($scope,{from:$scope.resultsList.length},function(data){$scope.resultsList=$scope.resultsList.concat(data),loading=!1})}}]}}])}),define("modules/main/directives/only-numeric",["./module"],function(directives){"use strict";directives.directive("onlyNumeric",[function(){return function(scope,element){$(element[0]).numericInput({allowFloat:!0})}}])}),define("modules/main/directives/limit-to",["./module","angular"],function(directives,angular){"use strict";directives.directive("limitTo",[function(){return{restrict:"A",link:function link(scope,elem,attrs){var limit=parseInt(attrs.limitTo);angular.element(elem).on("keypress",function(e){this.value.length==limit&&e.preventDefault()})}}}])}),define("modules/main/directives/collapsed-tags",["./module","angular","lodash"],function(directives,angular,_){"use strict";directives.directive("collapsedTags",["$compile","$filter","$timeout","$rootScope","FilterService",function($compile,$filter,$timeout,$rootScope,FilterService){return{restrict:"A",link:function link($scope,$elm){function rebuild(){$elm.html(generatedCollapsedTags),$compile($elm.contents())($scope),$scope.$emit("DoTableLayout")}function getFiltersTags(){var tags=[],allWidth=0;if($scope.isVisibleForRow()){if($scope.dataSummary.search){var search="search = \""+$scope.dataSummary.search+"\", ",template=getCollapsedTagsTemplate(search),width=getRenderedTemplateWidth(template);allWidth+=width,tags.push({width:width,template:template})}if($scope.dataSummary.aggs[0]&&$scope.dataSummary.aggs[0].box){var agg=$scope.dataSummary.aggs[0],template=getCollapsedTagsTemplate(getBoxString(agg)),width=getRenderedTemplateWidth(template);allWidth+=width,tags.push({width:width,template:template})}_.forEach($scope.dataSummary.filters,function(filter){if(FilterService.isFilterActive(filter)){var template=getCollapsedTagsTemplate(getFilterTemplate(filter)+", "),width=getRenderedTemplateWidth(template);allWidth+=width,tags.push({width:width,template:template})}})}return tags.length&&(tags[tags.length-1].template=tags[tags.length-1].template.slice(0,-9)+"</span>"),{tags:tags,allWidth:allWidth}}function getRenderedTemplateWidth(template){var renderedElement=$(template).appendTo(document.body),width=renderedElement.width();return renderedElement.remove(),width}function getAggFilter(agg){return"<span "+(agg.show?"":"class=\"filter-removed\"")+">"+(agg.key?"\""+agg.key+"\"":"\"[Empty Value]\"")+"</span>"}function getListAggFilter(agg,type){var template="<span "+(agg.show?"":"class=\"filter-removed\"")+">\"";return template+=null==agg.key?"[Empty value]":"DATE"===type?$filter("date")(agg.key,"mediumDate")+"":"BOOLEAN"===type?0==agg.key?"No":"Yes":agg.key+"",template+="\"</span>",template}function getFilterTemplate(filter){var template="<span>";if(!filter.listMode)switch(filter.col.type){case"LOCATION_LAT_LON":var selectedFilters=$scope.getSelectedFilters(filter.list);_.forEach(selectedFilters,function(agg,index){template+=getAggFilter(agg),index+1!=selectedFilters.length&&(template+="<span>"+(filter.and_or?"and":"or")+"</span>")});break;case"DECIMAL":template+="<span>"+filter.col.name+" = "+$filter("formatCell",filter.value1,filter.col)+" - "+$filter("formatCell",filter.value2,filter.col)+"</span>";break;case"TIME":template+="<span>"+filter.col.name+" = "+$filter("date")(filter.value1,"HH:mm:ss","UTC")+" - "+$filter("date")(filter.value2,"HH:mm:ss","UTC")+"</span>";break;case"DATE":template+="<span>"+filter.col.name+" = "+$filter("date")(filter.value1,"mediumDate","UTC")+" - "+$filter("date")(filter.value2,"mediumDate","UTC")+"</span>",filter.options.period&&(template+=" <i>("+filter.options.period.label+")</i>");}else{template+="<span>"+filter.col.name+" = ";var selectedFilters=FilterService.getSelectedFilters(filter.list);_.forEach(selectedFilters,function(agg,index){template+=getListAggFilter(agg,filter.col.type),index+1!=selectedFilters.length&&(template+="<span>"+(filter.and_or?" and ":" or ")+"</span>")}),template+="</span>"}return template+="</span>",template}function getBoxString(agg){return agg.displayName+" = ["+agg.box.top_left.lon.toFixed(2)+","+agg.box.top_left.lat.toFixed(2)+"] - ["+agg.box.bottom_right.lon.toFixed(2)+","+agg.box.bottom_right.lat.toFixed(2)+"]"}function getCollapsedTagsTemplate(text){return"<span class=\"collapsed-tags-tag\">"+text+"</span>"}function getSortShowName(col,type,axis){var showName=[],sort=col.id.settings.sort;if("shows"==type)showName.push("<span>"+col.displayName+" "+sort.direction+"</span>");else{showName.push(col.displayName);var show=_.find($scope.dataSummary.shows,{key:sort.field});sort.aggKeyPath?(sort.isCount?showName.push(" Count in "):show&&showName.push(" "+show.showName+" in "),sort.aggKeyPath.length?(showName.push(sort.aggKeyPath.join(" > ")),sort.aggKeyPath.length!=axis.length&&showName.push(" > Total")):showName.push(" Grand Total")):sort.isCount?showName.push(" Count"):sort.field&&show&&showName.push(" "+show.showName),showName.push(" "+sort.direction)}return showName.join("")}function getSortItems(){function getSortItem(agg,type,axis){return{showName:getSortShowName(agg,type,axis)}}var sortTagsArr,model;return $scope.dataSummary.aggs.length||$scope.dataSummary.pivot.length?(model=$scope.dataSummary.aggs.concat($scope.dataSummary.pivot),sortTagsArr=_.map(model,function(tag){return _.find($scope.dataSummary.aggs,tag)?getSortItem(tag,"aggs",$scope.dataSummary.pivot):getSortItem(tag,"aggs",$scope.dataSummary.aggs)})):(model=_.sortBy(_.filter($scope.dataSummary.shows,function(show){return show.id.settings.sort}),"id.settings.sort.priority"),sortTagsArr=_.map(model,function(tag){return getSortItem(tag,"shows")})),sortTagsArr}var generatedCollapsedTags="";$scope.$watch(function(){return generatedCollapsedTags},function(){rebuild()}),$rootScope.$on("DoRebuildCollapsedTags",function(){$scope.$emit("DoTableLayout"),$scope.getCollapsedTagsHtml(),rebuild()}),$scope.getCollapsedTagsHtml=function(){var avaliableWidth=$elm.width(),html="",tags=[{key:"shows",items:_.cloneDeep($scope.dataSummary.shows),titleTemplate:"<span class='collapsed-tags-title-first'>Showing </span>",tags:[],alwaysShowing:"No fields",hide:$scope.hideCollapsedTags,focusSelector:"#shows-select input"},{key:"aggs",items:_.cloneDeep($scope.dataSummary.aggs),titleTemplate:"<span class='collapsed-tags-title'>broken down by </span>",tags:[],focusSelector:"#group-by-select input"},{key:"pivot",items:_.cloneDeep($scope.dataSummary.pivot),titleTemplate:$scope.dataSummary.aggs.length?"<span class='collapsed-tags-tag'>, </span>":"<span class='collapsed-tags-title'>broken down by </span>",tags:[],focusSelector:"#pivot-by input",appendedToTag:" (pivot)"},{key:"filters",items:_.cloneDeep($scope.dataSummary.filters),titleTemplate:"<span class='collapsed-tags-title'>filtered by </span>",tags:[],focusSelector:".show-me-for-tr td input",customTagsCreator:getFiltersTags},{key:"sort",items:getSortItems(),titleTemplate:"<span class='collapsed-tags-title'>sorted by </span>",tags:[],focusSelector:".show-me-for-tr td input"}];_.forEach(tags,function(el){var items=el.items,length=items.length;if(el.titleWidth=getRenderedTemplateWidth(el.titleTemplate),length&&!el.tags.length){var allTagsWidth=0;if(el.customTagsCreator){var customTagsCreated=el.customTagsCreator();customTagsCreated.tags.length?(el.tags=customTagsCreated.tags,el.allTagsWidth=customTagsCreated.allWidth):delete tags[el.key]}else _.forEach(items,function(tag,index){var template=getCollapsedTagsTemplate((tag.getShowName?tag.getShowName():tag.showName||tag.displayName)+(el.appendedToTag?el.appendedToTag:"")+(index+1==length?"":", ")),width=getRenderedTemplateWidth(template);allTagsWidth+=width,el.tags.push({width:width,template:template})}),el.allTagsWidth=allTagsWidth}else el.alwaysShowing&&el.tags.push({width:10,template:getCollapsedTagsTemplate(el.alwaysShowing)})}),tags=_.filter(tags,function(el,index){return!(0<index)||el.tags.length});var widthForEachBlock=avaliableWidth/tags.length;if(_.forEach(tags,function(el){if(el.allTagsWidth+el.titleWidth>widthForEachBlock){for(var removedElements=0,i=el.tags.length-1,tagWidth;0<=i&&(tagWidth=el.tags[i].width,el.tags.pop(),removedElements++,el.allTagsWidth-=tagWidth,!(el.allTagsWidth+el.titleWidth<=widthForEachBlock));--i);var template="<span class=\"collapsed-tags-tag\"> ";template+=el.tags.length?"& "+removedElements+" other":removedElements+" column",template+=(1<removedElements?"s":"")+"</span>",el.tags.push({width:15,template:template})}}),!(1==tags.length&&tags[0].hide))return tags[tags.length-1].style="width:100%; position: absolute;",_.forEach(tags,function(el){html+="<span class=\"collapsed-tags-wrapper no-overflow\" ",el.style&&(html+="style=\""+el.style+"\" "),el.focusSelector&&(html+="ng-mousedown=\"setShowCollapsedTags(false);setFocusElementBySelector('"+el.focusSelector+"', 0); $event.preventDefault();\""),html+=">"+el.titleTemplate,_.forEach(el.tags,function(tag){html+=tag.template}),html+="</span>"}),html+="</span>",generatedCollapsedTags=html,generatedCollapsedTags}}}}])}),define("modules/main/directives/embed-widget",["./module","moment","lodash","common","angular"],function(directives,moment,_,cc,angular){directives.directive("embedWidget",["$timeout","$http","$filter","$q","ExportService","$compile","CodesService","$uibModal","DataLoadingService","GridService","$rootScope","EventNames",function($timeout,$http,$filter,$q,ExportService,$compile,CodesService,$uibModal,DataLoadingService,GridService,$rootScope){return{restrict:"E",templateUrl:"static/templates/include/embed-widget.html",scope:{embedSettings:"=settings"},link:function link($scope,$el,$attr){function applyFilterState(){$scope.isShowFilters?$scope.$broadcast("expand-visualization-filters"):$scope.$broadcast("collapse-visualization-filters")}$scope.controllerName="embedCtrl",$scope.viewModes=cc.getViewModes(),$scope.viewMode=$scope.viewModes.TABLE,$scope.currentRequest={},$scope.popupData={is:!1},$scope.isExportRunning=!1,$scope.exportPopup={isopen:!1},$scope.isShowFilters=!1,$scope.exportDropdown=ExportService.getExportOptions("table"),$scope.storage={},$scope.inRequest=!1,$scope.dataSummary={shows:[],aggs:[],pivot:[],filters:[],search:"",count:100,active:!0,showAggregationTotal:!0,formats:[],limit:{rawData:100,aggData:100,pivotData:100}},$scope.embed=!0,$scope.floatingTopRows=[],$scope.isRawData=function(){return DataLoadingService.isRawData($scope)},$scope.togglePageLoader=function(toggle,backdrop){$rootScope.$broadcast("togglePageLoader-embed-loader",{toggle:toggle,backdrop:backdrop})},$scope.togglePageLoaderCancelButton=function(cancelCallback){$rootScope.$broadcast("togglePageLoaderCancelButton-embed-loader",cancelCallback)},$scope.togglePageLoader(),$scope.resetSearch=function(){$scope.embedSettings.search&&($scope.dataSummary.search="",DataLoadingService.search($scope.dataSummary.search,$scope))},$scope.searching=function(){DataLoadingService.search($scope.dataSummary.search,!0,$scope)},$scope.isVisibleForRow=function(){return GridService.isVisibleForRow($scope)},$scope.$on("allowViewRawChanged",function(){$scope.gridOptions.api.refreshView()}),$scope.$on("onResize-visualization-filters",function(){$rootScope.$broadcast("rzSliderForceRender"),$rootScope.$broadcast("sizeSearchInput"),$scope.viewMode==$scope.viewModes.TABLE&&$scope.gridOptions&&$scope.gridOptions.api&&$scope.gridOptions.api.doLayout()}),$scope.selectDataSummaryBack=function(){DataLoadingService.selectDataSummaryBack($scope)},$scope.toggleRightFilters=function(){$scope.isShowFilters=!$scope.isShowFilters,applyFilterState()},$scope.exportData=function(e,type){e.stopPropagation(),e.preventDefault(),$scope.exportPopup&&($scope.exportPopup.isopen=!$scope.exportPopup.isopen),("CSV"==type||"XLS"==type)&&($scope.isExportRunning=!0,ExportService.prepareExport($scope.datadocId,[$scope.embedSettings.tabId],type,$scope,!0,!0))},$http.get("/embed/"+$attr.uuid).success(function(embed){$scope.datadocId=embed.datadocId,$scope.embedSettings||($scope.embedSettings=embed.settings),$scope.inRequest=!0,DataLoadingService.restore({id:embed.bookmarkId,tableSchema:{id:embed.tableId},state:embed.state},"#ag-grid-embed",$scope)}),$(document).mousedown(function(event){_.isEmpty(event.target.closest("#ag-grid"))&&_.isEmpty(event.target.closest(".data-format"))&&_.isEmpty(event.target.closest(".settings"))&&$scope.gridOptions&&$scope.gridOptions.api&&($scope.gridOptions.api.clearFocusedCell(),$scope.gridOptions.api.clearRangeSelection())}),$("document").ready(function(){$timeout(function(){window.$scope=angular.element($("#embed-page")).scope(),window.clr=function(){localStorage.clear()}},1e3)})}}}])}),function(root,factory){"function"==typeof define&&define.amd?define("angular-clipboard",["angular"],factory):"object"===("undefined"==typeof module?"undefined":_typeof2(module))&&module.exports?module.exports=factory(require("angular")):root.angularClipboard=factory(root.angular)}(this,function(angular){return angular.module("angular-clipboard",[]).factory("clipboard",["$document",function($document){function createNode(text,context){var node=$document[0].createElement("textarea");return node.style.position="absolute",node.textContent=text,node.style.left="-10000px",context instanceof HTMLElement&&(node.style.top=context.getBoundingClientRect().top+"px"),node}function copyNode(node){try{$document[0].body.style.webkitUserSelect="initial";var selection=$document[0].getSelection();if(selection.removeAllRanges(),node.select(),!$document[0].execCommand("copy"))throw"failure copy";selection.removeAllRanges()}finally{$document[0].body.style.webkitUserSelect=""}}return{copyText:function(text,context){var node=createNode(text,context);$document[0].body.appendChild(node),copyNode(node),$document[0].body.removeChild(node)},supported:"queryCommandSupported"in document&&document.queryCommandSupported("copy")}}]).directive("clipboard",["clipboard",function(clipboard){return{restrict:"A",scope:{onCopied:"&",onError:"&",text:"=",supported:"=?"},link:function link(scope,element){scope.supported=clipboard.supported,element.on("click",function(){try{clipboard.copyText(scope.text,element[0]),angular.isFunction(scope.onCopied)&&scope.$evalAsync(scope.onCopied())}catch(err){angular.isFunction(scope.onError)&&scope.$evalAsync(scope.onError({err:err}))}})}}}])}),define("modules/main/directives/embed-settings",["./module","angular","common","angular-clipboard"],function(controllers,angular,cc){"use strict";controllers.directive("embedSettings",["$timeout","$rootScope","$http","ExportService","$compile","EmbedService","DataLoadingService",function($timeout,$rootScope,$http,ExportService,$compile,EmbedService){return{restrict:"E",templateUrl:"static/templates/include/embed-settings.html",scope:!0,link:function link($scope,$el){var $container=$el.find("#widget-container");$scope.duplicateTab=!1,$scope.isEmbedUpdating=!1;var urlModes={URL:0,EMBED:1};$scope.urlModes=urlModes,$scope.selectedUrlMode=urlModes.URL,$scope.getUrlText=function(){if(!$scope.embedFormModel)return"";var url=EmbedService.getURL({uuid:$scope.embedFormModel.uuid,title:$scope.embedFormModel.title});switch($scope.selectedUrlMode){case urlModes.EMBED:return"<iframe src=\""+url+"\" style=\"width: "+$scope.embedFormModel.width+"px; height: "+$scope.embedFormModel.height+"px;\"></iframe>";case urlModes.URL:return url;}},$scope.setDirty=function(){$scope.dirty=!0},$scope.previewEmbed=function(){return EmbedService.preview($scope.embedFormModel)},$scope.onAllowViewRawChanged=function(){$rootScope.$broadcast("allowViewRawChanged")},$scope.updateEmbed=function(form){return form.$invalid?void 0:""==$scope.embedFormModel.title?void cc.showError({message:"Please enter the title"}):void($scope.isEmbedUpdating=!0,$http.put("/api/docs/bookmarks/"+$scope.embedFormModel.tabId+"/embed",$scope.embedFormModel).success(function(result){$scope.dirty=!1,$rootScope.$broadcast("embed-settings-saved",{settings:result,duplicateTab:$scope.duplicateTab}),$scope.isEmbedUpdating=!1}))},$timeout(function(){$el.find(".embed-url input[type=text]").click(function(){$(this).select()})}),$scope.$on("open-embed-settings",function(e,data){$scope.dirty=!1,$scope.embedFormModel=data.settings,$container.html($compile(angular.element("<embed-widget uuid=\""+$scope.embedFormModel.uuid+"\" settings=\"embedFormModel\"></embed-widget>"))($scope))}),$scope.$on("close-embed-settings",function(){$container.empty()})}}}])}),define("modules/main/directives/sort-settings-dropdown",["./module","KeyJS","lodash"],function(controllers,KeyJS,_){"use strict";controllers.directive("sortSettingsDropdown",[function(){return{restrict:"E",templateUrl:"static/templates/include/sort-settings-dropdown.html",link:function link($scope){$scope.onKeyDownLimitInput=function(event,item){switch(event.which){case KeyJS.ENTER:case KeyJS.ESC:case KeyJS.TAB:event.target.blur(item);}},$scope.isShowTotalAvailable=_.includes(_.map($scope.getShowTotalsArray(),"id.field"),$scope.item.itemFromModel.id.field)}}}])}),define("modules/main/directives/limit-settings-dropdown",["./module","lodash","KeyJS"],function(controllers,_,KeyJS){"use strict";controllers.directive("limitSettingsDropdown",["DataLoadingService","EventNames","Constants","BookmarkEventService",function(DataLoadingService,EventNames,Constants,BookmarkEventService){return{restrict:"E",templateUrl:"static/templates/include/limit-settings-dropdown.html",link:function link($scope){function getAggChangeLimitEventName(item){return-1===_.indexOf($scope.dataSummary.pivot,item)?EventNames.CHANGE_LIMIT_EVENT.AGGS:EventNames.CHANGE_LIMIT_EVENT.PIVOT}function clearLimitsInModel(model){_.forEach(model,function(agg){null!==agg.id.settings.limit&&$scope.changeAggLimit(agg,null)})}function updateLimit(dataType,limit){$scope.dataSummary.limit[dataType]=limit,"rawData"==dataType?(BookmarkEventService.emit(".limit.LimitRawDataChangedEvent",{tabId:$scope.tabId,limit:limit},$scope),$scope.isRawData($scope)&&DataLoadingService.setDatasource($scope)):"pageSize"==dataType?(BookmarkEventService.emit(".limit.LimitPageSizeChangedEvent",{tabId:$scope.tabId,limit:limit},$scope),$scope.gridOptions.paginationPageSize=limit,$scope.isRawData($scope)&&DataLoadingService.setDatasource($scope)):"aggData"==dataType?(BookmarkEventService.emit(".limit.LimitAggDataChangeEvent",{tabId:$scope.tabId,limit:limit},$scope),clearLimitsInModel($scope.dataSummary.aggs),$scope.dataSummary.aggs.length&&DataLoadingService.setDatasource($scope)):"pivotData"==dataType&&(BookmarkEventService.emit(".limit.LimitPivotDataChangeEvent",{tabId:$scope.tabId,limit:limit},$scope),clearLimitsInModel($scope.dataSummary.pivot),$scope.dataSummary.pivot.length&&DataLoadingService.setDatasource($scope))}$scope.$on("refresh-limit-settings-dropdown",function(){$scope.limitSettingsDropdown=function(){var limitChoices=function(){return{pivotData:[5,10,25,50,100],aggData:[5,10,25,50,100,250,500,1e3],pageSize:[50,100,250,500,1e3],rawData:[5,10,25,50,100,250,500,1e3,2500,5e3]}}(),itemTitles={rawData:"Raw Data:",pageSize:"Page size:",aggData:"Drill into rows:",pivotData:"Pivot columns:"},items=_.map(_.omit($scope.dataSummary.limit,["rawDataExport"]),function(limit,key){return{title:itemTitles[key],key:key,limit:limit,isOpen:!1}});return{choices:limitChoices,items:items,toggleChoicesDropdown:function toggleChoicesDropdown($event,item,value){$event.preventDefault(),$event.stopPropagation(),item.isOpen=value}}}()}),$scope.onLimitModelChanged=function(item){function checkMinMax(item,min,max){item.limit>max?item.limit=max:("undefined"==typeof item.limit||item.limit<min)&&(item.limit=min)}switch(item.key){case"rawData":checkMinMax(item,0,1e4);break;case"pageSize":checkMinMax(item,Constants.MIN_PAGE_SIZE,1e3);break;case"aggData":checkMinMax(item,0,1e3);break;case"pivotData":checkMinMax(item,0,100);}},$scope.onKeyDownLimitInput=function(event,item){switch(event.which){case KeyJS.ENTER:case KeyJS.ESC:case KeyJS.TAB:event.target.blur(item),$scope.limitSettingsDropdown.toggleChoicesDropdown(event,item,!1);}},$scope.changeAggLimit=function(item,limit,refresh){item.id.settings.limit=limit,BookmarkEventService.emit(getAggChangeLimitEventName(item),{key:item.id},$scope),refresh&&DataLoadingService.setDatasource($scope)},$scope.onLimitChoiceSelect=function(choice,item){choice!=item.limit&&(item.limit=choice,updateLimit(item.key,item.limit))},$scope.onLimitBlur=function(item){item.limit||(item.limit=100),item.limit!=$scope.dataSummary.limit[item.key]&&updateLimit(item.key,item.limit)}}}}])}),define("modules/main/directives/main-page-ds-pane",["./module","jquery","jquery-ui"],function(directives){"use strict";directives.directive("mainPageDsPane",["$timeout",function($timeout){return{restrict:"E",templateUrl:"static/templates/include/main-page-ds-pane.html",link:function link($scope,$elm,$attr){$elm=$elm.children().first(),$scope.$watch("uploadToRename",function(u){u&&$timeout(function(){var input=$elm.find(".new-file-name");if(input.length)if(input.focus(),"folder"==u.type)input[0].setSelectionRange(0,input.val().length);else{var fileNameEndIndex=input.val().lastIndexOf(".");0<fileNameEndIndex?input[0].setSelectionRange(0,fileNameEndIndex):input[0].setSelectionRange(0,input.val().length)}})}),$elm.bind("keydown keypress",function(event){13===event.which?($scope.doRenameSource(),event.preventDefault()):27===event.which&&($scope.resetRenameSource(),event.preventDefault())}),$elm.find(".new-file-name").bind("blur",function(event){$scope.resetRenameSource(),event.preventDefault()}),$timeout(function(){function enableDragging(e){e.originalEvent.dragStarted=!0,$elm.draggable("enable"),$(window).on("mouseup",function(){$elm.data("ui-draggable")&&$elm.draggable("disable")}),$elm.trigger(e),$scope.$emit("cancel-selection")}function isDraggedByNameOrIcon(e){return 0<$(e.originalEvent.target).closest(".drag-handler").length}function isUploadSelected(u){return!!_.find($scope.selectedUploads,function(upload){return upload.id===u.id})}if(!($attr.dsDrag&&"false"==$attr.dsDrag)){var uploadId=$elm.find(".uid").val(),upload=$scope.getUploadById(uploadId);if(upload){$elm.draggable({distance:10,disabled:!0,cursorAt:{top:-12,left:-20},appendTo:"body",containment:"window",helper:function helper(event){isUploadSelected(upload)||$scope.$apply(function(){$scope.singleClick(upload,event)}),$scope.isSelectionDragged.value=!0;var icon=$scope.getUploadIcon($scope.selectedUploads[0]);return $("<div style=\"z-index: 2000;\"><div class=\"drag-source-helper "+icon+"\"><div class=\"count\">"+$scope.selectedUploads.length+"</div></div></div>")},cancel:".new-file-name",drag:function drag(event){$scope.$emit("scroll-container",event)},start:function start(event){$scope.$emit("cancel-selection",event)},stop:function stop(){$scope.isSelectionDragged.value=!1}}),$elm.mousedown(function(e){!e.originalEvent.dragStarted&&(isUploadSelected(upload)&&!(e.originalEvent.ctrlKey||e.originalEvent.metaKey)||isDraggedByNameOrIcon(e))&&enableDragging(e)});var dragOverFolder=!1;"folder"==upload.type&&$($elm).droppable({accept:".upload-item.movable",tolerance:"pointer",over:function over(e){var $to=$(e.target),to=$scope.getUploadById($to.find("input.uid").val());$(".drop-active").removeClass("drop-active"),isUploadSelected(to)||$to.addClass("drop-active")},out:function out(e){var $to=$(e.target);$to.removeClass("drop-active")},drop:$scope.dropFileCallback}).bind("dragover",function(){dragOverFolder=!0,$(".drop-active").removeClass("drop-active"),$(this).addClass("drop-active")}).bind("dragleave",function(){dragOverFolder=!1;var that=this;setTimeout(function(){dragOverFolder||$(that).removeClass("drop-active")},100)}).bind("drop",function(){$(this).removeClass("drop-active"),$scope.setUploaderUrl($(this).find("input.uid").val())})}}})}}}])}),define("modules/main/directives/main-page-file-details",["./module","lodash"],function(directives,_){"use strict";directives.directive("mainPageFileDetails",["SourceService","BookmarkCommitService","$rootScope",function(SourceService,BookmarkCommitService,$rootScope){return{restrict:"E",templateUrl:"static/templates/include/main-page-file-details.html",link:function link($scope){function onIngestStart(t,e){$scope.fileDetails.current&&_.includes(e.sourceIds,$scope.fileDetails.current.id)&&($scope.fileDetails.ingesting=!0,$scope.fileDetails.ingestProgress=0)}function onIngestComplete(t,e){$scope.fileDetails.current&&_.includes(e.sourceIds,$scope.fileDetails.current.id)&&($scope.fileDetails.ingesting=!1,$scope.fileDetails.ingestProgress=1)}function onIngestProgress(t,e){$scope.fileDetails.current&&_.includes(e.sourceIds,$scope.fileDetails.current.id)&&($scope.fileDetails.ingesting=!0,$scope.fileDetails.ingestProgress=100<=t.progress?.99:t.progress/100)}function isDatadoc(u){return"Datadoc"==u.entityType}function changeFileDetails(u){var task=BookmarkCommitService.getBySource(u.id);if(task?($scope.fileDetails.ingesting=!0,$scope.fileDetails.ingestProgress=task.progress):($scope.fileDetails.ingesting=!1,$scope.fileDetails.ingestProgress=0),$scope.fileDetails.current=u,isDatadoc(u)){$scope.fileDetails.type="Datadoc",$scope.fileDetails.icon="index-icon";var folder=$scope.selectedDocFolder,parentsPath=[{name:"My Data"}].concat(folder?folder.parentsPath.concat([{name:folder.name}]):[]);$scope.fileDetails.location=SourceService.getSourcePath({parentsPath:parentsPath}).substring(1),$scope.fileDetails.numSheets=null,$scope.fileDetails.numTables=null}else{$scope.fileDetails.icon=$scope.getUploadIcon(u),$scope.fileDetails.type=$scope.getFormatName(u);var _folder=$scope.selectedSourceFolder,_parentsPath=[{name:"My data"}].concat(_folder?_folder.parentsPath.concat([{name:_folder.name}]):[]);$scope.fileDetails.location=SourceService.getSourcePath({parentsPath:_parentsPath}).substring(1),$scope.fileDetails.numSheets=null,$scope.fileDetails.numTables=null,SourceService.isExcelSource(u)?$scope.fileDetails.numSheets=u.sectionsSize:SourceService.isDbSource(u)&&($scope.fileDetails.numTables=u.sectionsSize),$scope.fileDetails.isDatabase=SourceService.isDbSource($scope.fileDetails.current)}$scope.fileDetails.isDatadoc=isDatadoc(u)}$scope.fileDetails={isOpen:!1,current:null,icon:null,type:null,location:null,datadocs:[],history:[]},BookmarkCommitService.on("start",onIngestStart),BookmarkCommitService.on("complete",onIngestComplete),BookmarkCommitService.on("progress",onIngestProgress),$scope.$on("$destroy",function(){BookmarkCommitService.off("start",onIngestStart),BookmarkCommitService.off("complete",onIngestComplete),BookmarkCommitService.off("progress",onIngestProgress)}),$rootScope.$on("source-updated",function(e,data){var source=data.source;$scope.fileDetails.current&&source.id===$scope.fileDetails.current.id&&($scope.fileDetails.current=source)}),$scope.$on("source-selection-changed",function(e,items,deleted){items?items.allSelected.length?($scope.fileDetails.isOpen=!0,changeFileDetails(items.selected)):$scope.closeFileDetailsPanel():deleted&&$scope.closeFileDetailsPanel()}),$scope.$on("ingest-selected-source",function(e,data){$scope.ingestSelectedSource(data)}),$scope.closeFileDetailsPanel=function(){$scope.fileDetails.isOpen=!1,$scope.fileDetails.current=null},$scope.startIngesting=function(source){$scope.fileDetails.ingesting=!0,$scope.fileDetails.ingestProgress=0,BookmarkCommitService.ingest(source)},$scope.ingestSelectedSource=function(){"folder"!==$scope.fileDetails.current.type&&(SourceService.isDbSource($scope.fileDetails.current)?$scope.createIndex($scope.fileDetails.current):$scope.createIndex($scope.fileDetails.current,!$scope.fileDetails.current.relatedDatadocs.length))},$scope.cancelNewDatadocModal=function(){$scope.createNewDatadocModal.dismiss()},$scope.createFromSourceNewDatadocModal=function(){$scope.ingestSelectedSource(),$scope.createNewDatadocModal.dismiss()}}}}])}),define("modules/main/directives/add-folder-pane",["./module","common"],function(directives,common){"use strict";directives.directive("addFolderPane",["$timeout",function($timeout){return{restrict:"E",templateUrl:"static/templates/include/add-folder-pane.html",scope:{editedFolder:"=",loading:"=",onEnter:"&",onCancel:"&"},link:function link($scope,$elm,$attr){var foldersLimit=10,charLimit=50,input;$scope.$on("create-folder-"+$attr.id,function(e,currentFolder){currentFolder&&currentFolder.parentsPath.length>=foldersLimit-1?($scope.onCancel({folder:$scope.editedFolder}),common.notify({message:"You cannot nest more folders ("+foldersLimit+" folders limit)",icon:"warning",wait:5}),console.error("You cannot create folder here. Folders limit:",foldersLimit)):($scope.editedFolder={name:void 0},$timeout(function(){input=$elm.find(".new-folder-name"),input.focus(),input[0].setSelectionRange(0,input.val().length)}))}),$elm.bind("keydown keypress",function(event){13===event.which?input[0].value.length>=charLimit?$timeout(function(){common.notify({message:charLimit+" characters limit exceeded",icon:"warning",wait:3}),console.error("Characters limit:",charLimit),event.preventDefault()}):($scope.onEnter({folder:$scope.editedFolder}),event.preventDefault()):27===event.which&&$timeout(function(){$scope.onCancel({folder:$scope.editedFolder}),event.preventDefault()})}),$elm.find(".new-folder-name").bind("blur",function(event){$scope.onCancel({folder:$scope.editedFolder}),event.preventDefault()})}}}])}),define("modules/main/directives/sort-columns",["./module","angular","lodash"],function(directives){"use strict";directives.directive("sortColumns",["$window","$parse","$timeout","SortDirection",function($window,$parse,$timeout,SortDirection){return{restrict:"EA",scope:!0,templateUrl:"static/templates/include/sort-columns.html",link:function link(scope,element,attrs){scope.SortDirection=SortDirection;var sortColumnsOptions=attrs.sortColumnsOptions;sortColumnsOptions&&(scope.sortColumnsOptions=scope.$eval(sortColumnsOptions)),scope.$watch(attrs.sortColumnsOptions,function(newVal){scope.sortColumnsOptions=newVal})}}}])}),define("modules/main/directives/ng-select-items",["./module","angular","jquery","lodash","KeyJS"],function(directives,angular,$,_,KeyJS){"use strict";directives.directive("ngSelectItems",["$rootScope","$q",function($rootScope,$q){return{restrict:"A",scope:!0,link:function link($scope,$elm,$attrs){function getItemId(el){return el.closest(itemSelector).find(".uid").val()}function getItemById(id){return getItemFn(id)}function getSelectedItems(){return $scope.$eval(selectedItemsKey)}function getSelectedItem(){return $scope.$eval(lastSelectItem)}function getCurrentSelectItem(){return $scope.$eval(currentSelectedItem)}function bodyKeyupFn(e){window.ngSelectItemsKeyPressed[e.which]=!1}function bodyKeydownFn(e){var n=e.target.nodeName;if("INPUT"!==n&&"TEXTAREA"!==n)if((e.ctrlKey||e.metaKey)&&e.which==KeyJS.A)navOptions.onSelectAll&&(e.preventDefault(),navOptions.onSelectAll(e));else if(!window.ngSelectItemsKeyPressed[e.which])switch(e.which){case KeyJS.ESC:navOptions.onEsc&&navOptions.onEsc(e);break;case KeyJS.UP:case KeyJS.DOWN:e.preventDefault();var items=getSelectedItems(),lastItem=getSelectedItem(),currentItem=getCurrentSelectItem(),el,itemId;if(items.length){var lastSelectedItem=void 0,uidValue=void 0;e.shiftKey||e.ctrlKey||e.metaKey?(lastSelectedItem=items[items.length-1],uidValue=currentItem):(lastSelectedItem=lastItem?lastItem:items[0],uidValue=lastSelectedItem),el=$elm.find(itemSelector+" .uid[value="+uidValue.id+"]"),el=itemSelectorWrapper?el.closest(itemSelectorWrapper):el.closest(itemSelector),el=e.which===KeyJS.UP?lastSelectedItem===items[0]&&1<items.length?el:el.prev():_.includes(el.next()[0].classList,"main-page-ds-pane")?el.next():el,itemId=itemSelectorWrapper?getItemId(el.find(itemSelector)):getItemId(el),doOnClick(e,itemId),makeActiveVisible(el[0])}else navOptions.enableAutoSelect&&(el=$elm.find((itemSelectorWrapper||itemSelector)+" .uid").get(0),itemId=$(el).attr("value"),doOnClick(e,itemId),makeActiveVisible($(el).closest(itemSelectorWrapper||itemSelector)[0]));break;case KeyJS.ENTER:window.ngSelectItemsKeyPressed[e.which]=!0;var items=getSelectedItems();1===items.length&&navOptions.onEnter&&(e.preventDefault(),navOptions.onEnter(e,items[0]));break;case KeyJS.BACKSPACE:window.ngSelectItemsKeyPressed[e.which]=!0,navOptions.onBack&&(e.preventDefault(),navOptions.onBack(e));break;case KeyJS.SPACEBAR:if(e.ctrlKey||e.metaKey){e.preventDefault();var items=getSelectedItems(),lastItem=getSelectedItem(),currentItem=getCurrentSelectItem(),el,itemId;if(items.length){var _lastSelectedItem=void 0,_uidValue=void 0;_lastSelectedItem=lastItem?lastItem:items[0],_uidValue=_lastSelectedItem,el=$elm.find(itemSelector+" .uid[value="+_uidValue.id+"]"),el=itemSelectorWrapper?el.closest(itemSelectorWrapper):el.closest(itemSelector),itemId=itemSelectorWrapper?getItemId(el.find(itemSelector)):getItemId(el),doOnClick(e,itemId),makeActiveVisible(el[0])}else navOptions.enableAutoSelect&&(el=$elm.find((itemSelectorWrapper||itemSelector)+" .uid").get(0),itemId=$(el).attr("value"),doOnClick(e,itemId),makeActiveVisible($(el).closest(itemSelectorWrapper||itemSelector)[0]))}}}function doOnClick(e,itemId){if(null!=itemId){var item=getItemById(itemId);item&&$scope.$apply(function(){onClick(item,e)})}}function makeActiveVisible(target){if(target){var offsetTop=target.offsetTop,offsetHeight=target.offsetHeight,parentOffsetHeight=target.parentNode.offsetHeight,parentScrollTop=target.parentNode.scrollTop,parentOffsetTop=0;offsetTop+offsetHeight>parentOffsetHeight+parentScrollTop+parentOffsetTop?target.parentNode.scrollTop=offsetTop-parentOffsetHeight+offsetHeight-parentOffsetTop:offsetTop<parentScrollTop&&(target.parentNode.scrollTop=offsetTop-parentOffsetTop)}}function select(event){var itemSize=52,elmScrollTop=$elm.scrollTop(),elmHeight=$elm.height(),elmWidth=$elm.prop("clientWidth"),elmOffsetTop=$elm.offset().top,offset=elmScrollTop/itemSize,total=Math.ceil((elmHeight+1)/itemSize),currentItem=(event.pageY-elmOffsetTop)/itemSize+offset,itemIndex=Math.floor(Math.min(Math.max(1,currentItem+1),total+offset)),itemId=$elm.find(itemSelector+":nth("+itemIndex+") .uid").val();if(itemId&&previousItem!==itemId){var item=getItemById(itemId);previousItem=itemId,$scope.$apply(function(){return onClick(item,{shiftKey:!0,selectedBeforeLasso:selectedBeforeLasso,lassoStartedFrom:lassoStartedFrom})})}var curPos=getInnerContainerCoors({x:event.pageX,y:event.pageY}),top,bottom,right,left;0>curPos.x-selectionStartCoors.x?(right=elmWidth-selectionStartCoors.x,left=curPos.x):(left=selectionStartCoors.x,right=elmWidth-curPos.x),0>curPos.y-selectionStartCoors.y?(bottom=elmHeight-selectionStartCoors.y,top=curPos.y):(top=selectionStartCoors.y,bottom=elmHeight-curPos.y),0>=left&&(left=1),0>=right&&(right=1),0===elmScrollTop&&0>top&&(top=0),elmScrollTop+elmHeight>=containerDimensions.scrollHeight&&0>elmHeight-(event.pageY-elmOffsetTop)&&(bottom=-containerDimensions.scrollHeight+elmHeight),$selection.css({top:top+"px",left:left+"px",bottom:bottom+"px",right:right+"px"})}function isItemSelected(selected,i){return!!_.find(selected,function(item){return item.id===i.id})}function showSelection(event){isSelecting=!0,selectionStartCoors=getInnerContainerCoors({x:event.pageX,y:event.pageY}),containerDimensions={width:$elm.width(),height:$elm.height(),scrollHeight:$elm.prop("scrollHeight")},$selection.css({left:selectionStartCoors.x+"px",top:selectionStartCoors.y+"px",bottom:"",right:""}).show()}function getInnerContainerCoors(coors){return{x:coors.x-$elm.offset().left,y:coors.y-$elm.offset().top+$elm.scrollTop()}}var withoutClasses=[".upload-item",".dropdown",".modal","main-page-file-details"],isSelecting=!1,scrollInterval=void 0,selectionStartCoors=void 0,containerDimensions=void 0,selectedBeforeLasso=void 0,lassoStartedFrom=void 0,isKeyboardNavigationEnabled=$attrs.enableKeyboardNavigation,options=$scope.$eval($attrs.ngSelectItems),itemSelector=options.itemSelector,itemSelectorWrapper=options.itemSelectorWrapper,getItemFn=options.getItemFn,selectedItemsKey=options.selectedItemsKey,lastSelectItem=options.lastSelectItem,currentSelectedItem=options.currentSelectedItem,onClick=options.onClick,loadMore=options.loadMore,_options$loadMoreOffs=options.loadMoreOffsetFromBottom,offsetFromBottom=_options$loadMoreOffs===void 0?10:_options$loadMoreOffs,navOptions=options.keyboardNavOptions;if(loadMore){var raw=$elm[0],loading=!1;$elm.bind("scroll",function(){!loading&&raw.scrollTop+raw.offsetHeight>=raw.scrollHeight*((100-(offsetFromBottom||0))/100)&&(loading=!0,$scope.$apply(function(){return $q.when(loadMore()).then(function(){return loading=!1})}))})}var $selection=$("<div class=\"selection\"></div>");$selection.hide().appendTo($elm);var cancelSelection=function(){isSelecting=!1,$selection.hide(),clearInterval(scrollInterval)},scrollAndSelect=function(event){isSelecting&&(scrollContainer(event),select(event))},scrollContainer=function(event){var top=$elm.offset().top,bottom=top+$elm.height(),pageY=event.pageY,topDiff=top-pageY,bottomDiff=pageY-bottom;0<topDiff?(clearInterval(scrollInterval),scrollInterval=setInterval(function(){var scrollTop=$elm.scrollTop();$elm.scrollTop(scrollTop-topDiff/10-100),isSelecting&&select(event)})):0<bottomDiff?(clearInterval(scrollInterval),scrollInterval=setInterval(function(){var scrollTop=$elm.scrollTop();$elm.scrollTop(scrollTop+bottomDiff/10+100),isSelecting&&select(event)})):clearInterval(scrollInterval)};$scope.$on("disable-keyboard-navigation",function(){document.body.removeEventListener("keyup",bodyKeyupFn),document.body.removeEventListener("keydown",bodyKeydownFn)}),$scope.$on("enable-keyboard-navigation",function(){document.body.addEventListener("keydown",bodyKeydownFn),document.body.addEventListener("keyup",bodyKeyupFn)}),$scope.$on("cancel-selection",cancelSelection),$scope.$on("scroll-container",function(_,event){scrollContainer(event)}),$(window).on("mouseup",cancelSelection),$("body").on("mousedown",function clearSelection(event){var el=$(event.originalEvent.target);previousItem=null,_.every(withoutClasses,function(c){return!el.closest(c).length})&&$scope.$apply(function(){return $scope.onWrapperClick()})}).on("mousemove",scrollAndSelect),$(document).on("mouseleave",function(e){if(isSelecting){var dHeight=$(document).height();0>=e.clientY?scrollAndSelect(e):e.clientY>=dHeight&&scrollAndSelect(e)}}),$scope.$on("$destroy",function(){$(window).off("mouseup",cancelSelection),$("body").off("mousedown").off("mousemove"),isKeyboardNavigationEnabled&&(document.body.removeEventListener("keydown",bodyKeydownFn),document.body.removeEventListener("keyup",bodyKeyupFn))}),isKeyboardNavigationEnabled&&(!window.ngSelectItemsKeyPressed&&(window.ngSelectItemsKeyPressed={}),document.body.addEventListener("keyup",bodyKeyupFn),document.body.addEventListener("keydown",bodyKeydownFn));var previousItem=void 0;$elm.mousedown(function(event){if(0===event.button){var o=$(event.originalEvent.target),itemId=getItemId(o);if(o.closest(".menu-button").length)return;if(itemId){var item=getItemById(itemId),selected=getSelectedItems();if(selectedBeforeLasso=[],!isItemSelected(selected,item))event.originalEvent.dragStarted||(showSelection(event),lassoStartedFrom=item),$scope.$apply(function(){onClick(item,event.originalEvent),(event.originalEvent.ctrlKey||event.originalEvent.metaKey||event.originalEvent.shiftKey)&&(selectedBeforeLasso=getSelectedItems().slice())});else if(event.originalEvent.ctrlKey||event.originalEvent.metaKey||event.originalEvent.shiftKey)$scope.$apply(function(){return onClick(item,event.originalEvent)});else{var onmouseup=function(){$scope.isSelectionDragged.value||$scope.$apply(function(){return onClick(item,event.originalEvent)}),$elm.off("mouseup",onmouseup)};$elm.on("mouseup",onmouseup)}}else selectedBeforeLasso=null,showSelection(event)}})}}}])}),define("modules/main/directives/ng-touchend",["./module"],function(directives){"use strict";directives.directive("ngTouchend",[function(){return function($scope,$element,$attrs){var isTouchEventsAllowed=function(e){return"ontouchstart"in document.documentElement&&e.originalEvent instanceof TouchEvent};$element.on("touchend",function(event){isTouchEventsAllowed(event)&&$scope.$apply(function(){$scope.$eval($attrs.ngTouchend)})})}}])}),define("modules/main/directives/mobile-search",["./module"],function(directives){"use strict";directives.directive("mobileSearch",["$compile",function($compile){return{restrict:"A",scope:!0,link:function link($scope,$element){function appendSearchInput(){var compiledInput=$compile(inputTemplate)($scope),compiledClose=$compile(closeButtonTemplate)($scope);return $element.parent().children(":first-child").hide(300),$(compiledClose).appendTo($element),$(compiledInput).insertAfter(searchButton)}function removeSearchInput(){$element.parent().children(":first-child").show(300),$element.children().not(":first").remove(),searchInput=null}$scope.mobileSearch={active:!1,value:""};var searchButton=$element.find(".mobile-search-icon"),inputTemplate="<input type=\"text\" \n                                              ng-model=\"mobileSearch.value\" \n                                              ng-enter=\"searchInputChange(mobileSearch.value, !dataSummary.instantSearch)\" \n                                              class=\"mobile-search-input\" autocorrect=\"off\" autocapitalize=\"none\">",closeButtonTemplate="<div class=\"mobile-search-close\" ng-click=\"resetAll()\"></div>";$scope.resetAll=function(){$scope.dataSummary.search&&$scope.resetSearch(),$scope.mobileSearch.active=!1,removeSearchInput(),$scope.mobileSearch.value=""};var searchInput=void 0;searchButton.on("click",function(){$scope.mobileSearch.active=!0,searchInput||(searchInput=appendSearchInput(),searchInput.focus())})}}}])}),define("modules/main/directives/compile",["./module"],function(directives){"use strict";directives.directive("compile",["$compile",function($compile){return function(scope,element,attrs){scope.$watch(function(scope){return scope.$eval(attrs.compile)},function(value){element.html(value),$compile(element.contents())(scope)})}}])}),define("modules/main/directives/datadoc-presence",["./module","angular","lodash"],function(directives,angular,_){"use strict";directives.directive("datadocPresence",["User","$timeout",function(User,$timeout){return{restrict:"E",templateUrl:"static/templates/include/datadoc-presence.html",scope:{presenceUsers:"="},link:function link($scope,$element){function removeViewerById(viewerId){return _.remove($scope.presenceUsersCopy,function(p){return p.userId===viewerId})}function isAlreadyViewing(viewerId){return _.some($scope.presenceUsersCopy,function(u){return u.userId===viewerId})}function createUnknownViewer(user){if(user){var randomColor=_.sample(COLORS);return{userId:user.userId,fullName:user.fullName,email:user.email,color:randomColor,image:user.avatarPath}}}var COLORS={deepPink:"rgb(255, 0, 122)",eucalyptus:"rgb(31, 161, 93)",milanoRed:"rgb(166, 50, 50)",elfGreen:"rgb(27, 136, 122)"};$scope.getUserInitials=User.getUserInitials,$scope.presenceUsersCopy=_.chain($scope.presenceUsers).map(function(u){return createUnknownViewer(u)}).value(),$scope.$watch("presenceUsers",function(newValue,oldValue){var isNewViewerJoined=_.size(oldValue)>_.size(newValue),oldIds=_.map(oldValue,"userId"),newIds=_.map(newValue,"userId");if(isNewViewerJoined){var removedViewerId=_.chain(oldIds).difference(newIds).head().value();if(removedViewerId){var el=$element.find("#presence-"+removedViewerId);el.addClass("removing"),$timeout(function(){return removeViewerById(removedViewerId)},800)}}else{var newViewerId=_.chain(newIds).difference(oldIds).head().value();if(newViewerId&&!isAlreadyViewing(newViewerId)){var newViewer=_.find(newValue,function(u){return u.userId===newViewerId});$scope.presenceUsersCopy.push(createUnknownViewer(newViewer))}}},!0)}}}])}),define("modules/main/directives/responsive-settings",["./module"],function(directives){"use strict";directives.directive("responsiveSettings",[function(){return{restrict:"A",scope:!0,link:function link($scope,$elm){function resetDefaultSettings(){$scope.showSettingsDropdownToggle=!1,$(settingsWrapper).detach().appendTo(settings),dropdownMenu.remove(),dropdownMenu=null,displayToTheSide(otherFormatsSubmenu,directions.left)}function displayToTheSide(submenu,direction){var rightDirectionClass="dropdown-menu-right";0===direction?submenu.removeClass(rightDirectionClass):1==direction&&submenu.addClass(rightDirectionClass)}function generateDropdown(){return $(dropdownMenuTemplate).appendTo(settings).hide()}var dropdownMenuTemplate="<div class=\"dropdown-menu dropdown-menu-right settings-mobile-dropdown\"></div>",settings=$elm.find(".settings"),settingsWrapper=$elm.find(".settings-wrapper"),dataFormat=$elm.find(".data-format"),otherFormatsSubmenu=$elm.find(".other-formats-submenu"),directions=Object.freeze({left:0,right:1}),firstStepQuery=window.matchMedia("only screen and (max-width: "+1248+"px)"),secondStepQuery=window.matchMedia("only screen and (max-width: "+1024+"px)"),dropdownMenu=generateDropdown();firstStepQuery.matches&&($scope.showSettingsDropdownToggle=!0,$(settingsWrapper).detach().prependTo(dropdownMenu),displayToTheSide(otherFormatsSubmenu,directions.right),secondStepQuery.matches&&($(dataFormat).detach().prependTo(dropdownMenu),displayToTheSide(otherFormatsSubmenu,directions.left))),firstStepQuery.addListener(function(changed){changed.matches?(!dropdownMenu&&(dropdownMenu=generateDropdown()),$scope.showSettingsDropdownToggle=!0,$(settingsWrapper).detach().prependTo(dropdownMenu),displayToTheSide(otherFormatsSubmenu,directions.right)):resetDefaultSettings()}),secondStepQuery.addListener(function(change){change.matches?($(dataFormat).detach().prependTo(dropdownMenu),displayToTheSide(otherFormatsSubmenu,directions.left)):($(dataFormat).detach().insertAfter($elm.children(":first")),displayToTheSide(otherFormatsSubmenu,directions.right))}),$scope.toggleSettingsDropdown=function(){dropdownMenu.is(":visible")?dropdownMenu.css("display","none"):dropdownMenu.css("display","flex")}}}}])}),define("modules/main/directives/static-include",["./module","angular","lodash"],function(directives){"use strict";directives.directive("staticInclude",["$http","$templateCache","$compile",function($http,$templateCache,$compile){return function(scope,element,attrs){var templatePath=attrs.staticInclude;$http.get(templatePath,{cache:$templateCache}).success(function(response){var contents=element.html(response).contents();$compile(contents)(scope)})}}])}),define("modules/main/directives/ingest-other-settings-dropdown",["./module","angular","lodash","KeyJS","common"],function(controllers,angular,_,KeyJS,cc){"use strict";controllers.directive("ingestOtherSettingsDropdown",["$rootScope","$timeout","IngestDataLoadingService","EventNames","Constants","BookmarkEventService","User","ColumnsService",function($rootScope,$timeout,IngestDataLoadingService,EventNames,Constants,BookmarkEventService,User){return{restrict:"E",templateUrl:"static/templates/include/ingest-other-settings-dropdown.html",link:function link($scope){function getKeyByValue(m,value){for(var key in m)if(m[key]==value)return key}function getValueByKey(m,key){return m[key]}function isNumberInput(key){return!("startOnRow"!==key&&"skipAfterHeader"!==key&&"skipFromBottom"!==key)}function isEditable(key){return"ingestErrorMode"!==key&&"rowXPath"!==key&&"engineSelectionStrategy"!==key}function getIngestOtherSettingsChoicesObj(source){var helperDropdowns={ingestErrorMode:_.map(ingestErrorMode,function(m){return m}),rowXPaths:source.descriptor.availableRowXPaths,engineSelectionStrategies:_.map(engineSelectionStrategies,function(m){return m})};return{startOnRow:{defaultValue:1},skipAfterHeader:{infoText:"Have empty rows or comments after your heading? Use this setting to skip those rows.",defaultValue:0},skipFromBottom:{infoText:"Have totals or export information at the bottom of your file? Use this setting to skip those rows.",defaultValue:0},delimiter:{defaultValue:","},quote:{defaultValue:"\""},escape:{defaultValue:null},commentCharacter:{infoText:"If a row starts with this character, we will skip it.",defaultValue:null},ingestErrorMode:{helperDropdown:helperDropdowns.ingestErrorMode},rowXPath:{helperDropdown:helperDropdowns.rowXPaths},engineSelectionStrategy:{helperDropdown:helperDropdowns.engineSelectionStrategies}}}function refresh(){$scope.ingestOtherSettingsDropdown=function(){function getItem(value,key){var numberInput=isNumberInput(key);return"ingestErrorMode"===key&&(value=getValueByKey(ingestErrorMode,value)),"engineSelectionStrategy"===key&&(value=getValueByKey(engineSelectionStrategies,value)),{title:itemTitles[key],key:key,value:numberInput?null==value?0:value:value,type:numberInput?"number":"text",isOpen:!1,isEditable:isEditable(key)}}var source=$scope.ingestDataSummary.selectedSources[0];if(source){var ingestOtherSettingsChoices=getIngestOtherSettingsChoicesObj(source),itemTitles={charset:"Charset:",commentCharacter:"Comment Character:",delimiter:"Delimiter:",nullString:"Null Value String:",quote:"Quote:",escape:"Escape: ",skipAfterHeader:"Skip After Header:",skipFromBottom:"Skip From Bottom:",startOnRow:"Start On Row:",ingestErrorMode:"Ingest error mode:",rowXPath:"Path to rows:",engineSelectionStrategy:"Storage type:"},withoutFlowSettings=[];"BIGQUERY"===source.descriptor.engine&&withoutFlowSettings.push("ingestErrorMode"),User.getCurrent().manualEngineSelection||withoutFlowSettings.push("engineSelectionStrategy");var items=_.map(_.omit(source.descriptor.settings,["useHeaders","id","@class","charset","nullString","commentCharacter","skipFromBottom","rowDelimiter"]),getItem),tab=$scope.tabsSection.options.activeTab;return tab.state&&(items=items.concat(_.map(_.omit(tab.state.flowSettings,withoutFlowSettings),getItem))),$scope.$eval(function(){$scope.ingestOtherSettingsInfo.count=_.size(items)}),{choices:ingestOtherSettingsChoices,items:items,toggleChoicesDropdown:function toggleChoicesDropdown($event,item,value){$event.preventDefault(),$event.stopPropagation(),item.isOpen=null==value?!item.isOpen:value}}}}()}function updateIngestOtherSettings(key,value){if("ingestErrorMode"===key){var tab=$scope.tabsSection.options.activeTab;tab.state&&(value=getKeyByValue(ingestErrorMode,value),tab.state.flowSettings[key]=value,BookmarkEventService.emit(".ingest.IngestErrorModeChangeEvent",_defineProperty2({},key,value),$scope),$scope.updateIngestSettings(!0))}else if("engineSelectionStrategy"===key){var _tab=$scope.tabsSection.options.activeTab;_tab.state&&(value=getKeyByValue(engineSelectionStrategies,value),_tab.state.flowSettings[key]=value,BookmarkEventService.emit(".ingest.EngineSelectionStrategyChangeEvent",_defineProperty2({},key,value),$scope),$scope.updateIngestSettings(!0))}else{var source=$scope.ingestDataSummary.selectedSources[0],oldValue=source.descriptor.settings[key];source.descriptor.settings[key]=value,$scope.togglePageLoader(!0),$scope.updateIngestFileSettings(source.id,source.descriptor.settings).then(function(){$scope.ingestPreviewLoaded=!1,$scope.updateIngestSettings()},function(e){source.descriptor.settings[key]=oldValue,$scope.togglePageLoader(!1);var err=IngestDataLoadingService.getErrorMessage({code:e.errorCode,message:e.errorMessage});err.message="Ingest "+err.message,cc.notify(err),IngestDataLoadingService.clear($scope),$scope.$evalAsync(function(){$scope.ingestCommitOptions.isFailed=!0})})}}var ingestErrorMode={REPLACE_WITH_NULL:"set value to null",SKIP_ROW:"skip ingesting row",STOP_INGEST:"stop ingest (strict mode)"},engineSelectionStrategies={DEPENDING_ON_DATASET_SIZE:"auto",ALWAYS_ES:"small",ALWAYS_BQ:"large"};$rootScope.$on("refresh-ingest-other-settings-dropdown",refresh),$scope.onIngestOtherSettingsModelChanged=function(item){function checkMinMax(item,min,max){angular.isNumber(item.value)&&(item.value>max?item.value=max:(_.isUndefined(item.value)||item.value<min)&&(item.value=min))}"startOnRow"===item.key?checkMinMax(item,1,5e3):checkMinMax(item,0,5e3)},$scope.onKeyDownIngestOtherSettingsInput=function(event,item){switch(event.which){case KeyJS.ENTER:case KeyJS.ESC:case KeyJS.TAB:event.target.blur(item),$scope.ingestOtherSettingsDropdown.toggleChoicesDropdown(event,item,!1);}},$scope.onIngestOtherSettingsChoiceSelect=function($event,choice,item){$event.preventDefault(),choice!==item.value&&(item.value=choice,$scope.pageMode===$scope.PAGE_MODE.INGEST&&updateIngestOtherSettings(item.key,item.value))},$scope.onIngestOtherSettingsFocusInput=function($event){$event.stopPropagation(),$($event.target).select()},$scope.onIngestOtherSettingsBlur=function(item){if(!item.value){var source=$scope.ingestDataSummary.selectedSources[0];item.value=getIngestOtherSettingsChoicesObj(source)[item.key].defaultValue}item.value!==_.get($scope.ingestDataSummary,["selectedSources",0,"descriptor","settings",item.key])&&$scope.pageMode===$scope.PAGE_MODE.INGEST&&updateIngestOtherSettings(item.key,item.value)},refresh()}}}])}),define("modules/main/directives/sticky-note",["./module","jquery"],function(directives){"use strict";directives.directive("stickyNote",["$rootScope",function(){return{restrict:"E",templateUrl:"static/templates/include/popover/sticky-note.html",scope:{snTemplate:"@",snOpen:"=",snPlacement:"=",snClass:"@",snOnClose:"&"},link:function link($scope){return $scope.snTemplate?void($scope.close=function(){$scope.snOpen=!1,$scope.snOnClose()}):void($scope.snOpen=!1)}}}])}),define("modules/main/directives/format-toolbar",["./module"],function(directives){directives.directive("formatToolbar",[function(){return{restrict:"EA",templateUrl:"static/templates/include/format-toolbar.html",controller:["$scope",function($scope){$scope.formatOtherOptions=[{label:"Text",descr:"asdf",action:function action(){console.log("action",this.label)},isChecked:function isChecked(){}},{label:"Number",descr:"123.23",action:function action(){console.log("action",this.label)},isChecked:function isChecked(){}},{label:"Percent",descr:"12%",action:function action(){console.log("action",this.label)},isChecked:function isChecked(){}},{label:"Financial",descr:"$12,000.25",action:function action(){console.log("action",this.label)},isChecked:function isChecked(){}}]}]}}])}),define("modules/main/directives/search-settings-dropdown",["./module","lodash"],function(directives,_){"use strict";directives.directive("searchSettingsDropdown",["$rootScope","BookmarkEventService","ColumnsService","DataLoadingService",function($rootScope,BookmarkEventService,ColumnsService,DataLoadingService){return{restrict:"E",templateUrl:"static/templates/include/search-settings-dropdown.html",link:function link($scope){function getOriginalColumn(col){return _.find($scope.columns,{field:col.field})}function getSelectableColumns(){return _.filter($scope.searchOptionsDropdown.columns,function(col){return!_.includes(nonSelectableTypes,col.type)})}function getNonSelectableColumns(){return _.filter($scope.searchOptionsDropdown.columns,function(col){return _.includes(nonSelectableTypes,col.type)})}function getAllSelectedColumns(){var selected=$scope.searchOptionsDropdown.getSelectedColumns();return selected.length||(selected=_.filter($scope.searchOptionsDropdown.columns,function(col){return _.includes(["DECIMAL","STRING"],col.type)})),selected}var allSearchTypeOptions=_.map(ColumnsService.getSearchTypes(),function(st){return{value:st.code,text:st.label}});$scope.$on("reset-search-settings",function(){$scope.searchOptionsDropdown.columns=_.cloneDeep($scope.columns),$scope.searchOptionsDropdown.instantSearch=_.find($scope.searchOptionsDropdown.onOffOptions,function(o){return o.value===$scope.dataSummary.instantSearch}),$scope.searchOptionsDropdown.highlightMatches=_.find($scope.searchOptionsDropdown.onOffOptions,function(o){return o.value===$scope.dataSummary.highlightMatches}),_.each(getNonSelectableColumns(),function(col){col.disabled=!0;var dataType="BOOLEAN"===col.type?"Boolean":"Date/Time";col.disabledTooltip=dataType+" fields are not searchable.<br> Use the filters panel on the left of the page to filter by this field."}),$scope.searchOptionsDropdown.refreshInfo()}),$scope.$on("reset-search-type",function(event,data){$scope.searchOptionsDropdown.onSearchTypeSelect({},data.searchType,data.column)});var nonSelectableTypes=["BOOLEAN","DATE","TIME"];$scope.searchOptionsDropdown={allColumnsOption:{field:"$$all",searchType:void 0},enabledItemsCount:0,columns:[],hasChangesToCommit:!0,instantSearch:void 0,highlightMatches:void 0,onOffOptions:[{text:"off",value:!1},{text:"on",value:!0}],isInstantSearchDropdownOpened:!1,toggleInstantSearchDropdown:function toggleInstantSearchDropdown($event){$event.preventDefault(),$event.stopPropagation(),$scope.autoRefresh&&($scope.searchOptionsDropdown.isInstantSearchDropdownOpened=!$scope.searchOptionsDropdown.isInstantSearchDropdownOpened,console.log($scope.searchOptionsDropdown.isInstantSearchDropdownOpened))},onInstantSearchSelect:function onInstantSearchSelect($event,instantSearch){$scope.searchOptionsDropdown.instantSearch=instantSearch,$scope.dataSummary.instantSearch=instantSearch.value,BookmarkEventService.emit(".request.InstantSearchToggleEvent",{value:instantSearch.value},$scope)},onHighlightMatchesSelect:function onHighlightMatchesSelect($event,highlightMatches){$scope.searchOptionsDropdown.highlightMatches=highlightMatches,$scope.dataSummary.highlightMatches=highlightMatches.value,BookmarkEventService.emit(".HighlightMatchesToggleEvent",{value:highlightMatches.value},$scope),$scope.gridOptions.api.refreshView()},refreshInfo:function refreshInfo(){$scope.searchOptionsDropdown.enabledItemsCount=$scope.searchOptionsDropdown.columns.filter(function(col){return"NONE"!==col.settings.searchType}).length,$scope.searchOptionsDropdown.hasChangesToCommit=!1,_.each($scope.searchOptionsDropdown.columns,function(col){var originalCol=getOriginalColumn(col);col.settings.searchType!==originalCol.settings.searchType&&($scope.searchOptionsDropdown.hasChangesToCommit=!0)});var selected=getAllSelectedColumns(),searchTypes=_.uniq(_.map(selected,"settings.searchType"));$scope.searchOptionsDropdown.allColumnsOption.searchType=1===searchTypes.length?searchTypes[0]:void 0},getSelectedColumns:function getSelectedColumns(){return _.filter($scope.searchOptionsDropdown.columns,"selected")},getAllSelected:function getAllSelected(){return $scope.searchOptionsDropdown.getSelectedColumns().length===getSelectableColumns().length},setAllSelected:function setAllSelected(value){_.forEach(getSelectableColumns(),function(item){item.selected=value}),$scope.searchOptionsDropdown.refreshInfo()},allSelected:function allSelected(value){return void 0===value?$scope.searchOptionsDropdown.getAllSelected():$scope.searchOptionsDropdown.setAllSelected(value)},availableAllFieldsOptions:[{value:"NONE",text:"Turn off"},{value:"RESET",text:"Reset to default"}],availableStringFieldOptions:allSearchTypeOptions,availableNumberFieldOptions:_.filter(allSearchTypeOptions,function(st){return _.includes(["NONE","EXACT_MATCH"],st.value)}),availableOtherFieldOptions:_.filter(allSearchTypeOptions,function(st){return _.includes(["NONE"],st.value)}),getTypeName:function getTypeName(searchType){return searchType?_.find($scope.searchOptionsDropdown.availableStringFieldOptions,{value:searchType}).text:"<span class='selected-many'>--</span>"},searchTypeMenuOpened:{},opened:!1,toggle:function toggle(_toggle){_toggle==void 0&&(_toggle=!$scope.searchOptionsDropdown.opened),_toggle||($scope.searchOptionsDropdown.searchTypeMenuOpened={}),$scope.searchOptionsDropdown.opened=_toggle},toggleSearchTypeOptions:function toggleSearchTypeOptions($event,col){if($event.preventDefault(),$event.stopPropagation(),!col.disabled){var opened=$scope.searchOptionsDropdown.searchTypeMenuOpened;opened[col.field]||(opened=$scope.searchOptionsDropdown.searchTypeMenuOpened={}),opened[col.field]^=!0}},getAvailableSearchTypes:function getAvailableSearchTypes(col){function containsType(type){return _.some(selected,function(column){return column.type==type})}var selected;return"$$all"===col.field?(selected=getAllSelectedColumns(),$scope.searchOptionsDropdown.availableAllFieldsOptions):(selected=[col],containsType("BOOLEAN")||containsType("DATE")||containsType("TIME")?$scope.searchOptionsDropdown.availableOtherFieldOptions:containsType("DECIMAL")?$scope.searchOptionsDropdown.availableNumberFieldOptions:containsType("STRING")?$scope.searchOptionsDropdown.availableStringFieldOptions:void 0)},onSearchTypeSelect:function onSearchTypeSelect($event,searchType,col){var tab=$scope.tabsSection.options.activeTab,engineType=tab.tableSchema&&tab.tableSchema.engineType,selected=void 0;selected="$$all"===col.field?getAllSelectedColumns():[col];var shouldRefresh=!1;_.each(selected,function(col){if(col.settings.searchType="RESET"===searchType.value?col.searchType:searchType.value,"ES"!==engineType||"EDGE"!==col.settings.searchType&&"FULL"!==col.settings.searchType||col.searchType===col.settings.searchType){var originalCol=getOriginalColumn(col);shouldRefresh=!0,originalCol.settings.searchType="RESET"===searchType.value?col.searchType:searchType.value,BookmarkEventService.emit(".cols.ColSearchTypeChangeEvent",{field:col.field,searchType:"RESET"===searchType.value?col.searchType:searchType.value},$scope)}}),$scope.searchOptionsDropdown.refreshInfo(),shouldRefresh&&DataLoadingService.doRefreshIfNeeded($scope)},saveChanges:function saveChanges(){$scope.searchOptionsDropdown.hasChangesToCommit&&($scope.searchOptionsDropdown.savingChanges=!0,$scope.updateIngestSettingsAndCommit(function(){return _.each($scope.searchOptionsDropdown.columns,function(col){var ingestColumn=_.find($scope.ingestDataSummary.columns,function(c){return c.settings.rename==col.originalField||c.name==col.originalField});ingestColumn&&(ingestColumn.settings.searchType=col.settings.searchType)}),!0}).then(function(){$scope.searchOptionsDropdown.savingChanges=!1,$scope.searchOptionsDropdown.toggle()}))}}}}}])}),define("modules/main/directives/uploads",["./module","common","lodash"],function(directives,common,_){"use strict";var _Mathround5=Math.round;directives.directive("uploads",["$uibModal","$http","$state","$rootScope","SourceService","BookmarkCommitService","UploaderService","$q","$localStorage",function($uibModal,$http,$state,$rootScope,SourceService,BookmarkCommitService,UploaderService,$q){return{restrict:"E",scope:{},link:function link($scope,$elm){function checkFilesBeforeUpload(items){_.each(items,function(item){switch(UploaderService.getFileType(item._file.name)){case"unknown":$scope.uploader._onCompleteItem(item),$scope.uploader._onErrorItem(item,[{code:400,message:"Invalid extension",description:"Acceptable formats are: "+UploaderService.availableFileFormatsAsString}],400),item.icon="unknown";}})}function checkUploaderIsIngesting(){var ingestingItems=_.filter($scope.uploader.queue,function(item){if(item.ingesting&&"IN_PROGRESS"===item.ingesting&&!item.stoppingIngest)return item});$scope.uploader.isIngesting=0<_.size(ingestingItems)}function onQuickIngestComplete(task,event){function handleIngestionFinish(){item.ingesting="FINISHED",$rootScope.$broadcast("upload-item-ingest-complete",{event:event,item:item}),checkUploaderIsIngesting(),$rootScope.$broadcast("delete-ingesting-value",item.datadoc.id),console.log("FINISHED IN",Date.now()-item.timeStamp)}var item=_.find($scope.uploader.queue,function(item){return item.datadoc&&_.contains(item.datadoc.lastFlowExecutionTasks,task.taskId)});if(item&&!item.stoppingIngest){item.tasks[task.taskId].finished=!0;var allFinished=_.keys(item.tasks).length===item.tasksCount&&_.every(_.values(item.tasks),"finished");if(allFinished)if(item.datadoc.gathererTask){var handleGathererWait=function(){$http.post("/api/flow/get_state",{taskId:item.datadoc.gathererTask}).then(function(_ref26){var data=_ref26.data;data.finished?handleIngestionFinish():setTimeout(handleGathererWait,1e3)}).catch(function(err){return console.log(err)})};handleGathererWait()}else handleIngestionFinish()}}function onQuickIngestProgress(task,event){var item=_.find($scope.uploader.queue,function(item){return item.datadoc&&_.contains(item.datadoc.lastFlowExecutionTasks,task.taskId)}),props={};if(item&&!item.stoppingIngest){var tasksCount=item.datadoc.lastFlowExecutionTasks.length;if(item.tasks||(item.tasks={}),item.tasksCount=tasksCount,item.tasks[task.taskId]={progress:event.state.OUTPUT.percentComplete,processedRows:event.state.OUTPUT.processedRowsCount,totalRows:event.state.OUTPUT.allRowsCount},_.every(item.tasks,function(task){return 0<task.totalRows})){var newIngestingProgress=calculateProgress(item.tasks);item.ingestingProgress!==newIngestingProgress&&(item.ingestingProgress=newIngestingProgress,100==item.ingestingProgress&&(item.ingestingProgress=99),props={ingestingProgress:item.ingestingProgress,id:item.datadoc.id},$rootScope.$broadcast("update-ingesting-value",props))}}}function createDatadoc(upload,preProcessionTime){var autoIngest=!(2<arguments.length&&arguments[2]!==void 0)||arguments[2],preSave=!!(3<arguments.length&&arguments[3]!==void 0)&&arguments[3];return $http({method:"POST",url:"/api/docs",data:{name:upload.name,sourcePath:"id:"+upload.id,parentId:upload.parentId,autoIngest:autoIngest,preProcessionTime:preProcessionTime,embedded:!0,preSave:preSave}})}var _this14=this,calculateProgress=function(tasks){if(1<_.values(tasks).length){var progressByRows=_.reduce(_.values(tasks),function(acc,task){return acc.processedRows+=task.processedRows,acc.totalRows+=task.totalRows,acc},{processedRows:0,totalRows:0}),totalRows=progressByRows.totalRows||1;return _Mathround5(100*(progressByRows.processedRows/totalRows))}var progress=_.get(_.first(_.values(tasks)),"progress");return _Mathround5(progress?progress:0)};if("main.visualize"!==$state.current.name){$scope.uploader=UploaderService.getUploader(),$scope.setUploaderUrl=UploaderService.setUrl,$scope.goToVisualization=function(index,suppressStateChanging){var preSave=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];suppressStateChanging||$state.go("main.visualize",{id:index.id,preSave:preSave})};var tryToReleaseReloadLock=function(){_.some($scope.uploader.queue,{verifying:!0})||(window.onbeforeunload=void 0)};$scope.getUploadItemStatus=function(item){return item.isDuplicate?"File already exists.":item.isError?item.errorMessage?item.errorMessage:"Connection error":item.stoppingIngest?"File added. Ingest canceled.":item.isCancel?"Upload cancelled":""},$scope.getUploadItemIcon=function(item){return item.result&&item.result.descriptor.format?SourceService.getIcon(item.result):item.icon},$scope.getUploadsPopupTitle=function(){var result="",_$scope$uploader$queu=$scope.uploader.queue.reduce(function(acc,el){return el.isError&&!el.isDuplicate?acc.errorCount++:el.isCancel||el.stoppingIngest?acc.cancelCount++:("FINISHED"===el.ingesting&&!el.isSchemaDefining||el.isDuplicate)&&acc.successCount++,acc},{errorCount:0,cancelCount:0,successCount:0}),errorCount=_$scope$uploader$queu.errorCount,cancelCount=_$scope$uploader$queu.cancelCount,successCount=_$scope$uploader$queu.successCount;if(0<errorCount&&(result+=errorCount+" failed. "),0<cancelCount&&(result+=cancelCount+" canceled. "),0<successCount&&(result+=successCount?successCount+" file"+(1<successCount?"s":"")+" added. ":""),$scope.uploader.isUploading||$scope.uploader.isIngesting||$scope.uploader.isSchemaDefining||$scope.uploader.isVerifying){var inProgressCount=_.reduce($scope.uploader.queue,function(count,item){return(item.isUploading||item.isReady||item.isSchemaDefining||item.verifying||"IN_PROGRESS"===item.ingesting)&&"FINISHED"!==item.ingesting&&!item.stoppingIngest&&!item.isError&&!item.isCancel&&count++,count},0);inProgressCount&&(result+=inProgressCount+" uploading...")}return result},$scope.showUploadsPopup=function(){$scope.uploadModal||($scope.uploadModal=$uibModal.open({templateUrl:"/static/templates/main/uploads.html",scope:$scope,animation:!0,size:"md",backdrop:!1,windowClass:"popup-window bottom-right uploads-popup",appendTo:$elm}),$scope.uploadModal.closed.then(function(){$scope.uploadModal=null}))},$scope.showStopIngestModal=function(e,item){e.stopPropagation(),$scope.stopItem=item,$scope.stopIngestModal=$uibModal.open({templateUrl:"static/templates/include/stop-ingest-modal.html",scope:$scope,animation:!0,size:"md"})},$scope.closeStopIngestModal=function(){$scope.stopIngestModal.dismiss()},$scope.minimizeUploadsPopup=function(){$scope.uploadModal.minimized||($scope.uploadModal.minimized=!0)},$scope.maximizeUploadsPopup=function(){$scope.uploadModal.minimized&&($scope.uploadModal.minimized=!1)},$scope.closeUploadCloseModal=function(cancel){$scope.uploadCloseModal.dismiss(),cancel&&($scope.uploader.clearQueue(),$scope.uploadModal.dismiss())},$scope.closeUploadsPopup=function(){return $scope.uploader.isUploading?($scope.uploadCloseModal=$uibModal.open({templateUrl:"/static/templates/main/uploads-close.html",scope:$scope,animation:!0,size:"md",backdrop:!1}),$scope.uploadCloseModal.closed):void($scope.uploader.queue=_.filter($scope.uploader.queue,function(_ref22){var ingesting=_ref22.ingesting,isCancel=_ref22.isCancel,isError=_ref22.isError;return!("FINISHED"===ingesting||"NO_INGEST"===ingesting||isCancel||isError)}),$scope.definedSchemaFilesCount=0,$scope.uploader.isSchemaDefining=!1,$scope.uploadModal.dismiss())};var presetOptions=function(item){var _ref23=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},_ref23$props=_ref23.props,props=void 0===_ref23$props?{}:_ref23$props;for(var key in props)item[key]=props[key]},uploadItem=function(item,options){var path=$scope.uploader.path;options&&"parentFolder"in options&&(path=options.parentFolder?"id:"+options.parentFolder:""),item.headers["Datadocs-API-Arg"]=JSON.stringify({path:path,fileSize:item.file.size}),item.icon=UploaderService.getFileType(item._file.name),options&&options.props?(_.merge(item,options.props),$scope.keepClosed=!0):($scope.uploader.uploadItem(item),$scope.keepClosed=!1)};$scope.uploader.onAfterAddingFile=UploaderService.isGCSUploader?presetOptions:uploadItem,$scope.uploader.onAfterAddingAll=function(items,options){var successItems=items.filter(function(item){return!item.isError});UploaderService.isGCSUploader&&successItems.forEach(function(item){return uploadItem(item,options)}),$scope.keepClosed||$scope.showUploadsPopup(),successItems.length&&(window.onbeforeunload=function(){return"Uploads will be cancelled if you leave the page, are you sure?"}),$scope.sourceModal&&$scope.closeSourceModal()};var waitForGCSBeforeStartUploading=function(){var _ref24=_asyncToGenerator(regeneratorRuntime.mark(function _callee12(items){var _ref25,filesUploadData;return regeneratorRuntime.wrap(function(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return $scope.keepClosed||$scope.showUploadsPopup(),$scope.sourceModal&&$scope.closeSourceModal(),checkFilesBeforeUpload(items),_context12.next=5,$http.post("/api/files/upload/prepare",{count:_.size(items)});case 5:_ref25=_context12.sent,filesUploadData=_ref25.data,items.forEach(function(item,index){var fileUpload=filesUploadData[index];for(var key in fileUpload)item[key]=fileUpload[key]});case 8:case"end":return _context12.stop();}},_callee12,_this14)}));return function(){return _ref24.apply(this,arguments)}}();UploaderService.isGCSUploader&&($scope.uploader.waitBeforeStartUploading=waitForGCSBeforeStartUploading),$scope.uploader.onCompleteAll=function(){checkIsSchemaDefining(),tryToReleaseReloadLock()},$scope.uploader.onCancelItem=function(){var allCancelled=_.every($scope.uploader.queue,function(i){return i.isCancel||i.isError});allCancelled&&($scope.uploader.isUploading=!1,window.onbeforeunload=void 0)},$scope.uploader.onBeforeUploadItem=function(item){item.timeStamp=Date.now(),item.prevProgress=0},$scope.getUnderNameStatus=function(item){var transition=item.isUploaded&&!item.ingesting&&!item.isCancel&&!item.verifying;return!item.isError&&item.isUploading||transition?"Part 1 of 3 - Uploading ("+item.progress+"%)...":item.verifying?"Part 2 of 3 - Verifying file...":item.ingesting&&"FINISHED"!==item.ingesting&&!item.stoppingIngest?"Part 3 of 3 - Saving to datadoc ("+parseInt(item.ingestingProgress)+"%)...":void 0},$scope.clearItem=function(item){$scope.uploader.removeFromQueue(item),$scope.definedSchemaFilesCount--,0==$scope.uploader.queue.length&&$scope.closeUploadsPopup()},$scope.definedSchemaFilesCount=0;var checkIsSchemaDefining=function(){$scope.uploader.isSchemaDefining=$scope.uploader.queue.length>=++$scope.definedSchemaFilesCount};$scope.uploader.onSuccessItem=function(){var _ref27=_asyncToGenerator(regeneratorRuntime.mark(function _callee13(item,descriptor){var canceler,post,_JSON$parse,hash,fileId,saveDescriptorOptions;return regeneratorRuntime.wrap(function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:console.log("Uploading took "+(Date.now()-item.timeStamp)+" ms"),checkIsSchemaDefining(),item.verifying=!0,$scope.uploader.isVerifying=!0,canceler=$q.defer(),post=void 0,item.restoredIngest?(item.verifying=!1,post=Promise.resolve({data:{file:item.result}})):UploaderService.isGCSUploader?(_JSON$parse=JSON.parse(descriptor),hash=_JSON$parse.md5Checksum,fileId=_JSON$parse.id,saveDescriptorOptions={sessionId:item.sessionId,path:$scope.uploader.path||"",fileName:item.file.name,fileSize:item.file.size,contentType:item.file.type,hash:hash,fileId:fileId},post=$http.post("/api/files/upload/confirm",saveDescriptorOptions,{timeout:canceler.promise})):post=$http.post("/api/files/create-from-storage",descriptor,{timeout:canceler.promise}),item.cancel=canceler.resolve,item.isSchemaDefining=!0,post.then(function(data){function createIndexAndIngest(upload){return createDatadoc(upload,endProcession).then(function(response){item.verifying=!1,tryToReleaseReloadLock(),$scope.uploader.isVerifying=!1,item.ingesting="IN_PROGRESS",item.ingestingProgress=0<item.ingestingProgress?item.ingestingProgress:0,$scope.uploader.isIngesting=!0;var datadoc=response.data;SourceService.reset({keepSize:!0}),item.datadoc=datadoc})}var endProcession=Date.now()-item.timeStamp,response=UploaderService.isGCSUploader?data.data.file:data.data;if(item.result=response,item.isSchemaDefining=!1,item.restoredIngest||$rootScope.$broadcast("upload-item-success",{item:item,upload:response}),response.descriptor){var composite=response.descriptor.composite,valid=response.descriptor.valid;if(valid)if(composite){if(0<response.sections.length){var section=response.sections[0];if(section.descriptor.valid&&!item.restoredIngest)return console.log("composite file uploaded, creating datadoc",response),createIndexAndIngest(response)}}else if(!item.restoredIngest)return console.log("single file uploaded, creating datadoc",response),createIndexAndIngest(response);item.restoredIngest?(item.verifying=!1,tryToReleaseReloadLock(),$scope.uploader.isVerifying=!1,item.ingesting="IN_PROGRESS",item.ingestingProgress=0<item.ingestingProgress?item.ingestingProgress:0,$scope.uploader.isIngesting=!0):(item.verifying=!1,item.ingesting="NO_INGEST")}}).catch(function(error){checkIsSchemaDefining(),item.isCancel=!0,item.isUploading=!1,item.isSchemaDefining=!1,error.data?$scope.uploader._onErrorItem(item,[error.data],error.status,error.status):$http.post("/api/files/delete_file_by_path",error.config.data.filePath)});case 10:case"end":return _context13.stop();}},_callee13,this)}));return function(){return _ref27.apply(this,arguments)}}(),$scope.uploader.onErrorItem=function(item,response,status){if(item.isSchemaDefining=!1,item.verifying=!1,400==status)item.errorCode=response[0].code,item.errorMessage=response[0].message,item.errorDescription=response[0].description;else if(409==status){item.isDuplicate=!0;var _response$=response[0],id=_response$.resourceId,_name3=_response$.resourceName,message=_response$.message;item.errorMessage=message,item.existsFileInfo={id:id,name:_name3}}else 500==status&&(item.errorMessage="Could not ingest file",item.errorDescription=response.message||response[0].message||response[0].errorDescription)},$scope.stopIngest=function(item){item.stoppingIngest=!0,Promise.all(_.map(item.datadoc.lastFlowExecutionTasks,function(taskId){return $http.post("/api/flow/cancel",{taskId:taskId})})).then(function(){item.ingesting="NO_INGEST",item.resultMessage="Datadoc creation stopped.",checkUploaderIsIngesting(),$scope.closeStopIngestModal()}).catch(function(){item.stoppingIngest=!1})},$scope.openDatadoc=function(item){item&&item.isDuplicate&&createDatadoc(item.existsFileInfo,null,!1,!0).then(function(response){console.log("goToVisualization"),$scope.goToVisualization(response.data,!1,!0)}),item&&item.isUploaded&&item.isSuccess&&!item.stoppingIngest&&("FINISHED"==item.ingesting||"IN_PROGRESS"==item.ingesting?item.datadoc&&$scope.goToVisualization(item.datadoc):"NO_INGEST"===item.ingesting&&$rootScope.$broadcast("create-index-from-upload",item.result))},$scope.uploader.clearQueue(),$http.post("/api/flow/get_active_tasks").then(function(_ref28){var tasks=_ref28.data;if(1<=tasks.length){var tasksByMainSource=_.groupBy(tasks,function(task){return _.min(task.taskInfo.result.sourceIds)}),toAddToQueue=_.reduce(tasksByMainSource,function(queueItems,tasks){var _tasks=_slicedToArray2(tasks,1),_tasks$=_tasks[0],datadoc=_tasks$.datadoc,upload=_tasks$.upload,ingestingProgress=calculateProgress(_.map(tasks,"taskInfo")),props={prevProgress:ingestingProgress,progress:ingestingProgress,ingestingProgress:ingestingProgress,isSuccess:!0,isUploaded:!0,restoredIngest:!0,result:upload,datadoc:datadoc,ingesting:"IN_PROGRESS"};return $rootScope.$broadcast("update-ingesting-value",{ingestingProgress:props.ingestingProgress,id:datadoc.id}),queueItems.files.push({name:upload.name,size:upload.descriptor.size}),queueItems.options.push({props:props}),queueItems},{files:[],options:[]});$scope.uploader.addToQueue(toAddToQueue.files,toAddToQueue.options)}}).catch(function(err){return console.error(err)}),$scope.$on("close-uploads-modal",function(){$scope.closeUploadsPopup()}),BookmarkCommitService.on("complete",onQuickIngestComplete),BookmarkCommitService.on("progress",onQuickIngestProgress),$scope.$on("$destroy",function(){BookmarkCommitService.off("complete",onQuickIngestComplete),BookmarkCommitService.off("progress",onQuickIngestProgress)})}}}}])});(function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("moment-duration-format",factory):factory()})(this,function(){"use strict";function repeatZero(qty){var result="";if(qty=parseInt(qty,10),!qty||1>qty)return result;for(;qty;)result+="0",qty-=1;return result}function padZero(str,len,isRight){return null==str&&(str=""),str=""+str,(isRight?str:"")+repeatZero(len-str.length)+(isRight?"":str)}function isArray(array){return"[object Array]"===Object.prototype.toString.call(array)}function isObject(obj){return"[object Object]"===Object.prototype.toString.call(obj)}function findLast(array,callback){for(var index=array.length;index-=1;)if(callback(array[index]))return array[index]}function find(array,callback){var index=0,max=array.length,match;for("function"!=typeof callback&&(match=callback,callback=function(item){return item===match});index<max;){if(callback(array[index]))return array[index];index+=1}}function each(array,callback){var index=0,max=array.length;if(array&&max)for(;index<max;){if(!1===callback(array[index],index))return;index+=1}}function map(array,callback){var index=0,max=array.length,ret=[];if(!array||!max)return ret;for(;index<max;)ret[index]=callback(array[index],index),index+=1;return ret}function pluck(array,prop){return map(array,function(item){return item[prop]})}function compact(array){var ret=[];return each(array,function(item){item&&ret.push(item)}),ret}function unique(array){var ret=[];return each(array,function(_a){find(ret,_a)||ret.push(_a)}),ret}function intersection(a,b){var ret=[];return each(a,function(_a){each(b,function(_b){_a===_b&&ret.push(_a)})}),unique(ret)}function rest(array,callback){var ret=[];return each(array,function(item,index){if(!callback(item))return ret=array.slice(index),!1}),ret}function initial(array,callback){var reversed=array.slice().reverse();return rest(reversed,callback).reverse()}function extend(a,b){for(var key in b)b.hasOwnProperty(key)&&(a[key]=b[key]);return a}var _Mathfloor4=Math.floor,_Mathpow4=Math.pow,moment;if("function"==typeof require)try{moment=require("moment")}catch(e){}if(!moment&&root.moment&&(moment=root.moment),!moment)throw"Moment Duration Format cannot find Moment.js";moment.duration.fn.format=function(){var args=[].slice.call(arguments),settings=extend({},this.format.defaults),remainder=moment.duration(this),tokenizer,tokens,types,typeMap,momentTypes,foundFirst;return(settings.duration=this,each(args,function(arg){return"string"==typeof arg||"function"==typeof arg?void(settings.template=arg):"number"==typeof arg?void(settings.precision=arg):void(isObject(arg)&&extend(settings,arg))}),types=settings.types=isArray(settings.types)?settings.types:settings.types.split(" "),"function"==typeof settings.template&&(settings.template=settings.template.apply(settings)),tokenizer=new RegExp(map(types,function(type){return settings[type].source}).join("|"),"g"),typeMap=function(token){return find(types,function(type){return settings[type].test(token)})},tokens=map(settings.template.match(tokenizer),function(token,index){var type=typeMap(token),length=token.length;return{index:index,length:length,token:"escape"===type?token.replace(settings.escape,"$1"):token,type:"escape"===type||"general"===type?null:type}},this),momentTypes=intersection(types,unique(compact(pluck(tokens,"type")))),!momentTypes.length)?pluck(tokens,"token").join(""):(each(momentTypes,function(momentType,index){var value,wholeValue,decimalValue,isLeast,isMost;value=remainder.as(momentType),wholeValue=0<value?_Mathfloor4(value):Math.ceil(value),decimalValue=value-wholeValue,isLeast=index+1===momentTypes.length,isMost=!index,each(tokens,function(token){token.type===momentType&&(extend(token,{value:value,wholeValue:wholeValue,decimalValue:decimalValue,isLeast:isLeast,isMost:isMost}),isMost&&null==settings.forceLength&&1<token.length&&(settings.forceLength=!0))}),remainder.subtract(wholeValue,momentType)}),settings.trim&&(tokens=("left"===settings.trim?rest:initial)(tokens,function(token){return!(token.isLeast||null!=token.type&&token.wholeValue)})),foundFirst=!1,"right"===settings.trim&&tokens.reverse(),tokens=map(tokens,function(token){var val,decVal;if(!token.type)return token.token;if(val=token.isLeast&&0>settings.precision?(_Mathfloor4(token.wholeValue*_Mathpow4(10,settings.precision))*_Mathpow4(10,-settings.precision)).toString():token.wholeValue.toString(),val=val.replace(/^\-/,""),1<token.length&&(foundFirst||token.isMost||settings.forceLength)&&(val=padZero(val,token.length)),token.isLeast&&0<settings.precision)switch(decVal=token.decimalValue.toString().replace(/^\-/,"").split(/\.|e\-/),decVal.length){case 1:val+="."+padZero(decVal[0],settings.precision,!0).slice(0,settings.precision);break;case 2:val+="."+padZero(decVal[1],settings.precision,!0).slice(0,settings.precision);break;case 3:val+="."+padZero(repeatZero(+decVal[2]-1)+(decVal[0]||"0")+decVal[1],settings.precision,!0).slice(0,settings.precision);break;default:throw"Moment Duration Format: unable to parse token decimal value.";}return token.isMost&&0>token.value&&(val="-"+val),foundFirst=!0,val}),"right"===settings.trim&&tokens.reverse(),tokens.join(""))},moment.duration.fn.format.defaults={escape:/\[(.+?)\]/,years:/[Yy]+/,months:/M+/,weeks:/[Ww]+/,days:/[Dd]+/,hours:/[Hh]+/,minutes:/m+/,seconds:/s+/,milliseconds:/S+/,general:/.+?/,types:"escape years months weeks days hours minutes seconds milliseconds general",trim:"left",precision:0,forceLength:null,template:function template(){var types=this.types,dur=this.duration,lastType=findLast(types,function(type){return dur._data[type]});return"seconds"===lastType?"h:mm:ss":"minutes"===lastType?"d[d] h:mm":"hours"===lastType?"d[d] h[h]":"days"===lastType?"M[m] d[d]":"weeks"===lastType?"y[y] w[w]":"months"===lastType?"y[y] M[m]":"years"===lastType?"y[y]":"y[y] M[m] d[d] h:mm:ss"}}}),define("modules/main/directives/query-editor",["./module","lodash","moment","moment-duration-format"],function(directives,_,moment){"use strict";directives.directive("queryEditor",["$http","$q","$compile","IngestDataLoadingService","BookmarkEventService","$uibModal",function($http,$q,$compile,IngestDataLoadingService,BookmarkEventService,$uibModal){return{restrict:"E",templateUrl:"static/templates/include/query-editor.html",link:function link($scope,$elm){$scope.runQueryConfirmationModal=null;var runModal=function(forceQuery){$scope.runQueryConfirmationModal=$uibModal.open({templateUrl:"static/templates/include/confirmation-modal.html",controller:"confirmationModalCtrl",scope:$scope,resolve:{title:function title(){return null},description:function description(){return"You have made manual changes to your data that would be overwritten by re-running this query. Are you sure you want to re-run this query?"},agree:function agree(){return $scope.runQuery.bind(null,forceQuery,!0)},agreeButtonTitle:function agreeButtonTitle(){return"Run Query"}},animation:!0,size:"md"}),$scope.runQueryConfirmationModal.closed=function(){return $scope.runQueryConfirmationModal=null}};$scope.$on("ingest-run-query",function(context,runQueryData){var force=_.get(runQueryData,"force");$scope.runQuery(!!(force===void 0||null===force)||force)});var el=$elm.find(".CodeMirror");el.attr("v-resizable",""),el.attr("v-resizable-id","query-editor-resize"),el.attr("v-resizable-min","55"),el.attr("v-resizable-default","210"),el.attr("v-resizable-max","700"),el.attr("v-resizable-on-resize-finished","onResizeDone"),el.attr("v-resizable-on-resize","onResize"),$compile(el)($scope),$scope.favoriteQueryDropdown={opened:!1,toggle:function toggle(_toggle2){"undefined"==typeof _toggle2&&(_toggle2=!$scope.favoriteQueryDropdown.opened),$scope.favoriteQueryDropdown.opened=_toggle2}},$scope.$on("open-query-editor",function(){el[0].CodeMirror.focus()}),$scope.onResizeDone=function(element){$scope.editorHeight=element.height,BookmarkEventService.emit(".QueryEditorHeightChangeEvent",{height:element.height},$scope)},$scope.onResize=_.throttle(function(){return $scope.previewGridOptions.api.doLayout()},50),$scope.runQuery=function(){var force=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],skipModal=arguments[1];if($scope.currentQueryData.manualChangesPerformed&&!skipModal)return void runModal(force);$scope.currentQueryData.queryRunning=!0,$scope.disableGridBeforeQuery();var startTime=new Date().getTime();return $scope.currentQueryData.reset(),$q.when($scope.updateIngestSettings(!1,!1,!0,force,!1)).then(function(response){$scope.enableGridAfterQuery(),$scope.currentQueryData.successQuery=!0,$scope.currentQueryData.lastQueryTime=moment.duration(response.time,"milliseconds").format("m [min] s [s]",2),$scope.$emit("refresh-query-history"),$scope.currentQueryData.queryRunning=!1},function(e){if($scope.enableGridAfterQuery(),-1!==e.status)$scope.currentQueryData.errorQuery=!0,IngestDataLoadingService.clear($scope),$scope.currentQueryData.lastQueryErrorMessage=!e.data.message&&_.first(e.data).code?IngestDataLoadingService.getErrorMessage(_.first(e.data)).message:e.data.message,$scope.$emit("refresh-query-history");else{$scope.currentQueryData.canceledQuery=!0;var finishTime=new Date().getTime();$scope.currentQueryData.lastQueryTime=moment.duration(finishTime-startTime,"milliseconds").format("m [min] s [s]",2)}$scope.currentQueryData.queryRunning=!1})}}}}])}),define("modules/main/directives/index",["./join","./onFinishRender","./objectSelect","./contextMenu","./resizable","./focus-on-show","./upload-border","./datadoc-pane","./datepicker","./ui-switch","./v-resizable","./on-render","./infinite-scroll","./vs-repeat","./fsm-sticky-header","./widget-container","./click-out","./viz-filters","./ingest-db-tables","./viz-list","./only-numeric","./limit-to","./collapsed-tags","./embed-widget","./embed-settings","./sort-settings-dropdown","./limit-settings-dropdown","./main-page-ds-pane","./main-page-file-details","./add-folder-pane","./sort-columns","./ng-select-items","./ng-touchend","./mobile-search","./compile","./datadoc-presence","./responsive-settings","./static-include","./ingest-other-settings-dropdown","./sticky-note","./format-toolbar","./search-settings-dropdown","./uploads","./query-editor"],function(){}),define("modules/main/services/module",["angular"],function(ng){"use strict";return ng.module("app.main.services",[])});var JSON;JSON||(JSON={}),function(){function str(a,b){var g=gap,i=b[a],c,d,e,f,h;switch(i&&"object"==("undefined"==typeof i?"undefined":_typeof2(i))&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),"undefined"==typeof i?"undefined":_typeof2(i)){case"string":return quote(i);case"number":return isFinite(i)?i+"":"null";case"boolean":case"null":return i+"";case"object":if(!i)return"null";if(gap+=indent,h=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;c<f;c+=1)h[c]=str(c,i)||"null";return e=0===h.length?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g,e}if(rep&&"object"==("undefined"==typeof rep?"undefined":_typeof2(rep)))for(f=rep.length,c=0;c<f;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?": ":":")+e));return e=0===h.length?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g,e;}}function quote(a){return escapable.lastIndex=0,escapable.test(a)?"\""+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+"\"":"\""+a+"\""}function f(a){return 10>a?"0"+a:a}"use strict","function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"":"\\b","	":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':"\\\"","\\":"\\\\"},gap,indent,rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;d<c;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,!b||"function"==typeof b||"object"==("undefined"==typeof b?"undefined":_typeof2(b))&&"number"==typeof b.length)return str("",{"":a});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var e=a[b],c,d;if(e&&"object"==("undefined"==typeof e?"undefined":_typeof2(e)))for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0===d?delete e[c]:e[c]=d);return reviver.call(a,b,e)}var j;if(text+="",cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),SockJS=function(){var _Mathfloor5=Math.floor,a=document,b=window,c={},d=function(){};d.prototype.addEventListener=function(a,b){this._listeners||(this._listeners={}),a in this._listeners||(this._listeners[a]=[]);var d=this._listeners[a];-1===c.arrIndexOf(d,b)&&d.push(b)},d.prototype.removeEventListener=function(a,b){if(this._listeners&&a in this._listeners){var d=this._listeners[a],e=c.arrIndexOf(d,b);return-1===e?void 0:void(1<d.length?this._listeners[a]=d.slice(0,e).concat(d.slice(e+1)):delete this._listeners[a])}},d.prototype.dispatchEvent=function(a){var b=a.type,c=Array.prototype.slice.call(arguments,0);if(this["on"+b]&&this["on"+b].apply(this,c),this._listeners&&b in this._listeners)for(var d=0;d<this._listeners[b].length;d++)this._listeners[b][d].apply(this,c)};var e=function(a,b){if(this.type=a,"undefined"!=typeof b)for(var c in b)b.hasOwnProperty(c)&&(this[c]=b[c])};e.prototype.toString=function(){var a=[];for(var b in this)if(this.hasOwnProperty(b)){var c=this[b];"function"==typeof c&&(c="[function]"),a.push(b+"="+c)}return"SimpleEvent("+a.join(", ")+")"};var f=function(a){var b=this;b._events=a||[],b._listeners={}};f.prototype.emit=function(a){var b=this;if(b._verifyType(a),!b._nuked){var c=Array.prototype.slice.call(arguments,1);if(b["on"+a]&&b["on"+a].apply(b,c),a in b._listeners)for(var d=0;d<b._listeners[a].length;d++)b._listeners[a][d].apply(b,c)}},f.prototype.on=function(a,b){var c=this;c._verifyType(a);c._nuked||(a in c._listeners||(c._listeners[a]=[]),c._listeners[a].push(b))},f.prototype._verifyType=function(a){var b=this;-1===c.arrIndexOf(b._events,a)&&c.log("Event "+JSON.stringify(a)+" not listed "+JSON.stringify(b._events)+" in "+b)},f.prototype.nuke=function(){var a=this;a._nuked=!0;for(var b=0;b<a._events.length;b++)delete a[a._events[b]];a._listeners={}};var g="abcdefghijklmnopqrstuvwxyz0123456789_";c.random_string=function(a,b){b=b||g.length;var d=[],c;for(c=0;c<a;c++)d.push(g.substr(_Mathfloor5(Math.random()*b),1));return d.join("")},c.random_number=function(a){return _Mathfloor5(Math.random()*a)},c.random_number_string=function(a){var b=(""+(a-1)).length,d=Array(b+1).join("0");return(d+c.random_number(a)).slice(-b)},c.getOrigin=function(a){a+="/";var b=a.split("/").slice(0,3);return b.join("/")},c.isSameOriginUrl=function(a,c){return c||(c=b.location.href),a.split("/").slice(0,3).join("/")===c.split("/").slice(0,3).join("/")},c.getParentDomain=function(a){if(/^[0-9.]*$/.test(a))return a;if(/^\[/.test(a))return a;if(!/[.]/.test(a))return a;var b=a.split(".").slice(1);return b.join(".")},c.objectExtend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};var h="_jp";c.polluteGlobalNamespace=function(){h in b||(b[h]={})},c.closeFrame=function(a,b){return"c"+JSON.stringify([a,b])},c.userSetCode=function(a){return 1e3===a||3e3<=a&&4999>=a},c.countRTO=function(a){var b;return b=100<a?3*a:a+200,b},c.log=function(){b.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},c.bind=function(a,b){return a.bind?a.bind(b):function(){return a.apply(b,arguments)}},c.flatUrl=function(a){return-1===a.indexOf("?")&&-1===a.indexOf("#")},c.amendUrl=function(b){var d=a.location;if(!b)throw new Error("Wrong url for SockJS");if(!c.flatUrl(b))throw new Error("Only basic urls are supported in SockJS");return 0===b.indexOf("//")&&(b=d.protocol+b),0===b.indexOf("/")&&(b=d.protocol+"//"+d.host+b),b=b.replace(/[/]+$/,""),b},c.arrIndexOf=function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},c.arrSkip=function(a,b){var d=c.arrIndexOf(a,b);if(-1===d)return a.slice();var e=a.slice(0,d);return e.concat(a.slice(d+1))},c.isArray=Array.isArray||function(a){return 0<={}.toString.call(a).indexOf("Array")},c.delay=function(a,b){return"function"==typeof a&&(b=a,a=0),setTimeout(b,a)};var i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j={" ":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","":"\\b","	":"\\t","\n":"\\n","":"\\u000b","":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':"\\\"","\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","﻿":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},k=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,m=JSON&&JSON.stringify||function(a){return i.lastIndex=0,i.test(a)&&(a=a.replace(i,function(a){return j[a]})),"\""+a+"\""},n=function(a){var c={},d=[],b;for(b=0;65536>b;b++)d.push(String.fromCharCode(b));return a.lastIndex=0,d.join("").replace(a,function(a){return c[a]="\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4),""}),a.lastIndex=0,c},l;c.quote=function(a){var b=m(a);return k.lastIndex=0,k.test(b)?(l||(l=n(k)),b.replace(k,function(a){return l[a]})):b};var o=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];c.probeProtocols=function(){for(var a={},b=0,c;b<o.length;b++)c=o[b],a[c]=y[c]&&y[c].enabled();return a},c.detectProtocols=function(a,b,c){var d={},e=[];b||(b=o);for(var f=0,g;f<b.length;f++)g=b[f],d[g]=a[g];var h=function(a){var b=a.shift();d[b]?e.push(b):0<a.length&&h(a)};return!1!==c.websocket&&h(["websocket"]),d["xhr-streaming"]&&!c.null_origin?e.push("xhr-streaming"):!d["xdr-streaming"]||c.cookie_needed||c.null_origin?h(["iframe-eventsource","iframe-htmlfile"]):e.push("xdr-streaming"),d["xhr-polling"]&&!c.null_origin?e.push("xhr-polling"):!d["xdr-polling"]||c.cookie_needed||c.null_origin?h(["iframe-xhr-polling","jsonp-polling"]):e.push("xdr-polling"),e};var p="_sockjs_global";c.createHook=function(){var a="a"+c.random_string(8);if(!(p in b)){var d={};b[p]=function(a){return a in d||(d[a]={id:a,del:function del(){delete d[a]}}),d[a]}}return b[p](a)},c.attachMessage=function(a){c.attachEvent("message",a)},c.attachEvent=function(c,d){"undefined"==typeof b.addEventListener?(a.attachEvent("on"+c,d),b.attachEvent("on"+c,d)):b.addEventListener(c,d,!1)},c.detachMessage=function(a){c.detachEvent("message",a)},c.detachEvent=function(c,d){"undefined"==typeof b.addEventListener?(a.detachEvent("on"+c,d),b.detachEvent("on"+c,d)):b.removeEventListener(c,d,!1)};var q={},r=!1,s=function(){for(var a in q)q[a](),delete q[a]},t=function(){r||(r=!0,s())};c.attachEvent("unload",t),c.unload_add=function(a){var b=c.random_string(8);return q[b]=a,r&&c.delay(s),b},c.unload_del=function(a){a in q&&delete q[a]},c.createIframe=function(b,d){var e=a.createElement("iframe"),h=function(){clearTimeout(f);try{e.onload=null}catch(a){}e.onerror=null},i=function(){e&&(h(),setTimeout(function(){e&&e.parentNode.removeChild(e),e=null},0),c.unload_del(g))},j=function(a){e&&(i(),d(a))},k=function(a,b){try{e&&e.contentWindow&&e.contentWindow.postMessage(a,b)}catch(c){}},f,g;return e.src=b,e.style.display="none",e.style.position="absolute",e.onerror=function(){j("onerror")},e.onload=function(){clearTimeout(f),f=setTimeout(function(){j("onload timeout")},2e3)},a.body.appendChild(e),f=setTimeout(function(){j("timeout")},15e3),g=c.unload_add(i),{post:k,cleanup:i,loaded:h}},c.createHtmlfile=function(a,d){var e=new ActiveXObject("htmlfile"),j=function(){clearTimeout(f)},k=function(){e&&(j(),c.unload_del(g),i.parentNode.removeChild(i),i=e=null,CollectGarbage())},l=function(a){e&&(k(),d(a))},m=function(a,b){try{i&&i.contentWindow&&i.contentWindow.postMessage(a,b)}catch(c){}},f,g,i;e.open(),e.write("<html><script>document.domain=\""+document.domain+"\";"+"</s"+"cript></html>"),e.close(),e.parentWindow[h]=b[h];var n=e.createElement("div");return e.body.appendChild(n),i=e.createElement("iframe"),n.appendChild(i),i.src=a,f=setTimeout(function(){l("timeout")},15e3),g=c.unload_add(k),{post:m,cleanup:k,loaded:j}};var u=function(){};u.prototype=new f(["chunk","finish"]),u.prototype._start=function(a,d,e,f){var g=this;try{g.xhr=new XMLHttpRequest}catch(h){}if(!g.xhr)try{g.xhr=new b.ActiveXObject("Microsoft.XMLHTTP")}catch(h){}(b.ActiveXObject||b.XDomainRequest)&&(d+=(-1===d.indexOf("?")?"?":"&")+"t="+ +new Date),g.unload_ref=c.unload_add(function(){g._cleanup(!0)});try{g.xhr.open(a,d,!0)}catch(i){return g.emit("finish",0,""),void g._cleanup()}if(f&&f.no_credentials||(g.xhr.withCredentials="true"),f&&f.headers)for(var j in f.headers)g.xhr.setRequestHeader(j,f.headers[j]);g.xhr.onreadystatechange=function(){if(g.xhr){var a=g.xhr;switch(a.readyState){case 3:try{var b=a.status,c=a.responseText}catch(a){}1223===b&&(b=204),c&&0<c.length&&g.emit("chunk",b,c);break;case 4:var b=a.status;1223===b&&(b=204),g.emit("finish",b,a.responseText),g._cleanup(!1);}}},g.xhr.send(e)},u.prototype._cleanup=function(a){var b=this;if(b.xhr){if(c.unload_del(b.unload_ref),b.xhr.onreadystatechange=function(){},a)try{b.xhr.abort()}catch(d){}b.unload_ref=b.xhr=null}},u.prototype.close=function(){var a=this;a.nuke(),a._cleanup(!0)};var v=c.XHRCorsObject=function(){var a=this,b=arguments;c.delay(function(){a._start.apply(a,b)})};v.prototype=new u;var w=c.XHRLocalObject=function(a,b,d){var e=this;c.delay(function(){e._start(a,b,d,{no_credentials:!0})})};w.prototype=new u;var x=c.XDRObject=function(a,b,d){var e=this;c.delay(function(){e._start(a,b,d)})};x.prototype=new f(["chunk","finish"]),x.prototype._start=function(a,b,d){var e=this,f=new XDomainRequest;b+=(-1===b.indexOf("?")?"?":"&")+"t="+ +new Date;var g=f.ontimeout=f.onerror=function(){e.emit("finish",0,""),e._cleanup(!1)};f.onprogress=function(){e.emit("chunk",200,f.responseText)},f.onload=function(){e.emit("finish",200,f.responseText),e._cleanup(!1)},e.xdr=f,e.unload_ref=c.unload_add(function(){e._cleanup(!0)});try{e.xdr.open(a,b),e.xdr.send(d)}catch(h){g()}},x.prototype._cleanup=function(a){var b=this;if(b.xdr){if(c.unload_del(b.unload_ref),b.xdr.ontimeout=b.xdr.onerror=b.xdr.onprogress=b.xdr.onload=null,a)try{b.xdr.abort()}catch(d){}b.unload_ref=b.xdr=null}},x.prototype.close=function(){var a=this;a.nuke(),a._cleanup(!0)},c.isXHRCorsCapable=function(){return b.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:b.XDomainRequest&&a.domain?2:L.enabled()?3:4};var y=function(a,d,e){if(this===b)return new y(a,d,e);var f=this,g;f._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},e&&c.objectExtend(f._options,e),f._base_url=c.amendUrl(a),f._server=f._options.server||c.random_number_string(1e3),f._options.protocols_whitelist&&f._options.protocols_whitelist.length?g=f._options.protocols_whitelist:(g="string"==typeof d&&0<d.length?[d]:c.isArray(d)?d:null,g&&f._debug("Deprecated API: Use \"protocols_whitelist\" option instead of supplying protocol list as a second parameter to SockJS constructor.")),f._protocols=[],f.protocol=null,f.readyState=y.CONNECTING,f._ir=S(f._base_url),f._ir.onfinish=function(a,b){f._ir=null,a?(f._options.info&&(a=c.objectExtend(a,f._options.info)),f._options.rtt&&(b=f._options.rtt),f._applyInfo(a,b,g),f._didClose()):f._didClose(1002,"Can't connect to server",!0)}};y.prototype=new d,y.version="0.3.4",y.CONNECTING=0,y.OPEN=1,y.CLOSING=2,y.CLOSED=3,y.prototype._debug=function(){this._options.debug&&c.log.apply(c,arguments)},y.prototype._dispatchOpen=function(){var a=this;a.readyState===y.CONNECTING?(a._transport_tref&&(clearTimeout(a._transport_tref),a._transport_tref=null),a.readyState=y.OPEN,a.dispatchEvent(new e("open"))):a._didClose(1006,"Server lost session")},y.prototype._dispatchMessage=function(a){var b=this;b.readyState!==y.OPEN||b.dispatchEvent(new e("message",{data:a}))},y.prototype._dispatchHeartbeat=function(){var b=this;b.readyState!==y.OPEN||b.dispatchEvent(new e("heartbeat",{}))},y.prototype._didClose=function(a,b,d){var f=this;if(f.readyState!==y.CONNECTING&&f.readyState!==y.OPEN&&f.readyState!==y.CLOSING)throw new Error("INVALID_STATE_ERR");f._ir&&(f._ir.nuke(),f._ir=null),f._transport&&(f._transport.doCleanup(),f._transport=null);var g=new e("close",{code:a,reason:b,wasClean:c.userSetCode(a)});if(!c.userSetCode(a)&&f.readyState===y.CONNECTING&&!d){if(f._try_next_protocol(g))return;g=new e("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:g})}f.readyState=y.CLOSED,c.delay(function(){f.dispatchEvent(g)})},y.prototype._didMessage=function(a){var b=this,c=a.slice(0,1);switch(c){case"o":b._dispatchOpen();break;case"a":for(var d=JSON.parse(a.slice(1)||"[]"),e=0;e<d.length;e++)b._dispatchMessage(d[e]);break;case"m":var d=JSON.parse(a.slice(1)||"null");b._dispatchMessage(d);break;case"c":var d=JSON.parse(a.slice(1)||"[]");b._didClose(d[0],d[1]);break;case"h":b._dispatchHeartbeat();}},y.prototype._try_next_protocol=function(b){var d=this;for(d.protocol&&(d._debug("Closed transport:",d.protocol,""+b),d.protocol=null),d._transport_tref&&(clearTimeout(d._transport_tref),d._transport_tref=null);;){var e=d.protocol=d._protocols.shift();if(!e)return!1;if(y[e]&&!0===y[e].need_body&&(!a.body||"undefined"!=typeof a.readyState&&"complete"!==a.readyState))return d._protocols.unshift(e),d.protocol="waiting-for-load",c.attachEvent("load",function(){d._try_next_protocol()}),!0;if(!!y[e]&&!!y[e].enabled(d._options)){var f=y[e].roundTrips||1,g=(d._options.rto||0)*f||5e3;d._transport_tref=c.delay(g,function(){d.readyState===y.CONNECTING&&d._didClose(2007,"Transport timeouted")});var h=c.random_string(8),i=d._base_url+"/"+d._server+"/"+h;return d._debug("Opening transport:",e," url:"+i," RTO:"+d._options.rto),d._transport=new y[e](d,i,d._base_url),!0}d._debug("Skipping transport:",e)}},y.prototype.close=function(a,b){var d=this;if(a&&!c.userSetCode(a))throw new Error("INVALID_ACCESS_ERR");return(d.readyState===y.CONNECTING||d.readyState===y.OPEN)&&(d.readyState=y.CLOSING,d._didClose(a||1e3,b||"Normal closure"),!0)},y.prototype.send=function(a){var b=this;if(b.readyState===y.CONNECTING)throw new Error("INVALID_STATE_ERR");return b.readyState===y.OPEN&&b._transport.doSend(c.quote(""+a)),!0},y.prototype._applyInfo=function(b,d,e){var f=this;f._options.info=b,f._options.rtt=d,f._options.rto=c.countRTO(d),f._options.info.null_origin=!a.domain;var g=c.probeProtocols();f._protocols=c.detectProtocols(g,e,b)};var z=y.websocket=function(a,d){var e=this,f=d+"/websocket";f="https"===f.slice(0,5)?"wss"+f.slice(5):"ws"+f.slice(4),e.ri=a,e.url=f;var g=b.WebSocket||b.MozWebSocket;e.ws=new g(e.url),e.ws.onmessage=function(a){e.ri._didMessage(a.data)},e.unload_ref=c.unload_add(function(){e.ws.close()}),e.ws.onclose=function(){e.ri._didMessage(c.closeFrame(1006,"WebSocket connection broken"))}};z.prototype.doSend=function(a){this.ws.send("["+a+"]")},z.prototype.doCleanup=function(){var a=this,b=a.ws;b&&(b.onmessage=b.onclose=null,b.close(),c.unload_del(a.unload_ref),a.unload_ref=a.ri=a.ws=null)},z.enabled=function(){return!!b.WebSocket||!!b.MozWebSocket},z.roundTrips=2;var A=function(){};A.prototype.send_constructor=function(a){var b=this;b.send_buffer=[],b.sender=a},A.prototype.doSend=function(a){var b=this;b.send_buffer.push(a),b.send_stop||b.send_schedule()},A.prototype.send_schedule_wait=function(){var a=this,b;a.send_stop=function(){a.send_stop=null,clearTimeout(b)},b=c.delay(25,function(){a.send_stop=null,a.send_schedule()})},A.prototype.send_schedule=function(){var a=this;if(0<a.send_buffer.length){var b="["+a.send_buffer.join(",")+"]";a.send_stop=a.sender(a.trans_url,b,function(b,c){a.send_stop=null,!1===b?a.ri._didClose(1006,"Sending error "+c):a.send_schedule_wait()}),a.send_buffer=[]}},A.prototype.send_destructor=function(){var a=this;a._send_stop&&a._send_stop(),a._send_stop=null};var B=function(b,d,e){var f=this;if(!("_send_form"in f)){var g=f._send_form=a.createElement("form"),h=f._send_area=a.createElement("textarea");h.name="d",g.style.display="none",g.style.position="absolute",g.method="POST",g.enctype="application/x-www-form-urlencoded",g.acceptCharset="UTF-8",g.appendChild(h),a.body.appendChild(g)}var g=f._send_form,h=f._send_area,i="a"+c.random_string(8);g.target=i,g.action=b+"/jsonp_send?i="+i;var j;try{j=a.createElement("<iframe name=\""+i+"\">")}catch(k){j=a.createElement("iframe"),j.name=i}j.id=i,g.appendChild(j),j.style.display="none";try{h.value=d}catch(l){c.log("Your browser is seriously broken. Go home! "+l.message)}g.submit();var m=function(){j.onerror&&(j.onreadystatechange=j.onerror=j.onload=null,c.delay(500,function(){j.parentNode.removeChild(j),j=null}),h.value="",e(!0))};return j.onerror=j.onload=m,j.onreadystatechange=function(){"complete"==j.readyState&&m()},m},C=function(a){return function(b,c,d){var e=new a("POST",b+"/xhr_send",c);return e.onfinish=function(a){d(200===a||204===a,"http status "+a)},function(a){d(!1,a)}}},D=function(b,d){var f=a.createElement("script"),h=function(a){g&&(g.parentNode.removeChild(g),g=null),f&&(clearTimeout(e),f.parentNode.removeChild(f),f.onreadystatechange=f.onerror=f.onload=f.onclick=null,f=null,d(a),d=null)},i=!1,j=null,e,g;if(f.id="a"+c.random_string(8),f.src=b,f.type="text/javascript",f.charset="UTF-8",f.onerror=function(){j||(j=setTimeout(function(){i||h(c.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},f.onload=function(){h(c.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},f.onreadystatechange=function(){if(/loaded|closed/.test(f.readyState)){if(f&&f.htmlFor&&f.onclick){i=!0;try{f.onclick()}catch(b){}}f&&h(c.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof f.async&&a.attachEvent)if(!/opera/i.test(navigator.userAgent)){try{f.htmlFor=f.id,f.event="onclick"}catch(k){}f.async=!0}else g=a.createElement("script"),g.text="try{var a = document.getElementById('"+f.id+"'); if(a)a.onerror();}catch(x){};",f.async=g.async=!1;"undefined"!=typeof f.async&&(f.async=!0),e=setTimeout(function(){h(c.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var l=a.getElementsByTagName("head")[0];return l.insertBefore(f,l.firstChild),g&&l.insertBefore(g,l.firstChild),h},E=y["jsonp-polling"]=function(a,b){c.polluteGlobalNamespace();var d=this;d.ri=a,d.trans_url=b,d.send_constructor(B),d._schedule_recv()};E.prototype=new A,E.prototype._schedule_recv=function(){var a=this;a._recv_stop=F(a.trans_url+"/jsonp",D,function(_b2){a._recv_stop=null,_b2&&(a._is_closing||a.ri._didMessage(_b2)),a._is_closing||a._schedule_recv()})},E.enabled=function(){return!0},E.need_body=!0,E.prototype.doCleanup=function(){var a=this;a._is_closing=!0,a._recv_stop&&a._recv_stop(),a.ri=a._recv_stop=null,a.send_destructor()};var F=function(a,d,e){var f="a"+c.random_string(6),g=a+"?c="+escape(h+"."+f),i=0,j=function(a){0==i?(delete b[h][f],e(a)):1==i?(e(a),i=2):2==i?delete b[h][f]:void 0},k=d(g,j);b[h][f]=k;return function(){b[h][f]&&(i=1,b[h][f](c.closeFrame(1e3,"JSONP user aborted read")))}},G=function(){};G.prototype=new A,G.prototype.run=function(a,b,c,d,e){var f=this;f.ri=a,f.trans_url=b,f.send_constructor(C(e)),f.poll=new $(a,d,b+c,e)},G.prototype.doCleanup=function(){var a=this;a.poll&&(a.poll.abort(),a.poll=null)};var H=y["xhr-streaming"]=function(a,b){this.run(a,b,"/xhr_streaming",bd,c.XHRCorsObject)};H.prototype=new G,H.enabled=function(){return b.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},H.roundTrips=2,H.need_body=!0;var I=y["xdr-streaming"]=function(a,b){this.run(a,b,"/xhr_streaming",bd,c.XDRObject)};I.prototype=new G,I.enabled=function(){return!!b.XDomainRequest},I.roundTrips=2;var J=y["xhr-polling"]=function(a,b){this.run(a,b,"/xhr",bd,c.XHRCorsObject)};J.prototype=new G,J.enabled=H.enabled,J.roundTrips=2;var K=y["xdr-polling"]=function(a,b){this.run(a,b,"/xhr",bd,c.XDRObject)};K.prototype=new G,K.enabled=I.enabled,K.roundTrips=2;var L=function(){};L.prototype.i_constructor=function(a,b,d){var e=this;e.ri=a,e.origin=c.getOrigin(d),e.base_url=d,e.trans_url=b;var f=d+"/iframe.html";e.ri._options.devel&&(f+="?t="+ +new Date),e.window_id=c.random_string(8),f+="#"+e.window_id,e.iframeObj=c.createIframe(f,function(a){e.ri._didClose(1006,"Unable to load an iframe ("+a+")")}),e.onmessage_cb=c.bind(e.onmessage,e),c.attachMessage(e.onmessage_cb)},L.prototype.doCleanup=function(){var a=this;if(a.iframeObj){c.detachMessage(a.onmessage_cb);try{a.iframeObj.iframe.contentWindow&&a.postMessage("c")}catch(b){}a.iframeObj.cleanup(),a.iframeObj=null,a.onmessage_cb=a.iframeObj=null}},L.prototype.onmessage=function(a){var b=this;if(a.origin===b.origin){var c=a.data.slice(0,8),d=a.data.slice(8,9),e=a.data.slice(9);c===b.window_id&&("s"===d?(b.iframeObj.loaded(),b.postMessage("s",JSON.stringify([y.version,b.protocol,b.trans_url,b.base_url]))):"t"===d?b.ri._didMessage(e):void 0)}},L.prototype.postMessage=function(a,b){var c=this;c.iframeObj.post(c.window_id+a+(b||""),c.origin)},L.prototype.doSend=function(a){this.postMessage("m",a)},L.enabled=function(){var a=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof b.postMessage||"object"==_typeof2(b.postMessage))&&!a};var N=function(a,d){parent===b?c.log("Can't postMessage, no parent window.",a,d):parent.postMessage(M+a+(d||""),"*")},O=function(){},M;O.prototype._didClose=function(a,b){N("t",c.closeFrame(a,b))},O.prototype._didMessage=function(a){N("t",a)},O.prototype._doSend=function(a){this._transport.doSend(a)},O.prototype._doCleanup=function(){this._transport.doCleanup()},c.parent_origin=void 0,y.bootstrap_iframe=function(){var d;M=a.location.hash.slice(1);var e=function(a){if(a.source===parent&&("undefined"==typeof c.parent_origin&&(c.parent_origin=a.origin),a.origin===c.parent_origin)){var e=a.data.slice(0,8),f=a.data.slice(8,9),g=a.data.slice(9);if(e===M)switch(f){case"s":var h=JSON.parse(g),i=h[0],j=h[1],k=h[2],l=h[3];if(i!==y.version&&c.log("Incompatibile SockJS! Main site uses: \""+i+"\", the iframe:"+" \""+y.version+"\"."),!c.flatUrl(k)||!c.flatUrl(l))return void c.log("Only basic urls are supported in SockJS");if(!c.isSameOriginUrl(k)||!c.isSameOriginUrl(l))return void c.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([b.location.href,k,l])+")");d=new O,d._transport=new O[j](d,k,l);break;case"m":d._doSend(g);break;case"c":d&&d._doCleanup(),d=null;}}};c.attachMessage(e),N("s")};var P=function(a,b){var d=this;c.delay(function(){d.doXhr(a,b)})};P.prototype=new f(["finish"]),P.prototype.doXhr=function(a,b){var d=this,e=new Date().getTime(),f=new b("GET",a+"/info"),g=c.delay(8e3,function(){f.ontimeout()});f.onfinish=function(a,b){if(clearTimeout(g),g=null,200===a){var c=new Date().getTime()-e,f=JSON.parse(b);"object"!=("undefined"==typeof f?"undefined":_typeof2(f))&&(f={}),d.emit("finish",f,c)}else d.emit("finish")},f.ontimeout=function(){f.close(),d.emit("finish")}};var Q=function(b){var d=this,e=function(){var a=new L;a.protocol="w-iframe-info-receiver";var c=function(b){if("string"==typeof b&&"m"===b.substr(0,1)){var c=JSON.parse(b.substr(1)),e=c[0],f=c[1];d.emit("finish",e,f)}else d.emit("finish");a.doCleanup(),a=null};a.i_constructor({_options:{},_didClose:c,_didMessage:c},b,b)};a.body?e():c.attachEvent("load",e)};Q.prototype=new f(["finish"]);var R=function(){var a=this;c.delay(function(){a.emit("finish",{},2e3)})};R.prototype=new f(["finish"]);var S=function(a){if(c.isSameOriginUrl(a))return new P(a,c.XHRLocalObject);switch(c.isXHRCorsCapable()){case 1:return new P(a,c.XHRLocalObject);case 2:return new P(a,c.XDRObject);case 3:return new Q(a);default:return new R;}},T=O["w-iframe-info-receiver"]=function(a,b,d){var e=new P(d,c.XHRLocalObject);e.onfinish=function(b,c){a._didMessage("m"+JSON.stringify([b,c])),a._didClose()}};T.prototype.doCleanup=function(){};var U=y["iframe-eventsource"]=function(){var a=this;a.protocol="w-iframe-eventsource",a.i_constructor.apply(a,arguments)};U.prototype=new L,U.enabled=function(){return"EventSource"in b&&L.enabled()},U.need_body=!0,U.roundTrips=3;var V=O["w-iframe-eventsource"]=function(a,b){this.run(a,b,"/eventsource",_,c.XHRLocalObject)};V.prototype=new G;var W=y["iframe-xhr-polling"]=function(){var a=this;a.protocol="w-iframe-xhr-polling",a.i_constructor.apply(a,arguments)};W.prototype=new L,W.enabled=function(){return b.XMLHttpRequest&&L.enabled()},W.need_body=!0,W.roundTrips=3;var X=O["w-iframe-xhr-polling"]=function(a,b){this.run(a,b,"/xhr",bd,c.XHRLocalObject)};X.prototype=new G;var Y=y["iframe-htmlfile"]=function(){var a=this;a.protocol="w-iframe-htmlfile",a.i_constructor.apply(a,arguments)};Y.prototype=new L,Y.enabled=function(){return L.enabled()},Y.need_body=!0,Y.roundTrips=3;var Z=O["w-iframe-htmlfile"]=function(a,b){this.run(a,b,"/htmlfile",bc,c.XHRLocalObject)};Z.prototype=new G;var $=function(a,b,c,d){var e=this;e.ri=a,e.Receiver=b,e.recv_url=c,e.AjaxObject=d,e._scheduleRecv()};$.prototype._scheduleRecv=function(){var a=this,b=a.poll=new a.Receiver(a.recv_url,a.AjaxObject),c=0;b.onmessage=function(b){c+=1,a.ri._didMessage(b.data)},b.onclose=function(c){a.poll=b=b.onmessage=b.onclose=null,a.poll_is_closing||("permanent"===c.reason?a.ri._didClose(1006,"Polling error ("+c.reason+")"):a._scheduleRecv())}},$.prototype.abort=function(){var a=this;a.poll_is_closing=!0,a.poll&&a.poll.abort()};var _=function(a){var b=this,d=new EventSource(a);d.onmessage=function(a){b.dispatchEvent(new e("message",{data:unescape(a.data)}))},b.es_close=d.onerror=function(a,f){var g=f?"user":2===d.readyState?"permanent":"network";b.es_close=d.onmessage=d.onerror=null,d.close(),d=null,c.delay(200,function(){b.dispatchEvent(new e("close",{reason:g}))})}};_.prototype=new d,_.prototype.abort=function(){var a=this;a.es_close&&a.es_close({},!0)};var bb=function(){if(ba===void 0)if("ActiveXObject"in b)try{ba=!!new ActiveXObject("htmlfile")}catch(a){}else ba=!1;return ba},bc=function(a){var d=this;c.polluteGlobalNamespace(),d.id="a"+c.random_string(6,26),a+=(-1===a.indexOf("?")?"?":"&")+"c="+escape(h+"."+d.id);var f=bb()?c.createHtmlfile:c.createIframe,g;b[h][d.id]={start:function start(){g.loaded()},message:function message(a){d.dispatchEvent(new e("message",{data:a}))},stop:function stop(){d.iframe_close({},"network")}},d.iframe_close=function(a,c){g.cleanup(),d.iframe_close=g=null,delete b[h][d.id],d.dispatchEvent(new e("close",{reason:c}))},g=f(a,function(){d.iframe_close({},"permanent")})},ba;bc.prototype=new d,bc.prototype.abort=function(){var a=this;a.iframe_close&&a.iframe_close({},"user")};var bd=function(a,b){var c=this,d=0;c.xo=new b("POST",a,null),c.xo.onchunk=function(a,b){if(200===a)for(;;){var f=b.slice(d),g=f.indexOf("\n");if(-1===g)break;d+=g+1;var h=f.slice(0,g);c.dispatchEvent(new e("message",{data:h}))}},c.xo.onfinish=function(a,b){c.xo.onchunk(a,b),c.xo=null;var d=200===a?"network":"permanent";c.dispatchEvent(new e("close",{reason:d}))}};return bd.prototype=new d,bd.prototype.abort=function(){var a=this;a.xo&&(a.xo.close(),a.dispatchEvent(new e("close",{reason:"user"})),a.xo=null)},y.getUtils=function(){return c},y.getIframeTransport=function(){return L},y}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return SockJS}),function(){var _Mathmax6=Math.max,__hasProp={}.hasOwnProperty,__slice=[].slice,Byte,Client,Frame,Stomp;Byte={LF:"\n",NULL:"\0"},Frame=function(){function Frame(command,headers,body){this.command=command,this.headers=null==headers?{}:headers,this.body=null==body?"":body}var unmarshallSingle;return Frame.prototype.toString=function(){var lines,name,skipContentLength,value,_ref;for(name in lines=[this.command],skipContentLength=!1===this.headers["content-length"],skipContentLength&&delete this.headers["content-length"],_ref=this.headers,_ref)__hasProp.call(_ref,name)&&(value=_ref[name],lines.push(""+name+":"+value));return this.body&&!skipContentLength&&lines.push("content-length:"+Frame.sizeOfUTF8(this.body)),lines.push(Byte.LF+this.body),lines.join(Byte.LF)},Frame.sizeOfUTF8=function(s){return s?encodeURI(s).match(/%..|./g).length:0},unmarshallSingle=function(data){var body,chr,command,divider,headerLines,headers,i,idx,len,line,start,trim,_i,_j,_len,_ref,_ref1;for(divider=data.search(RegExp(""+Byte.LF+Byte.LF)),headerLines=data.substring(0,divider).split(Byte.LF),command=headerLines.shift(),headers={},trim=function(str){return str.replace(/^\s+|\s+$/g,"")},_ref=headerLines.reverse(),(_i=0,_len=_ref.length);_i<_len;_i++)line=_ref[_i],idx=line.indexOf(":"),headers[trim(line.substring(0,idx))]=trim(line.substring(idx+1));if(body="",start=divider+2,headers["content-length"])len=parseInt(headers["content-length"]),body=(""+data).substring(start,start+len);else for(chr=null,i=_j=start,_ref1=data.length;(start<=_ref1?_j<_ref1:_j>_ref1)&&(chr=data.charAt(i),chr!==Byte.NULL);i=start<=_ref1?++_j:--_j)body+=chr;return new Frame(command,headers,body)},Frame.unmarshall=function(datas){var frame,frames,last_frame,r;return frames=datas.split(RegExp(""+Byte.NULL+Byte.LF+"*")),r={frames:[],partial:""},r.frames=function(){var _i,_len,_ref,_results;for(_ref=frames.slice(0,-1),_results=[],(_i=0,_len=_ref.length);_i<_len;_i++)frame=_ref[_i],_results.push(unmarshallSingle(frame));return _results}(),last_frame=frames.slice(-1)[0],last_frame===Byte.LF||-1!==last_frame.search(RegExp(""+Byte.NULL+Byte.LF+"*$"))?r.frames.push(unmarshallSingle(last_frame)):r.partial=last_frame,r},Frame.marshall=function(command,headers,body){var frame;return frame=new Frame(command,headers,body),frame.toString()+Byte.NULL},Frame}(),Client=function(){function Client(ws){this.ws=ws,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16*1024,this.subscriptions={},this.partialData=""}var now;return Client.prototype.debug=function(message){var _ref;return"undefined"!=typeof window&&null!==window?null==(_ref=window.console)?void 0:_ref.log(message):void 0},now=function(){return Date.now?Date.now():new Date().valueOf},Client.prototype._transmit=function(command,headers,body){var out;for(out=Frame.marshall(command,headers,body),"function"==typeof this.debug&&this.debug(">>> "+out);;)if(out.length>this.maxWebSocketFrameSize)this.ws.send(out.substring(0,this.maxWebSocketFrameSize)),out=out.substring(this.maxWebSocketFrameSize),"function"==typeof this.debug&&this.debug("remaining = "+out.length);else return this.ws.send(out)},Client.prototype._setupHeartbeat=function(headers){var serverIncoming,serverOutgoing,ttl,v,_ref,_ref1;if((_ref=headers.version)===Stomp.VERSIONS.V1_1||_ref===Stomp.VERSIONS.V1_2)return(_ref1=function(){var _i,_len,_ref1,_results;for(_ref1=headers["heart-beat"].split(","),_results=[],(_i=0,_len=_ref1.length);_i<_len;_i++)v=_ref1[_i],_results.push(parseInt(v));return _results}(),serverOutgoing=_ref1[0],serverIncoming=_ref1[1],0===this.heartbeat.outgoing||0===serverIncoming||(ttl=_Mathmax6(this.heartbeat.outgoing,serverIncoming),"function"==typeof this.debug&&this.debug("send PING every "+ttl+"ms"),this.pinger=Stomp.setInterval(ttl,function(_this){return function(){return _this.ws.send(Byte.LF),"function"==typeof _this.debug?_this.debug(">>> PING"):void 0}}(this))),0!==this.heartbeat.incoming&&0!==serverOutgoing)?(ttl=_Mathmax6(this.heartbeat.incoming,serverOutgoing),"function"==typeof this.debug&&this.debug("check PONG every "+ttl+"ms"),this.ponger=Stomp.setInterval(ttl,function(_this){return function(){var delta;if(delta=now()-_this.serverActivity,delta>2*ttl)return"function"==typeof _this.debug&&_this.debug("did not receive server activity for the last "+delta+"ms"),_this.ws.close()}}(this))):void 0},Client.prototype._parseConnect=function(){var args,connectCallback,errorCallback,headers;switch(args=1<=arguments.length?__slice.call(arguments,0):[],headers={},args.length){case 2:headers=args[0],connectCallback=args[1];break;case 3:args[1]instanceof Function?(headers=args[0],connectCallback=args[1],errorCallback=args[2]):(headers.login=args[0],headers.passcode=args[1],connectCallback=args[2]);break;case 4:headers.login=args[0],headers.passcode=args[1],connectCallback=args[2],errorCallback=args[3];break;default:headers.login=args[0],headers.passcode=args[1],connectCallback=args[2],errorCallback=args[3],headers.host=args[4];}return[headers,connectCallback,errorCallback]},Client.prototype.connect=function(){var args,errorCallback,headers,out;return args=1<=arguments.length?__slice.call(arguments,0):[],out=this._parseConnect.apply(this,args),headers=out[0],this.connectCallback=out[1],errorCallback=out[2],"function"==typeof this.debug&&this.debug("Opening Web Socket..."),this.ws.onmessage=function(_this){return function(evt){var arr,c,client,data,frame,messageID,onreceive,subscription,unmarshalledData,_i,_len,_ref,_results;if(data="undefined"!=typeof ArrayBuffer&&evt.data instanceof ArrayBuffer?(arr=new Uint8Array(evt.data),"function"==typeof _this.debug?_this.debug("--- got data length: "+arr.length):void 0,function(){var _i,_len,_results;for(_results=[],_i=0,_len=arr.length;_i<_len;_i++)c=arr[_i],_results.push(String.fromCharCode(c));return _results}().join("")):evt.data,_this.serverActivity=now(),data===Byte.LF)return void("function"==typeof _this.debug&&_this.debug("<<< PONG"));for("function"==typeof _this.debug&&_this.debug("<<< "+data),unmarshalledData=Frame.unmarshall(_this.partialData+data),_this.partialData=unmarshalledData.partial,_ref=unmarshalledData.frames,_results=[],(_i=0,_len=_ref.length);_i<_len;_i++)switch(frame=_ref[_i],frame.command){case"CONNECTED":"function"==typeof _this.debug&&_this.debug("connected to server "+frame.headers.server),_this.connected=!0,_this._setupHeartbeat(frame.headers),_results.push("function"==typeof _this.connectCallback?_this.connectCallback(frame):void 0);break;case"MESSAGE":subscription=frame.headers.subscription,onreceive=_this.subscriptions[subscription]||_this.onreceive,onreceive?(client=_this,messageID=frame.headers["message-id"],frame.ack=function(headers){return null==headers&&(headers={}),client.ack(messageID,subscription,headers)},frame.nack=function(headers){return null==headers&&(headers={}),client.nack(messageID,subscription,headers)},_results.push(onreceive(frame))):_results.push("function"==typeof _this.debug?_this.debug("Unhandled received MESSAGE: "+frame):void 0);break;case"RECEIPT":_results.push("function"==typeof _this.onreceipt?_this.onreceipt(frame):void 0);break;case"ERROR":_results.push("function"==typeof errorCallback?errorCallback(frame):void 0);break;default:_results.push("function"==typeof _this.debug?_this.debug("Unhandled frame: "+frame):void 0);}return _results}}(this),this.ws.onclose=function(_this){return function(){var msg;return msg="Whoops! Lost connection to "+_this.ws.url,"function"==typeof _this.debug&&_this.debug(msg),_this._cleanUp(),"function"==typeof errorCallback?errorCallback(msg):void 0}}(this),this.ws.onopen=function(_this){return function(){return"function"==typeof _this.debug&&_this.debug("Web Socket Opened..."),headers["accept-version"]=Stomp.VERSIONS.supportedVersions(),headers["heart-beat"]=[_this.heartbeat.outgoing,_this.heartbeat.incoming].join(","),_this._transmit("CONNECT",headers)}}(this)},Client.prototype.disconnect=function(disconnectCallback,headers){return null==headers&&(headers={}),this._transmit("DISCONNECT",headers),this.ws.onclose=null,this.ws.close(),this._cleanUp(),"function"==typeof disconnectCallback?disconnectCallback():void 0},Client.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&Stomp.clearInterval(this.pinger),this.ponger)return Stomp.clearInterval(this.ponger)},Client.prototype.send=function(destination,headers,body){return null==headers&&(headers={}),null==body&&(body=""),headers.destination=destination,this._transmit("SEND",headers,body)},Client.prototype.subscribe=function(destination,callback,headers){var client;return null==headers&&(headers={}),headers.id||(headers.id="sub-"+this.counter++),headers.destination=destination,this.subscriptions[headers.id]=callback,this._transmit("SUBSCRIBE",headers),client=this,{id:headers.id,unsubscribe:function unsubscribe(){return client.unsubscribe(headers.id,headers)}}},Client.prototype.unsubscribe=function(id,headers){return delete this.subscriptions[id],null==headers&&(headers={}),headers.id||(headers.id=id),this._transmit("UNSUBSCRIBE",headers)},Client.prototype.begin=function(transaction){var client,txid;return txid=transaction||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:txid}),client=this,{id:txid,commit:function commit(){return client.commit(txid)},abort:function abort(){return client.abort(txid)}}},Client.prototype.commit=function(transaction){return this._transmit("COMMIT",{transaction:transaction})},Client.prototype.abort=function(transaction){return this._transmit("ABORT",{transaction:transaction})},Client.prototype.ack=function(messageID,subscription,headers){return null==headers&&(headers={}),headers["message-id"]=messageID,headers.subscription=subscription,this._transmit("ACK",headers)},Client.prototype.nack=function(messageID,subscription,headers){return null==headers&&(headers={}),headers["message-id"]=messageID,headers.subscription=subscription,this._transmit("NACK",headers)},Client}(),Stomp={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function supportedVersions(){return"1.1,1.0"}},client:function client(url,protocols){var klass,ws;return null==protocols&&(protocols=["v10.stomp","v11.stomp"]),klass=Stomp.WebSocketClass||WebSocket,ws=new klass(url,protocols),new Client(ws)},over:function over(ws){return new Client(ws)},Frame:Frame},"undefined"!=typeof exports&&null!==exports&&(exports.Stomp=Stomp),"undefined"!=typeof window&&null!==window?(Stomp.setInterval=function(interval,f){return window.setInterval(f,interval)},Stomp.clearInterval=function(id){return window.clearInterval(id)},window.Stomp=Stomp):!exports&&(self.Stomp=Stomp)}.call(this),define("stomp",function(){}),define("modules/main/services/websocket",["./module","sockjs","stomp"],function(module,SockJS){module.factory("WSocket",["$rootScope","$cookies","User",function($rootScope,$cookies,User){function getUserId(){return User.isSignedIn()?User.getCurrent().id:$cookies.get("dataparse-session").split(".")[0]}var socket=void 0,stompClient=void 0,subscriptions=[],getBaseUserPrefix=function(isPublicChanel){return isPublicChanel?"/all":"/user"+"/"+getUserId()},init=function(){var connect=function(){return new Promise(function(resolve){socket=new SockJS("/websocket"),stompClient=Stomp.over(socket),stompClient.debug=void 0,stompClient.connect({},function(){subscriptions.forEach(function(s){s.id=_subscribe(s.destination)}),resolve()},function(){subscriptions.forEach(function(s){s.id.unsubscribe(s.destination)}),setTimeout(connect,3e3)})})};return connect()},cleanUp=function(){subscriptions.forEach(function(subscription){subscription.id.unsubscribe()}),subscriptions=[],void 0!==stompClient&&(stompClient.disconnect(),stompClient=void 0)},_subscribe=function(destination,isPublicChanel){var fullDestination=getBaseUserPrefix(isPublicChanel)+destination;if(stompClient.unsubscribe(),stompClient.connected)return stompClient.subscribe(fullDestination,function(event){var message=JSON.parse(event.body),subscription=getSubscriptionByDestination(destination);void 0!==subscription&&subscription.callbacks.forEach(function(callback){callback(message)})})},_unsubscribe=function(destination,callback){var subscription=getSubscriptionByDestination(destination);void 0!==subscription&&(subscription.callbacks.splice(subscription.callbacks.indexOf(callback),1),0===subscription.callbacks.length&&(subscriptions.splice(subscriptions.indexOf(subscription),1),subscription.id.unsubscribe()))},getSubscriptionByDestination=function(destination){return subscriptions.filter(function(item){return item.destination===destination})[0]};$rootScope.$on("sign_in",function(){cleanUp(),init()}),$rootScope.$on("sign_out",cleanUp);var state={connect:function connect(){state.promise=init()},disconnect:cleanUp,send:function send(route,payload){stompClient.send("/websocket"+route,{},JSON.stringify(payload))},subscribe:function subscribe(destination,callback,isPublicChanel,global){var subscription=getSubscriptionByDestination(destination);return void 0===subscription?subscriptions.push({destination:destination,callbacks:[callback],id:_subscribe(destination,isPublicChanel),global:global}):subscription.callbacks.push(callback),{unsubscribe:function unsubscribe(){return _unsubscribe(destination,callback)}}},unsubscribe:_unsubscribe};return state.connect(),state}])}),define("modules/main/services/history-service",["./module","common"],function(module,common){module.factory("HistoryService",["$q",function(){return{history:[],currentItem:-1,maxsize:100,print:function print(){console.log(this.history)},setMaxSize:function setMaxSize(maxSize){this.maxSize=maxSize},push:function push(e){e.undone=0,e.redone=0,this.history.splice(this.currentItem+1,this.history.length,e),this.currentItem=this.history.length-1,this.history.length>this.maxsize&&this.history.shift()},do:function _do(e){return this.push(e),e.redo().then(function(){e.notify&&common.notify(e.notify)})},clear:function clear(){this.history=[],this.currentItem=-1},undo:function undo(){if(0<=this.currentItem){var item=this.history[this.currentItem--];if(item)return item.undone++,item.undo().then(function(){common.notify("Action undone")})}else common.notify("Nothing to undo")},redo:function redo(){if(this.currentItem<this.history.length-1){var item=this.history[++this.currentItem];if(item)return item.redone++,item.redo().then(function(){var notificationMessage="Action redone";item.notify&&1>=item.redone&&(notificationMessage=item.notify),common.notify(notificationMessage)})}else common.notify("Nothing to redo")},canUndo:function canUndo(){return 0<=this.currentItem},canRedo:function canRedo(){return this.currentItem<this.history.length-1},handleShortcuts:function handleShortcuts($scope){var that=this;return function(e){var n=e.target.nodeName;"INPUT"!==n&&"TEXTAREA"!==n&&90==e.keyCode&&(e.ctrlKey||e.metaKey)&&(e.shiftKey?$scope.$apply(function(){that.redo()}):$scope.$apply(function(){that.undo()}))}}}}])}),define("modules/main/services/browser-history-service",["./module"],function(module){module.service("BrowserHistoryService",["$state","$rootScope",function($state,$rootScope){window.onpopstate=function(event){_.get(event,"state.customChange")&&$rootScope.$emit(event.state.resultEvent,event.state.data)};return{AVAILABLE_PAGES:{MAIN_DATA:{url:"#/my-data",page:"main.landing.my_data"}},push:function push(resultEvent,page){var data=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},state={customChange:!0,resultEvent:resultEvent,data:data};window.history.replaceState(state,page),window.history.pushState(state,page)},resetCurrentStateIfEquals:function resetCurrentStateIfEquals(resultEvent,resetTo){_.get(window.history.state,"customChange")&&_.get(window.history.state,"resultEvent")===resultEvent&&(window.history.replaceState({},resetTo.page,resetTo.url),window.history.pushState({},resetTo.page,resetTo.url))}}}])}),define("modules/main/services/codes-service",["./module"],function(module){module.service("CodesService",function(){var countryCodes={iso_a2:{BD:"BGD",BE:"BEL",BF:"BFA",BG:"BGR",BA:"BIH",BB:"BRB",WF:"WLF",BL:"BLM",BM:"BMU",BN:"BRN",BO:"BOL",BH:"BHR",BI:"BDI",BJ:"BEN",BT:"BTN",JM:"JAM",BV:"BVT",BW:"BWA",WS:"WSM",BQ:"BES",BR:"BRA",BS:"BHS",JE:"JEY",BY:"BLR",BZ:"BLZ",RU:"RUS",RW:"RWA",RS:"SRB",TL:"TLS",RE:"REU",TM:"TKM",TJ:"TJK",RO:"ROU",TK:"TKL",GW:"GNB",GU:"GUM",GT:"GTM",GS:"SGS",GR:"GRC",GQ:"GNQ",GP:"GLP",JP:"JPN",GY:"GUY",GG:"GGY",GF:"GUF",GE:"GEO",GD:"GRD",GB:"GBR",GA:"GAB",SV:"SLV",GN:"GIN",GM:"GMB",GL:"GRL",GI:"GIB",GH:"GHA",OM:"OMN",TN:"TUN",JO:"JOR",HR:"HRV",HT:"HTI",HU:"HUN",HK:"HKG",HN:"HND",HM:"HMD",VE:"VEN",PR:"PRI",PS:"PSE",PW:"PLW",PT:"PRT",SJ:"SJM",PY:"PRY",IQ:"IRQ",PA:"PAN",PF:"PYF",PG:"PNG",PE:"PER",PK:"PAK",PH:"PHL",PN:"PCN",PL:"POL",PM:"SPM",ZM:"ZMB",EH:"ESH",EE:"EST",EG:"EGY",ZA:"ZAF",EC:"ECU",IT:"ITA",VN:"VNM",SB:"SLB",ET:"ETH",SO:"SOM",ZW:"ZWE",SA:"SAU",ES:"ESP",ER:"ERI",ME:"MNE",MD:"MDA",MG:"MDG",MF:"MAF",MA:"MAR",MC:"MCO",UZ:"UZB",MM:"MMR",ML:"MLI",MO:"MAC",MN:"MNG",MH:"MHL",MK:"MKD",MU:"MUS",MT:"MLT",MW:"MWI",MV:"MDV",MQ:"MTQ",MP:"MNP",MS:"MSR",MR:"MRT",IM:"IMN",UG:"UGA",TZ:"TZA",MY:"MYS",MX:"MEX",IL:"ISR",FR:"FRA",IO:"IOT",SH:"SHN",FI:"FIN",FJ:"FJI",FK:"FLK",FM:"FSM",FO:"FRO",NI:"NIC",NL:"NLD",NO:"NOR",NA:"NAM",VU:"VUT",NC:"NCL",NE:"NER",NF:"NFK",NG:"NGA",NZ:"NZL",NP:"NPL",NR:"NRU",NU:"NIU",CK:"COK",XK:"XKX",CI:"CIV",CH:"CHE",CO:"COL",CN:"CHN",CM:"CMR",CL:"CHL",CC:"CCK",CA:"CAN",CG:"COG",CF:"CAF",CD:"COD",CZ:"CZE",CY:"CYP",CX:"CXR",CR:"CRI",CW:"CUW",CV:"CPV",CU:"CUB",SZ:"SWZ",SY:"SYR",SX:"SXM",KG:"KGZ",KE:"KEN",SS:"SSD",SR:"SUR",KI:"KIR",KH:"KHM",KN:"KNA",KM:"COM",ST:"STP",SK:"SVK",KR:"KOR",SI:"SVN",KP:"PRK",KW:"KWT",SN:"SEN",SM:"SMR",SL:"SLE",SC:"SYC",KZ:"KAZ",KY:"CYM",SG:"SGP",SE:"SWE",SD:"SDN",DO:"DOM",DM:"DMA",DJ:"DJI",DK:"DNK",VG:"VGB",DE:"DEU",YE:"YEM",DZ:"DZA",US:"USA",UY:"URY",YT:"MYT",UM:"UMI",LB:"LBN",LC:"LCA",LA:"LAO",TV:"TUV",TW:"TWN",TT:"TTO",TR:"TUR",LK:"LKA",LI:"LIE",LV:"LVA",TO:"TON",LT:"LTU",LU:"LUX",LR:"LBR",LS:"LSO",TH:"THA",TF:"ATF",TG:"TGO",TD:"TCD",TC:"TCA",LY:"LBY",VA:"VAT",VC:"VCT",AE:"ARE",AD:"AND",AG:"ATG",AF:"AFG",AI:"AIA",VI:"VIR",IS:"ISL",IR:"IRN",AM:"ARM",AL:"ALB",AO:"AGO",AQ:"ATA",AS:"ASM",AR:"ARG",AU:"AUS",AT:"AUT",AW:"ABW",IN:"IND",AX:"ALA",AZ:"AZE",IE:"IRL",ID:"IDN",UA:"UKR",QA:"QAT",MZ:"MOZ"},iso_a3:{BGD:"BD",BEL:"BE",BFA:"BF",BGR:"BG",BIH:"BA",BRB:"BB",WLF:"WF",BLM:"BL",BMU:"BM",BRN:"BN",BOL:"BO",BHR:"BH",BDI:"BI",BEN:"BJ",BTN:"BT",JAM:"JM",BVT:"BV",BWA:"BW",WSM:"WS",BES:"BQ",BRA:"BR",BHS:"BS",JEY:"JE",BLR:"BY",BLZ:"BZ",RUS:"RU",RWA:"RW",SRB:"RS",TLS:"TL",REU:"RE",TKM:"TM",TJK:"TJ",ROU:"RO",TKL:"TK",GNB:"GW",GUM:"GU",GTM:"GT",SGS:"GS",GRC:"GR",GNQ:"GQ",GLP:"GP",JPN:"JP",GUY:"GY",GGY:"GG",GUF:"GF",GEO:"GE",GRD:"GD",GBR:"GB",GAB:"GA",SLV:"SV",GIN:"GN",GMB:"GM",GRL:"GL",GIB:"GI",GHA:"GH",OMN:"OM",TUN:"TN",JOR:"JO",HRV:"HR",HTI:"HT",HUN:"HU",HKG:"HK",HND:"HN",HMD:"HM",VEN:"VE",PRI:"PR",PSE:"PS",PLW:"PW",PRT:"PT",SJM:"SJ",PRY:"PY",IRQ:"IQ",PAN:"PA",PYF:"PF",PNG:"PG",PER:"PE",PAK:"PK",PHL:"PH",PCN:"PN",POL:"PL",SPM:"PM",ZMB:"ZM",ESH:"EH",EST:"EE",EGY:"EG",ZAF:"ZA",ECU:"EC",ITA:"IT",VNM:"VN",SLB:"SB",ETH:"ET",SOM:"SO",ZWE:"ZW",SAU:"SA",ESP:"ES",ERI:"ER",MNE:"ME",MDA:"MD",MDG:"MG",MAF:"MF",MAR:"MA",MCO:"MC",UZB:"UZ",MMR:"MM",MLI:"ML",MAC:"MO",MNG:"MN",MHL:"MH",MKD:"MK",MUS:"MU",MLT:"MT",MWI:"MW",MDV:"MV",MTQ:"MQ",MNP:"MP",MSR:"MS",MRT:"MR",IMN:"IM",UGA:"UG",TZA:"TZ",MYS:"MY",MEX:"MX",ISR:"IL",FRA:"FR",IOT:"IO",SHN:"SH",FIN:"FI",FJI:"FJ",FLK:"FK",FSM:"FM",FRO:"FO",NIC:"NI",NLD:"NL",NOR:"NO",NAM:"NA",VUT:"VU",NCL:"NC",NER:"NE",NFK:"NF",NGA:"NG",NZL:"NZ",NPL:"NP",NRU:"NR",NIU:"NU",COK:"CK",XKX:"XK",CIV:"CI",CHE:"CH",COL:"CO",CHN:"CN",CMR:"CM",CHL:"CL",CCK:"CC",CAN:"CA",COG:"CG",CAF:"CF",COD:"CD",CZE:"CZ",CYP:"CY",CXR:"CX",CRI:"CR",CUW:"CW",CPV:"CV",CUB:"CU",SWZ:"SZ",SYR:"SY",SXM:"SX",KGZ:"KG",KEN:"KE",SSD:"SS",SUR:"SR",KIR:"KI",KHM:"KH",KNA:"KN",COM:"KM",STP:"ST",SVK:"SK",KOR:"KR",SVN:"SI",PRK:"KP",KWT:"KW",SEN:"SN",SMR:"SM",SLE:"SL",SYC:"SC",KAZ:"KZ",CYM:"KY",SGP:"SG",SWE:"SE",SDN:"SD",DOM:"DO",DMA:"DM",DJI:"DJ",DNK:"DK",VGB:"VG",DEU:"DE",YEM:"YE",DZA:"DZ",USA:"US",URY:"UY",MYT:"YT",UMI:"UM",LBN:"LB",LCA:"LC",LAO:"LA",TUV:"TV",TWN:"TW",TTO:"TT",TUR:"TR",LKA:"LK",LIE:"LI",LVA:"LV",TON:"TO",LTU:"LT",LUX:"LU",LBR:"LR",LSO:"LS",THA:"TH",ATF:"TF",TGO:"TG",TCD:"TD",TCA:"TC",LBY:"LY",VAT:"VA",VCT:"VC",ARE:"AE",AND:"AD",ATG:"AG",AFG:"AF",AIA:"AI",VIR:"VI",ISL:"IS",IRN:"IR",ARM:"AM",ALB:"AL",AGO:"AO",ATA:"AQ",ASM:"AS",ARG:"AR",AUS:"AU",AUT:"AT",ABW:"AW",IND:"IN",ALA:"AX",AZE:"AZ",IRL:"IE",IDN:"ID",UKR:"UA",QAT:"QA",MOZ:"MZ"}};return{isoA2toA3:function isoA2toA3(key){return countryCodes.iso_a2[key]},isoA3toA2:function isoA3toA2(key){return countryCodes.iso_a3[key]},getReverseCode:function getReverseCode(key){return 2===key.length?countryCodes.iso_a2[key]:countryCodes.iso_a3[key]},getCodes:function getCodes(){return countryCodes}}})}),define("modules/main/services/export-service",["./module","common","lodash","angular","notifications-utils"],function(module,cc,_,angular,NotificationsUtils){module.service("ExportService",["$http","WSocket","$timeout","$compile","$state",function($http,WSocket,$timeout,$compile,$state){function removeExport(e){e.finished?$http.post("/api/export/delete",{taskId:e.id}):$http.post("/api/export/cancel",{taskId:e.id})}function prepareExport(datadocId,tabIds,format,scope,isModal,isEmbed){window.onbeforeunload=function(){return"Changes would not be saved"},subscribeToExportEvent(),service.datadocId=datadocId,$scope=scope,modal=isModal;var hasRunningExport=downloader.hasRunningExport(datadocId,format);if(hasRunningExport)return void NotificationsUtils.notify({id:"already_run_export_"+datadocId,message:"You already have running exports for this datadoc and "+format+" format. Please wait until it done. "});var request={"@class":"com.dataparse.server.service.export.ExportTaskRequest",datadocId:datadocId,totalRowsCount:scope.totalSize,tableBookmarkIds:tabIds,externalId:scope.externalId,format:format};return isEmbed&&(request.params={shows:_.map($scope.dataSummary.shows,"id"),aggs:_.map($scope.dataSummary.aggs,"id"),pivot:_.map($scope.dataSummary.pivot,"id"),filters:$scope.dataSummary.filters,search:$scope.dataSummary.search,limit:{rawData:1e3,aggData:100,pivotData:100},advancedMode:$scope.dataSummary.advancedModeCheck,advancedFilterQuery:$scope.dataSummary.advancedFilterQuery}),$http.post("/api/export/prepare",request).error(function(err){NotificationsUtils.notify({id:"prepare_export",message:err.message})})}function showExportNotification(){var notificationContent=new NotificationsUtils.NotificationContent(service.datadocId,"Your export is being generated...");NotificationsUtils.notify(notificationContent,{delay:500,global:!0})}function subscribeToExportEvent(){WSocket.subscribe("/export-events",function(e){switch(e.type){case"EXPORT_START":$timeout(function(){downloader.pendingExports[e.taskId]={id:e.taskId,statistics:{requestReceivedTime:e.startDate},datadocId:service.datadocId,exportFormat:e.exportFormat,doNotShowNotification:setTimeout(showExportNotification,500),finished:!1}});break;case"EXPORT_PROGRESS":$timeout(function(){var item=downloader.pendingExports[e.taskId];item&&(item.result?item.result.complete=e.complete:item.result={complete:e.complete})});break;case"EXPORT_COMPLETE":$timeout(function(){var item=downloader.pendingExports[e.taskId];if(item){clearTimeout(item.doNotShowNotification),item.result&&(item.result.complete=1),item.finished=!0,downloader.selected={id:e.taskId},(!$state.current.controller||modal)&&($scope.isExportRunning=!1);var allInProgress=downloader.allInProgress();0<allInProgress.length?showExportNotification():(window.onbeforeunload=void 0,NotificationsUtils.closeNotification(service.datadocId)),downloader.download(downloader.selected),WSocket.unsubscribe("/export-events"),service.stop()}});}},!1,!0)}function checkPendingExports($scope){$http.get("/api/export/pending",{params:{datadocId:$scope.datadocId}}).success(function(data){$scope.downloader.pendingExports=_.reduce(data,function(acc,e){return acc[e.id]=e,acc},{})})}var service=this,$scope,modal;service.stop=function(){service.datadocId=null,$scope=null,modal=null};var downloader={cancelAll:function cancelAll(){_.each(downloader.pendingExports,function(e){removeExport(e)}),downloader.pendingExports={}},cancel:function cancel(e){removeExport(e),delete downloader.pendingExports[e.id]},download:function download(e){cc.withIgnoreOnBeforeUnload($timeout,function(){window.location.href="/api/export/download?requestId="+e.id}),removeExport(e),delete downloader.pendingExports[e.id]},allCompleted:function allCompleted(){return _.every(_.values(downloader.pendingExports),{finished:!0})},allInProgress:function allInProgress(){return _.filter(_.values(downloader.pendingExports),function(e){return!e.finished})},hasRunningExport:function hasRunningExport(datadocId,format){return!!_.filter(_.values(downloader.pendingExports),function(e){return!e.finished&&e.datadocId===datadocId&&e.exportFormat===format}).length},selected:void 0,pendingExports:{}};return{prepareExport:prepareExport,downloader:downloader,checkPendingExports:checkPendingExports,getExportOptions:function(type){return"chart"===type?[{name:"Export as CSV",type:"CSV"},{name:"Export as Excel",type:"XLS"},{name:"Export as PNG",type:"image/png"},{name:"Export as JPEG",type:"image/jpeg"},{name:"Export as PDF",type:"application/pdf"},{name:"Export as SVG",type:"image/svg+xml"}]:"table"===type?[{name:"Export as CSV",type:"CSV"},{name:"Export as Excel",type:"XLS"}]:void 0}}}])}),define("modules/main/services/available-fixed-dates",["./module","lodash","moment"],function(services,_,moment){services.service("AvailableFixedDates",[function(){var allAvailableFixedDates=[{label:"Last 7 days",type:"last_7_days",value1:moment().startOf("day").subtract(7,"d").toDate(),value2:moment().endOf("day").toDate()},{label:"Last 14 days",type:"last_14_days",value1:moment().startOf("day").subtract(14,"d").toDate(),value2:moment().endOf("day").toDate()},{label:"Last 28 days",type:"last_28_days",value1:moment().startOf("day").subtract(28,"d").toDate(),value2:moment().endOf("day").toDate()},{label:"Last 30 days",type:"last_30_days",value1:moment().startOf("day").subtract(30,"d").toDate(),value2:moment().endOf("day").toDate()},{label:"Today",type:"today",value1:moment().startOf("day").toDate(),value2:moment().endOf("day").toDate()},{label:"Yesterday",type:"yesterday",value1:moment().startOf("day").subtract(1,"d").toDate(),value2:moment().endOf("day").subtract(1,"d").toDate()},{label:"This week",type:"this_week",value1:moment().startOf("day").startOf("week").toDate(),value2:moment().endOf("day").endOf("week").toDate()},{label:"Last week",type:"last_week",value1:moment().startOf("day").subtract(1,"week").startOf("week").toDate(),value2:moment().endOf("day").subtract(1,"week").endOf("week").toDate()},{label:"This month",type:"this_month",value1:moment().startOf("day").startOf("month").toDate(),value2:moment().startOf("day").endOf("month").toDate()},{label:"Last month",type:"last_month",value1:moment().startOf("day").subtract(1,"month").startOf("month").toDate(),value2:moment().endOf("day").subtract(1,"month").endOf("month").toDate()},{label:"This quarter",type:"this_quarter",value1:moment().startOf("day").startOf("quarter").toDate(),value2:moment().endOf("day").endOf("quarter").toDate()},{label:"Last quarter",type:"last_quarter",value1:moment().startOf("day").subtract(1,"quarter").startOf("quarter").toDate(),value2:moment().endOf("day").subtract(1,"quarter").endOf("quarter").toDate()},{label:"This year",type:"this_year",value1:moment().startOf("day").startOf("year").toDate(),value2:moment().endOf("day").endOf("year").toDate()},{label:"Last year",type:"last_year",value1:moment().startOf("day").subtract(1,"year").startOf("year").toDate(),value2:moment().endOf("day").subtract(1,"year").endOf("year").toDate()},{label:"Year to date",type:"year_to_date",value1:moment().startOf("day").startOf("year").toDate(),value2:moment().endOf("day").toDate()},{label:"All Date Range",type:"reset_filter"}];return{allAvailableFixedDates:allAvailableFixedDates}}])}),function(root,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof2(module))?module.exports=factory():"function"==typeof define&&define.amd?define("ag-grid",[],factory):"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))?exports.agGrid=factory():root.agGrid=factory()}(this,function(){var _StringfromCharCode2=String.fromCharCode,_Mathfloor6=Math.floor,_Mathabs9=Math.abs,_Mathmin6=Math.min,_Mathmax7=Math.max,_Mathround6=Math.round;return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){__webpack_require__(1);var populateClientExports=__webpack_require__(138).populateClientExports;populateClientExports(exports);var populateStandardExports=__webpack_require__(3).populateClientExports;populateStandardExports(exports),__webpack_require__(139),__webpack_require__(143),__webpack_require__(145),__webpack_require__(147),__webpack_require__(149),__webpack_require__(151)},function(module,exports,__webpack_require__){var main_1=__webpack_require__(2),enterpriseMenu_1=__webpack_require__(105),rangeController_1=__webpack_require__(110),clipboardService_1=__webpack_require__(111),groupStage_1=__webpack_require__(112),aggregationStage_1=__webpack_require__(113),enterpriseBoot_1=__webpack_require__(116),statusBar_1=__webpack_require__(125),contextMenu_1=__webpack_require__(127),viewportRowModel_1=__webpack_require__(128),pivotColumnsPanel_1=__webpack_require__(129),toolPanelComp_1=__webpack_require__(132),rowGroupCompFactory_1=__webpack_require__(136),licenseManager_1=__webpack_require__(123),md5_1=__webpack_require__(124),pivotStage_1=__webpack_require__(114),pivotColDefService_1=__webpack_require__(115),aggFuncService_1=__webpack_require__(109),pivotCompFactory_1=__webpack_require__(137),rowModelTypes={viewport:viewportRowModel_1.ViewportRowModel};main_1.Grid.setEnterpriseBeans([toolPanelComp_1.ToolPanelComp,enterpriseMenu_1.EnterpriseMenuFactory,rowGroupCompFactory_1.RowGroupCompFactory,pivotCompFactory_1.PivotCompFactory,pivotColumnsPanel_1.PivotColumnsPanel,rangeController_1.RangeController,clipboardService_1.ClipboardService,pivotStage_1.PivotStage,pivotColDefService_1.PivotColDefService,contextMenu_1.ContextMenuFactory,groupStage_1.GroupStage,aggregationStage_1.AggregationStage,enterpriseBoot_1.EnterpriseBoot,aggFuncService_1.AggFuncService,statusBar_1.StatusBar,licenseManager_1.LicenseManager,md5_1.MD5],rowModelTypes)},function(module,exports,__webpack_require__){var populateClientExports=__webpack_require__(3).populateClientExports;populateClientExports(exports)},function(module,exports,__webpack_require__){var grid_1=__webpack_require__(4),gridApi_1=__webpack_require__(13),events_1=__webpack_require__(12),componentUtil_1=__webpack_require__(11),columnController_1=__webpack_require__(15),agGridNg1_1=__webpack_require__(99),agGridWebComponent_1=__webpack_require__(100),gridCell_1=__webpack_require__(36),rowNode_1=__webpack_require__(29),originalColumnGroup_1=__webpack_require__(19),columnGroup_1=__webpack_require__(16),column_1=__webpack_require__(17),focusedCellController_1=__webpack_require__(38),functions_1=__webpack_require__(89),gridOptionsWrapper_1=__webpack_require__(5),balancedColumnTreeBuilder_1=__webpack_require__(21),columnKeyCreator_1=__webpack_require__(22),columnUtils_1=__webpack_require__(18),displayedGroupCreator_1=__webpack_require__(23),groupInstanceIdCreator_1=__webpack_require__(88),context_1=__webpack_require__(8),dragAndDropService_1=__webpack_require__(78),dragService_1=__webpack_require__(34),filterManager_1=__webpack_require__(45),numberFilter_1=__webpack_require__(51),textFilter_1=__webpack_require__(50),gridPanel_1=__webpack_require__(26),mouseEventService_1=__webpack_require__(35),cssClassApplier_1=__webpack_require__(81),headerContainer_1=__webpack_require__(77),headerRenderer_1=__webpack_require__(76),headerTemplateLoader_1=__webpack_require__(83),horizontalDragService_1=__webpack_require__(40),verticalDragService_1=__webpack_require__(42),moveColumnController_1=__webpack_require__(85),renderedHeaderCell_1=__webpack_require__(82),renderedHeaderGroupCell_1=__webpack_require__(80),standardMenu_1=__webpack_require__(91),borderLayout_1=__webpack_require__(33),tabbedLayout_1=__webpack_require__(101),verticalStack_1=__webpack_require__(102),autoWidthCalculator_1=__webpack_require__(24),renderedRow_1=__webpack_require__(55),rowRenderer_1=__webpack_require__(25),filterStage_1=__webpack_require__(92),flattenStage_1=__webpack_require__(94),sortStage_1=__webpack_require__(93),floatingRowModel_1=__webpack_require__(28),paginationController_1=__webpack_require__(48),component_1=__webpack_require__(49),menuList_1=__webpack_require__(103),cellNavigationService_1=__webpack_require__(75),columnChangeEvent_1=__webpack_require__(87),constants_1=__webpack_require__(10),csvCreator_1=__webpack_require__(14),eventService_1=__webpack_require__(6),expressionService_1=__webpack_require__(20),gridCore_1=__webpack_require__(47),logger_1=__webpack_require__(7),masterSlaveService_1=__webpack_require__(27),selectionController_1=__webpack_require__(30),sortController_1=__webpack_require__(44),svgFactory_1=__webpack_require__(69),templateService_1=__webpack_require__(54),utils_1=__webpack_require__(9),valueService_1=__webpack_require__(31),popupService_1=__webpack_require__(46),gridRow_1=__webpack_require__(37),inMemoryRowModel_1=__webpack_require__(95),virtualPageRowModel_1=__webpack_require__(43),menuItemComponent_1=__webpack_require__(104),animateSlideCellRenderer_1=__webpack_require__(66),cellEditorFactory_1=__webpack_require__(58),popupEditorWrapper_1=__webpack_require__(61),popupSelectCellEditor_1=__webpack_require__(63),popupTextCellEditor_1=__webpack_require__(62),selectCellEditor_1=__webpack_require__(60),textCellEditor_1=__webpack_require__(59),largeTextCellEditor_1=__webpack_require__(64),cellRendererFactory_1=__webpack_require__(65),groupCellRenderer_1=__webpack_require__(68),cellRendererService_1=__webpack_require__(70),valueFormatterService_1=__webpack_require__(71),checkboxSelectionComponent_1=__webpack_require__(72),componentAnnotations_1=__webpack_require__(97),agCheckbox_1=__webpack_require__(96),bodyDropPivotTarget_1=__webpack_require__(86),bodyDropTarget_1=__webpack_require__(84),focusService_1=__webpack_require__(57),setLeftFeature_1=__webpack_require__(73),renderedCell_1=__webpack_require__(56),headerRowComp_1=__webpack_require__(79),animateShowChangeCellRenderer_1=__webpack_require__(67),inMemoryNodeManager_1=__webpack_require__(32),virtualPageCache_1=__webpack_require__(52),virtualPage_1=__webpack_require__(53),baseFrameworkFactory_1=__webpack_require__(98),methodNotImplementedException_1=__webpack_require__(74);exports.populateClientExports=function(exports){exports.BalancedColumnTreeBuilder=balancedColumnTreeBuilder_1.BalancedColumnTreeBuilder,exports.ColumnController=columnController_1.ColumnController,exports.ColumnKeyCreator=columnKeyCreator_1.ColumnKeyCreator,exports.ColumnUtils=columnUtils_1.ColumnUtils,exports.DisplayedGroupCreator=displayedGroupCreator_1.DisplayedGroupCreator,exports.GroupInstanceIdCreator=groupInstanceIdCreator_1.GroupInstanceIdCreator,exports.ComponentUtil=componentUtil_1.ComponentUtil,exports.initialiseAgGridWithAngular1=agGridNg1_1.initialiseAgGridWithAngular1,exports.initialiseAgGridWithWebComponents=agGridWebComponent_1.initialiseAgGridWithWebComponents,exports.Context=context_1.Context,exports.Autowired=context_1.Autowired,exports.PostConstruct=context_1.PostConstruct,exports.PreDestroy=context_1.PreDestroy,exports.Optional=context_1.Optional,exports.Bean=context_1.Bean,exports.Qualifier=context_1.Qualifier,exports.Listener=componentAnnotations_1.Listener,exports.QuerySelector=componentAnnotations_1.QuerySelector,exports.DragAndDropService=dragAndDropService_1.DragAndDropService,exports.DragService=dragService_1.DragService,exports.DragSourceType=dragAndDropService_1.DragSourceType,exports.Column=column_1.Column,exports.ColumnGroup=columnGroup_1.ColumnGroup,exports.GridCell=gridCell_1.GridCell,exports.GridRow=gridRow_1.GridRow,exports.OriginalColumnGroup=originalColumnGroup_1.OriginalColumnGroup,exports.RowNode=rowNode_1.RowNode,exports.FilterManager=filterManager_1.FilterManager,exports.NumberFilter=numberFilter_1.NumberFilter,exports.TextFilter=textFilter_1.TextFilter,exports.GridPanel=gridPanel_1.GridPanel,exports.MouseEventService=mouseEventService_1.MouseEventService,exports.BodyDropPivotTarget=bodyDropPivotTarget_1.BodyDropPivotTarget,exports.BodyDropTarget=bodyDropTarget_1.BodyDropTarget,exports.CssClassApplier=cssClassApplier_1.CssClassApplier,exports.HeaderContainer=headerContainer_1.HeaderContainer,exports.HeaderRenderer=headerRenderer_1.HeaderRenderer,exports.HeaderRowComp=headerRowComp_1.HeaderRowComp,exports.HeaderTemplateLoader=headerTemplateLoader_1.HeaderTemplateLoader,exports.HorizontalDragService=horizontalDragService_1.HorizontalDragService,exports.VerticalDragService=verticalDragService_1.VerticalDragService,exports.MoveColumnController=moveColumnController_1.MoveColumnController,exports.RenderedHeaderCell=renderedHeaderCell_1.RenderedHeaderCell,exports.RenderedHeaderGroupCell=renderedHeaderGroupCell_1.RenderedHeaderGroupCell,exports.StandardMenuFactory=standardMenu_1.StandardMenuFactory,exports.BorderLayout=borderLayout_1.BorderLayout,exports.TabbedLayout=tabbedLayout_1.TabbedLayout,exports.VerticalStack=verticalStack_1.VerticalStack,exports.FocusService=focusService_1.FocusService,exports.MethodNotImplementedException=methodNotImplementedException_1.MethodNotImplementedException,exports.LargeTextCellEditor=largeTextCellEditor_1.LargeTextCellEditor,exports.PopupEditorWrapper=popupEditorWrapper_1.PopupEditorWrapper,exports.PopupSelectCellEditor=popupSelectCellEditor_1.PopupSelectCellEditor,exports.PopupTextCellEditor=popupTextCellEditor_1.PopupTextCellEditor,exports.SelectCellEditor=selectCellEditor_1.SelectCellEditor,exports.TextCellEditor=textCellEditor_1.TextCellEditor,exports.AnimateShowChangeCellRenderer=animateShowChangeCellRenderer_1.AnimateShowChangeCellRenderer,exports.AnimateSlideCellRenderer=animateSlideCellRenderer_1.AnimateSlideCellRenderer,exports.GroupCellRenderer=groupCellRenderer_1.GroupCellRenderer,exports.SetLeftFeature=setLeftFeature_1.SetLeftFeature,exports.AutoWidthCalculator=autoWidthCalculator_1.AutoWidthCalculator,exports.CellEditorFactory=cellEditorFactory_1.CellEditorFactory,exports.RenderedHeaderCell=renderedHeaderCell_1.RenderedHeaderCell,exports.CellRendererFactory=cellRendererFactory_1.CellRendererFactory,exports.CellRendererService=cellRendererService_1.CellRendererService,exports.CheckboxSelectionComponent=checkboxSelectionComponent_1.CheckboxSelectionComponent,exports.RenderedCell=renderedCell_1.RenderedCell,exports.RenderedRow=renderedRow_1.RenderedRow,exports.RowRenderer=rowRenderer_1.RowRenderer,exports.ValueFormatterService=valueFormatterService_1.ValueFormatterService,exports.FilterStage=filterStage_1.FilterStage,exports.FlattenStage=flattenStage_1.FlattenStage,exports.InMemoryRowModel=inMemoryRowModel_1.InMemoryRowModel,exports.SortStage=sortStage_1.SortStage,exports.InMemoryNodeManager=inMemoryNodeManager_1.InMemoryNodeManager,exports.FloatingRowModel=floatingRowModel_1.FloatingRowModel,exports.PaginationController=paginationController_1.PaginationController,exports.VirtualPageRowModel=virtualPageRowModel_1.VirtualPageRowModel,exports.VirtualPageCache=virtualPageCache_1.VirtualPageCache,exports.VirtualPage=virtualPage_1.VirtualPage,exports.AgCheckbox=agCheckbox_1.AgCheckbox,exports.Component=component_1.Component,exports.PopupService=popupService_1.PopupService,exports.MenuItemComponent=menuItemComponent_1.MenuItemComponent,exports.MenuList=menuList_1.MenuList,exports.Listener=componentAnnotations_1.Listener,exports.QuerySelector=componentAnnotations_1.QuerySelector,exports.BaseFrameworkFactory=baseFrameworkFactory_1.BaseFrameworkFactory,exports.CellNavigationService=cellNavigationService_1.CellNavigationService,exports.ColumnChangeEvent=columnChangeEvent_1.ColumnChangeEvent,exports.Constants=constants_1.Constants,exports.CsvCreator=csvCreator_1.CsvCreator,exports.Events=events_1.Events,exports.EventService=eventService_1.EventService,exports.ExpressionService=expressionService_1.ExpressionService,exports.FocusedCellController=focusedCellController_1.FocusedCellController,exports.defaultGroupComparator=functions_1.defaultGroupComparator,exports.Grid=grid_1.Grid,exports.GridApi=gridApi_1.GridApi,exports.GridCore=gridCore_1.GridCore,exports.GridOptionsWrapper=gridOptionsWrapper_1.GridOptionsWrapper,exports.Logger=logger_1.Logger,exports.MasterSlaveService=masterSlaveService_1.MasterSlaveService,exports.SelectionController=selectionController_1.SelectionController,exports.CheckboxSelectionComponent=checkboxSelectionComponent_1.CheckboxSelectionComponent,exports.SortController=sortController_1.SortController,exports.SvgFactory=svgFactory_1.SvgFactory,exports.TemplateService=templateService_1.TemplateService,exports.Utils=utils_1.Utils,exports.NumberSequence=utils_1.NumberSequence,exports.ValueService=valueService_1.ValueService}},function(module,exports,__webpack_require__){var gridOptionsWrapper_1=__webpack_require__(5),paginationController_1=__webpack_require__(48),floatingRowModel_1=__webpack_require__(28),selectionController_1=__webpack_require__(30),columnController_1=__webpack_require__(15),rowRenderer_1=__webpack_require__(25),headerRenderer_1=__webpack_require__(76),filterManager_1=__webpack_require__(45),valueService_1=__webpack_require__(31),masterSlaveService_1=__webpack_require__(27),eventService_1=__webpack_require__(6),oldToolPanelDragAndDropService_1=__webpack_require__(90),gridPanel_1=__webpack_require__(26),gridApi_1=__webpack_require__(13),headerTemplateLoader_1=__webpack_require__(83),balancedColumnTreeBuilder_1=__webpack_require__(21),displayedGroupCreator_1=__webpack_require__(23),expressionService_1=__webpack_require__(20),templateService_1=__webpack_require__(54),popupService_1=__webpack_require__(46),logger_1=__webpack_require__(7),columnUtils_1=__webpack_require__(18),autoWidthCalculator_1=__webpack_require__(24),horizontalDragService_1=__webpack_require__(40),verticalDragService_1=__webpack_require__(42),context_1=__webpack_require__(8),csvCreator_1=__webpack_require__(14),gridCore_1=__webpack_require__(47),standardMenu_1=__webpack_require__(91),dragAndDropService_1=__webpack_require__(78),dragService_1=__webpack_require__(34),sortController_1=__webpack_require__(44),focusedCellController_1=__webpack_require__(38),mouseEventService_1=__webpack_require__(35),cellNavigationService_1=__webpack_require__(75),utils_1=__webpack_require__(9),filterStage_1=__webpack_require__(92),sortStage_1=__webpack_require__(93),flattenStage_1=__webpack_require__(94),focusService_1=__webpack_require__(57),cellEditorFactory_1=__webpack_require__(58),events_1=__webpack_require__(12),virtualPageRowModel_1=__webpack_require__(43),inMemoryRowModel_1=__webpack_require__(95),cellRendererFactory_1=__webpack_require__(65),cellRendererService_1=__webpack_require__(70),valueFormatterService_1=__webpack_require__(71),agCheckbox_1=__webpack_require__(96),baseFrameworkFactory_1=__webpack_require__(98),Grid=function(){function Grid(eGridDiv,gridOptions,params){eGridDiv||console.error("ag-Grid: no div element provided to the grid"),gridOptions||console.error("ag-Grid: no gridOptions provided to the grid");var rowModelClass=this.getRowModelClass(gridOptions),enterprise=utils_1.Utils.exists(Grid.enterpriseBeans),frameworkFactory=params?params.frameworkFactory:null;utils_1.Utils.missing(frameworkFactory)&&(frameworkFactory=new baseFrameworkFactory_1.BaseFrameworkFactory),this.context=new context_1.Context({overrideBeans:Grid.enterpriseBeans,seed:{enterprise:enterprise,gridOptions:gridOptions,eGridDiv:eGridDiv,$scope:params?params.$scope:null,$compile:params?params.$compile:null,quickFilterOnScope:params?params.quickFilterOnScope:null,globalEventListener:params?params.globalEventListener:null,frameworkFactory:frameworkFactory},beans:[rowModelClass,cellRendererFactory_1.CellRendererFactory,verticalDragService_1.VerticalDragService,horizontalDragService_1.HorizontalDragService,headerTemplateLoader_1.HeaderTemplateLoader,floatingRowModel_1.FloatingRowModel,dragService_1.DragService,displayedGroupCreator_1.DisplayedGroupCreator,eventService_1.EventService,gridOptionsWrapper_1.GridOptionsWrapper,selectionController_1.SelectionController,filterManager_1.FilterManager,columnController_1.ColumnController,rowRenderer_1.RowRenderer,headerRenderer_1.HeaderRenderer,expressionService_1.ExpressionService,balancedColumnTreeBuilder_1.BalancedColumnTreeBuilder,csvCreator_1.CsvCreator,templateService_1.TemplateService,gridPanel_1.GridPanel,popupService_1.PopupService,valueService_1.ValueService,masterSlaveService_1.MasterSlaveService,logger_1.LoggerFactory,oldToolPanelDragAndDropService_1.OldToolPanelDragAndDropService,columnUtils_1.ColumnUtils,autoWidthCalculator_1.AutoWidthCalculator,gridApi_1.GridApi,paginationController_1.PaginationController,popupService_1.PopupService,gridCore_1.GridCore,standardMenu_1.StandardMenuFactory,dragAndDropService_1.DragAndDropService,sortController_1.SortController,columnController_1.ColumnApi,focusedCellController_1.FocusedCellController,mouseEventService_1.MouseEventService,cellNavigationService_1.CellNavigationService,filterStage_1.FilterStage,sortStage_1.SortStage,flattenStage_1.FlattenStage,focusService_1.FocusService,cellEditorFactory_1.CellEditorFactory,cellRendererService_1.CellRendererService,valueFormatterService_1.ValueFormatterService],components:[{componentName:"AgCheckbox",theClass:agCheckbox_1.AgCheckbox}],debug:!!gridOptions.debug});var eventService=this.context.getBean("eventService"),readyEvent={api:gridOptions.api,columnApi:gridOptions.columnApi};eventService.dispatchEvent(events_1.Events.EVENT_GRID_READY,readyEvent),gridOptions.debug&&console.log("ag-Grid -> initialised successfully, enterprise = "+enterprise)}return Grid.setEnterpriseBeans=function(enterpriseBeans,rowModelClasses){this.enterpriseBeans=enterpriseBeans,utils_1.Utils.iterateObject(rowModelClasses,function(key,value){return Grid.RowModelClasses[key]=value})},Grid.prototype.getRowModelClass=function(gridOptions){var rowModelType=gridOptions.rowModelType;if(utils_1.Utils.exists(rowModelType)){var rowModelClass=Grid.RowModelClasses[rowModelType];if(utils_1.Utils.exists(rowModelClass))return rowModelClass;console.error("ag-Grid: count not find matching row model for rowModelType "+rowModelType),"viewport"===rowModelType&&console.error("ag-Grid: rowModelType viewport is only available in ag-Grid Enterprise")}return inMemoryRowModel_1.InMemoryRowModel},(Grid.prototype.destroy=function(){this.context.destroy()},Grid.RowModelClasses={virtual:virtualPageRowModel_1.VirtualPageRowModel,pagination:inMemoryRowModel_1.InMemoryRowModel},Grid)}();exports.Grid=Grid},function(module,exports,__webpack_require__){function isTrue(value){return!0===value||"true"===value}function positiveNumberOrZero(value,defaultValue){return 0<value?value:defaultValue}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},eventService_1=__webpack_require__(6),constants_1=__webpack_require__(10),componentUtil_1=__webpack_require__(11),gridApi_1=__webpack_require__(13),context_1=__webpack_require__(8),columnController_1=__webpack_require__(15),utils_1=__webpack_require__(9),GridOptionsWrapper=function(){function GridOptionsWrapper(){this.propertyEventService=new eventService_1.EventService}return GridOptionsWrapper.prototype.agWire=function(gridApi,columnApi){this.gridOptions.api=gridApi,this.gridOptions.columnApi=columnApi,this.checkForDeprecated()},GridOptionsWrapper.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null},GridOptionsWrapper.prototype.init=function(){this.eventService.addGlobalListener(this.globalEventHandler.bind(this)),this.setupCellRenderers(),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("ag-Grid: groupSelectsChildren does not work wth suppressParentsInRowNodes, this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&!this.isRowSelectionMulti()&&console.warn("ag-Grid: rowSelectionMulti must be true for groupSelectsChildren to make sense")},GridOptionsWrapper.prototype.setupCellRenderers=function(){this.fullWidthCellRenderer=this.frameworkFactory.gridOptionsFullWidthCellRenderer(this.gridOptions),this.groupRowRenderer=this.frameworkFactory.gridOptionsGroupRowRenderer(this.gridOptions),this.groupRowInnerRenderer=this.frameworkFactory.gridOptionsGroupRowInnerRenderer(this.gridOptions)},GridOptionsWrapper.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},GridOptionsWrapper.prototype.getGroupRowRenderer=function(){return this.groupRowRenderer},GridOptionsWrapper.prototype.getGroupRowInnerRenderer=function(){return this.groupRowInnerRenderer},GridOptionsWrapper.prototype.isEnterprise=function(){return this.enterprise},GridOptionsWrapper.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},GridOptionsWrapper.prototype.isRowDeselection=function(){return isTrue(this.gridOptions.rowDeselection)},GridOptionsWrapper.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},GridOptionsWrapper.prototype.getContext=function(){return this.gridOptions.context},GridOptionsWrapper.prototype.isPivotMode=function(){return isTrue(this.gridOptions.pivotMode)},GridOptionsWrapper.prototype.isRowModelPagination=function(){return this.gridOptions.rowModelType===constants_1.Constants.ROW_MODEL_TYPE_PAGINATION},GridOptionsWrapper.prototype.isRowModelVirtual=function(){return this.gridOptions.rowModelType===constants_1.Constants.ROW_MODEL_TYPE_VIRTUAL},GridOptionsWrapper.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===constants_1.Constants.ROW_MODEL_TYPE_VIEWPORT},GridOptionsWrapper.prototype.isRowModelDefault=function(){return!(this.isRowModelPagination()||this.isRowModelVirtual()||this.isRowModelViewport())},GridOptionsWrapper.prototype.isSuppressFocusAfterRefresh=function(){return isTrue(this.gridOptions.suppressFocusAfterRefresh)},GridOptionsWrapper.prototype.isShowToolPanel=function(){return isTrue(this.gridOptions.showToolPanel)},GridOptionsWrapper.prototype.isToolPanelSuppressRowGroups=function(){return isTrue(this.gridOptions.toolPanelSuppressRowGroups)},GridOptionsWrapper.prototype.isToolPanelSuppressValues=function(){return isTrue(this.gridOptions.toolPanelSuppressValues)},GridOptionsWrapper.prototype.isToolPanelSuppressPivots=function(){return isTrue(this.gridOptions.toolPanelSuppressPivots)},GridOptionsWrapper.prototype.isToolPanelSuppressPivotMode=function(){return isTrue(this.gridOptions.toolPanelSuppressPivotMode)},GridOptionsWrapper.prototype.isEnableCellChangeFlash=function(){return isTrue(this.gridOptions.enableCellChangeFlash)},GridOptionsWrapper.prototype.isGroupSelectsChildren=function(){return isTrue(this.gridOptions.groupSelectsChildren)},GridOptionsWrapper.prototype.isGroupIncludeFooter=function(){return isTrue(this.gridOptions.groupIncludeFooter)},GridOptionsWrapper.prototype.isGroupSuppressBlankHeader=function(){return isTrue(this.gridOptions.groupSuppressBlankHeader)},GridOptionsWrapper.prototype.isSuppressRowClickSelection=function(){return isTrue(this.gridOptions.suppressRowClickSelection)},GridOptionsWrapper.prototype.isSuppressCellSelection=function(){return isTrue(this.gridOptions.suppressCellSelection)},GridOptionsWrapper.prototype.isSuppressMultiSort=function(){return isTrue(this.gridOptions.suppressMultiSort)},GridOptionsWrapper.prototype.isGroupSuppressAutoColumn=function(){return isTrue(this.gridOptions.groupSuppressAutoColumn)},GridOptionsWrapper.prototype.isSuppressDragLeaveHidesColumns=function(){return isTrue(this.gridOptions.suppressDragLeaveHidesColumns)},GridOptionsWrapper.prototype.isForPrint=function(){return isTrue(this.gridOptions.forPrint)},GridOptionsWrapper.prototype.isSuppressHorizontalScroll=function(){return isTrue(this.gridOptions.suppressHorizontalScroll)},GridOptionsWrapper.prototype.isSuppressLoadingOverlay=function(){return isTrue(this.gridOptions.suppressLoadingOverlay)},GridOptionsWrapper.prototype.isSuppressNoRowsOverlay=function(){return isTrue(this.gridOptions.suppressNoRowsOverlay)},GridOptionsWrapper.prototype.isSuppressFieldDotNotation=function(){return isTrue(this.gridOptions.suppressFieldDotNotation)},GridOptionsWrapper.prototype.getFloatingTopRowData=function(){return this.gridOptions.floatingTopRowData},GridOptionsWrapper.prototype.getFloatingBottomRowData=function(){return this.gridOptions.floatingBottomRowData},GridOptionsWrapper.prototype.isFunctionsPassive=function(){return isTrue(this.gridOptions.functionsPassive)},GridOptionsWrapper.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},GridOptionsWrapper.prototype.isUnSortIcon=function(){return isTrue(this.gridOptions.unSortIcon)},GridOptionsWrapper.prototype.isSuppressMenuHide=function(){return isTrue(this.gridOptions.suppressMenuHide)},GridOptionsWrapper.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},GridOptionsWrapper.prototype.getRowClass=function(){return this.gridOptions.rowClass},GridOptionsWrapper.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},GridOptionsWrapper.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},GridOptionsWrapper.prototype.getDoesDataFlowerFunc=function(){return this.gridOptions.doesDataFlower},GridOptionsWrapper.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},GridOptionsWrapper.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},GridOptionsWrapper.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},GridOptionsWrapper.prototype.getHeaderCellRenderer=function(){return this.gridOptions.headerCellRenderer},GridOptionsWrapper.prototype.getApi=function(){return this.gridOptions.api},GridOptionsWrapper.prototype.getColumnApi=function(){return this.gridOptions.columnApi},GridOptionsWrapper.prototype.isEnableColResize=function(){return isTrue(this.gridOptions.enableColResize)},GridOptionsWrapper.prototype.isSingleClickEdit=function(){return isTrue(this.gridOptions.singleClickEdit)},GridOptionsWrapper.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},GridOptionsWrapper.prototype.getAutoSizePadding=function(){return this.gridOptions.autoSizePadding},GridOptionsWrapper.prototype.getMaxConcurrentDatasourceRequests=function(){return this.gridOptions.maxConcurrentDatasourceRequests},GridOptionsWrapper.prototype.getMaxPagesInCache=function(){return this.gridOptions.maxPagesInCache},GridOptionsWrapper.prototype.getPaginationOverflowSize=function(){return this.gridOptions.paginationOverflowSize},GridOptionsWrapper.prototype.getPaginationPageSize=function(){return this.gridOptions.paginationPageSize},GridOptionsWrapper.prototype.getPaginationInitialRowCount=function(){return this.gridOptions.paginationInitialRowCount},GridOptionsWrapper.prototype.getRowData=function(){return this.gridOptions.rowData},GridOptionsWrapper.prototype.isGroupUseEntireRow=function(){return isTrue(this.gridOptions.groupUseEntireRow)},GridOptionsWrapper.prototype.getGroupColumnDef=function(){return this.gridOptions.groupColumnDef},GridOptionsWrapper.prototype.isGroupSuppressRow=function(){return isTrue(this.gridOptions.groupSuppressRow)},GridOptionsWrapper.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},GridOptionsWrapper.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},GridOptionsWrapper.prototype.isAngularCompileRows=function(){return isTrue(this.gridOptions.angularCompileRows)},GridOptionsWrapper.prototype.isAngularCompileFilters=function(){return isTrue(this.gridOptions.angularCompileFilters)},GridOptionsWrapper.prototype.isAngularCompileHeaders=function(){return isTrue(this.gridOptions.angularCompileHeaders)},GridOptionsWrapper.prototype.isDebug=function(){return isTrue(this.gridOptions.debug)},GridOptionsWrapper.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},GridOptionsWrapper.prototype.getDatasource=function(){return this.gridOptions.datasource},GridOptionsWrapper.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},GridOptionsWrapper.prototype.isEnableSorting=function(){return isTrue(this.gridOptions.enableSorting)||isTrue(this.gridOptions.enableServerSideSorting)},GridOptionsWrapper.prototype.isEnableCellExpressions=function(){return isTrue(this.gridOptions.enableCellExpressions)},GridOptionsWrapper.prototype.isSuppressMiddleClickScrolls=function(){return isTrue(this.gridOptions.suppressMiddleClickScrolls)},GridOptionsWrapper.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return isTrue(this.gridOptions.suppressPreventDefaultOnMouseWheel)},GridOptionsWrapper.prototype.isEnableServerSideSorting=function(){return isTrue(this.gridOptions.enableServerSideSorting)},GridOptionsWrapper.prototype.isSuppressColumnVirtualisation=function(){return isTrue(this.gridOptions.suppressColumnVirtualisation)},GridOptionsWrapper.prototype.isSuppressContextMenu=function(){return isTrue(this.gridOptions.suppressContextMenu)},GridOptionsWrapper.prototype.isSuppressCopyRowsToClipboard=function(){return isTrue(this.gridOptions.suppressCopyRowsToClipboard)},GridOptionsWrapper.prototype.isEnableCopyWithHtml=function(){return isTrue(this.gridOptions.enableCopyWithHtml)},GridOptionsWrapper.prototype.isEnableFilter=function(){return isTrue(this.gridOptions.enableFilter)||isTrue(this.gridOptions.enableServerSideFilter)},GridOptionsWrapper.prototype.isEnableServerSideFilter=function(){return this.gridOptions.enableServerSideFilter},GridOptionsWrapper.prototype.isSuppressScrollLag=function(){return isTrue(this.gridOptions.suppressScrollLag)},GridOptionsWrapper.prototype.isSuppressMovableColumns=function(){return isTrue(this.gridOptions.suppressMovableColumns)},GridOptionsWrapper.prototype.isSuppressColumnMoveAnimation=function(){return isTrue(this.gridOptions.suppressColumnMoveAnimation)},GridOptionsWrapper.prototype.isSuppressMenuColumnPanel=function(){return isTrue(this.gridOptions.suppressMenuColumnPanel)},GridOptionsWrapper.prototype.isSuppressMenuFilterPanel=function(){return isTrue(this.gridOptions.suppressMenuFilterPanel)},GridOptionsWrapper.prototype.isSuppressUseColIdForGroups=function(){return isTrue(this.gridOptions.suppressUseColIdForGroups)},GridOptionsWrapper.prototype.isSuppressAggFuncInHeader=function(){return isTrue(this.gridOptions.suppressAggFuncInHeader)},GridOptionsWrapper.prototype.isSuppressMenuMainPanel=function(){return isTrue(this.gridOptions.suppressMenuMainPanel)},GridOptionsWrapper.prototype.isEnableRangeSelection=function(){return isTrue(this.gridOptions.enableRangeSelection)},GridOptionsWrapper.prototype.isRememberGroupStateWhenNewData=function(){return isTrue(this.gridOptions.rememberGroupStateWhenNewData)},GridOptionsWrapper.prototype.getIcons=function(){return this.gridOptions.icons},GridOptionsWrapper.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},GridOptionsWrapper.prototype.getIsScrollLag=function(){return this.gridOptions.isScrollLag},GridOptionsWrapper.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},GridOptionsWrapper.prototype.getSlaveGrids=function(){return this.gridOptions.slaveGrids},GridOptionsWrapper.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},GridOptionsWrapper.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},GridOptionsWrapper.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},GridOptionsWrapper.prototype.getCheckboxSelection=function(){return this.gridOptions.checkboxSelection},GridOptionsWrapper.prototype.isSuppressAutoSize=function(){return isTrue(this.gridOptions.suppressAutoSize)},GridOptionsWrapper.prototype.isSuppressParentsInRowNodes=function(){return isTrue(this.gridOptions.suppressParentsInRowNodes)},GridOptionsWrapper.prototype.isEnableStatusBar=function(){return isTrue(this.gridOptions.enableStatusBar)},GridOptionsWrapper.prototype.isEnableFreezebar=function(){return isTrue(this.gridOptions.enableFreezebar)},GridOptionsWrapper.prototype.isFunctionsReadOnly=function(){return isTrue(this.gridOptions.functionsReadOnly)},GridOptionsWrapper.prototype.getHeaderCellTemplate=function(){return this.gridOptions.headerCellTemplate},GridOptionsWrapper.prototype.getHeaderCellTemplateFunc=function(){return this.gridOptions.getHeaderCellTemplate},GridOptionsWrapper.prototype.getNodeChildDetailsFunc=function(){return this.gridOptions.getNodeChildDetails},GridOptionsWrapper.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},GridOptionsWrapper.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},GridOptionsWrapper.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},GridOptionsWrapper.prototype.getRowNodeIdFunc=function(){return this.gridOptions.getRowNodeId},GridOptionsWrapper.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},GridOptionsWrapper.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},GridOptionsWrapper.prototype.getViewportRowModelPageSize=function(){return positiveNumberOrZero(this.gridOptions.viewportRowModelPageSize,5)},GridOptionsWrapper.prototype.getViewportRowModelBufferSize=function(){return positiveNumberOrZero(this.gridOptions.viewportRowModelBufferSize,5)},GridOptionsWrapper.prototype.isSuppressGhostIcon=function(){return this.gridOptions.suppressGhostIcon},GridOptionsWrapper.prototype.getCustomCreateGhost=function(){return this.gridOptions.customCreateGhost},GridOptionsWrapper.prototype.getCustomPositionGhost=function(){return this.gridOptions.customPositionGhost},GridOptionsWrapper.prototype.getOnHeaderResizableDragStart=function(){return this.gridOptions.onHeaderResizableDragStart},GridOptionsWrapper.prototype.getOnHeaderResizableDragging=function(){return this.gridOptions.onHeaderResizableDragging},GridOptionsWrapper.prototype.getOnHeaderResizableDblclick=function(){return this.gridOptions.onHeaderResizableDblclick},GridOptionsWrapper.prototype.getDefaultRowHeight=function(){return this.gridOptions.defaultRowHeight||25},GridOptionsWrapper.prototype.getOnRowsResized=function(){return this.gridOptions.onRowsResized},GridOptionsWrapper.prototype.getOnCtrlAndZ=function(){return this.gridOptions.onCtrlAndZ},GridOptionsWrapper.prototype.getOnCtrlShiftAndZ=function(){return this.gridOptions.onCtrlShiftAndZ},GridOptionsWrapper.prototype.getOnVFreezebarDragEnd=function(){return this.gridOptions.onVFreezebarDragEnd},GridOptionsWrapper.prototype.getOnHFreezebarDragEnd=function(){return this.gridOptions.onHFreezebarDragEnd},GridOptionsWrapper.prototype.isSuppressMoveToPinning=function(){return this.gridOptions.suppressMoveToPinning},GridOptionsWrapper.prototype.isFloatingForInMemoryRowModel=function(){return this.gridOptions.isFloatingForInMemoryRowModel},GridOptionsWrapper.prototype.getRowDataForFloatingTopRows=function(){return this.gridOptions.rowDataForFloatingTopRows},GridOptionsWrapper.prototype.getPinnedRowsCount=function(){if(this.gridOptions.getPinnedRowsCount)return this.gridOptions.getPinnedRowsCount()},GridOptionsWrapper.prototype.setProperty=function(key,value){var gridOptionsNoType=this.gridOptions,previousValue=gridOptionsNoType[key];gridOptionsNoType[key]=value,this.propertyEventService.dispatchEvent(key,{currentValue:value,previousValue:previousValue})},GridOptionsWrapper.prototype.addEventListener=function(key,listener){this.propertyEventService.addEventListener(key,listener)},GridOptionsWrapper.prototype.removeEventListener=function(key,listener){this.propertyEventService.removeEventListener(key,listener)},GridOptionsWrapper.prototype.executeProcessRowPostCreateFunc=function(params){this.gridOptions.processRowPostCreate&&this.gridOptions.processRowPostCreate(params)},GridOptionsWrapper.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:25},GridOptionsWrapper.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},GridOptionsWrapper.prototype.doesExternalFilterPass=function(node){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(node)},GridOptionsWrapper.prototype.getLayoutInterval=function(){return"number"==typeof this.gridOptions.layoutInterval?this.gridOptions.layoutInterval:constants_1.Constants.LAYOUT_INTERVAL},GridOptionsWrapper.prototype.getMinColWidth=function(){return this.gridOptions.minColWidth>GridOptionsWrapper.MIN_COL_WIDTH?this.gridOptions.minColWidth:GridOptionsWrapper.MIN_COL_WIDTH},GridOptionsWrapper.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth>GridOptionsWrapper.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},GridOptionsWrapper.prototype.getMinFitColWidth=function(){return this.gridOptions.minFitColWidth<GridOptionsWrapper.MAX_COL_WIDTH?this.gridOptions.minFitColWidth:GridOptionsWrapper.MAX_COL_WIDTH},GridOptionsWrapper.prototype.getMaxFitColWidth=function(){return this.gridOptions.maxFitColWidth>=GridOptionsWrapper.MIN_COL_WIDTH?this.gridOptions.maxFitColWidth:GridOptionsWrapper.MIN_COL_WIDTH},GridOptionsWrapper.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<GridOptionsWrapper.MIN_COL_WIDTH?200:this.gridOptions.colWidth},GridOptionsWrapper.prototype.getRowBuffer=function(){return"number"==typeof this.gridOptions.rowBuffer?(0>this.gridOptions.rowBuffer&&console.warn("ag-Grid: rowBuffer should not be negative"),this.gridOptions.rowBuffer):constants_1.Constants.ROW_BUFFER_SIZE},GridOptionsWrapper.prototype.checkForDeprecated=function(){var options=this.gridOptions;options.suppressUnSort&&console.warn("ag-grid: as of v1.12.4 suppressUnSort is not used. Please use sortOrder instead."),options.suppressDescSort&&console.warn("ag-grid: as of v1.12.4 suppressDescSort is not used. Please use sortOrder instead."),options.groupAggFields&&console.warn("ag-grid: as of v3 groupAggFields is not used. Please add appropriate agg fields to your columns."),options.groupHidePivotColumns&&console.warn("ag-grid: as of v3 groupHidePivotColumns is not used as pivot columns are now called rowGroup columns. Please refer to the documentation"),options.groupKeys&&console.warn("ag-grid: as of v3 groupKeys is not used. You need to set rowGroupIndex on the columns to group. Please refer to the documentation"),(options.ready||options.onReady)&&console.warn("ag-grid: as of v3.3 ready event is now called gridReady, so the callback should be onGridReady"),"boolean"==typeof options.groupDefaultExpanded&&console.warn("ag-grid: groupDefaultExpanded can no longer be boolean. for groupDefaultExpanded=true, use groupDefaultExpanded=9999 instead, to expand all the groups"),(options.onRowDeselected||options.rowDeselected)&&console.warn("ag-grid: since version 3.4 event rowDeselected no longer exists, please check the docs"),options.rowsAlreadyGrouped&&console.warn("ag-grid: since version 3.4 rowsAlreadyGrouped no longer exists, please use getNodeChildDetails() instead"),options.groupAggFunction&&console.warn("ag-grid: since version 4.3.x groupAggFunction is now called groupRowAggNodes")},GridOptionsWrapper.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var that=this;return function(key,defaultValue){var localeText=that.gridOptions.localeText;return localeText&&localeText[key]?localeText[key]:defaultValue}},GridOptionsWrapper.prototype.globalEventHandler=function(eventName,event){var callbackMethodName=componentUtil_1.ComponentUtil.getCallbackForEvent(eventName);"function"==typeof this.gridOptions[callbackMethodName]&&this.gridOptions[callbackMethodName](event)},GridOptionsWrapper.prototype.getRowHeightAsNumber=function(){var rowHeight=this.gridOptions.rowHeight;return utils_1.Utils.missing(rowHeight)?this.getDefaultRowHeight():"number"==typeof this.gridOptions.rowHeight?this.gridOptions.rowHeight:(console.warn("ag-Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},GridOptionsWrapper.prototype.getRowHeightForNode=function(rowNode,rowIndex){if("function"==typeof this.gridOptions.getRowHeight){var params={node:rowNode,data:rowNode.data,api:this.gridOptions.api,context:this.gridOptions.context,rowIndex:rowIndex};return this.gridOptions.getRowHeight(params)}return"number"==typeof this.gridOptions.rowHeight?this.gridOptions.rowHeight:this.getDefaultRowHeight()},GridOptionsWrapper.MAX_COL_WIDTH=2e3,GridOptionsWrapper.MIN_COL_WIDTH=10,GridOptionsWrapper.PROP_HEADER_HEIGHT="headerHeight",__decorate([context_1.Autowired("gridOptions"),__metadata("design:type",Object)],GridOptionsWrapper.prototype,"gridOptions",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],GridOptionsWrapper.prototype,"columnController",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],GridOptionsWrapper.prototype,"eventService",void 0),__decorate([context_1.Autowired("enterprise"),__metadata("design:type",Boolean)],GridOptionsWrapper.prototype,"enterprise",void 0),__decorate([context_1.Autowired("frameworkFactory"),__metadata("design:type",Object)],GridOptionsWrapper.prototype,"frameworkFactory",void 0),__decorate([__param(0,context_1.Qualifier("gridApi")),__param(1,context_1.Qualifier("columnApi")),__metadata("design:type",Function),__metadata("design:paramtypes",[gridApi_1.GridApi,columnController_1.ColumnApi]),__metadata("design:returntype",void 0)],GridOptionsWrapper.prototype,"agWire",null),__decorate([context_1.PreDestroy,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],GridOptionsWrapper.prototype,"destroy",null),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],GridOptionsWrapper.prototype,"init",null),GridOptionsWrapper=__decorate([context_1.Bean("gridOptionsWrapper"),__metadata("design:paramtypes",[])],GridOptionsWrapper),GridOptionsWrapper}();exports.GridOptionsWrapper=GridOptionsWrapper},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},logger_1=__webpack_require__(7),utils_1=__webpack_require__(9),context_1=__webpack_require__(8),context_2=__webpack_require__(8),EventService=function(){function EventService(){this.allListeners={},this.globalListeners=[]}return EventService.prototype.agWire=function(loggerFactory,globalEventListener){void 0===globalEventListener&&(globalEventListener=null),this.logger=loggerFactory.create("EventService"),globalEventListener&&this.addGlobalListener(globalEventListener)},EventService.prototype.getListenerList=function(eventType){var listenerList=this.allListeners[eventType];return listenerList||(listenerList=[],this.allListeners[eventType]=listenerList),listenerList},EventService.prototype.addEventListener=function(eventType,listener){var listenerList=this.getListenerList(eventType);0>listenerList.indexOf(listener)&&listenerList.push(listener)},EventService.prototype.addModalPriorityEventListener=function(eventType,listener){this.addEventListener(eventType+EventService.PRIORITY,listener)},EventService.prototype.addGlobalListener=function(listener){this.globalListeners.push(listener)},EventService.prototype.removeEventListener=function(eventType,listener){var listenerList=this.getListenerList(eventType);utils_1.Utils.removeFromArray(listenerList,listener)},EventService.prototype.removeGlobalListener=function(listener){utils_1.Utils.removeFromArray(this.globalListeners,listener)},EventService.prototype.dispatchEvent=function(eventType,event){event||(event={});var p1ListenerList=this.getListenerList(eventType+EventService.PRIORITY);p1ListenerList.forEach(function(listener){listener(event)});var listenerList=this.getListenerList(eventType);listenerList.forEach(function(listener){listener(event)}),this.globalListeners.forEach(function(listener){listener(eventType,event)})},EventService.PRIORITY="-P1",__decorate([__param(0,context_2.Qualifier("loggerFactory")),__param(1,context_2.Qualifier("globalEventListener")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory,Function]),__metadata("design:returntype",void 0)],EventService.prototype,"agWire",null),EventService=__decorate([context_1.Bean("eventService"),__metadata("design:paramtypes",[])],EventService),EventService}();exports.EventService=EventService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},gridOptionsWrapper_1=__webpack_require__(5),context_1=__webpack_require__(8),context_2=__webpack_require__(8),LoggerFactory=function(){function LoggerFactory(){}return LoggerFactory.prototype.setBeans=function(gridOptionsWrapper){this.logging=gridOptionsWrapper.isDebug()},LoggerFactory.prototype.create=function(name){return new Logger(name,this.logging)},__decorate([__param(0,context_2.Qualifier("gridOptionsWrapper")),__metadata("design:type",Function),__metadata("design:paramtypes",[gridOptionsWrapper_1.GridOptionsWrapper]),__metadata("design:returntype",void 0)],LoggerFactory.prototype,"setBeans",null),LoggerFactory=__decorate([context_1.Bean("loggerFactory"),__metadata("design:paramtypes",[])],LoggerFactory),LoggerFactory}();exports.LoggerFactory=LoggerFactory;var Logger=function(){function Logger(name,logging){this.name=name,this.logging=logging}return Logger.prototype.log=function(message){this.logging&&console.log("ag-Grid."+this.name+": "+message)},Logger}();exports.Logger=Logger},function(module,exports,__webpack_require__){function applyToConstructor(constructor,argArray){var args=[null].concat(argArray),factoryFunction=constructor.bind.apply(constructor,args);return new factoryFunction}function autowiredFunc(name,optional,classPrototype,methodOrAttributeName,index){if(null===name)return void console.error("ag-Grid: Autowired name should not be null");if("number"==typeof index)return void console.error("ag-Grid: Autowired should be on an attribute");var props=getOrCreateProps(classPrototype);props.agClassAttributes||(props.agClassAttributes=[]),props.agClassAttributes.push({attributeName:methodOrAttributeName,beanName:name,optional:optional})}function getOrCreateProps(target){var props=target.__agBeanMetaData;return props||(props={},target.__agBeanMetaData=props),props}var utils_1=__webpack_require__(9),logger_1=__webpack_require__(7),Context=function(){function Context(params){if(this.beans={},this.componentsMappedByName={},this.destroyed=!1,params&&params.beans){this.contextParams=params,this.logger=new logger_1.Logger("Context",this.contextParams.debug),this.logger.log(">> creating ag-Application Context"),this.setupComponents(),this.createBeans();var beans=utils_1.Utils.mapObject(this.beans,function(beanEntry){return beanEntry.beanInstance});this.wireBeans(beans),this.logger.log(">> ag-Application Context ready - component is alive")}}return Context.prototype.setupComponents=function(){var _this=this;this.contextParams.components&&this.contextParams.components.forEach(function(componentMeta){return _this.addComponent(componentMeta)})},Context.prototype.addComponent=function(componentMeta){var classEscaped=componentMeta.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),classUpperCase=classEscaped.toUpperCase();this.componentsMappedByName[classUpperCase]=componentMeta.theClass},Context.prototype.createComponent=function(element){var key=element.nodeName;if(this.componentsMappedByName&&this.componentsMappedByName[key]){var newComponent=new this.componentsMappedByName[key];return this.copyAttributesFromNode(element,newComponent.getGui()),this.wireBean(newComponent),newComponent}return null},Context.prototype.copyAttributesFromNode=function(fromNode,toNode){if(fromNode.attributes)for(var count=fromNode.attributes.length,i=0,attr;i<count;i++)attr=fromNode.attributes[i],toNode.setAttribute(attr.name,attr.value)},Context.prototype.wireBean=function(bean){this.wireBeans([bean])},Context.prototype.wireBeans=function(beans){this.autoWireBeans(beans),this.methodWireBeans(beans),this.postConstruct(beans)},Context.prototype.createBeans=function(){var _this=this;this.contextParams.beans.forEach(this.createBeanEntry.bind(this)),this.contextParams.overrideBeans&&this.contextParams.overrideBeans.forEach(this.createBeanEntry.bind(this)),utils_1.Utils.iterateObject(this.beans,function(key,beanEntry){var constructorParamsMeta;beanEntry.bean.prototype.__agBeanMetaData&&beanEntry.bean.prototype.__agBeanMetaData.autowireMethods&&beanEntry.bean.prototype.__agBeanMetaData.autowireMethods.agConstructor&&(constructorParamsMeta=beanEntry.bean.prototype.__agBeanMetaData.autowireMethods.agConstructor);var constructorParams=_this.getBeansForParameters(constructorParamsMeta,beanEntry.beanName),newInstance=applyToConstructor(beanEntry.bean,constructorParams);beanEntry.beanInstance=newInstance,_this.logger.log("bean "+_this.getBeanName(newInstance)+" created")})},Context.prototype.createBeanEntry=function(Bean){var metaData=Bean.prototype.__agBeanMetaData;if(!metaData){var beanName;return beanName=Bean.prototype.constructor?Bean.prototype.constructor.name:""+Bean,void console.error("context item "+beanName+" is not a bean")}var beanEntry={bean:Bean,beanInstance:null,beanName:metaData.beanName};this.beans[metaData.beanName]=beanEntry},Context.prototype.autoWireBeans=function(beans){var _this=this;beans.forEach(function(bean){return _this.autoWireBean(bean)})},Context.prototype.methodWireBeans=function(beans){var _this=this;beans.forEach(function(bean){return _this.methodWireBean(bean)})},Context.prototype.autoWireBean=function(bean){var _this=this;if(bean&&bean.__agBeanMetaData&&bean.__agBeanMetaData.agClassAttributes){var attributes=bean.__agBeanMetaData.agClassAttributes;if(attributes){var beanName=this.getBeanName(bean);attributes.forEach(function(attribute){var otherBean=_this.lookupBeanInstance(beanName,attribute.beanName,attribute.optional);bean[attribute.attributeName]=otherBean})}}},Context.prototype.getBeanName=function(bean){var constructorString=bean.constructor.toString(),beanName=constructorString.substring(9,constructorString.indexOf("("));return beanName},Context.prototype.methodWireBean=function(bean){var _this=this,autowiredMethods;bean.__agBeanMetaData&&(autowiredMethods=bean.__agBeanMetaData.autowireMethods),utils_1.Utils.iterateObject(autowiredMethods,function(methodName,wireParams){if("agConstructor"!==methodName){var beanName=_this.getBeanName(bean),initParams=_this.getBeansForParameters(wireParams,beanName);bean[methodName].apply(bean,initParams)}})},Context.prototype.getBeansForParameters=function(parameters,beanName){var _this=this,beansList=[];return parameters&&utils_1.Utils.iterateObject(parameters,function(paramIndex,otherBeanName){var otherBean=_this.lookupBeanInstance(beanName,otherBeanName);beansList[+paramIndex]=otherBean}),beansList},Context.prototype.lookupBeanInstance=function(wiringBean,beanName,optional){if(void 0===optional&&(optional=!1),"context"===beanName)return this;if(this.contextParams.seed&&this.contextParams.seed.hasOwnProperty(beanName))return this.contextParams.seed[beanName];var beanEntry=this.beans[beanName];return beanEntry?beanEntry.beanInstance:(optional||console.error("ag-Grid: unable to find bean reference "+beanName+" while initialising "+wiringBean),null)},Context.prototype.postConstruct=function(beans){beans.forEach(function(bean){bean.__agBeanMetaData&&bean.__agBeanMetaData.postConstructMethods&&bean.__agBeanMetaData.postConstructMethods.forEach(function(methodName){return bean[methodName]()})})},Context.prototype.getBean=function(name){return this.lookupBeanInstance("getBean",name,!0)},Context.prototype.destroy=function(){this.destroyed||(this.logger.log(">> Shutting down ag-Application Context"),utils_1.Utils.iterateObject(this.beans,function(key,beanEntry){var bean=beanEntry.beanInstance;bean.__agBeanMetaData&&bean.__agBeanMetaData.preDestroyMethods&&bean.__agBeanMetaData.preDestroyMethods.forEach(function(methodName){return bean[methodName]()})}),this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead"))},Context}();exports.Context=Context,exports.PostConstruct=function(target,methodName){var props=getOrCreateProps(target);props.postConstructMethods||(props.postConstructMethods=[]),props.postConstructMethods.push(methodName)},exports.PreDestroy=function(target,methodName){var props=getOrCreateProps(target);props.preDestroyMethods||(props.preDestroyMethods=[]),props.preDestroyMethods.push(methodName)},exports.Bean=function(beanName){return function(classConstructor){var props=getOrCreateProps(classConstructor.prototype);props.beanName=beanName}},exports.Autowired=function(name){return autowiredFunc.bind(this,name,!1)},exports.Optional=function(name){return autowiredFunc.bind(this,name,!0)},exports.Qualifier=function(name){return function(classPrototype,methodOrAttributeName,index){var props;if("number"==typeof index){var methodName;methodOrAttributeName?(props=getOrCreateProps(classPrototype),methodName=methodOrAttributeName):(props=getOrCreateProps(classPrototype.prototype),methodName="agConstructor"),props.autowireMethods||(props.autowireMethods={}),props.autowireMethods[methodName]||(props.autowireMethods[methodName]={}),props.autowireMethods[methodName][index]=name}}}},function(module,exports){var FUNCTION_STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,FUNCTION_ARGUMENT_NAMES=/([^\s,]+)/g,Timer=function(){function Timer(){this.timestamp=new Date().getTime()}return Timer.prototype.print=function(msg){var duration=new Date().getTime()-this.timestamp;console.log(msg+" = "+duration),this.timestamp=new Date().getTime()},Timer}();exports.Timer=Timer;var Utils=function(){function Utils(){}return Utils.getNameOfClass=function(TheClass){var funcNameRegex=/function (.{1,})\(/,funcAsString=TheClass.toString(),results=funcNameRegex.exec(funcAsString);return results&&1<results.length?results[1]:""},Utils.values=function(object){var result=[];return this.iterateObject(object,function(key,value){result.push(value)}),result},Utils.getValueUsingField=function(data,field,fieldContainsDots){if(field&&data){if(!fieldContainsDots)return data[field];for(var fields=field.split("."),currentObject=data,i=0;i<fields.length;i++)if(currentObject=currentObject[fields[i]],this.missing(currentObject))return null;return currentObject}},Utils.iterateObject=function(object,callback){if(!this.missing(object))for(var keys=Object.keys(object),i=0;i<keys.length;i++){var key=keys[i],value=object[key];callback(key,value)}},Utils.cloneObject=function(object){for(var copy={},keys=Object.keys(object),i=0;i<keys.length;i++){var key=keys[i],value=object[key];copy[key]=value}return copy},Utils.map=function(array,callback){for(var result=[],i=0;i<array.length;i++){var item=array[i],mappedItem=callback(item);result.push(mappedItem)}return result},Utils.mapObject=function(object,callback){var result=[];return Utils.iterateObject(object,function(key,value){result.push(callback(value))}),result},Utils.forEach=function(array,callback){if(array)for(var i=0,value;i<array.length;i++)value=array[i],callback(value,i)},Utils.filter=function(array,callback){var result=[];return array.forEach(function(item){callback(item)&&result.push(item)}),result},Utils.assign=function(object,source){this.exists(source)&&this.iterateObject(source,function(key,value){object[key]=value})},Utils.contains=function(arr,v){for(var i=0;i<arr.length;i++)if(arr[i]===v)return!0;return!1},Utils.unique=function(arr){for(var result=[],i=0;i<arr.length;i++)this.contains(result,arr[i])||result.push(arr[i]);return result},Utils.getFunctionParameters=function(func){var fnStr=func.toString().replace(FUNCTION_STRIP_COMMENTS,""),result=fnStr.slice(fnStr.indexOf("(")+1,fnStr.indexOf(")")).match(FUNCTION_ARGUMENT_NAMES);return null===result?[]:result},Utils.find=function(collection,predicate,value){if(null===collection||void 0===collection)return null;for(var i=0,firstMatchingItem,item;i<collection.length;i++)if(item=collection[i],"string"!=typeof predicate){if(predicate(item)){firstMatchingItem=item;break}}else if(item[predicate]===value){firstMatchingItem=item;break}return firstMatchingItem},Utils.toStrings=function(array){return this.map(array,function(item){return void 0!==item&&null!==item&&item.toString?item.toString():null})},Utils.iterateArray=function(array,callback){for(var index=0,value;index<array.length;index++)value=array[index],callback(value,index)},Utils.isNode=function(o){return"function"==typeof Node?o instanceof Node:o&&"object"===("undefined"==typeof o?"undefined":_typeof2(o))&&"number"==typeof o.nodeType&&"string"==typeof o.nodeName},Utils.isElement=function(o){return"function"==typeof HTMLElement?o instanceof HTMLElement:o&&"object"===("undefined"==typeof o?"undefined":_typeof2(o))&&null!==o&&1===o.nodeType&&"string"==typeof o.nodeName},Utils.isNodeOrElement=function(o){return this.isNode(o)||this.isElement(o)},Utils.addChangeListener=function(element,listener){element.addEventListener("changed",listener),element.addEventListener("paste",listener),element.addEventListener("input",listener),element.addEventListener("keydown",listener),element.addEventListener("keyup",listener)},Utils.makeNull=function(value){return null===value||void 0===value||""===value?null:value},Utils.missing=function(value){return!this.exists(value)},Utils.missingOrEmpty=function(value){return this.missing(value)||0===value.length},Utils.exists=function(value){return null!==value&&void 0!==value&&""!==value},Utils.existsAndNotEmpty=function(value){return this.exists(value)&&0<value.length},Utils.removeAllChildren=function(node){if(node)for(;node.hasChildNodes();)node.removeChild(node.lastChild)},Utils.getClosest=function(el,selector){if("string"==typeof selector)for(var matches=el.webkitMatchesSelector?"webkitMatchesSelector":el.msMatchesSelector?"msMatchesSelector":"matches";el.parentElement;){if(el[matches](selector))return el;el=el.parentElement}},Utils.removeElement=function(parent,cssSelector){this.removeFromParent(parent.querySelector(cssSelector))},Utils.removeFromParent=function(node){node&&node.parentNode&&node.parentNode.removeChild(node)},Utils.isVisible=function(element){return null!==element.offsetParent},Utils.loadTemplate=function(template){var tempDiv=document.createElement("div");return tempDiv.innerHTML=template,tempDiv.firstChild},Utils.addOrRemoveCssClass=function(element,className,addOrRemove){addOrRemove?this.addCssClass(element,className):this.removeCssClass(element,className)},Utils.callIfPresent=function(func){func&&func()},Utils.addCssClass=function(element,className){var _this=this;if(className&&0!==className.length){if(0<=className.indexOf(" "))return void className.split(" ").forEach(function(value){return _this.addCssClass(element,value)});if(element.classList)element.classList.add(className);else if(element.className&&0<element.className.length){var cssClasses=element.className.split(" ");0>cssClasses.indexOf(className)&&(cssClasses.push(className),element.className=cssClasses.join(" "))}else element.className=className}},Utils.containsClass=function(element,className){if(element.classList)return element.classList.contains(className);if(element.className){var onlyClass=element.className===className,contains=0<=element.className.indexOf(" "+className+" "),startsWithClass=0===element.className.indexOf(className+" "),endsWithClass=element.className.lastIndexOf(" "+className)===element.className.length-className.length-1;return onlyClass||contains||startsWithClass||endsWithClass}return!1},Utils.getElementAttribute=function(element,attributeName){if(element.attributes){if(element.attributes[attributeName]){var attribute=element.attributes[attributeName];return attribute.value}return null}return null},Utils.offsetHeight=function(element){return element&&element.clientHeight?element.clientHeight:0},Utils.offsetWidth=function(element){return element&&element.clientWidth?element.clientWidth:0},Utils.removeCssClass=function(element,className){if(element.className&&0<element.className.length){var cssClasses=element.className.split(" "),index=cssClasses.indexOf(className);0<=index&&(cssClasses.splice(index,1),element.className=cssClasses.join(" "))}},Utils.removeRepeatsFromArray=function(array,object){if(array)for(var index=array.length-2;0<=index;index--){var thisOneMatches=array[index]===object,nextOneMatches=array[index+1]===object;thisOneMatches&&nextOneMatches&&array.splice(index+1,1)}},Utils.removeFromArray=function(array,object){0<=array.indexOf(object)&&array.splice(array.indexOf(object),1)},Utils.insertIntoArray=function(array,object,toIndex){array.splice(toIndex,0,object)},Utils.moveInArray=function(array,objectsToMove,toIndex){var _this=this;objectsToMove.forEach(function(obj){_this.removeFromArray(array,obj)}),objectsToMove.slice().reverse().forEach(function(obj){_this.insertIntoArray(array,obj,toIndex)})},Utils.defaultComparator=function(valueA,valueB){var valueAMissing=null===valueA||void 0===valueA,valueBMissing=null===valueB||void 0===valueB;if(valueAMissing&&valueBMissing)return 0;if(valueAMissing)return-1;if(valueBMissing)return 1;if("string"==typeof valueA)try{return valueA.localeCompare(valueB)}catch(e){}return valueA<valueB?-1:valueA>valueB?1:0},Utils.compareArrays=function(array1,array2){if(this.missing(array1)&&this.missing(array2))return!0;if(this.missing(array1)||this.missing(array2))return!1;if(array1.length!==array2.length)return!1;for(var i=0;i<array1.length;i++)if(array1[i]!==array2[i])return!1;return!0},Utils.toStringOrNull=function(value){return this.exists(value)&&value.toString?value.toString():null},Utils.formatWidth=function(width){return"number"==typeof width?width+"px":width},Utils.formatNumberTwoDecimalPlacesAndCommas=function(value){return"number"==typeof value?(_Mathround6(100*value)/100).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):""},Utils.createIcon=function(iconName,gridOptionsWrapper,column,svgFactoryFunc){var eResult=document.createElement("span");return eResult.appendChild(this.createIconNoSpan(iconName,gridOptionsWrapper,column,svgFactoryFunc)),eResult},Utils.createIconNoSpan=function(iconName,gridOptionsWrapper,colDefWrapper,svgFactoryFunc){var userProvidedIcon;if(colDefWrapper&&colDefWrapper.getColDef().icons&&(userProvidedIcon=colDefWrapper.getColDef().icons[iconName]),!userProvidedIcon&&gridOptionsWrapper.getIcons()&&(userProvidedIcon=gridOptionsWrapper.getIcons()[iconName]),userProvidedIcon){var rendererResult;if("function"==typeof userProvidedIcon)rendererResult=userProvidedIcon();else if("string"==typeof userProvidedIcon)rendererResult=userProvidedIcon;else throw"icon from grid options needs to be a string or a function";if("string"==typeof rendererResult)return this.loadTemplate(rendererResult);if(this.isNodeOrElement(rendererResult))return rendererResult;throw"iconRenderer should return back a string or a dom object"}else return svgFactoryFunc?svgFactoryFunc():null},Utils.addStylesToElement=function(eElement,styles){styles&&Object.keys(styles).forEach(function(key){eElement.style[key]=styles[key]})},Utils.isScrollShowing=function(element){return element.clientHeight<element.scrollHeight},Utils.getScrollbarWidth=function(){var outer=document.createElement("div");outer.style.visibility="hidden",outer.style.width="100px",outer.style.msOverflowStyle="scrollbar",document.body.appendChild(outer);var widthNoScroll=outer.offsetWidth;outer.style.overflow="scroll";var inner=document.createElement("div");inner.style.width="100%",outer.appendChild(inner);var widthWithScroll=inner.offsetWidth;return outer.parentNode.removeChild(outer),widthNoScroll-widthWithScroll},Utils.isKeyPressed=function(event,keyToCheck){var pressedKey=event.which||event.keyCode;return pressedKey===keyToCheck},Utils.isRightMouseButton=function(event){return"which"in event?3==event.which:"button"in event?2==event.button:void 0},Utils.setVisible=function(element,visible,visibleStyle){element.style.display=visible?this.exists(visibleStyle)?visibleStyle:"inline":"none"},Utils.isBrowserIE=function(){return void 0===this.isIE&&(this.isIE=!!document.documentMode),this.isIE},Utils.isBrowserSafari=function(){return void 0===this.isSafari&&(this.isSafari=0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")),this.isSafari},Utils.getTarget=function(event){var eventNoType=event;return eventNoType.target||eventNoType.srcElement},Utils.getBodyWidth=function(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1},Utils.getBodyHeight=function(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1},Utils.setCheckboxState=function(eCheckbox,state){"boolean"==typeof state?(eCheckbox.checked=state,eCheckbox.indeterminate=!1):eCheckbox.indeterminate=!0},Utils.traverseNodesWithKey=function(nodes,callback){function recursiveSearchNodes(nodes){nodes.forEach(function(node){if(node.group){keyParts.push(node.key);var key=keyParts.join("|");callback(node,key),recursiveSearchNodes(node.childrenAfterGroup),keyParts.pop()}})}var keyParts=[];recursiveSearchNodes(nodes)},Utils.normalizeWheel=function(event){var PIXEL_STEP=10,LINE_HEIGHT=40,PAGE_HEIGHT=800,sX=0,sY=0,pX=0,pY=0;return"detail"in event&&(sY=event.detail),"wheelDelta"in event&&(sY=-event.wheelDelta/120),"wheelDeltaY"in event&&(sY=-event.wheelDeltaY/120),"wheelDeltaX"in event&&(sX=-event.wheelDeltaX/120),"axis"in event&&event.axis===event.HORIZONTAL_AXIS&&(sX=sY,sY=0),pX=sX*PIXEL_STEP,pY=sY*PIXEL_STEP,"deltaY"in event&&(pY=event.deltaY),"deltaX"in event&&(pX=event.deltaX),(pX||pY)&&event.deltaMode&&(1==event.deltaMode?(pX*=LINE_HEIGHT,pY*=LINE_HEIGHT):(pX*=PAGE_HEIGHT,pY*=PAGE_HEIGHT)),pX&&!sX&&(sX=1>pX?-1:1),pY&&!sY&&(sY=1>pY?-1:1),{spinX:sX,spinY:sY,pixelX:pX,pixelY:pY}},Utils}();exports.Utils=Utils;var NumberSequence=function(){function NumberSequence(){this.nextValue=0}return NumberSequence.prototype.next=function(){var valToReturn=this.nextValue;return this.nextValue++,valToReturn},NumberSequence}();exports.NumberSequence=NumberSequence},function(module,exports){var Constants=function(){function Constants(){}return Constants.STEP_EVERYTHING=0,Constants.STEP_FILTER=1,Constants.STEP_SORT=2,Constants.STEP_MAP=3,Constants.STEP_AGGREGATE=4,Constants.STEP_PIVOT=5,Constants.ROW_BUFFER_SIZE=10,Constants.LAYOUT_INTERVAL=500,Constants.KEY_BACKSPACE=8,Constants.KEY_TAB=9,Constants.KEY_ENTER=13,Constants.KEY_SHIFT=16,Constants.KEY_ESCAPE=27,Constants.KEY_SPACE=32,Constants.KEY_LEFT=37,Constants.KEY_UP=38,Constants.KEY_RIGHT=39,Constants.KEY_DOWN=40,Constants.KEY_DELETE=46,Constants.KEY_A=65,Constants.KEY_C=67,Constants.KEY_V=86,Constants.KEY_D=68,Constants.KEY_Z=90,Constants.KEY_F2=113,Constants.ROW_MODEL_TYPE_PAGINATION="pagination",Constants.ROW_MODEL_TYPE_VIRTUAL="virtual",Constants.ROW_MODEL_TYPE_VIEWPORT="viewport",Constants.ROW_MODEL_TYPE_NORMAL="normal",Constants.ALWAYS="always",Constants.ONLY_WHEN_GROUPING="onlyWhenGrouping",Constants.FLOATING_TOP="top",Constants.FLOATING_BOTTOM="bottom",Constants}();exports.Constants=Constants},function(module,exports,__webpack_require__){function checkForDeprecated(changes){(changes.ready||changes.onReady)&&console.warn("ag-grid: as of v3.3 ready event is now called gridReady, so the callback should be onGridReady"),(changes.rowDeselected||changes.onRowDeselected)&&console.warn("ag-grid: as of v3.4 rowDeselected no longer exists. Please check the docs.")}var events_1=__webpack_require__(12),utils_1=__webpack_require__(9),ComponentUtil=function(){function ComponentUtil(){}return ComponentUtil.getEventCallbacks=function(){return ComponentUtil.EVENT_CALLBACKS||(ComponentUtil.EVENT_CALLBACKS=[],ComponentUtil.EVENTS.forEach(function(eventName){ComponentUtil.EVENT_CALLBACKS.push(ComponentUtil.getCallbackForEvent(eventName))})),ComponentUtil.EVENT_CALLBACKS},ComponentUtil.copyAttributesToGridOptions=function(gridOptions,component){checkForDeprecated(component),"object"!==("undefined"==typeof gridOptions?"undefined":_typeof2(gridOptions))&&(gridOptions={});var pGridOptions=gridOptions;return ComponentUtil.ARRAY_PROPERTIES.concat(ComponentUtil.STRING_PROPERTIES).concat(ComponentUtil.OBJECT_PROPERTIES).concat(ComponentUtil.FUNCTION_PROPERTIES).forEach(function(key){"undefined"!=typeof component[key]&&(pGridOptions[key]=component[key])}),ComponentUtil.BOOLEAN_PROPERTIES.forEach(function(key){"undefined"!=typeof component[key]&&(pGridOptions[key]=ComponentUtil.toBoolean(component[key]))}),ComponentUtil.NUMBER_PROPERTIES.forEach(function(key){"undefined"!=typeof component[key]&&(pGridOptions[key]=ComponentUtil.toNumber(component[key]))}),ComponentUtil.getEventCallbacks().forEach(function(funcName){"undefined"!=typeof component[funcName]&&(pGridOptions[funcName]=component[funcName])}),gridOptions},ComponentUtil.getCallbackForEvent=function(eventName){return!eventName||2>eventName.length?eventName:"on"+eventName[0].toUpperCase()+eventName.substr(1)},ComponentUtil.processOnChange=function(changes,gridOptions,api,columnApi){if(changes){checkForDeprecated(changes);var pGridOptions=gridOptions;ComponentUtil.ARRAY_PROPERTIES.concat(ComponentUtil.OBJECT_PROPERTIES).concat(ComponentUtil.STRING_PROPERTIES).forEach(function(key){changes[key]&&(pGridOptions[key]=changes[key].currentValue)}),ComponentUtil.BOOLEAN_PROPERTIES.forEach(function(key){changes[key]&&(pGridOptions[key]=ComponentUtil.toBoolean(changes[key].currentValue))}),ComponentUtil.NUMBER_PROPERTIES.forEach(function(key){changes[key]&&(pGridOptions[key]=ComponentUtil.toNumber(changes[key].currentValue))}),ComponentUtil.getEventCallbacks().forEach(function(funcName){changes[funcName]&&(pGridOptions[funcName]=changes[funcName].currentValue)}),changes.showToolPanel&&api.showToolPanel(ComponentUtil.toBoolean(changes.showToolPanel.currentValue)),changes.quickFilterText&&api.setQuickFilter(changes.quickFilterText.currentValue),changes.rowData&&api.setRowData(changes.rowData.currentValue),changes.floatingTopRowData&&api.setFloatingTopRowData(changes.floatingTopRowData.currentValue),changes.floatingBottomRowData&&api.setFloatingBottomRowData(changes.floatingBottomRowData.currentValue),changes.columnDefs&&api.setColumnDefs(changes.columnDefs.currentValue),changes.datasource&&api.setDatasource(changes.datasource.currentValue),changes.headerHeight&&api.setHeaderHeight(ComponentUtil.toNumber(changes.headerHeight.currentValue)),changes.pivotMode&&columnApi.setPivotMode(ComponentUtil.toBoolean(changes.pivotMode.currentValue))}},ComponentUtil.toBoolean=function(value){return"boolean"==typeof value?value:"string"==typeof value&&("TRUE"===value.toUpperCase()||""==value)},ComponentUtil.toNumber=function(value){return"number"==typeof value?value:"string"==typeof value?+value:void 0},ComponentUtil.EVENTS=[],ComponentUtil.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","headerCellTemplate","quickFilterText","rowModelType"],ComponentUtil.OBJECT_PROPERTIES=["rowStyle","context","groupColumnDef","localeText","icons","datasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams"],ComponentUtil.ARRAY_PROPERTIES=["slaveGrids","rowData","floatingTopRowData","floatingBottomRowData","columnDefs"],ComponentUtil.NUMBER_PROPERTIES=["rowHeight","rowBuffer","colWidth","headerHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","layoutInterval","autoSizePadding","maxPagesInCache","maxConcurrentDatasourceRequests","paginationOverflowSize","paginationPageSize","paginationInitialRowCount"],ComponentUtil.BOOLEAN_PROPERTIES=["toolPanelSuppressRowGroups","toolPanelSuppressValues","toolPanelSuppressPivots","toolPanelSuppressPivotMode","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","debug","enableColResize","enableCellExpressions","enableSorting","enableServerSideSorting","enableFilter","enableServerSideFilter","angularCompileRows","angularCompileFilters","angularCompileHeaders","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupUseEntireRow","groupSuppressRow","groupSuppressBlankHeader","forPrint","suppressMenuHide","rowDeselection","unSortIcon","suppressMultiSort","suppressScrollLag","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","suppressParentsInRowNodes","showToolPanel","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","suppressEnterprise","rowGroupPanelShow","pivotPanelShow","suppressContextMenu","suppressMenuFilterPanel","suppressMenuMainPanel","suppressMenuColumnPanel","enableStatusBar","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressUseColIdForGroups","suppressCopyRowsToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly"],ComponentUtil.FUNCTION_PROPERTIES=["headerCellRenderer","localeTextFunc","groupRowInnerRenderer","groupRowRenderer","isScrollLag","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getHeaderCellTemplate","traverseNode","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getNodeChildDetails","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","doesDataFlower"],ComponentUtil.ALL_PROPERTIES=ComponentUtil.ARRAY_PROPERTIES.concat(ComponentUtil.OBJECT_PROPERTIES).concat(ComponentUtil.STRING_PROPERTIES).concat(ComponentUtil.NUMBER_PROPERTIES).concat(ComponentUtil.FUNCTION_PROPERTIES).concat(ComponentUtil.BOOLEAN_PROPERTIES),ComponentUtil}();exports.ComponentUtil=ComponentUtil,utils_1.Utils.iterateObject(events_1.Events,function(key,value){ComponentUtil.EVENTS.push(value)})},function(module,exports){var Events=function(){function Events(){}return Events.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",Events.EVENT_HEADER_CLICK="headerClick",Events.EVENT_HEADER_RIGHT_CLICK="headerRightClick",Events.EVENT_HEADER_HOVER="headerHover",Events.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",Events.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",Events.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",Events.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",Events.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",Events.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",Events.EVENT_COLUMN_MOVED="columnMoved",Events.EVENT_COLUMN_VISIBLE="columnVisible",Events.EVENT_COLUMN_PINNED="columnPinned",Events.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",Events.EVENT_COLUMN_RESIZED="columnResized",Events.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",Events.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",Events.EVENT_ROW_GROUP_OPENED="rowGroupOpened",Events.EVENT_ROW_DATA_CHANGED="rowDataChanged",Events.EVENT_FLOATING_ROW_DATA_CHANGED="floatingRowDataChanged",Events.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",Events.EVENT_COLUMN_ROW_GROUP_ADD_REQUEST="columnRowGroupAddRequest",Events.EVENT_COLUMN_ROW_GROUP_REMOVE_REQUEST="columnRowGroupRemoveRequest",Events.EVENT_COLUMN_PIVOT_ADD_REQUEST="columnPivotAddRequest",Events.EVENT_COLUMN_PIVOT_REMOVE_REQUEST="columnPivotRemoveRequest",Events.EVENT_COLUMN_VALUE_ADD_REQUEST="columnValueAddRequest",Events.EVENT_COLUMN_VALUE_REMOVE_REQUEST="columnValueRemoveRequest",Events.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",Events.EVENT_FLASH_CELLS="clipboardPaste",Events.EVENT_MODEL_UPDATED="modelUpdated",Events.EVENT_CELL_CLICKED="cellClicked",Events.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",Events.EVENT_CELL_CONTEXT_MENU="cellContextMenu",Events.EVENT_CELL_VALUE_CHANGED="cellValueChanged",Events.EVENT_CELL_FOCUSED="cellFocused",Events.EVENT_ROW_SELECTED="rowSelected",Events.EVENT_SELECTION_CHANGED="selectionChanged",Events.EVENT_BEFORE_FILTER_CHANGED="beforeFilterChanged",Events.EVENT_FILTER_CHANGED="filterChanged",Events.EVENT_AFTER_FILTER_CHANGED="afterFilterChanged",Events.EVENT_FILTER_MODIFIED="filterModified",Events.EVENT_BEFORE_SORT_CHANGED="beforeSortChanged",Events.EVENT_SORT_CHANGED="sortChanged",Events.EVENT_AFTER_SORT_CHANGED="afterSortChanged",Events.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",Events.EVENT_ROW_CLICKED="rowClicked",Events.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",Events.EVENT_GRID_READY="gridReady",Events.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",Events.EVENT_VIEWPORT_CHANGED="viewportChanged",Events.EVENT_DRAG_STARTED="dragStarted",Events.EVENT_DRAG_STOPPED="dragStopped",Events.EVENT_ITEMS_ADDED="itemsAdded",Events.EVENT_ITEMS_REMOVED="itemsRemoved",Events.EVENT_VERTICAL_FREEZEBAR_DRAG_START="verticalFreezebarDragStart",Events.EVENT_HORIZONTAL_FREEZEBAR_DRAG_START="horizontalFreezebarDragStart",Events}();exports.Events=Events},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},csvCreator_1=__webpack_require__(14),rowRenderer_1=__webpack_require__(25),headerRenderer_1=__webpack_require__(76),filterManager_1=__webpack_require__(45),columnController_1=__webpack_require__(15),selectionController_1=__webpack_require__(30),gridOptionsWrapper_1=__webpack_require__(5),gridPanel_1=__webpack_require__(26),valueService_1=__webpack_require__(31),masterSlaveService_1=__webpack_require__(27),eventService_1=__webpack_require__(6),floatingRowModel_1=__webpack_require__(28),constants_1=__webpack_require__(10),context_1=__webpack_require__(8),gridCore_1=__webpack_require__(47),sortController_1=__webpack_require__(44),paginationController_1=__webpack_require__(48),focusedCellController_1=__webpack_require__(38),gridCell_1=__webpack_require__(36),utils_1=__webpack_require__(9),cellRendererFactory_1=__webpack_require__(65),cellEditorFactory_1=__webpack_require__(58),GridApi=function(){function GridApi(){}return GridApi.prototype.init=function(){switch(this.rowModel.getType()){case constants_1.Constants.ROW_MODEL_TYPE_NORMAL:case constants_1.Constants.ROW_MODEL_TYPE_PAGINATION:this.inMemoryRowModel=this.rowModel;break;case constants_1.Constants.ROW_MODEL_TYPE_VIRTUAL:this.virtualPageRowModel=this.rowModel;}},GridApi.prototype.__getMasterSlaveService=function(){return this.masterSlaveService},GridApi.prototype.getFirstRenderedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},GridApi.prototype.getLastRenderedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},GridApi.prototype.getDataAsCsv=function(params){return this.csvCreator.getDataAsCsv(params)},GridApi.prototype.exportDataAsCsv=function(params){this.csvCreator.exportDataAsCsv(params)},GridApi.prototype.setDatasource=function(datasource){this.gridOptionsWrapper.isRowModelPagination()?this.paginationController.setDatasource(datasource):this.gridOptionsWrapper.isRowModelVirtual()?this.rowModel.setDatasource(datasource):console.warn("ag-Grid: you can only use a datasource when gridOptions.rowModelType is '"+constants_1.Constants.ROW_MODEL_TYPE_VIRTUAL+"' or '"+constants_1.Constants.ROW_MODEL_TYPE_PAGINATION+"'")},GridApi.prototype.setViewportDatasource=function(viewportDatasource){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(viewportDatasource):console.warn("ag-Grid: you can only use a datasource when gridOptions.rowModelType is '"+constants_1.Constants.ROW_MODEL_TYPE_VIEWPORT+"'")},GridApi.prototype.setRowData=function(rowData){this.gridOptionsWrapper.isRowModelDefault()?(this.selectionController.reset(),this.inMemoryRowModel.setRowData(rowData,!0)):console.log("cannot call setRowData unless using normal row model")},GridApi.prototype.setFloatingTopRowDataForInMemoryModel=function(rows){this.floatingRowModel.setFloatingTopRowDataForInMemoryModel(rows,!0)},GridApi.prototype.getTopLevelNodes=function(){return utils_1.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call getTopLevelNodes unless using normal row model"),this.inMemoryRowModel.getTopLevelNodes()},GridApi.prototype.getFloatingTopRowData=function(){return this.floatingRowModel.getFloatingTopRowData()},GridApi.prototype.setFloatingTopRowData=function(rows){this.floatingRowModel.setFloatingTopRowData(rows)},GridApi.prototype.setFloatingBottomRowData=function(rows){this.floatingRowModel.setFloatingBottomRowData(rows)},GridApi.prototype.getFloatingTopRowCount=function(){return this.floatingRowModel.getFloatingTopRowCount()},GridApi.prototype.getFloatingBottomRowCount=function(){return this.floatingRowModel.getFloatingBottomRowCount()},GridApi.prototype.getFloatingTopRow=function(index){return this.floatingRowModel.getFloatingTopRow(index)},GridApi.prototype.getFloatingBottomRow=function(index){return this.floatingRowModel.getFloatingBottomRow(index)},GridApi.prototype.setColumnDefs=function(colDefs){this.columnController.setColumnDefs(colDefs)},GridApi.prototype.refreshRows=function(rowNodes){this.rowRenderer.refreshRows(rowNodes)},GridApi.prototype.refreshCells=function(rowNodes,colIds,animate){void 0===animate&&(animate=!1),this.rowRenderer.refreshCells(rowNodes,colIds,animate)},GridApi.prototype.rowDataChanged=function(rows){this.rowRenderer.rowDataChanged(rows)},GridApi.prototype.refreshView=function(){this.rowRenderer.refreshView()},GridApi.prototype.setFunctionsReadOnly=function(readOnly){this.gridOptionsWrapper.setProperty("functionsReadOnly",readOnly)},GridApi.prototype.softRefreshView=function(){this.rowRenderer.softRefreshView()},GridApi.prototype.refreshGroupRows=function(){this.rowRenderer.refreshGroupRows()},GridApi.prototype.refreshHeader=function(){this.headerRenderer.refreshHeader()},GridApi.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},GridApi.prototype.isAdvancedFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},GridApi.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},GridApi.prototype.getModel=function(){return this.rowModel},GridApi.prototype.onGroupExpandedOrCollapsed=function(refreshFromIndex){utils_1.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call onGroupExpandedOrCollapsed unless using normal row model"),this.inMemoryRowModel.refreshModel(constants_1.Constants.STEP_MAP,refreshFromIndex),this.floatingRowModel.refreshTopModel(constants_1.Constants.STEP_MAP,refreshFromIndex)},GridApi.prototype.refreshInMemoryRowModel=function(){utils_1.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call refreshInMemoryRowModel unless using normal row model"),this.inMemoryRowModel.refreshModel(constants_1.Constants.STEP_EVERYTHING)},GridApi.prototype.expandAll=function(){utils_1.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call expandAll unless using normal row model"),this.inMemoryRowModel.expandOrCollapseAll(!0)},GridApi.prototype.collapseAll=function(){utils_1.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call collapseAll unless using normal row model"),this.inMemoryRowModel.expandOrCollapseAll(!1)},GridApi.prototype.addVirtualRowListener=function(eventName,rowIndex,callback){"string"!=typeof eventName&&console.log("ag-Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(eventName,rowIndex,callback)},GridApi.prototype.addRenderedRowListener=function(eventName,rowIndex,callback){"virtualRowRemoved"===eventName&&(console.log("ag-Grid: event virtualRowRemoved is deprecated, now called renderedRowRemoved"),eventName=""+""),"virtualRowSelected"===eventName&&console.log("ag-Grid: event virtualRowSelected is deprecated, to register for individual row "+"selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(eventName,rowIndex,callback)},GridApi.prototype.setQuickFilter=function(newFilter){this.filterManager.setQuickFilter(newFilter)},GridApi.prototype.selectIndex=function(index,tryMulti,suppressEvents){console.log("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),suppressEvents&&console.log("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.selectIndex(index,tryMulti)},GridApi.prototype.deselectIndex=function(index,suppressEvents){void 0===suppressEvents&&(suppressEvents=!1),console.log("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),suppressEvents&&console.log("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.deselectIndex(index)},GridApi.prototype.selectNode=function(node,tryMulti,suppressEvents){void 0===tryMulti&&(tryMulti=!1),void 0===suppressEvents&&(suppressEvents=!1),console.log("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),suppressEvents&&console.log("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),node.setSelectedParams({newValue:!0,clearSelection:!tryMulti})},GridApi.prototype.deselectNode=function(node,suppressEvents){void 0===suppressEvents&&(suppressEvents=!1),console.log("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),suppressEvents&&console.log("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),node.setSelectedParams({newValue:!1})},GridApi.prototype.selectAll=function(){this.selectionController.selectAllRowNodes()},GridApi.prototype.deselectAll=function(){this.selectionController.deselectAllRowNodes()},GridApi.prototype.recomputeAggregates=function(){utils_1.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call recomputeAggregates unless using normal row model"),this.inMemoryRowModel.refreshModel(constants_1.Constants.STEP_AGGREGATE)},GridApi.prototype.sizeColumnsToFit=function(){return this.gridOptionsWrapper.isForPrint()?void console.warn("ag-grid: sizeColumnsToFit does not work when forPrint=true"):void this.gridPanel.sizeColumnsToFit()},GridApi.prototype.showLoadingOverlay=function(){this.gridPanel.showLoadingOverlay()},GridApi.prototype.showNoRowsOverlay=function(){this.gridPanel.showNoRowsOverlay()},GridApi.prototype.hideOverlay=function(){this.gridPanel.hideOverlay()},GridApi.prototype.isNodeSelected=function(node){return console.log("ag-Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),node.isSelected()},GridApi.prototype.getSelectedNodesById=function(){return console.error("ag-Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},GridApi.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},GridApi.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},GridApi.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},GridApi.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},GridApi.prototype.ensureColIndexVisible=function(){console.warn("ag-Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},GridApi.prototype.ensureColumnVisible=function(key){this.gridPanel.ensureColumnVisible(key)},GridApi.prototype.ensureIndexVisible=function(index){this.gridPanel.ensureIndexVisible(index)},GridApi.prototype.ensureNodeVisible=function(comparator){this.gridCore.ensureNodeVisible(comparator)},GridApi.prototype.forEachLeafNode=function(callback){utils_1.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call forEachNodeAfterFilter unless using normal row model"),this.inMemoryRowModel.forEachLeafNode(callback)},GridApi.prototype.forEachNode=function(callback){this.rowModel.forEachNode(callback)},GridApi.prototype.forEachNodeAfterFilter=function(callback){utils_1.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call forEachNodeAfterFilter unless using normal row model"),this.inMemoryRowModel.forEachNodeAfterFilter(callback)},GridApi.prototype.forEachNodeAfterFilterAndSort=function(callback){utils_1.Utils.missing(this.inMemoryRowModel)&&console.log("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.inMemoryRowModel.forEachNodeAfterFilterAndSort(callback)},GridApi.prototype.getFilterApiForColDef=function(colDef){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterApi instead"),this.getFilterInstance(colDef)},GridApi.prototype.getFilterInstance=function(key){var column=this.columnController.getPrimaryColumn(key);if(column)return this.filterManager.getFilterComponent(column)},GridApi.prototype.getFilterApi=function(key){return console.warn("ag-Grid: getFilterApi is deprecated, use getFilterComponent instead"),this.getFilterInstance(key)},GridApi.prototype.destroyFilter=function(key){var column=this.columnController.getPrimaryColumn(key);if(column)return this.filterManager.destroyFilter(column)},GridApi.prototype.getColumnDef=function(key){var column=this.columnController.getPrimaryColumn(key);return column?column.getColDef():null},GridApi.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},GridApi.prototype.setSortModel=function(sortModel){this.sortController.setSortModel(sortModel)},GridApi.prototype.getSortModel=function(){return this.sortController.getSortModel()},GridApi.prototype.setFilterModel=function(model){this.filterManager.setFilterModel(model)},GridApi.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},GridApi.prototype.getFocusedCell=function(){return this.focusedCellController.getFocusedCell()},GridApi.prototype.setFocusedCell=function(rowIndex,colKey,floating){this.focusedCellController.setFocusedCell(rowIndex,colKey,floating,!0)},GridApi.prototype.clearFocusedCell=function(){this.focusedCellController.clearFocusedCell()},GridApi.prototype.setHeaderHeight=function(headerHeight){this.gridOptionsWrapper.setProperty(gridOptionsWrapper_1.GridOptionsWrapper.PROP_HEADER_HEIGHT,headerHeight)},GridApi.prototype.showToolPanel=function(show){this.gridCore.showToolPanel(show)},GridApi.prototype.isToolPanelShowing=function(){return this.gridCore.isToolPanelShowing()},GridApi.prototype.doLayout=function(){this.gridCore.doLayout()},GridApi.prototype.getValue=function(colKey,rowNode){var column=this.columnController.getPrimaryColumn(colKey);return this.valueService.getValue(column,rowNode)},GridApi.prototype.addEventListener=function(eventType,listener){this.eventService.addEventListener(eventType,listener)},GridApi.prototype.addGlobalListener=function(listener){this.eventService.addGlobalListener(listener)},GridApi.prototype.removeEventListener=function(eventType,listener){this.eventService.removeEventListener(eventType,listener)},GridApi.prototype.removeGlobalListener=function(listener){this.eventService.removeGlobalListener(listener)},GridApi.prototype.dispatchEvent=function(eventType,event){this.eventService.dispatchEvent(eventType,event)},GridApi.prototype.destroy=function(){this.context.destroy()},GridApi.prototype.resetQuickFilter=function(){this.rowModel.forEachNode(function(node){return node.quickFilterAggregateText=null})},GridApi.prototype.getRangeSelections=function(){return this.rangeController?this.rangeController.getCellRanges():(console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),null)},GridApi.prototype.getSelectedColumns=function(){return this.rangeController?this.rangeController.getSelectedColumns():(console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),null)},GridApi.prototype.addRangeSelection=function(rangeSelection){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.addRange(rangeSelection)},GridApi.prototype.clearRangeSelection=function(){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.clearSelection()},GridApi.prototype.copySelectedRowsToClipboard=function(includeHeader,columnKeys){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise");this.clipboardService.copySelectedRowsToClipboard(includeHeader,columnKeys)},GridApi.prototype.copySelectedRangeToClipboard=function(includeHeader){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(includeHeader)},GridApi.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copyRangeDown()},GridApi.prototype.showColumnMenuAfterButtonClick=function(colKey,buttonElement){var column=this.columnController.getPrimaryColumn(colKey);this.menuFactory.showMenuAfterButtonClick(column,buttonElement)},GridApi.prototype.showColumnMenuAfterMouseClick=function(colKey,mouseEvent){var column=this.columnController.getPrimaryColumn(colKey);this.menuFactory.showMenuAfterMouseEvent(column,mouseEvent)},GridApi.prototype.stopEditing=function(cancel){void 0===cancel&&(cancel=!1),this.rowRenderer.stopEditing(cancel)},GridApi.prototype.startEditingCell=function(params){var column=this.columnController.getGridColumn(params.colKey),gridCell=new gridCell_1.GridCell(params.rowIndex,null,column);this.rowRenderer.startEditingCell(gridCell,params.keyPress,params.charPress)},GridApi.prototype.addAggFunc=function(key,aggFunc){this.aggFuncService&&this.aggFuncService.addAggFunc(key,aggFunc)},GridApi.prototype.addAggFuncs=function(aggFuncs){this.aggFuncService&&this.aggFuncService.addAggFuncs(aggFuncs)},GridApi.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},GridApi.prototype.insertItemsAtIndex=function(index,items){this.rowModel.insertItemsAtIndex(index,items)},GridApi.prototype.removeItems=function(rowNodes){this.rowModel.removeItems(rowNodes)},GridApi.prototype.addItems=function(items){this.rowModel.addItems(items)},GridApi.prototype.refreshVirtualPageCache=function(){this.virtualPageRowModel?this.virtualPageRowModel.refreshVirtualPageCache():console.warn("ag-Grid: api.refreshVirtualPageCache is only available when rowModelType='virtual'.")},GridApi.prototype.purgeVirtualPageCache=function(){this.virtualPageRowModel?this.virtualPageRowModel.purgeVirtualPageCache():console.warn("ag-Grid: api.refreshVirtualPageCache is only available when rowModelType='virtual'.")},GridApi.prototype.getVirtualRowCount=function(){return this.virtualPageRowModel?this.virtualPageRowModel.getVirtualRowCount():void console.warn("ag-Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},GridApi.prototype.isMaxRowFound=function(){return this.virtualPageRowModel?this.virtualPageRowModel.isMaxRowFound():void console.warn("ag-Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},GridApi.prototype.setVirtualRowCount=function(rowCount,maxRowFound){this.virtualPageRowModel?this.virtualPageRowModel.setVirtualRowCount(rowCount,maxRowFound):console.warn("ag-Grid: api.setVirtualRowCount is only available when rowModelType='virtual'.")},GridApi.prototype.getVirtualPageState=function(){return this.virtualPageRowModel?this.virtualPageRowModel.getVirtualPageState():void console.warn("ag-Grid: api.getVirtualPageState is only available when rowModelType='virtual'.")},__decorate([context_1.Autowired("csvCreator"),__metadata("design:type",csvCreator_1.CsvCreator)],GridApi.prototype,"csvCreator",void 0),__decorate([context_1.Autowired("gridCore"),__metadata("design:type",gridCore_1.GridCore)],GridApi.prototype,"gridCore",void 0),__decorate([context_1.Autowired("rowRenderer"),__metadata("design:type",rowRenderer_1.RowRenderer)],GridApi.prototype,"rowRenderer",void 0),__decorate([context_1.Autowired("headerRenderer"),__metadata("design:type",headerRenderer_1.HeaderRenderer)],GridApi.prototype,"headerRenderer",void 0),__decorate([context_1.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],GridApi.prototype,"filterManager",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],GridApi.prototype,"columnController",void 0),__decorate([context_1.Autowired("selectionController"),__metadata("design:type",selectionController_1.SelectionController)],GridApi.prototype,"selectionController",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],GridApi.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],GridApi.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("valueService"),__metadata("design:type",valueService_1.ValueService)],GridApi.prototype,"valueService",void 0),__decorate([context_1.Autowired("masterSlaveService"),__metadata("design:type",masterSlaveService_1.MasterSlaveService)],GridApi.prototype,"masterSlaveService",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],GridApi.prototype,"eventService",void 0),__decorate([context_1.Autowired("floatingRowModel"),__metadata("design:type",floatingRowModel_1.FloatingRowModel)],GridApi.prototype,"floatingRowModel",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],GridApi.prototype,"context",void 0),__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],GridApi.prototype,"rowModel",void 0),__decorate([context_1.Autowired("sortController"),__metadata("design:type",sortController_1.SortController)],GridApi.prototype,"sortController",void 0),__decorate([context_1.Autowired("paginationController"),__metadata("design:type",paginationController_1.PaginationController)],GridApi.prototype,"paginationController",void 0),__decorate([context_1.Autowired("focusedCellController"),__metadata("design:type",focusedCellController_1.FocusedCellController)],GridApi.prototype,"focusedCellController",void 0),__decorate([context_1.Optional("rangeController"),__metadata("design:type",Object)],GridApi.prototype,"rangeController",void 0),__decorate([context_1.Optional("clipboardService"),__metadata("design:type",Object)],GridApi.prototype,"clipboardService",void 0),__decorate([context_1.Optional("aggFuncService"),__metadata("design:type",Object)],GridApi.prototype,"aggFuncService",void 0),__decorate([context_1.Autowired("menuFactory"),__metadata("design:type",Object)],GridApi.prototype,"menuFactory",void 0),__decorate([context_1.Autowired("cellRendererFactory"),__metadata("design:type",cellRendererFactory_1.CellRendererFactory)],GridApi.prototype,"cellRendererFactory",void 0),__decorate([context_1.Autowired("cellEditorFactory"),__metadata("design:type",cellEditorFactory_1.CellEditorFactory)],GridApi.prototype,"cellEditorFactory",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],GridApi.prototype,"init",null),GridApi=__decorate([context_1.Bean("gridApi"),__metadata("design:paramtypes",[])],GridApi),GridApi}();exports.GridApi=GridApi},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},columnController_1=__webpack_require__(15),valueService_1=__webpack_require__(31),context_1=__webpack_require__(8),gridOptionsWrapper_1=__webpack_require__(5),constants_1=__webpack_require__(10),floatingRowModel_1=__webpack_require__(28),utils_1=__webpack_require__(9),LINE_SEPARATOR="\r\n",CsvCreator=function(){function CsvCreator(){}return CsvCreator.prototype.exportDataAsCsv=function(params){var csvString=this.getDataAsCsv(params),fileNamePresent=params&&params.fileName&&0!==params.fileName.length,fileName=fileNamePresent?params.fileName:"export.csv",blobObject=new Blob(["\uFEFF",csvString],{type:"text/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(blobObject,fileName);else{var downloadLink=document.createElement("a");downloadLink.href=window.URL.createObjectURL(blobObject),downloadLink.download=fileName,document.body.appendChild(downloadLink),downloadLink.click(),document.body.removeChild(downloadLink)}},CsvCreator.prototype.getDataAsCsv=function(params){function processRow(node){if(!(skipGroups&&node.group)&&!(skipFooters&&node.footer)&&(!onlySelected||node.isSelected())&&!(skipFloatingTop&&"top"===node.floating)&&!(skipFloatingBottom&&"bottom"===node.floating)){var nodeIsRootNode=-1===node.level;nodeIsRootNode&&!node.leafGroup||(columnsToExport.forEach(function(column,index){var valueForCell;valueForCell=node.group&&isRowGrouping&&0===index?that.createValueForGroupNode(node):that.valueService.getValue(column,node),valueForCell=that.processCell(node,column,valueForCell,processCellCallback),(null===valueForCell||void 0===valueForCell)&&(valueForCell=""),0!=index&&(result+=columnSeparator),result+=that.putInQuotes(valueForCell,suppressQuotes)}),result+=LINE_SEPARATOR)}}if(this.rowModel.getType()!==constants_1.Constants.ROW_MODEL_TYPE_NORMAL)return console.log("ag-Grid: getDataAsCsv is only available for standard row model"),"";var inMemoryRowModel=this.rowModel,that=this,result="",skipGroups=params&&params.skipGroups,skipHeader=params&&params.skipHeader,skipFooters=params&&params.skipFooters,skipFloatingTop=params&&params.skipFloatingTop,skipFloatingBottom=params&&params.skipFloatingBottom,includeCustomHeader=params&&params.customHeader,includeCustomFooter=params&&params.customFooter,allColumns=params&&params.allColumns,onlySelected=params&&params.onlySelected,columnSeparator=params&&params.columnSeparator||",",suppressQuotes=params&&params.suppressQuotes,columnKeys=params&&params.columnKeys,processCellCallback=params&&params.processCellCallback,processHeaderCallback=params&&params.processHeaderCallback,isPivotMode=this.columnController.isPivotMode(),isRowGrouping=0<this.columnController.getRowGroupColumns().length,columnsToExport;return(columnsToExport=utils_1.Utils.existsAndNotEmpty(columnKeys)?this.columnController.getGridColumns(columnKeys):allColumns&&!isPivotMode?this.columnController.getAllPrimaryColumns():this.columnController.getAllDisplayedColumns(),!columnsToExport||0===columnsToExport.length)?"":(includeCustomHeader&&(result+=params.customHeader),skipHeader||(columnsToExport.forEach(function(column,index){var nameForCol=that.getHeaderName(processHeaderCallback,column);(null===nameForCol||void 0===nameForCol)&&(nameForCol=""),0!=index&&(result+=columnSeparator),result+=that.putInQuotes(nameForCol,suppressQuotes)}),result+=LINE_SEPARATOR),this.floatingRowModel.forEachFloatingTopRow(processRow),isPivotMode?inMemoryRowModel.forEachPivotNode(processRow):inMemoryRowModel.forEachNodeAfterFilterAndSort(processRow),this.floatingRowModel.forEachFloatingBottomRow(processRow),includeCustomFooter&&(result+=params.customFooter),result)},CsvCreator.prototype.getHeaderName=function(callback,column){return callback?callback({column:column,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnController.getDisplayNameForCol(column,!0)},CsvCreator.prototype.processCell=function(rowNode,column,value,processCellCallback){return processCellCallback?processCellCallback({column:column,node:rowNode,value:value,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):value},CsvCreator.prototype.createValueForGroupNode=function(node){for(var keys=[node.key];node.parent;)node=node.parent,keys.push(node.key);return keys.reverse().join(" -> ")},CsvCreator.prototype.putInQuotes=function(value,suppressQuotes){if(suppressQuotes)return value;if(null===value||void 0===value)return"\"\"";var stringValue;"string"==typeof value?stringValue=value:"function"==typeof value.toString?stringValue=value.toString():(console.warn("unknown value type during csv conversion"),stringValue="");var valueEscaped=stringValue.replace(/"/g,"\"\"");return"\""+valueEscaped+"\""},__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],CsvCreator.prototype,"rowModel",void 0),__decorate([context_1.Autowired("floatingRowModel"),__metadata("design:type",floatingRowModel_1.FloatingRowModel)],CsvCreator.prototype,"floatingRowModel",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],CsvCreator.prototype,"columnController",void 0),__decorate([context_1.Autowired("valueService"),__metadata("design:type",valueService_1.ValueService)],CsvCreator.prototype,"valueService",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],CsvCreator.prototype,"gridOptionsWrapper",void 0),CsvCreator=__decorate([context_1.Bean("csvCreator"),__metadata("design:paramtypes",[])],CsvCreator),CsvCreator}();exports.CsvCreator=CsvCreator},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},utils_1=__webpack_require__(9),columnGroup_1=__webpack_require__(16),column_1=__webpack_require__(17),gridOptionsWrapper_1=__webpack_require__(5),expressionService_1=__webpack_require__(20),balancedColumnTreeBuilder_1=__webpack_require__(21),displayedGroupCreator_1=__webpack_require__(23),autoWidthCalculator_1=__webpack_require__(24),eventService_1=__webpack_require__(6),columnUtils_1=__webpack_require__(18),logger_1=__webpack_require__(7),events_1=__webpack_require__(12),columnChangeEvent_1=__webpack_require__(87),originalColumnGroup_1=__webpack_require__(19),groupInstanceIdCreator_1=__webpack_require__(88),functions_1=__webpack_require__(89),context_1=__webpack_require__(8),gridPanel_1=__webpack_require__(26),rowRenderer_1=__webpack_require__(25),dragAndDropService_1=__webpack_require__(78),ColumnApi=function(){function ColumnApi(){}return ColumnApi.prototype.sizeColumnsToFit=function(gridWidth){this._columnController.sizeColumnsToFit(gridWidth)},ColumnApi.prototype.setColumnGroupOpened=function(group,newValue,instanceId){this._columnController.setColumnGroupOpened(group,newValue,instanceId)},ColumnApi.prototype.getColumnGroup=function(name,instanceId){return this._columnController.getColumnGroup(name,instanceId)},ColumnApi.prototype.getDisplayNameForCol=function(column){return this._columnController.getDisplayNameForCol(column)},ColumnApi.prototype.getColumn=function(key){return this._columnController.getPrimaryColumn(key)},ColumnApi.prototype.setColumnState=function(columnState){return this._columnController.setColumnState(columnState)},ColumnApi.prototype.getColumnState=function(){return this._columnController.getColumnState()},ColumnApi.prototype.resetColumnState=function(){this._columnController.resetColumnState()},ColumnApi.prototype.isPinning=function(){return this._columnController.isPinningLeft()||this._columnController.isPinningRight()},ColumnApi.prototype.isPinningLeft=function(){return this._columnController.isPinningLeft()},ColumnApi.prototype.isPinningRight=function(){return this._columnController.isPinningRight()},ColumnApi.prototype.getDisplayedColAfter=function(col){return this._columnController.getDisplayedColAfter(col)},ColumnApi.prototype.getDisplayedColBefore=function(col){return this._columnController.getDisplayedColBefore(col)},ColumnApi.prototype.setColumnVisible=function(key,visible){this._columnController.setColumnVisible(key,visible)},ColumnApi.prototype.setColumnsVisible=function(keys,visible){this._columnController.setColumnsVisible(keys,visible)},ColumnApi.prototype.setColumnPinned=function(key,pinned){this._columnController.setColumnPinned(key,pinned)},ColumnApi.prototype.setColumnsPinned=function(keys,pinned){this._columnController.setColumnsPinned(keys,pinned)},ColumnApi.prototype.changePinnedRange=function(countToPin){this._columnController.changePinnedRange(countToPin)},ColumnApi.prototype.getAllColumns=function(){return this._columnController.getAllPrimaryColumns()},ColumnApi.prototype.getAllGridColumns=function(){return this._columnController.getAllGridColumns()},ColumnApi.prototype.getDisplayedLeftColumns=function(){return this._columnController.getDisplayedLeftColumns()},ColumnApi.prototype.getDisplayedCenterColumns=function(){return this._columnController.getDisplayedCenterColumns()},ColumnApi.prototype.getDisplayedRightColumns=function(){return this._columnController.getDisplayedRightColumns()},ColumnApi.prototype.getAllDisplayedColumns=function(){return this._columnController.getAllDisplayedColumns()},ColumnApi.prototype.getAllDisplayedVirtualColumns=function(){return this._columnController.getAllDisplayedVirtualColumns()},ColumnApi.prototype.moveColumn=function(fromIndex,toIndex){this._columnController.moveColumnByIndex(fromIndex,toIndex)},ColumnApi.prototype.moveRowGroupColumn=function(fromIndex,toIndex){this._columnController.moveRowGroupColumn(fromIndex,toIndex)},ColumnApi.prototype.removeInsertLine=function(){this._columnController.removeInsertLine()},ColumnApi.prototype.drawInsertLine=function(toIndex,direction){this._columnController.drawInsertLine(toIndex,direction)},ColumnApi.prototype.setColumnAggFunct=function(column,aggFunc){this._columnController.setColumnAggFunc(column,aggFunc)},ColumnApi.prototype.setColumnWidth=function(key,newWidth,finished,suppressDispatch){void 0===finished&&(finished=!0),this._columnController.setColumnWidth(key,newWidth,finished,suppressDispatch)},ColumnApi.prototype.setPivotMode=function(pivotMode){this._columnController.setPivotMode(pivotMode)},ColumnApi.prototype.isPivotMode=function(){return this._columnController.isPivotMode()},ColumnApi.prototype.getSecondaryPivotColumn=function(pivotKeys,valueColKey){return this._columnController.getSecondaryPivotColumn(pivotKeys,valueColKey)},ColumnApi.prototype.getValueColumns=function(){return this._columnController.getValueColumns()},ColumnApi.prototype.removeValueColumn=function(colKey){this._columnController.removeValueColumn(colKey)},ColumnApi.prototype.removeValueColumns=function(colKeys){this._columnController.removeValueColumns(colKeys)},ColumnApi.prototype.addValueColumn=function(colKey){this._columnController.addValueColumn(colKey)},ColumnApi.prototype.addValueColumns=function(colKeys){this._columnController.addValueColumns(colKeys)},ColumnApi.prototype.setRowGroupColumns=function(colKeys){this._columnController.setRowGroupColumns(colKeys)},ColumnApi.prototype.removeRowGroupColumn=function(colKey){this._columnController.removeRowGroupColumn(colKey)},ColumnApi.prototype.removeRowGroupColumns=function(colKeys){this._columnController.removeRowGroupColumns(colKeys)},ColumnApi.prototype.addRowGroupColumn=function(colKey){this._columnController.addRowGroupColumn(colKey)},ColumnApi.prototype.addRowGroupColumns=function(colKeys){this._columnController.addRowGroupColumns(colKeys)},ColumnApi.prototype.getRowGroupColumns=function(){return this._columnController.getRowGroupColumns()},ColumnApi.prototype.setPivotColumns=function(colKeys){this._columnController.setPivotColumns(colKeys)},ColumnApi.prototype.removePivotColumn=function(colKey){this._columnController.removePivotColumn(colKey)},ColumnApi.prototype.removePivotColumns=function(colKeys){this._columnController.removePivotColumns(colKeys)},ColumnApi.prototype.addPivotColumn=function(colKey){this._columnController.addPivotColumn(colKey)},ColumnApi.prototype.addPivotColumns=function(colKeys){this._columnController.addPivotColumns(colKeys)},ColumnApi.prototype.getPivotColumns=function(){return this._columnController.getPivotColumns()},ColumnApi.prototype.getLeftDisplayedColumnGroups=function(){return this._columnController.getLeftDisplayedColumnGroups()},ColumnApi.prototype.getCenterDisplayedColumnGroups=function(){return this._columnController.getCenterDisplayedColumnGroups()},ColumnApi.prototype.getRightDisplayedColumnGroups=function(){return this._columnController.getRightDisplayedColumnGroups()},ColumnApi.prototype.getAllDisplayedColumnGroups=function(){return this._columnController.getAllDisplayedColumnGroups()},ColumnApi.prototype.autoSizeColumn=function(key){return this._columnController.autoSizeColumn(key)},ColumnApi.prototype.autoSizeColumns=function(keys,lessOnly){return this._columnController.autoSizeColumns(keys,lessOnly)},ColumnApi.prototype.autoSizeAllColumns=function(){this._columnController.autoSizeAllColumns()},ColumnApi.prototype.setSecondaryColumns=function(colDefs){this._columnController.setSecondaryColumns(colDefs)},ColumnApi.prototype.columnGroupOpened=function(group,newValue){console.error("ag-Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(group,newValue)},ColumnApi.prototype.hideColumns=function(colIds,hide){console.error("ag-Grid: hideColumns is deprecated, use setColumnsVisible"),this._columnController.setColumnsVisible(colIds,!hide)},ColumnApi.prototype.hideColumn=function(colId,hide){console.error("ag-Grid: hideColumn is deprecated, use setColumnVisible"),this._columnController.setColumnVisible(colId,!hide)},ColumnApi.prototype.setState=function(columnState){return console.error("ag-Grid: setState is deprecated, use setColumnState"),this.setColumnState(columnState)},ColumnApi.prototype.getState=function(){return console.error("ag-Grid: getState is deprecated, use getColumnState"),this.getColumnState()},ColumnApi.prototype.resetState=function(){console.error("ag-Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},ColumnApi.prototype.getAggregationColumns=function(){return console.error("ag-Grid: getAggregationColumns is deprecated, use getValueColumns"),this._columnController.getValueColumns()},ColumnApi.prototype.removeAggregationColumn=function(colKey){console.error("ag-Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this._columnController.removeValueColumn(colKey)},ColumnApi.prototype.removeAggregationColumns=function(colKeys){console.error("ag-Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this._columnController.removeValueColumns(colKeys)},ColumnApi.prototype.addAggregationColumn=function(colKey){console.error("ag-Grid: addAggregationColumn is deprecated, use addValueColumn"),this._columnController.addValueColumn(colKey)},ColumnApi.prototype.addAggregationColumns=function(colKeys){console.error("ag-Grid: addAggregationColumns is deprecated, use addValueColumns"),this._columnController.addValueColumns(colKeys)},ColumnApi.prototype.setColumnAggFunction=function(column,aggFunc){console.error("ag-Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this._columnController.setColumnAggFunc(column,aggFunc)},__decorate([context_1.Autowired("columnController"),__metadata("design:type",ColumnController)],ColumnApi.prototype,"_columnController",void 0),ColumnApi=__decorate([context_1.Bean("columnApi"),__metadata("design:paramtypes",[])],ColumnApi),ColumnApi}();exports.ColumnApi=ColumnApi;var ColumnController=function(){function ColumnController(){this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.secondaryColumnsPresent=!1,this.gridHeaderRowCount=0,this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.allDisplayedColumns=[],this.allDisplayedVirtualColumns=[],this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.pivotMode=!1}return ColumnController.prototype.init=function(){this.pivotMode=this.gridOptionsWrapper.isPivotMode(),this.gridOptionsWrapper.getColumnDefs()&&this.setColumnDefs(this.gridOptionsWrapper.getColumnDefs())},ColumnController.prototype.setViewportLeftAndRight=function(){this.viewportLeft=this.scrollPosition,this.viewportRight=this.totalWidth+this.scrollPosition},ColumnController.prototype.checkDisplayedCenterColumns=function(){if(utils_1.Utils.exists(this.displayedCenterColumns)){var hashBefore=this.allDisplayedVirtualColumns.map(function(column){return column.getId()}).join("#");this.updateVirtualSets();var hashAfter=this.allDisplayedVirtualColumns.map(function(column){return column.getId()}).join("#");hashBefore!==hashAfter&&this.eventService.dispatchEvent(events_1.Events.EVENT_VIRTUAL_COLUMNS_CHANGED)}},ColumnController.prototype.setWidthAndScrollPosition=function(totalWidth,scrollPosition){(totalWidth!==this.totalWidth||scrollPosition!==this.scrollPosition)&&(this.totalWidth=totalWidth,this.scrollPosition=scrollPosition,this.setViewportLeftAndRight(),this.ready&&this.checkDisplayedCenterColumns())},ColumnController.prototype.getLeftPinnedWidth=function(){for(var sum=0,i=0;i<this.allDisplayedColumns.length&&!!this.allDisplayedColumns[i].getColDef().suppressMovable;++i)sum+=this.allDisplayedColumns[i].getActualWidth();return sum},ColumnController.prototype.getCountSuppressMovableLeftColumns=function(){for(var count=0,gridColumns=this.getAllGridColumns(),i=0,colDef;i<gridColumns.length&&(colDef=gridColumns[i].getColDef(),colDef.suppressMovable||colDef.pinned);++i)++count;return count},ColumnController.prototype.isPivotMode=function(){return this.pivotMode},ColumnController.prototype.setPivotMode=function(pivotMode){if(pivotMode!==this.pivotMode){this.pivotMode=pivotMode,this.updateDisplayedColumns();var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,event)}},ColumnController.prototype.getSecondaryPivotColumn=function(pivotKeys,valueColKey){if(!this.secondaryColumnsPresent)return null;var valueColumnToFind=this.getPrimaryColumn(valueColKey),foundColumn=null;return this.secondaryColumns.forEach(function(column){var thisPivotKeys=column.getColDef().pivotKeys,pivotValueColumn=column.getColDef().pivotValueColumn,pivotKeyMatches=utils_1.Utils.compareArrays(thisPivotKeys,pivotKeys);pivotKeyMatches&&pivotValueColumn===valueColumnToFind&&(foundColumn=column)}),foundColumn},ColumnController.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create("ColumnController")},ColumnController.prototype.setFirstRightAndLastLeftPinned=function(){var lastLeft=this.displayedLeftColumns?this.displayedLeftColumns[this.displayedLeftColumns.length-1]:null,firstRight=this.displayedRightColumns?this.displayedRightColumns[0]:null;this.gridColumns.forEach(function(column){column.setLastLeftPinned(column===lastLeft),column.setFirstRightPinned(column===firstRight)})},ColumnController.prototype.autoSizeColumns=function(keys,lessOnly){for(var _this=this,columnsAutosized=[],changesThisTimeAround=-1;0!=changesThisTimeAround;)changesThisTimeAround=0,this.actionOnGridColumns(keys,function(column){if(!(0<=columnsAutosized.indexOf(column))){var preferredWidth=_this.autoWidthCalculator.getPreferredWidthForColumn(column);if(0<preferredWidth){var newWidth=_this.normaliseColumnWidth(column,preferredWidth);if(column.getActualWidth()<newWidth&&lessOnly)return;column.getColDef().suppressSizeToFit=!0,column.setActualWidth(newWidth),columnsAutosized.push(column),changesThisTimeAround++}return!0}},function(){return new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_RESIZED).withFinished(!0)})},ColumnController.prototype.autoSizeColumn=function(key){this.autoSizeColumns([key])},ColumnController.prototype.autoSizeAllColumns=function(){var allDisplayedColumns=this.getAllDisplayedColumns();this.autoSizeColumns(allDisplayedColumns)},ColumnController.prototype.getColumnsFromTree=function(rootColumns){function recursiveFindColumns(childColumns){for(var i=0,child;i<childColumns.length;i++)child=childColumns[i],child instanceof column_1.Column?result.push(child):child instanceof originalColumnGroup_1.OriginalColumnGroup&&recursiveFindColumns(child.getChildren())}var result=[];return recursiveFindColumns(rootColumns),result},ColumnController.prototype.getAllDisplayedColumnGroups=function(){return this.displayedLeftColumnTree&&this.displayedRightColumnTree&&this.displayedCentreColumnTree?this.displayedLeftColumnTree.concat(this.displayedCentreColumnTree).concat(this.displayedRightColumnTree):null},ColumnController.prototype.getPrimaryColumnTree=function(){return this.primaryBalancedTree},ColumnController.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},ColumnController.prototype.getLeftDisplayedColumnGroups=function(){return this.displayedLeftColumnTree},ColumnController.prototype.getRightDisplayedColumnGroups=function(){return this.displayedRightColumnTree},ColumnController.prototype.getCenterDisplayedColumnGroups=function(){return this.displayedCentreColumnTree},ColumnController.prototype.getDisplayedColumnGroups=function(type){return type===column_1.Column.PINNED_LEFT?this.getLeftDisplayedColumnGroups():type===column_1.Column.PINNED_RIGHT?this.getRightDisplayedColumnGroups():this.getCenterDisplayedColumnGroups()},ColumnController.prototype.isColumnDisplayed=function(column){return 0<=this.getAllDisplayedColumns().indexOf(column)},ColumnController.prototype.getAllDisplayedColumns=function(){return this.allDisplayedColumns},ColumnController.prototype.getFirstDisplayedColumn=function(){return 1<this.allDisplayedColumns.length?this.allDisplayedColumns[1]:null},ColumnController.prototype.getLastDisplayedColumn=function(){return 1<this.allDisplayedColumns.length?this.allDisplayedColumns[this.allDisplayedColumns.length-1]:null},ColumnController.prototype.getAllDisplayedVirtualColumns=function(){return this.allDisplayedVirtualColumns},ColumnController.prototype.getPinnedLeftContainerWidth=function(){return this.getWidthOfColsInList(this.displayedLeftColumns)},ColumnController.prototype.getPinnedRightContainerWidth=function(){return this.getWidthOfColsInList(this.displayedRightColumns)},ColumnController.prototype.addRowGroupColumns=function(keys,columnsToIncludeInEvent){var _this=this;this.actionOnPrimaryColumns(keys,function(column){return!column.isRowGroupActive()&&(_this.rowGroupColumns.push(column),column.setRowGroupActive(!0),!0)},function(){return new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED)},columnsToIncludeInEvent)},ColumnController.prototype.setRowGroupColumns=function(keys){var updatedColumns=[];this.rowGroupColumns.forEach(function(column){column.setRowGroupActive(!1),updatedColumns.push(column)}),this.rowGroupColumns.length=0,this.addRowGroupColumns(keys,updatedColumns)},ColumnController.prototype.addRowGroupColumn=function(key){this.addRowGroupColumns([key])},ColumnController.prototype.removeRowGroupColumns=function(keys){var _this=this;this.actionOnPrimaryColumns(keys,function(column){return!!column.isRowGroupActive()&&(utils_1.Utils.removeFromArray(_this.rowGroupColumns,column),column.setRowGroupActive(!1),!0)},function(){return new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED)})},ColumnController.prototype.removeRowGroupColumn=function(key){this.removeRowGroupColumns([key])},ColumnController.prototype.addPivotColumns=function(keys,columnsToIncludeInEvent){var _this=this;this.actionOnPrimaryColumns(keys,function(column){return!column.isPivotActive()&&(_this.pivotColumns.push(column),column.setPivotActive(!0),!0)},function(){return new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_PIVOT_CHANGED)},columnsToIncludeInEvent)},ColumnController.prototype.setPivotColumns=function(keys){var updatedColumns=[];this.pivotColumns.forEach(function(column){column.setPivotActive(!1),updatedColumns.push(column)}),this.pivotColumns.length=0,this.addPivotColumns(keys,updatedColumns)},ColumnController.prototype.addPivotColumn=function(key){this.addPivotColumns([key])},ColumnController.prototype.removePivotColumns=function(keys){var _this=this;this.actionOnPrimaryColumns(keys,function(column){return!!column.isPivotActive()&&(utils_1.Utils.removeFromArray(_this.pivotColumns,column),column.setPivotActive(!1),!0)},function(){return new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_PIVOT_CHANGED)})},ColumnController.prototype.removePivotColumn=function(key){this.removePivotColumns([key])},ColumnController.prototype.addValueColumns=function(keys){var _this=this;this.actionOnPrimaryColumns(keys,function(column){if(!column.isValueActive()){if(!column.getAggFunc()){var defaultAggFunc=_this.aggFuncService.getDefaultAggFunc();column.setAggFunc(defaultAggFunc)}return _this.valueColumns.push(column),column.setValueActive(!0),!0}return!1},function(){return new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_VALUE_CHANGED)})},ColumnController.prototype.addValueColumn=function(colKey){this.addValueColumns([colKey])},ColumnController.prototype.removeValueColumn=function(colKey){this.removeValueColumns([colKey])},ColumnController.prototype.removeValueColumns=function(keys){var _this=this;this.actionOnPrimaryColumns(keys,function(column){return!!column.isValueActive()&&(utils_1.Utils.removeFromArray(_this.valueColumns,column),column.setValueActive(!1),!0)},function(){return new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_VALUE_CHANGED)})},ColumnController.prototype.normaliseColumnWidth=function(column,newWidth){return newWidth<column.getMinWidth()&&(newWidth=column.getMinWidth()),column.isGreaterThanMax(newWidth)&&(newWidth=column.getMaxWidth()),newWidth},ColumnController.prototype.getPrimaryOrGridColumn=function(key){var column=this.getPrimaryColumn(key);return column?column:this.getGridColumn(key)},ColumnController.prototype.setColumnWidth=function(key,newWidth,finished,suppressDispatch){var column=this.getPrimaryOrGridColumn(key);if(column){var columns=[column];newWidth=this.normaliseColumnWidth(column,newWidth);var widthChanged=column.getActualWidth()!==newWidth;if(widthChanged&&(column.getColDef().suppressSizeToFit=!0,column.setActualWidth(newWidth),this.setLeftValues()),this.rangeController){var selectionRange=this.rangeController.getColSelectionRange(column);if(selectionRange)for(var _i=0,_a=selectionRange.columns,sameRangeColumn;_i<_a.length;_i++)sameRangeColumn=_a[_i],column!=sameRangeColumn&&sameRangeColumn.getActualWidth()!=newWidth&&(columns.push(sameRangeColumn),sameRangeColumn.getColDef().suppressSizeToFit=!0,sameRangeColumn.setActualWidth(newWidth),this.setLeftValues())}if(!suppressDispatch&&(finished||widthChanged)){var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_RESIZED).withColumns(columns).withFinished(finished);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_RESIZED,event)}this.checkDisplayedCenterColumns()}},ColumnController.prototype.setColumnAggFunc=function(column,aggFunc){column.setAggFunc(aggFunc);var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_VALUE_CHANGED).withColumn(column);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_VALUE_CHANGED,event)},ColumnController.prototype.moveRowGroupColumn=function(fromIndex,toIndex){var column=this.rowGroupColumns[fromIndex];this.rowGroupColumns.splice(fromIndex,1),this.rowGroupColumns.splice(toIndex,0,column);var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,event)},ColumnController.prototype.removeInsertLine=function(){this.rowRenderer.forEachRenderedCell(function(cell){utils_1.Utils.removeCssClass(cell.getGui(),"ag-insert-after"),utils_1.Utils.removeCssClass(cell.getGui(),"ag-insert-before")})},ColumnController.prototype.drawInsertLine=function(column,direction){this.rowRenderer.forEachRenderedCell(function(cell){cell.getColumn().getColId()==column.getColId()?utils_1.Utils.addCssClass(cell.getGui(),direction==dragAndDropService_1.DragAndDropService.DIRECTION_LEFT?"ag-insert-before":"ag-insert-after"):(utils_1.Utils.removeCssClass(cell.getGui(),"ag-insert-after"),utils_1.Utils.removeCssClass(cell.getGui(),"ag-insert-before"))})},ColumnController.prototype.moveColumns=function(columnsToMoveKeys,toIndex,dragGroup){if(toIndex>this.gridColumns.length-columnsToMoveKeys.length)return console.warn("ag-Grid: tried to insert columns in invalid location, toIndex = "+toIndex),void console.warn("ag-Grid: remember that you should not count the moving columns when calculating the new index");var columnsToMove=this.getGridColumns(columnsToMoveKeys),failedRules=!this.doesMovePassRules(columnsToMove,toIndex);if(!failedRules){this.gridPanel.turnOnAnimationForABit(),utils_1.Utils.moveInArray(this.gridColumns,columnsToMove,toIndex),this.updateDisplayedColumns();var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_MOVED).withToIndex(toIndex).withColumns(columnsToMove);dragGroup&&event.withDragGroup(dragGroup),1===columnsToMove.length&&event.withColumn(columnsToMove[0]),this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_MOVED,event)}},ColumnController.prototype.doesMovePassRules=function(columnsToMove,toIndex){if(0>toIndex)return!1;var allColumnsCopy=this.gridColumns.slice(),colToMove=allColumnsCopy[toIndex];if(colToMove.isVisible()&&colToMove.getColDef().suppressMovable)return!1;utils_1.Utils.moveInArray(allColumnsCopy,columnsToMove,toIndex);for(var index=0;index<allColumnsCopy.length-1;index++){var thisColumn=allColumnsCopy[index],nextColumn=allColumnsCopy[index+1];if(nextColumn.isVisible()){var thisPath=this.columnUtils.getOriginalPathForColumn(thisColumn,this.gridBalancedTree),nextPath=this.columnUtils.getOriginalPathForColumn(nextColumn,this.gridBalancedTree);nextPath&&thisPath||console.log("next path is missing");for(var dept=0;dept<thisPath.length;dept++){var thisOriginalGroup=thisPath[dept],nextOriginalGroup=nextPath[dept],colGroupDef=thisOriginalGroup.getColGroupDef(),marryChildren=colGroupDef&&colGroupDef.marryChildren;if(thisOriginalGroup!==nextOriginalGroup&&marryChildren)for(var tailIndex=index+1;tailIndex<allColumnsCopy.length;tailIndex++){var tailColumn=allColumnsCopy[tailIndex],tailPath=this.columnUtils.getOriginalPathForColumn(tailColumn,this.gridBalancedTree),tailOriginalGroup=tailPath[dept];if(tailOriginalGroup===thisOriginalGroup)return!1}}}}return!0},ColumnController.prototype.moveColumn=function(key,toIndex){this.moveColumns([key],toIndex)},ColumnController.prototype.moveColumnByIndex=function(fromIndex,toIndex){var column=this.gridColumns[fromIndex];this.moveColumn(column,toIndex)},ColumnController.prototype.getBodyContainerWidth=function(){var result=this.getWidthOfColsInList(this.displayedCenterColumns);return result},ColumnController.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},ColumnController.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},ColumnController.prototype.isPivotActive=function(){return this.pivotColumns&&0<this.pivotColumns.length&&this.pivotMode},ColumnController.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},ColumnController.prototype.getDisplayedCenterColumns=function(){return this.displayedCenterColumns.slice(0)},ColumnController.prototype.getDisplayedLeftColumns=function(){return this.displayedLeftColumns.slice(0)},ColumnController.prototype.getDisplayedRightColumns=function(){return this.displayedRightColumns.slice(0)},ColumnController.prototype.getDisplayedColumns=function(type){return type===column_1.Column.PINNED_LEFT?this.getDisplayedLeftColumns():type===column_1.Column.PINNED_RIGHT?this.getDisplayedRightColumns():this.getDisplayedCenterColumns()},ColumnController.prototype.getAllPrimaryColumns=function(){return this.primaryColumns},ColumnController.prototype.getAllGridColumns=function(){return this.gridColumns},ColumnController.prototype.isEmpty=function(){return utils_1.Utils.missingOrEmpty(this.gridColumns)},ColumnController.prototype.isRowGroupEmpty=function(){return utils_1.Utils.missingOrEmpty(this.rowGroupColumns)},ColumnController.prototype.setColumnVisible=function(key,visible){this.setColumnsVisible([key],visible)},ColumnController.prototype.setColumnsVisible=function(keys,visible){this.gridPanel.turnOnAnimationForABit(),this.actionOnGridColumns(keys,function(column){return column.setVisible(visible),!0},function(){return new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_VISIBLE).withVisible(visible)})},ColumnController.prototype.setColumnPinned=function(key,pinned){this.setColumnsPinned([key],pinned)},ColumnController.prototype.setColumnsPinned=function(keys,pinned,doAnyway){this.gridPanel.turnOnAnimationForABit();var actualPinned;actualPinned=!doAnyway&&this.gridOptionsWrapper.isSuppressMoveToPinning()?null:!0===pinned||pinned===column_1.Column.PINNED_LEFT?column_1.Column.PINNED_LEFT:pinned===column_1.Column.PINNED_RIGHT?column_1.Column.PINNED_RIGHT:null,this.actionOnGridColumns(keys,function(column){return column.setPinned(actualPinned),!0},function(){return new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_PINNED).withPinned(actualPinned)})},ColumnController.prototype.changePinnedRange=function(countToPin){var columns=this.gridColumns;this.setColumnsPinned(columns.slice(0,countToPin),"left",!0),this.setColumnsPinned(columns.slice(countToPin),!1,!0)},ColumnController.prototype.actionOnGridColumns=function(keys,action,createEvent,columnsToIncludeInEvent){this.actionOnColumns(keys,this.getGridColumn.bind(this),action,createEvent,columnsToIncludeInEvent)},ColumnController.prototype.actionOnPrimaryColumns=function(keys,action,createEvent,columnsToIncludeInEvent){this.actionOnColumns(keys,this.getPrimaryColumn.bind(this),action,createEvent,columnsToIncludeInEvent)},ColumnController.prototype.actionOnColumns=function(keys,columnLookup,action,createEvent,columnsToIncludeInEvent){if(!(utils_1.Utils.missingOrEmpty(keys)&&utils_1.Utils.missingOrEmpty(columnsToIncludeInEvent))){var updatedColumns=[];if(keys.forEach(function(key){var column=columnLookup(key);if(column){var resultOfAction=action(column);!1!==resultOfAction&&updatedColumns.push(column)}}),!(0===updatedColumns.length&&utils_1.Utils.missingOrEmpty(columnsToIncludeInEvent))){utils_1.Utils.existsAndNotEmpty(columnsToIncludeInEvent)&&columnsToIncludeInEvent.forEach(function(column){0>updatedColumns.indexOf(column)&&updatedColumns.push(column)}),this.updateDisplayedColumns();var event=createEvent();event.withColumns(updatedColumns),1===updatedColumns.length&&event.withColumn(updatedColumns[0]),this.eventService.dispatchEvent(event.getType(),event)}}},ColumnController.prototype.getDisplayedColBefore=function(col){var allDisplayedColumns=this.getAllDisplayedColumns(),oldIndex=allDisplayedColumns.indexOf(col);return 0<oldIndex?allDisplayedColumns[oldIndex-1]:null},ColumnController.prototype.getDisplayedColAfter=function(col){var allDisplayedColumns=this.getAllDisplayedColumns(),oldIndex=allDisplayedColumns.indexOf(col);return oldIndex<allDisplayedColumns.length-1?allDisplayedColumns[oldIndex+1]:null},ColumnController.prototype.isPinningLeft=function(){return 0<this.displayedLeftColumns.length},ColumnController.prototype.isPinningRight=function(){return 0<this.displayedRightColumns.length},ColumnController.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var result=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumnActive&&result.push(this.groupAutoColumn),this.secondaryColumnsPresent&&this.secondaryColumns.forEach(function(column){return result.push(column)}),result},ColumnController.prototype.createStateItemFromColumn=function(column){var rowGroupIndex=column.isRowGroupActive()?this.rowGroupColumns.indexOf(column):null,pivotIndex=column.isPivotActive()?this.pivotColumns.indexOf(column):null,aggFunc=column.isValueActive()?column.getAggFunc():null,resultItem={colId:column.getColId(),hide:!column.isVisible(),aggFunc:aggFunc,width:column.getActualWidth(),pivotIndex:pivotIndex,pinned:column.getPinned(),rowGroupIndex:rowGroupIndex};return resultItem},ColumnController.prototype.getColumnState=function(){if(utils_1.Utils.missing(this.primaryColumns))return[];var columnStateList=this.primaryColumns.map(this.createStateItemFromColumn.bind(this));return this.pivotMode||this.orderColumnStateList(columnStateList),columnStateList},ColumnController.prototype.orderColumnStateList=function(columnStateList){var gridColumnIds=this.gridColumns.map(function(column){return column.getColId()});columnStateList.sort(function(itemA,itemB){var posA=gridColumnIds.indexOf(itemA.colId),posB=gridColumnIds.indexOf(itemB.colId);return posA-posB})},ColumnController.prototype.resetColumnState=function(){var primaryColumns=this.getColumnsFromTree(this.primaryBalancedTree),state=[];primaryColumns&&primaryColumns.forEach(function(column){state.push({colId:column.getColId(),aggFunc:column.getColDef().aggFunc,hide:column.getColDef().hide,pinned:column.getColDef().pinned,rowGroupIndex:column.getColDef().rowGroupIndex,pivotIndex:column.getColDef().pivotIndex,width:column.getColDef().width})}),this.setColumnState(state)},ColumnController.prototype.setColumnState=function(columnState){var _this=this;if(utils_1.Utils.missingOrEmpty(this.primaryColumns))return!1;var columnsWithNoState=this.primaryColumns.slice();this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[];var success=!0,rowGroupIndexes={},pivotIndexes={};columnState&&columnState.forEach(function(stateItem){var column=_this.getPrimaryColumn(stateItem.colId);column?(_this.syncColumnWithStateItem(column,stateItem,rowGroupIndexes,pivotIndexes),utils_1.Utils.removeFromArray(columnsWithNoState,column)):(console.warn("ag-grid: column "+stateItem.colId+" not found"),success=!1)}),columnsWithNoState.forEach(this.syncColumnWithNoState.bind(this)),this.rowGroupColumns.sort(this.sortColumnListUsingIndexes.bind(this,rowGroupIndexes)),this.pivotColumns.sort(this.sortColumnListUsingIndexes.bind(this,pivotIndexes)),this.copyDownGridColumns();var orderOfColIds=columnState.map(function(stateItem){return stateItem.colId});this.gridColumns.sort(function(colA,colB){var indexA=orderOfColIds.indexOf(colA.getId()),indexB=orderOfColIds.indexOf(colB.getId());return indexA-indexB}),this.updateDisplayedColumns();var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED);return this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,event),success},ColumnController.prototype.sortColumnListUsingIndexes=function(indexes,colA,colB){var indexA=indexes[colA.getId()],indexB=indexes[colB.getId()];return indexA-indexB},ColumnController.prototype.syncColumnWithNoState=function(column){column.setVisible(!1),column.setAggFunc(null),column.setPinned(null),column.setRowGroupActive(!1),column.setPivotActive(!1),column.setValueActive(!1)},ColumnController.prototype.syncColumnWithStateItem=function(column,stateItem,rowGroupIndexes,pivotIndexes){column.setVisible(!stateItem.hide),column.setPinned(stateItem.pinned),stateItem.width>=this.gridOptionsWrapper.getMinColWidth()&&column.setActualWidth(stateItem.width),"string"==typeof stateItem.aggFunc?(column.setAggFunc(stateItem.aggFunc),column.setValueActive(!0),this.valueColumns.push(column)):(column.setAggFunc(null),column.setValueActive(!1)),"number"==typeof stateItem.rowGroupIndex?(this.rowGroupColumns.push(column),column.setRowGroupActive(!0),rowGroupIndexes[column.getId()]=stateItem.rowGroupIndex):column.setRowGroupActive(!1),"number"==typeof stateItem.pivotIndex?(this.pivotColumns.push(column),column.setPivotActive(!0),pivotIndexes[column.getId()]=stateItem.pivotIndex):column.setPivotActive(!1)},ColumnController.prototype.getGridColumns=function(keys){return this.getColumns(keys,this.getGridColumn.bind(this))},ColumnController.prototype.getColumns=function(keys,columnLookupCallback){var foundColumns=[];return keys&&keys.forEach(function(key){var column=columnLookupCallback(key);column&&foundColumns.push(column)}),foundColumns},ColumnController.prototype.getColumnWithValidation=function(key){var column=this.getPrimaryColumn(key);return column||console.warn("ag-Grid: could not find column "+column),column},ColumnController.prototype.getPrimaryColumn=function(key){return this.getColumn(key,this.primaryColumns)},ColumnController.prototype.getGridColumn=function(key){return this.getColumn(key,this.gridColumns)},ColumnController.prototype.getColumn=function(key,columnList){function colMatches(column){var colDefMatches=column.getColDef()===key,idMatches=column.getColId()==key;return column===key||colDefMatches||idMatches}if(!key)return null;for(var i=0;i<columnList.length;i++)if(colMatches(columnList[i]))return columnList[i];return this.groupAutoColumnActive&&colMatches(this.groupAutoColumn)?this.groupAutoColumn:null},ColumnController.prototype.getDisplayNameForCol=function(column,includeAggFunc){void 0===includeAggFunc&&(includeAggFunc=!1);var headerName=this.getHeaderName(column);return includeAggFunc?this.wrapHeaderNameWithAggFunc(column,headerName):headerName},ColumnController.prototype.getHeaderName=function(column){var colDef=column.getColDef(),headerValueGetter=colDef.headerValueGetter;if(headerValueGetter){var params={colDef:colDef,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof headerValueGetter?headerValueGetter(params):"string"==typeof headerValueGetter?this.expressionService.evaluate(headerValueGetter,params):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return colDef.headerName},ColumnController.prototype.wrapHeaderNameWithAggFunc=function(column,headerName){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return headerName;var pivotValueColumn=column.getColDef().pivotValueColumn,pivotActiveOnThisColumn=utils_1.Utils.exists(pivotValueColumn),aggFunc=null,aggFuncFound;if(pivotActiveOnThisColumn)aggFunc=pivotValueColumn.getAggFunc(),aggFuncFound=!0;else{var measureActive=column.isValueActive(),aggregationPresent=this.pivotMode||!this.isRowGroupEmpty();measureActive&&aggregationPresent?(aggFunc=column.getAggFunc(),aggFuncFound=!0):aggFuncFound=!1}if(aggFuncFound){var aggFuncString="string"==typeof aggFunc?aggFunc:"func";return aggFuncString+"("+headerName+")"}return headerName},ColumnController.prototype.getColumnGroup=function(colId,instanceId){if(!colId)return null;if(colId instanceof columnGroup_1.ColumnGroup)return colId;var allColumnGroups=this.getAllDisplayedColumnGroups(),result=null;return this.columnUtils.deptFirstAllColumnTreeSearch(allColumnGroups,function(child){if(child instanceof columnGroup_1.ColumnGroup){var columnGroup=child,matched;matched="number"==typeof instanceId?colId===columnGroup.getGroupId()&&instanceId===columnGroup.getInstanceId():colId===columnGroup.getGroupId(),matched&&(result=columnGroup)}}),result},ColumnController.prototype.setColumnDefs=function(columnDefs){var balancedTreeResult=this.balancedColumnTreeBuilder.createBalancedColumnGroups(columnDefs,!0);this.primaryBalancedTree=balancedTreeResult.balancedTree,this.primaryHeaderRowCount=balancedTreeResult.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryBalancedTree),this.extractRowGroupColumns(),this.extractPivotColumns(),this.createValueColumns(),this.copyDownGridColumns(),this.updateDisplayedColumns(),this.ready=!0;var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,event),this.eventService.dispatchEvent(events_1.Events.EVENT_NEW_COLUMNS_LOADED)},ColumnController.prototype.isReady=function(){return this.ready},ColumnController.prototype.extractRowGroupColumns=function(){var _this=this;this.rowGroupColumns.forEach(function(column){return column.setRowGroupActive(!1)}),this.rowGroupColumns=[],this.primaryColumns.forEach(function(column){"number"==typeof column.getColDef().rowGroupIndex&&(_this.rowGroupColumns.push(column),column.setRowGroupActive(!0))}),this.rowGroupColumns.sort(function(colA,colB){return colA.getColDef().rowGroupIndex-colB.getColDef().rowGroupIndex})},ColumnController.prototype.extractPivotColumns=function(){var _this=this;this.pivotColumns.forEach(function(column){return column.setPivotActive(!1)}),this.pivotColumns=[],this.primaryColumns.forEach(function(column){"number"==typeof column.getColDef().pivotIndex&&(_this.pivotColumns.push(column),column.setPivotActive(!0))}),this.pivotColumns.sort(function(colA,colB){return colA.getColDef().pivotIndex-colB.getColDef().pivotIndex})},ColumnController.prototype.setColumnGroupOpened=function(passedGroup,newValue,instanceId){var groupToUse=this.getColumnGroup(passedGroup,instanceId);if(groupToUse){this.logger.log("columnGroupOpened("+groupToUse.getGroupId()+","+newValue+")"),groupToUse.setExpanded(newValue),this.gridPanel.turnOnAnimationForABit(),this.updateGroupsAndDisplayedColumns();var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_GROUP_OPENED).withColumnGroup(groupToUse);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_GROUP_OPENED,event)}},ColumnController.prototype.getColumnGroupState=function(){var groupState={};return this.columnUtils.deptFirstDisplayedColumnTreeSearch(this.getAllDisplayedColumnGroups(),function(child){if(child instanceof columnGroup_1.ColumnGroup){var columnGroup=child,key=columnGroup.getGroupId();groupState.hasOwnProperty(key)||(groupState[key]=columnGroup.isExpanded())}}),groupState},ColumnController.prototype.getColumnByPixel=function(pixel){for(var columns=this.getViewportColumns(),width=0,i=0,column;i<columns.length;++i)if(column=columns[i],width+=column.getActualWidth(),pixel<=width)return column;return columns[columns.length-1]},ColumnController.prototype.getViewportColumns=function(){var width=0,i;for(i=0;i<this.allDisplayedColumns.length;++i){var column=this.allDisplayedColumns[i];if(width+=column.getActualWidth(),width>this.totalWidth)break}return this.allDisplayedColumns.slice(0,i+1)},ColumnController.prototype.getColumnRect=function(column){for(var width=0,index=this.allDisplayedColumns.indexOf(column),i=0,column;i<this.allDisplayedColumns.length;++i)if(column=this.allDisplayedColumns[i],width+=column.getActualWidth(),i===index)return{left:width-column.getActualWidth(),right:width,width:column.getActualWidth()}},ColumnController.prototype.getGroupColumnRect=function(column){for(;column.getParent();)column=column.getParent();var parent=column,displayedColumns=this.getColumnGroup(parent.getGroupId()).getDisplayedLeafColumns(),firstColumn=displayedColumns[0],left=this.getColumnRect(firstColumn).left,width=displayedColumns.reduce(function(sum,c){return sum+c.getActualWidth()},0);return{left:left,right:left+width,width:width}},ColumnController.prototype.getActualRect=function(column){return column.getParent()?this.getGroupColumnRect(column):this.getColumnRect(column)},ColumnController.prototype.isLastColumn=function(column){return this.allDisplayedColumns.indexOf(column)===this.allDisplayedColumns.length-1},ColumnController.prototype.isLastViewportColumn=function(column){var columns=this.getViewportColumns();return columns.indexOf(column)===columns.length-1},ColumnController.prototype.isFirstColumn=function(column){return 0===this.allDisplayedColumns.indexOf(column)},ColumnController.prototype.isSecondColumn=function(column){return 1===this.allDisplayedColumns.indexOf(column)},ColumnController.prototype.getPrevColumn=function(column){var index=this.allDisplayedColumns.indexOf(column);return 0==index?column:this.allDisplayedColumns[index-1]},ColumnController.prototype.getNextColumn=function(column){var index=this.gridColumns.indexOf(column);return index==this.gridColumns.length-1?column:this.gridColumns[index+1]},ColumnController.prototype.setColumnGroupState=function(groupState){this.columnUtils.deptFirstDisplayedColumnTreeSearch(this.getAllDisplayedColumnGroups(),function(child){if(child instanceof columnGroup_1.ColumnGroup){var columnGroup=child,key=columnGroup.getGroupId(),shouldExpandGroup=!0===groupState[key]&&columnGroup.isExpandable();shouldExpandGroup&&columnGroup.setExpanded(!0)}})},ColumnController.prototype.calculateColumnsForDisplay=function(){var columnsForDisplay;return columnsForDisplay=this.pivotMode&&!this.secondaryColumnsPresent?this.createColumnsToDisplayFromValueColumns():utils_1.Utils.filter(this.gridColumns,function(column){return column.isVisible()}),this.createGroupAutoColumn(),this.groupAutoColumnActive&&columnsForDisplay.unshift(this.groupAutoColumn),columnsForDisplay},ColumnController.prototype.createColumnsToDisplayFromValueColumns=function(){var _this=this,result=this.valueColumns.slice();return result.sort(function(colA,colB){return _this.gridColumns.indexOf(colA)-_this.gridColumns.indexOf(colB)}),result},ColumnController.prototype.updateDisplayedColumns=function(){var oldGroupState=this.getColumnGroupState(),columnsForDisplay=this.calculateColumnsForDisplay();this.buildDisplayedTrees(columnsForDisplay),this.setColumnGroupState(oldGroupState),this.updateGroupsAndDisplayedColumns(),this.setFirstRightAndLastLeftPinned()},ColumnController.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},ColumnController.prototype.setSecondaryColumns=function(colDefs){var newColsPresent=colDefs&&0<colDefs.length;if(newColsPresent||this.secondaryColumnsPresent){if(newColsPresent){var balancedTreeResult=this.balancedColumnTreeBuilder.createBalancedColumnGroups(colDefs,!1);this.secondaryBalancedTree=balancedTreeResult.balancedTree,this.secondaryHeaderRowCount=balancedTreeResult.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.copyDownGridColumns(),this.updateDisplayedColumns()}},ColumnController.prototype.copyDownGridColumns=function(){this.secondaryColumns?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice()):(this.gridBalancedTree=this.primaryBalancedTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice()),this.clearDisplayedColumns();var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_GRID_COLUMNS_CHANGED);this.eventService.dispatchEvent(events_1.Events.EVENT_GRID_COLUMNS_CHANGED,event)},ColumnController.prototype.clearDisplayedColumns=function(){this.displayedLeftColumnTree=[],this.displayedRightColumnTree=[],this.displayedCentreColumnTree=[],this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={},this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.allDisplayedColumns=[],this.allDisplayedVirtualColumns=[]},ColumnController.prototype.updateGroupsAndDisplayedColumns=function(){this.updateGroups(),this.updateDisplayedColumnsFromTrees(),this.updateVirtualSets();var event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_DISPLAYED_COLUMNS_CHANGED);this.eventService.dispatchEvent(events_1.Events.EVENT_DISPLAYED_COLUMNS_CHANGED,event)},ColumnController.prototype.updateDisplayedColumnsFromTrees=function(){this.addToDisplayedColumns(this.displayedLeftColumnTree,this.displayedLeftColumns),this.addToDisplayedColumns(this.displayedCentreColumnTree,this.displayedCenterColumns),this.addToDisplayedColumns(this.displayedRightColumnTree,this.displayedRightColumns),this.allDisplayedColumns=this.displayedLeftColumns.concat(this.displayedCenterColumns).concat(this.displayedRightColumns),this.setLeftValues()},ColumnController.prototype.setLeftValues=function(){this.setLeftValuesOfColumns(),this.setLeftValuesOfGroups()},ColumnController.prototype.setLeftValuesOfColumns=function(){var allColumns=this.primaryColumns.slice(0);[this.displayedLeftColumns,this.displayedRightColumns,this.displayedCenterColumns].forEach(function(columns){var left=0;columns.forEach(function(column){column.setLeft(left),left+=column.getActualWidth(),utils_1.Utils.removeFromArray(allColumns,column)})}),allColumns.forEach(function(column){column.setLeft(null)})},ColumnController.prototype.setLeftValuesOfGroups=function(){[this.displayedLeftColumnTree,this.displayedRightColumnTree,this.displayedCentreColumnTree].forEach(function(columns){columns.forEach(function(column){if(column instanceof columnGroup_1.ColumnGroup){column.checkLeft()}})})},ColumnController.prototype.addToDisplayedColumns=function(displayedColumnTree,displayedColumns){displayedColumns.length=0,this.columnUtils.deptFirstDisplayedColumnTreeSearch(displayedColumnTree,function(child){child instanceof column_1.Column&&displayedColumns.push(child)})},ColumnController.prototype.updateDisplayedCenterVirtualColumns=function(){var skipVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation()||this.gridOptionsWrapper.isForPrint(),filteredCenterColumns;filteredCenterColumns=skipVirtualisation?this.displayedCenterColumns:this.filterOutColumnsWithinViewport(this.displayedCenterColumns),this.allDisplayedVirtualColumns=filteredCenterColumns.concat(this.displayedLeftColumns).concat(this.displayedRightColumns);var result={};return this.allDisplayedVirtualColumns.forEach(function(col){result[col.getId()]=!0}),result},ColumnController.prototype.getVirtualHeaderGroupRow=function(type,dept){var result;return result=type===column_1.Column.PINNED_LEFT?this.displayedLeftHeaderRows[dept]:type===column_1.Column.PINNED_RIGHT?this.displayedRightHeaderRows[dept]:this.displayedCentreHeaderRows[dept],utils_1.Utils.missing(result)&&(result=[]),result},ColumnController.prototype.updateDisplayedVirtualGroups=function(virtualColIds){function testGroup(children,result,dept){for(var returnValue=!1,i=0;i<children.length;i++){var child=children[i],addThisItem;if(child instanceof column_1.Column)addThisItem=!0===virtualColIds[child.getId()];else{addThisItem=testGroup(child.getDisplayedChildren(),result,dept+1)}addThisItem&&(returnValue=!0,!result[dept]&&(result[dept]=[]),result[dept].push(child))}return returnValue}this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={},testGroup(this.displayedLeftColumnTree,this.displayedLeftHeaderRows,0),testGroup(this.displayedRightColumnTree,this.displayedRightHeaderRows,0),testGroup(this.displayedCentreColumnTree,this.displayedCentreHeaderRows,0)},ColumnController.prototype.updateVirtualSets=function(){var virtualColIds=this.updateDisplayedCenterVirtualColumns();this.updateDisplayedVirtualGroups(virtualColIds)},ColumnController.prototype.filterOutColumnsWithinViewport=function(columns){var _this=this,result=utils_1.Utils.filter(columns,function(column){var columnLeft=column.getLeft(),columnRight=column.getLeft()+column.getActualWidth(),columnToMuchLeft=columnLeft<_this.viewportLeft&&columnRight<_this.viewportLeft,columnToMuchRight=columnLeft>_this.viewportRight&&columnRight>_this.viewportRight;return!columnToMuchLeft&&!columnToMuchRight});return result},ColumnController.prototype.sizeColumnsToFit=function(gridWidth){function moveToNotSpread(column){utils_1.Utils.removeFromArray(colsToSpread,column),colsToNotSpread.push(column)}function getTotalWidth(columns){for(var result=0,i=0;i<columns.length;i++)result+=columns[i].getActualWidth();return result}var allDisplayedColumns=this.getAllDisplayedColumns();if(!(0>=gridWidth||0===allDisplayedColumns.length)){var colsToNotSpread=utils_1.Utils.filter(allDisplayedColumns,function(column){return!0===column.getColDef().suppressSizeToFit}),colsToSpread=utils_1.Utils.filter(allDisplayedColumns,function(column){return!0!==column.getColDef().suppressSizeToFit}),colsToFireEventFor=colsToSpread.slice(0),totalSize=0,totalPixels=gridWidth-getTotalWidth(colsToNotSpread);if(colsToSpread.forEach(function(column){totalSize+=column.getMinWidth()}),totalSize>totalPixels)colsToSpread.forEach(function(column){column.setActualWidth(column.getMinFitWidth())});else for(var finishedResizing=!1;!finishedResizing;){finishedResizing=!0;var availablePixels=gridWidth-getTotalWidth(colsToNotSpread);if(0>=availablePixels)colsToSpread.forEach(function(column){column.setMinimum()});else for(var pixelsForLastCol=availablePixels,i=colsToSpread.length-1;0<=i;i--){var column=colsToSpread[i],preferredWidth=this.autoWidthCalculator.getPreferredWidthForColumn(column),normalizedWidth=this.normaliseColumnWidth(column,preferredWidth);normalizedWidth>column.getMaxFitWidth()?normalizedWidth=column.getMaxFitWidth():normalizedWidth<column.getMinFitWidth()&&(normalizedWidth=column.getMinFitWidth());var newWidth=_Mathround6(normalizedWidth);if(newWidth<column.getMinWidth()?(column.setMinimum(),moveToNotSpread(column),finishedResizing=!1):column.isGreaterThanMax(newWidth)?(column.setActualWidth(column.getMaxWidth()),moveToNotSpread(column),finishedResizing=!1):column.setActualWidth(newWidth),pixelsForLastCol-=newWidth,0===i&&0<pixelsForLastCol)for(var widthForEachCol=pixelsForLastCol/colsToSpread.length,j=0,col;j<colsToSpread.length;++j)col=colsToSpread[j],col.setActualWidth(col.getActualWidth()+widthForEachCol)}}if(this.setLeftValues(),colsToFireEventFor.length){var firstColumn=colsToFireEventFor[0],event=new columnChangeEvent_1.ColumnChangeEvent(events_1.Events.EVENT_COLUMN_RESIZED).withColumn(firstColumn).withSizeToFit(!0);this.eventService.dispatchEvent(events_1.Events.EVENT_COLUMN_RESIZED,event)}this.checkDisplayedCenterColumns()}},ColumnController.prototype.buildDisplayedTrees=function(visibleColumns){var leftVisibleColumns=utils_1.Utils.filter(visibleColumns,function(column){return"left"===column.getPinned()}),rightVisibleColumns=utils_1.Utils.filter(visibleColumns,function(column){return"right"===column.getPinned()}),centerVisibleColumns=utils_1.Utils.filter(visibleColumns,function(column){return"left"!==column.getPinned()&&"right"!==column.getPinned()}),groupInstanceIdCreator=new groupInstanceIdCreator_1.GroupInstanceIdCreator;this.displayedLeftColumnTree=this.displayedGroupCreator.createDisplayedGroups(leftVisibleColumns,this.gridBalancedTree,groupInstanceIdCreator),this.displayedRightColumnTree=this.displayedGroupCreator.createDisplayedGroups(rightVisibleColumns,this.gridBalancedTree,groupInstanceIdCreator),this.displayedCentreColumnTree=this.displayedGroupCreator.createDisplayedGroups(centerVisibleColumns,this.gridBalancedTree,groupInstanceIdCreator)},ColumnController.prototype.updateGroups=function(){var allGroups=this.getAllDisplayedColumnGroups();this.columnUtils.deptFirstAllColumnTreeSearch(allGroups,function(child){if(child instanceof columnGroup_1.ColumnGroup){child.calculateDisplayedColumns()}})},ColumnController.prototype.createGroupAutoColumn=function(){var needAGroupColumn=0<this.rowGroupColumns.length&&!this.gridOptionsWrapper.isGroupSuppressAutoColumn()&&!this.gridOptionsWrapper.isGroupUseEntireRow()&&!this.gridOptionsWrapper.isGroupSuppressRow();if(this.groupAutoColumnActive=needAGroupColumn,needAGroupColumn&&!this.groupAutoColumn){var autoColDef=this.gridOptionsWrapper.getGroupColumnDef();if(!autoColDef){var localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc();autoColDef={headerName:localeTextFunc("group","Group"),comparator:functions_1.defaultGroupComparator,valueGetter:function valueGetter(params){return params.node.group?params.node.key:params.data&&params.colDef.field?params.data[params.colDef.field]:null},cellRenderer:"group"}}autoColDef.suppressMovable=!0;var colId=ColumnController.GROUP_AUTO_COLUMN_ID;this.groupAutoColumn=new column_1.Column(autoColDef,colId,!0),this.context.wireBean(this.groupAutoColumn)}},ColumnController.prototype.createValueColumns=function(){this.valueColumns.forEach(function(column){return column.setValueActive(!1)}),this.valueColumns=[];for(var i=0,column;i<this.primaryColumns.length;i++)column=this.primaryColumns[i],column.getColDef().aggFunc&&(column.setAggFunc(column.getColDef().aggFunc),this.valueColumns.push(column),column.setValueActive(!0))},ColumnController.prototype.getWidthOfColsInList=function(columnList){for(var result=0,i=0;i<columnList.length;i++)result+=columnList[i].getActualWidth();return result},ColumnController.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],ColumnController.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("expressionService"),__metadata("design:type",expressionService_1.ExpressionService)],ColumnController.prototype,"expressionService",void 0),__decorate([context_1.Autowired("balancedColumnTreeBuilder"),__metadata("design:type",balancedColumnTreeBuilder_1.BalancedColumnTreeBuilder)],ColumnController.prototype,"balancedColumnTreeBuilder",void 0),__decorate([context_1.Autowired("displayedGroupCreator"),__metadata("design:type",displayedGroupCreator_1.DisplayedGroupCreator)],ColumnController.prototype,"displayedGroupCreator",void 0),__decorate([context_1.Autowired("autoWidthCalculator"),__metadata("design:type",autoWidthCalculator_1.AutoWidthCalculator)],ColumnController.prototype,"autoWidthCalculator",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],ColumnController.prototype,"eventService",void 0),__decorate([context_1.Autowired("columnUtils"),__metadata("design:type",columnUtils_1.ColumnUtils)],ColumnController.prototype,"columnUtils",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],ColumnController.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],ColumnController.prototype,"context",void 0),__decorate([context_1.Autowired("rowRenderer"),__metadata("design:type",rowRenderer_1.RowRenderer)],ColumnController.prototype,"rowRenderer",void 0),__decorate([context_1.Autowired("rangeController"),__metadata("design:type",Object)],ColumnController.prototype,"rangeController",void 0),__decorate([context_1.Optional("aggFuncService"),__metadata("design:type",Object)],ColumnController.prototype,"aggFuncService",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ColumnController.prototype,"init",null),__decorate([__param(0,context_1.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],ColumnController.prototype,"setBeans",null),ColumnController=__decorate([context_1.Bean("columnController"),__metadata("design:paramtypes",[])],ColumnController),ColumnController}();exports.ColumnController=ColumnController},function(module,exports,__webpack_require__){var column_1=__webpack_require__(17),eventService_1=__webpack_require__(6),ColumnGroup=function(){function ColumnGroup(originalColumnGroup,groupId,instanceId){this.displayedChildren=[],this.moving=!1,this.eventService=new eventService_1.EventService,this.groupId=groupId,this.instanceId=instanceId,this.originalColumnGroup=originalColumnGroup}return ColumnGroup.prototype.getUniqueId=function(){return this.groupId+"_"+this.instanceId},ColumnGroup.prototype.getHeaderName=function(){return this.originalColumnGroup.getColGroupDef()?this.originalColumnGroup.getColGroupDef().headerName:null},ColumnGroup.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(child){child instanceof ColumnGroup&&child.checkLeft()}),0<this.displayedChildren.length){var firstChildLeft=this.displayedChildren[0].getLeft();this.setLeft(firstChildLeft)}else this.setLeft(null)},ColumnGroup.prototype.getLeft=function(){return this.left},ColumnGroup.prototype.setLeft=function(left){this.left!==left&&(this.left=left,this.eventService.dispatchEvent(ColumnGroup.EVENT_LEFT_CHANGED))},ColumnGroup.prototype.addEventListener=function(eventType,listener){this.eventService.addEventListener(eventType,listener)},ColumnGroup.prototype.removeEventListener=function(eventType,listener){this.eventService.removeEventListener(eventType,listener)},ColumnGroup.prototype.setMoving=function(moving){this.getDisplayedLeafColumns().forEach(function(column){return column.setMoving(moving)})},ColumnGroup.prototype.isMoving=function(){return this.moving},ColumnGroup.prototype.getGroupId=function(){return this.groupId},ColumnGroup.prototype.getInstanceId=function(){return this.instanceId},ColumnGroup.prototype.isChildInThisGroupDeepSearch=function(wantedChild){var result=!1;return this.children.forEach(function(foundChild){wantedChild===foundChild&&(result=!0),foundChild instanceof ColumnGroup&&foundChild.isChildInThisGroupDeepSearch(wantedChild)&&(result=!0)}),result},ColumnGroup.prototype.getLevel=function(){return this.originalColumnGroup.getLevel()},ColumnGroup.prototype.getActualWidth=function(){var groupActualWidth=0;return this.displayedChildren&&this.displayedChildren.forEach(function(child){groupActualWidth+=child.getActualWidth()}),groupActualWidth},ColumnGroup.prototype.getMinWidth=function(){var result=0;return this.displayedChildren.forEach(function(groupChild){result+=groupChild.getMinWidth()}),result},ColumnGroup.prototype.addChild=function(child){this.children||(this.children=[]),this.children.push(child)},ColumnGroup.prototype.getDisplayedChildren=function(){return this.displayedChildren},ColumnGroup.prototype.getLeafColumns=function(){var result=[];return this.addLeafColumns(result),result},ColumnGroup.prototype.getDisplayedLeafColumns=function(){var result=[];return this.addDisplayedLeafColumns(result),result},ColumnGroup.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},ColumnGroup.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},ColumnGroup.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},ColumnGroup.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},ColumnGroup.prototype.setExpanded=function(expanded){this.originalColumnGroup.setExpanded(expanded)},ColumnGroup.prototype.addDisplayedLeafColumns=function(leafColumns){this.displayedChildren.forEach(function(child){child instanceof column_1.Column?leafColumns.push(child):child instanceof ColumnGroup&&child.addDisplayedLeafColumns(leafColumns)})},ColumnGroup.prototype.addLeafColumns=function(leafColumns){this.children.forEach(function(child){child instanceof column_1.Column?leafColumns.push(child):child instanceof ColumnGroup&&child.addLeafColumns(leafColumns)})},ColumnGroup.prototype.getChildren=function(){return this.children},ColumnGroup.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},ColumnGroup.prototype.getOriginalColumnGroup=function(){return this.originalColumnGroup},ColumnGroup.prototype.calculateDisplayedColumns=function(){if(this.displayedChildren=[],!this.originalColumnGroup.isExpandable())return void(this.displayedChildren=this.children);for(var i=0,j=this.children.length;i<j;i++){var abstractColumn=this.children[i],headerGroupShow=abstractColumn.getColumnGroupShow();headerGroupShow===ColumnGroup.HEADER_GROUP_SHOW_OPEN?this.originalColumnGroup.isExpanded()&&this.displayedChildren.push(abstractColumn):headerGroupShow===ColumnGroup.HEADER_GROUP_SHOW_CLOSED?this.originalColumnGroup.isExpanded()||this.displayedChildren.push(abstractColumn):this.displayedChildren.push(abstractColumn)}},ColumnGroup.HEADER_GROUP_SHOW_OPEN="open",ColumnGroup.HEADER_GROUP_SHOW_CLOSED="closed",ColumnGroup.HEADER_GROUP_SHOW_HIDDEN="hidden",ColumnGroup.EVENT_LEFT_CHANGED="leftChanged",ColumnGroup}();exports.ColumnGroup=ColumnGroup},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},eventService_1=__webpack_require__(6),utils_1=__webpack_require__(9),context_1=__webpack_require__(8),gridOptionsWrapper_1=__webpack_require__(5),columnUtils_1=__webpack_require__(18),Column=function(){function Column(colDef,colId,primary){this.moving=!1,this.filterActive=!1,this.eventService=new eventService_1.EventService,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=colDef,this.visible=!colDef.hide,this.sort=colDef.sort,this.sortedAt=colDef.sortedAt,this.colId=colId,this.primary=primary}return Column.prototype.initialise=function(){this.floatingCellRenderer=this.frameworkFactory.colDefFloatingCellRenderer(this.colDef),this.cellRenderer=this.frameworkFactory.colDefCellRenderer(this.colDef),this.cellEditor=this.frameworkFactory.colDefCellEditor(this.colDef),this.filter=this.frameworkFactory.colDefFilter(this.colDef),this.setPinned(this.colDef.pinned);var minColWidth=this.gridOptionsWrapper.getMinColWidth(),maxColWidth=this.gridOptionsWrapper.getMaxColWidth(),minFitColWidth=this.gridOptionsWrapper.getMinFitColWidth(),maxFitColWidth=this.gridOptionsWrapper.getMaxFitColWidth(),textCoefficient=-4.83827*Math.log(.0055*this.colDef.headerName.length);this.minWidth=this.colDef.minWidth?this.colDef.minWidth:minColWidth,this.maxWidth=this.colDef.maxWidth?this.colDef.maxWidth:maxColWidth,this.minFitWidth=this.colDef.minFitWidth?this.colDef.minFitWidth:this.colDef.headerName.length*textCoefficient>minFitColWidth?this.colDef.headerName.length*textCoefficient:minFitColWidth,this.maxFitWidth=this.colDef.maxFitWidth?this.colDef.maxFitWidth:maxFitColWidth,this.actualWidth=this.columnUtils.calculateColInitialWidth(this.colDef);var suppressDotNotation=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=utils_1.Utils.exists(this.colDef.field)&&0<=this.colDef.field.indexOf(".")&&!suppressDotNotation,this.tooltipFieldContainsDots=utils_1.Utils.exists(this.colDef.tooltipField)&&0<=this.colDef.tooltipField.indexOf(".")&&!suppressDotNotation,this.validate()},Column.prototype.getCellRenderer=function(){return this.cellRenderer},Column.prototype.getCellEditor=function(){return this.cellEditor},Column.prototype.getFloatingCellRenderer=function(){return this.floatingCellRenderer},Column.prototype.getFilter=function(){return this.filter},Column.prototype.getUniqueId=function(){return this.getId()},Column.prototype.isPrimary=function(){return this.primary},Column.prototype.isFilterAllowed=function(){return this.primary&&!this.colDef.suppressFilter},Column.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},Column.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},Column.prototype.getLevel=function(){},Column.prototype.setParent=function(group){this.parent=group},Column.prototype.getParent=function(){return this.parent},Column.prototype.getParentOfLevel=function(level){var current,parent;for(current=this;parent=current.getParent();){if(parent.getLevel()==level)return parent;current=parent}return null},Column.prototype.validate=function(){this.gridOptionsWrapper.isEnterprise()||(utils_1.Utils.exists(this.colDef.aggFunc)&&console.warn("ag-Grid: aggFunc is only valid in ag-Grid-Enterprise"),utils_1.Utils.exists(this.colDef.rowGroupIndex)&&console.warn("ag-Grid: rowGroupIndex is only valid in ag-Grid-Enterprise")),utils_1.Utils.exists(this.colDef.width)&&"number"!=typeof this.colDef.width&&console.warn("ag-Grid: colDef.width should be a number, not "+_typeof2(this.colDef.width))},Column.prototype.addEventListener=function(eventType,listener){this.eventService.addEventListener(eventType,listener)},Column.prototype.removeEventListener=function(eventType,listener){this.eventService.removeEventListener(eventType,listener)},Column.prototype.isCellEditable=function(rowNode){if("boolean"==typeof this.colDef.editable)return this.colDef.editable;if("function"==typeof this.colDef.editable){var params={node:rowNode,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()},editableFunc=this.colDef.editable;return editableFunc(params)}return!1},Column.prototype.setMoving=function(moving){this.moving=moving,this.eventService.dispatchEvent(Column.EVENT_MOVING_CHANGED)},Column.prototype.isMoving=function(){return this.moving},Column.prototype.getSort=function(){return this.sort},Column.prototype.setSort=function(sort){this.sort!==sort&&(this.sort=sort,this.eventService.dispatchEvent(Column.EVENT_SORT_CHANGED))},Column.prototype.isSortAscending=function(){return this.sort===Column.SORT_ASC},Column.prototype.isSortDescending=function(){return this.sort===Column.SORT_DESC},Column.prototype.isSortNone=function(){return utils_1.Utils.missing(this.sort)},Column.prototype.getSortedAt=function(){return this.sortedAt},Column.prototype.setSortedAt=function(sortedAt){this.sortedAt=sortedAt},Column.prototype.setAggFunc=function(aggFunc){this.aggFunc=aggFunc},Column.prototype.getAggFunc=function(){return this.aggFunc},Column.prototype.getLeft=function(){return this.left},Column.prototype.getRight=function(){return this.left+this.actualWidth},Column.prototype.setLeft=function(left){this.left!==left&&(this.left=left,this.eventService.dispatchEvent(Column.EVENT_LEFT_CHANGED))},Column.prototype.isFilterActive=function(){return this.filterActive},Column.prototype.setFilterActive=function(active){this.filterActive!==active&&(this.filterActive=active,this.eventService.dispatchEvent(Column.EVENT_FILTER_CHANGED))},Column.prototype.setPinned=function(pinned){this.gridOptionsWrapper.isForPrint()||(!0===pinned||pinned===Column.PINNED_LEFT?this.pinned=Column.PINNED_LEFT:pinned===Column.PINNED_RIGHT?this.pinned=Column.PINNED_RIGHT:this.pinned=null)},Column.prototype.setFirstRightPinned=function(firstRightPinned){this.firstRightPinned!==firstRightPinned&&(this.firstRightPinned=firstRightPinned,this.eventService.dispatchEvent(Column.EVENT_FIRST_RIGHT_PINNED_CHANGED))},Column.prototype.setLastLeftPinned=function(lastLeftPinned){this.lastLeftPinned!==lastLeftPinned&&(this.lastLeftPinned=lastLeftPinned,this.eventService.dispatchEvent(Column.EVENT_LAST_LEFT_PINNED_CHANGED))},Column.prototype.isFirstRightPinned=function(){return this.firstRightPinned},Column.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},Column.prototype.isPinned=function(){return this.pinned===Column.PINNED_LEFT||this.pinned===Column.PINNED_RIGHT},Column.prototype.isPinnedLeft=function(){return this.pinned===Column.PINNED_LEFT},Column.prototype.isPinnedRight=function(){return this.pinned===Column.PINNED_RIGHT},Column.prototype.getPinned=function(){return this.pinned},Column.prototype.setVisible=function(visible){var newValue=!0===visible;this.visible!==newValue&&(this.visible=newValue,this.eventService.dispatchEvent(Column.EVENT_VISIBLE_CHANGED))},Column.prototype.isVisible=function(){return this.visible},Column.prototype.getColDef=function(){return this.colDef},Column.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},Column.prototype.getColId=function(){return this.colId},Column.prototype.getId=function(){return this.getColId()},Column.prototype.getDefinition=function(){return this.colDef},Column.prototype.getActualWidth=function(){return this.actualWidth},Column.prototype.setActualWidth=function(actualWidth){this.actualWidth!==actualWidth&&(this.actualWidth=actualWidth,this.eventService.dispatchEvent(Column.EVENT_WIDTH_CHANGED))},Column.prototype.isGreaterThanMax=function(width){return!!this.maxWidth&&width>this.maxWidth},Column.prototype.getMinWidth=function(){return this.minWidth},Column.prototype.getMaxWidth=function(){return this.maxWidth},Column.prototype.getMinFitWidth=function(){return this.minFitWidth},Column.prototype.getMaxFitWidth=function(){return this.maxFitWidth},Column.prototype.setMinimum=function(){this.setActualWidth(this.minWidth)},Column.prototype.setRowGroupActive=function(rowGroup){this.rowGroupActive!==rowGroup&&(this.rowGroupActive=rowGroup,this.eventService.dispatchEvent(Column.EVENT_ROW_GROUP_CHANGED,this))},Column.prototype.isRowGroupActive=function(){return this.rowGroupActive},Column.prototype.setPivotActive=function(pivot){this.pivotActive!==pivot&&(this.pivotActive=pivot,this.eventService.dispatchEvent(Column.EVENT_PIVOT_CHANGED,this))},Column.prototype.isPivotActive=function(){return this.pivotActive},Column.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},Column.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},Column.prototype.setValueActive=function(value){this.aggregationActive!==value&&(this.aggregationActive=value,this.eventService.dispatchEvent(Column.EVENT_VALUE_CHANGED,this))},Column.prototype.isValueActive=function(){return this.aggregationActive},Column.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},Column.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},Column.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},Column.EVENT_MOVING_CHANGED="movingChanged",Column.EVENT_LEFT_CHANGED="leftChanged",Column.EVENT_WIDTH_CHANGED="widthChanged",Column.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",Column.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",Column.EVENT_VISIBLE_CHANGED="visibleChanged",Column.EVENT_FILTER_CHANGED="filterChanged",Column.EVENT_SORT_CHANGED="sortChanged",Column.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",Column.EVENT_PIVOT_CHANGED="columnPivotChanged",Column.EVENT_VALUE_CHANGED="columnValueChanged",Column.PINNED_RIGHT="right",Column.PINNED_LEFT="left",Column.SORT_ASC="asc",Column.SORT_DESC="desc",__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],Column.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("columnUtils"),__metadata("design:type",columnUtils_1.ColumnUtils)],Column.prototype,"columnUtils",void 0),__decorate([context_1.Autowired("frameworkFactory"),__metadata("design:type",Object)],Column.prototype,"frameworkFactory",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],Column.prototype,"initialise",null),Column}();exports.Column=Column},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},gridOptionsWrapper_1=__webpack_require__(5),columnGroup_1=__webpack_require__(16),originalColumnGroup_1=__webpack_require__(19),context_1=__webpack_require__(8),context_2=__webpack_require__(8),ColumnUtils=function(){function ColumnUtils(){}return ColumnUtils.prototype.calculateColInitialWidth=function(colDef){return colDef.width?colDef.width<this.gridOptionsWrapper.getMinColWidth()?this.gridOptionsWrapper.getMinColWidth():colDef.width:this.gridOptionsWrapper.getColWidth()},ColumnUtils.prototype.getOriginalPathForColumn=function(column,originalBalancedTree){function recursePath(balancedColumnTree,dept){for(var i=0;i<balancedColumnTree.length;i++){if(found)return;var node=balancedColumnTree[i];if(node instanceof originalColumnGroup_1.OriginalColumnGroup){recursePath(node.getChildren(),dept+1),result[dept]=node}else node===column&&(found=!0)}}var result=[],found=!1;return recursePath(originalBalancedTree,0),found?result:null},ColumnUtils.prototype.deptFirstOriginalTreeSearch=function(tree,callback){var _this=this;tree&&tree.forEach(function(child){child instanceof originalColumnGroup_1.OriginalColumnGroup&&_this.deptFirstOriginalTreeSearch(child.getChildren(),callback),callback(child)})},ColumnUtils.prototype.deptFirstAllColumnTreeSearch=function(tree,callback){var _this=this;tree&&tree.forEach(function(child){child instanceof columnGroup_1.ColumnGroup&&_this.deptFirstAllColumnTreeSearch(child.getChildren(),callback),callback(child)})},ColumnUtils.prototype.deptFirstDisplayedColumnTreeSearch=function(tree,callback){var _this=this;tree&&tree.forEach(function(child){child instanceof columnGroup_1.ColumnGroup&&_this.deptFirstDisplayedColumnTreeSearch(child.getDisplayedChildren(),callback),callback(child)})},__decorate([context_2.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],ColumnUtils.prototype,"gridOptionsWrapper",void 0),ColumnUtils=__decorate([context_1.Bean("columnUtils"),__metadata("design:paramtypes",[])],ColumnUtils),ColumnUtils}();exports.ColumnUtils=ColumnUtils},function(module,exports,__webpack_require__){var columnGroup_1=__webpack_require__(16),column_1=__webpack_require__(17),OriginalColumnGroup=function(){function OriginalColumnGroup(colGroupDef,groupId,level){this.expandable=!1,this.colGroupDef=colGroupDef,this.groupId=groupId,this.level=level,this.expanded=colGroupDef&&!!colGroupDef.openByDefault}return OriginalColumnGroup.prototype.setExpanded=function(expanded){this.expanded=expanded},OriginalColumnGroup.prototype.isExpandable=function(){return this.expandable},OriginalColumnGroup.prototype.isExpanded=function(){return this.expanded},OriginalColumnGroup.prototype.getGroupId=function(){return this.groupId},OriginalColumnGroup.prototype.getId=function(){return this.getGroupId()},OriginalColumnGroup.prototype.getLevel=function(){return this.level},OriginalColumnGroup.prototype.setParent=function(group){this.parent=group},OriginalColumnGroup.prototype.getParent=function(){return this.parent},OriginalColumnGroup.prototype.setChildren=function(children){if(this.children=children,children)for(var _i=0,child;_i<children.length;_i++)child=children[_i],child.setParent(this)},OriginalColumnGroup.prototype.getChildren=function(){return this.children},OriginalColumnGroup.prototype.getColGroupDef=function(){return this.colGroupDef},OriginalColumnGroup.prototype.getLeafColumns=function(){var result=[];return this.addLeafColumns(result),result},OriginalColumnGroup.prototype.addLeafColumns=function(leafColumns){this.children.forEach(function(child){child instanceof column_1.Column?leafColumns.push(child):child instanceof OriginalColumnGroup&&child.addLeafColumns(leafColumns)})},OriginalColumnGroup.prototype.getColumnGroupShow=function(){return this.colGroupDef?this.colGroupDef.columnGroupShow:this.children[0].getColumnGroupShow()},OriginalColumnGroup.prototype.calculateExpandable=function(){for(var atLeastOneShowingWhenOpen=!1,atLeastOneShowingWhenClosed=!1,atLeastOneChangeable=!1,i=0,j=this.children.length;i<j;i++){var abstractColumn=this.children[i],headerGroupShow=abstractColumn.getColumnGroupShow();headerGroupShow===columnGroup_1.ColumnGroup.HEADER_GROUP_SHOW_OPEN?(atLeastOneShowingWhenOpen=!0,atLeastOneChangeable=!0):headerGroupShow===columnGroup_1.ColumnGroup.HEADER_GROUP_SHOW_CLOSED?(atLeastOneShowingWhenClosed=!0,atLeastOneChangeable=!0):(atLeastOneShowingWhenOpen=!0,atLeastOneShowingWhenClosed=!0)}this.expandable=atLeastOneShowingWhenOpen&&atLeastOneShowingWhenClosed&&atLeastOneChangeable},OriginalColumnGroup}();exports.OriginalColumnGroup=OriginalColumnGroup},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},logger_1=__webpack_require__(7),context_1=__webpack_require__(8),context_2=__webpack_require__(8),ExpressionService=function(){function ExpressionService(){this.expressionToFunctionCache={}}return ExpressionService.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create("ExpressionService")},ExpressionService.prototype.evaluate=function(expression,params){try{var javaScriptFunction=this.createExpressionFunction(expression),result=javaScriptFunction(params.value,params.context,params.node,params.data,params.colDef,params.rowIndex,params.api,params.getValue);return result}catch(e){return this.logger.log("Processing of the expression failed"),this.logger.log("Expression = "+expression),this.logger.log("Exception = "+e),null}},ExpressionService.prototype.createExpressionFunction=function(expression){if(this.expressionToFunctionCache[expression])return this.expressionToFunctionCache[expression];var functionBody=this.createFunctionBody(expression),theFunction=new Function("x, ctx, node, data, colDef, rowIndex, api, getValue",functionBody);return this.expressionToFunctionCache[expression]=theFunction,theFunction},ExpressionService.prototype.createFunctionBody=function(expression){return 0<=expression.indexOf("return")?expression:"return "+expression+";"},__decorate([__param(0,context_2.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],ExpressionService.prototype,"setBeans",null),ExpressionService=__decorate([context_1.Bean("expressionService"),__metadata("design:paramtypes",[])],ExpressionService),ExpressionService}();exports.ExpressionService=ExpressionService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},gridOptionsWrapper_1=__webpack_require__(5),logger_1=__webpack_require__(7),columnUtils_1=__webpack_require__(18),columnKeyCreator_1=__webpack_require__(22),originalColumnGroup_1=__webpack_require__(19),column_1=__webpack_require__(17),context_1=__webpack_require__(8),context_2=__webpack_require__(8),context_3=__webpack_require__(8),context_4=__webpack_require__(8),BalancedColumnTreeBuilder=function(){function BalancedColumnTreeBuilder(){}return BalancedColumnTreeBuilder.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create("BalancedColumnTreeBuilder")},BalancedColumnTreeBuilder.prototype.createBalancedColumnGroups=function(abstractColDefs,primaryColumns){var columnKeyCreator=new columnKeyCreator_1.ColumnKeyCreator,unbalancedTree=this.recursivelyCreateColumns(abstractColDefs,0,columnKeyCreator,primaryColumns),treeDept=this.findMaxDept(unbalancedTree,0);this.logger.log("Number of levels for grouped columns is "+treeDept);var balancedTree=this.balanceColumnTree(unbalancedTree,0,treeDept,columnKeyCreator);return this.columnUtils.deptFirstOriginalTreeSearch(balancedTree,function(child){child instanceof originalColumnGroup_1.OriginalColumnGroup&&child.calculateExpandable()}),{balancedTree:balancedTree,treeDept:treeDept}},BalancedColumnTreeBuilder.prototype.balanceColumnTree=function(unbalancedTree,currentDept,columnDept,columnKeyCreator){var _this=this,result=[];return unbalancedTree.forEach(function(child){if(child instanceof originalColumnGroup_1.OriginalColumnGroup){var originalGroup=child,newChildren=_this.balanceColumnTree(originalGroup.getChildren(),currentDept+1,columnDept,columnKeyCreator);originalGroup.setChildren(newChildren),result.push(originalGroup)}else{for(var newChild=child,i=columnDept-1;i>=currentDept;i--){var newColId=columnKeyCreator.getUniqueKey(null,null),paddedGroup=new originalColumnGroup_1.OriginalColumnGroup(null,newColId,i);paddedGroup.setChildren([newChild]),newChild=paddedGroup}result.push(newChild)}}),result},BalancedColumnTreeBuilder.prototype.findMaxDept=function(treeChildren,dept){for(var maxDeptThisLevel=dept,i=0,abstractColumn;i<treeChildren.length;i++)if(abstractColumn=treeChildren[i],abstractColumn instanceof originalColumnGroup_1.OriginalColumnGroup){var originalGroup=abstractColumn,newDept=this.findMaxDept(originalGroup.getChildren(),dept+1);maxDeptThisLevel<newDept&&(maxDeptThisLevel=newDept)}return maxDeptThisLevel},BalancedColumnTreeBuilder.prototype.recursivelyCreateColumns=function(abstractColDefs,level,columnKeyCreator,primaryColumns){var _this=this,result=[];return abstractColDefs?(abstractColDefs.forEach(function(abstractColDef){if(_this.checkForDeprecatedItems(abstractColDef),_this.isColumnGroup(abstractColDef)){var groupColDef=abstractColDef,groupId=groupColDef.groupId,originalGroup=new originalColumnGroup_1.OriginalColumnGroup(groupColDef,groupId,level),children=_this.recursivelyCreateColumns(groupColDef.children,level+1,columnKeyCreator,primaryColumns);originalGroup.setChildren(children),result.push(originalGroup)}else{var colDef=abstractColDef,colId=colDef.colId,column=new column_1.Column(colDef,colId,primaryColumns);_this.context.wireBean(column),result.push(column)}}),result):result},BalancedColumnTreeBuilder.prototype.checkForDeprecatedItems=function(colDef){if(colDef){var colDefNoType=colDef;void 0!==colDefNoType.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==colDefNoType.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==colDefNoType.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==colDefNoType.suppressRowGroup&&console.warn("ag-grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==colDefNoType.suppressAggregation&&console.warn("ag-grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(colDefNoType.suppressRowGroup||colDefNoType.suppressAggregation)&&console.warn("ag-grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),colDefNoType.displayName&&(console.warn("ag-grid: Found displayName "+colDefNoType.displayName+", please use headerName instead, displayName is deprecated."),colDefNoType.headerName=colDefNoType.displayName)}},BalancedColumnTreeBuilder.prototype.isColumnGroup=function(abstractColDef){return void 0!==abstractColDef.children},__decorate([context_3.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],BalancedColumnTreeBuilder.prototype,"gridOptionsWrapper",void 0),__decorate([context_3.Autowired("columnUtils"),__metadata("design:type",columnUtils_1.ColumnUtils)],BalancedColumnTreeBuilder.prototype,"columnUtils",void 0),__decorate([context_3.Autowired("context"),__metadata("design:type",context_4.Context)],BalancedColumnTreeBuilder.prototype,"context",void 0),__decorate([__param(0,context_2.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],BalancedColumnTreeBuilder.prototype,"setBeans",null),BalancedColumnTreeBuilder=__decorate([context_1.Bean("balancedColumnTreeBuilder"),__metadata("design:paramtypes",[])],BalancedColumnTreeBuilder),BalancedColumnTreeBuilder}();exports.BalancedColumnTreeBuilder=BalancedColumnTreeBuilder},function(module,exports,__webpack_require__){var utils_1=__webpack_require__(9),ColumnKeyCreator=function(){function ColumnKeyCreator(){this.existingKeys=[]}return ColumnKeyCreator.prototype.getUniqueKey=function(colId,colField){colId=utils_1.Utils.toStringOrNull(colId);for(var count=0;;){var idToTry;if(colId?(idToTry=colId,0!=count&&(idToTry+="_"+count)):colField?(idToTry=colField,0!=count&&(idToTry+="_"+count)):idToTry=""+count,0>this.existingKeys.indexOf(idToTry))return this.existingKeys.push(idToTry),idToTry;count++}},ColumnKeyCreator}();exports.ColumnKeyCreator=ColumnKeyCreator},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},columnUtils_1=__webpack_require__(18),columnGroup_1=__webpack_require__(16),originalColumnGroup_1=__webpack_require__(19),context_1=__webpack_require__(8),context_2=__webpack_require__(8),DisplayedGroupCreator=function(){function DisplayedGroupCreator(){}return DisplayedGroupCreator.prototype.createDisplayedGroups=function(sortedVisibleColumns,balancedColumnTree,groupInstanceIdCreator){var _this=this,result=[],previousRealPath,previousOriginalPath;return sortedVisibleColumns.forEach(function(currentColumn){for(var currentOriginalPath=_this.getOriginalPathForColumn(balancedColumnTree,currentColumn),currentRealPath=[],firstColumn=!previousOriginalPath,i=0;i<currentOriginalPath.length;i++)if(firstColumn||currentOriginalPath[i]!==previousOriginalPath[i]){var originalGroup=currentOriginalPath[i],groupId=originalGroup.getGroupId(),instanceId=groupInstanceIdCreator.getInstanceIdForKey(groupId),newGroup=new columnGroup_1.ColumnGroup(originalGroup,groupId,instanceId);currentRealPath[i]=newGroup,0==i?result.push(newGroup):currentRealPath[i-1].addChild(newGroup)}else currentRealPath[i]=previousRealPath[i];var noColumnGroups=0===currentRealPath.length;if(noColumnGroups)result.push(currentColumn);else{var leafGroup=currentRealPath[currentRealPath.length-1];leafGroup.addChild(currentColumn)}previousRealPath=currentRealPath,previousOriginalPath=currentOriginalPath}),result},DisplayedGroupCreator.prototype.createFakePath=function(balancedColumnTree){for(var result=[],currentChildren=balancedColumnTree,index=0;currentChildren&&currentChildren[0]&&currentChildren[0]instanceof originalColumnGroup_1.OriginalColumnGroup;)result.push(new originalColumnGroup_1.OriginalColumnGroup(null,"FAKE_PATH_"+index,0)),currentChildren=currentChildren[0].getChildren(),index++;return result},DisplayedGroupCreator.prototype.getOriginalPathForColumn=function(balancedColumnTree,column){function recursePath(balancedColumnTree,dept){for(var i=0;i<balancedColumnTree.length;i++){if(found)return;var node=balancedColumnTree[i];if(node instanceof originalColumnGroup_1.OriginalColumnGroup){recursePath(node.getChildren(),dept+1),result[dept]=node}else node===column&&(found=!0)}}var result=[],found=!1;return recursePath(balancedColumnTree,0),found?result:this.createFakePath(balancedColumnTree)},__decorate([context_2.Autowired("columnUtils"),__metadata("design:type",columnUtils_1.ColumnUtils)],DisplayedGroupCreator.prototype,"columnUtils",void 0),DisplayedGroupCreator=__decorate([context_1.Bean("displayedGroupCreator"),__metadata("design:paramtypes",[])],DisplayedGroupCreator),DisplayedGroupCreator}();exports.DisplayedGroupCreator=DisplayedGroupCreator},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},rowRenderer_1=__webpack_require__(25),gridPanel_1=__webpack_require__(26),context_1=__webpack_require__(8),context_2=__webpack_require__(8),headerRenderer_1=__webpack_require__(76),renderedHeaderCell_1=__webpack_require__(82),gridOptionsWrapper_1=__webpack_require__(5),AutoWidthCalculator=function(){function AutoWidthCalculator(){}return AutoWidthCalculator.prototype.getPreferredWidthForColumn=function(column){var renderedHeaderCell=this.getHeaderCellForColumn(column);if(!renderedHeaderCell)return-1;var eDummyContainer=document.createElement("span");eDummyContainer.style.position="fixed";var eBodyContainer=this.gridPanel.getBodyContainer();eBodyContainer.appendChild(eDummyContainer),this.putRowCellsIntoDummyContainer(column,eDummyContainer),this.cloneItemIntoDummy(renderedHeaderCell.getGui(),eDummyContainer);var dummyContainerWidth=eDummyContainer.offsetWidth;eBodyContainer.removeChild(eDummyContainer);var autoSizePadding=this.gridOptionsWrapper.getAutoSizePadding();return("number"!=typeof autoSizePadding||0>autoSizePadding)&&(autoSizePadding=4),dummyContainerWidth+autoSizePadding},AutoWidthCalculator.prototype.getHeaderCellForColumn=function(column){var renderedHeaderCell=null;return this.headerRenderer.forEachHeaderElement(function(headerElement){if(headerElement instanceof renderedHeaderCell_1.RenderedHeaderCell){var currentCell=headerElement;currentCell.getColumn()===column&&(renderedHeaderCell=currentCell)}}),renderedHeaderCell},AutoWidthCalculator.prototype.putRowCellsIntoDummyContainer=function(column,eDummyContainer){var _this=this,eOriginalCells=this.rowRenderer.getAllCellsForColumn(column);eOriginalCells.forEach(function(eCell){_this.cloneItemIntoDummy(eCell,eDummyContainer)})},AutoWidthCalculator.prototype.cloneItemIntoDummy=function(eCell,eDummyContainer){var eCellClone=eCell.cloneNode(!0);eCellClone.style.width="",eCellClone.style.position="static",eCellClone.style.left="";var eCloneParent=document.createElement("div");eCloneParent.style.display="table-row",eCloneParent.appendChild(eCellClone),eDummyContainer.appendChild(eCloneParent)},__decorate([context_2.Autowired("rowRenderer"),__metadata("design:type",rowRenderer_1.RowRenderer)],AutoWidthCalculator.prototype,"rowRenderer",void 0),__decorate([context_2.Autowired("headerRenderer"),__metadata("design:type",headerRenderer_1.HeaderRenderer)],AutoWidthCalculator.prototype,"headerRenderer",void 0),__decorate([context_2.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],AutoWidthCalculator.prototype,"gridPanel",void 0),__decorate([context_2.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],AutoWidthCalculator.prototype,"gridOptionsWrapper",void 0),AutoWidthCalculator=__decorate([context_1.Bean("autoWidthCalculator"),__metadata("design:paramtypes",[])],AutoWidthCalculator),AutoWidthCalculator}();exports.AutoWidthCalculator=AutoWidthCalculator},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},utils_1=__webpack_require__(9),gridOptionsWrapper_1=__webpack_require__(5),gridPanel_1=__webpack_require__(26),expressionService_1=__webpack_require__(20),templateService_1=__webpack_require__(54),valueService_1=__webpack_require__(31),eventService_1=__webpack_require__(6),floatingRowModel_1=__webpack_require__(28),renderedRow_1=__webpack_require__(55),events_1=__webpack_require__(12),constants_1=__webpack_require__(10),context_1=__webpack_require__(8),gridCore_1=__webpack_require__(47),columnController_1=__webpack_require__(15),logger_1=__webpack_require__(7),focusedCellController_1=__webpack_require__(38),cellNavigationService_1=__webpack_require__(75),gridCell_1=__webpack_require__(36),RowRenderer=function(){function RowRenderer(){this.renderedRows={},this.renderedTopFloatingRows=[],this.renderedBottomFloatingRows=[],this.destroyFunctions=[]}return RowRenderer.prototype.agWire=function(loggerFactory){this.logger=this.loggerFactory.create("RowRenderer"),this.logger=loggerFactory.create("BalancedColumnTreeBuilder")},RowRenderer.prototype.init=function(){var _this=this;this.getContainersFromGridPanel();var columnListener=this.onColumnEvent.bind(this),refreshViewListener=this.refreshView.bind(this);this.eventService.addEventListener(events_1.Events.EVENT_DISPLAYED_COLUMNS_CHANGED,columnListener),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_RESIZED,columnListener),this.eventService.addEventListener(events_1.Events.EVENT_MODEL_UPDATED,refreshViewListener),this.eventService.addEventListener(events_1.Events.EVENT_FLOATING_ROW_DATA_CHANGED,refreshViewListener),this.destroyFunctions.push(function(){_this.eventService.removeEventListener(events_1.Events.EVENT_DISPLAYED_COLUMNS_CHANGED,columnListener),_this.eventService.removeEventListener(events_1.Events.EVENT_COLUMN_RESIZED,columnListener),_this.eventService.removeEventListener(events_1.Events.EVENT_MODEL_UPDATED,refreshViewListener),_this.eventService.removeEventListener(events_1.Events.EVENT_FLOATING_ROW_DATA_CHANGED,refreshViewListener)}),this.refreshView()},RowRenderer.prototype.onColumnEvent=function(){this.setMainRowWidths()},RowRenderer.prototype.getContainersFromGridPanel=function(){this.eFullWidthContainer=this.gridPanel.getFullWidthCellContainer(),this.eBodyContainer=this.gridPanel.getBodyContainer(),this.ePinnedLeftColsContainer=this.gridPanel.getPinnedLeftColsContainer(),this.ePinnedRightColsContainer=this.gridPanel.getPinnedRightColsContainer(),this.ePinnedLeftColsViewport=this.gridPanel.getPinnedLeftColsViewport(),this.ePinnedRightColsViewport=this.gridPanel.getPinnedRightColsContainer(),this.eFloatingTopContainer=this.gridPanel.getFloatingTopContainer(),this.eFloatingTopPinnedLeftContainer=this.gridPanel.getPinnedLeftFloatingTop(),this.eFloatingTopPinnedRightContainer=this.gridPanel.getPinnedRightFloatingTop(),this.eFloatingTopFullWidthContainer=this.gridPanel.getFloatingTopFullWidthCellContainer(),this.eFloatingBottomContainer=this.gridPanel.getFloatingBottomContainer(),this.eFloatingBottomPinnedLeftContainer=this.gridPanel.getPinnedLeftFloatingBottom(),this.eFloatingBottomPinnedRightContainer=this.gridPanel.getPinnedRightFloatingBottom(),this.eFloatingBottomFullWithContainer=this.gridPanel.getFloatingBottomFullWidthCellContainer(),this.eBodyViewport=this.gridPanel.getBodyViewport(),this.eAllBodyContainers=[this.eBodyContainer,this.eFloatingBottomContainer,this.eFloatingTopContainer],this.eAllPinnedLeftContainers=[this.ePinnedLeftColsContainer,this.eFloatingBottomPinnedLeftContainer,this.eFloatingTopPinnedLeftContainer],this.eAllPinnedRightContainers=[this.ePinnedRightColsContainer,this.eFloatingBottomPinnedRightContainer,this.eFloatingTopPinnedRightContainer]},RowRenderer.prototype.setRowModel=function(rowModel){this.rowModel=rowModel},RowRenderer.prototype.getAllCellsForColumn=function(column){function callback(key,renderedRow){var eCell=renderedRow.getCellForCol(column);eCell&&eCells.push(eCell)}var eCells=[];return utils_1.Utils.iterateObject(this.renderedRows,callback),utils_1.Utils.iterateObject(this.renderedBottomFloatingRows,callback),utils_1.Utils.iterateObject(this.renderedBottomFloatingRows,callback),eCells},RowRenderer.prototype.setMainRowWidths=function(){var mainRowWidth=this.columnController.getBodyContainerWidth()+"px";this.eAllBodyContainers.forEach(function(container){for(var unpinnedRows=container.querySelectorAll(".ag-row"),i=0;i<unpinnedRows.length;i++)unpinnedRows[i].style.width=mainRowWidth})},RowRenderer.prototype.refreshAllFloatingRows=function(){this.refreshFloatingRows(this.renderedTopFloatingRows,this.floatingRowModel.getFloatingTopRowData(),this.eFloatingTopPinnedLeftContainer,this.eFloatingTopPinnedRightContainer,this.eFloatingTopContainer,this.eFloatingTopFullWidthContainer),this.refreshFloatingRows(this.renderedBottomFloatingRows,this.floatingRowModel.getFloatingBottomRowData(),this.eFloatingBottomPinnedLeftContainer,this.eFloatingBottomPinnedRightContainer,this.eFloatingBottomContainer,this.eFloatingBottomFullWithContainer)},RowRenderer.prototype.refreshFloatingRows=function(renderedRows,rowNodes,ePinnedLeftContainer,ePinnedRightContainer,eBodyContainer,eFullWidthContainer){var _this=this;renderedRows.forEach(function(row){row.destroy()}),renderedRows.length=0;var columns=this.columnController.getAllDisplayedColumns();utils_1.Utils.missingOrEmpty(columns)||rowNodes&&rowNodes.forEach(function(node,rowIndex){var renderedRow=new renderedRow_1.RenderedRow(_this.$scope,_this,eBodyContainer,eFullWidthContainer,ePinnedLeftContainer,ePinnedRightContainer,node,rowIndex);_this.context.wireBean(renderedRow),renderedRows.push(renderedRow)})},RowRenderer.prototype.getTopFloatingTopLevelNodes=function(){return this.floatingRowModel.getTopFloatingTopLevelNodes()},RowRenderer.prototype.refreshView=function(refreshEvent){this.logger.log("refreshView");var focusedCell=this.focusedCellController.getFocusCellToUseAfterRefresh(),refreshFromIndex=refreshEvent?refreshEvent.fromIndex:null;if(!this.gridOptionsWrapper.isForPrint()){var containerHeight=this.rowModel.getRowCombinedHeight();this.eBodyContainer.style.height=containerHeight+"px",this.eFullWidthContainer.style.height=containerHeight+"px",this.ePinnedLeftColsContainer.style.height=containerHeight+"px",this.ePinnedRightColsContainer.style.height=containerHeight+"px"}this.refreshAllVirtualRows(refreshFromIndex),this.refreshAllFloatingRows(),this.restoreFocusedCell(focusedCell)},RowRenderer.prototype.restoreFocusedCell=function(gridCell){gridCell&&this.focusedCellController.setFocusedCell(gridCell.rowIndex,gridCell.column,gridCell.floating,!0)},RowRenderer.prototype.softRefreshView=function(){var focusedCell=this.focusedCellController.getFocusCellToUseAfterRefresh();this.forEachRenderedCell(function(renderedCell){renderedCell.isVolatile()&&renderedCell.refreshCell()}),this.restoreFocusedCell(focusedCell)},RowRenderer.prototype.stopEditing=function(cancel){void 0===cancel&&(cancel=!1),this.forEachRenderedCell(function(renderedCell){renderedCell.stopEditing(cancel)})},RowRenderer.prototype.forEachRenderedCell=function(callback){utils_1.Utils.iterateObject(this.renderedRows,function(key,renderedRow){renderedRow.forEachRenderedCell(callback)})},RowRenderer.prototype.forEachRenderedRow=function(callback){utils_1.Utils.iterateObject(this.renderedRows,callback),utils_1.Utils.iterateObject(this.renderedTopFloatingRows,callback),utils_1.Utils.iterateObject(this.renderedBottomFloatingRows,callback)},RowRenderer.prototype.addRenderedRowListener=function(eventName,rowIndex,callback){var renderedRow=this.renderedRows[rowIndex];renderedRow.addEventListener(eventName,callback)},RowRenderer.prototype.refreshRows=function(rowNodes){if(rowNodes&&0!=rowNodes.length){var focusedCell=this.focusedCellController.getFocusCellToUseAfterRefresh(),indexesToRemove=[];utils_1.Utils.iterateObject(this.renderedRows,function(key,renderedRow){var rowNode=renderedRow.getRowNode();0<=rowNodes.indexOf(rowNode)&&indexesToRemove.push(key)}),this.removeVirtualRow(indexesToRemove),this.drawVirtualRows(),this.restoreFocusedCell(focusedCell)}},RowRenderer.prototype.refreshCells=function(rowNodes,colIds,animate){void 0===animate&&(animate=!1),rowNodes&&0!=rowNodes.length&&utils_1.Utils.iterateObject(this.renderedRows,function(key,renderedRow){var rowNode=renderedRow.getRowNode();0<=rowNodes.indexOf(rowNode)&&renderedRow.refreshCells(colIds,animate)})},RowRenderer.prototype.rowDataChanged=function(rows){var indexesToRemove=[],renderedRows=this.renderedRows;Object.keys(renderedRows).forEach(function(index){var renderedRow=renderedRows[index];renderedRow.isDataInList(rows)&&indexesToRemove.push(index)}),this.removeVirtualRow(indexesToRemove),this.drawVirtualRows()},RowRenderer.prototype.destroy=function(){this.destroyFunctions.forEach(function(func){return func()});var rowsToRemove=Object.keys(this.renderedRows);this.removeVirtualRow(rowsToRemove)},RowRenderer.prototype.refreshAllVirtualRows=function(fromIndex){var rowsToRemove=Object.keys(this.renderedRows);this.removeVirtualRow(rowsToRemove,fromIndex),this.drawVirtualRows()},RowRenderer.prototype.refreshGroupRows=function(){var _this=this,rowsToRemove=[];Object.keys(this.renderedRows).forEach(function(index){var renderedRow=_this.renderedRows[index];renderedRow.isGroup()&&rowsToRemove.push(index)}),this.removeVirtualRow(rowsToRemove),this.ensureRowsRendered()},RowRenderer.prototype.removeVirtualRow=function(rowsToRemove,fromIndex){var that=this,realFromIndex="number"==typeof fromIndex?fromIndex:-1;rowsToRemove.forEach(function(indexToRemove){indexToRemove>=realFromIndex&&that.unbindVirtualRow(indexToRemove)})},RowRenderer.prototype.unbindVirtualRow=function(indexToRemove){var renderedRow=this.renderedRows[indexToRemove];renderedRow.destroy();var event={node:renderedRow.getRowNode(),rowIndex:indexToRemove};this.eventService.dispatchEvent(events_1.Events.EVENT_VIRTUAL_ROW_REMOVED,event),delete this.renderedRows[indexToRemove]},RowRenderer.prototype.drawVirtualRows=function(){this.workOutFirstAndLastRowsToRender(),this.ensureRowsRendered();var focusedCell=this.focusedCellController.getFocusedCell();this.restoreFocusedCell(focusedCell)},RowRenderer.prototype.workOutFirstAndLastRowsToRender=function(){var newFirst,newLast;if(!this.rowModel.isRowsToRender())newFirst=0,newLast=-1;else{var rowCount=this.rowModel.getRowCount();if(this.gridOptionsWrapper.isForPrint())newFirst=0,newLast=rowCount;else{var topPixel=this.eBodyViewport.scrollTop,bottomPixel=topPixel+this.eBodyViewport.offsetHeight,first=this.rowModel.getRowIndexAtPixel(topPixel),last=this.rowModel.getRowIndexAtPixel(bottomPixel),buffer=this.gridOptionsWrapper.getRowBuffer();first-=buffer,last+=buffer,0>first&&(first=0),last>rowCount-1&&(last=rowCount-1),newFirst=first,newLast=last}}var firstDiffers=newFirst!==this.firstRenderedRow,lastDiffers=newLast!==this.lastRenderedRow;if(firstDiffers||lastDiffers){this.firstRenderedRow=newFirst,this.lastRenderedRow=newLast;var event={firstRow:newFirst,lastRow:newLast};this.eventService.dispatchEvent(events_1.Events.EVENT_VIEWPORT_CHANGED,event)}},RowRenderer.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},RowRenderer.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},RowRenderer.prototype.ensureRowsRendered=function(){for(var _this=this,rowsToRemove=Object.keys(this.renderedRows),rowIndex=this.firstRenderedRow;rowIndex<=this.lastRenderedRow;rowIndex++){if(0<=rowsToRemove.indexOf(rowIndex.toString())){rowsToRemove.splice(rowsToRemove.indexOf(rowIndex.toString()),1);continue}var node=this.rowModel.getRow(rowIndex);node&&this.insertRow(node,rowIndex)}this.removeVirtualRow(rowsToRemove),this.gridOptionsWrapper.isAngularCompileRows()&&setTimeout(function(){_this.$scope.$apply()},0)},RowRenderer.prototype.onMouseEvent=function(eventName,mouseEvent,cell){var renderedRow;switch(cell.floating){case constants_1.Constants.FLOATING_TOP:renderedRow=this.renderedTopFloatingRows[cell.rowIndex];break;case constants_1.Constants.FLOATING_BOTTOM:renderedRow=this.renderedBottomFloatingRows[cell.rowIndex];break;default:renderedRow=this.renderedRows[cell.rowIndex];}renderedRow&&renderedRow.onMouseEvent(eventName,mouseEvent,cell)},RowRenderer.prototype.insertRow=function(node,rowIndex){var columns=this.columnController.getAllDisplayedColumns();if(!utils_1.Utils.missingOrEmpty(columns)){var renderedRow=new renderedRow_1.RenderedRow(this.$scope,this,this.eBodyContainer,this.eFullWidthContainer,this.ePinnedLeftColsContainer,this.ePinnedRightColsContainer,node,rowIndex);this.context.wireBean(renderedRow),this.renderedRows[rowIndex]=renderedRow}},RowRenderer.prototype.getRenderedNodes=function(){var renderedRows=this.renderedRows;return Object.keys(renderedRows).map(function(key){return renderedRows[key].getRowNode()})},RowRenderer.prototype.navigateToNextCell=function(event,key,rowIndex,column,floating){for(var nextCell=new gridCell_1.GridCell(rowIndex,floating,column),skipGroupRows,rowNode;(nextCell=this.cellNavigationService.getNextCellToFocus(event,key,nextCell),!utils_1.Utils.missing(nextCell))&&(skipGroupRows=this.gridOptionsWrapper.isGroupUseEntireRow(),skipGroupRows)&&(rowNode=this.rowModel.getRow(nextCell.rowIndex),!!rowNode.group););if(nextCell&&(utils_1.Utils.missing(nextCell.floating)&&this.gridPanel.ensureIndexVisible(nextCell.rowIndex),nextCell.column.isPinned()||this.gridPanel.ensureColumnVisible(nextCell.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.focusedCellController.setFocusedCell(nextCell.rowIndex,nextCell.column,nextCell.floating,!0),this.rangeController)){if(event.shiftKey){var ranges=this.rangeController.getCellRanges();if(utils_1.Utils.existsAndNotEmpty(ranges)){var range=ranges[ranges.length-1];return this.rangeController.clearSelection(),void this.rangeController.setRange({rowStart:range.start.rowIndex,rowEnd:nextCell.rowIndex,columnStart:range.start.column,columnEnd:nextCell.column})}}this.rangeController.setRangeToCell(new gridCell_1.GridCell(nextCell.rowIndex,nextCell.floating,nextCell.column))}},RowRenderer.prototype.startEditingCell=function(gridCell,keyPress,charPress){var cell=this.getComponentForCell(gridCell);cell.startEditingIfEnabled(keyPress,charPress)},RowRenderer.prototype.getComponentForCell=function(gridCell){var rowComponent;switch(gridCell.floating){case constants_1.Constants.FLOATING_TOP:rowComponent=this.renderedTopFloatingRows[gridCell.rowIndex];break;case constants_1.Constants.FLOATING_BOTTOM:rowComponent=this.renderedBottomFloatingRows[gridCell.rowIndex];break;default:rowComponent=this.renderedRows[gridCell.rowIndex];}if(!rowComponent)return null;var cellComponent=rowComponent.getRenderedCellForColumn(gridCell.column);return cellComponent},RowRenderer.prototype.setFloatingTopRowData=function(rowData){this.floatingRowModel.setFloatingTopRowData(rowData)},RowRenderer.prototype.getFloatingTopRows=function(){return this.floatingRowModel.getFloatingTopRowData()},RowRenderer.prototype.isFloatingTopRow=function(rowNode){return!!~this.floatingRowModel.getFloatingTopRowData().indexOf(rowNode)},RowRenderer.prototype.getRawFloatingTopRowData=function(){return this.floatingRowModel.getRawFloatingTopRowData()},RowRenderer.prototype.getRowAtY=function(y){var headerContainerHeight=this.gridPanel.getHeaderContainerClientRect().height,actuallyBodyRowsTop=this.gridPanel.getFloatingTopClientRect().height+headerContainerHeight,rowIndex;return this.rowModel.getRowCount()&&y>=actuallyBodyRowsTop||!this.floatingRowModel.getFloatingTopRowCount()?(rowIndex=this.rowModel.getRowIndexAtPixel(y-actuallyBodyRowsTop),this.rowModel.getRow(rowIndex)):(rowIndex=this.floatingRowModel.getRowAtPixel(y-headerContainerHeight,constants_1.Constants.FLOATING_TOP),this.floatingRowModel.getFloatingTopRow(rowIndex))},RowRenderer.prototype.moveFocusToNextCell=function(rowIndex,column,floating,shiftKey,startEditing){for(var nextCell=new gridCell_1.GridCell(rowIndex,floating,column);;){if(nextCell=this.cellNavigationService.getNextTabbedCell(nextCell,shiftKey),!nextCell)return!1;var cellIsNotFloating=utils_1.Utils.missing(nextCell.floating);cellIsNotFloating&&this.gridPanel.ensureIndexVisible(nextCell.rowIndex),this.gridPanel.ensureColumnVisible(nextCell.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter();var nextRenderedCell=this.getComponentForCell(nextCell);if(!startEditing||nextRenderedCell.isCellEditable())return startEditing?(nextRenderedCell.startEditingIfEnabled(),nextRenderedCell.focusCell(!1)):nextRenderedCell.focusCell(!0),this.rangeController&&this.rangeController.setRangeToCell(new gridCell_1.GridCell(nextCell.rowIndex,nextCell.floating,nextCell.column)),!0}},__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],RowRenderer.prototype,"columnController",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],RowRenderer.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("gridCore"),__metadata("design:type",gridCore_1.GridCore)],RowRenderer.prototype,"gridCore",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],RowRenderer.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("$compile"),__metadata("design:type",Object)],RowRenderer.prototype,"$compile",void 0),__decorate([context_1.Autowired("$scope"),__metadata("design:type",Object)],RowRenderer.prototype,"$scope",void 0),__decorate([context_1.Autowired("expressionService"),__metadata("design:type",expressionService_1.ExpressionService)],RowRenderer.prototype,"expressionService",void 0),__decorate([context_1.Autowired("templateService"),__metadata("design:type",templateService_1.TemplateService)],RowRenderer.prototype,"templateService",void 0),__decorate([context_1.Autowired("valueService"),__metadata("design:type",valueService_1.ValueService)],RowRenderer.prototype,"valueService",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],RowRenderer.prototype,"eventService",void 0),__decorate([context_1.Autowired("floatingRowModel"),__metadata("design:type",floatingRowModel_1.FloatingRowModel)],RowRenderer.prototype,"floatingRowModel",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],RowRenderer.prototype,"context",void 0),__decorate([context_1.Autowired("loggerFactory"),__metadata("design:type",logger_1.LoggerFactory)],RowRenderer.prototype,"loggerFactory",void 0),__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],RowRenderer.prototype,"rowModel",void 0),__decorate([context_1.Autowired("focusedCellController"),__metadata("design:type",focusedCellController_1.FocusedCellController)],RowRenderer.prototype,"focusedCellController",void 0),__decorate([context_1.Optional("rangeController"),__metadata("design:type",Object)],RowRenderer.prototype,"rangeController",void 0),__decorate([context_1.Autowired("cellNavigationService"),__metadata("design:type",cellNavigationService_1.CellNavigationService)],RowRenderer.prototype,"cellNavigationService",void 0),__decorate([__param(0,context_1.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],RowRenderer.prototype,"agWire",null),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],RowRenderer.prototype,"init",null),__decorate([context_1.PreDestroy,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],RowRenderer.prototype,"destroy",null),RowRenderer=__decorate([context_1.Bean("rowRenderer"),__metadata("design:paramtypes",[])],RowRenderer),RowRenderer}();exports.RowRenderer=RowRenderer},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},utils_1=__webpack_require__(9),masterSlaveService_1=__webpack_require__(27),gridOptionsWrapper_1=__webpack_require__(5),columnController_1=__webpack_require__(15),rowRenderer_1=__webpack_require__(25),floatingRowModel_1=__webpack_require__(28),borderLayout_1=__webpack_require__(33),logger_1=__webpack_require__(7),context_1=__webpack_require__(8),eventService_1=__webpack_require__(6),events_1=__webpack_require__(12),dragService_1=__webpack_require__(34),constants_1=__webpack_require__(10),selectionController_1=__webpack_require__(30),csvCreator_1=__webpack_require__(14),mouseEventService_1=__webpack_require__(35),focusedCellController_1=__webpack_require__(38),verticalFreezebar_1=__webpack_require__(39),horizontalFreezebar_1=__webpack_require__(41),GridPanel=function(){function GridPanel(){this.requestAnimationFrameExists="function"==typeof requestAnimationFrame,this.MAX_SCROLL_OFFSET=20,this.scrollLagCounter=0,this.scrollLagTicking=!1,this.lastLeftPosition=-1,this.lastTopPosition=-1,this.animationThreadCount=0,this.destroyFunctions=[]}return GridPanel.prototype.agWire=function(loggerFactory){this.forPrint=this.gridOptionsWrapper.isForPrint(),this.scrollWidth=utils_1.Utils.getScrollbarWidth(),this.logger=loggerFactory.create("GridPanel"),this.findElements()},GridPanel.prototype.destroy=function(){this.destroyFunctions.forEach(function(func){return func()})},GridPanel.prototype.onRowDataChanged=function(){this.rowModel.isEmpty()&&!this.gridOptionsWrapper.isSuppressNoRowsOverlay()?this.showNoRowsOverlay():this.hideOverlay()},GridPanel.prototype.getLayout=function(){return this.layout},GridPanel.prototype.init=function(){this.addEventListeners(),this.addDragListeners(),this.useScrollLag=this.isUseScrollLag(),this.layout=new borderLayout_1.BorderLayout({overlays:{loading:utils_1.Utils.loadTemplate(this.createLoadingOverlayTemplate()),noRows:utils_1.Utils.loadTemplate(this.createNoRowsOverlayTemplate())},center:this.eRoot,dontFill:this.forPrint,name:"eGridPanel"}),this.layout.addSizeChangeListener(this.sizeHeaderAndBody.bind(this)),this.addScrollListener(),this.setLeftAndRightBounds(),this.gridOptionsWrapper.isSuppressHorizontalScroll()&&(this.eBodyViewport.style.overflowX="hidden"),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.setWidthsOfContainers(),this.showPinnedColContainersIfNeeded(),this.sizeHeaderAndBody(),this.disableBrowserDragging(),this.addShortcutKeyListeners(),this.addCellListeners(),this.addBodyViewportListener(),this.freezebarEnabled=this.gridOptionsWrapper.isEnableFreezebar(),this.freezebarEnabled&&(this.freezebarVertical=new verticalFreezebar_1.VerticalFreezebar({eRoot:this.eRoot,eHeaderContainer:this.eHeaderContainer,ePinnedLeftHeader:this.ePinnedLeftColsViewport}),this.freezebarHorizontal=new horizontalFreezebar_1.HorizontalFreezebar({eRoot:this.eRoot,eHeaderContainer:this.eHeaderContainer,ePinnedLeftColsViewport:this.ePinnedLeftColsViewport,ePinnedLeftFloatingTop:this.ePinnedLeftFloatingTop,eFloatingTop:this.eFloatingTop,handlerWidth:50}),this.context.wireBean(this.freezebarVertical),this.context.wireBean(this.freezebarHorizontal)),this.$scope&&this.addAngularApplyCheck()},GridPanel.prototype.addAngularApplyCheck=function(){var _this=this,applyTriggered=!1,listener=function(){applyTriggered||(applyTriggered=!0,setTimeout(function(){applyTriggered=!1,_this.$scope.$apply()},0))};this.eventService.addEventListener(events_1.Events.EVENT_DISPLAYED_COLUMNS_CHANGED,listener),this.eventService.addEventListener(events_1.Events.EVENT_VIRTUAL_COLUMNS_CHANGED,listener),this.destroyFunctions.push(function(){_this.eventService.removeEventListener(events_1.Events.EVENT_DISPLAYED_COLUMNS_CHANGED,listener),_this.eventService.removeEventListener(events_1.Events.EVENT_VIRTUAL_COLUMNS_CHANGED,listener)})},GridPanel.prototype.disableBrowserDragging=function(){this.eRoot.addEventListener("dragstart",function(event){if(event.target instanceof HTMLImageElement)return event.preventDefault(),!1})},GridPanel.prototype.addEventListeners=function(){var _this=this;this.eventService.addEventListener(events_1.Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_FLOATING_ROW_DATA_CHANGED,function(){_this.sizeHeaderAndBody(),_this.freezebarHorizontal.update()}),this.gridOptionsWrapper.addEventListener(gridOptionsWrapper_1.GridOptionsWrapper.PROP_HEADER_HEIGHT,this.sizeHeaderAndBody.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_VERTICAL_FREEZEBAR_DRAG_START,this.resetHorizontalScrollPosition.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_HORIZONTAL_FREEZEBAR_DRAG_START,this.resetVerticalScrollPosition.bind(this)),this.destroyFunctions.push(function(){_this.eventService.removeEventListener(events_1.Events.EVENT_VERTICAL_FREEZEBAR_DRAG_START,_this.resetHorizontalScrollPosition)})},GridPanel.prototype.resetHorizontalScrollPosition=function(){this.setHorizontalScrollPosition(0)},GridPanel.prototype.resetVerticalScrollPosition=function(){this.eBodyViewport.scrollTop=0},GridPanel.prototype.addDragListeners=function(){var _this=this;if(!(this.forPrint||!this.gridOptionsWrapper.isEnableRangeSelection()||utils_1.Utils.missing(this.rangeController))){var containers=[this.ePinnedLeftColsContainer,this.ePinnedRightColsContainer,this.eBodyContainer,this.eFloatingTop,this.eFloatingBottom];containers.forEach(function(container){_this.dragService.addDragSource({dragStartPixels:0,eElement:container,onDragStart:_this.rangeController.onDragStart.bind(_this.rangeController),onDragStop:_this.rangeController.onDragStop.bind(_this.rangeController),onDragging:_this.rangeController.onDragging.bind(_this.rangeController)})}),this.dragService.addDragSource({dragStartPixels:0,activationPredicate:this.activationPredicate.bind(this),eElement:this.eHeader,onDragStart:this.rangeController.onDragStart.bind(this.rangeController),onDragStop:this.rangeController.onDragStop.bind(this.rangeController),onDragging:this.rangeController.onDragging.bind(this.rangeController)})}},GridPanel.prototype.activationPredicate=function(){var lastColumn=this.rangeController.getLastStartHeaderSelectionColumn(),thisColumn=this.rangeController.getStartHeaderSelectionColumn(),activeRangeType=this.rangeController.getActiveRangeType();if(0==activeRangeType)return!0;if(lastColumn&&lastColumn.getLevel()!=thisColumn.getLevel())return!0;if(thisColumn){if(thisColumn.getDisplayedLeafColumns){for(var isGroupSelected=!0,allColumnsInThisGroup=thisColumn.getDisplayedLeafColumns(),_i=0,leafColumn;_i<allColumnsInThisGroup.length;_i++)if(leafColumn=allColumnsInThisGroup[_i],!this.rangeController.isColSelected(leafColumn)){isGroupSelected=!1;break}return!isGroupSelected}return!this.rangeController.isColSelected(thisColumn)}return!1},GridPanel.prototype.addCellListeners=function(){var _this=this;["click","mousedown","dblclick","contextmenu"].forEach(function(eventName){var listener=_this.processMouseEvent.bind(_this,eventName);_this.eAllCellContainers.forEach(function(container){container.addEventListener(eventName,listener),_this.destroyFunctions.push(function(){return container.removeEventListener(eventName,listener)})})})},GridPanel.prototype.addBodyViewportListener=function(){var _this=this;if(!this.gridOptionsWrapper.isForPrint()){var listener=function(mouseEvent){var target=utils_1.Utils.getTarget(mouseEvent);target===_this.eBodyViewport&&(_this.onContextMenu(mouseEvent),_this.preventDefaultOnContextMenu(mouseEvent))};this.eBodyViewport.addEventListener("contextmenu",listener),this.destroyFunctions.push(function(){return _this.eBodyViewport.removeEventListener("contextmenu",listener)})}},GridPanel.prototype.processMouseEvent=function(eventName,mouseEvent){var cell=this.mouseEventService.getCellForMouseEvent(mouseEvent);utils_1.Utils.exists(cell)&&this.rowRenderer.onMouseEvent(eventName,mouseEvent,cell),this.preventDefaultOnContextMenu(mouseEvent)},GridPanel.prototype.onContextMenu=function(mouseEvent){mouseEvent.metaKey||this.contextMenuFactory&&!this.gridOptionsWrapper.isSuppressContextMenu()&&(this.contextMenuFactory.showMenu(null,null,null,mouseEvent),mouseEvent.preventDefault())},GridPanel.prototype.preventDefaultOnContextMenu=function(mouseEvent){this.gridOptionsWrapper.isSuppressMiddleClickScrolls()&&2===mouseEvent.which&&mouseEvent.preventDefault()},GridPanel.prototype.addShortcutKeyListeners=function(){var _this=this,keyZPressed=!1,documentKeyUpListener=function(event){event.which==constants_1.Constants.KEY_Z&&(keyZPressed=!1)},documentKeyDownListener=function(event){if("INPUT"==event.target.nodeName)return!0;if(event.ctrlKey&&event.shiftKey)switch(event.which){case constants_1.Constants.KEY_Z:if(!keyZPressed)return keyZPressed=!0,_this.onCtrlShiftAndZ(event);}else if(event.ctrlKey||event.metaKey)switch(event.which){case constants_1.Constants.KEY_Z:if(!keyZPressed)return keyZPressed=!0,_this.onCtrlAndZ(event);break;case constants_1.Constants.KEY_C:return _this.onCtrlAndC(event);case constants_1.Constants.KEY_A:return _this.onCtrlAndA(event);}};document.addEventListener("keyup",documentKeyUpListener),document.addEventListener("keydown",documentKeyDownListener),this.destroyFunctions.push(function(){document.removeEventListener("keyup",documentKeyUpListener),document.removeEventListener("keydown",documentKeyDownListener)}),this.eAllCellContainers.forEach(function(container){container.addEventListener("keydown",function(event){if(event.ctrlKey||event.metaKey)switch(event.which){case constants_1.Constants.KEY_V:return _this.onCtrlAndV(event);case constants_1.Constants.KEY_D:return _this.onCtrlAndD(event);}})})},GridPanel.prototype.onCtrlAndZ=function(event){var ctrlAndZFn=this.gridOptionsWrapper.getOnCtrlAndZ();return ctrlAndZFn&&ctrlAndZFn(event),!1},GridPanel.prototype.onCtrlShiftAndZ=function(event){var ctrlShiftAndZFn=this.gridOptionsWrapper.getOnCtrlShiftAndZ();return ctrlShiftAndZFn&&ctrlShiftAndZFn(event),!1},GridPanel.prototype.onCtrlAndA=function(event){return this.rangeController&&this.rangeController.getCellRanges().length&&this.rowModel.isRowsToRender()&&this.rangeController.selectAll(),event.preventDefault(),!1},GridPanel.prototype.onCtrlAndC=function(event){if(this.clipboardService){if(this.rangeController.getCellRanges().length){for(var focusedCell=this.focusedCellController.getFocusedCell(),columns=this.columnController.getAllDisplayedColumns(),withHeaders=!1,_i=0,column;_i<columns.length;_i++)if(column=columns[_i],this.rangeController.isColSelected(column)){withHeaders=!0;break}this.clipboardService.copyToClipboard(withHeaders),event.preventDefault(),focusedCell&&this.focusedCellController.setFocusedCell(focusedCell.rowIndex,focusedCell.column,focusedCell.floating,!0)}return!1}},GridPanel.prototype.onCtrlAndV=function(){if(this.rangeController)return this.clipboardService.pasteFromClipboard(),!1},GridPanel.prototype.onCtrlAndD=function(event){if(this.clipboardService)return this.clipboardService.copyRangeDown(),event.preventDefault(),!1},GridPanel.prototype.getPinnedLeftFloatingTop=function(){return this.ePinnedLeftFloatingTop},GridPanel.prototype.getPinnedRightFloatingTop=function(){return this.ePinnedRightFloatingTop},GridPanel.prototype.getFloatingTopContainer=function(){return this.eFloatingTopContainer},GridPanel.prototype.getPinnedLeftFloatingBottom=function(){return this.ePinnedLeftFloatingBottom},GridPanel.prototype.getPinnedRightFloatingBottom=function(){return this.ePinnedRightFloatingBottom},GridPanel.prototype.getFloatingBottomContainer=function(){return this.eFloatingBottomContainer},GridPanel.prototype.createOverlayTemplate=function(name,defaultTemplate,userProvidedTemplate){var template=("<div class=\"ag-overlay-panel\">"+"<div class=\"ag-overlay-wrapper ag-overlay-[OVERLAY_NAME]-wrapper\">[OVERLAY_TEMPLATE]</div>"+"</div>").replace("[OVERLAY_NAME]",name);return template=userProvidedTemplate?template.replace("[OVERLAY_TEMPLATE]",userProvidedTemplate):template.replace("[OVERLAY_TEMPLATE]",defaultTemplate),template},GridPanel.prototype.createLoadingOverlayTemplate=function(){var userProvidedTemplate=this.gridOptionsWrapper.getOverlayLoadingTemplate(),templateNotLocalised=this.createOverlayTemplate("loading","<span class=\"ag-overlay-loading-center\">[LOADING...]</span>",userProvidedTemplate),localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc(),templateLocalised=templateNotLocalised.replace("[LOADING...]",localeTextFunc("loadingOoo","Loading..."));return templateLocalised},GridPanel.prototype.createNoRowsOverlayTemplate=function(){var userProvidedTemplate=this.gridOptionsWrapper.getOverlayNoRowsTemplate(),templateNotLocalised=this.createOverlayTemplate("no-rows","<span class=\"ag-overlay-no-rows-center\">[NO_ROWS_TO_SHOW]</span>",userProvidedTemplate),localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc(),templateLocalised=templateNotLocalised.replace("[NO_ROWS_TO_SHOW]",localeTextFunc("noRowsToShow","No Rows To Show"));return templateLocalised},GridPanel.prototype.ensureIndexVisible=function(index){this.logger.log("ensureIndexVisible: "+index);var lastRow=this.rowModel.getRowCount();if("number"!=typeof index||0>index||index>=lastRow)return void console.warn("invalid row index for ensureIndexVisible: "+index);var nodeAtIndex=this.rowModel.getRow(index),rowTopPixel=nodeAtIndex.rowTop,rowBottomPixel=rowTopPixel+nodeAtIndex.rowHeight,viewportTopPixel=this.eBodyViewport.scrollTop,viewportHeight=this.eBodyViewport.offsetHeight,scrollShowing=this.isHorizontalScrollShowing();scrollShowing&&(viewportHeight-=this.scrollWidth);var viewportBottomPixel=viewportTopPixel+viewportHeight,eViewportToScroll=this.columnController.isPinningRight()?this.ePinnedRightColsViewport:this.eBodyViewport;if(viewportTopPixel>rowTopPixel)eViewportToScroll.scrollTop=rowTopPixel;else if(viewportBottomPixel<rowBottomPixel){var newScrollPosition=rowBottomPixel-viewportHeight;eViewportToScroll.scrollTop=newScrollPosition}},GridPanel.prototype.getCenterWidth=function(){return this.eBodyViewport.clientWidth},GridPanel.prototype.isHorizontalScrollShowing=function(){var result=this.eBodyViewport.clientWidth<this.eBodyViewport.scrollWidth;return result},GridPanel.prototype.isVerticalScrollShowing=function(){return this.columnController.isPinningRight()?utils_1.Utils.isScrollShowing(this.ePinnedRightColsViewport):utils_1.Utils.isScrollShowing(this.eBodyViewport)},GridPanel.prototype.isBodyVerticalScrollShowing=function(){return!this.columnController.isPinningRight()&&utils_1.Utils.isScrollShowing(this.eBodyViewport)},GridPanel.prototype.periodicallyCheck=function(){this.forPrint||(this.setBottomPaddingOnPinnedRight(),this.setMarginOnFullWidthCellContainer(),this.updateFreezebar())},GridPanel.prototype.setBottomPaddingOnPinnedRight=function(){if(!this.forPrint&&this.columnController.isPinningRight()){var bodyHorizontalScrollShowing=this.eBodyViewport.clientWidth<this.eBodyViewport.scrollWidth;this.ePinnedRightColsContainer.style.marginBottom=bodyHorizontalScrollShowing?this.scrollWidth+"px":""}},GridPanel.prototype.setMarginOnFullWidthCellContainer=function(){this.forPrint||(this.eFullWidthCellViewport.style.borderRight=this.isVerticalScrollShowing()?this.scrollWidth+"px solid transparent":"",this.eFullWidthCellViewport.style.borderBottom=this.isHorizontalScrollShowing()?this.scrollWidth+"px solid transparent":"")},GridPanel.prototype.ensureColumnVisible=function(key){var column=this.columnController.getGridColumn(key);if(column){if(column.isPinned())return void console.warn("calling ensureIndexVisible on a "+column.getPinned()+" pinned column doesn't make sense for column "+column.getColId());if(!this.columnController.isColumnDisplayed(column))return void console.warn("column is not currently visible");var colLeftPixel=column.getLeft(),colRightPixel=colLeftPixel+column.getActualWidth(),viewportLeftPixel=this.eBodyViewport.scrollLeft,viewportWidth=this.eBodyViewport.offsetWidth,scrollShowing=this.eBodyViewport.clientHeight<this.eBodyViewport.scrollHeight;scrollShowing&&(viewportWidth-=this.scrollWidth);var viewportRightPixel=viewportLeftPixel+viewportWidth;if(viewportLeftPixel>colLeftPixel)this.eBodyViewport.scrollLeft=colLeftPixel;else if(viewportRightPixel<colRightPixel){var newScrollPosition=colRightPixel-viewportWidth;this.eBodyViewport.scrollLeft=newScrollPosition}else;this.setLeftAndRightBounds()}},GridPanel.prototype.showLoadingOverlay=function(){this.gridOptionsWrapper.isSuppressLoadingOverlay()||this.layout.showOverlay("loading")},GridPanel.prototype.showNoRowsOverlay=function(){this.gridOptionsWrapper.isSuppressNoRowsOverlay()||this.layout.showOverlay("noRows")},GridPanel.prototype.hideOverlay=function(){this.layout.hideOverlay()},GridPanel.prototype.getWidthForSizeColsToFit=function(){var availableWidth=this.eBody.clientWidth,removeScrollWidth=this.isBodyVerticalScrollShowing();return removeScrollWidth&&(availableWidth-=this.scrollWidth),availableWidth},GridPanel.prototype.sizeColumnsToFit=function(nextTimeout){var _this=this,availableWidth=this.getWidthForSizeColsToFit();0<availableWidth?this.columnController.sizeColumnsToFit(availableWidth):void 0===nextTimeout?setTimeout(function(){_this.sizeColumnsToFit(100)},0):100===nextTimeout?setTimeout(function(){_this.sizeColumnsToFit(-1)},100):console.log("ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with "+"zero width, maybe the grid is not visible yet on the screen?")},GridPanel.prototype.getBodyContainer=function(){return this.eBodyContainer},GridPanel.prototype.getFullWidthCellContainer=function(){return this.eFullWidthCellContainer},GridPanel.prototype.getFloatingTopFullWidthCellContainer=function(){return this.eFloatingTopFullWidthCellContainer},GridPanel.prototype.getFloatingBottomFullWidthCellContainer=function(){return this.eFloatingBottomFullWidthCellContainer},GridPanel.prototype.getDropTargetBodyContainers=function(){return this.forPrint?[this.eBodyContainer,this.eFloatingTopContainer,this.eFloatingBottomContainer]:[this.eBodyViewport,this.eFloatingTopViewport,this.eFloatingBottomViewport]},GridPanel.prototype.getBody=function(){return this.eBody},GridPanel.prototype.getBodyViewport=function(){return this.eBodyViewport},GridPanel.prototype.getPinnedLeftColsContainer=function(){return this.ePinnedLeftColsContainer},GridPanel.prototype.getPinnedLeftColsViewport=function(){return this.ePinnedLeftColsViewport},GridPanel.prototype.getDropTargetLeftContainers=function(){return this.forPrint?[]:[this.ePinnedLeftColsViewport,this.ePinnedLeftFloatingBottom,this.ePinnedLeftFloatingTop]},GridPanel.prototype.getPinnedRightColsContainer=function(){return this.ePinnedRightColsContainer},GridPanel.prototype.getPinnedRightColsViewport=function(){return this.ePinnedRightColsViewport},GridPanel.prototype.getDropTargetPinnedRightContainers=function(){return this.forPrint?[]:[this.ePinnedRightColsViewport,this.ePinnedRightFloatingBottom,this.ePinnedRightFloatingTop]},GridPanel.prototype.getHeaderContainer=function(){return this.eHeaderContainer},GridPanel.prototype.getHeaderOverlay=function(){return this.eHeaderOverlay},GridPanel.prototype.getRoot=function(){return this.eRoot},GridPanel.prototype.getPinnedLeftHeader=function(){return this.ePinnedLeftHeader},GridPanel.prototype.getPinnedRightHeader=function(){return this.ePinnedRightHeader},GridPanel.prototype.queryHtmlElement=function(selector){return this.eRoot.querySelector(selector)},GridPanel.prototype.findElements=function(){this.forPrint?(this.eRoot=utils_1.Utils.loadTemplate("<div>"+"<div class=\"ag-header-container\"></div>"+"<div class=\"ag-floating-top-container\"></div>"+"<div class=\"ag-body-container\"></div>"+"<div class=\"ag-floating-bottom-container\"></div>"+"</div>"),utils_1.Utils.addCssClass(this.eRoot,"ag-root"),utils_1.Utils.addCssClass(this.eRoot,"ag-font-style"),utils_1.Utils.addCssClass(this.eRoot,"ag-no-scrolls")):(this.eRoot=utils_1.Utils.loadTemplate("<div>"+"<div class=\"ag-header\">"+"<div class=\"ag-pinned-left-header\"></div>"+"<div class=\"ag-pinned-right-header\"></div>"+"<div class=\"ag-header-viewport\">"+"<div class=\"ag-header-container\"></div>"+"</div>"+"<div class=\"ag-header-overlay\"></div>"+"</div>"+"<div class=\"ag-floating-top\">"+"<div class=\"ag-pinned-left-floating-top\"></div>"+"<div class=\"ag-pinned-right-floating-top\"></div>"+"<div class=\"ag-floating-top-viewport\">"+"<div class=\"ag-floating-top-container\"></div>"+"</div>"+"<div class=\"ag-floating-top-full-width-container\"></div>"+"</div>"+"<div class=\"ag-floating-bottom\">"+"<div class=\"ag-pinned-left-floating-bottom\"></div>"+"<div class=\"ag-pinned-right-floating-bottom\"></div>"+"<div class=\"ag-floating-bottom-viewport\">"+"<div class=\"ag-floating-bottom-container\"></div>"+"</div>"+"<div class=\"ag-floating-bottom-full-width-container\"></div>"+"</div>"+"<div class=\"ag-body\">"+"<div class=\"ag-pinned-left-cols-viewport\">"+"<div class=\"ag-pinned-left-cols-container\"></div>"+"</div>"+"<div class=\"ag-pinned-right-cols-viewport\">"+"<div class=\"ag-pinned-right-cols-container\"></div>"+"</div>"+"<div class=\"ag-body-viewport-wrapper\">"+"<div class=\"ag-body-viewport\">"+"<div class=\"ag-body-container\"></div>"+"</div>"+"</div>"+"<div class=\"ag-full-width-viewport\">"+"<div class=\"ag-full-width-container\"></div>"+"</div>"+"</div>"+"</div>"),utils_1.Utils.addCssClass(this.eRoot,"ag-root"),utils_1.Utils.addCssClass(this.eRoot,"ag-font-style"),utils_1.Utils.addCssClass(this.eRoot,"ag-scrolls")),this.forPrint?(this.eHeaderContainer=this.queryHtmlElement(".ag-header-container"),this.eBodyContainer=this.queryHtmlElement(".ag-body-container"),this.eFloatingTopContainer=this.queryHtmlElement(".ag-floating-top-container"),this.eFloatingBottomContainer=this.queryHtmlElement(".ag-floating-bottom-container"),this.eAllCellContainers=[this.eBodyContainer,this.eFloatingTopContainer,this.eFloatingBottomContainer],this.eFullWidthCellContainer=this.eBodyContainer,this.eFloatingBottomFullWidthCellContainer=this.eFloatingBottomContainer,this.eFloatingTopFullWidthCellContainer=this.eFloatingTopContainer):(this.eBody=this.queryHtmlElement(".ag-body"),this.eBodyContainer=this.queryHtmlElement(".ag-body-container"),this.eBodyViewport=this.queryHtmlElement(".ag-body-viewport"),this.eBodyViewportWrapper=this.queryHtmlElement(".ag-body-viewport-wrapper"),this.eFullWidthCellContainer=this.queryHtmlElement(".ag-full-width-container"),this.eFullWidthCellViewport=this.queryHtmlElement(".ag-full-width-viewport"),this.ePinnedLeftColsContainer=this.queryHtmlElement(".ag-pinned-left-cols-container"),this.ePinnedRightColsContainer=this.queryHtmlElement(".ag-pinned-right-cols-container"),this.ePinnedLeftColsViewport=this.queryHtmlElement(".ag-pinned-left-cols-viewport"),this.ePinnedRightColsViewport=this.queryHtmlElement(".ag-pinned-right-cols-viewport"),this.ePinnedLeftHeader=this.queryHtmlElement(".ag-pinned-left-header"),this.ePinnedRightHeader=this.queryHtmlElement(".ag-pinned-right-header"),this.eHeader=this.queryHtmlElement(".ag-header"),this.eHeaderContainer=this.queryHtmlElement(".ag-header-container"),this.eHeaderOverlay=this.queryHtmlElement(".ag-header-overlay"),this.eHeaderViewport=this.queryHtmlElement(".ag-header-viewport"),this.eFloatingTop=this.queryHtmlElement(".ag-floating-top"),this.ePinnedLeftFloatingTop=this.queryHtmlElement(".ag-pinned-left-floating-top"),this.ePinnedRightFloatingTop=this.queryHtmlElement(".ag-pinned-right-floating-top"),this.eFloatingTopContainer=this.queryHtmlElement(".ag-floating-top-container"),this.eFloatingTopViewport=this.queryHtmlElement(".ag-floating-top-viewport"),this.eFloatingTopFullWidthCellContainer=this.queryHtmlElement(".ag-floating-top-full-width-container"),this.eFloatingBottom=this.queryHtmlElement(".ag-floating-bottom"),this.ePinnedLeftFloatingBottom=this.queryHtmlElement(".ag-pinned-left-floating-bottom"),this.ePinnedRightFloatingBottom=this.queryHtmlElement(".ag-pinned-right-floating-bottom"),this.eFloatingBottomContainer=this.queryHtmlElement(".ag-floating-bottom-container"),this.eFloatingBottomViewport=this.queryHtmlElement(".ag-floating-bottom-viewport"),this.eFloatingBottomFullWidthCellContainer=this.queryHtmlElement(".ag-floating-bottom-full-width-container"),this.eAllCellContainers=[this.ePinnedLeftColsContainer,this.ePinnedRightColsContainer,this.eBodyContainer,this.eFloatingTop,this.eFloatingBottom],this.addMouseWheelEventListeners())},GridPanel.prototype.addMouseWheelEventListeners=function(){var _this=this,genericListener=this.genericMouseWheelListener.bind(this),centerListener=this.centerMouseWheelListener.bind(this);this.ePinnedLeftColsViewport.addEventListener("mousewheel",genericListener),this.eBodyViewport.addEventListener("mousewheel",centerListener),this.ePinnedLeftColsViewport.addEventListener("DOMMouseScroll",genericListener),this.eBodyViewport.addEventListener("DOMMouseScroll",centerListener),this.destroyFunctions.push(function(){_this.ePinnedLeftColsViewport.removeEventListener("mousewheel",genericListener),_this.eBodyViewport.removeEventListener("mousewheel",centerListener),_this.ePinnedLeftColsViewport.removeEventListener("DOMMouseScroll",genericListener),_this.eBodyViewport.removeEventListener("DOMMouseScroll",centerListener)})},GridPanel.prototype.getHeaderViewport=function(){return this.eHeaderViewport},GridPanel.prototype.getNextScroll=function(event){var multiplyCount=(0>event.wheelDeltaY?-1*event.wheelDeltaY:event.wheelDeltaY)/120||1;return 21*multiplyCount},GridPanel.prototype.centerMouseWheelListener=function(event){if(this.columnController.isPinningRight())return this.generalMouseWheelListener(event,this.ePinnedRightColsViewport)},GridPanel.prototype.genericMouseWheelListener=function(event){var targetPanel;return targetPanel=this.columnController.isPinningRight()?this.ePinnedRightColsViewport:this.eBodyViewport,this.generalMouseWheelListener(event,targetPanel)},GridPanel.prototype.generalMouseWheelListener=function(event,targetPanel){var wheelEvent=utils_1.Utils.normalizeWheel(event);if(_Mathabs9(wheelEvent.pixelX)>_Mathabs9(wheelEvent.pixelY)){var newLeftPosition=this.eBodyViewport.scrollLeft+wheelEvent.pixelX;this.eBodyViewport.scrollLeft=newLeftPosition}else{var scroll=this.getNextScroll(event);0>event.deltaY?this.eBodyViewport.scrollTop-=scroll:0<event.deltaY&&(this.eBodyViewport.scrollTop+=scroll);var newTopPosition=this.eBodyViewport.scrollTop;targetPanel.scrollTop=newTopPosition}return this.gridOptionsWrapper.isSuppressPreventDefaultOnMouseWheel()||event.preventDefault(),!1},GridPanel.prototype.onColumnResized=function(){this.setWidthsOfContainers(),this.updateFreezebar()},GridPanel.prototype.onDisplayedColumnsChanged=function(){this.setWidthsOfContainers(),this.showPinnedColContainersIfNeeded(),this.sizeHeaderAndBody(),this.updateFreezebar()},GridPanel.prototype.updateFreezebar=function(){this.freezebarEnabled&&(this.freezebarVertical.update(),this.freezebarHorizontal.update())},GridPanel.prototype.setWidthsOfContainers=function(){this.logger.log("setWidthsOfContainers()"),this.showPinnedColContainersIfNeeded();var mainRowWidth=this.columnController.getBodyContainerWidth()+"px";if(this.eBodyContainer.style.width=mainRowWidth,!this.forPrint){this.eFloatingBottomContainer.style.width=mainRowWidth,this.eFloatingTopContainer.style.width=mainRowWidth;var pinnedLeftWidth=this.columnController.getPinnedLeftContainerWidth()+"px";this.ePinnedLeftColsContainer.style.width=pinnedLeftWidth,this.ePinnedLeftFloatingBottom.style.width=pinnedLeftWidth,this.ePinnedLeftFloatingTop.style.width=pinnedLeftWidth,this.eBodyViewportWrapper.style.marginLeft=pinnedLeftWidth;var pinnedRightWidth=this.columnController.getPinnedRightContainerWidth()+"px";this.ePinnedRightColsContainer.style.width=pinnedRightWidth,this.ePinnedRightFloatingBottom.style.width=pinnedRightWidth,this.ePinnedRightFloatingTop.style.width=pinnedRightWidth,this.eBodyViewportWrapper.style.marginRight=pinnedRightWidth}},GridPanel.prototype.showPinnedColContainersIfNeeded=function(){this.forPrint||(this.columnController.isPinningLeft()?(this.ePinnedLeftHeader.style.display="inline-block",this.ePinnedLeftColsViewport.style.display="inline"):(this.ePinnedLeftHeader.style.display="none",this.ePinnedLeftColsViewport.style.display="none"),this.columnController.isPinningRight()?(this.ePinnedRightHeader.style.display="inline-block",this.ePinnedRightColsViewport.style.display="inline",this.eBodyViewport.style.overflowY="hidden"):(this.ePinnedRightHeader.style.display="none",this.ePinnedRightColsViewport.style.display="none",this.eBodyViewport.style.overflowY="auto"))},GridPanel.prototype.sizeHeaderAndBody=function(){if(!this.forPrint){this.setLeftAndRightBounds();var heightOfContainer=this.layout.getCentreHeight();if(heightOfContainer){var headerHeight=this.gridOptionsWrapper.getHeaderHeight(),numberOfRowsInHeader=this.columnController.getHeaderRowCount(),totalHeaderHeight=headerHeight*numberOfRowsInHeader;this.eHeader.style.height=totalHeaderHeight+"px";var floatingTopHeight=this.floatingRowModel.getFloatingTopTotalHeight(),floatingBottomHeight=this.floatingRowModel.getFloatingBottomTotalHeight(),heightOfCentreRows=heightOfContainer-totalHeaderHeight-floatingBottomHeight-floatingTopHeight;this.eBody.style.top=totalHeaderHeight+floatingTopHeight+"px",this.eBody.style.height=heightOfCentreRows+"px",this.eFloatingTop.style.top=totalHeaderHeight+"px",this.eFloatingTop.style.height=floatingTopHeight+"px",this.eFloatingBottom.style.height=floatingBottomHeight+"px",this.eFloatingBottom.style.top=heightOfContainer-floatingBottomHeight+"px",this.ePinnedLeftColsViewport.style.height=heightOfCentreRows+"px",this.ePinnedRightColsViewport.style.height=heightOfCentreRows+"px"}}},GridPanel.prototype.setHorizontalScrollPosition=function(hScrollPosition){this.eBodyViewport.scrollLeft=hScrollPosition},GridPanel.prototype.setVerticalScrollPosition=function(vScrollPosition){this.eBodyViewport.scrollTop=vScrollPosition},GridPanel.prototype.scrollHorizontally=function(pixels){var oldScrollPosition=this.eBodyViewport.scrollLeft;this.setHorizontalScrollPosition(oldScrollPosition+pixels);var newScrollPosition=this.eBodyViewport.scrollLeft;return newScrollPosition-oldScrollPosition},GridPanel.prototype.scrollVertically=function(pixels){var oldScrollPosition=this.eBodyViewport.scrollTop;this.setVerticalScrollPosition(oldScrollPosition+pixels);var newScrollPosition=this.eBodyViewport.scrollTop;return newScrollPosition-oldScrollPosition},GridPanel.prototype.getHorizontalScrollPosition=function(){return this.forPrint?0:this.eBodyViewport.scrollLeft},GridPanel.prototype.turnOnAnimationForABit=function(){var _this=this;if(!this.gridOptionsWrapper.isSuppressColumnMoveAnimation()){this.animationThreadCount++;var animationThreadCountCopy=this.animationThreadCount;utils_1.Utils.addCssClass(this.eRoot,"ag-column-moving"),setTimeout(function(){_this.animationThreadCount===animationThreadCountCopy&&utils_1.Utils.removeCssClass(_this.eRoot,"ag-column-moving")},300)}},GridPanel.prototype.addScrollListener=function(){function updateHeaderViewportLeftPosition(){var newLeftPosition=that.eBodyViewport.scrollLeft;newLeftPosition!==that.lastLeftPosition&&(that.lastLeftPosition=newLeftPosition,that.horizontallyScrollHeaderCenterAndFloatingCenter(),that.masterSlaveService.fireHorizontalScrollEvent(newLeftPosition),that.setLeftAndRightBounds())}function updateLeftPinnedViewportTopPosition(){if(!that.columnController.isPinningRight()){var newTopPosition=that.eBodyViewport.scrollTop;newTopPosition!==that.lastTopPosition&&that.verticallyScrollLeftPinned(newTopPosition)}}function onBodyViewportScroll(){if(updateHeaderViewportLeftPosition(),!that.columnController.isPinningRight()){var newTopPosition=that.eBodyViewport.scrollTop;newTopPosition!==that.lastTopPosition&&(that.lastTopPosition=newTopPosition,that.verticallyScrollLeftPinned(newTopPosition),that.verticallyScrollFullWidthCellContainer(newTopPosition),that.rowRenderer.drawVirtualRows())}}function onPinnedRightScroll(){var newTopPosition=that.ePinnedRightColsViewport.scrollTop;newTopPosition!==that.lastTopPosition&&(that.lastTopPosition=newTopPosition,that.verticallyScrollLeftPinned(newTopPosition),that.verticallyScrollFullWidthCellContainer(newTopPosition),that.verticallyScrollBody(newTopPosition),that.rowRenderer.drawVirtualRows())}function scrollLag(){updateHeaderViewportLeftPosition(),updateLeftPinnedViewportTopPosition(),this.debounce.bind(this)(onBodyViewportScroll)}var _this=this;if(!this.forPrint){var that=this;this.useScrollLag?(this.eBodyViewport.addEventListener("scroll",scrollLag.bind(this)),this.ePinnedRightColsViewport.addEventListener("scroll",this.debounce.bind(this,onPinnedRightScroll))):(this.eBodyViewport.addEventListener("scroll",onBodyViewportScroll),this.ePinnedRightColsViewport.addEventListener("scroll",onPinnedRightScroll)),this.ePinnedLeftColsViewport.addEventListener("scroll",function(){_this.ePinnedLeftColsViewport.scrollTop=0})}},GridPanel.prototype.setLeftAndRightBounds=function(){if(!this.gridOptionsWrapper.isForPrint()){var scrollPosition=this.eBodyViewport.scrollLeft,totalWidth=this.eBody.offsetWidth;this.columnController.setWidthAndScrollPosition(totalWidth,scrollPosition)}},GridPanel.prototype.isUseScrollLag=function(){return!this.gridOptionsWrapper.isSuppressScrollLag()&&(this.gridOptionsWrapper.getIsScrollLag()?this.gridOptionsWrapper.getIsScrollLag()():utils_1.Utils.isBrowserIE()||utils_1.Utils.isBrowserSafari())},GridPanel.prototype.debounce=function(callback){var _this=this;this.requestAnimationFrameExists&&utils_1.Utils.isBrowserSafari()?!this.scrollLagTicking&&(this.scrollLagTicking=!0,requestAnimationFrame(function(){callback(),_this.scrollLagTicking=!1})):(this.h_callback&&clearTimeout(this.h_callback),_Mathabs9(this.lastTopPosition-this.eBodyViewport.scrollTop)>this.MAX_SCROLL_OFFSET&&(_Mathabs9(this.lastTopPosition-this.eBodyViewport.scrollTop)<this.eBodyViewport.offsetHeight?callback():this.h_callback=setTimeout(callback,50)))},GridPanel.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(){var bodyLeftPosition=this.eBodyViewport.scrollLeft;this.eHeaderContainer.style.left=-bodyLeftPosition+"px",this.eFloatingBottomContainer.style.left=-bodyLeftPosition+"px",this.eFloatingTopContainer.style.left=-bodyLeftPosition+"px"},GridPanel.prototype.verticallyScrollLeftPinned=function(bodyTopPosition){this.ePinnedLeftColsContainer.style.top=-bodyTopPosition+"px"},GridPanel.prototype.verticallyScrollFullWidthCellContainer=function(bodyTopPosition){this.eFullWidthCellContainer.style.top=-bodyTopPosition+"px"},GridPanel.prototype.verticallyScrollBody=function(position){this.eBodyViewport.scrollTop=position},GridPanel.prototype.getVerticalScrollPosition=function(){return this.forPrint?0:this.eBodyViewport.scrollTop},GridPanel.prototype.getBodyViewportClientRect=function(){return this.forPrint?this.eBodyContainer.getBoundingClientRect():this.eBodyViewport.getBoundingClientRect()},GridPanel.prototype.getHeaderContainerClientRect=function(){return this.eHeaderContainer.getBoundingClientRect()},GridPanel.prototype.getScrollWidth=function(){return this.scrollWidth},GridPanel.prototype.getFloatingTopClientRect=function(){return this.forPrint?this.eFloatingTopContainer.getBoundingClientRect():this.eFloatingTop.getBoundingClientRect()},GridPanel.prototype.getFloatingBottomClientRect=function(){return this.forPrint?this.eFloatingBottomContainer.getBoundingClientRect():this.eFloatingBottom.getBoundingClientRect()},GridPanel.prototype.getPinnedLeftColsViewportClientRect=function(){return this.ePinnedLeftColsViewport.getBoundingClientRect()},GridPanel.prototype.getPinnedRightColsViewportClientRect=function(){return this.ePinnedRightColsViewport.getBoundingClientRect()},GridPanel.prototype.addScrollEventListener=function(listener){this.eBodyViewport.addEventListener("scroll",listener)},GridPanel.prototype.removeScrollEventListener=function(listener){this.eBodyViewport.removeEventListener("scroll",listener)},__decorate([context_1.Autowired("masterSlaveService"),__metadata("design:type",masterSlaveService_1.MasterSlaveService)],GridPanel.prototype,"masterSlaveService",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],GridPanel.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],GridPanel.prototype,"columnController",void 0),__decorate([context_1.Autowired("rowRenderer"),__metadata("design:type",rowRenderer_1.RowRenderer)],GridPanel.prototype,"rowRenderer",void 0),__decorate([context_1.Autowired("floatingRowModel"),__metadata("design:type",floatingRowModel_1.FloatingRowModel)],GridPanel.prototype,"floatingRowModel",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],GridPanel.prototype,"eventService",void 0),__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],GridPanel.prototype,"rowModel",void 0),__decorate([context_1.Optional("rangeController"),__metadata("design:type",Object)],GridPanel.prototype,"rangeController",void 0),__decorate([context_1.Autowired("dragService"),__metadata("design:type",dragService_1.DragService)],GridPanel.prototype,"dragService",void 0),__decorate([context_1.Autowired("selectionController"),__metadata("design:type",selectionController_1.SelectionController)],GridPanel.prototype,"selectionController",void 0),__decorate([context_1.Optional("clipboardService"),__metadata("design:type",Object)],GridPanel.prototype,"clipboardService",void 0),__decorate([context_1.Autowired("csvCreator"),__metadata("design:type",csvCreator_1.CsvCreator)],GridPanel.prototype,"csvCreator",void 0),__decorate([context_1.Autowired("mouseEventService"),__metadata("design:type",mouseEventService_1.MouseEventService)],GridPanel.prototype,"mouseEventService",void 0),__decorate([context_1.Autowired("focusedCellController"),__metadata("design:type",focusedCellController_1.FocusedCellController)],GridPanel.prototype,"focusedCellController",void 0),__decorate([context_1.Autowired("$scope"),__metadata("design:type",Object)],GridPanel.prototype,"$scope",void 0),__decorate([context_1.Optional("contextMenuFactory"),__metadata("design:type",Object)],GridPanel.prototype,"contextMenuFactory",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],GridPanel.prototype,"context",void 0),__decorate([__param(0,context_1.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],GridPanel.prototype,"agWire",null),__decorate([context_1.PreDestroy,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],GridPanel.prototype,"destroy",null),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],GridPanel.prototype,"init",null),GridPanel=__decorate([context_1.Bean("gridPanel"),__metadata("design:paramtypes",[])],GridPanel),GridPanel}();exports.GridPanel=GridPanel},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},gridOptionsWrapper_1=__webpack_require__(5),columnController_1=__webpack_require__(15),gridPanel_1=__webpack_require__(26),eventService_1=__webpack_require__(6),logger_1=__webpack_require__(7),events_1=__webpack_require__(12),context_1=__webpack_require__(8),context_2=__webpack_require__(8),context_3=__webpack_require__(8),context_4=__webpack_require__(8),MasterSlaveService=function(){function MasterSlaveService(){this.consuming=!1}return MasterSlaveService.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create("MasterSlaveService")},MasterSlaveService.prototype.init=function(){this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this))},MasterSlaveService.prototype.fireEvent=function(callback){if(!this.consuming){var slaveGrids=this.gridOptionsWrapper.getSlaveGrids();slaveGrids&&slaveGrids.forEach(function(slaveGridOptions){if(slaveGridOptions.api){var slaveService=slaveGridOptions.api.__getMasterSlaveService();callback(slaveService)}})}},MasterSlaveService.prototype.onEvent=function(callback){this.consuming=!0,callback(),this.consuming=!1},MasterSlaveService.prototype.fireColumnEvent=function(event){this.fireEvent(function(slaveService){slaveService.onColumnEvent(event)})},MasterSlaveService.prototype.fireHorizontalScrollEvent=function(horizontalScroll){this.fireEvent(function(slaveService){slaveService.onScrollEvent(horizontalScroll)})},MasterSlaveService.prototype.onScrollEvent=function(horizontalScroll){var _this=this;this.onEvent(function(){_this.gridPanel.setHorizontalScrollPosition(horizontalScroll)})},MasterSlaveService.prototype.getMasterColumns=function(event){var result=[];return event.getColumn()&&result.push(event.getColumn()),event.getColumns()&&event.getColumns().forEach(function(column){result.push(column)}),result},MasterSlaveService.prototype.getColumnIds=function(event){var result=[];return event.getColumn()?result.push(event.getColumn().getColId()):event.getColumns()&&event.getColumns().forEach(function(column){result.push(column.getColId())}),result},MasterSlaveService.prototype.onColumnEvent=function(event){var _this=this;this.onEvent(function(){var masterColumn=event.getColumn(),slaveColumn;if(masterColumn&&(slaveColumn=_this.columnController.getPrimaryColumn(masterColumn.getColId())),!masterColumn||slaveColumn){var masterColumnGroup=event.getColumnGroup(),slaveColumnGroup;if(masterColumnGroup){var colId=masterColumnGroup.getGroupId(),instanceId=masterColumnGroup.getInstanceId();slaveColumnGroup=_this.columnController.getColumnGroup(colId,instanceId)}if(!masterColumnGroup||slaveColumnGroup){var columnIds=_this.getColumnIds(event),masterColumns=_this.getMasterColumns(event);switch(event.getType()){case events_1.Events.EVENT_COLUMN_PIVOT_CHANGED:console.warn("ag-Grid: pivoting is not supported with Master / Slave grids. "+"You can only use one of these features at a time in a grid.");break;case events_1.Events.EVENT_COLUMN_MOVED:_this.logger.log("onColumnEvent-> processing "+event+" toIndex = "+event.getToIndex()),_this.columnController.moveColumns(columnIds,event.getToIndex());break;case events_1.Events.EVENT_COLUMN_VISIBLE:_this.logger.log("onColumnEvent-> processing "+event+" visible = "+event.isVisible()),_this.columnController.setColumnsVisible(columnIds,event.isVisible());break;case events_1.Events.EVENT_COLUMN_PINNED:_this.logger.log("onColumnEvent-> processing "+event+" pinned = "+event.getPinned()),_this.columnController.setColumnsPinned(columnIds,event.getPinned());break;case events_1.Events.EVENT_COLUMN_GROUP_OPENED:_this.logger.log("onColumnEvent-> processing "+event+" expanded = "+masterColumnGroup.isExpanded()),_this.columnController.setColumnGroupOpened(slaveColumnGroup,masterColumnGroup.isExpanded());break;case events_1.Events.EVENT_COLUMN_RESIZED:masterColumns.forEach(function(masterColumn){_this.logger.log("onColumnEvent-> processing "+event+" actualWidth = "+masterColumn.getActualWidth()),_this.columnController.setColumnWidth(masterColumn.getColId(),masterColumn.getActualWidth(),event.isFinished())});}}}})},__decorate([context_3.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],MasterSlaveService.prototype,"gridOptionsWrapper",void 0),__decorate([context_3.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],MasterSlaveService.prototype,"columnController",void 0),__decorate([context_3.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],MasterSlaveService.prototype,"gridPanel",void 0),__decorate([context_3.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],MasterSlaveService.prototype,"eventService",void 0),__decorate([__param(0,context_2.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],MasterSlaveService.prototype,"setBeans",null),__decorate([context_4.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],MasterSlaveService.prototype,"init",null),MasterSlaveService=__decorate([context_1.Bean("masterSlaveService"),__metadata("design:paramtypes",[])],MasterSlaveService),MasterSlaveService}();exports.MasterSlaveService=MasterSlaveService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},gridOptionsWrapper_1=__webpack_require__(5),rowNode_1=__webpack_require__(29),context_1=__webpack_require__(8),eventService_1=__webpack_require__(6),context_2=__webpack_require__(8),events_1=__webpack_require__(12),context_3=__webpack_require__(8),constants_1=__webpack_require__(10),utils_1=__webpack_require__(9),inMemoryNodeManager_1=__webpack_require__(32),columnController_1=__webpack_require__(15),RecursionType;(function(RecursionType){RecursionType[RecursionType.Normal=0]="Normal",RecursionType[RecursionType.AfterFilter=1]="AfterFilter",RecursionType[RecursionType.AfterFilterAndSort=2]="AfterFilterAndSort",RecursionType[RecursionType.PivotNodes=3]="PivotNodes"})(RecursionType||(RecursionType={}));var FloatingRowModel=function(){function FloatingRowModel(){}return FloatingRowModel.prototype.init=function(){if(this.isFloatingForInMemoryRowModel=this.gridOptionsWrapper.isFloatingForInMemoryRowModel(),this.isFloatingForInMemoryRowModel){var topRowData;(topRowData=this.gridOptionsWrapper.getRowDataForFloatingTopRows()||[])&&(this.eventService.addModalPriorityEventListener(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.refreshTopModel.bind(this,constants_1.Constants.STEP_MAP)),this.floatingTopRootNode=new rowNode_1.RowNode,this.topNodeManager=new inMemoryNodeManager_1.InMemoryNodeManager(this.floatingTopRootNode,this.gridOptionsWrapper,this.context,this.eventService),this.context.wireBean(this.floatingTopRootNode),this.setFloatingTopRowDataForInMemoryModel(topRowData,this.columnController.isReady()))}this.setFloatingTopRowData(this.gridOptionsWrapper.getFloatingTopRowData()),this.setFloatingBottomRowData(this.gridOptionsWrapper.getFloatingBottomRowData())},FloatingRowModel.prototype.getTopFloatingTopLevelNodes=function(){return this.floatingTopRootNode?this.floatingTopRootNode.childrenAfterGroup:null},FloatingRowModel.prototype.setFloatingTopRowDataForInMemoryModel=function(rowData,refresh,firstId){this.topNodeManager.setRowData(rowData,firstId,constants_1.Constants.FLOATING_TOP),this.floatingTopRootNode.childrenAfterGroup&&(this.allTopChildrens=this.floatingTopRootNode.childrenAfterGroup.slice()),refresh&&this.refreshTopModel(constants_1.Constants.STEP_MAP)},FloatingRowModel.prototype.setExpanded=function(id,expanded){this.forEachNode(function(node){node.id===id&&(node.expanded=expanded,node.data.$$open=expanded)})},FloatingRowModel.prototype.setFloatingTopCount=function(count,refresh){var result=this.allTopChildrens.slice(0,count);this.floatingTopRootNode.childrenAfterSort=result,this.floatingTopRootNode.childrenAfterGroup=result,this.floatingTopRootNode.childrenAfterFilter=result,this.topNodeManager.setLeafChildren(this.floatingTopRootNode),refresh&&this.refreshTopModel(constants_1.Constants.STEP_MAP)},FloatingRowModel.prototype.refreshTopModel=function(step){step===constants_1.Constants.STEP_MAP?this.doTopRowsToDisplay():void 0,this.eventService.dispatchEvent(events_1.Events.EVENT_FLOATING_ROW_DATA_CHANGED)},FloatingRowModel.prototype.getDisplayedTopRowNodes=function(){return this.flattenStage.execute(this.floatingTopRootNode)},FloatingRowModel.prototype.isEmpty=function(floating){var rows=floating===constants_1.Constants.FLOATING_TOP?this.floatingTopRows:this.floatingBottomRows;return utils_1.Utils.missingOrEmpty(rows)},FloatingRowModel.prototype.isRowsToRender=function(floating){return!this.isEmpty(floating)},FloatingRowModel.prototype.getRowAtPixel=function(pixel,floating){var rows=floating===constants_1.Constants.FLOATING_TOP?this.floatingTopRows:this.floatingBottomRows;if(utils_1.Utils.missingOrEmpty(rows))return 0;for(var i=0;i<rows.length;i++){var rowNode=rows[i],rowTopPixel=rowNode.rowTop+rowNode.rowHeight-1;if(rowTopPixel>=pixel)return i}return rows.length-1},FloatingRowModel.prototype.setFloatingTopRowData=function(rowData){this.lastFloatingTopRowData=rowData,this.floatingTopRows=this.createNodesFromData(rowData,!0),this.eventService.dispatchEvent(events_1.Events.EVENT_FLOATING_ROW_DATA_CHANGED)},FloatingRowModel.prototype.setFloatingBottomRowData=function(rowData){this.floatingBottomRows=this.createNodesFromData(rowData,!1),this.eventService.dispatchEvent(events_1.Events.EVENT_FLOATING_ROW_DATA_CHANGED)},FloatingRowModel.prototype.createNodesFromData=function(allData,isTop){var _this=this,rowNodes=[];if(allData){var nextRowTop=0;allData.forEach(function(dataItem,i){var rowNode=new rowNode_1.RowNode;_this.context.wireBean(rowNode),rowNode.data=dataItem,rowNode.floating=isTop?constants_1.Constants.FLOATING_TOP:constants_1.Constants.FLOATING_BOTTOM,rowNode.rowTop=nextRowTop,rowNode.rowHeight=_this.gridOptionsWrapper.getRowHeightForNode(rowNode,i),nextRowTop+=rowNode.rowHeight,rowNodes.push(rowNode)})}return rowNodes},FloatingRowModel.prototype.forEachNode=function(callback){this.recursivelyWalkNodesAndCallback(this.floatingTopRootNode.childrenAfterGroup,callback,RecursionType.Normal,0)},FloatingRowModel.prototype.recursivelyWalkNodesAndCallback=function(nodes,callback,recursionType,index){if(nodes)for(var i=0,node;i<nodes.length;i++)if(node=nodes[i],callback(node,index++),node.group){var nodeChildren;recursionType===RecursionType.Normal?nodeChildren=node.childrenAfterGroup:recursionType===RecursionType.AfterFilter?nodeChildren=node.childrenAfterFilter:recursionType===RecursionType.AfterFilterAndSort?nodeChildren=node.childrenAfterSort:recursionType===RecursionType.PivotNodes?nodeChildren=node.leafGroup?null:node.childrenAfterSort:void 0,nodeChildren&&(index=this.recursivelyWalkNodesAndCallback(nodeChildren,callback,recursionType,index))}return index},FloatingRowModel.prototype.getFloatingTopRowData=function(){return this.floatingTopRows},FloatingRowModel.prototype.getRawFloatingTopRowData=function(){return this.lastFloatingTopRowData},FloatingRowModel.prototype.getFloatingBottomRowData=function(){return this.floatingBottomRows},FloatingRowModel.prototype.getFloatingTopTotalHeight=function(){return this.getTotalHeight(this.floatingTopRows)},FloatingRowModel.prototype.getFloatingTopRowCount=function(){return this.floatingTopRows?this.floatingTopRows.length:0},FloatingRowModel.prototype.getFloatingBottomRowCount=function(){return this.floatingBottomRows?this.floatingBottomRows.length:0},FloatingRowModel.prototype.getFloatingTopRow=function(index){return this.floatingTopRows[index]},FloatingRowModel.prototype.getFloatingBottomRow=function(index){return this.floatingBottomRows[index]},FloatingRowModel.prototype.forEachFloatingTopRow=function(callback){utils_1.Utils.missingOrEmpty(this.floatingTopRows)||this.floatingTopRows.forEach(callback)},FloatingRowModel.prototype.forEachFloatingBottomRow=function(callback){utils_1.Utils.missingOrEmpty(this.floatingBottomRows)||this.floatingBottomRows.forEach(callback)},FloatingRowModel.prototype.getFloatingBottomTotalHeight=function(){return this.getTotalHeight(this.floatingBottomRows)},FloatingRowModel.prototype.getTotalHeight=function(rowNodes){if(!rowNodes||0===rowNodes.length)return 0;var lastNode=rowNodes[rowNodes.length-1];return lastNode.rowTop+lastNode.rowHeight},FloatingRowModel.prototype.doTopRowsToDisplay=function(){this.floatingTopRows=this.getDisplayedTopRowNodes();var pinnedRowsCount=this.gridOptionsWrapper.getPinnedRowsCount();null!=pinnedRowsCount&&(this.floatingTopRows=this.floatingTopRows.slice(0,pinnedRowsCount))},__decorate([context_2.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],FloatingRowModel.prototype,"gridOptionsWrapper",void 0),__decorate([context_2.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],FloatingRowModel.prototype,"columnController",void 0),__decorate([context_1.Optional("aggregationStage"),__metadata("design:type",Object)],FloatingRowModel.prototype,"aggregationStage",void 0),__decorate([context_2.Autowired("flattenStage"),__metadata("design:type",Object)],FloatingRowModel.prototype,"flattenStage",void 0),__decorate([context_2.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],FloatingRowModel.prototype,"eventService",void 0),__decorate([context_2.Autowired("context"),__metadata("design:type",context_1.Context)],FloatingRowModel.prototype,"context",void 0),__decorate([context_3.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],FloatingRowModel.prototype,"init",null),FloatingRowModel=__decorate([context_1.Bean("floatingRowModel"),__metadata("design:paramtypes",[])],FloatingRowModel),FloatingRowModel}();exports.FloatingRowModel=FloatingRowModel},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},eventService_1=__webpack_require__(6),events_1=__webpack_require__(12),gridOptionsWrapper_1=__webpack_require__(5),selectionController_1=__webpack_require__(30),valueService_1=__webpack_require__(31),columnController_1=__webpack_require__(15),context_1=__webpack_require__(8),constants_1=__webpack_require__(10),RowNode=function(){function RowNode(){this.childrenMapped={},this.selected=!1}return RowNode.prototype.getRowBottom=function(){return this.rowTop+this.rowHeight},RowNode.prototype.setData=function(data){var oldData=this.data;this.data=data;this.dispatchLocalEvent(RowNode.EVENT_DATA_CHANGED,{oldData:oldData,newData:data})},RowNode.prototype.setDataAndId=function(data,id){var oldData=this.data;this.data=data,this.setId(id),this.selectionController.syncInRowNode(this);this.dispatchLocalEvent(RowNode.EVENT_DATA_CHANGED,{oldData:oldData,newData:data})},RowNode.prototype.setId=function(id){var getRowNodeId=this.gridOptionsWrapper.getRowNodeIdFunc();this.id=getRowNodeId?this.data?getRowNodeId(this.data):void 0:id},RowNode.prototype.dispatchLocalEvent=function(eventName,event){this.eventService&&this.eventService.dispatchEvent(eventName,event)},RowNode.prototype.setDataValue=function(colKey,newValue){var column=this.columnController.getGridColumn(colKey);this.valueService.setValue(this,column,newValue);this.dispatchLocalEvent(RowNode.EVENT_CELL_CHANGED,{column:column,newValue:newValue})},RowNode.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},RowNode.prototype.isExpandable=function(){return this.group||this.canFlower},RowNode.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},RowNode.prototype.deptFirstSearch=function(callback){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(child){return child.deptFirstSearch(callback)}),callback(this)},RowNode.prototype.calculateSelectedFromChildren=function(){var atLeastOneSelected=!1,atLeastOneDeSelected=!1,atLeastOneMixed=!1,newSelectedValue;if(this.childrenAfterGroup)for(var i=0,childState;i<this.childrenAfterGroup.length;i++)switch(childState=this.childrenAfterGroup[i].isSelected(),childState){case!0:atLeastOneSelected=!0;break;case!1:atLeastOneDeSelected=!0;break;default:atLeastOneMixed=!0;}newSelectedValue=atLeastOneMixed?void 0:atLeastOneSelected&&!atLeastOneDeSelected||(atLeastOneSelected||!atLeastOneDeSelected)&&void 0,this.selectThisNode(newSelectedValue)},RowNode.prototype.calculateSelectedFromChildrenBubbleUp=function(){this.calculateSelectedFromChildren(),this.parent&&this.parent.calculateSelectedFromChildrenBubbleUp()},RowNode.prototype.setSelectedInitialValue=function(selected){this.selected=selected},RowNode.prototype.setSelected=function(newValue,clearSelection,tailingNodeInSequence){void 0===clearSelection&&(clearSelection=!1),void 0===tailingNodeInSequence&&(tailingNodeInSequence=!1),this.setSelectedParams({newValue:newValue,clearSelection:clearSelection,tailingNodeInSequence:tailingNodeInSequence,rangeSelect:!1})},RowNode.prototype.setSelectedParams=function(params){var newValue=!0===params.newValue,clearSelection=!0===params.clearSelection,tailingNodeInSequence=!0===params.tailingNodeInSequence,rangeSelect=!0===params.rangeSelect;if(void 0===this.id)return void console.warn("ag-Grid: cannot select node until id for node is known");if(this.floating)return void console.log("ag-Grid: cannot select floating rows");if(this.footer)return void this.sibling.setSelectedParams(params);if(rangeSelect){var rowModelNormal=this.rowModel.getType()===constants_1.Constants.ROW_MODEL_TYPE_NORMAL,newRowClicked=this.selectionController.getLastSelectedNode()!==this,allowMultiSelect=this.gridOptionsWrapper.isRowSelectionMulti();if(rowModelNormal&&newRowClicked&&allowMultiSelect)return void this.doRowRangeSelection()}this.selectThisNode(newValue);var groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren();groupSelectsChildren&&this.group&&this.selectChildNodes(newValue);!tailingNodeInSequence&&(newValue&&(clearSelection||!this.gridOptionsWrapper.isRowSelectionMulti())&&this.selectionController.clearOtherNodes(this),groupSelectsChildren&&this.parent&&this.parent.calculateSelectedFromChildrenBubbleUp(),this.mainEventService.dispatchEvent(events_1.Events.EVENT_SELECTION_CHANGED),newValue&&this.selectionController.setLastSelectedNode(this))},RowNode.prototype.doRowRangeSelection=function(){var _this=this,lastSelectedNode=this.selectionController.getLastSelectedNode(),firstRowHit=!lastSelectedNode,lastRowHit=!1,groupsSelectChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),inMemoryRowModel=this.rowModel,lastRow;inMemoryRowModel.forEachNodeAfterFilterAndSort(function(rowNode){var lookingForLastRow=firstRowHit&&!lastRowHit;firstRowHit||rowNode!==lastSelectedNode&&rowNode!==_this||(firstRowHit=!0);var skipThisGroupNode=rowNode.group&&groupsSelectChildren;if(!skipThisGroupNode){var inRange=firstRowHit&&!lastRowHit,childOfLastRow=rowNode.isParentOfNode(lastRow);rowNode.selectThisNode(inRange||childOfLastRow)}lookingForLastRow&&(rowNode===lastSelectedNode||rowNode===_this)&&(lastRowHit=!0,lastRow=rowNode===lastSelectedNode?lastSelectedNode:_this)}),groupsSelectChildren&&this.calculatedSelectedForAllGroupNodes(),this.mainEventService.dispatchEvent(events_1.Events.EVENT_SELECTION_CHANGED)},RowNode.prototype.isParentOfNode=function(potentialParent){for(var parentNode=this.parent;parentNode;){if(parentNode===potentialParent)return!0;parentNode=parentNode.parent}return!1},RowNode.prototype.calculatedSelectedForAllGroupNodes=function(){var inMemoryRowModel=this.rowModel;inMemoryRowModel.getTopLevelNodes().forEach(function(topLevelNode){topLevelNode.group&&(topLevelNode.deptFirstSearch(function(childNode){childNode.group&&childNode.calculateSelectedFromChildren()}),topLevelNode.calculateSelectedFromChildren())})},RowNode.prototype.selectThisNode=function(newValue){if(this.selected!==newValue){this.selected=newValue,this.eventService&&this.dispatchLocalEvent(RowNode.EVENT_ROW_SELECTED);var event={node:this};this.mainEventService.dispatchEvent(events_1.Events.EVENT_ROW_SELECTED,event)}},RowNode.prototype.selectChildNodes=function(newValue){for(var i=0;i<this.childrenAfterGroup.length;i++)this.childrenAfterGroup[i].setSelectedParams({newValue:newValue,clearSelection:!1,tailingNodeInSequence:!0})},RowNode.prototype.addEventListener=function(eventType,listener){this.eventService||(this.eventService=new eventService_1.EventService),this.eventService.addEventListener(eventType,listener)},RowNode.prototype.removeEventListener=function(eventType,listener){this.eventService.removeEventListener(eventType,listener)},RowNode.prototype.onMouseEnter=function(){this.dispatchLocalEvent(RowNode.EVENT_MOUSE_ENTER)},RowNode.prototype.onMouseLeave=function(){this.dispatchLocalEvent(RowNode.EVENT_MOUSE_LEAVE)},RowNode.EVENT_ROW_SELECTED="rowSelected",RowNode.EVENT_DATA_CHANGED="dataChanged",RowNode.EVENT_CELL_CHANGED="cellChanged",RowNode.EVENT_MOUSE_ENTER="mouseEnter",RowNode.EVENT_MOUSE_LEAVE="mouseLeave",__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],RowNode.prototype,"mainEventService",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],RowNode.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("selectionController"),__metadata("design:type",selectionController_1.SelectionController)],RowNode.prototype,"selectionController",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],RowNode.prototype,"columnController",void 0),__decorate([context_1.Autowired("valueService"),__metadata("design:type",valueService_1.ValueService)],RowNode.prototype,"valueService",void 0),__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],RowNode.prototype,"rowModel",void 0),RowNode}();exports.RowNode=RowNode},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},utils_1=__webpack_require__(9),context_1=__webpack_require__(8),context_2=__webpack_require__(8),logger_1=__webpack_require__(7),eventService_1=__webpack_require__(6),events_1=__webpack_require__(12),context_3=__webpack_require__(8),gridOptionsWrapper_1=__webpack_require__(5),context_4=__webpack_require__(8),constants_1=__webpack_require__(10),SelectionController=function(){function SelectionController(){}return SelectionController.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create("SelectionController"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()?this.eventService.addEventListener(events_1.Events.EVENT_ROW_DATA_CHANGED,this.reset.bind(this)):this.logger.log("dont know what to do here")},SelectionController.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.eventService.addEventListener(events_1.Events.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},SelectionController.prototype.setLastSelectedNode=function(rowNode){this.lastSelectedNode=rowNode},SelectionController.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},SelectionController.prototype.getSelectedNodes=function(){var selectedNodes=[];return utils_1.Utils.iterateObject(this.selectedNodes,function(key,rowNode){rowNode&&selectedNodes.push(rowNode)}),selectedNodes},SelectionController.prototype.getSelectedRows=function(){var selectedRows=[];return utils_1.Utils.iterateObject(this.selectedNodes,function(key,rowNode){rowNode&&selectedRows.push(rowNode.data)}),selectedRows},SelectionController.prototype.removeGroupsFromSelection=function(){var _this=this;utils_1.Utils.iterateObject(this.selectedNodes,function(key,rowNode){rowNode&&rowNode.group&&(_this.selectedNodes[rowNode.id]=void 0)})},SelectionController.prototype.updateGroupsFromChildrenSelections=function(){this.rowModel.getType()!==constants_1.Constants.ROW_MODEL_TYPE_NORMAL&&console.warn("updateGroupsFromChildrenSelections not available when rowModel is not normal");var inMemoryRowModel=this.rowModel;inMemoryRowModel.getTopLevelNodes().forEach(function(rowNode){rowNode.deptFirstSearch(function(rowNode){rowNode.group&&rowNode.calculateSelectedFromChildren()})})},SelectionController.prototype.getNodeForIdIfSelected=function(id){return this.selectedNodes[id]},SelectionController.prototype.clearOtherNodes=function(rowNodeToKeepSelected){var _this=this,groupsToRefresh={};utils_1.Utils.iterateObject(this.selectedNodes,function(key,otherRowNode){otherRowNode&&otherRowNode.id!==rowNodeToKeepSelected.id&&(_this.selectedNodes[otherRowNode.id].setSelectedParams({newValue:!1,clearSelection:!1,tailingNodeInSequence:!0}),_this.groupSelectsChildren&&otherRowNode.parent&&(groupsToRefresh[otherRowNode.parent.id]=otherRowNode.parent))}),utils_1.Utils.iterateObject(groupsToRefresh,function(key,group){group.calculateSelectedFromChildren()})},SelectionController.prototype.onRowSelected=function(event){var rowNode=event.node;this.groupSelectsChildren&&rowNode.group||(rowNode.isSelected()?this.selectedNodes[rowNode.id]=rowNode:this.selectedNodes[rowNode.id]=void 0)},SelectionController.prototype.syncInRowNode=function(rowNode){void 0!==this.selectedNodes[rowNode.id]&&(rowNode.setSelectedInitialValue(!0),this.selectedNodes[rowNode.id]=rowNode)},SelectionController.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},SelectionController.prototype.getBestCostNodeSelection=function(){function traverse(nodes){for(var i=0,l=nodes.length,node;i<l;i++)node=nodes[i],node.isSelected()?result.push(node):node.group&&node.children&&traverse(node.children)}this.rowModel.getType()!==constants_1.Constants.ROW_MODEL_TYPE_NORMAL&&console.warn("getBestCostNodeSelection is only avilable when using normal row model");var inMemoryRowModel=this.rowModel,topLevelNodes=inMemoryRowModel.getTopLevelNodes();if(null===topLevelNodes)return void console.warn("selectAll not available doing rowModel=virtual");var result=[];return traverse(topLevelNodes),result},SelectionController.prototype.setRowModel=function(rowModel){this.rowModel=rowModel},SelectionController.prototype.isEmpty=function(){var count=0;return utils_1.Utils.iterateObject(this.selectedNodes,function(nodeId,rowNode){rowNode&&count++}),0==count},SelectionController.prototype.deselectAllRowNodes=function(){utils_1.Utils.iterateObject(this.selectedNodes,function(nodeId,rowNode){rowNode&&rowNode.selectThisNode(!1)}),this.rowModel.getType()===constants_1.Constants.ROW_MODEL_TYPE_NORMAL&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.selectedNodes={},this.eventService.dispatchEvent(events_1.Events.EVENT_SELECTION_CHANGED)},SelectionController.prototype.selectAllRowNodes=function(){if(this.rowModel.getType()!==constants_1.Constants.ROW_MODEL_TYPE_NORMAL)throw"selectAll only available with normal row model, ie not virtual pagination";this.rowModel.forEachNode(function(rowNode){rowNode.selectThisNode(!0)}),this.eventService.dispatchEvent(events_1.Events.EVENT_SELECTION_CHANGED)},SelectionController.prototype.selectNode=function(rowNode,tryMulti){rowNode.setSelectedParams({newValue:!0,clearSelection:!tryMulti})},SelectionController.prototype.deselectIndex=function(rowIndex){var node=this.rowModel.getRow(rowIndex);this.deselectNode(node)},SelectionController.prototype.deselectNode=function(rowNode){rowNode.setSelectedParams({newValue:!1,clearSelection:!1})},SelectionController.prototype.selectIndex=function(index,tryMulti){var node=this.rowModel.getRow(index);this.selectNode(node,tryMulti)},__decorate([context_3.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],SelectionController.prototype,"eventService",void 0),__decorate([context_3.Autowired("rowModel"),__metadata("design:type",Object)],SelectionController.prototype,"rowModel",void 0),__decorate([context_3.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],SelectionController.prototype,"gridOptionsWrapper",void 0),__decorate([__param(0,context_2.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],SelectionController.prototype,"setBeans",null),__decorate([context_4.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],SelectionController.prototype,"init",null),SelectionController=__decorate([context_1.Bean("selectionController"),__metadata("design:paramtypes",[])],SelectionController),SelectionController}();exports.SelectionController=SelectionController},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},gridOptionsWrapper_1=__webpack_require__(5),expressionService_1=__webpack_require__(20),columnController_1=__webpack_require__(15),context_1=__webpack_require__(8),utils_1=__webpack_require__(9),events_1=__webpack_require__(12),eventService_1=__webpack_require__(6),ValueService=function(){function ValueService(){this.initialised=!1}return ValueService.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.userProvidedTheGroups=utils_1.Utils.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc()),this.suppressUseColIdForGroups=this.gridOptionsWrapper.isSuppressUseColIdForGroups(),this.initialised=!0},ValueService.prototype.getValue=function(column,node){return this.getValueUsingSpecificData(column,node.data,node)},ValueService.prototype.getValueUsingSpecificData=function(column,data,node){this.initialised||this.init();var colDef=column.getColDef(),field=colDef.field,result;if(result=data&&node.group&&!this.userProvidedTheGroups&&!this.suppressUseColIdForGroups?node.data?node.data[column.getId()]:void 0:colDef.valueGetter?this.executeValueGetter(colDef.valueGetter,data,column,node):field&&data?utils_1.Utils.getValueUsingField(data,field,column.isFieldContainsDots()):void 0,this.cellExpressions&&"string"==typeof result&&0===result.indexOf("=")){var cellValueGetter=result.substring(1);result=this.executeValueGetter(cellValueGetter,data,column,node)}return result},ValueService.prototype.setValue=function(rowNode,colKey,newValue){var column=this.columnController.getPrimaryColumn(colKey);if(rowNode&&column){var data=rowNode.data;if(!utils_1.Utils.missing(data)){var field=column.getColDef().field,newValueHandler=column.getColDef().newValueHandler;if(utils_1.Utils.missing(field)&&utils_1.Utils.missing(newValueHandler))return void console.warn("ag-Grid: you need either field or newValueHandler set on colDef for editing to work");var paramsForCallbacks={node:rowNode,data:rowNode.data,oldValue:this.getValue(column,rowNode),newValue:newValue,colDef:column.getColDef(),api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};newValueHandler?newValueHandler(paramsForCallbacks):this.setValueUsingField(data,field,newValue,column.isFieldContainsDots()),rowNode.resetQuickFilterAggregateText(),paramsForCallbacks.newValue=this.getValue(column,rowNode),"function"==typeof column.getColDef().onCellValueChanged&&column.getColDef().onCellValueChanged(paramsForCallbacks),this.eventService.dispatchEvent(events_1.Events.EVENT_CELL_VALUE_CHANGED,paramsForCallbacks)}}},ValueService.prototype.setValueUsingField=function(data,field,newValue,isFieldContainsDots){if(!isFieldContainsDots)data[field]=newValue;else for(var fieldPieces=field.split("."),currentObject=data,fieldPiece;0<fieldPieces.length&&currentObject;)fieldPiece=fieldPieces.shift(),0===fieldPieces.length?currentObject[fieldPiece]=newValue:currentObject=currentObject[fieldPiece]},ValueService.prototype.executeValueGetter=function(valueGetter,data,column,node){var context=this.gridOptionsWrapper.getContext(),api=this.gridOptionsWrapper.getApi(),params={data:data,node:node,colDef:column.getColDef(),api:api,context:context,getValue:this.getValueCallback.bind(this,data,node)};return"function"==typeof valueGetter?valueGetter(params):"string"==typeof valueGetter?this.expressionService.evaluate(valueGetter,params):void 0},ValueService.prototype.getValueCallback=function(data,node,field){var otherColumn=this.columnController.getPrimaryColumn(field);return otherColumn?this.getValueUsingSpecificData(otherColumn,data,node):null},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],ValueService.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("expressionService"),__metadata("design:type",expressionService_1.ExpressionService)],ValueService.prototype,"expressionService",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],ValueService.prototype,"columnController",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],ValueService.prototype,"eventService",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ValueService.prototype,"init",null),ValueService=__decorate([context_1.Bean("valueService"),__metadata("design:paramtypes",[])],ValueService),ValueService}();exports.ValueService=ValueService},function(module,exports,__webpack_require__){var rowNode_1=__webpack_require__(29),utils_1=__webpack_require__(9),InMemoryNodeManager=function(){function InMemoryNodeManager(rootNode,gridOptionsWrapper,context,eventService){this.nextId=0,this.rootNode=rootNode,this.gridOptionsWrapper=gridOptionsWrapper,this.context=context,this.eventService=eventService,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[]}return InMemoryNodeManager.prototype.setRowData=function(rowData,firstId,floating){if(this.rootNode.childrenAfterFilter=null,this.rootNode.childrenAfterGroup=null,this.rootNode.childrenAfterSort=null,this.rootNode.childrenMapped=null,this.nextId=utils_1.Utils.exists(firstId)?firstId:0,!rowData)return this.rootNode.allLeafChildren=[],void(this.rootNode.childrenAfterGroup=[]);this.getNodeChildDetails=this.gridOptionsWrapper.getNodeChildDetailsFunc(),this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.doesDataFlower=this.gridOptionsWrapper.getDoesDataFlowerFunc();var rowsAlreadyGrouped=utils_1.Utils.exists(this.getNodeChildDetails),result=this.recursiveFunction(rowData,null,InMemoryNodeManager.TOP_LEVEL,floating);rowsAlreadyGrouped?(this.rootNode.childrenAfterGroup=result,this.rootNode.childrenAfterFilter=result,this.rootNode.childrenAfterSort=result,this.setLeafChildren(this.rootNode)):this.rootNode.allLeafChildren=result},InMemoryNodeManager.prototype.recursiveFunction=function(rowData,parent,level,floating){var _this=this;if("string"==typeof rowData)return void console.warn("ag-Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");var rowNodes=[];return rowData.forEach(function(dataItem){var node=_this.createNode(dataItem,parent,level,floating),nodeChildDetails=_this.getNodeChildDetails?_this.getNodeChildDetails(dataItem):null;if(nodeChildDetails&&nodeChildDetails.group){node.group=!0;var result=_this.recursiveFunction(nodeChildDetails.children,node,level+1,floating);node.childrenAfterFilter=result,node.childrenAfterGroup=result,node.childrenAfterSort=result,node.expanded=!0===nodeChildDetails.expanded,node.field=nodeChildDetails.field,node.key=nodeChildDetails.key,_this.setLeafChildren(node)}rowNodes.push(node)}),rowNodes},InMemoryNodeManager.prototype.createNode=function(dataItem,parent,level,floating){var node=new rowNode_1.RowNode;utils_1.Utils.exists(floating)&&(node.floating=floating),this.context.wireBean(node);var nodeChildDetails=this.getNodeChildDetails?this.getNodeChildDetails(dataItem):null;if(nodeChildDetails&&nodeChildDetails.group){node.group=!0;var result=this.recursiveFunction(nodeChildDetails.children,node,level+1,floating);node.childrenAfterFilter=result,node.childrenAfterGroup=result,node.childrenAfterSort=result,node.expanded=!0===nodeChildDetails.expanded,node.field=nodeChildDetails.field,node.key=nodeChildDetails.key,node.canFlower=!1,this.setLeafChildren(node)}else node.group=!1,node.canFlower=!!this.doesDataFlower&&this.doesDataFlower(dataItem),node.canFlower&&(node.expanded=!1);return parent&&!this.suppressParentsInRowNodes&&(node.parent=parent),node.level=level,node.setDataAndId(dataItem,this.nextId.toString()),this.nextId++,node},InMemoryNodeManager.prototype.setLeafChildren=function(node){node.allLeafChildren=[],node.childrenAfterGroup&&node.childrenAfterGroup.forEach(function(childAfterGroup){childAfterGroup.group?childAfterGroup.allLeafChildren&&childAfterGroup.allLeafChildren.forEach(function(leafChild){return node.allLeafChildren.push(leafChild)}):node.allLeafChildren.push(childAfterGroup)})},InMemoryNodeManager.prototype.insertItemsAtIndex=function(index,rowData){var nodeList=this.rootNode.childrenAfterGroup;if(index>nodeList.length)return void console.warn("ag-Grid: invalid index "+index+", max index is "+nodeList.length);var newNodes=[];return rowData.forEach(function(data,i){utils_1.Utils.insertIntoArray(nodeList,data,index+i),newNodes.push(data)}),0<newNodes.length?newNodes:null},InMemoryNodeManager.prototype.removeItems=function(rowNodes){var nodeList=this.rootNode.childrenAfterGroup,removedNodes=[];return rowNodes.forEach(function(rowNode){var indexOfNode=nodeList.indexOf(rowNode);0<=indexOfNode&&(rowNode.setSelected(!1),nodeList.splice(indexOfNode,1)),removedNodes.push(rowNode)}),0<removedNodes.length?removedNodes:null},InMemoryNodeManager.prototype.addItems=function(items){var nodeList=this.rootNode.allLeafChildren;return this.insertItemsAtIndex(nodeList.length,items)},InMemoryNodeManager.prototype.isRowsAlreadyGrouped=function(){var rowsAlreadyGrouped=utils_1.Utils.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc());return!!rowsAlreadyGrouped&&(console.warn("ag-Grid: adding and removing rows is not supported when using nodeChildDetailsFunc, ie it is not "+"supported if providing groups"),!0)},InMemoryNodeManager.TOP_LEVEL=0,InMemoryNodeManager}();exports.InMemoryNodeManager=InMemoryNodeManager},function(module,exports,__webpack_require__){var utils_1=__webpack_require__(9),BorderLayout=function(){function BorderLayout(params){this.centerHeightLastTime=-1,this.centerWidthLastTime=-1,this.centerLeftMarginLastTime=-1,this.visibleLastTime=!1,this.sizeChangeListeners=[],this.isLayoutPanel=!0,this.fullHeight=!params.north&&!params.south;var template;params.dontFill?(template=BorderLayout.TEMPLATE_DONT_FILL,this.layoutActive=!1):(template=this.fullHeight?BorderLayout.TEMPLATE_FULL_HEIGHT:BorderLayout.TEMPLATE_NORMAL,this.layoutActive=!0),this.eGui=utils_1.Utils.loadTemplate(template),this.id="borderLayout",params.name&&(this.id+="_"+params.name),this.eGui.setAttribute("id",this.id),this.childPanels=[],params&&this.setupPanels(params),this.overlays=params.overlays,this.setupOverlays()}return BorderLayout.prototype.addSizeChangeListener=function(listener){this.sizeChangeListeners.push(listener)},BorderLayout.prototype.fireSizeChanged=function(){this.sizeChangeListeners.forEach(function(listener){listener()})},BorderLayout.prototype.setupPanels=function(params){this.eNorthWrapper=this.eGui.querySelector("#north"),this.eSouthWrapper=this.eGui.querySelector("#south"),this.eEastWrapper=this.eGui.querySelector("#east"),this.eWestWrapper=this.eGui.querySelector("#west"),this.eCenterWrapper=this.eGui.querySelector("#center"),this.eOverlayWrapper=this.eGui.querySelector("#overlay"),this.eCenterRow=this.eGui.querySelector("#centerRow"),this.eNorthChildLayout=this.setupPanel(params.north,this.eNorthWrapper),this.eSouthChildLayout=this.setupPanel(params.south,this.eSouthWrapper),this.eEastChildLayout=this.setupPanel(params.east,this.eEastWrapper),this.eWestChildLayout=this.setupPanel(params.west,this.eWestWrapper),this.eCenterChildLayout=this.setupPanel(params.center,this.eCenterWrapper)},BorderLayout.prototype.setupPanel=function(content,ePanel){return ePanel?content?content.isLayoutPanel?(this.childPanels.push(content),ePanel.appendChild(content.getGui()),content):(ePanel.appendChild(content),null):(ePanel.parentNode.removeChild(ePanel),null):void 0},BorderLayout.prototype.getGui=function(){return this.eGui},BorderLayout.prototype.doLayout=function(){var _this=this,isVisible=utils_1.Utils.isVisible(this.eGui);if(!isVisible)return this.visibleLastTime=!1,!1;var atLeastOneChanged=!1;this.visibleLastTime!==isVisible&&(atLeastOneChanged=!0),this.visibleLastTime=!0;var childLayouts=[this.eNorthChildLayout,this.eSouthChildLayout,this.eEastChildLayout,this.eWestChildLayout];if(childLayouts.forEach(function(childLayout){var childChangedSize=_this.layoutChild(childLayout);childChangedSize&&(atLeastOneChanged=!0)}),this.layoutActive){var ourHeightChanged=this.layoutHeight(),ourWidthChanged=this.layoutWidth();(ourHeightChanged||ourWidthChanged)&&(atLeastOneChanged=!0)}var centerChanged=this.layoutChild(this.eCenterChildLayout);return centerChanged&&(atLeastOneChanged=!0),atLeastOneChanged&&this.fireSizeChanged(),atLeastOneChanged},BorderLayout.prototype.layoutChild=function(childPanel){return!!childPanel&&childPanel.doLayout()},BorderLayout.prototype.layoutHeight=function(){return this.fullHeight?this.layoutHeightFullHeight():this.layoutHeightNormal()},BorderLayout.prototype.layoutHeightFullHeight=function(){var centerHeight=utils_1.Utils.offsetHeight(this.eGui);return 0>centerHeight&&(centerHeight=0),this.centerHeightLastTime!==centerHeight&&(this.centerHeightLastTime=centerHeight,!0)},BorderLayout.prototype.layoutHeightNormal=function(){var totalHeight=utils_1.Utils.offsetHeight(this.eGui),northHeight=utils_1.Utils.offsetHeight(this.eNorthWrapper),southHeight=utils_1.Utils.offsetHeight(this.eSouthWrapper),centerHeight=totalHeight-northHeight-southHeight;return 0>centerHeight&&(centerHeight=0),this.centerHeightLastTime!==centerHeight&&(this.eCenterRow.style.height=centerHeight+"px",this.centerHeightLastTime=centerHeight,!0)},BorderLayout.prototype.getCentreHeight=function(){return this.centerHeightLastTime},BorderLayout.prototype.layoutWidth=function(){var totalWidth=utils_1.Utils.offsetWidth(this.eGui),eastWidth=utils_1.Utils.offsetWidth(this.eEastWrapper),westWidth=utils_1.Utils.offsetWidth(this.eWestWrapper),centerWidth=totalWidth-eastWidth-westWidth;0>centerWidth&&(centerWidth=0);var atLeastOneChanged=!1;return this.centerLeftMarginLastTime!==westWidth&&(this.centerLeftMarginLastTime=westWidth,this.eCenterWrapper.style.marginLeft=westWidth+"px",atLeastOneChanged=!0),this.centerWidthLastTime!==centerWidth&&(this.centerWidthLastTime=centerWidth,this.eCenterWrapper.style.width=centerWidth+"px",atLeastOneChanged=!0),atLeastOneChanged},BorderLayout.prototype.setEastVisible=function(visible){this.eEastWrapper&&(this.eEastWrapper.style.display=visible?"":"none"),this.doLayout()},BorderLayout.prototype.setupOverlays=function(){return this.overlays?void this.hideOverlay():void this.eOverlayWrapper.parentNode.removeChild(this.eOverlayWrapper)},BorderLayout.prototype.hideOverlay=function(){utils_1.Utils.removeAllChildren(this.eOverlayWrapper),this.eOverlayWrapper.style.display="none"},BorderLayout.prototype.showOverlay=function(key){var overlay=this.overlays?this.overlays[key]:null;overlay?(utils_1.Utils.removeAllChildren(this.eOverlayWrapper),this.eOverlayWrapper.style.display="",this.eOverlayWrapper.appendChild(overlay)):(console.log("ag-Grid: unknown overlay"),this.hideOverlay())},BorderLayout.TEMPLATE_FULL_HEIGHT="<div class=\"ag-bl ag-bl-full-height\">"+"  <div class=\"ag-bl-west ag-bl-full-height-west\" id=\"west\"></div>"+"  <div class=\"ag-bl-east ag-bl-full-height-east\" id=\"east\"></div>"+"  <div class=\"ag-bl-center ag-bl-full-height-center\" id=\"center\"></div>"+"  <div class=\"ag-bl-overlay\" id=\"overlay\"></div>"+"</div>",BorderLayout.TEMPLATE_NORMAL="<div class=\"ag-bl ag-bl-normal\">"+"  <div id=\"north\"></div>"+"  <div class=\"ag-bl-center-row ag-bl-normal-center-row\" id=\"centerRow\">"+"    <div class=\"ag-bl-west ag-bl-normal-west\" id=\"west\"></div>"+"    <div class=\"ag-bl-east ag-bl-normal-east\" id=\"east\"></div>"+"    <div class=\"ag-bl-center ag-bl-normal-center\" id=\"center\"></div>"+"  </div>"+"  <div id=\"south\"></div>"+"  <div class=\"ag-bl-overlay\" id=\"overlay\"></div>"+"</div>",BorderLayout.TEMPLATE_DONT_FILL="<div class=\"ag-bl ag-bl-dont-fill\">"+"  <div id=\"north\"></div>"+"  <div id=\"centerRow\">"+"    <div id=\"west\"></div>"+"    <div id=\"east\"></div>"+"    <div id=\"center\"></div>"+"  </div>"+"  <div id=\"south\"></div>"+"  <div class=\"ag-bl-overlay\" id=\"overlay\"></div>"+"</div>",BorderLayout}();exports.BorderLayout=BorderLayout},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(8),logger_1=__webpack_require__(7),utils_1=__webpack_require__(9),eventService_1=__webpack_require__(6),events_1=__webpack_require__(12),DragService=function(){function DragService(){this.onMouseUpListener=this.onMouseUp.bind(this),this.onMouseMoveListener=this.onMouseMove.bind(this),this.destroyFunctions=[]}return DragService.prototype.init=function(){this.logger=this.loggerFactory.create("DragService"),this.eBody=document.querySelector("body")},DragService.prototype.destroy=function(){this.destroyFunctions.forEach(function(func){return func()})},DragService.prototype.setNoSelectToBody=function(noSelect){utils_1.Utils.exists(this.eBody)&&utils_1.Utils.addOrRemoveCssClass(this.eBody,"ag-body-no-select",noSelect)},DragService.prototype.addDragSource=function(params){var listener=this.onMouseDown.bind(this,params);params.eElement.addEventListener("mousedown",listener),this.destroyFunctions.push(function(){return params.eElement.removeEventListener("mousedown",listener)})},DragService.prototype.onMouseDown=function(params,mouseEvent){0!==mouseEvent.button||params.activationPredicate&&!params.activationPredicate(mouseEvent)||(this.currentDragParams=params,this.dragging=!1,this.eventLastTime=mouseEvent,this.dragStartEvent=mouseEvent,document.addEventListener("mousemove",this.onMouseMoveListener),document.addEventListener("mouseup",this.onMouseUpListener),0===params.dragStartPixels&&this.onMouseMove(mouseEvent))},DragService.prototype.isEventNearStartEvent=function(event){var requiredPixelDiff=utils_1.Utils.exists(this.currentDragParams.dragStartPixels)?this.currentDragParams.dragStartPixels:4;if(0===requiredPixelDiff)return!1;var diffX=_Mathabs9(event.clientX-this.dragStartEvent.clientX),diffY=_Mathabs9(event.clientY-this.dragStartEvent.clientY);return _Mathmax7(diffX,diffY)<=requiredPixelDiff},DragService.prototype.onMouseMove=function(mouseEvent){if(!this.dragging){var toEarlyToDrag=!this.dragging&&this.isEventNearStartEvent(mouseEvent);if(toEarlyToDrag)return;this.dragging=!0,this.eventService.dispatchEvent(events_1.Events.EVENT_DRAG_STARTED),this.currentDragParams.onDragStart(this.dragStartEvent),this.setNoSelectToBody(!0)}this.currentDragParams.onDragging(mouseEvent)},DragService.prototype.onMouseUp=function(mouseEvent){document.removeEventListener("mouseup",this.onMouseUpListener),document.removeEventListener("mousemove",this.onMouseMoveListener),this.setNoSelectToBody(!1),this.dragStartEvent=null,this.eventLastTime=null,this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(mouseEvent),this.eventService.dispatchEvent(events_1.Events.EVENT_DRAG_STOPPED))},__decorate([context_1.Autowired("loggerFactory"),__metadata("design:type",logger_1.LoggerFactory)],DragService.prototype,"loggerFactory",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],DragService.prototype,"eventService",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],DragService.prototype,"init",null),__decorate([context_1.PreDestroy,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],DragService.prototype,"destroy",null),DragService=__decorate([context_1.Bean("dragService"),__metadata("design:paramtypes",[])],DragService),DragService}();exports.DragService=DragService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(8),context_2=__webpack_require__(8),gridPanel_1=__webpack_require__(26),columnController_1=__webpack_require__(15),column_1=__webpack_require__(17),constants_1=__webpack_require__(10),floatingRowModel_1=__webpack_require__(28),utils_1=__webpack_require__(9),gridCell_1=__webpack_require__(36),gridOptionsWrapper_1=__webpack_require__(5),MouseEventService=function(){function MouseEventService(){}return MouseEventService.prototype.getCellForMouseEvent=function(mouseEvent){var floating=this.getFloating(mouseEvent),rowIndex=this.getRowIndex(mouseEvent,floating),column=this.getColumn(mouseEvent);return 0<=rowIndex&&utils_1.Utils.exists(column)?new gridCell_1.GridCell(rowIndex,floating,column):null},MouseEventService.prototype.getFloating=function(mouseEvent){var floatingTopRect=this.gridPanel.getFloatingTopClientRect(),floatingBottomRect=this.gridPanel.getFloatingBottomClientRect(),floatingTopRowsExist=!this.floatingRowModel.isEmpty(constants_1.Constants.FLOATING_TOP),floatingBottomRowsExist=!this.floatingRowModel.isEmpty(constants_1.Constants.FLOATING_BOTTOM);return floatingTopRowsExist&&floatingTopRect.bottom>=mouseEvent.clientY?constants_1.Constants.FLOATING_TOP:floatingBottomRowsExist&&floatingBottomRect.top<=mouseEvent.clientY?constants_1.Constants.FLOATING_BOTTOM:null},MouseEventService.prototype.getFloatingRowIndex=function(mouseEvent,floating){var clientRect;floating===constants_1.Constants.FLOATING_TOP?clientRect=this.gridPanel.getFloatingTopClientRect():floating===constants_1.Constants.FLOATING_BOTTOM?clientRect=this.gridPanel.getFloatingBottomClientRect():void 0;var bodyY=mouseEvent.clientY-clientRect.top,rowIndex=this.floatingRowModel.getRowAtPixel(bodyY,floating);return rowIndex},MouseEventService.prototype.getRowIndex=function(mouseEvent,floating){return floating===constants_1.Constants.FLOATING_TOP||floating===constants_1.Constants.FLOATING_BOTTOM?this.getFloatingRowIndex(mouseEvent,floating):this.getBodyRowIndex(mouseEvent)},MouseEventService.prototype.getBodyRowIndex=function(mouseEvent){var clientRect=this.gridPanel.getBodyViewportClientRect(),scrollY=this.gridPanel.getVerticalScrollPosition(),bodyY=mouseEvent.clientY-clientRect.top+scrollY,rowIndex=this.rowModel.getRowIndexAtPixel(bodyY);return rowIndex},MouseEventService.prototype.getContainer=function(mouseEvent){var centerRect=this.gridPanel.getBodyViewportClientRect(),mouseX=mouseEvent.clientX;return mouseX<centerRect.left&&this.columnController.isPinningLeft()?column_1.Column.PINNED_LEFT:mouseX>centerRect.right&&this.columnController.isPinningRight()?column_1.Column.PINNED_RIGHT:null},MouseEventService.prototype.getColumn=function(mouseEvent){if(this.columnController.isEmpty())return null;var container=this.getContainer(mouseEvent),columns=this.getColumnsForContainer(container),containerX=this.getXForContainer(container,mouseEvent),hoveringColumn;return 0>containerX&&(hoveringColumn=columns[0]),columns.forEach(function(column){var afterLeft=containerX>=column.getLeft(),beforeRight=containerX<=column.getRight();afterLeft&&beforeRight&&(hoveringColumn=column)}),hoveringColumn||(hoveringColumn=columns[columns.length-1]),hoveringColumn},MouseEventService.prototype.getColumnsForContainer=function(container){return container===column_1.Column.PINNED_LEFT?this.columnController.getDisplayedLeftColumns():container===column_1.Column.PINNED_RIGHT?this.columnController.getDisplayedRightColumns():this.columnController.getDisplayedCenterColumns()},MouseEventService.prototype.getXForContainer=function(container,mouseEvent){var containerX;switch(container){case column_1.Column.PINNED_LEFT:containerX=this.gridPanel.getPinnedLeftColsViewportClientRect().left;break;case column_1.Column.PINNED_RIGHT:containerX=this.gridPanel.getPinnedRightColsViewportClientRect().left;break;default:var centerRect=this.gridPanel.getBodyViewportClientRect(),centerScroll=this.gridPanel.getHorizontalScrollPosition();containerX=centerRect.left-centerScroll;}var result=mouseEvent.clientX-containerX;return result},__decorate([context_2.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],MouseEventService.prototype,"gridPanel",void 0),__decorate([context_2.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],MouseEventService.prototype,"columnController",void 0),__decorate([context_2.Autowired("rowModel"),__metadata("design:type",Object)],MouseEventService.prototype,"rowModel",void 0),__decorate([context_2.Autowired("floatingRowModel"),__metadata("design:type",floatingRowModel_1.FloatingRowModel)],MouseEventService.prototype,"floatingRowModel",void 0),__decorate([context_2.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],MouseEventService.prototype,"gridOptionsWrapper",void 0),MouseEventService=__decorate([context_1.Bean("mouseEventService"),__metadata("design:paramtypes",[])],MouseEventService),MouseEventService}();exports.MouseEventService=MouseEventService},function(module,exports,__webpack_require__){var utils_1=__webpack_require__(9),gridRow_1=__webpack_require__(37),GridCell=function(){function GridCell(rowIndex,floating,column){this.rowIndex=rowIndex,this.column=column,this.floating=utils_1.Utils.makeNull(floating)}return GridCell.prototype.getGridRow=function(){return new gridRow_1.GridRow(this.rowIndex,this.floating)},GridCell.prototype.toString=function(){return"rowIndex = "+this.rowIndex+", floating = "+this.floating+", column = "+(this.column?this.column.getId():null)},GridCell.prototype.createId=function(){return this.rowIndex+"."+this.floating+"."+this.column.getId()},GridCell}();exports.GridCell=GridCell},function(module,exports,__webpack_require__){var constants_1=__webpack_require__(10),utils_1=__webpack_require__(9),gridCell_1=__webpack_require__(36),GridRow=function(){function GridRow(rowIndex,floating){this.rowIndex=rowIndex,this.floating=utils_1.Utils.makeNull(floating)}return GridRow.prototype.isFloatingTop=function(){return this.floating===constants_1.Constants.FLOATING_TOP},GridRow.prototype.isFloatingBottom=function(){return this.floating===constants_1.Constants.FLOATING_BOTTOM},GridRow.prototype.isNotFloating=function(){return!this.isFloatingBottom()&&!this.isFloatingTop()},GridRow.prototype.equals=function(otherSelection){return this.rowIndex===otherSelection.rowIndex&&this.floating===otherSelection.floating},GridRow.prototype.toString=function(){return"rowIndex = "+this.rowIndex+", floating = "+this.floating},GridRow.prototype.getGridCell=function(column){return new gridCell_1.GridCell(this.rowIndex,this.floating,column)},GridRow.prototype.before=function(otherSelection){var otherFloating=otherSelection.floating;switch(this.floating){case constants_1.Constants.FLOATING_TOP:if(otherFloating!==constants_1.Constants.FLOATING_TOP)return!0;break;case constants_1.Constants.FLOATING_BOTTOM:if(otherFloating!==constants_1.Constants.FLOATING_BOTTOM)return!1;break;default:if(utils_1.Utils.exists(otherFloating))return otherFloating!==constants_1.Constants.FLOATING_TOP;}return this.rowIndex<=otherSelection.rowIndex},GridRow}();exports.GridRow=GridRow},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(8),eventService_1=__webpack_require__(6),events_1=__webpack_require__(12),gridOptionsWrapper_1=__webpack_require__(5),columnController_1=__webpack_require__(15),utils_1=__webpack_require__(9),gridCell_1=__webpack_require__(36),constants_1=__webpack_require__(10),FocusedCellController=function(){function FocusedCellController(){}return FocusedCellController.prototype.init=function(){this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_GROUP_OPENED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_MOVED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_PINNED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearFocusedCell.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_VISIBLE,this.clearFocusedCell.bind(this))},FocusedCellController.prototype.clearFocusedCell=function(){this.focusedCell=null,this.onCellFocused(!1)},FocusedCellController.prototype.getFocusedCell=function(){return this.focusedCell},FocusedCellController.prototype.getFocusCellToUseAfterRefresh=function(){if(this.gridOptionsWrapper.isSuppressFocusAfterRefresh())return null;if(!this.focusedCell)return null;var browserFocusedCell=this.getGridCellForDomElement(document.activeElement);if(!browserFocusedCell)return null;var gridFocusId=this.focusedCell.createId(),browserFocusId=browserFocusedCell.createId();return gridFocusId===browserFocusId?this.focusedCell:null},FocusedCellController.prototype.getGridCellForDomElement=function(eBrowserCell){function checkRow(eTarget){var rowId=utils_1.Utils.getElementAttribute(eTarget,"row");utils_1.Utils.exists(rowId)&&utils_1.Utils.containsClass(eTarget,"ag-row")&&(0===rowId.indexOf("ft")?(floating=constants_1.Constants.FLOATING_TOP,rowId=rowId.substr(3)):0===rowId.indexOf("fb")?(floating=constants_1.Constants.FLOATING_BOTTOM,rowId=rowId.substr(3)):floating=null,row=parseInt(rowId))}function checkColumn(eTarget){var colId=utils_1.Utils.getElementAttribute(eTarget,"colid");if(utils_1.Utils.exists(colId)&&utils_1.Utils.containsClass(eTarget,"ag-cell")){var foundColumn=that.columnController.getGridColumn(colId);foundColumn&&(column=foundColumn)}}if(!eBrowserCell)return null;for(var column=null,row=null,floating=null,that=this;eBrowserCell;)checkRow(eBrowserCell),checkColumn(eBrowserCell),eBrowserCell=eBrowserCell.parentNode;if(utils_1.Utils.exists(column)&&utils_1.Utils.exists(row)){var gridCell=new gridCell_1.GridCell(row,floating,column);return gridCell}return null},FocusedCellController.prototype.setFocusedCell=function(rowIndex,colKey,floating,forceBrowserFocus){if(void 0===forceBrowserFocus&&(forceBrowserFocus=!1),!this.gridOptionsWrapper.isSuppressCellSelection()){var column=utils_1.Utils.makeNull(this.columnController.getGridColumn(colKey));column&&"$$row_number"==column.getColDef().colId||(this.focusedCell=new gridCell_1.GridCell(rowIndex,utils_1.Utils.makeNull(floating),column),this.onCellFocused(forceBrowserFocus))}},FocusedCellController.prototype.isCellFocused=function(gridCell){return!utils_1.Utils.missing(this.focusedCell)&&this.focusedCell.column===gridCell.column&&this.isRowFocused(gridCell.rowIndex,gridCell.floating)},FocusedCellController.prototype.isRowFocused=function(rowIndex,floating){if(utils_1.Utils.missing(this.focusedCell))return!1;var floatingOrNull=utils_1.Utils.makeNull(floating);return this.focusedCell.rowIndex===rowIndex&&this.focusedCell.floating===floatingOrNull},FocusedCellController.prototype.onCellFocused=function(forceBrowserFocus){var event={rowIndex:null,column:null,floating:null,forceBrowserFocus:forceBrowserFocus};this.focusedCell&&(event.rowIndex=this.focusedCell.rowIndex,event.column=this.focusedCell.column,event.floating=this.focusedCell.floating),this.eventService.dispatchEvent(events_1.Events.EVENT_CELL_FOCUSED,event)},__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],FocusedCellController.prototype,"eventService",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],FocusedCellController.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],FocusedCellController.prototype,"columnController",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],FocusedCellController.prototype,"init",null),FocusedCellController=__decorate([context_1.Bean("focusedCellController"),__metadata("design:paramtypes",[])],FocusedCellController),FocusedCellController}();exports.FocusedCellController=FocusedCellController},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(9),context_1=__webpack_require__(8),horizontalDragService_1=__webpack_require__(40),columnController_1=__webpack_require__(15),eventService_1=__webpack_require__(6),events_1=__webpack_require__(12),gridOptionsWrapper_1=__webpack_require__(5),VerticalFreezebar=function(){function VerticalFreezebar(params){this.lastDragParams={},this.eRoot=params.eRoot,this.ePinnedLeftHeader=params.ePinnedLeftHeader,this.eHeaderContainer=params.eHeaderContainer,this.createGui(),this.eRoot.appendChild(this.eGui)}return VerticalFreezebar.prototype.init=function(){this.addDragListeners()},VerticalFreezebar.prototype.addDragListeners=function(){this.horizontalDragService.addDragHandling({eDraggableElement:this.eGui,eBody:this.eRoot,cursor:"-webkit-grabbing",startAfterPixels:0,onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this),onMouseDown:this.onMouseDown.bind(this),onMouseUp:this.onMouseUp.bind(this)})},VerticalFreezebar.prototype.onDragStart=function(e){this.eventService.dispatchEvent(events_1.Events.EVENT_VERTICAL_FREEZEBAR_DRAG_START,e),utils_1.Utils.addCssClass(this.eGui,"without-handler"),this.createGhost(this.eGui.style.left),this.createGhostForNextPosition(this.eGhost.style.left),this.eRoot.appendChild(this.eGhost),this.eRoot.appendChild(this.eGhostForNextPosition),e.stopPropagation()},VerticalFreezebar.prototype.onDragging=function(dragChange,finished,e){if(finished)this.eGhost.remove(),this.eGhostForNextPosition.remove(),this.updateFreezeRange(),utils_1.Utils.removeCssClass(this.eGui,"without-handler"),this.update();else if(e){var x=e.clientX-this.eRoot.getBoundingClientRect().left,column=this.columnController.getColumnByPixel(x),isLastColumn,isFirstColumn;(isLastColumn=this.columnController.isLastViewportColumn(column))?column=this.columnController.getPrevColumn(column):(isFirstColumn=this.columnController.isFirstColumn(column))&&(column=this.columnController.getNextColumn(column)),this.lastDragParams.column=column,this.lastDragParams.columnIndex=this.columnController.getAllGridColumns().indexOf(column),this.lastDragParams.x=x,this.moveGhostForNextPosition(x,column,isFirstColumn),this.moveGhost(x,column,isLastColumn,isFirstColumn)}e&&e.stopPropagation()},VerticalFreezebar.prototype.onMouseDown=function(){},VerticalFreezebar.prototype.onMouseUp=function(){},VerticalFreezebar.prototype.updateFreezeRange=function(){for(var columns=this.columnController.getAllGridColumns(),direction=this.getDirection(this.lastDragParams.x,this.columnController.getActualRect(this.lastDragParams.column)),column=this.lastDragParams.column,hadParent=!1,index;column.getParent();)column=column.getParent(),hadParent=!0;if(hadParent){var leafColumns=column.getLeafColumns();index="right"==direction?columns.indexOf(leafColumns[leafColumns.length-1]):columns.indexOf(leafColumns[0])}else index=this.lastDragParams.columnIndex;"right"==direction&&(index+=1),this.columnController.changePinnedRange(index);var dragEndFn;(dragEndFn=this.gridOptionsWrapper.getOnVFreezebarDragEnd())&&dragEndFn.bind(this)({countToFreeze:index})},VerticalFreezebar.prototype.moveGhost=function(x,column,isLastColumn,isFirstColumn){var eGhostWidth=this.eGhost.getBoundingClientRect().width,colRect=this.columnController.getActualRect(column);isLastColumn&&x>colRect.right?x=colRect.right:isFirstColumn&&x<colRect.left-eGhostWidth&&(x=colRect.left-eGhostWidth);for(var hadParent;column.getParent();)column=column.getParent(),hadParent=!0;hadParent&&column.expandable&&column.expanded?utils_1.Utils.addCssClass(this.eGhost,"ghost-disabled"):utils_1.Utils.removeCssClass(this.eGhost,"ghost-disabled"),this.eGhost.style.left=x+"px"},VerticalFreezebar.prototype.moveGhostForNextPosition=function(x,column,isFirstColumn){var colRect=this.columnController.getActualRect(column),eGhostForNextPositionWidth=this.eGhostForNextPosition.getBoundingClientRect().width,direction=this.getDirection(x,colRect),eGhostForNextPositionX="left"==direction?colRect.left:colRect.right;(isFirstColumn||"left"==direction&&this.columnController.isSecondColumn(column))&&(eGhostForNextPositionX-=eGhostForNextPositionWidth),this.eGhostForNextPosition.style.left=eGhostForNextPositionX+"px"},VerticalFreezebar.prototype.getDirection=function(x,colRect){return x<colRect.right-colRect.width/2?"left":"right"},VerticalFreezebar.prototype.createGui=function(){this.eGui=utils_1.Utils.loadTemplate(VerticalFreezebar.TEMPLATE_NORMAL),this.update()},VerticalFreezebar.prototype.createGhost=function(left){this.eGhost=utils_1.Utils.loadTemplate(VerticalFreezebar.TEMPLATE_NORMAL),utils_1.Utils.addCssClass(this.eGhost,"ghost"),this.eGhost.style.left=left,this.updateHandlerHeight(this.eGhost,this.getGuiHandlerHeight())},VerticalFreezebar.prototype.createGhostForNextPosition=function(left){this.eGhostForNextPosition=utils_1.Utils.loadTemplate(VerticalFreezebar.TEMPLATE_NORMAL),utils_1.Utils.addCssClass(this.eGhostForNextPosition,"ghost-for-next-position"),this.eGhostForNextPosition.style.left=left,this.updateHandlerHeight(this.eGhostForNextPosition,this.getGuiHandlerHeight())},VerticalFreezebar.prototype.updateHandlerHeight=function(element,height){element.querySelector(".ag-freezebar-handler").style.height=height+1+"px"},VerticalFreezebar.prototype.getGuiHandlerHeight=function(){return this.eGui.querySelector(".ag-freezebar-handler").getBoundingClientRect().height},VerticalFreezebar.prototype.getGui=function(){return this.eGui},VerticalFreezebar.prototype.update=function(){if(!this.columnController||this.columnController.isEmpty())this.eGui.style.display="none";else{this.eGui.style.display="block";var x=this.ePinnedLeftHeader.getBoundingClientRect().width;this.updateHandlerHeight(this.eGui,this.eHeaderContainer.getBoundingClientRect().height),this.eGui.style.height="100%",this.columnController&&1===this.columnController.getDisplayedLeftColumns().length?(x-=this.eGui.getBoundingClientRect().width,this.eGui.style.background="0"):this.eGui.style.background="#dadfe8",this.eGui.style.left=x+"px"}},VerticalFreezebar.TEMPLATE_NORMAL="<div class=\"ag-freezebar-vertical\"><div class=\"ag-freezebar-handler\"></div></div>",__decorate([context_1.Autowired("horizontalDragService"),__metadata("design:type",horizontalDragService_1.HorizontalDragService)],VerticalFreezebar.prototype,"horizontalDragService",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],VerticalFreezebar.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],VerticalFreezebar.prototype,"columnController",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],VerticalFreezebar.prototype,"eventService",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],VerticalFreezebar.prototype,"init",null),VerticalFreezebar=__decorate([context_1.Bean("verticalFreezebar"),__metadata("design:paramtypes",[Object])],VerticalFreezebar),VerticalFreezebar}();exports.VerticalFreezebar=VerticalFreezebar},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(8),HorizontalDragService=function(){function HorizontalDragService(){}return HorizontalDragService.prototype.addDragHandling=function(params){params.eDraggableElement.addEventListener("mousedown",function(startEvent){new DragInstance(params,startEvent)})},HorizontalDragService=__decorate([context_1.Bean("horizontalDragService"),__metadata("design:paramtypes",[])],HorizontalDragService),HorizontalDragService}();exports.HorizontalDragService=HorizontalDragService;var DragInstance=function(){function DragInstance(params,startEvent){this.mouseMove=this.onMouseMove.bind(this),this.mouseUp=this.onMouseUp.bind(this),this.mouseLeave=this.onMouseLeave.bind(this),this.lastDelta=0,this.params=params,this.eDragParent=document.querySelector("body"),this.dragStartX=startEvent.clientX,this.startEvent=startEvent,this.eDragParent.addEventListener("mousemove",this.mouseMove),this.eDragParent.addEventListener("mouseup",this.mouseUp),this.eDragParent.addEventListener("mouseleave",this.mouseLeave),this.draggingStarted=!1;var startAfterPixelsExist="number"==typeof params.startAfterPixels&&0<params.startAfterPixels;startAfterPixelsExist||this.startDragging()}return DragInstance.prototype.startDragging=function(){this.params.onMouseDown&&this.params.onMouseDown(),this.draggingStarted=!0,this.oldBodyCursor=this.params.eBody.style.cursor,this.oldParentCursor=this.eDragParent.style.cursor,this.oldMsUserSelect=this.eDragParent.style.msUserSelect,this.oldWebkitUserSelect=this.eDragParent.style.webkitUserSelect,this.params.eBody.style.cursor=this.params.cursor,this.eDragParent.style.cursor=this.params.cursor,this.eDragParent.style.msUserSelect="none",this.eDragParent.style.webkitUserSelect="none",this.params.onDragStart(this.startEvent)},DragInstance.prototype.onMouseMove=function(moveEvent){var newX=moveEvent.clientX;if(this.lastDelta=newX-this.dragStartX,!this.draggingStarted){var dragExceededStartAfterPixels=_Mathabs9(this.lastDelta)>=this.params.startAfterPixels;dragExceededStartAfterPixels&&this.startDragging()}this.draggingStarted&&this.params.onDragging(this.lastDelta,!1,moveEvent)},DragInstance.prototype.onMouseUp=function(){this.params.onMouseUp&&this.params.onMouseUp(),this.stopDragging()},DragInstance.prototype.onMouseLeave=function(){this.stopDragging()},DragInstance.prototype.stopDragging=function(){this.draggingStarted&&(this.params.eBody.style.cursor=this.oldBodyCursor,this.eDragParent.style.cursor=this.oldParentCursor,this.eDragParent.style.msUserSelect=this.oldMsUserSelect,this.eDragParent.style.webkitUserSelect=this.oldWebkitUserSelect,this.params.onDragging(this.lastDelta,!0)),this.eDragParent.removeEventListener("mousemove",this.mouseMove),this.eDragParent.removeEventListener("mouseup",this.mouseUp),this.eDragParent.removeEventListener("mouseleave",this.mouseLeave)},DragInstance}()},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(9),context_1=__webpack_require__(8),columnController_1=__webpack_require__(15),eventService_1=__webpack_require__(6),events_1=__webpack_require__(12),rowRenderer_1=__webpack_require__(25),verticalDragService_1=__webpack_require__(42),gridOptionsWrapper_1=__webpack_require__(5),gridPanel_1=__webpack_require__(26),virtualPageRowModel_1=__webpack_require__(43),HorizontalFreezebar=function(){function HorizontalFreezebar(params){this.lastDragParams={},this.eRoot=params.eRoot,this.ePinnedLeftColsViewport=params.ePinnedLeftColsViewport,this.ePinnedLeftFloatingTop=params.ePinnedLeftFloatingTop,this.eHeaderContainer=params.eHeaderContainer,this.eFloatingTop=params.eFloatingTop,this.handlerWidth=params.handlerWidth,this.createGui(),this.eRoot.appendChild(this.eGui)}return HorizontalFreezebar.prototype.init=function(){this.addDragListeners()},HorizontalFreezebar.prototype.addDragListeners=function(){this.verticalDragService.addDragHandling({eDraggableElement:this.eGui,eBody:this.eRoot,cursor:"-webkit-grabbing",startAfterPixels:0,onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this),onDragEnd:this.onDragEnd.bind(this),onMouseDown:this.onMouseDown.bind(this),onMouseUp:this.onMouseUp.bind(this)})},HorizontalFreezebar.prototype.onDragStart=function(e){this.eventService.dispatchEvent(events_1.Events.EVENT_HORIZONTAL_FREEZEBAR_DRAG_START,e),utils_1.Utils.addCssClass(this.eGui,"without-handler"),this.createGhost(this.eGui.style.top),this.createGhostForNextPosition(this.eGhost.style.top),this.eRoot.appendChild(this.eGhost),this.eRoot.appendChild(this.eGhostForNextPosition),e.stopPropagation()},HorizontalFreezebar.prototype.onDragEnd=function(dragChange){this.eGhost.remove(),this.eGhostForNextPosition.remove(),dragChange&&this.updateFreezeRange(),utils_1.Utils.removeCssClass(this.eGui,"without-handler"),this.update()},HorizontalFreezebar.prototype.filterYByViewport=function(y,ghostHeight){var rootRect=this.eRoot.getBoundingClientRect(),headerHeight=this.eHeaderContainer.getBoundingClientRect().height,ghostHeight=ghostHeight||this.eGhost.getBoundingClientRect().height,scrollHeight=this.gridPanel.isHorizontalScrollShowing()?this.gridPanel.getScrollWidth():0,min=headerHeight-ghostHeight,max=rootRect.height-ghostHeight-1-scrollHeight;return y<min?y=min:y>max&&(y=max),y},HorizontalFreezebar.prototype.onDragging=function(dragChange,finished,e){var y=this.filterYByViewport(e.clientY-this.eRoot.getBoundingClientRect().top),rowNode=this.rowRenderer.getRowAtY(y);this.lastDragParams.rowNode=rowNode,this.lastDragParams.y=y,this.moveGhostForNextPosition(y,rowNode),this.moveGhost(y),e.stopPropagation()},HorizontalFreezebar.prototype.onMouseDown=function(){},HorizontalFreezebar.prototype.onMouseUp=function(){},HorizontalFreezebar.prototype.updateFreezeRange=function(){var rowNode=this.lastDragParams.rowNode;if(rowNode){var index=0,offset,isFloatingTopRow,floatingTopRows;offset=(isFloatingTopRow=this.rowRenderer.isFloatingTopRow(rowNode))?this.eHeaderContainer.getBoundingClientRect().height:this.eHeaderContainer.getBoundingClientRect().height+this.ePinnedLeftFloatingTop.getBoundingClientRect().height,floatingTopRows=this.rowRenderer.getFloatingTopRows();var rowRect={top:rowNode.rowTop+offset,bottom:rowNode.getRowBottom()+offset,height:rowNode.rowHeight},direction=this.getDirection(this.lastDragParams.y,rowRect);index=isFloatingTopRow?floatingTopRows.indexOf(rowNode):this.rowModel instanceof virtualPageRowModel_1.VirtualPageRowModel?this.rowModel.getRowIndexAtPixel(rowNode.rowTop)+floatingTopRows.length:this.rowModel.rowsToDisplay.indexOf(rowNode)+floatingTopRows.length,"down"==direction&&rowRect.bottom<this.eRoot.getBoundingClientRect().height&&index++;var dragEndFn;(dragEndFn=this.gridOptionsWrapper.getOnHFreezebarDragEnd())&&dragEndFn.bind(this)({countToFreeze:index})}},HorizontalFreezebar.prototype.moveGhost=function(y){this.eGhost.style.top=y+"px"},HorizontalFreezebar.prototype.moveGhostForNextPosition=function(y,rowNode){if(rowNode){var floatingTopRows=this.rowRenderer.getFloatingTopRows(),offset,isFloatingTopRow,rowRect;offset=(isFloatingTopRow=this.rowRenderer.isFloatingTopRow(rowNode))?this.eHeaderContainer.getBoundingClientRect().height:this.eHeaderContainer.getBoundingClientRect().height+this.ePinnedLeftFloatingTop.getBoundingClientRect().height,rowRect={top:rowNode.rowTop+offset,bottom:rowNode.getRowBottom()+offset,height:rowNode.rowHeight};var eGhostForNextPositionHeight=this.eGhostForNextPosition.getBoundingClientRect().height,direction=this.getDirection(y,rowRect),eGhostForNextPositionY="up"==direction?rowRect.top:rowRect.bottom;"up"!=direction||(rowNode.rowTop||floatingTopRows.length)&&(!isFloatingTopRow||rowNode.rowTop)?"down"==direction&&rowRect.bottom>=this.eRoot.getBoundingClientRect().height&&(eGhostForNextPositionY=rowRect.top):eGhostForNextPositionY-=eGhostForNextPositionHeight,this.eGhostForNextPosition.style.top=eGhostForNextPositionY+"px"}},HorizontalFreezebar.prototype.getDirection=function(y,rowRect){return y<rowRect.bottom-rowRect.height/2?"up":"down"},HorizontalFreezebar.prototype.createGui=function(){this.eGui=utils_1.Utils.loadTemplate(HorizontalFreezebar.TEMPLATE_NORMAL),this.updateHandlerWidth(this.eGui,this.handlerWidth),this.update()},HorizontalFreezebar.prototype.createGhost=function(top){this.eGhost=utils_1.Utils.loadTemplate(HorizontalFreezebar.TEMPLATE_NORMAL),utils_1.Utils.addCssClass(this.eGhost,"ghost"),this.eGhost.style.top=top,this.updateHandlerWidth(this.eGhost,this.getGuiHandlerWidth())},HorizontalFreezebar.prototype.createGhostForNextPosition=function(top){this.eGhostForNextPosition=utils_1.Utils.loadTemplate(HorizontalFreezebar.TEMPLATE_NORMAL),utils_1.Utils.addCssClass(this.eGhostForNextPosition,"ghost-for-next-position"),this.eGhostForNextPosition.style.top=top,this.updateHandlerWidth(this.eGhostForNextPosition,this.getGuiHandlerWidth())},HorizontalFreezebar.prototype.updateHandlerWidth=function(element,width){element.querySelector(".ag-freezebar-handler").style.width=width+"px"},HorizontalFreezebar.prototype.getGuiHandlerWidth=function(){return this.eGui.querySelector(".ag-freezebar-handler").getBoundingClientRect().width},HorizontalFreezebar.prototype.getGui=function(){return this.eGui},HorizontalFreezebar.prototype.update=function(){if(!this.columnController||this.columnController.isEmpty())this.eGui.style.display="none";else{this.eGui.style.display="block";var y=this.eHeaderContainer.getBoundingClientRect().height+this.ePinnedLeftFloatingTop.getBoundingClientRect().height;this.eGui.style.width="100%",this.rowRenderer&&!this.rowRenderer.getFloatingTopRows().length?(this.eGui.style.background="0",y-=this.eGui.getBoundingClientRect().height):this.eGui.style.background="#dadfe8",this.eGui.style.top=y+"px"}},HorizontalFreezebar.TEMPLATE_NORMAL="<div class=\"ag-freezebar-horizontal\"><div class=\"ag-freezebar-handler\"></div></div>",__decorate([context_1.Autowired("verticalDragService"),__metadata("design:type",verticalDragService_1.VerticalDragService)],HorizontalFreezebar.prototype,"verticalDragService",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],HorizontalFreezebar.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],HorizontalFreezebar.prototype,"columnController",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],HorizontalFreezebar.prototype,"eventService",void 0),__decorate([context_1.Autowired("rowRenderer"),__metadata("design:type",rowRenderer_1.RowRenderer)],HorizontalFreezebar.prototype,"rowRenderer",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],HorizontalFreezebar.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],HorizontalFreezebar.prototype,"rowModel",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],HorizontalFreezebar.prototype,"init",null),HorizontalFreezebar=__decorate([context_1.Bean("horizontalFreezebar"),__metadata("design:paramtypes",[Object])],HorizontalFreezebar),HorizontalFreezebar}();exports.HorizontalFreezebar=HorizontalFreezebar},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(8),VerticalDragService=function(){function VerticalDragService(){}return VerticalDragService.prototype.addDragHandling=function(params){params.eDraggableElement.addEventListener("mousedown",function(startEvent){new DragInstance(params,startEvent)})},VerticalDragService=__decorate([context_1.Bean("verticalDragService"),__metadata("design:paramtypes",[])],VerticalDragService),VerticalDragService}();exports.VerticalDragService=VerticalDragService;var DragInstance=function(){function DragInstance(params,startEvent){this.mouseMove=this.onMouseMove.bind(this),this.mouseUp=this.onMouseUp.bind(this),this.mouseLeave=this.onMouseLeave.bind(this),this.lastDelta=0,this.params=params,this.eDragParent=document.querySelector("body"),this.dragStartY=startEvent.clientY,this.startEvent=startEvent,this.eDragParent.addEventListener("mousemove",this.mouseMove),this.eDragParent.addEventListener("mouseup",this.mouseUp),this.eDragParent.addEventListener("mouseleave",this.mouseLeave),this.draggingStarted=!1;var startAfterPixelsExist="number"==typeof params.startAfterPixels&&0<params.startAfterPixels;startAfterPixelsExist||this.startDragging()}return DragInstance.prototype.startDragging=function(){this.params.onMouseDown&&this.params.onMouseDown(),this.draggingStarted=!0,this.oldBodyCursor=this.params.eBody.style.cursor,this.oldParentCursor=this.eDragParent.style.cursor,this.oldMsUserSelect=this.eDragParent.style.msUserSelect,this.oldWebkitUserSelect=this.eDragParent.style.webkitUserSelect,this.params.eBody.style.cursor=this.params.cursor,this.eDragParent.style.cursor=this.params.cursor,this.eDragParent.style.msUserSelect="none",this.eDragParent.style.webkitUserSelect="none",this.params.onDragStart(this.startEvent)},DragInstance.prototype.onMouseMove=function(moveEvent){var newY=moveEvent.clientY;if(this.lastDelta=newY-this.dragStartY,!this.draggingStarted){var dragExceededStartAfterPixels=_Mathabs9(this.lastDelta)>=this.params.startAfterPixels;dragExceededStartAfterPixels&&this.startDragging()}this.draggingStarted&&(this.params.onDragging(this.lastDelta,!1,moveEvent),moveEvent.stopPropagation())},DragInstance.prototype.onMouseUp=function(){this.params.onMouseUp&&this.params.onMouseUp(),this.stopDragging()},DragInstance.prototype.onMouseLeave=function(){this.stopDragging()},DragInstance.prototype.stopDragging=function(){this.draggingStarted&&(this.params.eBody.style.cursor=this.oldBodyCursor,this.eDragParent.style.cursor=this.oldParentCursor,this.eDragParent.style.msUserSelect=this.oldMsUserSelect,this.eDragParent.style.webkitUserSelect=this.oldWebkitUserSelect,this.params.onDragEnd(this.lastDelta,!0)),this.eDragParent.removeEventListener("mousemove",this.mouseMove),this.eDragParent.removeEventListener("mouseup",this.mouseUp),this.eDragParent.removeEventListener("mouseleave",this.mouseLeave)},DragInstance}()},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(9),gridOptionsWrapper_1=__webpack_require__(5),context_1=__webpack_require__(8),eventService_1=__webpack_require__(6),selectionController_1=__webpack_require__(30),events_1=__webpack_require__(12),sortController_1=__webpack_require__(44),filterManager_1=__webpack_require__(45),constants_1=__webpack_require__(10),virtualPageCache_1=__webpack_require__(52),VirtualPageRowModel=function(){function VirtualPageRowModel(){this.destroyFunctions=[]}return VirtualPageRowModel.prototype.init=function(){this.gridOptionsWrapper.isRowModelVirtual()&&(this.addEventListeners(),this.setDatasource(this.gridOptionsWrapper.getDatasource()))},VirtualPageRowModel.prototype.addEventListeners=function(){var _this=this,onSortChangedListener=this.onSortChanged.bind(this),onFilterChangedListener=this.onFilterChanged.bind(this);this.eventService.addEventListener(events_1.Events.EVENT_FILTER_CHANGED,onFilterChangedListener),this.eventService.addEventListener(events_1.Events.EVENT_SORT_CHANGED,onSortChangedListener),this.destroyFunctions.push(function(){_this.eventService.removeEventListener(events_1.Events.EVENT_FILTER_CHANGED,onFilterChangedListener),_this.eventService.removeEventListener(events_1.Events.EVENT_SORT_CHANGED,onSortChangedListener)})},VirtualPageRowModel.prototype.onFilterChanged=function(){this.gridOptionsWrapper.isEnableServerSideFilter()&&this.reset()},VirtualPageRowModel.prototype.onSortChanged=function(){this.gridOptionsWrapper.isEnableServerSideSorting()&&this.reset()},VirtualPageRowModel.prototype.destroy=function(){this.destroyFunctions.forEach(function(func){return func()})},VirtualPageRowModel.prototype.getType=function(){return constants_1.Constants.ROW_MODEL_TYPE_VIRTUAL},VirtualPageRowModel.prototype.setDatasource=function(datasource){this.datasource=datasource,datasource&&(this.checkForDeprecated(),this.reset())},VirtualPageRowModel.prototype.checkForDeprecated=function(){var ds=this.datasource;utils_1.Utils.exists(ds.maxConcurrentRequests)&&console.error("ag-Grid: since version 5.1.x, maxConcurrentRequests is replaced with grid property maxConcurrentDatasourceRequests"),utils_1.Utils.exists(ds.maxPagesInCache)&&console.error("ag-Grid: since version 5.1.x, maxPagesInCache is replaced with grid property maxPagesInPaginationCache"),utils_1.Utils.exists(ds.overflowSize)&&console.error("ag-Grid: since version 5.1.x, overflowSize is replaced with grid property paginationOverflowSize"),utils_1.Utils.exists(ds.pageSize)&&console.error("ag-Grid: since version 5.1.x, pageSize is replaced with grid property paginationPageSize")},VirtualPageRowModel.prototype.isEmpty=function(){return utils_1.Utils.missing(this.virtualPageCache)},VirtualPageRowModel.prototype.isRowsToRender=function(){return utils_1.Utils.exists(this.virtualPageCache)},VirtualPageRowModel.prototype.reset=function(){if(!utils_1.Utils.missing(this.datasource)){var userGeneratingRows=utils_1.Utils.exists(this.gridOptionsWrapper.getRowNodeIdFunc());userGeneratingRows||this.selectionController.reset(),this.resetCache(),this.eventService.dispatchEvent(events_1.Events.EVENT_MODEL_UPDATED)}},VirtualPageRowModel.prototype.resetCache=function(){var cacheSettings={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),maxConcurrentDatasourceRequests:this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests(),paginationOverflowSize:this.gridOptionsWrapper.getPaginationOverflowSize(),paginationInitialRowCount:this.gridOptionsWrapper.getPaginationInitialRowCount(),maxPagesInCache:this.gridOptionsWrapper.getMaxPagesInCache(),pageSize:this.gridOptionsWrapper.getPaginationPageSize(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),lastAccessedSequence:new utils_1.NumberSequence};1<=cacheSettings.maxConcurrentDatasourceRequests||(cacheSettings.maxConcurrentDatasourceRequests=2),1<=cacheSettings.pageSize||(cacheSettings.pageSize=100),1<=cacheSettings.paginationInitialRowCount||(cacheSettings.paginationInitialRowCount=0),1<=cacheSettings.paginationOverflowSize||(cacheSettings.paginationOverflowSize=1),this.virtualPageCache&&this.virtualPageCache.destroy(),this.virtualPageCache=new virtualPageCache_1.VirtualPageCache(cacheSettings),this.context.wireBean(this.virtualPageCache)},VirtualPageRowModel.prototype.getRow=function(rowIndex,dontCreatePage){return void 0===dontCreatePage&&(dontCreatePage=!1),this.virtualPageCache?this.virtualPageCache.getRow(rowIndex,dontCreatePage):null},VirtualPageRowModel.prototype.forEachNode=function(callback){this.virtualPageCache&&this.virtualPageCache.forEachNode(callback)},VirtualPageRowModel.prototype.getRowCombinedHeight=function(){return this.virtualPageCache?this.virtualPageCache.getRowCombinedHeight():0},VirtualPageRowModel.prototype.getRowIndexAtPixel=function(pixel){return this.virtualPageCache?this.virtualPageCache.getRowIndexAtPixel(pixel):-1},VirtualPageRowModel.prototype.getRowCount=function(){return this.virtualPageCache?this.virtualPageCache.getRowCount():0},VirtualPageRowModel.prototype.insertItemsAtIndex=function(index,items){this.virtualPageCache&&this.virtualPageCache.insertItemsAtIndex(index,items)},VirtualPageRowModel.prototype.removeItems=function(rowNodes){this.virtualPageCache&&this.virtualPageCache.removeItems(rowNodes)},VirtualPageRowModel.prototype.addItems=function(){console.log("ag-Grid: it is not possible to add items when using virtual pagination as the grid does not "+"know that last index of your data - instead either use insertItemsAtIndex OR refresh the cache.")},VirtualPageRowModel.prototype.refreshVirtualPageCache=function(){this.virtualPageCache&&this.virtualPageCache.refreshVirtualPageCache()},VirtualPageRowModel.prototype.purgeVirtualPageCache=function(){this.virtualPageCache&&this.virtualPageCache.purgeVirtualPageCache()},VirtualPageRowModel.prototype.getVirtualRowCount=function(){return this.virtualPageCache?this.virtualPageCache.getVirtualRowCount():null},VirtualPageRowModel.prototype.isMaxRowFound=function(){if(this.virtualPageCache)return this.virtualPageCache.isMaxRowFound()},VirtualPageRowModel.prototype.setVirtualRowCount=function(rowCount,maxRowFound){this.virtualPageCache&&this.virtualPageCache.setVirtualRowCount(rowCount,maxRowFound)},VirtualPageRowModel.prototype.getVirtualPageState=function(){return this.virtualPageCache?this.virtualPageCache.getPageState():null},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],VirtualPageRowModel.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],VirtualPageRowModel.prototype,"filterManager",void 0),__decorate([context_1.Autowired("sortController"),__metadata("design:type",sortController_1.SortController)],VirtualPageRowModel.prototype,"sortController",void 0),__decorate([context_1.Autowired("selectionController"),__metadata("design:type",selectionController_1.SelectionController)],VirtualPageRowModel.prototype,"selectionController",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],VirtualPageRowModel.prototype,"eventService",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],VirtualPageRowModel.prototype,"context",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],VirtualPageRowModel.prototype,"init",null),__decorate([context_1.PreDestroy,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],VirtualPageRowModel.prototype,"destroy",null),VirtualPageRowModel=__decorate([context_1.Bean("rowModel"),__metadata("design:paramtypes",[])],VirtualPageRowModel),VirtualPageRowModel}();exports.VirtualPageRowModel=VirtualPageRowModel},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},column_1=__webpack_require__(17),context_1=__webpack_require__(8),gridOptionsWrapper_1=__webpack_require__(5),columnController_1=__webpack_require__(15),eventService_1=__webpack_require__(6),events_1=__webpack_require__(12),context_2=__webpack_require__(8),utils_1=__webpack_require__(9),SortController=function(){function SortController(){}return SortController.prototype.progressSort=function(column,multiSort){column.setSort(this.getNextSortDirection(column)),column.getSort()?column.setSortedAt(new Date().valueOf()):column.setSortedAt(null);var doingMultiSort=multiSort&&!this.gridOptionsWrapper.isSuppressMultiSort();doingMultiSort||this.clearSortBarThisColumn(column),this.dispatchSortChangedEvents()},SortController.prototype.dispatchSortChangedEvents=function(){this.eventService.dispatchEvent(events_1.Events.EVENT_BEFORE_SORT_CHANGED),this.eventService.dispatchEvent(events_1.Events.EVENT_SORT_CHANGED),this.eventService.dispatchEvent(events_1.Events.EVENT_AFTER_SORT_CHANGED)},SortController.prototype.clearSortBarThisColumn=function(columnToSkip){this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach(function(columnToClear){columnToClear===columnToSkip||columnToClear.setSort(null)})},SortController.prototype.getNextSortDirection=function(column){var sortingOrder;if(sortingOrder=column.getColDef().sortingOrder?column.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():SortController.DEFAULT_SORTING_ORDER,!Array.isArray(sortingOrder)||0>=sortingOrder.length)return void console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+sortingOrder);var currentIndex=sortingOrder.indexOf(column.getSort()),lastItemInArray=currentIndex==sortingOrder.length-1,result;return result=0>column.getSortedAt()?sortingOrder[0]:0>currentIndex||lastItemInArray?sortingOrder[0]:sortingOrder[currentIndex+1],0>SortController.DEFAULT_SORTING_ORDER.indexOf(result)?(console.warn("ag-grid: invalid sort type "+result),null):result},SortController.prototype.getSortModel=function(){var columnsWithSorting=this.getColumnsWithSortingOrdered();return utils_1.Utils.map(columnsWithSorting,function(column){return{colId:column.getColId(),sort:column.getSort()}})},SortController.prototype.setSortModel=function(sortModel){if(!this.gridOptionsWrapper.isEnableSorting())return void console.warn("ag-grid: You are setting the sort model on a grid that does not have sorting enabled");var sortModelProvided=sortModel&&0<sortModel.length,allColumnsIncludingAuto=this.columnController.getPrimaryAndSecondaryAndAutoColumns();allColumnsIncludingAuto.forEach(function(column){var sortForCol=null,sortedAt=-1;if(sortModelProvided&&!column.getColDef().suppressSorting)for(var j=0,sortModelEntry;j<sortModel.length;j++)sortModelEntry=sortModel[j],"string"==typeof sortModelEntry.colId&&"string"==typeof column.getColId()&&sortModelEntry.colId===column.getColId()&&(sortForCol=sortModelEntry.sort,sortedAt=j);sortForCol?(column.setSort(sortForCol),column.setSortedAt(sortedAt)):(column.setSort(null),column.setSortedAt(null))}),this.dispatchSortChangedEvents()},SortController.prototype.getColumnsWithSortingOrdered=function(){var allColumnsIncludingAuto=this.columnController.getPrimaryAndSecondaryAndAutoColumns(),columnsWithSorting=utils_1.Utils.filter(allColumnsIncludingAuto,function(column){return!!column.getSort()});return columnsWithSorting.sort(function(a,b){return b.sortedAt-a.sortedAt}),columnsWithSorting},SortController.prototype.getSortForRowController=function(){var columnsWithSorting=this.getColumnsWithSortingOrdered();return utils_1.Utils.map(columnsWithSorting,function(column){var ascending=column.getSort()===column_1.Column.SORT_ASC;return{inverter:ascending?1:-1,column:column}})},SortController.DEFAULT_SORTING_ORDER=[column_1.Column.SORT_ASC,column_1.Column.SORT_DESC,null],__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],SortController.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],SortController.prototype,"columnController",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],SortController.prototype,"eventService",void 0),SortController=__decorate([context_2.Bean("sortController"),__metadata("design:paramtypes",[])],SortController),SortController}();exports.SortController=SortController},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(9),gridOptionsWrapper_1=__webpack_require__(5),popupService_1=__webpack_require__(46),valueService_1=__webpack_require__(31),columnController_1=__webpack_require__(15),textFilter_1=__webpack_require__(50),numberFilter_1=__webpack_require__(51),context_1=__webpack_require__(8),eventService_1=__webpack_require__(6),events_1=__webpack_require__(12),FilterManager=function(){function FilterManager(){this.allFilters={},this.quickFilter=null,this.availableFilters={text:textFilter_1.TextFilter,number:numberFilter_1.NumberFilter}}return FilterManager.prototype.init=function(){this.eventService.addEventListener(events_1.Events.EVENT_ROW_DATA_CHANGED,this.onNewRowsLoaded.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.checkExternalFilter()},FilterManager.prototype.registerFilter=function(key,Filter){this.availableFilters[key]=Filter},FilterManager.prototype.setFilterModel=function(model){var _this=this;if(model){var modelKeys=Object.keys(model);utils_1.Utils.iterateObject(this.allFilters,function(colId,filterWrapper){utils_1.Utils.removeFromArray(modelKeys,colId);var newModel=model[colId];_this.setModelOnFilterWrapper(filterWrapper.filter,newModel),_this.setModelOnFilterWrapper(filterWrapper.filter,newModel)}),utils_1.Utils.iterateArray(modelKeys,function(colId){var column=_this.columnController.getPrimaryColumn(colId);if(!column)return void console.warn("Warning ag-grid setFilterModel - no column found for colId "+colId);var filterWrapper=_this.getOrCreateFilterWrapper(column);_this.setModelOnFilterWrapper(filterWrapper.filter,model[colId])})}else utils_1.Utils.iterateObject(this.allFilters,function(key,filterWrapper){_this.setModelOnFilterWrapper(filterWrapper.filter,null)});this.onFilterChanged()},FilterManager.prototype.setModelOnFilterWrapper=function(filter,newModel){return"function"==typeof filter.setModel?void filter.setModel(newModel):void console.warn("Warning ag-grid - filter missing setModel method, which is needed for setFilterModel")},FilterManager.prototype.getFilterModel=function(){var result={};return utils_1.Utils.iterateObject(this.allFilters,function(key,filterWrapper){var filter=filterWrapper.filter;if("function"!=typeof filter.getModel)return void console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel");var model=filter.getModel();utils_1.Utils.exists(model)&&(result[key]=model)}),result},FilterManager.prototype.isAdvancedFilterPresent=function(){var atLeastOneActive=!1;return utils_1.Utils.iterateObject(this.allFilters,function(key,filterWrapper){filterWrapper.filter.isFilterActive||console.error("Filter is missing method isFilterActive"),filterWrapper.filter.isFilterActive()?(atLeastOneActive=!0,filterWrapper.column.setFilterActive(!0)):filterWrapper.column.setFilterActive(!1)}),atLeastOneActive},FilterManager.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.advancedFilterPresent||this.externalFilterPresent},FilterManager.prototype.doesFilterPass=function(node,filterToSkip){for(var data=node.data,colKeys=Object.keys(this.allFilters),i=0,l=colKeys.length;i<l;i++){var colId=colKeys[i],filterWrapper=this.allFilters[colId];if(void 0!==filterWrapper&&filterWrapper.filter!==filterToSkip&&filterWrapper.filter.isFilterActive()){filterWrapper.filter.doesFilterPass||console.error("Filter is missing method doesFilterPass");if(!filterWrapper.filter.doesFilterPass({node:node,data:data}))return!1}}return!0},FilterManager.prototype.parseQuickFilter=function(newFilter){return utils_1.Utils.missing(newFilter)||""===newFilter?null:this.gridOptionsWrapper.isRowModelVirtual()?(console.warn("ag-grid: cannot do quick filtering when doing virtual paging"),null):newFilter.toUpperCase()},FilterManager.prototype.setQuickFilter=function(newFilter){var parsedFilter=this.parseQuickFilter(newFilter);this.quickFilter!==parsedFilter&&(this.quickFilter=parsedFilter,this.onFilterChanged())},FilterManager.prototype.checkExternalFilter=function(){this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},FilterManager.prototype.onFilterChanged=function(){this.eventService.dispatchEvent(events_1.Events.EVENT_BEFORE_FILTER_CHANGED),this.advancedFilterPresent=this.isAdvancedFilterPresent(),this.checkExternalFilter(),utils_1.Utils.iterateObject(this.allFilters,function(key,filterWrapper){filterWrapper.filter.onAnyFilterChanged&&filterWrapper.filter.onAnyFilterChanged()}),this.eventService.dispatchEvent(events_1.Events.EVENT_FILTER_CHANGED),this.eventService.dispatchEvent(events_1.Events.EVENT_AFTER_FILTER_CHANGED)},FilterManager.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},FilterManager.prototype.doesRowPassOtherFilters=function(filterToSkip,node){return this.doesRowPassFilter(node,filterToSkip)},FilterManager.prototype.doesRowPassFilter=function(node,filterToSkip){return!(this.isQuickFilterPresent()&&(node.quickFilterAggregateText||this.aggregateRowForQuickFilter(node),0>node.quickFilterAggregateText.indexOf(this.quickFilter)))&&(!this.externalFilterPresent||this.gridOptionsWrapper.doesExternalFilterPass(node))&&(!this.advancedFilterPresent||this.doesFilterPass(node,filterToSkip))},FilterManager.prototype.aggregateRowForQuickFilter=function(node){var aggregatedText="",that=this;this.columnController.getAllPrimaryColumns().forEach(function(column){var value=that.valueService.getValue(column,node);value&&""!==value&&(aggregatedText=aggregatedText+value.toString().toUpperCase()+"_")}),node.quickFilterAggregateText=aggregatedText},FilterManager.prototype.onNewRowsLoaded=function(){var that=this;Object.keys(this.allFilters).forEach(function(field){var filter=that.allFilters[field].filter;filter.onNewRowsLoaded&&filter.onNewRowsLoaded()})},FilterManager.prototype.createValueGetter=function(column){var that=this;return function(node){return that.valueService.getValue(column,node)}},FilterManager.prototype.getFilterComponent=function(column){var filterWrapper=this.getOrCreateFilterWrapper(column);return filterWrapper.filter},FilterManager.prototype.getOrCreateFilterWrapper=function(column){var filterWrapper=this.allFilters[column.getColId()];return filterWrapper||(filterWrapper=this.createFilterWrapper(column),this.allFilters[column.getColId()]=filterWrapper),filterWrapper},FilterManager.prototype.createFilterInstance=function(column){var filter=column.getFilter(),filterIsName=utils_1.Utils.missing(filter)||"string"==typeof filter,FilterClass;if("function"==typeof filter)FilterClass=filter,this.assertMethodHasNoParameters(FilterClass);else if(filterIsName){FilterClass=this.getFilterFromCache(filter)}else return console.error("ag-Grid: colDef.filter should be function or a string"),null;var filterInstance=new FilterClass;return this.context.wireBean(filterInstance),["getGui","isFilterActive","doesFilterPass","getModel","setModel"].forEach(function(methodName){var methodIsMissing=!filterInstance[methodName];if(methodIsMissing)throw"Filter for column "+column.getColId()+" is missing method "+methodName}),filterInstance},FilterManager.prototype.createParams=function(filterWrapper){var _this=this,filterChangedCallback=this.onFilterChanged.bind(this),doesRowPassOtherFilters=this.doesRowPassOtherFilters.bind(this,filterWrapper.filter),colDef=filterWrapper.column.getColDef(),params={column:filterWrapper.column,colDef:colDef,rowModel:this.rowModel,filterChangedCallback:filterChangedCallback,filterModifiedCallback:function filterModifiedCallback(){return _this.eventService.dispatchEvent(events_1.Events.EVENT_FILTER_MODIFIED)},valueGetter:this.createValueGetter(filterWrapper.column),doesRowPassOtherFilter:doesRowPassOtherFilters,context:this.gridOptionsWrapper.getContext(),$scope:filterWrapper.scope};return colDef.filterParams&&utils_1.Utils.assign(params,colDef.filterParams),params},FilterManager.prototype.createFilterWrapper=function(column){var filterWrapper={column:column,filter:null,scope:null,gui:null};return filterWrapper.filter=this.createFilterInstance(column),this.initialiseFilterAndPutIntoGui(filterWrapper),filterWrapper},FilterManager.prototype.initialiseFilterAndPutIntoGui=function(filterWrapper){this.gridOptionsWrapper.isAngularCompileFilters()&&(filterWrapper.scope=this.$scope.$new(),filterWrapper.scope.context=this.gridOptionsWrapper.getContext());var params=this.createParams(filterWrapper);filterWrapper.filter.init(params);var eFilterGui=document.createElement("div");eFilterGui.className="ag-filter";var guiFromFilter=filterWrapper.filter.getGui();if(utils_1.Utils.isNodeOrElement(guiFromFilter))eFilterGui.appendChild(guiFromFilter);else{var eTextSpan=document.createElement("span");eTextSpan.innerHTML=guiFromFilter,eFilterGui.appendChild(eTextSpan)}filterWrapper.gui=filterWrapper.scope?this.$compile(eFilterGui)(filterWrapper.scope)[0]:eFilterGui},FilterManager.prototype.getFilterFromCache=function(filterType){var defaultFilterType=this.enterprise?"set":"text",defaultFilter=this.availableFilters[defaultFilterType];return utils_1.Utils.missing(filterType)?defaultFilter:(this.enterprise||"set"!==filterType||(console.warn("ag-Grid: Set filter is only available in Enterprise ag-Grid"),filterType="text"),this.availableFilters[filterType]?this.availableFilters[filterType]:(console.error("ag-Grid: Could not find filter type "+filterType),this.availableFilters[defaultFilter]))},FilterManager.prototype.onNewColumnsLoaded=function(){this.destroy()},FilterManager.prototype.destroyFilter=function(column){var filterWrapper=this.allFilters[column.getColId()];filterWrapper&&(this.disposeFilterWrapper(filterWrapper),this.onFilterChanged())},FilterManager.prototype.disposeFilterWrapper=function(filterWrapper){filterWrapper.filter.destroy&&filterWrapper.filter.destroy(),filterWrapper.column.setFilterActive(!1),delete this.allFilters[filterWrapper.column.getColId()]},FilterManager.prototype.destroy=function(){var _this=this;utils_1.Utils.iterateObject(this.allFilters,function(key,filterWrapper){_this.disposeFilterWrapper(filterWrapper)})},FilterManager.prototype.assertMethodHasNoParameters=function(theMethod){var getRowsParams=utils_1.Utils.getFunctionParameters(theMethod);0<getRowsParams.length&&(console.warn("ag-grid: It looks like your filter is of the old type and expecting parameters in the constructor."),console.warn("ag-grid: From ag-grid 1.14, the constructor should take no parameters and init() used instead."))},__decorate([context_1.Autowired("$compile"),__metadata("design:type",Object)],FilterManager.prototype,"$compile",void 0),__decorate([context_1.Autowired("$scope"),__metadata("design:type",Object)],FilterManager.prototype,"$scope",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],FilterManager.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("gridCore"),__metadata("design:type",Object)],FilterManager.prototype,"gridCore",void 0),__decorate([context_1.Autowired("popupService"),__metadata("design:type",popupService_1.PopupService)],FilterManager.prototype,"popupService",void 0),__decorate([context_1.Autowired("valueService"),__metadata("design:type",valueService_1.ValueService)],FilterManager.prototype,"valueService",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],FilterManager.prototype,"columnController",void 0),__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],FilterManager.prototype,"rowModel",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],FilterManager.prototype,"eventService",void 0),__decorate([context_1.Autowired("enterprise"),__metadata("design:type",Boolean)],FilterManager.prototype,"enterprise",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],FilterManager.prototype,"context",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],FilterManager.prototype,"init",null),__decorate([context_1.PreDestroy,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],FilterManager.prototype,"destroy",null),FilterManager=__decorate([context_1.Bean("filterManager"),__metadata("design:paramtypes",[])],FilterManager),FilterManager}();exports.FilterManager=FilterManager},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(9),constants_1=__webpack_require__(10),context_1=__webpack_require__(8),gridCore_1=__webpack_require__(47),PopupService=function(){function PopupService(){}return PopupService.prototype.getPopupParent=function(){return this.gridCore.getRootGui()},PopupService.prototype.positionPopupForMenu=function(params){var sourceRect=params.eventSource.getBoundingClientRect(),parentRect=this.getPopupParent().getBoundingClientRect(),x=sourceRect.right-parentRect.left-2,y=sourceRect.top-parentRect.top,minWidth;minWidth=0<params.ePopup.clientWidth?params.ePopup.clientWidth:200;var widthOfParent=parentRect.right-parentRect.left,maxX=widthOfParent-minWidth;x>maxX&&(x=sourceRect.left-parentRect.left-minWidth),0>x&&(x=0),params.ePopup.style.left=x+"px",params.ePopup.style.top=y+"px"},PopupService.prototype.positionPopupUnderMouseEvent=function(params){var parentRect=this.getPopupParent().getBoundingClientRect();this.positionPopup({ePopup:params.ePopup,x:params.mouseEvent.clientX-parentRect.left,y:params.mouseEvent.clientY-parentRect.top,keepWithinBounds:!0})},PopupService.prototype.positionPopupUnderComponent=function(params){var sourceRect=params.eventSource.getBoundingClientRect(),parentRect=this.getPopupParent().getBoundingClientRect();this.positionPopup({ePopup:params.ePopup,minWidth:params.minWidth,nudgeX:params.nudgeX,nudgeY:params.nudgeY,x:sourceRect.left-parentRect.left,y:sourceRect.top-parentRect.top+sourceRect.height,keepWithinBounds:params.keepWithinBounds})},PopupService.prototype.positionPopupOverComponent=function(params){var sourceRect=params.eventSource.getBoundingClientRect(),parentRect=this.getPopupParent().getBoundingClientRect();this.positionPopup({ePopup:params.ePopup,minWidth:params.minWidth,nudgeX:params.nudgeX,nudgeY:params.nudgeY,x:sourceRect.left-parentRect.left,y:sourceRect.top-parentRect.top,keepWithinBounds:params.keepWithinBounds})},PopupService.prototype.positionPopup=function(params){function checkHorizontalOverflow(){var minWidth=0<params.minWidth?params.minWidth:0<params.ePopup.clientWidth?params.ePopup.clientWidth:200;var widthOfParent=parentRect.right-parentRect.left,maxX=widthOfParent-minWidth-5;x>maxX&&(x=maxX),0>x&&(x=0)}function checkVerticalOverflow(){var minHeight=0<params.ePopup.clientWidth?params.ePopup.clientHeight:200;var heightOfParent=parentRect.bottom-parentRect.top,maxY=heightOfParent-minHeight-5;y>maxY&&(y=maxY),0>y&&(y=0)}var parentRect=this.getPopupParent().getBoundingClientRect(),x=params.x,y=params.y;params.nudgeX&&(x+=params.nudgeX),params.nudgeY&&(y+=params.nudgeY),params.keepWithinBounds&&(checkHorizontalOverflow(),checkVerticalOverflow()),params.ePopup.style.left=x+"px",params.ePopup.style.top=y+"px"},PopupService.prototype.addAsModalPopup=function(eChild,closeOnEsc,closedCallback){function hidePopupOnEsc(event){var key=event.which||event.keyCode;key===constants_1.Constants.KEY_ESCAPE&&hidePopup(null)}function hidePopup(event){event&&event===eventFromChild||popupHidden||(popupHidden=!0,that.getPopupParent().removeChild(eChild),eBody.removeEventListener("keydown",hidePopupOnEsc),eBody.removeEventListener("click",hidePopup),eBody.removeEventListener("contextmenu",hidePopup),eChild.removeEventListener("click",consumeClick),closedCallback&&closedCallback())}function consumeClick(event){eventFromChild=event}var eBody=document.body;if(!eBody)return void console.warn("ag-grid: could not find the body of the document, document.body is empty");eChild.style.top="0px",eChild.style.left="0px";var popupAlreadyShown=utils_1.Utils.isVisible(eChild);if(!popupAlreadyShown){this.getPopupParent().appendChild(eChild);var that=this,popupHidden=!1;setTimeout(function(){closeOnEsc&&eBody.addEventListener("keydown",hidePopupOnEsc),eBody.addEventListener("click",hidePopup),eBody.addEventListener("contextmenu",hidePopup),eChild.addEventListener("click",consumeClick)},0);var eventFromChild=null;return hidePopup}},__decorate([context_1.Autowired("gridCore"),__metadata("design:type",gridCore_1.GridCore)],PopupService.prototype,"gridCore",void 0),PopupService=__decorate([context_1.Bean("popupService"),__metadata("design:paramtypes",[])],PopupService),PopupService}();exports.PopupService=PopupService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},gridOptionsWrapper_1=__webpack_require__(5),paginationController_1=__webpack_require__(48),columnController_1=__webpack_require__(15),rowRenderer_1=__webpack_require__(25),filterManager_1=__webpack_require__(45),eventService_1=__webpack_require__(6),gridPanel_1=__webpack_require__(26),logger_1=__webpack_require__(7),constants_1=__webpack_require__(10),popupService_1=__webpack_require__(46),events_1=__webpack_require__(12),borderLayout_1=__webpack_require__(33),context_1=__webpack_require__(8),focusedCellController_1=__webpack_require__(38),component_1=__webpack_require__(49),GridCore=function(){function GridCore(loggerFactory){this.destroyFunctions=[],this.logger=loggerFactory.create("GridCore")}return GridCore.prototype.init=function(){var _this=this,eSouthPanel=this.createSouthPanel(),toolPanelGui;this.toolPanel&&!this.gridOptionsWrapper.isForPrint()&&(toolPanelGui=this.toolPanel.getGui());var createTopPanelGui=this.createNorthPanel();this.eRootPanel=new borderLayout_1.BorderLayout({center:this.gridPanel.getLayout(),east:toolPanelGui,north:createTopPanelGui,south:eSouthPanel,dontFill:this.gridOptionsWrapper.isForPrint(),name:"eRootPanel"}),this.showToolPanel(this.gridOptionsWrapper.isShowToolPanel()),this.eGridDiv.appendChild(this.eRootPanel.getGui()),this.$scope&&this.$scope.$watch(this.quickFilterOnScope,function(newFilter){return _this.filterManager.setQuickFilter(newFilter)}),this.gridOptionsWrapper.isForPrint()||this.addWindowResizeListener(),this.doLayout(),this.finished=!1,this.periodicallyDoLayout(),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged(),this.logger.log("ready")},GridCore.prototype.createNorthPanel=function(){var _this=this;if(!this.gridOptionsWrapper.isEnterprise())return null;var topPanelGui=document.createElement("div"),dropPanelVisibleListener=this.onDropPanelVisible.bind(this);return this.rowGroupComp=this.rowGroupCompFactory.create(),this.pivotComp=this.pivotCompFactory.create(),topPanelGui.appendChild(this.rowGroupComp.getGui()),topPanelGui.appendChild(this.pivotComp.getGui()),this.rowGroupComp.addEventListener(component_1.Component.EVENT_VISIBLE_CHANGED,dropPanelVisibleListener),this.pivotComp.addEventListener(component_1.Component.EVENT_VISIBLE_CHANGED,dropPanelVisibleListener),this.destroyFunctions.push(function(){_this.rowGroupComp.removeEventListener(component_1.Component.EVENT_VISIBLE_CHANGED,dropPanelVisibleListener),_this.pivotComp.removeEventListener(component_1.Component.EVENT_VISIBLE_CHANGED,dropPanelVisibleListener)}),this.onDropPanelVisible(),topPanelGui},GridCore.prototype.onDropPanelVisible=function(){var bothVisible=this.rowGroupComp.isVisible()&&this.pivotComp.isVisible();this.rowGroupComp.addOrRemoveCssClass("ag-width-half",bothVisible),this.pivotComp.addOrRemoveCssClass("ag-width-half",bothVisible)},GridCore.prototype.getRootGui=function(){return this.eRootPanel.getGui()},GridCore.prototype.createSouthPanel=function(){!this.statusBar&&this.gridOptionsWrapper.isEnableStatusBar()&&console.warn("ag-Grid: status bar is only available in ag-Grid-Enterprise");var statusBarEnabled=this.statusBar&&this.gridOptionsWrapper.isEnableStatusBar(),paginationPanelEnabled=this.gridOptionsWrapper.isRowModelPagination()&&!this.gridOptionsWrapper.isForPrint();if(!statusBarEnabled&&!paginationPanelEnabled)return null;var eSouthPanel=document.createElement("div");return statusBarEnabled&&eSouthPanel.appendChild(this.statusBar.getGui()),paginationPanelEnabled&&eSouthPanel.appendChild(this.paginationController.getGui()),eSouthPanel},GridCore.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var rowGroupPanelShow=this.gridOptionsWrapper.getRowGroupPanelShow();if(rowGroupPanelShow===constants_1.Constants.ALWAYS)this.rowGroupComp.setVisible(!0);else if(rowGroupPanelShow===constants_1.Constants.ONLY_WHEN_GROUPING){var grouping=!this.columnController.isRowGroupEmpty();this.rowGroupComp.setVisible(grouping)}else this.rowGroupComp.setVisible(!1);this.eRootPanel.doLayout()}},GridCore.prototype.addWindowResizeListener=function(){var eventListener=this.doLayout.bind(this);window.addEventListener("resize",eventListener),this.destroyFunctions.push(function(){return window.removeEventListener("resize",eventListener)})},GridCore.prototype.periodicallyDoLayout=function(){var _this=this;if(!this.finished){var intervalMillis=this.gridOptionsWrapper.getLayoutInterval();0<intervalMillis?setTimeout(function(){_this.doLayout(),_this.gridPanel.periodicallyCheck(),_this.periodicallyDoLayout()},intervalMillis):setTimeout(function(){_this.periodicallyDoLayout()},5e3)}},GridCore.prototype.showToolPanel=function(show){return show&&!this.toolPanel?(console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise"),void(this.toolPanelShowing=!1)):void(this.toolPanelShowing=show,this.toolPanel&&(this.toolPanel.setVisible(show),this.eRootPanel.doLayout()))},GridCore.prototype.isToolPanelShowing=function(){return this.toolPanelShowing},GridCore.prototype.destroy=function(){this.finished=!0,this.eGridDiv.removeChild(this.eRootPanel.getGui()),this.logger.log("Grid DOM removed"),this.destroyFunctions.forEach(function(func){return func()})},GridCore.prototype.ensureNodeVisible=function(comparator){if(this.doingVirtualPaging)throw"Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory";for(var rowCount=this.rowModel.getRowCount(),indexToSelect=-1,i=0,node;i<rowCount;i++)if(node=this.rowModel.getRow(i),"function"==typeof comparator){if(comparator(node)){indexToSelect=i;break}}else if(comparator===node||comparator===node.data){indexToSelect=i;break}0<=indexToSelect&&this.gridPanel.ensureIndexVisible(indexToSelect)},GridCore.prototype.doLayout=function(){var sizeChanged=this.eRootPanel.doLayout();if(sizeChanged){this.rowRenderer.drawVirtualRows();var event={clientWidth:this.eRootPanel.getGui().clientWidth,clientHeight:this.eRootPanel.getGui().clientHeight};this.eventService.dispatchEvent(events_1.Events.EVENT_GRID_SIZE_CHANGED,event)}},__decorate([context_1.Autowired("gridOptions"),__metadata("design:type",Object)],GridCore.prototype,"gridOptions",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],GridCore.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("paginationController"),__metadata("design:type",paginationController_1.PaginationController)],GridCore.prototype,"paginationController",void 0),__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],GridCore.prototype,"rowModel",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],GridCore.prototype,"columnController",void 0),__decorate([context_1.Autowired("rowRenderer"),__metadata("design:type",rowRenderer_1.RowRenderer)],GridCore.prototype,"rowRenderer",void 0),__decorate([context_1.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],GridCore.prototype,"filterManager",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],GridCore.prototype,"eventService",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],GridCore.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("eGridDiv"),__metadata("design:type",HTMLElement)],GridCore.prototype,"eGridDiv",void 0),__decorate([context_1.Autowired("$scope"),__metadata("design:type",Object)],GridCore.prototype,"$scope",void 0),__decorate([context_1.Autowired("quickFilterOnScope"),__metadata("design:type",String)],GridCore.prototype,"quickFilterOnScope",void 0),__decorate([context_1.Autowired("popupService"),__metadata("design:type",popupService_1.PopupService)],GridCore.prototype,"popupService",void 0),__decorate([context_1.Autowired("focusedCellController"),__metadata("design:type",focusedCellController_1.FocusedCellController)],GridCore.prototype,"focusedCellController",void 0),__decorate([context_1.Optional("rowGroupCompFactory"),__metadata("design:type",Object)],GridCore.prototype,"rowGroupCompFactory",void 0),__decorate([context_1.Optional("pivotCompFactory"),__metadata("design:type",Object)],GridCore.prototype,"pivotCompFactory",void 0),__decorate([context_1.Optional("toolPanel"),__metadata("design:type",component_1.Component)],GridCore.prototype,"toolPanel",void 0),__decorate([context_1.Optional("statusBar"),__metadata("design:type",component_1.Component)],GridCore.prototype,"statusBar",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],GridCore.prototype,"init",null),__decorate([context_1.PreDestroy,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],GridCore.prototype,"destroy",null),GridCore=__decorate([context_1.Bean("gridCore"),__param(0,context_1.Qualifier("loggerFactory")),__metadata("design:paramtypes",[logger_1.LoggerFactory])],GridCore),GridCore}();exports.GridCore=GridCore},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(9),gridOptionsWrapper_1=__webpack_require__(5),context_1=__webpack_require__(8),gridPanel_1=__webpack_require__(26),selectionController_1=__webpack_require__(30),sortController_1=__webpack_require__(44),eventService_1=__webpack_require__(6),events_1=__webpack_require__(12),filterManager_1=__webpack_require__(45),constants_1=__webpack_require__(10),PaginationController=function(){function PaginationController(){}return PaginationController.prototype.init=function(){var _this=this;this.rowModel.getType()===constants_1.Constants.ROW_MODEL_TYPE_NORMAL&&(this.inMemoryRowModel=this.rowModel),this.setupComponents(),this.callVersion=0;var paginationEnabled=this.gridOptionsWrapper.isRowModelPagination();this.eventService.addEventListener(events_1.Events.EVENT_FILTER_CHANGED,function(){paginationEnabled&&_this.gridOptionsWrapper.isEnableServerSideFilter()&&_this.reset(!1)}),this.eventService.addEventListener(events_1.Events.EVENT_SORT_CHANGED,function(){paginationEnabled&&_this.gridOptionsWrapper.isEnableServerSideSorting()&&_this.reset(!1)}),paginationEnabled&&this.gridOptionsWrapper.getDatasource()&&this.setDatasource(this.gridOptionsWrapper.getDatasource())},PaginationController.prototype.setDatasource=function(datasource){this.datasource=datasource,datasource&&this.reset(!0)},PaginationController.prototype.checkForDeprecated=function(){var ds=this.datasource;utils_1.Utils.exists(ds.pageSize)&&console.error("ag-Grid: since version 5.1.x, pageSize is replaced with grid property paginationPageSize")},PaginationController.prototype.reset=function(freshDatasource){if(!utils_1.Utils.missing(this.datasource)){this.checkForDeprecated();var userGeneratingRows=utils_1.Utils.exists(this.gridOptionsWrapper.getRowNodeIdFunc());(freshDatasource||!userGeneratingRows)&&this.selectionController.reset(),this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),1<=this.pageSize||(this.pageSize=100),"number"==typeof this.datasource.rowCount&&0<=this.datasource.rowCount?(this.rowCount=this.datasource.rowCount,this.foundMaxRow=!0,this.calculateTotalPages()):(this.rowCount=0,this.foundMaxRow=!1,this.totalPages=null),this.currentPage=0,this.ePageRowSummaryPanel.style.visibility="hidden",this.setTotalLabels(),this.loadPage()}},PaginationController.prototype.myToLocaleString=function(input){return"number"==typeof input?input.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):""},PaginationController.prototype.setTotalLabels=function(){if(this.foundMaxRow)this.lbTotal.innerHTML=this.myToLocaleString(this.totalPages),this.lbRecordCount.innerHTML=this.myToLocaleString(this.rowCount);else{var moreText=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=moreText,this.lbRecordCount.innerHTML=moreText}},PaginationController.prototype.calculateTotalPages=function(){this.totalPages=_Mathfloor6((this.rowCount-1)/this.pageSize)+1},PaginationController.prototype.pageLoaded=function(rows,lastRowIndex){var firstId=this.currentPage*this.pageSize;this.inMemoryRowModel.setRowData(rows,!0,firstId),!this.foundMaxRow&&"number"==typeof lastRowIndex&&0<=lastRowIndex&&(this.foundMaxRow=!0,this.rowCount=lastRowIndex,this.calculateTotalPages(),this.setTotalLabels(),this.currentPage>this.totalPages&&(this.currentPage=this.totalPages-1,this.loadPage())),this.enableOrDisableButtons(),this.updateRowLabels()},PaginationController.prototype.updateRowLabels=function(){var startRow,endRow;this.isZeroPagesToDisplay()?(startRow=0,endRow=0):(startRow=this.pageSize*this.currentPage+1,endRow=startRow+this.pageSize-1,this.foundMaxRow&&endRow>this.rowCount&&(endRow=this.rowCount)),this.lbFirstRowOnPage.innerHTML=this.myToLocaleString(startRow),this.lbLastRowOnPage.innerHTML=this.myToLocaleString(endRow),this.ePageRowSummaryPanel.style.visibility=""},PaginationController.prototype.loadPage=function(){var _this=this;this.enableOrDisableButtons();var startRow=this.currentPage*this.pageSize,endRow=(this.currentPage+1)*this.pageSize;this.lbCurrent.innerHTML=this.myToLocaleString(this.currentPage+1),this.callVersion++;var callVersionCopy=this.callVersion,that=this;this.gridPanel.showLoadingOverlay();var sortModel;this.gridOptionsWrapper.isEnableServerSideSorting()&&(sortModel=this.sortController.getSortModel());var filterModel;this.gridOptionsWrapper.isEnableServerSideFilter()&&(filterModel=this.filterManager.getFilterModel());var params={startRow:startRow,endRow:endRow,successCallback:function(rows,lastRowIndex){that.isCallDaemon(callVersionCopy)||that.pageLoaded(rows,lastRowIndex)},failCallback:function(){that.isCallDaemon(callVersionCopy)||that.inMemoryRowModel.setRowData([],!0)},sortModel:sortModel,filterModel:filterModel,context:this.gridOptionsWrapper.getContext()},getRowsParams=utils_1.Utils.getFunctionParameters(this.datasource.getRows);1<getRowsParams.length&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details.")),setTimeout(function(){_this.datasource.getRows(params)},0)},PaginationController.prototype.isCallDaemon=function(versionCopy){return versionCopy!==this.callVersion},PaginationController.prototype.onBtNext=function(){this.currentPage++,this.loadPage()},PaginationController.prototype.onBtPrevious=function(){this.currentPage--,this.loadPage()},PaginationController.prototype.onBtFirst=function(){this.currentPage=0,this.loadPage()},PaginationController.prototype.onBtLast=function(){this.currentPage=this.totalPages-1,this.loadPage()},PaginationController.prototype.isZeroPagesToDisplay=function(){return this.foundMaxRow&&0===this.totalPages},PaginationController.prototype.enableOrDisableButtons=function(){var disablePreviousAndFirst=0===this.currentPage;this.btPrevious.disabled=disablePreviousAndFirst,this.btFirst.disabled=disablePreviousAndFirst;var zeroPagesToDisplay=this.isZeroPagesToDisplay(),onLastPage=this.foundMaxRow&&this.currentPage===this.totalPages-1;this.btNext.disabled=onLastPage||zeroPagesToDisplay;var disableLast=!this.foundMaxRow||zeroPagesToDisplay||this.currentPage===this.totalPages-1;this.btLast.disabled=disableLast},PaginationController.prototype.createTemplate=function(){var localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc();return("<div class=\"ag-paging-panel ag-font-style\">"+"<span id=\"pageRowSummaryPanel\" class=\"ag-paging-row-summary-panel\">"+"<span id=\"firstRowOnPage\"></span>"+" [TO] "+"<span id=\"lastRowOnPage\"></span>"+" [OF] "+"<span id=\"recordCount\"></span>"+"</span>"+"<span class=\"ag-paging-page-summary-panel\">"+"<button type=\"button\" class=\"ag-paging-button\" id=\"btFirst\">[FIRST]</button>"+"<button type=\"button\" class=\"ag-paging-button\" id=\"btPrevious\">[PREVIOUS]</button>"+"[PAGE] "+"<span id=\"current\"></span>"+" [OF] "+"<span id=\"total\"></span>"+"<button type=\"button\" class=\"ag-paging-button\" id=\"btNext\">[NEXT]</button>"+"<button type=\"button\" class=\"ag-paging-button\" id=\"btLast\">[LAST]</button>"+"</span>"+"</div>").replace("[PAGE]",localeTextFunc("page","Page")).replace("[TO]",localeTextFunc("to","to")).replace("[OF]",localeTextFunc("of","of")).replace("[OF]",localeTextFunc("of","of")).replace("[FIRST]",localeTextFunc("first","First")).replace("[PREVIOUS]",localeTextFunc("previous","Previous")).replace("[NEXT]",localeTextFunc("next","Next")).replace("[LAST]",localeTextFunc("last","Last"))},PaginationController.prototype.getGui=function(){return this.eGui},PaginationController.prototype.setupComponents=function(){this.eGui=utils_1.Utils.loadTemplate(this.createTemplate()),this.btNext=this.eGui.querySelector("#btNext"),this.btPrevious=this.eGui.querySelector("#btPrevious"),this.btFirst=this.eGui.querySelector("#btFirst"),this.btLast=this.eGui.querySelector("#btLast"),this.lbCurrent=this.eGui.querySelector("#current"),this.lbTotal=this.eGui.querySelector("#total"),this.lbRecordCount=this.eGui.querySelector("#recordCount"),this.lbFirstRowOnPage=this.eGui.querySelector("#firstRowOnPage"),this.lbLastRowOnPage=this.eGui.querySelector("#lastRowOnPage"),this.ePageRowSummaryPanel=this.eGui.querySelector("#pageRowSummaryPanel");var that=this;this.btNext.addEventListener("click",function(){that.onBtNext()}),this.btPrevious.addEventListener("click",function(){that.onBtPrevious()}),this.btFirst.addEventListener("click",function(){that.onBtFirst()}),this.btLast.addEventListener("click",function(){that.onBtLast()})},__decorate([context_1.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],PaginationController.prototype,"filterManager",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],PaginationController.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],PaginationController.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("selectionController"),__metadata("design:type",selectionController_1.SelectionController)],PaginationController.prototype,"selectionController",void 0),__decorate([context_1.Autowired("sortController"),__metadata("design:type",sortController_1.SortController)],PaginationController.prototype,"sortController",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],PaginationController.prototype,"eventService",void 0),__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],PaginationController.prototype,"rowModel",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],PaginationController.prototype,"init",null),PaginationController=__decorate([context_1.Bean("paginationController"),__metadata("design:paramtypes",[])],PaginationController),PaginationController}();exports.PaginationController=PaginationController},function(module,exports,__webpack_require__){var utils_1=__webpack_require__(9),eventService_1=__webpack_require__(6),gridOptionsWrapper_1=__webpack_require__(5),Component=function(){function Component(template){this.destroyFunctions=[],this.childComponents=[],this.annotatedEventListeners=[],this.visible=!0,template&&this.setTemplate(template)}return Component.prototype.instantiate=function(context){this.instantiateRecurse(this.getGui(),context)},Component.prototype.instantiateRecurse=function(parentNode,context){for(var childCount=parentNode.childNodes?parentNode.childNodes.length:0,i=0;i<childCount;i++){var childNode=parentNode.childNodes[i],newComponent=context.createComponent(childNode);newComponent?this.swapComponentForNode(newComponent,parentNode,childNode):childNode.childNodes&&this.instantiateRecurse(childNode,context)}},Component.prototype.swapComponentForNode=function(newComponent,parentNode,childNode){parentNode.replaceChild(newComponent.getGui(),childNode),this.childComponents.push(newComponent),this.swapInComponentForQuerySelectors(newComponent,childNode)},Component.prototype.swapInComponentForQuerySelectors=function(newComponent,childNode){var metaData=this.__agComponentMetaData;if(metaData&&metaData.querySelectors){var thisNoType=this;metaData.querySelectors.forEach(function(querySelector){thisNoType[querySelector.attributeName]===childNode&&(thisNoType[querySelector.attributeName]=newComponent)})}},Component.prototype.setTemplate=function(template){this.eGui=utils_1.Utils.loadTemplate(template),this.eGui.__agComponent=this,this.addAnnotatedEventListeners(),this.wireQuerySelectors()},Component.prototype.wireQuerySelectors=function(){var _this=this,metaData=this.__agComponentMetaData;if(metaData&&metaData.querySelectors&&this.eGui){var thisNoType=this;metaData.querySelectors.forEach(function(querySelector){var resultOfQuery=_this.eGui.querySelector(querySelector.querySelector);if(resultOfQuery){var backingComponent=resultOfQuery.__agComponent;thisNoType[querySelector.attributeName]=backingComponent?backingComponent:resultOfQuery}else;})}},Component.prototype.addAnnotatedEventListeners=function(){var _this=this;this.removeAnnotatedEventListeners();var metaData=this.__agComponentMetaData;metaData&&metaData.listenerMethods&&this.eGui&&(!this.annotatedEventListeners&&(this.annotatedEventListeners=[]),metaData.listenerMethods.forEach(function(eventListener){var listener=_this[eventListener.methodName].bind(_this);_this.eGui.addEventListener(eventListener.eventName,listener),_this.annotatedEventListeners.push({eventName:eventListener.eventName,listener:listener})}))},Component.prototype.removeAnnotatedEventListeners=function(){var _this=this;this.annotatedEventListeners&&this.eGui&&(this.annotatedEventListeners.forEach(function(eventListener){_this.eGui.removeEventListener(eventListener.eventName,eventListener.listener)}),this.annotatedEventListeners=null)},Component.prototype.addEventListener=function(eventType,listener){this.localEventService||(this.localEventService=new eventService_1.EventService),this.localEventService.addEventListener(eventType,listener)},Component.prototype.removeEventListener=function(eventType,listener){this.localEventService&&this.localEventService.removeEventListener(eventType,listener)},Component.prototype.dispatchEventAsync=function(eventType,event){var _this=this;setTimeout(function(){return _this.dispatchEvent(eventType,event)},0)},Component.prototype.dispatchEvent=function(eventType,event){this.localEventService&&this.localEventService.dispatchEvent(eventType,event)},Component.prototype.getGui=function(){return this.eGui},Component.prototype.queryForHtmlElement=function(cssSelector){return this.eGui.querySelector(cssSelector)},Component.prototype.queryForHtmlInputElement=function(cssSelector){return this.eGui.querySelector(cssSelector)},Component.prototype.appendChild=function(newChild){if(utils_1.Utils.isNodeOrElement(newChild))this.eGui.appendChild(newChild);else{var childComponent=newChild;this.eGui.appendChild(childComponent.getGui()),this.childComponents.push(childComponent)}},Component.prototype.isVisible=function(){return this.visible},Component.prototype.setVisible=function(visible){visible!==this.visible&&(this.visible=visible,utils_1.Utils.addOrRemoveCssClass(this.eGui,"ag-hidden",!visible),this.dispatchEvent(Component.EVENT_VISIBLE_CHANGED,{visible:this.visible}))},Component.prototype.addOrRemoveCssClass=function(className,addOrRemove){utils_1.Utils.addOrRemoveCssClass(this.eGui,className,addOrRemove)},Component.prototype.destroy=function(){this.childComponents.forEach(function(childComponent){return childComponent.destroy()}),this.destroyFunctions.forEach(function(func){return func()}),this.removeAnnotatedEventListeners()},Component.prototype.addGuiEventListener=function(event,listener){var _this=this;this.getGui().addEventListener(event,listener),this.destroyFunctions.push(function(){return _this.getGui().removeEventListener(event,listener)})},Component.prototype.addDestroyableEventListener=function(eElement,event,listener){eElement instanceof HTMLElement?eElement.addEventListener(event,listener):eElement instanceof gridOptionsWrapper_1.GridOptionsWrapper?eElement.addEventListener(event,listener):eElement.addEventListener(event,listener),this.destroyFunctions.push(function(){eElement instanceof HTMLElement?eElement.removeEventListener(event,listener):eElement instanceof gridOptionsWrapper_1.GridOptionsWrapper?eElement.removeEventListener(event,listener):eElement.removeEventListener(event,listener)})},Component.prototype.addDestroyFunc=function(func){this.destroyFunctions.push(func)},Component.prototype.addCssClass=function(className){utils_1.Utils.addCssClass(this.getGui(),className)},Component.prototype.getAttribute=function(key){var eGui=this.getGui();return eGui?eGui.getAttribute(key):null},Component.EVENT_VISIBLE_CHANGED="visibleChanged",Component}();exports.Component=Component},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(9),context_1=__webpack_require__(8),gridOptionsWrapper_1=__webpack_require__(5),TextFilter=function(){function TextFilter(){}return TextFilter.prototype.init=function(params){this.filterParams=params,this.applyActive=!0===params.apply,this.newRowsActionKeep="keep"===params.newRowsAction,this.filterText=null,this.filterType=TextFilter.CONTAINS,this.createGui()},TextFilter.prototype.onNewRowsLoaded=function(){this.newRowsActionKeep||(this.setType(TextFilter.CONTAINS),this.setFilter(null))},TextFilter.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},TextFilter.prototype.doesFilterPass=function(params){if(!this.filterText)return!0;var value=this.filterParams.valueGetter(params.node);if(!value)return!1;var valueLowerCase=value.toString().toLowerCase();switch(this.filterType){case TextFilter.CONTAINS:return 0<=valueLowerCase.indexOf(this.filterText);case TextFilter.EQUALS:return valueLowerCase===this.filterText;case TextFilter.NOT_EQUALS:return valueLowerCase!=this.filterText;case TextFilter.STARTS_WITH:return 0===valueLowerCase.indexOf(this.filterText);case TextFilter.ENDS_WITH:var index=valueLowerCase.lastIndexOf(this.filterText);return 0<=index&&index===valueLowerCase.length-this.filterText.length;default:return console.warn("invalid filter type "+this.filterType),!1;}},TextFilter.prototype.getGui=function(){return this.eGui},TextFilter.prototype.isFilterActive=function(){return null!==this.filterText},TextFilter.prototype.createTemplate=function(){var translate=this.gridOptionsWrapper.getLocaleTextFunc();return"<div>\n                    <div>\n                        <select class=\"ag-filter-select\" id=\"filterType\">\n                        <option value=\""+TextFilter.CONTAINS+"\">"+translate("contains","Contains")+"</option>\n                        <option value=\""+TextFilter.EQUALS+"\">"+translate("equals","Equals")+"</option>\n                        <option value=\""+TextFilter.NOT_EQUALS+"\">"+translate("notEquals","Not equals")+"</option>\n                        <option value=\""+TextFilter.STARTS_WITH+"\">"+translate("startsWith","Starts with")+"</option>\n                        <option value=\""+TextFilter.ENDS_WITH+"\">"+translate("endsWith","Ends with")+"</option>\n                        </select>\n                    </div>\n                    <div>\n                        <input class=\"ag-filter-filter\" id=\"filterText\" type=\"text\" placeholder=\""+translate("filterOoo","Filter...")+"\"/>\n                    </div>\n                    <div class=\"ag-filter-apply-panel\" id=\"applyPanel\">\n                        <button type=\"button\" id=\"applyButton\">"+translate("applyFilter","Apply Filter")+"</button>\n                    </div>\n                </div>"},TextFilter.prototype.createGui=function(){this.eGui=utils_1.Utils.loadTemplate(this.createTemplate()),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),utils_1.Utils.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this)),this.setupApply()},TextFilter.prototype.setupApply=function(){var _this=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){_this.filterParams.filterChangedCallback()})):utils_1.Utils.removeElement(this.eGui,"#applyPanel")},TextFilter.prototype.onTypeChanged=function(){this.filterType=this.eTypeSelect.value,this.filterChanged()},TextFilter.prototype.onFilterChanged=function(){var filterText=utils_1.Utils.makeNull(this.eFilterTextField.value);filterText&&""===filterText.trim()&&(filterText=null);var newFilterText;newFilterText=null!==filterText&&void 0!==filterText?filterText.toLowerCase():null,this.filterText!==newFilterText&&(this.filterText=newFilterText,this.filterChanged())},TextFilter.prototype.filterChanged=function(){this.filterParams.filterModifiedCallback(),this.applyActive||this.filterParams.filterChangedCallback()},TextFilter.prototype.setType=function(type){this.filterType=type,this.eTypeSelect.value=type},TextFilter.prototype.setFilter=function(filter){filter=utils_1.Utils.makeNull(filter),filter?(this.filterText=filter.toLowerCase(),this.eFilterTextField.value=filter):(this.filterText=null,this.eFilterTextField.value=null)},TextFilter.prototype.getType=function(){return this.filterType},TextFilter.prototype.getFilter=function(){return this.filterText},TextFilter.prototype.getModel=function(){return this.isFilterActive()?{type:this.filterType,filter:this.filterText}:null},TextFilter.prototype.setModel=function(model){model?(this.setType(model.type),this.setFilter(model.filter)):this.setFilter(null)},TextFilter.CONTAINS="contains",TextFilter.EQUALS="equals",TextFilter.NOT_EQUALS="notEquals",TextFilter.STARTS_WITH="startsWith",TextFilter.ENDS_WITH="endsWith",__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],TextFilter.prototype,"gridOptionsWrapper",void 0),TextFilter}();exports.TextFilter=TextFilter},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(9),context_1=__webpack_require__(8),gridOptionsWrapper_1=__webpack_require__(5),NumberFilter=function(){function NumberFilter(){}return NumberFilter.prototype.init=function(params){this.filterParams=params,this.applyActive=!0===params.apply,this.newRowsActionKeep="keep"===params.newRowsAction,this.filterNumber=null,this.filterType=NumberFilter.EQUALS,this.createGui()},NumberFilter.prototype.onNewRowsLoaded=function(){this.newRowsActionKeep||(this.setType(NumberFilter.EQUALS),this.setFilter(null))},NumberFilter.prototype.afterGuiAttached=function(){this.eFilterTextField.focus()},NumberFilter.prototype.doesFilterPass=function(params){if(null===this.filterNumber)return!0;var value=this.filterParams.valueGetter(params.node);if(!value&&0!==value)return!1;var valueAsNumber;switch(valueAsNumber="number"==typeof value?value:parseFloat(value),this.filterType){case NumberFilter.EQUALS:return valueAsNumber===this.filterNumber;case NumberFilter.LESS_THAN:return valueAsNumber<this.filterNumber;case NumberFilter.GREATER_THAN:return valueAsNumber>this.filterNumber;case NumberFilter.LESS_THAN_OR_EQUAL:return valueAsNumber<=this.filterNumber;case NumberFilter.GREATER_THAN_OR_EQUAL:return valueAsNumber>=this.filterNumber;case NumberFilter.NOT_EQUAL:return valueAsNumber!=this.filterNumber;default:return console.warn("invalid filter type "+this.filterType),!1;}},NumberFilter.prototype.getGui=function(){return this.eGui},NumberFilter.prototype.isFilterActive=function(){return null!==this.filterNumber},NumberFilter.prototype.createTemplate=function(){var translate=this.gridOptionsWrapper.getLocaleTextFunc();return"<div>\n                    <div>\n                        <select class=\"ag-filter-select\" id=\"filterType\">\n                            <option value=\""+NumberFilter.EQUALS+"\">"+translate("equals","Equals")+"</option>\n                            <option value=\""+NumberFilter.NOT_EQUAL+"\">"+translate("notEqual","Not equal")+"</option>\n                            <option value=\""+NumberFilter.LESS_THAN+"\">"+translate("lessThan","Less than")+"</option>\n                            <option value=\""+NumberFilter.LESS_THAN_OR_EQUAL+"\">"+translate("lessThanOrEqual","Less than or equal")+"</option>\n                            <option value=\""+NumberFilter.GREATER_THAN+"\">"+translate("greaterThan","Greater than")+"</option>\n                            <option value=\""+NumberFilter.GREATER_THAN_OR_EQUAL+"\">"+translate("greaterThanOrEqual","Greater than or equal")+"</option>\n                        </select>\n                    </div>\n                    <div>\n                        <input class=\"ag-filter-filter\" id=\"filterText\" type=\"text\" placeholder=\""+translate("filterOoo","Filter...")+"\"/>\n                    </div>\n                    <div class=\"ag-filter-apply-panel\" id=\"applyPanel\">\n                        <button type=\"button\" id=\"applyButton\">"+translate("applyFilter","Apply Filter")+"</button>\n                    </div>\n                </div>"},NumberFilter.prototype.createGui=function(){this.eGui=utils_1.Utils.loadTemplate(this.createTemplate()),this.eFilterTextField=this.eGui.querySelector("#filterText"),this.eTypeSelect=this.eGui.querySelector("#filterType"),utils_1.Utils.addChangeListener(this.eFilterTextField,this.onFilterChanged.bind(this)),this.eTypeSelect.addEventListener("change",this.onTypeChanged.bind(this)),this.setupApply()},NumberFilter.prototype.setupApply=function(){var _this=this;this.applyActive?(this.eApplyButton=this.eGui.querySelector("#applyButton"),this.eApplyButton.addEventListener("click",function(){_this.filterParams.filterChangedCallback()})):utils_1.Utils.removeElement(this.eGui,"#applyPanel")},NumberFilter.prototype.onTypeChanged=function(){this.filterType=this.eTypeSelect.value,this.filterChanged()},NumberFilter.prototype.filterChanged=function(){this.filterParams.filterModifiedCallback(),this.applyActive||this.filterParams.filterChangedCallback()},NumberFilter.prototype.onFilterChanged=function(){var filterText=utils_1.Utils.makeNull(this.eFilterTextField.value);filterText&&""===filterText.trim()&&(filterText=null);var newFilter;newFilter=null!==filterText&&void 0!==filterText?parseFloat(filterText):null,this.filterNumber!==newFilter&&(this.filterNumber=newFilter,this.filterChanged())},NumberFilter.prototype.setType=function(type){this.filterType=type,this.eTypeSelect.value=type},NumberFilter.prototype.setFilter=function(filter){filter=utils_1.Utils.makeNull(filter),null===filter||"number"==typeof filter||(filter=parseFloat(filter)),this.filterNumber=filter,this.eFilterTextField.value=filter},NumberFilter.prototype.getFilter=function(){return this.filterNumber},NumberFilter.prototype.getModel=function(){return this.isFilterActive()?{type:this.filterType,filter:this.filterNumber}:null},NumberFilter.prototype.setModel=function(model){model?(this.setType(model.type),this.setFilter(model.filter)):this.setFilter(null)},NumberFilter.EQUALS="equals",NumberFilter.NOT_EQUAL="notEqual",NumberFilter.LESS_THAN="lessThan",NumberFilter.LESS_THAN_OR_EQUAL="lessThanOrEqual",NumberFilter.GREATER_THAN="greaterThan",NumberFilter.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],NumberFilter.prototype,"gridOptionsWrapper",void 0),NumberFilter}();exports.NumberFilter=NumberFilter},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},utils_1=__webpack_require__(9),context_1=__webpack_require__(8),eventService_1=__webpack_require__(6),events_1=__webpack_require__(12),logger_1=__webpack_require__(7),virtualPage_1=__webpack_require__(53),gridOptionsWrapper_1=__webpack_require__(5),floatingRowModel_1=__webpack_require__(28),VirtualPageCache=function(){function VirtualPageCache(cacheSettings){this.pages={},this.activePageLoadsCount=0,this.pagesInCacheCount=0,this.maxRowFound=!1,this.active=!0,this.cacheParams=cacheSettings,this.virtualRowCount=cacheSettings.paginationInitialRowCount}return VirtualPageCache.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create("VirtualPageCache")},VirtualPageCache.prototype.init=function(){this.getRow(0)},VirtualPageCache.prototype.updateAllRowTopFromIndex=function(index,offset){for(var i=0,length=this.pagesInCacheCount;i<length;++i){var page=this.pages[i],j=0;if(page.getStartRow()<=index&&index<page.getEndRow())j=index-page.getStartRow()+1;else if(page.getStartRow()<index)continue;for(var rows=page.getRowNodes(),rowNode;j<rows.length;++j)rowNode=rows[j],rowNode.rowTop+=offset}},VirtualPageCache.prototype.updateAllRowTopFromIndexes=function(){for(var offset=0,total=0,i=0,length=this.pagesInCacheCount;i<length;++i){var page=this.pages[i],rows=page.getRowNodes();if(page.setStartRow(total),total+=rows.length,page.setEndRow(total),0<i){var lastRowNode=this.pages[i-1].getLastRowNode(),rowBottom=lastRowNode?lastRowNode.getRowBottom():0;page.setPrevPageBottom(rowBottom)}for(var j=0;j<rows.length;++j){var rowNode=rows[j],diff=0;0==j&&(diff=page.getPrevPageBottom()-(rowNode.rowTop+offset))?offset+=diff:0<j&&(diff=rows[j-1].getRowBottom()-(rowNode.rowTop+offset))&&(offset+=diff),rowNode.rowTop+=offset}}},VirtualPageCache.prototype.updateHeightForIndexes=function(indexes,height){var self=this;indexes.forEach(function(index){for(var i=0,length=self.pagesInCacheCount,page;i<length;++i)if(page=self.pages[i],page.getStartRow()<=index&&index<page.getEndRow()){var nodeIndex=index-page.getStartRow();page.getRowNodes()[nodeIndex].rowHeight=height;break}}),this.updateAllRowTopFromIndexes()},VirtualPageCache.prototype.getRowCombinedHeight=function(){if(this.pagesInCacheCount){var lastPage=this.pages[this.pagesInCacheCount-1],lastRow;lastRow=this.virtualRowCount?this.virtualRowCount<lastPage.getEndRow()&&lastPage.getState()==virtualPage_1.VirtualPage.STATE_LOADED?lastPage.getRow(this.virtualRowCount-1):lastPage.getLastRowNode():lastPage.getRow(this.virtualRowCount);var lastPixel=lastRow.rowTop+lastRow.rowHeight;return lastPixel}return 0},VirtualPageCache.prototype.forEachNode=function(callback){var _this=this,index=0;utils_1.Utils.iterateObject(this.pages,function(key,cachePage){for(var start=cachePage.getStartRow(),end=cachePage.getEndRow(),rowIndex=start;rowIndex<end;rowIndex++)if(rowIndex<_this.virtualRowCount){var rowNode=cachePage.getRow(rowIndex);callback(rowNode,index),index++}})},VirtualPageCache.prototype.updateHeightForAllRows=function(){var _this=this;utils_1.Utils.iterateObject(this.pages,function(key,cachePage){for(var rows=cachePage.getRowNodes(),i=0,rowNode;i<rows.length;i++)rowNode=rows[i],rowNode.rowHeight=_this.gridOptionsWrapper.getRowHeightForNode(rowNode,i+cachePage.getStartRow())}),this.updateAllRowTopFromIndexes()},VirtualPageCache.prototype.getCurrentPage=function(pixel){var firstPageIndex=0,lastPageIndex=this.pagesInCacheCount-1,midPageIndex,currentPage;if(0==lastPageIndex)return this.pages[0];for(;;){midPageIndex=_Mathfloor6((firstPageIndex+lastPageIndex)/2),currentPage=this.pages[midPageIndex];var firstRowNode=currentPage.getFirstRowNode(),lastRowNode=currentPage.getLastRowNode();if(this.isPageInPixel(currentPage,pixel)||firstPageIndex>=lastPageIndex)return currentPage;!lastRowNode||currentPage.getLastRowNode().rowTop<pixel?firstPageIndex=midPageIndex+1:(!firstRowNode||currentPage.getFirstRowNode().rowTop>pixel)&&(lastPageIndex=midPageIndex-1)}},VirtualPageCache.prototype.getRowIndexAtPixel=function(pixel){if(0>=pixel)return 0;var currentPage=this.getCurrentPage(pixel),rowNodes=currentPage.getRowNodes(),bottomPointer=0,topPointer=rowNodes.length-1,lastNode=rowNodes[topPointer],midPointer,currentRowNode;if(pixel>=lastNode.rowTop)return currentPage.getStartRow()+topPointer;for(;midPointer=_Mathfloor6((bottomPointer+topPointer)/2),currentRowNode=rowNodes[midPointer],!this.isRowInPixel(currentRowNode,pixel);)currentRowNode.rowTop<pixel?bottomPointer=midPointer+1:currentRowNode.rowTop>pixel&&(topPointer=midPointer-1);return currentPage.getStartRow()+midPointer},VirtualPageCache.prototype.isRowInPixel=function(rowNode,pixelToMatch){var topPixel=rowNode.rowTop,bottomPixel=rowNode.rowTop+rowNode.rowHeight;return topPixel<=pixelToMatch&&bottomPixel>pixelToMatch},VirtualPageCache.prototype.isPageInPixel=function(page,pixelToMatch){var firstRow=page.getFirstRowNode(),lastRow=page.getLastRowNode();if(!firstRow||!lastRow)return!1;var topPixel=firstRow.rowTop,bottomPixel=lastRow.rowTop+lastRow.rowHeight;return topPixel<=pixelToMatch&&bottomPixel>pixelToMatch},VirtualPageCache.prototype.moveItemsDown=function(page,moveFromIndex,moveCount){for(var startRow=page.getStartRow(),endRow=page.getEndRow(),currentRowIndex=endRow-1;currentRowIndex>=startRow;currentRowIndex--)if(!(currentRowIndex<moveFromIndex+moveCount)){var indexOfNodeWeWant=currentRowIndex-moveCount,nodeForThisIndex=this.getRow(indexOfNodeWeWant,!0);nodeForThisIndex?page.setRowNode(currentRowIndex,nodeForThisIndex):(page.setBlankRowNode(currentRowIndex),page.setDirty())}},VirtualPageCache.prototype.removeItems=function(items){var removed=[];utils_1.Utils.values(this.pages).forEach(function(page){removed=removed.concat(page.removeRowNodes(items))}),0<removed.length&&(this.updateAllRowTopFromIndexes(),this.setVirtualRowCount(this.getVirtualRowCount()-removed.length,this.isMaxRowFound(),!0),this.eventService.dispatchEvent(events_1.Events.EVENT_ITEMS_REMOVED,removed))},VirtualPageCache.prototype.insertItemsAtIndex=function(indexToInsert,items){utils_1.Utils.values(this.pages).forEach(function(page){var pageStartRow=page.getStartRow(),pageEndRow=page.getEndRow();pageStartRow>indexToInsert||pageEndRow<=indexToInsert||page.insertRowNodes(indexToInsert,items)}),this.updateAllRowTopFromIndexes(),this.setVirtualRowCount(this.getVirtualRowCount()+items.length,this.isMaxRowFound(),!0),this.eventService.dispatchEvent(events_1.Events.EVENT_ITEMS_ADDED,items)},VirtualPageCache.prototype.getRowCount=function(){return this.virtualRowCount},VirtualPageCache.prototype.onPageLoaded=function(event){if(this.active&&(this.logger.log("onPageLoaded: page = "+event.page.getPageNumber()+", lastRow = "+event.lastRow),this.activePageLoadsCount--,this.checkPageToLoad(),event.success)){var floatingTopCount=this.floatingRowModel.getFloatingTopRowCount();event.lastRow>floatingTopCount&&(event.lastRow-=floatingTopCount),this.checkVirtualRowCount(event.page,event.lastRow)}},VirtualPageCache.prototype.destroy=function(){this.active=!1},VirtualPageCache.prototype.getRow=function(rowIndex,dontCreatePage){void 0===dontCreatePage&&(dontCreatePage=!1);for(var pageIds=Object.keys(this.pages).map(function(str){return parseInt(str)}).sort(function(a,b){return a-b}),totalLength=0,i=0,row,page;i<pageIds.length;i++)if(page=this.pages[pageIds[i]],totalLength+=page.getRowNodesLength(),totalLength>rowIndex){row=page.getRowNodes()[page.getRowNodesLength()-(totalLength-rowIndex)];break}if(row)return row;var fixedRowsCount=this.floatingRowModel.getFloatingTopRowCount(),pageNumber=_Mathfloor6((rowIndex+fixedRowsCount)/this.cacheParams.pageSize),page=this.pages[pageNumber];if(!page){if(dontCreatePage)return null;page=this.createPage(pageNumber)}return page.getRow(rowIndex)},VirtualPageCache.prototype.createPage=function(pageNumber){var previousLastRowNodeBottom=0,lastPageEndRow=0;if(this.pagesInCacheCount){var previousPage=this.pages[this.pagesInCacheCount-1];lastPageEndRow=previousPage.getEndRow();var lastPreviousPageNode=previousPage.getLastRowNode();previousLastRowNodeBottom=lastPreviousPageNode.rowTop+lastPreviousPageNode.rowHeight}var newPage=new virtualPage_1.VirtualPage(pageNumber,lastPageEndRow,this.cacheParams,previousLastRowNodeBottom);this.context.wireBean(newPage),newPage.addEventListener(virtualPage_1.VirtualPage.EVENT_LOAD_COMPLETE,this.onPageLoaded.bind(this)),this.pages[pageNumber]=newPage,this.pagesInCacheCount++;var needToPurge=utils_1.Utils.exists(this.cacheParams.maxPagesInCache)&&this.pagesInCacheCount>this.cacheParams.maxPagesInCache;if(needToPurge){var lruPage=this.findLeastRecentlyUsedPage(newPage);this.removePageFromCache(lruPage)}return this.checkPageToLoad(),newPage},VirtualPageCache.prototype.removePageFromCache=function(pageToRemove){pageToRemove&&(delete this.pages[pageToRemove.getPageNumber()],this.pagesInCacheCount--)},VirtualPageCache.prototype.printCacheStatus=function(){this.logger.log("checkPageToLoad: activePageLoadsCount = "+this.activePageLoadsCount+", pages = "+JSON.stringify(this.getPageState()))},VirtualPageCache.prototype.checkPageToLoad=function(){if(this.printCacheStatus(),this.activePageLoadsCount>=this.cacheParams.maxConcurrentDatasourceRequests)return void this.logger.log("checkPageToLoad: max loads exceeded");var pageToLoad=null;utils_1.Utils.iterateObject(this.pages,function(key,cachePage){cachePage.getState()===virtualPage_1.VirtualPage.STATE_DIRTY&&(pageToLoad=cachePage)}),pageToLoad?(pageToLoad.load(),this.activePageLoadsCount++,this.logger.log("checkPageToLoad: loading page "+pageToLoad.getPageNumber()),this.printCacheStatus()):this.logger.log("checkPageToLoad: no pages to load")},VirtualPageCache.prototype.findLeastRecentlyUsedPage=function(pageToExclude){var lruPage=null;return utils_1.Utils.iterateObject(this.pages,function(key,page){page===pageToExclude||(utils_1.Utils.missing(lruPage)||page.getLastAccessed()<lruPage.getLastAccessed())&&(lruPage=page)}),lruPage},VirtualPageCache.prototype.checkVirtualRowCount=function(page,lastRow){if("number"==typeof lastRow&&0<=lastRow)this.virtualRowCount=lastRow,this.maxRowFound=!0,this.dispatchModelUpdated();else if(!this.maxRowFound){var lastRowIndex=(page.getPageNumber()+1)*this.cacheParams.pageSize,lastRowIndexPlusOverflow=lastRowIndex+this.cacheParams.paginationOverflowSize;this.virtualRowCount<lastRowIndexPlusOverflow&&(this.virtualRowCount=lastRowIndexPlusOverflow,this.dispatchModelUpdated())}},VirtualPageCache.prototype.dispatchModelUpdated=function(){this.active&&this.eventService.dispatchEvent(events_1.Events.EVENT_MODEL_UPDATED)},VirtualPageCache.prototype.getPageState=function(){var result=[];return utils_1.Utils.iterateObject(this.pages,function(pageNumber,page){result.push({pageNumber:pageNumber,startRow:page.getStartRow(),endRow:page.getEndRow(),pageStatus:page.getState()})}),result},VirtualPageCache.prototype.refreshVirtualPageCache=function(){utils_1.Utils.iterateObject(this.pages,function(pageId,page){page.setDirty()}),this.checkPageToLoad()},VirtualPageCache.prototype.purgeVirtualPageCache=function(){var _this=this,pagesList=utils_1.Utils.values(this.pages);pagesList.forEach(function(virtualPage){return _this.removePageFromCache(virtualPage)}),this.dispatchModelUpdated()},VirtualPageCache.prototype.getVirtualRowCount=function(){return this.virtualRowCount},VirtualPageCache.prototype.isMaxRowFound=function(){return this.maxRowFound},VirtualPageCache.prototype.setVirtualRowCount=function(rowCount,maxRowFound,skipUpdate){this.virtualRowCount=rowCount,utils_1.Utils.exists(maxRowFound)&&(this.maxRowFound=maxRowFound),this.maxRowFound||0!=this.virtualRowCount%this.cacheParams.pageSize||this.virtualRowCount++,skipUpdate||this.dispatchModelUpdated()},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],VirtualPageCache.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],VirtualPageCache.prototype,"eventService",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],VirtualPageCache.prototype,"context",void 0),__decorate([context_1.Autowired("floatingRowModel"),__metadata("design:type",floatingRowModel_1.FloatingRowModel)],VirtualPageCache.prototype,"floatingRowModel",void 0),__decorate([__param(0,context_1.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],VirtualPageCache.prototype,"setBeans",null),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],VirtualPageCache.prototype,"init",null),VirtualPageCache}();exports.VirtualPageCache=VirtualPageCache},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(9),gridOptionsWrapper_1=__webpack_require__(5),rowNode_1=__webpack_require__(29),context_1=__webpack_require__(8),eventService_1=__webpack_require__(6),VirtualPage=function(){function VirtualPage(pageNumber,startRow,cacheSettings,previousLastRowNodeBottom){this.state=VirtualPage.STATE_DIRTY,this.version=0,this.localEventService=new eventService_1.EventService,this.pageNumber=pageNumber,this.cacheParams=cacheSettings,this.prevPageBottom=previousLastRowNodeBottom,this.startRow=startRow,this.endRow=startRow+cacheSettings.pageSize}return VirtualPage.prototype.getPrevPageBottom=function(){return this.prevPageBottom},VirtualPage.prototype.setPrevPageBottom=function(prevPageBottom){this.prevPageBottom=prevPageBottom},VirtualPage.prototype.insertRowNodes=function(index,nodes){Array.prototype.splice.apply(this.rowNodes,[index,0].concat(nodes))},VirtualPage.prototype.removeRowNodes=function(nodes){var _this=this,removed=[];return nodes.forEach(function(nodeToRemove){var idx=_this.rowNodes.indexOf(nodeToRemove);-1<idx&&(removed=removed.concat(_this.rowNodes.splice(idx,1)))}),removed},VirtualPage.prototype.getRowNodes=function(){return this.rowNodes},VirtualPage.prototype.setStartRow=function(startRow){this.startRow=startRow},VirtualPage.prototype.setEndRow=function(endRow){this.endRow=endRow},VirtualPage.prototype.getRowNodesLength=function(){return this.rowNodes.length},VirtualPage.prototype.getFirstRowNode=function(){return this.rowNodes[0]},VirtualPage.prototype.getLastRowNode=function(){return this.rowNodes[this.rowNodes.length-1]},VirtualPage.prototype.setDirty=function(){this.version++,this.state=VirtualPage.STATE_DIRTY},VirtualPage.prototype.setDirtyAndPurge=function(){this.setDirty(),this.rowNodes.forEach(function(rowNode){rowNode.setData(null)})},VirtualPage.prototype.getStartRow=function(){return this.startRow},VirtualPage.prototype.getEndRow=function(){return this.endRow},VirtualPage.prototype.getPageNumber=function(){return this.pageNumber},VirtualPage.prototype.addEventListener=function(eventType,listener){this.localEventService.addEventListener(eventType,listener)},VirtualPage.prototype.removeEventListener=function(eventType,listener){this.localEventService.removeEventListener(eventType,listener)},VirtualPage.prototype.getLastAccessed=function(){return this.lastAccessed},VirtualPage.prototype.getState=function(){return this.state},VirtualPage.prototype.setRowNode=function(rowIndex,rowNode){var localIndex=rowIndex-this.startRow;this.rowNodes[localIndex]=rowNode,this.setTopOnRowNode(rowNode,rowIndex)},VirtualPage.prototype.setBlankRowNode=function(rowIndex){var localIndex=rowIndex-this.startRow,newRowNode=this.createBlankRowNode(rowIndex);return this.rowNodes[localIndex]=newRowNode,newRowNode},VirtualPage.prototype.setNewData=function(rowIndex,dataItem){var newRowNode=this.setBlankRowNode(rowIndex);return newRowNode.setDataAndId(dataItem,rowIndex.toString()),newRowNode},VirtualPage.prototype.init=function(){this.createRowNodes()},VirtualPage.prototype.createRowNodes=function(){this.rowNodes=[];for(var i=0;i<this.cacheParams.pageSize;i++){var rowIndex=this.startRow+i,rowNode=this.createBlankRowNode(rowIndex);this.rowNodes.push(rowNode)}},VirtualPage.prototype.setTopOnRowNode=function(rowNode,rowIndex){var localIndex=rowIndex-this.startRow,previousRowNode=this.rowNodes[localIndex-1],rowTop;rowTop=previousRowNode?previousRowNode.rowTop+previousRowNode.rowHeight:this.prevPageBottom,rowNode.rowTop=rowTop},VirtualPage.prototype.createBlankRowNode=function(rowIndex){var rowNode=new rowNode_1.RowNode;return this.context.wireBean(rowNode),rowNode.rowHeight=this.gridOptionsWrapper.getRowHeightForNode(rowNode,rowIndex),this.setTopOnRowNode(rowNode,rowIndex),rowNode},VirtualPage.prototype.getRow=function(rowIndex){this.lastAccessed=this.cacheParams.lastAccessedSequence.next();var localIndex=rowIndex-this.startRow;return this.rowNodes[localIndex]},VirtualPage.prototype.load=function(){var _this=this;this.state=VirtualPage.STATE_LOADING;var params={startRow:this.pageNumber*this.cacheParams.pageSize,endRow:this.pageNumber*this.cacheParams.pageSize+this.cacheParams.pageSize,successCallback:this.pageLoaded.bind(this,this.version),failCallback:this.pageLoadFailed.bind(this),sortModel:this.cacheParams.sortModel,filterModel:this.cacheParams.filterModel,context:this.gridOptionsWrapper.getContext()};if(utils_1.Utils.missing(this.cacheParams.datasource.getRows))return void console.warn("ag-Grid: datasource is missing getRows method");var getRowsParams=utils_1.Utils.getFunctionParameters(this.cacheParams.datasource.getRows);1<getRowsParams.length&&(console.warn("ag-grid: It looks like your paging datasource is of the old type, taking more than one parameter."),console.warn("ag-grid: From ag-grid 1.9.0, now the getRows takes one parameter. See the documentation for details.")),setTimeout(function(){_this.cacheParams.datasource.getRows(params)},0)},VirtualPage.prototype.pageLoadFailed=function(){this.state=VirtualPage.STATE_FAILED;var event={success:!0,page:this};this.localEventService.dispatchEvent(VirtualPage.EVENT_LOAD_COMPLETE,event)},VirtualPage.prototype.populateWithRowData=function(rows){var _this=this;this.rowNodes.forEach(function(rowNode,index){var data=rows[index];if(utils_1.Utils.exists(data)){var indexOfRow=_this.pageNumber*_this.cacheParams.pageSize+index;rowNode.setDataAndId(data,indexOfRow.toString())}else rowNode.setDataAndId(void 0,void 0)})},VirtualPage.prototype.pageLoaded=function(version,rows,lastRow){version===this.version&&(this.state=VirtualPage.STATE_LOADED,this.populateWithRowData(rows));var event={success:!0,page:this,lastRow:lastRow};this.localEventService.dispatchEvent(VirtualPage.EVENT_LOAD_COMPLETE,event)},VirtualPage.EVENT_LOAD_COMPLETE="loadComplete",VirtualPage.STATE_DIRTY="dirty",VirtualPage.STATE_LOADING="loading",VirtualPage.STATE_LOADED="loaded",VirtualPage.STATE_FAILED="failed",__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],VirtualPage.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],VirtualPage.prototype,"context",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],VirtualPage.prototype,"init",null),VirtualPage}();exports.VirtualPage=VirtualPage},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(8),context_2=__webpack_require__(8),TemplateService=function(){function TemplateService(){this.templateCache={},this.waitingCallbacks={}}return TemplateService.prototype.getTemplate=function(url,callback){var templateFromCache=this.templateCache[url];if(templateFromCache)return templateFromCache;var callbackList=this.waitingCallbacks[url],that=this;if(!callbackList){callbackList=[],this.waitingCallbacks[url]=callbackList;var client=new XMLHttpRequest;client.onload=function(){that.handleHttpResult(this,url)},client.open("GET",url),client.send()}return callback&&callbackList.push(callback),null},TemplateService.prototype.handleHttpResult=function(httpResult,url){if(200!==httpResult.status||null===httpResult.response)return void console.warn("Unable to get template error "+httpResult.status+" - "+url);this.templateCache[url]=httpResult.response||httpResult.responseText;for(var callbacks=this.waitingCallbacks[url],i=0,callback;i<callbacks.length;i++)callback=callbacks[i],callback();if(this.$scope){var that=this;setTimeout(function(){that.$scope.$apply()},0)}},__decorate([context_2.Autowired("$scope"),__metadata("design:type",Object)],TemplateService.prototype,"$scope",void 0),TemplateService=__decorate([context_1.Bean("templateService"),__metadata("design:paramtypes",[])],TemplateService),TemplateService}();exports.TemplateService=TemplateService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(9),renderedCell_1=__webpack_require__(56),rowNode_1=__webpack_require__(29),gridOptionsWrapper_1=__webpack_require__(5),columnController_1=__webpack_require__(15),column_1=__webpack_require__(17),events_1=__webpack_require__(12),eventService_1=__webpack_require__(6),context_1=__webpack_require__(8),focusedCellController_1=__webpack_require__(38),constants_1=__webpack_require__(10),cellRendererService_1=__webpack_require__(70),cellRendererFactory_1=__webpack_require__(65),gridPanel_1=__webpack_require__(26),RenderedRow=function(){function RenderedRow(parentScope,rowRenderer,eBodyContainer,eFullWidthContainer,ePinnedLeftContainer,ePinnedRightContainer,node,rowIndex){this.eAllRowContainers=[],this.renderedCells={},this.destroyFunctions=[],this.initialised=!1,this.parentScope=parentScope,this.rowRenderer=rowRenderer,this.eBodyContainer=eBodyContainer,this.eFullWidthContainer=eFullWidthContainer,this.ePinnedLeftContainer=ePinnedLeftContainer,this.ePinnedRightContainer=ePinnedRightContainer,this.rowIndex=rowIndex,this.rowNode=node}return RenderedRow.prototype.setupRowContainers=function(){var isFullWidthCellFunc=this.gridOptionsWrapper.getIsFullWidthCellFunc(),isFullWidthCell=!!isFullWidthCellFunc&&isFullWidthCellFunc(this.rowNode),isGroupSpanningRow=this.rowNode.group&&this.gridOptionsWrapper.isGroupUseEntireRow();isFullWidthCell?this.setupFullWidthContainers():isGroupSpanningRow?this.setupFullWidthGroupContainers():this.setupNormalContainers()},RenderedRow.prototype.setupFullWidthContainers=function(){this.fullWidthRow=!0,this.fullWidthCellRenderer=this.gridOptionsWrapper.getFullWidthCellRenderer(),this.fullWidthCellRendererParams=this.gridOptionsWrapper.getFullWidthCellRendererParams(),utils_1.Utils.missing(this.fullWidthCellRenderer)&&console.warn("ag-Grid: you need to provide a fullWidthCellRenderer if using isFullWidthCell()"),this.eFullWidthRow=this.createRowContainer(this.eFullWidthContainer),this.gridOptionsWrapper.isForPrint()||this.addMouseWheelListenerToFullWidthRow()},RenderedRow.prototype.addMouseWheelListenerToFullWidthRow=function(){var _this=this,mouseWheelListener=this.gridPanel.genericMouseWheelListener.bind(this.gridPanel);this.eFullWidthRow.addEventListener("mousewheel",mouseWheelListener),this.eFullWidthRow.addEventListener("DOMMouseScroll",mouseWheelListener),this.destroyFunctions.push(function(){_this.eFullWidthRow.removeEventListener("mousewheel",mouseWheelListener),_this.eFullWidthRow.removeEventListener("DOMMouseScroll",mouseWheelListener)})},RenderedRow.prototype.setupFullWidthGroupContainers=function(){this.fullWidthRow=!0,this.fullWidthCellRenderer=this.gridOptionsWrapper.getGroupRowRenderer(),this.fullWidthCellRendererParams=this.gridOptionsWrapper.getGroupRowRendererParams(),this.fullWidthCellRenderer||(this.fullWidthCellRenderer=cellRendererFactory_1.CellRendererFactory.GROUP,this.fullWidthCellRendererParams={innerRenderer:this.gridOptionsWrapper.getGroupRowInnerRenderer()}),this.eFullWidthRow=this.createRowContainer(this.eFullWidthContainer)},RenderedRow.prototype.setupNormalContainers=function(){this.fullWidthRow=!1,this.eBodyRow=this.createRowContainer(this.eBodyContainer),this.gridOptionsWrapper.isForPrint()||(this.ePinnedLeftRow=this.createRowContainer(this.ePinnedLeftContainer),this.ePinnedRightRow=this.createRowContainer(this.ePinnedRightContainer))},RenderedRow.prototype.init=function(){this.setupRowContainers(),this.scope=this.createChildScopeOrNull(this.rowNode.data),this.fullWidthRow?this.refreshFullWidthComponent():this.refreshCellsIntoRow(),this.addGridClasses(),this.addStyleFromRowStyle(),this.addStyleFromRowStyleFunc(),this.addClassesFromRowClass(),this.addClassesFromRowClassFunc(),this.addRowIds(),this.setTopAndHeightCss(),this.addRowSelectedListener(),this.addCellFocusedListener(),this.addNodeDataChangedListener(),this.addColumnListener(),this.addHoverFunctionality(),this.gridOptionsWrapper.executeProcessRowPostCreateFunc({eRow:this.eBodyRow,ePinnedLeftRow:this.ePinnedLeftRow,ePinnedRightRow:this.ePinnedRightRow,node:this.rowNode,api:this.gridOptionsWrapper.getApi(),rowIndex:this.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}),this.addDataChangedListener(),this.initialised=!0},RenderedRow.prototype.addDataChangedListener=function(){var _this=this,dataChangedListener=function(){_this.addStyleFromRowStyleFunc(),_this.addClassesFromRowClass()};this.rowNode.addEventListener(rowNode_1.RowNode.EVENT_DATA_CHANGED,dataChangedListener),this.destroyFunctions.push(function(){return _this.rowNode.removeEventListener(rowNode_1.RowNode.EVENT_DATA_CHANGED,dataChangedListener)})},RenderedRow.prototype.angular1Compile=function(element){this.scope&&this.$compile(element)(this.scope)},RenderedRow.prototype.addColumnListener=function(){var _this=this,columnListener=this.onDisplayedColumnsChanged.bind(this),virtualListener=this.onVirtualColumnsChanged.bind(this),gridColumnsChangedListener=this.onGridColumnsChanged.bind(this);this.mainEventService.addEventListener(events_1.Events.EVENT_DISPLAYED_COLUMNS_CHANGED,columnListener),this.mainEventService.addEventListener(events_1.Events.EVENT_VIRTUAL_COLUMNS_CHANGED,virtualListener),this.mainEventService.addEventListener(events_1.Events.EVENT_COLUMN_RESIZED,columnListener),this.mainEventService.addEventListener(events_1.Events.EVENT_GRID_COLUMNS_CHANGED,gridColumnsChangedListener),this.destroyFunctions.push(function(){_this.mainEventService.removeEventListener(events_1.Events.EVENT_DISPLAYED_COLUMNS_CHANGED,columnListener),_this.mainEventService.removeEventListener(events_1.Events.EVENT_VIRTUAL_COLUMNS_CHANGED,virtualListener),_this.mainEventService.removeEventListener(events_1.Events.EVENT_COLUMN_RESIZED,columnListener),_this.mainEventService.removeEventListener(events_1.Events.EVENT_GRID_COLUMNS_CHANGED,gridColumnsChangedListener)})},RenderedRow.prototype.onDisplayedColumnsChanged=function(event){if(this.fullWidthRow){var columnPinned=event.getType()===events_1.Events.EVENT_COLUMN_PINNED;columnPinned&&this.refreshFullWidthComponent()}else this.refreshCellsIntoRow()},RenderedRow.prototype.onVirtualColumnsChanged=function(){this.fullWidthRow||this.refreshCellsIntoRow()},RenderedRow.prototype.onGridColumnsChanged=function(){var allRenderedCellIds=Object.keys(this.renderedCells);this.removeRenderedCells(allRenderedCellIds)},RenderedRow.prototype.refreshCellsIntoRow=function(){var _this=this,columns=this.columnController.getAllDisplayedVirtualColumns(),renderedCellKeys=Object.keys(this.renderedCells);columns.forEach(function(column){var renderedCell=_this.getOrCreateCell(column);_this.ensureCellInCorrectRow(renderedCell),utils_1.Utils.removeFromArray(renderedCellKeys,column.getColId())}),this.removeRenderedCells(renderedCellKeys)},RenderedRow.prototype.removeRenderedCells=function(colIds){var _this=this;colIds.forEach(function(key){var renderedCell=_this.renderedCells[key];utils_1.Utils.missing(renderedCell)||(renderedCell.getParentRow()&&(renderedCell.getParentRow().removeChild(renderedCell.getGui()),renderedCell.setParentRow(null)),renderedCell.destroy(),_this.renderedCells[key]=null)})},RenderedRow.prototype.ensureCellInCorrectRow=function(renderedCell){var eRowGui=renderedCell.getGui(),column=renderedCell.getColumn(),rowWeWant;switch(column.getPinned()){case column_1.Column.PINNED_LEFT:rowWeWant=this.ePinnedLeftRow;break;case column_1.Column.PINNED_RIGHT:rowWeWant=this.ePinnedRightRow;break;default:rowWeWant=this.eBodyRow;}var oldRow=renderedCell.getParentRow(),inWrongRow=oldRow!==rowWeWant;inWrongRow&&(oldRow&&oldRow.removeChild(eRowGui),rowWeWant.appendChild(eRowGui),renderedCell.setParentRow(rowWeWant))},RenderedRow.prototype.getOrCreateCell=function(column){var colId=column.getColId();if(this.renderedCells[colId])return this.renderedCells[colId];var renderedCell=new renderedCell_1.RenderedCell(column,this.rowNode,this.rowIndex,this.scope,this);return this.context.wireBean(renderedCell),this.renderedCells[colId]=renderedCell,this.angular1Compile(renderedCell.getGui()),renderedCell},RenderedRow.prototype.onRowSelected=function(){var selected=this.rowNode.isSelected();this.eAllRowContainers.forEach(function(row){return utils_1.Utils.addOrRemoveCssClass(row,"ag-row-selected",selected)})},RenderedRow.prototype.addRowSelectedListener=function(){var _this=this,rowSelectedListener=this.onRowSelected.bind(this);this.rowNode.addEventListener(rowNode_1.RowNode.EVENT_ROW_SELECTED,rowSelectedListener),this.destroyFunctions.push(function(){_this.rowNode.removeEventListener(rowNode_1.RowNode.EVENT_ROW_SELECTED,rowSelectedListener)})},RenderedRow.prototype.addHoverFunctionality=function(){var _this=this,onGuiMouseEnter=this.rowNode.onMouseEnter.bind(this.rowNode),onGuiMouseLeave=this.rowNode.onMouseLeave.bind(this.rowNode);this.eAllRowContainers.forEach(function(eRow){eRow.addEventListener("mouseenter",onGuiMouseEnter),eRow.addEventListener("mouseleave",onGuiMouseLeave)});var onNodeMouseEnter=this.addHoverClass.bind(this,!0),onNodeMouseLeave=this.addHoverClass.bind(this,!1);this.rowNode.addEventListener(rowNode_1.RowNode.EVENT_MOUSE_ENTER,onNodeMouseEnter),this.rowNode.addEventListener(rowNode_1.RowNode.EVENT_MOUSE_LEAVE,onNodeMouseLeave),this.destroyFunctions.push(function(){_this.eAllRowContainers.forEach(function(eRow){eRow.removeEventListener("mouseenter",onGuiMouseEnter),eRow.removeEventListener("mouseleave",onGuiMouseLeave)}),_this.rowNode.removeEventListener(rowNode_1.RowNode.EVENT_MOUSE_ENTER,onNodeMouseEnter),_this.rowNode.removeEventListener(rowNode_1.RowNode.EVENT_MOUSE_LEAVE,onNodeMouseLeave)})},RenderedRow.prototype.addHoverClass=function(hover){this.eAllRowContainers.forEach(function(eRow){return utils_1.Utils.addOrRemoveCssClass(eRow,"ag-row-hover",hover)})},RenderedRow.prototype.addCellFocusedListener=function(){var _this=this,rowFocusedLastTime=null,rowFocusedListener=function(){var rowFocused=_this.focusedCellController.isRowFocused(_this.rowIndex,_this.rowNode.floating);rowFocused!==rowFocusedLastTime&&(_this.eAllRowContainers.forEach(function(row){return utils_1.Utils.addOrRemoveCssClass(row,"ag-row-focus",rowFocused)}),_this.eAllRowContainers.forEach(function(row){return utils_1.Utils.addOrRemoveCssClass(row,"ag-row-no-focus",!rowFocused)}),rowFocusedLastTime=rowFocused)};this.mainEventService.addEventListener(events_1.Events.EVENT_CELL_FOCUSED,rowFocusedListener),this.destroyFunctions.push(function(){_this.mainEventService.removeEventListener(events_1.Events.EVENT_CELL_FOCUSED,rowFocusedListener)}),rowFocusedListener()},RenderedRow.prototype.forEachRenderedCell=function(callback){utils_1.Utils.iterateObject(this.renderedCells,function(key,renderedCell){renderedCell&&callback(renderedCell)})},RenderedRow.prototype.addNodeDataChangedListener=function(){var _this=this,nodeDataChangedListener=function(){_this.forEachRenderedCell(function(renderedCell){return renderedCell.refreshCell(!1,!0)}),_this.onRowSelected()};this.rowNode.addEventListener(rowNode_1.RowNode.EVENT_DATA_CHANGED,nodeDataChangedListener),this.destroyFunctions.push(function(){_this.rowNode.removeEventListener(rowNode_1.RowNode.EVENT_DATA_CHANGED,nodeDataChangedListener)})},RenderedRow.prototype.onMouseEvent=function(eventName,mouseEvent,cell){var renderedCell=this.renderedCells[cell.column.getId()];renderedCell&&renderedCell.onMouseEvent(eventName,mouseEvent)},RenderedRow.prototype.setTopAndHeightCss=function(){if(!this.gridOptionsWrapper.isForPrint()){var topPx=this.rowNode.rowTop+"px";this.eAllRowContainers.forEach(function(row){return row.style.top=topPx})}var heightPx=this.rowNode.rowHeight+"px";this.eAllRowContainers.forEach(function(row){return row.style.height=heightPx})},RenderedRow.prototype.addRowIds=function(){var rowStr=this.rowIndex.toString();if(this.rowNode.floating===constants_1.Constants.FLOATING_BOTTOM?rowStr="fb-"+rowStr:this.rowNode.floating===constants_1.Constants.FLOATING_TOP&&(rowStr="ft-"+rowStr),this.eAllRowContainers.forEach(function(row){return row.setAttribute("row",rowStr)}),"function"==typeof this.gridOptionsWrapper.getBusinessKeyForNodeFunc()){var businessKey=this.gridOptionsWrapper.getBusinessKeyForNodeFunc()(this.rowNode);("string"==typeof businessKey||"number"==typeof businessKey)&&this.eAllRowContainers.forEach(function(row){return row.setAttribute("row-id",businessKey)})}},RenderedRow.prototype.addEventListener=function(eventType,listener){this.renderedRowEventService||(this.renderedRowEventService=new eventService_1.EventService),this.renderedRowEventService.addEventListener(eventType,listener)},RenderedRow.prototype.removeEventListener=function(eventType,listener){this.renderedRowEventService.removeEventListener(eventType,listener)},RenderedRow.prototype.getRenderedCellForColumn=function(column){return this.renderedCells[column.getColId()]},RenderedRow.prototype.getCellForCol=function(column){var renderedCell=this.renderedCells[column.getColId()];return renderedCell?renderedCell.getGui():null},RenderedRow.prototype.destroy=function(){this.destroyScope(),this.destroyFullWidthComponent(),this.forEachRenderedCell(function(renderedCell){return renderedCell.destroy()}),this.destroyFunctions.forEach(function(func){return func()}),this.renderedRowEventService&&this.renderedRowEventService.dispatchEvent(RenderedRow.EVENT_RENDERED_ROW_REMOVED,{node:this.rowNode})},RenderedRow.prototype.destroyScope=function(){this.scope&&(this.scope.$destroy(),this.scope=null)},RenderedRow.prototype.isDataInList=function(rows){return 0<=rows.indexOf(this.rowNode.data)},RenderedRow.prototype.isGroup=function(){return!0===this.rowNode.group},RenderedRow.prototype.refreshFullWidthComponent=function(){this.destroyFullWidthComponent(),this.createFullWidthComponent()},RenderedRow.prototype.createFullWidthComponent=function(){var params=this.createFullWidthParams(this.eFullWidthRow);this.fullWidthRowComponent=this.cellRendererService.useCellRenderer(this.fullWidthCellRenderer,this.eFullWidthRow,params),this.angular1Compile(this.eFullWidthRow)},RenderedRow.prototype.destroyFullWidthComponent=function(){this.fullWidthRowComponent&&this.fullWidthRowComponent.destroy&&(this.fullWidthRowComponent.destroy(),this.fullWidthRowComponent=null),utils_1.Utils.removeAllChildren(this.eFullWidthRow)},RenderedRow.prototype.createFullWidthParams=function(eRow){var params={data:this.rowNode.data,node:this.rowNode,$scope:this.scope,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),eGridCell:eRow,eParentOfValue:eRow,addRenderedRowListener:this.addEventListener.bind(this),colDef:{cellRenderer:this.fullWidthCellRenderer,cellRendererParams:this.fullWidthCellRendererParams}};return this.fullWidthCellRendererParams&&utils_1.Utils.assign(params,this.fullWidthCellRendererParams),params},RenderedRow.prototype.createGroupSpanningEntireRowCell=function(padding){var eRow=document.createElement("span");if(!padding){var params=this.createFullWidthParams(eRow),cellComponent=this.cellRendererService.useCellRenderer(this.fullWidthCellRenderer,eRow,params);cellComponent&&cellComponent.destroy&&this.destroyFunctions.push(function(){return cellComponent.destroy()})}return this.rowNode.footer?utils_1.Utils.addCssClass(eRow,"ag-footer-cell-entire-row"):utils_1.Utils.addCssClass(eRow,"ag-group-cell-entire-row"),eRow},RenderedRow.prototype.createChildScopeOrNull=function(data){if(this.gridOptionsWrapper.isAngularCompileRows()){var newChildScope=this.parentScope.$new();return newChildScope.data=data,newChildScope.rowNode=this.rowNode,newChildScope.context=this.gridOptionsWrapper.getContext(),newChildScope}return null},RenderedRow.prototype.addStyleFromRowStyle=function(){var rowStyle=this.gridOptionsWrapper.getRowStyle();rowStyle&&("function"==typeof rowStyle?console.log("ag-Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead"):this.eAllRowContainers.forEach(function(row){return utils_1.Utils.addStylesToElement(row,rowStyle)}))},RenderedRow.prototype.addStyleFromRowStyleFunc=function(){var rowStyleFunc=this.gridOptionsWrapper.getRowStyleFunc();if(rowStyleFunc){var params={data:this.rowNode.data,node:this.rowNode,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext(),$scope:this.scope},cssToUseFromFunc=rowStyleFunc(params);this.eAllRowContainers.forEach(function(row){return utils_1.Utils.addStylesToElement(row,cssToUseFromFunc)})}},RenderedRow.prototype.createParams=function(){var params={node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowIndex,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()};return params},RenderedRow.prototype.createEvent=function(event,eventSource){var agEvent=this.createParams();return agEvent.event=event,agEvent.eventSource=eventSource,agEvent},RenderedRow.prototype.createRowContainer=function(eParent){var eRow=document.createElement("div"),rowClickListener=this.onRowClick.bind(this),rowDblClickListener=this.onRowDblClick.bind(this);return eRow.addEventListener("click",rowClickListener),eRow.addEventListener("dblclick",rowDblClickListener),eParent.appendChild(eRow),this.eAllRowContainers.push(eRow),this.destroyFunctions.push(function(){eRow.removeEventListener("click",rowClickListener),eRow.removeEventListener("dblclick",rowDblClickListener),eParent.removeChild(eRow)}),eRow},RenderedRow.prototype.onRowDblClick=function(event){var agEvent=this.createEvent(event,this);this.mainEventService.dispatchEvent(events_1.Events.EVENT_ROW_DOUBLE_CLICKED,agEvent)},RenderedRow.prototype.onRowClick=function(event){var agEvent=this.createEvent(event,this);this.mainEventService.dispatchEvent(events_1.Events.EVENT_ROW_CLICKED,agEvent);var multiSelectKeyPressed=event.ctrlKey||event.metaKey,shiftKeyPressed=event.shiftKey;if(!this.rowNode.group&&!this.rowNode.floating){var gridOptionsWrapper=this.gridOptionsWrapper;!gridOptionsWrapper.isRowSelection()||gridOptionsWrapper.isSuppressRowClickSelection()||(this.rowNode.isSelected()?multiSelectKeyPressed?gridOptionsWrapper.isRowDeselection()&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!0}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!multiSelectKeyPressed,rangeSelect:shiftKeyPressed}))}},RenderedRow.prototype.getRowNode=function(){return this.rowNode},RenderedRow.prototype.refreshCells=function(colIds,animate){if(colIds){var columnsToRefresh=this.columnController.getGridColumns(colIds);this.forEachRenderedCell(function(renderedCell){var colForCel=renderedCell.getColumn();0<=columnsToRefresh.indexOf(colForCel)&&renderedCell.refreshCell(animate)})}},RenderedRow.prototype.addClassesFromRowClassFunc=function(){var _this=this,classes=[],gridOptionsRowClassFunc=this.gridOptionsWrapper.getRowClassFunc();if(gridOptionsRowClassFunc){var params={node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowIndex,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},classToUseFromFunc=gridOptionsRowClassFunc(params);classToUseFromFunc&&("string"==typeof classToUseFromFunc?classes.push(classToUseFromFunc):Array.isArray(classToUseFromFunc)&&classToUseFromFunc.forEach(function(classItem){classes.push(classItem)}))}classes.forEach(function(classStr){_this.eAllRowContainers.forEach(function(row){return utils_1.Utils.addCssClass(row,classStr)})})},RenderedRow.prototype.addGridClasses=function(){var _this=this,classes=[];classes.push("ag-row"),classes.push("ag-row-no-focus"),classes.push(0==this.rowIndex%2?"ag-row-even":"ag-row-odd"),this.rowNode.isSelected()&&classes.push("ag-row-selected"),this.rowNode.group?(classes.push("ag-row-group"),classes.push("ag-row-level-"+this.rowNode.level),!this.rowNode.footer&&this.rowNode.expanded&&classes.push("ag-row-group-expanded"),!this.rowNode.footer&&!this.rowNode.expanded&&classes.push("ag-row-group-contracted"),this.rowNode.footer&&classes.push("ag-row-footer")):this.rowNode.parent?classes.push("ag-row-level-"+(this.rowNode.parent.level+1)):classes.push("ag-row-level-0"),this.fullWidthRow&&classes.push("ag-full-width-row"),classes.forEach(function(classStr){_this.eAllRowContainers.forEach(function(row){return utils_1.Utils.addCssClass(row,classStr)})})},RenderedRow.prototype.addClassesFromRowClass=function(){var _this=this,classes=[],gridOptionsRowClass=this.gridOptionsWrapper.getRowClass();gridOptionsRowClass&&("function"==typeof gridOptionsRowClass?console.warn("ag-Grid: rowClass should not be a function, please use getRowClass instead"):"string"==typeof gridOptionsRowClass?classes.push(gridOptionsRowClass):Array.isArray(gridOptionsRowClass)&&gridOptionsRowClass.forEach(function(classItem){classes.push(classItem)})),classes.forEach(function(classStr){_this.eAllRowContainers.forEach(function(row){return utils_1.Utils.addCssClass(row,classStr)})})},RenderedRow.EVENT_RENDERED_ROW_REMOVED="renderedRowRemoved",__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],RenderedRow.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],RenderedRow.prototype,"columnController",void 0),__decorate([context_1.Autowired("$compile"),__metadata("design:type",Object)],RenderedRow.prototype,"$compile",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],RenderedRow.prototype,"mainEventService",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],RenderedRow.prototype,"context",void 0),__decorate([context_1.Autowired("focusedCellController"),__metadata("design:type",focusedCellController_1.FocusedCellController)],RenderedRow.prototype,"focusedCellController",void 0),__decorate([context_1.Autowired("cellRendererService"),__metadata("design:type",cellRendererService_1.CellRendererService)],RenderedRow.prototype,"cellRendererService",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],RenderedRow.prototype,"gridPanel",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],RenderedRow.prototype,"init",null),RenderedRow}();exports.RenderedRow=RenderedRow},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(9),column_1=__webpack_require__(17),rowNode_1=__webpack_require__(29),gridOptionsWrapper_1=__webpack_require__(5),expressionService_1=__webpack_require__(20),rowRenderer_1=__webpack_require__(25),templateService_1=__webpack_require__(54),columnController_1=__webpack_require__(15),valueService_1=__webpack_require__(31),eventService_1=__webpack_require__(6),constants_1=__webpack_require__(10),events_1=__webpack_require__(12),context_1=__webpack_require__(8),gridApi_1=__webpack_require__(13),focusedCellController_1=__webpack_require__(38),gridCell_1=__webpack_require__(36),focusService_1=__webpack_require__(57),cellEditorFactory_1=__webpack_require__(58),component_1=__webpack_require__(49),popupService_1=__webpack_require__(46),cellRendererFactory_1=__webpack_require__(65),cellRendererService_1=__webpack_require__(70),valueFormatterService_1=__webpack_require__(71),checkboxSelectionComponent_1=__webpack_require__(72),setLeftFeature_1=__webpack_require__(73),methodNotImplementedException_1=__webpack_require__(74),verticalDragService_1=__webpack_require__(42),RenderedCell=function(_super){function RenderedCell(column,node,rowIndex,scope,renderedRow){_super.call(this,"<div/>"),this.firstRightPinned=!1,this.lastLeftPinned=!1,this.eGridCell=this.getGui(),this.column=column,this.node=node,this.rowIndex=rowIndex,this.scope=scope,this.renderedRow=renderedRow,this.gridCell=new gridCell_1.GridCell(rowIndex,node.floating,column)}return __extends(RenderedCell,_super),RenderedCell.prototype.destroy=function(){_super.prototype.destroy.call(this),this.cellEditor&&this.cellEditor.destroy&&this.cellEditor.destroy(),this.cellRenderer&&this.cellRenderer.destroy&&this.cellRenderer.destroy()},RenderedCell.prototype.setPinnedClasses=function(){var _this=this,firstPinnedChangedListener=function(){_this.firstRightPinned!==_this.column.isFirstRightPinned()&&(_this.firstRightPinned=_this.column.isFirstRightPinned(),utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-first-right-pinned",_this.firstRightPinned)),_this.lastLeftPinned!==_this.column.isLastLeftPinned()&&(_this.lastLeftPinned=_this.column.isLastLeftPinned(),utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-last-left-pinned",_this.lastLeftPinned))};this.column.addEventListener(column_1.Column.EVENT_FIRST_RIGHT_PINNED_CHANGED,firstPinnedChangedListener),this.column.addEventListener(column_1.Column.EVENT_LAST_LEFT_PINNED_CHANGED,firstPinnedChangedListener),this.addDestroyFunc(function(){_this.column.removeEventListener(column_1.Column.EVENT_FIRST_RIGHT_PINNED_CHANGED,firstPinnedChangedListener),_this.column.removeEventListener(column_1.Column.EVENT_LAST_LEFT_PINNED_CHANGED,firstPinnedChangedListener)}),firstPinnedChangedListener()},RenderedCell.prototype.getParentRow=function(){return this.eParentRow},RenderedCell.prototype.setParentRow=function(eParentRow){this.eParentRow=eParentRow},RenderedCell.prototype.calculateCheckboxSelection=function(){if(this.node.floating)return!1;var colDef=this.column.getColDef();if("boolean"==typeof colDef.checkboxSelection)return colDef.checkboxSelection;var selectionFunc;if("function"==typeof colDef.checkboxSelection&&(selectionFunc=colDef.checkboxSelection),!selectionFunc&&this.gridOptionsWrapper.getCheckboxSelection()&&(selectionFunc=this.gridOptionsWrapper.getCheckboxSelection()),selectionFunc){var params=this.createParams();return selectionFunc(params)}return!1},RenderedCell.prototype.getColumn=function(){return this.column},RenderedCell.prototype.getValue=function(){var data=this.getDataForRow();return this.valueService.getValueUsingSpecificData(this.column,data,this.node)},RenderedCell.prototype.getDataForRow=function(){if(this.node.footer)return this.node.data;if(this.node.group){var footersEnabled=this.gridOptionsWrapper.isGroupIncludeFooter(),suppressHideHeader=this.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.node.expanded&&footersEnabled&&!suppressHideHeader?void 0:this.node.data}return this.node.data},RenderedCell.prototype.addRangeSelectedListener=function(){var _this=this;if(this.rangeController){var rangeCountLastTime=0,rangeSelectedListener=function(){if("$$row_number"==_this.column.getColId()){var isRowSelected=_this.rangeController.isRowSelected(_this.rowIndex,_this.node.floating);isRowSelected||(isRowSelected=_this.rangeController.isCellInAnyRange(_this.gridCell)),utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-row-selected",isRowSelected);var anyRowCellSelected=_this.rangeController.isRowInAnyRange(_this.rowIndex,_this.node.floating);utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-row-cell-selected",anyRowCellSelected)}else{var rangeCount=_this.rangeController.getCellRangeCount(_this.gridCell);rangeCountLastTime!==rangeCount&&(utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-range-selected",0!==rangeCount),utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-range-selected-1",1===rangeCount),utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-range-selected-2",2===rangeCount),utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-range-selected-3",3===rangeCount),utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-range-selected-4",4<=rangeCount),rangeCountLastTime=rangeCount)}};this.eventService.addEventListener(events_1.Events.EVENT_RANGE_SELECTION_CHANGED,rangeSelectedListener),this.addDestroyFunc(function(){_this.eventService.removeEventListener(events_1.Events.EVENT_RANGE_SELECTION_CHANGED,rangeSelectedListener)}),rangeSelectedListener()}},RenderedCell.prototype.addHighlightListener=function(){var _this=this;if(this.rangeController){var clipboardListener=function(event){var cellId=_this.gridCell.createId(),shouldFlash=event.cells[cellId];shouldFlash&&_this.animateCellWithHighlight()};this.eventService.addEventListener(events_1.Events.EVENT_FLASH_CELLS,clipboardListener),this.addDestroyFunc(function(){_this.eventService.removeEventListener(events_1.Events.EVENT_FLASH_CELLS,clipboardListener)})}},RenderedCell.prototype.addChangeListener=function(){var _this=this;this.addDestroyableEventListener(this.node,rowNode_1.RowNode.EVENT_CELL_CHANGED,function cellChangeListener(event){event.column===_this.column&&(_this.refreshCell(),_this.animateCellWithDataChanged())})},RenderedCell.prototype.animateCellWithDataChanged=function(){(this.gridOptionsWrapper.isEnableCellChangeFlash()||this.column.getColDef().enableCellChangeFlash)&&this.animateCell("data-changed")},RenderedCell.prototype.animateCellWithHighlight=function(){this.animateCell("highlight")},RenderedCell.prototype.animateCell=function(cssName){var _this=this,fullName="ag-cell-"+cssName,animationFullName="ag-cell-"+cssName+"-animation";utils_1.Utils.addCssClass(this.eGridCell,fullName),utils_1.Utils.removeCssClass(this.eGridCell,animationFullName),setTimeout(function(){utils_1.Utils.removeCssClass(_this.eGridCell,fullName),utils_1.Utils.addCssClass(_this.eGridCell,animationFullName),setTimeout(function(){utils_1.Utils.removeCssClass(_this.eGridCell,animationFullName)},1e3)},500)},RenderedCell.prototype.addCellFocusedListener=function(){var _this=this,cellFocusedLastTime=null,cellFocusedListener=function(event){var cellFocused=_this.focusedCellController.isCellFocused(_this.gridCell);cellFocused!==cellFocusedLastTime&&(utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-focus",cellFocused),utils_1.Utils.addOrRemoveCssClass(_this.eGridCell,"ag-cell-no-focus",!cellFocused),cellFocusedLastTime=cellFocused),cellFocused&&event&&event.forceBrowserFocus&&_this.eGridCell.focus(),_this.editingCell&&!cellFocused&&_this.stopEditing()};this.eventService.addEventListener(events_1.Events.EVENT_CELL_FOCUSED,cellFocusedListener),this.addDestroyFunc(function(){_this.eventService.removeEventListener(events_1.Events.EVENT_CELL_FOCUSED,cellFocusedListener)}),cellFocusedListener()},RenderedCell.prototype.setWidthOnCell=function(){var _this=this,widthChangedListener=function(){_this.eGridCell.style.width=_this.column.getActualWidth()+"px"};this.column.addEventListener(column_1.Column.EVENT_WIDTH_CHANGED,widthChangedListener),this.addDestroyFunc(function(){_this.column.removeEventListener(column_1.Column.EVENT_WIDTH_CHANGED,widthChangedListener)}),widthChangedListener()},RenderedCell.prototype.init=function(){this.value=this.getValue(),this.checkboxSelection=this.calculateCheckboxSelection(),this.setWidthOnCell(),this.setPinnedClasses(),this.addRangeSelectedListener(),this.addChangeListener(),this.addCellFocusedListener(),this.addKeyDownListener(),this.addKeyPressListener();var setLeftFeature=new setLeftFeature_1.SetLeftFeature(this.column,this.eGridCell);this.addDestroyFunc(setLeftFeature.destroy.bind(setLeftFeature)),this.gridOptionsWrapper.isSuppressCellSelection()||this.eGridCell.setAttribute("tabindex","-1"),this.addClasses(),this.setInlineEditingClass(),this.createParentOfValue(),this.populateCell(),this.column.getColDef().enableRowResizing&&this.gridOptionsWrapper.getOnRowsResized()&&this.setupResize()},RenderedCell.prototype.setupResize=function(){var el=document.createElement("div");el.className="ag-row-resize-handler",this.resizer=el,this.resizer.addEventListener("dblclick",this.onDblclick.bind(this)),this.eBody="top"==this.node.floating?this.rowRenderer.eFloatingTopPinnedLeftContainer:this.rowRenderer.ePinnedLeftColsViewport,this.dragService.addDragHandling({eDraggableElement:this.resizer,eBody:this.eBody,cursor:"row-resize",startAfterPixels:0,onDragStart:this.onResizeDragStart.bind(this),onDragging:this.onResizeDragging.bind(this),onDragEnd:this.onResizeDragEnd.bind(this)}),this.getGui().appendChild(this.resizer)},RenderedCell.prototype.onDblclick=function(){var height=this.gridOptionsWrapper.getDefaultRowHeight()||21;this.gridOptionsWrapper.getOnRowsResized().bind(this)(height)},RenderedCell.prototype.onResizeDragStart=function(e){var draggableElRect=this.resizer.getBoundingClientRect(),rootRect=this.eBody.getBoundingClientRect(),el=document.createElement("div");el.style.width=draggableElRect.width+"px",this.eResizeHandler=document.createElement("div"),this.eResizeHandler.className="ag-row-resize-ghost-handler",this.eResizeHandler.appendChild(el),"top"==this.node.floating?document.querySelector(".ag-floating-top").appendChild(this.eResizeHandler):document.querySelector(".ag-body").appendChild(this.eResizeHandler),this.eResizeHandler.style.top=draggableElRect.top-rootRect.top-2+"px",e.stopPropagation()},RenderedCell.prototype.onResizeDragging=function(dragChange,finished,moveEvent){var height=this.node.rowHeight+dragChange,rootRect=this.eBody.getBoundingClientRect(),bodyRootRect=this.rowRenderer.ePinnedLeftColsViewport.getBoundingClientRect(),handlerOffset=4,top;moveEvent.clientY>bodyRootRect.bottom-handlerOffset?(top=bodyRootRect.bottom-bodyRootRect.top-2*handlerOffset,"top"==this.node.floating&&(top+=rootRect.height),top+="px"):moveEvent.clientY<rootRect.top+handlerOffset/2&&height>this.gridOptionsWrapper.getDefaultRowHeight()+handlerOffset?top=-handlerOffset/2+"px":height>this.gridOptionsWrapper.getDefaultRowHeight()+handlerOffset?top=moveEvent.clientY-rootRect.top-handlerOffset+"px":top=this.getGui().getBoundingClientRect().top+this.gridOptionsWrapper.getDefaultRowHeight()-rootRect.top-2*handlerOffset+"px",this.eResizeHandler.style.top=top,moveEvent.stopPropagation()},RenderedCell.prototype.onResizeDragEnd=function(dragChange){var height=this.node.rowHeight+dragChange;if(this.eResizeHandler.remove(),dragChange){var defaultHeight=this.gridOptionsWrapper.getDefaultRowHeight()||21;height<defaultHeight&&(height=defaultHeight),this.gridOptionsWrapper.getOnRowsResized().bind(this)(height)}},(RenderedCell.prototype.onEnterKeyDown=function(){this.editingCell?(this.stopEditing(),this.focusCell(!0)):this.startEditingIfEnabled(constants_1.Constants.KEY_ENTER)},RenderedCell.prototype.onF2KeyDown=function(){this.editingCell||this.startEditingIfEnabled(constants_1.Constants.KEY_F2)},RenderedCell.prototype.onEscapeKeyDown=function(){this.editingCell&&(this.stopEditing(!0),this.focusCell(!0))},RenderedCell.prototype.onPopupEditorClosed=function(){this.editingCell&&(this.stopEditing(!0),this.focusedCellController.isCellFocused(this.gridCell)&&this.focusCell(!0))},RenderedCell.prototype.onTabKeyDown=function(event){var editNextCell;this.editingCell?(this.stopEditing(),editNextCell=!0):editNextCell=!1;var foundCell=this.rowRenderer.moveFocusToNextCell(this.rowIndex,this.column,this.node.floating,event.shiftKey,editNextCell);foundCell&&event.preventDefault()},RenderedCell.prototype.onBackspaceOrDeleteKeyPressed=function(key){this.editingCell||this.startEditingIfEnabled(key)},RenderedCell.prototype.onSpaceKeyPressed=function(event){if(!this.editingCell&&this.gridOptionsWrapper.isRowSelection()){var selected=this.node.isSelected();this.node.setSelected(!selected)}event.preventDefault()},RenderedCell.prototype.onNavigationKeyPressed=function(event,key){this.editingCell&&this.stopEditing(),this.rowRenderer.navigateToNextCell(event,key,this.rowIndex,this.column,this.node.floating),event.preventDefault()},RenderedCell.prototype.addKeyPressListener=function(){var _this=this,keyPressListener=function(event){var eventTarget=utils_1.Utils.getTarget(event),eventOnChildComponent=eventTarget!==_this.getGui();if(!eventOnChildComponent&&!_this.editingCell){var pressedChar=_StringfromCharCode2(event.charCode);" "===pressedChar?_this.onSpaceKeyPressed(event):0<=RenderedCell.PRINTABLE_CHARACTERS.indexOf(pressedChar)&&(_this.startEditingIfEnabled(null,pressedChar),event.preventDefault())}};this.eGridCell.addEventListener("keypress",keyPressListener),this.addDestroyFunc(function(){_this.eGridCell.removeEventListener("keypress",keyPressListener)})},RenderedCell.prototype.onKeyDown=function(event){var key=event.which||event.keyCode;key===constants_1.Constants.KEY_ENTER?this.onEnterKeyDown():key===constants_1.Constants.KEY_F2?this.onF2KeyDown():key===constants_1.Constants.KEY_ESCAPE?this.onEscapeKeyDown():key===constants_1.Constants.KEY_TAB?this.onTabKeyDown(event):key===constants_1.Constants.KEY_BACKSPACE||key===constants_1.Constants.KEY_DELETE?this.onBackspaceOrDeleteKeyPressed(key):key===constants_1.Constants.KEY_DOWN||key===constants_1.Constants.KEY_UP||key===constants_1.Constants.KEY_RIGHT||key===constants_1.Constants.KEY_LEFT?this.onNavigationKeyPressed(event,key):void 0},RenderedCell.prototype.addKeyDownListener=function(){var _this=this,editingKeyListener=this.onKeyDown.bind(this);this.eGridCell.addEventListener("keydown",editingKeyListener),this.addDestroyFunc(function(){_this.eGridCell.removeEventListener("keydown",editingKeyListener)})},RenderedCell.prototype.createCellEditorParams=function(keyPress,charPress){var params={value:this.getValue(),keyPress:keyPress,charPress:charPress,column:this.column,node:this.node,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.eGridCell},colDef=this.column.getColDef();return colDef.cellEditorParams&&utils_1.Utils.assign(params,colDef.cellEditorParams),params},RenderedCell.prototype.createCellEditor=function(keyPress,charPress){var params=this.createCellEditorParams(keyPress,charPress),cellEditor=this.cellEditorFactory.createCellEditor(this.column.getCellEditor(),params);return cellEditor},RenderedCell.prototype.stopEditingAndFocus=function(){this.stopEditing(),this.focusCell(!0)},RenderedCell.prototype.startEditingIfEnabled=function(keyPress,charPress){if(this.isCellEditable()){var cellEditor=this.createCellEditor(keyPress,charPress);return cellEditor.isCancelBeforeStart&&cellEditor.isCancelBeforeStart()?void(cellEditor.destroy&&cellEditor.destroy()):cellEditor.getGui?void(this.cellEditor=cellEditor,this.editingCell=!0,this.cellEditorInPopup=this.cellEditor.isPopup&&this.cellEditor.isPopup(),this.setInlineEditingClass(),this.cellEditorInPopup?this.addPopupCellEditor():this.addInCellEditor(),cellEditor.afterGuiAttached&&cellEditor.afterGuiAttached()):(console.warn("ag-Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void(cellEditor.render&&console.warn("ag-Grid: we found 'render' on the component, are you trying to set a React renderer but added it as colDef.cellEditor instead of colDef.cellEditorFmk?")))}},RenderedCell.prototype.addInCellEditor=function(){utils_1.Utils.removeAllChildren(this.eGridCell),this.eGridCell.appendChild(this.cellEditor.getGui()),this.gridOptionsWrapper.isAngularCompileRows()&&this.$compile(this.eGridCell)(this.scope)},RenderedCell.prototype.addPopupCellEditor=function(){var _this=this,ePopupGui=this.cellEditor.getGui();this.hideEditorPopup=this.popupService.addAsModalPopup(ePopupGui,!0,function(){_this.editingCell&&_this.onPopupEditorClosed()}),this.popupService.positionPopupOverComponent({eventSource:this.eGridCell,ePopup:ePopupGui,keepWithinBounds:!0}),this.gridOptionsWrapper.isAngularCompileRows()&&this.$compile(ePopupGui)(this.scope)},RenderedCell.prototype.focusCell=function(forceBrowserFocus){this.focusedCellController.setFocusedCell(this.rowIndex,this.column,this.node.floating,forceBrowserFocus)},RenderedCell.prototype.stopEditing=function(cancel){if(void 0===cancel&&(cancel=!1),!!this.editingCell){this.editingCell=!1;var cancelAfterEnd=this.cellEditor.isCancelAfterEnd&&this.cellEditor.isCancelAfterEnd(),acceptNewValue=!cancel&&!cancelAfterEnd;if(acceptNewValue){var newValue=this.cellEditor.getValue();this.valueService.setValue(this.node,this.column,newValue),this.value=this.getValue()}this.cellEditor.destroy&&this.cellEditor.destroy(),this.cellEditorInPopup?(this.hideEditorPopup(),this.hideEditorPopup=null):(utils_1.Utils.removeAllChildren(this.eGridCell),this.checkboxSelection?this.eGridCell.appendChild(this.eCellWrapper):this.cellRenderer&&this.eGridCell.appendChild(this.cellRenderer.getGui())),this.setInlineEditingClass(),this.refreshCell()}},RenderedCell.prototype.createParams=function(){var params={node:this.node,data:this.node.data,value:this.value,rowIndex:this.rowIndex,colDef:this.column.getColDef(),$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridApi,columnApi:this.columnApi,eGridCell:this.eGridCell};return params},RenderedCell.prototype.createEvent=function(event){var agEvent=this.createParams();return agEvent.event=event,agEvent},RenderedCell.prototype.isCellEditable=function(){return!this.editingCell&&!this.node.group&&this.column.isCellEditable(this.node)},RenderedCell.prototype.onMouseEvent=function(eventName,mouseEvent){"click"===eventName?this.onCellClicked(mouseEvent):"mousedown"===eventName?this.onMouseDown(mouseEvent):"dblclick"===eventName?this.onCellDoubleClicked(mouseEvent):"contextmenu"===eventName?this.onContextMenu(mouseEvent):void 0},RenderedCell.prototype.onContextMenu=function(mouseEvent){if(!mouseEvent.metaKey){var colDef=this.column.getColDef(),agEvent=this.createEvent(mouseEvent);this.eventService.dispatchEvent(events_1.Events.EVENT_CELL_CONTEXT_MENU,agEvent),colDef.onCellContextMenu&&colDef.onCellContextMenu(agEvent),this.contextMenuFactory&&!this.gridOptionsWrapper.isSuppressContextMenu()&&(this.contextMenuFactory.showMenu(this.node,this.column,this.value,mouseEvent),mouseEvent.preventDefault())}},RenderedCell.prototype.onCellDoubleClicked=function(mouseEvent){var colDef=this.column.getColDef(),agEvent=this.createEvent(mouseEvent);this.eventService.dispatchEvent(events_1.Events.EVENT_CELL_DOUBLE_CLICKED,agEvent),"function"==typeof colDef.onCellDoubleClicked&&colDef.onCellDoubleClicked(agEvent),this.gridOptionsWrapper.isSingleClickEdit()||this.startEditingIfEnabled()},RenderedCell.prototype.onMouseDown=function(event){if(event.shiftKey||this.focusCell(!0),this.rangeController){var thisCell=this.gridCell,cellAlreadyInRange=this.rangeController.isCellInAnyRange(thisCell);cellAlreadyInRange||this.rangeController.setRangeToCell(thisCell)}},RenderedCell.prototype.onCellClicked=function(mouseEvent){var agEvent=this.createEvent(mouseEvent);this.eventService.dispatchEvent(events_1.Events.EVENT_CELL_CLICKED,agEvent);var colDef=this.column.getColDef();colDef.onCellClicked&&colDef.onCellClicked(agEvent),this.gridOptionsWrapper.isSingleClickEdit()&&this.startEditingIfEnabled()},RenderedCell.prototype.setInlineEditingClass=function(){var editingInline=this.editingCell&&!this.cellEditorInPopup;utils_1.Utils.addOrRemoveCssClass(this.eGridCell,"ag-cell-inline-editing",editingInline),utils_1.Utils.addOrRemoveCssClass(this.eGridCell,"ag-cell-not-inline-editing",!editingInline)},RenderedCell.prototype.populateCell=function(){this.putDataIntoCell(),this.addStylesFromColDef(),this.addClassesFromColDef(),this.addClassesFromRules()},RenderedCell.prototype.addStylesFromColDef=function(){var colDef=this.column.getColDef();if(colDef.cellStyle){var cssToUse;if("function"==typeof colDef.cellStyle){var cellStyleParams={value:this.value,data:this.node.data,node:this.node,colDef:colDef,column:this.column,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},cellStyleFunc=colDef.cellStyle;cssToUse=cellStyleFunc(cellStyleParams)}else cssToUse=colDef.cellStyle;cssToUse&&utils_1.Utils.addStylesToElement(this.eGridCell,cssToUse)}},RenderedCell.prototype.addClassesFromColDef=function(){var _this=this,colDef=this.column.getColDef();if(colDef.cellClass){var classToUse;if("function"==typeof colDef.cellClass){var cellClassParams={value:this.value,data:this.node.data,node:this.node,colDef:colDef,$scope:this.scope,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},cellClassFunc=colDef.cellClass;classToUse=cellClassFunc(cellClassParams)}else classToUse=colDef.cellClass;"string"==typeof classToUse?utils_1.Utils.addCssClass(this.eGridCell,classToUse):Array.isArray(classToUse)&&classToUse.forEach(function(cssClassItem){utils_1.Utils.addCssClass(_this.eGridCell,cssClassItem)})}},RenderedCell.prototype.addClassesFromRules=function(){var colDef=this.column.getColDef(),classRules=colDef.cellClassRules;if("object"===("undefined"==typeof classRules?"undefined":_typeof2(classRules))&&null!==classRules)for(var params={value:this.value,data:this.node.data,node:this.node,colDef:colDef,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()},classNames=Object.keys(classRules),i=0;i<classNames.length;i++){var className=classNames[i],rule=classRules[className],resultOfRule;"string"==typeof rule?resultOfRule=this.expressionService.evaluate(rule,params):"function"==typeof rule&&(resultOfRule=rule(params)),resultOfRule?utils_1.Utils.addCssClass(this.eGridCell,className):utils_1.Utils.removeCssClass(this.eGridCell,className)}},RenderedCell.prototype.createParentOfValue=function(){if(this.checkboxSelection){this.eCellWrapper=document.createElement("span"),utils_1.Utils.addCssClass(this.eCellWrapper,"ag-cell-wrapper"),this.eGridCell.appendChild(this.eCellWrapper);var cbSelectionComponent=new checkboxSelectionComponent_1.CheckboxSelectionComponent;this.context.wireBean(cbSelectionComponent),cbSelectionComponent.init({rowNode:this.node}),this.eCellWrapper.appendChild(cbSelectionComponent.getGui()),this.addDestroyFunc(function(){return cbSelectionComponent.destroy()}),this.eSpanWithValue=document.createElement("span"),utils_1.Utils.addCssClass(this.eSpanWithValue,"ag-cell-value"),this.eCellWrapper.appendChild(this.eSpanWithValue),this.eParentOfValue=this.eSpanWithValue}else utils_1.Utils.addCssClass(this.eGridCell,"ag-cell-value"),this.eParentOfValue=this.eGridCell},RenderedCell.prototype.isVolatile=function(){return this.column.getColDef().volatile},RenderedCell.prototype.refreshCell=function(animate,newData){function doRefresh(){var valueFormatted=that.formatValue(that.value),cellRendererParams=that.column.getColDef().cellRendererParams,params=that.createRendererAndRefreshParams(valueFormatted,cellRendererParams);that.cellRenderer.refresh(params),that.addClassesFromRules()}void 0===animate&&(animate=!1),void 0===newData&&(newData=!1),this.value=this.getValue();var refreshFailed=!1,that=this,attemptRefresh=!newData&&this.cellRenderer&&this.cellRenderer.refresh;if(attemptRefresh)try{doRefresh()}catch(e){if(e instanceof methodNotImplementedException_1.MethodNotImplementedException)refreshFailed=!0;else throw e}(!attemptRefresh||refreshFailed)&&function(){utils_1.Utils.removeAllChildren(that.eParentOfValue),that.cellRenderer&&that.cellRenderer.destroy&&that.cellRenderer.destroy(),that.cellRenderer=null,that.populateCell(),that.gridOptionsWrapper.isAngularCompileRows()&&that.$compile(that.eGridCell)(that.scope)}(),animate&&this.animateCellWithDataChanged()},RenderedCell.prototype.putDataIntoCell=function(){var colDef=this.column.getColDef(),cellRenderer=this.column.getCellRenderer(),floatingCellRenderer=this.column.getFloatingCellRenderer(),valueFormatted=this.valueFormatterService.formatValue(this.column,this.node,this.scope,this.rowIndex,this.value);if(colDef.template)this.eParentOfValue.innerHTML=colDef.template;else if(colDef.templateUrl){var template=this.templateService.getTemplate(colDef.templateUrl,this.refreshCell.bind(this,!0));template&&(this.eParentOfValue.innerHTML=template)}else if(floatingCellRenderer&&this.node.floating)this.useCellRenderer(floatingCellRenderer,colDef.floatingCellRendererParams,valueFormatted);else if(cellRenderer)this.useCellRenderer(cellRenderer,colDef.cellRendererParams,valueFormatted);else{var valueToRender=utils_1.Utils.exists(valueFormatted)?valueFormatted:this.value;utils_1.Utils.exists(valueToRender)&&""!==valueToRender&&(this.eParentOfValue.textContent=valueToRender.toString())}if(colDef.tooltipField){var data=this.getDataForRow();if(utils_1.Utils.exists(data)){var tooltip=utils_1.Utils.getValueUsingField(data,colDef.tooltipField,this.column.isTooltipFieldContainsDots());utils_1.Utils.exists(tooltip)&&this.eParentOfValue.setAttribute("title",tooltip)}}},RenderedCell.prototype.formatValue=function(value){return this.valueFormatterService.formatValue(this.column,this.node,this.scope,this.rowIndex,value)},RenderedCell.prototype.createRendererAndRefreshParams=function(valueFormatted,cellRendererParams){var params={value:this.value,valueFormatted:valueFormatted,valueGetter:this.getValue,formatValue:this.formatValue.bind(this),data:this.node.data,node:this.node,colDef:this.column.getColDef(),column:this.column,$scope:this.scope,rowIndex:this.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.eGridCell,eParentOfValue:this.eParentOfValue,addRenderedRowListener:this.renderedRow.addEventListener.bind(this.renderedRow)};return cellRendererParams&&utils_1.Utils.assign(params,cellRendererParams),params},RenderedCell.prototype.useCellRenderer=function(cellRendererKey,cellRendererParams,valueFormatted){var params=this.createRendererAndRefreshParams(valueFormatted,cellRendererParams);this.cellRenderer=this.cellRendererService.useCellRenderer(cellRendererKey,this.eParentOfValue,params)},RenderedCell.prototype.addClasses=function(){utils_1.Utils.addCssClass(this.eGridCell,"ag-cell"),this.eGridCell.setAttribute("colId",this.column.getColId()),this.node.group&&this.node.footer&&utils_1.Utils.addCssClass(this.eGridCell,"ag-footer-cell"),this.node.group&&!this.node.footer&&utils_1.Utils.addCssClass(this.eGridCell,"ag-group-cell")},RenderedCell.PRINTABLE_CHARACTERS="qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM1234567890!\"\xA3$%^&*()_+-=[];'#,./|<>?:@~{}",__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],RenderedCell.prototype,"context",void 0),__decorate([context_1.Autowired("columnApi"),__metadata("design:type",columnController_1.ColumnApi)],RenderedCell.prototype,"columnApi",void 0),__decorate([context_1.Autowired("gridApi"),__metadata("design:type",gridApi_1.GridApi)],RenderedCell.prototype,"gridApi",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],RenderedCell.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("expressionService"),__metadata("design:type",expressionService_1.ExpressionService)],RenderedCell.prototype,"expressionService",void 0),__decorate([context_1.Autowired("rowRenderer"),__metadata("design:type",rowRenderer_1.RowRenderer)],RenderedCell.prototype,"rowRenderer",void 0),__decorate([context_1.Autowired("$compile"),__metadata("design:type",Object)],RenderedCell.prototype,"$compile",void 0),__decorate([context_1.Autowired("verticalDragService"),__metadata("design:type",verticalDragService_1.VerticalDragService)],RenderedCell.prototype,"dragService",void 0),__decorate([context_1.Autowired("templateService"),__metadata("design:type",templateService_1.TemplateService)],RenderedCell.prototype,"templateService",void 0),__decorate([context_1.Autowired("valueService"),__metadata("design:type",valueService_1.ValueService)],RenderedCell.prototype,"valueService",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],RenderedCell.prototype,"eventService",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],RenderedCell.prototype,"columnController",void 0),__decorate([context_1.Optional("rangeController"),__metadata("design:type",Object)],RenderedCell.prototype,"rangeController",void 0),__decorate([context_1.Autowired("focusedCellController"),__metadata("design:type",focusedCellController_1.FocusedCellController)],RenderedCell.prototype,"focusedCellController",void 0),__decorate([context_1.Optional("contextMenuFactory"),__metadata("design:type",Object)],RenderedCell.prototype,"contextMenuFactory",void 0),__decorate([context_1.Autowired("focusService"),__metadata("design:type",focusService_1.FocusService)],RenderedCell.prototype,"focusService",void 0),__decorate([context_1.Autowired("cellEditorFactory"),__metadata("design:type",cellEditorFactory_1.CellEditorFactory)],RenderedCell.prototype,"cellEditorFactory",void 0),__decorate([context_1.Autowired("cellRendererFactory"),__metadata("design:type",cellRendererFactory_1.CellRendererFactory)],RenderedCell.prototype,"cellRendererFactory",void 0),__decorate([context_1.Autowired("popupService"),__metadata("design:type",popupService_1.PopupService)],RenderedCell.prototype,"popupService",void 0),__decorate([context_1.Autowired("cellRendererService"),__metadata("design:type",cellRendererService_1.CellRendererService)],RenderedCell.prototype,"cellRendererService",void 0),__decorate([context_1.Autowired("valueFormatterService"),__metadata("design:type",valueFormatterService_1.ValueFormatterService)],RenderedCell.prototype,"valueFormatterService",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],RenderedCell.prototype,"init",null),RenderedCell)}(component_1.Component);exports.RenderedCell=RenderedCell},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(8),utils_1=__webpack_require__(9),gridCore_1=__webpack_require__(47),columnController_1=__webpack_require__(15),constants_1=__webpack_require__(10),gridCell_1=__webpack_require__(36),FocusService=function(){function FocusService(){this.destroyMethods=[],this.listeners=[]}return FocusService.prototype.addListener=function(listener){this.listeners.push(listener)},FocusService.prototype.removeListener=function(listener){utils_1.Utils.removeFromArray(this.listeners,listener)},FocusService.prototype.init=function(){var _this=this,focusListener=function(focusEvent){var gridCell=_this.getCellForFocus(focusEvent);gridCell&&_this.informListeners({gridCell:gridCell})},eRootGui=this.gridCore.getRootGui();eRootGui.addEventListener("focus",focusListener,!0),this.destroyMethods.push(function(){eRootGui.removeEventListener("focus",focusListener)})},FocusService.prototype.getCellForFocus=function(focusEvent){function checkRow(eTarget){var rowId=utils_1.Utils.getElementAttribute(eTarget,"row");utils_1.Utils.exists(rowId)&&utils_1.Utils.containsClass(eTarget,"ag-row")&&(0===rowId.indexOf("ft")?(floating=constants_1.Constants.FLOATING_TOP,rowId=rowId.substr(3)):0===rowId.indexOf("fb")?(floating=constants_1.Constants.FLOATING_BOTTOM,rowId=rowId.substr(3)):floating=null,row=parseInt(rowId))}function checkColumn(eTarget){var colId=utils_1.Utils.getElementAttribute(eTarget,"colid");if(utils_1.Utils.exists(colId)&&utils_1.Utils.containsClass(eTarget,"ag-cell")){var foundColumn=that.columnController.getGridColumn(colId);foundColumn&&(column=foundColumn)}}for(var column=null,row=null,floating=null,that=this,eTarget=focusEvent.target;eTarget;)checkRow(eTarget),checkColumn(eTarget),eTarget=eTarget.parentNode;if(utils_1.Utils.exists(column)&&utils_1.Utils.exists(row)){var gridCell=new gridCell_1.GridCell(row,floating,column);return gridCell}return null},FocusService.prototype.informListeners=function(event){this.listeners.forEach(function(listener){return listener(event)})},FocusService.prototype.destroy=function(){this.destroyMethods.forEach(function(destroyMethod){return destroyMethod()})},__decorate([context_1.Autowired("gridCore"),__metadata("design:type",gridCore_1.GridCore)],FocusService.prototype,"gridCore",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],FocusService.prototype,"columnController",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],FocusService.prototype,"init",null),__decorate([context_1.PreDestroy,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],FocusService.prototype,"destroy",null),FocusService=__decorate([context_1.Bean("focusService"),__metadata("design:paramtypes",[])],FocusService),FocusService}();exports.FocusService=FocusService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(8),utils_1=__webpack_require__(9),textCellEditor_1=__webpack_require__(59),selectCellEditor_1=__webpack_require__(60),popupEditorWrapper_1=__webpack_require__(61),popupTextCellEditor_1=__webpack_require__(62),popupSelectCellEditor_1=__webpack_require__(63),gridOptionsWrapper_1=__webpack_require__(5),largeTextCellEditor_1=__webpack_require__(64),CellEditorFactory=function(){function CellEditorFactory(){this.cellEditorMap={}}return CellEditorFactory.prototype.init=function(){this.cellEditorMap[CellEditorFactory.TEXT]=textCellEditor_1.TextCellEditor,this.cellEditorMap[CellEditorFactory.SELECT]=selectCellEditor_1.SelectCellEditor,this.cellEditorMap[CellEditorFactory.POPUP_TEXT]=popupTextCellEditor_1.PopupTextCellEditor,this.cellEditorMap[CellEditorFactory.POPUP_SELECT]=popupSelectCellEditor_1.PopupSelectCellEditor,this.cellEditorMap[CellEditorFactory.LARGE_TEXT]=largeTextCellEditor_1.LargeTextCellEditor},CellEditorFactory.prototype.addCellEditor=function(key,cellEditor){this.cellEditorMap[key]=cellEditor},CellEditorFactory.prototype.createCellEditor=function(key,params){var CellEditorClass;utils_1.Utils.missing(key)?CellEditorClass=this.cellEditorMap[CellEditorFactory.TEXT]:"string"==typeof key?(CellEditorClass=this.cellEditorMap[key],utils_1.Utils.missing(CellEditorClass)&&(console.warn("ag-Grid: unable to find cellEditor for key "+key),CellEditorClass=this.cellEditorMap[CellEditorFactory.TEXT])):CellEditorClass=key;var cellEditor=new CellEditorClass;return this.context.wireBean(cellEditor),cellEditor.init&&cellEditor.init(params),cellEditor.isPopup&&cellEditor.isPopup()&&(cellEditor=new popupEditorWrapper_1.PopupEditorWrapper(cellEditor),cellEditor.init(params)),cellEditor},CellEditorFactory.TEXT="text",CellEditorFactory.SELECT="select",CellEditorFactory.POPUP_TEXT="popupText",CellEditorFactory.POPUP_SELECT="popupSelect",CellEditorFactory.LARGE_TEXT="largeText",__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],CellEditorFactory.prototype,"context",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],CellEditorFactory.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],CellEditorFactory.prototype,"init",null),CellEditorFactory=__decorate([context_1.Bean("cellEditorFactory"),__metadata("design:paramtypes",[])],CellEditorFactory),CellEditorFactory}();exports.CellEditorFactory=CellEditorFactory},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},constants_1=__webpack_require__(10),component_1=__webpack_require__(49),utils_1=__webpack_require__(9),TextCellEditor=function(_super){function TextCellEditor(){_super.call(this,TextCellEditor.TEMPLATE)}return __extends(TextCellEditor,_super),TextCellEditor.prototype.init=function(params){var eInput=this.getGui(),keyPressBackspaceOrDelete=params.keyPress===constants_1.Constants.KEY_BACKSPACE||params.keyPress===constants_1.Constants.KEY_DELETE,startValue;keyPressBackspaceOrDelete?startValue="":params.charPress?startValue=params.charPress:(startValue=params.value,params.keyPress===constants_1.Constants.KEY_F2?this.putCursorAtEndOnFocus=!0:this.highlightAllOnFocus=!0),utils_1.Utils.exists(startValue)&&(eInput.value=startValue),this.addDestroyableEventListener(eInput,"keydown",function(event){var isNavigationKey=event.keyCode===constants_1.Constants.KEY_LEFT||event.keyCode===constants_1.Constants.KEY_RIGHT;isNavigationKey&&event.stopPropagation()})},TextCellEditor.prototype.afterGuiAttached=function(){var eInput=this.getGui();if(eInput.focus(),this.highlightAllOnFocus)eInput.select();else{var length=eInput.value?eInput.value.length:0;0<length&&eInput.setSelectionRange(length,length)}},TextCellEditor.prototype.getValue=function(){var eInput=this.getGui();return eInput.value},TextCellEditor.TEMPLATE="<input class=\"ag-cell-edit-input\" type=\"text\"/>",TextCellEditor}(component_1.Component);exports.TextCellEditor=TextCellEditor},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},component_1=__webpack_require__(49),utils_1=__webpack_require__(9),constants_1=__webpack_require__(10),SelectCellEditor=function(_super){function SelectCellEditor(){_super.call(this,"<div class=\"ag-cell-edit-input\"><select class=\"ag-cell-edit-input\"/></div>")}return __extends(SelectCellEditor,_super),SelectCellEditor.prototype.init=function(params){var eSelect=this.getGui().querySelector("select");return utils_1.Utils.missing(params.values)?void console.log("ag-Grid: no values found for select cellEditor"):void(params.values.forEach(function(value){var option=document.createElement("option");option.value=value,option.text=value,params.value===value&&(option.selected=!0),eSelect.appendChild(option)}),this.addDestroyableEventListener(eSelect,"change",function(){return params.stopEditing()}),this.addDestroyableEventListener(eSelect,"keydown",function(event){var isNavigationKey=event.keyCode===constants_1.Constants.KEY_UP||event.keyCode===constants_1.Constants.KEY_DOWN;isNavigationKey&&event.stopPropagation()}),this.addDestroyableEventListener(eSelect,"mousedown",function(event){event.stopPropagation()}))},SelectCellEditor.prototype.afterGuiAttached=function(){var eSelect=this.getGui().querySelector("select");eSelect.focus()},SelectCellEditor.prototype.getValue=function(){var eSelect=this.getGui().querySelector("select");return eSelect.value},SelectCellEditor}(component_1.Component);exports.SelectCellEditor=SelectCellEditor},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},component_1=__webpack_require__(49),PopupEditorWrapper=function(_super){function PopupEditorWrapper(cellEditor){_super.call(this,"<div class=\"ag-popup-editor\"/>"),this.getGuiCalledOnChild=!1,this.cellEditor=cellEditor,this.addDestroyFunc(function(){return cellEditor.destroy()}),this.addDestroyableEventListener(_super.prototype.getGui.call(this),"keydown",this.onKeyDown.bind(this))}return __extends(PopupEditorWrapper,_super),PopupEditorWrapper.prototype.onKeyDown=function(event){this.params.onKeyDown(event)},PopupEditorWrapper.prototype.getGui=function(){return this.getGuiCalledOnChild||(this.appendChild(this.cellEditor.getGui()),this.getGuiCalledOnChild=!0),_super.prototype.getGui.call(this)},PopupEditorWrapper.prototype.init=function(params){this.params=params},PopupEditorWrapper.prototype.afterGuiAttached=function(){this.cellEditor.afterGuiAttached&&this.cellEditor.afterGuiAttached()},PopupEditorWrapper.prototype.getValue=function(){return this.cellEditor.getValue()},PopupEditorWrapper.prototype.isPopup=function(){return!0},PopupEditorWrapper.prototype.isCancelBeforeStart=function(){if(this.cellEditor.isCancelBeforeStart)return this.cellEditor.isCancelBeforeStart()},PopupEditorWrapper.prototype.isCancelAfterEnd=function(){if(this.cellEditor.isCancelAfterEnd)return this.cellEditor.isCancelAfterEnd()},PopupEditorWrapper}(component_1.Component);exports.PopupEditorWrapper=PopupEditorWrapper},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},textCellEditor_1=__webpack_require__(59),PopupTextCellEditor=function(_super){function PopupTextCellEditor(){_super.apply(this,arguments)}return __extends(PopupTextCellEditor,_super),PopupTextCellEditor.prototype.isPopup=function(){return!0},PopupTextCellEditor}(textCellEditor_1.TextCellEditor);exports.PopupTextCellEditor=PopupTextCellEditor},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},selectCellEditor_1=__webpack_require__(60),PopupSelectCellEditor=function(_super){function PopupSelectCellEditor(){_super.apply(this,arguments)}return __extends(PopupSelectCellEditor,_super),PopupSelectCellEditor.prototype.isPopup=function(){return!0},PopupSelectCellEditor}(selectCellEditor_1.SelectCellEditor);exports.PopupSelectCellEditor=PopupSelectCellEditor},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},component_1=__webpack_require__(49),constants_1=__webpack_require__(10),utils_1=__webpack_require__(9),LargeTextCellEditor=function(_super){function LargeTextCellEditor(){_super.call(this,LargeTextCellEditor.TEMPLATE)}return __extends(LargeTextCellEditor,_super),LargeTextCellEditor.prototype.init=function(params){this.params=params,this.textarea=document.createElement("textarea"),this.textarea.maxLength=params.maxLength?params.maxLength:"200",this.textarea.cols=params.cols?params.cols:"60",this.textarea.rows=params.rows?params.rows:"10",utils_1.Utils.exists(params.value)&&(this.textarea.value=params.value.toString()),this.getGui().querySelector(".ag-large-textarea").appendChild(this.textarea),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},LargeTextCellEditor.prototype.onKeyDown=function(event){var key=event.which||event.keyCode;(key==constants_1.Constants.KEY_LEFT||key==constants_1.Constants.KEY_UP||key==constants_1.Constants.KEY_RIGHT||key==constants_1.Constants.KEY_DOWN||event.shiftKey&&key==constants_1.Constants.KEY_ENTER)&&event.stopPropagation()},LargeTextCellEditor.prototype.afterGuiAttached=function(){this.textarea.focus()},LargeTextCellEditor.prototype.getValue=function(){return this.textarea.value},LargeTextCellEditor.prototype.isPopup=function(){return!0},LargeTextCellEditor.TEMPLATE="<div class=\"ag-large-text\" tabindex=\"0\">"+"<div class=\"ag-large-textarea\"></div>"+"</div>",LargeTextCellEditor}(component_1.Component);exports.LargeTextCellEditor=LargeTextCellEditor},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(8),utils_1=__webpack_require__(9),gridOptionsWrapper_1=__webpack_require__(5),eventService_1=__webpack_require__(6),expressionService_1=__webpack_require__(20),animateSlideCellRenderer_1=__webpack_require__(66),animateShowChangeCellRenderer_1=__webpack_require__(67),groupCellRenderer_1=__webpack_require__(68),CellRendererFactory=function(){function CellRendererFactory(){this.cellRendererMap={}}return CellRendererFactory.prototype.init=function(){this.cellRendererMap[CellRendererFactory.ANIMATE_SLIDE]=animateSlideCellRenderer_1.AnimateSlideCellRenderer,this.cellRendererMap[CellRendererFactory.ANIMATE_SHOW_CHANGE]=animateShowChangeCellRenderer_1.AnimateShowChangeCellRenderer,this.cellRendererMap[CellRendererFactory.GROUP]=groupCellRenderer_1.GroupCellRenderer},CellRendererFactory.prototype.addCellRenderer=function(key,cellRenderer){this.cellRendererMap[key]=cellRenderer},CellRendererFactory.prototype.getCellRenderer=function(key){var result=this.cellRendererMap[key];return utils_1.Utils.missing(result)?(console.warn("ag-Grid: unable to find cellRenderer for key "+key),null):result},CellRendererFactory.ANIMATE_SLIDE="animateSlide",CellRendererFactory.ANIMATE_SHOW_CHANGE="animateShowChange",CellRendererFactory.GROUP="group",__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],CellRendererFactory.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("expressionService"),__metadata("design:type",expressionService_1.ExpressionService)],CellRendererFactory.prototype,"expressionService",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],CellRendererFactory.prototype,"eventService",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],CellRendererFactory.prototype,"init",null),CellRendererFactory=__decorate([context_1.Bean("cellRendererFactory"),__metadata("design:paramtypes",[])],CellRendererFactory),CellRendererFactory}();exports.CellRendererFactory=CellRendererFactory},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},utils_1=__webpack_require__(9),component_1=__webpack_require__(49),AnimateSlideCellRenderer=function(_super){function AnimateSlideCellRenderer(){_super.call(this,AnimateSlideCellRenderer.TEMPLATE),this.refreshCount=0,this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}return __extends(AnimateSlideCellRenderer,_super),AnimateSlideCellRenderer.prototype.init=function(params){this.params=params,this.refresh(params)},AnimateSlideCellRenderer.prototype.addSlideAnimation=function(){var _this=this;this.refreshCount++;var refreshCountCopy=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=utils_1.Utils.loadTemplate("<span class=\"ag-value-slide-previous ag-fade-out\"></span>"),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),setTimeout(function(){refreshCountCopy!==_this.refreshCount||utils_1.Utils.addCssClass(_this.ePrevious,"ag-fade-out-end")},50),setTimeout(function(){refreshCountCopy!==_this.refreshCount||(_this.getGui().removeChild(_this.ePrevious),_this.ePrevious=null)},3e3)},AnimateSlideCellRenderer.prototype.refresh=function(params){var value=params.value;utils_1.Utils.missing(value)&&(value=""),value===this.lastValue||(this.addSlideAnimation(),this.lastValue=value,this.eCurrent.innerHTML=utils_1.Utils.exists(params.valueFormatted)?params.valueFormatted:utils_1.Utils.exists(params.value)?value:"")},AnimateSlideCellRenderer.TEMPLATE="<span>"+"<span class=\"ag-value-slide-current\"></span>"+"</span>",AnimateSlideCellRenderer}(component_1.Component);exports.AnimateSlideCellRenderer=AnimateSlideCellRenderer},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},utils_1=__webpack_require__(9),component_1=__webpack_require__(49),AnimateShowChangeCellRenderer=function(_super){function AnimateShowChangeCellRenderer(){_super.call(this,AnimateShowChangeCellRenderer.TEMPLATE),this.refreshCount=0}return __extends(AnimateShowChangeCellRenderer,_super),AnimateShowChangeCellRenderer.prototype.init=function(params){this.params=params,this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(params)},AnimateShowChangeCellRenderer.prototype.showDelta=function(params,delta){var absDelta=_Mathabs9(delta),valueFormatted=params.formatValue(absDelta),valueToUse=utils_1.Utils.exists(valueFormatted)?valueFormatted:absDelta,deltaUp=0<=delta;this.eDelta.innerHTML=deltaUp?"&#65514;"+valueToUse:"&#65516;"+valueToUse,utils_1.Utils.addOrRemoveCssClass(this.eDelta,"ag-value-change-delta-up",deltaUp),utils_1.Utils.addOrRemoveCssClass(this.eDelta,"ag-value-change-delta-down",!deltaUp)},AnimateShowChangeCellRenderer.prototype.setTimerToRemoveDelta=function(){var _this=this;this.refreshCount++;var refreshCountCopy=this.refreshCount;setTimeout(function(){refreshCountCopy===_this.refreshCount&&_this.hideDeltaValue()},2e3)},AnimateShowChangeCellRenderer.prototype.hideDeltaValue=function(){utils_1.Utils.removeCssClass(this.eValue,"ag-value-change-value-highlight"),this.eDelta.innerHTML=""},AnimateShowChangeCellRenderer.prototype.refresh=function(params){var value=params.value;if(value!==this.lastValue){if(this.eValue.innerHTML=utils_1.Utils.exists(params.valueFormatted)?params.valueFormatted:utils_1.Utils.exists(params.value)?value:"","number"==typeof value&&"number"==typeof this.lastValue){var delta=value-this.lastValue;this.showDelta(params,delta)}this.lastValue&&utils_1.Utils.addCssClass(this.eValue,"ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=value}},AnimateShowChangeCellRenderer.TEMPLATE="<span>"+"<span class=\"ag-value-change-delta\"></span>"+"<span class=\"ag-value-change-value\"></span>"+"</span>",AnimateShowChangeCellRenderer}(component_1.Component);exports.AnimateShowChangeCellRenderer=AnimateShowChangeCellRenderer},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},svgFactory_1=__webpack_require__(69),gridOptionsWrapper_1=__webpack_require__(5),expressionService_1=__webpack_require__(20),eventService_1=__webpack_require__(6),constants_1=__webpack_require__(10),utils_1=__webpack_require__(9),events_1=__webpack_require__(12),context_1=__webpack_require__(8),component_1=__webpack_require__(49),cellRendererService_1=__webpack_require__(70),valueFormatterService_1=__webpack_require__(71),checkboxSelectionComponent_1=__webpack_require__(72),columnController_1=__webpack_require__(15),svgFactory=svgFactory_1.SvgFactory.getInstance(),GroupCellRenderer=function(_super){function GroupCellRenderer(){_super.call(this,GroupCellRenderer.TEMPLATE),this.eExpanded=this.queryForHtmlElement(".ag-group-expanded"),this.eContracted=this.queryForHtmlElement(".ag-group-contracted"),this.eCheckbox=this.queryForHtmlElement(".ag-group-checkbox"),this.eValue=this.queryForHtmlElement(".ag-group-value"),this.eChildCount=this.queryForHtmlElement(".ag-group-child-count")}return __extends(GroupCellRenderer,_super),GroupCellRenderer.prototype.init=function(params){this.rowNode=params.node,this.rowIndex=params.rowIndex,this.gridApi=params.api,this.addExpandAndContract(params.eGridCell),this.addCheckboxIfNeeded(params),this.addValueElement(params),this.addPadding(params)},GroupCellRenderer.prototype.addPadding=function(params){var node=this.rowNode,suppressPadding=params.suppressPadding;if(!suppressPadding&&(node.footer||0<node.level)){var paddingFactor=params.colDef&&(0<=params.padding||0<=params.colDef.groupPadding)?0<=params.padding?params.padding:params.colDef.groupPadding:10;var paddingPx=node.level*paddingFactor,reducedLeafNode=this.columnController.isPivotMode()&&this.rowNode.leafGroup;node.footer?paddingPx+=15:(!node.isExpandable()||reducedLeafNode)&&(paddingPx+=10),0<=params.colDef.lastNonGroupChildMinusPadding&&!node.group&&(paddingPx-=params.colDef.lastNonGroupChildMinusPadding),this.getGui().style.paddingLeft=paddingPx+"px"}},GroupCellRenderer.prototype.addValueElement=function(params){params.innerRenderer?this.createFromInnerRenderer(params):this.rowNode.footer?this.createFooterCell(params):this.rowNode.group?(this.createGroupCell(params),this.addChildCount(params)):this.createLeafCell(params)},GroupCellRenderer.prototype.createFromInnerRenderer=function(params){this.cellRendererService.useCellRenderer(params.innerRenderer,this.eValue,params)},GroupCellRenderer.prototype.createFooterCell=function(params){var groupName=this.getGroupName(params),footerValue;if(params.footerValueGetter){var footerValueGetter=params.footerValueGetter,paramsClone=utils_1.Utils.cloneObject(params);paramsClone.value=groupName,"function"==typeof footerValueGetter?footerValue=footerValueGetter(paramsClone):"string"==typeof footerValueGetter?footerValue=this.expressionService.evaluate(footerValueGetter,paramsClone):console.warn("ag-Grid: footerValueGetter should be either a function or a string (expression)")}else footerValue="Total "+groupName;this.eValue.innerHTML=footerValue},GroupCellRenderer.prototype.createGroupCell=function(params){var rowGroupColumns=params.columnApi.getRowGroupColumns(),columnOfGroupedCol=rowGroupColumns[params.node.level];utils_1.Utils.missing(columnOfGroupedCol)&&(columnOfGroupedCol=params.column);var colDefOfGroupedCol=columnOfGroupedCol.getColDef(),groupName=this.getGroupName(params),valueFormatted=this.valueFormatterService.formatValue(columnOfGroupedCol,params.node,params.scope,this.rowIndex,groupName);if(colDefOfGroupedCol&&"function"==typeof colDefOfGroupedCol.cellRenderer)params.value=groupName,params.valueFormatted=valueFormatted,colDefOfGroupedCol.cellRendererParams&&utils_1.Utils.assign(params,colDefOfGroupedCol.cellRendererParams),this.cellRendererService.useCellRenderer(colDefOfGroupedCol.cellRenderer,this.eValue,params);else{var valueToRender=utils_1.Utils.exists(valueFormatted)?valueFormatted:groupName;utils_1.Utils.exists(valueToRender)&&""!==valueToRender&&this.eValue.appendChild(document.createTextNode(valueToRender))}},GroupCellRenderer.prototype.addChildCount=function(params){var suppressCount=params.suppressCount;!suppressCount&&0<=params.node.allChildrenCount&&(this.eChildCount.innerHTML="("+params.node.allChildrenCount+")")},GroupCellRenderer.prototype.getGroupName=function(params){if(params.keyMap&&"object"===_typeof2(params.keyMap)){var valueFromMap=params.keyMap[params.node.key];return valueFromMap?valueFromMap:params.node.key}return params.node.key},GroupCellRenderer.prototype.createLeafCell=function(params){utils_1.Utils.exists(params.value)&&(this.eValue.innerHTML=params.value)},GroupCellRenderer.prototype.addCheckboxIfNeeded=function(params){var checkboxNeeded=params.checkbox&&!this.rowNode.footer&&!this.rowNode.floating&&!this.rowNode.flower;if(checkboxNeeded){var cbSelectionComponent=new checkboxSelectionComponent_1.CheckboxSelectionComponent;this.context.wireBean(cbSelectionComponent),cbSelectionComponent.init({rowNode:this.rowNode}),this.eCheckbox.appendChild(cbSelectionComponent.getGui()),this.addDestroyFunc(function(){return cbSelectionComponent.destroy()})}},GroupCellRenderer.prototype.addExpandAndContract=function(eGroupCell){var eExpandedIcon=utils_1.Utils.createIconNoSpan("groupExpanded",this.gridOptionsWrapper,null,svgFactory.createGroupContractedIcon),eContractedIcon=utils_1.Utils.createIconNoSpan("groupContracted",this.gridOptionsWrapper,null,svgFactory.createGroupExpandedIcon);this.eExpanded.appendChild(eExpandedIcon),this.eContracted.appendChild(eContractedIcon),this.addDestroyableEventListener(this.eExpanded,"mousedown",this.onExpandOrContract.bind(this)),this.addDestroyableEventListener(this.eContracted,"mousedown",this.onExpandOrContract.bind(this)),this.addDestroyableEventListener(eGroupCell,"dblclick",this.onExpandOrContract.bind(this)),this.addDestroyableEventListener(eGroupCell,"keydown",this.onKeyDown.bind(this)),this.showExpandAndContractIcons()},GroupCellRenderer.prototype.onKeyDown=function(event){utils_1.Utils.isKeyPressed(event,constants_1.Constants.KEY_ENTER)&&(this.onExpandOrContract(),event.preventDefault())},GroupCellRenderer.prototype.onExpandOrContract=function(){this.rowNode.expanded=!this.rowNode.expanded;var refreshIndex=this.getRefreshFromIndex(),event={node:this.rowNode,self:this};this.eventService.dispatchEvent(events_1.Events.EVENT_ROW_GROUP_OPENED,event),this.showExpandAndContractIcons(),this.gridApi.onGroupExpandedOrCollapsed(refreshIndex)},GroupCellRenderer.prototype.showExpandAndContractIcons=function(){var reducedLeafNode=this.columnController.isPivotMode()&&this.rowNode.leafGroup,expandable=this.rowNode.isExpandable()&&!this.rowNode.footer&&!reducedLeafNode;expandable?(utils_1.Utils.setVisible(this.eExpanded,this.rowNode.expanded),utils_1.Utils.setVisible(this.eContracted,!this.rowNode.expanded)):(utils_1.Utils.setVisible(this.eExpanded,!1),utils_1.Utils.setVisible(this.eContracted,!1))},GroupCellRenderer.prototype.getRefreshFromIndex=function(){return this.gridOptionsWrapper.isGroupIncludeFooter()?this.rowIndex:this.rowIndex+1},GroupCellRenderer.TEMPLATE="<span>"+"<span class=\"ag-group-expanded\"></span>"+"<span class=\"ag-group-contracted\"></span>"+"<span class=\"ag-group-checkbox\"></span>"+"<span class=\"ag-group-value\"></span>"+"<span class=\"ag-group-child-count\"></span>"+"</span>",__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],GroupCellRenderer.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("expressionService"),__metadata("design:type",expressionService_1.ExpressionService)],GroupCellRenderer.prototype,"expressionService",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],GroupCellRenderer.prototype,"eventService",void 0),__decorate([context_1.Autowired("cellRendererService"),__metadata("design:type",cellRendererService_1.CellRendererService)],GroupCellRenderer.prototype,"cellRendererService",void 0),__decorate([context_1.Autowired("valueFormatterService"),__metadata("design:type",valueFormatterService_1.ValueFormatterService)],GroupCellRenderer.prototype,"valueFormatterService",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],GroupCellRenderer.prototype,"context",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],GroupCellRenderer.prototype,"columnController",void 0),GroupCellRenderer}(component_1.Component);exports.GroupCellRenderer=GroupCellRenderer},function(module,exports){function createPolygonSvg(points,width){var eSvg=createIconSvg(width),eDescIcon=document.createElementNS(SVG_NS,"polygon");return eDescIcon.setAttribute("points",points),eSvg.appendChild(eDescIcon),eSvg}function createIconSvg(width){var eSvg=document.createElementNS(SVG_NS,"svg");return 0<width?(eSvg.setAttribute("width",width),eSvg.setAttribute("height",width)):(eSvg.setAttribute("width","10"),eSvg.setAttribute("height","10")),eSvg}var SVG_NS="http://www.w3.org/2000/svg",SvgFactory=function(){function SvgFactory(){}return SvgFactory.getInstance=function(){return this.theInstance||(this.theInstance=new SvgFactory),this.theInstance},SvgFactory.prototype.createFilterSvg=function(){var eSvg=createIconSvg(),eFunnel=document.createElementNS(SVG_NS,"polygon");return eFunnel.setAttribute("points","0,0 4,4 4,10 6,10 6,4 10,0"),eFunnel.setAttribute("class","ag-header-icon"),eSvg.appendChild(eFunnel),eSvg},SvgFactory.prototype.createFilterSvg12=function(){var eSvg=createIconSvg(12),eFunnel=document.createElementNS(SVG_NS,"polygon");return eFunnel.setAttribute("points","0,0 5,5 5,12 7,12 7,5 12,0"),eFunnel.setAttribute("class","ag-header-icon"),eSvg.appendChild(eFunnel),eSvg},SvgFactory.prototype.createMenuSvg=function(){var eSvg=document.createElementNS(SVG_NS,"svg"),size="12";return eSvg.setAttribute("width",size),eSvg.setAttribute("height",size),["0","5","10"].forEach(function(y){var eLine=document.createElementNS(SVG_NS,"rect");eLine.setAttribute("y",y),eLine.setAttribute("width",size),eLine.setAttribute("height","2"),eLine.setAttribute("class","ag-header-icon"),eSvg.appendChild(eLine)}),eSvg},SvgFactory.prototype.createColumnsSvg12=function(){var eSvg=createIconSvg(12);return[0,4,8].forEach(function(y){[0,7].forEach(function(x){var eBar=document.createElementNS(SVG_NS,"rect");eBar.setAttribute("y",y.toString()),eBar.setAttribute("x",x.toString()),eBar.setAttribute("width","5"),eBar.setAttribute("height","3"),eBar.setAttribute("class","ag-header-icon"),eSvg.appendChild(eBar)})}),eSvg},SvgFactory.prototype.createArrowUpSvg=function(){return createPolygonSvg("0,10 5,0 10,10")},SvgFactory.prototype.createArrowLeftSvg=function(){return createPolygonSvg("10,0 0,5 10,10")},SvgFactory.prototype.createArrowDownSvg=function(){return createPolygonSvg("0,0 5,10 10,0")},SvgFactory.prototype.createArrowRightSvg=function(){return createPolygonSvg("0,0 10,5 0,10")},SvgFactory.prototype.createSmallArrowRightSvg=function(){return createPolygonSvg("0,0 6,3 0,6",6)},SvgFactory.prototype.createSmallArrowDownSvg=function(){return createPolygonSvg("0,0 3,6 6,0",6)},SvgFactory.prototype.createArrowUpDownSvg=function(){var svg=createIconSvg(),eAscIcon=document.createElementNS(SVG_NS,"polygon");eAscIcon.setAttribute("points","0,4 5,0 10,4"),svg.appendChild(eAscIcon);var eDescIcon=document.createElementNS(SVG_NS,"polygon");return eDescIcon.setAttribute("points","0,6 5,10 10,6"),svg.appendChild(eDescIcon),svg},SvgFactory.prototype.createFolderOpen=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAZpJREFUeNqkU0tLQkEUPjN3ShAzF66CaNGiaNEviFpLgbSpXf2ACIqgFkELaVFhtAratQ8qokU/oFVbMQtJvWpWGvYwtet9TWfu1QorvOGBb84M5/WdOTOEcw7tCKHBlT8sMIhr4BfLGXC4BrALM8QUoveHG9oPQ/NhwVCQbOjp0C5F6zDiwE7Aed/p5tKWruufTlY8bkqliqVN8wvH6wvhydWd5UYdkYCqqgaKotQTCEewnJuDBSqVmshOrWhKgCJVqeHcKtiGKdqTgGIOQmwGum7AxVUKinXKzX1/1y5Xp6g8gpe8iBxuGZhcKjyXQZIkmBkfczS62YnRQCKX75/b3t8QDNhD8QX83V5Ipe7Bybug2Pt5NJ7A4nEqGOQKT+Bzu0HTDNB1syUYYxCJy0kwzIRogb0rKjAiQVXXHLVQrqqvsZtsFu8hbyXwe73WeMQtO5GonJGxuiyeC+Oa4fF5PEirw9nbx9FdxtN5eMwkzcgRnoeCa9DVM/CvH/R2l+axkz3clQguOFjw1f+FUzEQCqJG2v3OHwIMAOW1JPnAAAJxAAAAAElFTkSuQmCC",eImg},SvgFactory.prototype.createFolderClosed=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAARlJREFUeNqsUz1PwzAUPDtOUASpYKkQVWcQA/+DhbLA32CoKAMSTAwgFsQfQWLoX4GRDFXGIiqiyk4e7wUWmg8phJPOtvzunc6WrYgIXaD06KKhij0eD2uqUxBeDC9OmcNKCYd7ujm7ryodXz5ong6UPpqcP9+O76y1vwS+7yOOY1jr0OttlQyiaB0n148TAyK9XFqkaboiSTEYDNnkDUkyKxkkiSQkzQbwsiyHcBXz+Tv6/W1m+QiSEDT1igTO5RBWYbH4rNwPw/AnQU5ek0EdCj33SgLjHEHYzoAkgfmHBDmZuktsQqHPvxN0MyCbbWjtIQjWWhlIj/QqtT+6QrSz+6ef9DF7VTwFzE2madnu5K2prt/5S4ABADcIlSf6Ag8YAAAAAElFTkSuQmCC",eImg},SvgFactory.prototype.createColumnIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAOCAYAAAAMn20lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTcwQ0JFMzlENjZEMTFFNUFEQ0U5RDRCNjFFRENGMUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTcwQ0JFM0FENjZEMTFFNUFEQ0U5RDRCNjFFRENGMUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFNzBDQkUzN0Q2NkQxMUU1QURDRTlENEI2MUVEQ0YxQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFNzBDQkUzOEQ2NkQxMUU1QURDRTlENEI2MUVEQ0YxQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqDOrJYAAABxSURBVHjalJBBDsAgCAQXxXvj2/o/X9Cvmd4lUpV4MXroJMTAuihQSklVMSCysxSBW4uWKzjG6zZLDxrlWis5EVEThoWmi3N+nxAYs2WnXQY34L3HisMWPQlHB+2FPtNW6D/8+ziBRcroOXc0B/wEGABY6TPS1FU0bwAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createColumnsIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENFQkI4NDhENzJDMTFFNUJDNEVFRjgwRDI3MkU1Q0EiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENFQkI4NDlENzJDMTFFNUJDNEVFRjgwRDI3MkU1Q0EiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0VCQjg0NkQ3MkMxMUU1QkM0RUVGODBEMjcyRTVDQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0VCQjg0N0Q3MkMxMUU1QkM0RUVGODBEMjcyRTVDQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pj6ozGQAAAAuSURBVHjaYmRgYPjPgBswQml8anBK/idGDQsxNpCghnTAOBoGo2EwGgZgABBgAHbrH/l4grETAAAAAElFTkSuQmCC",eImg},SvgFactory.prototype.createPinIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAedJREFUeNqkUktLG1EYPTN31CIN0oWbIAWhKJR0FXcG6gOqkKGKVvEXCKULC91YSBcK7jXgQoIbFxn3ErFgFlIfCxUsQsCoIJYEm9LWNsGmJjPTM+Oo44Aa6IUzd+bec77H+UYyTRP/s5SsLFfCCxEjOhD9CXw64ccXJj7nLleYaMSvaa/+Au9Y73P3RUUBDIuXyaAxGu35A7xnkM57A7icCZXIO8/nkVleRn1/f9cv0xzjfVclFdi9N8ZivfnDQxQKBTwoFvFicLCVQSesJIpHMEY8dSqQWa54Eov1fF9ZQVHXsZNMblhnNE/wPmJPIX1zjOG2+fkgslnozHR2eopLcSIe3yoD48y45FbIxoVJNjimyMehoW3T58PvdBq53V18zeWwFo+vUfyBlCVvj0Li4/M1DnaAUtXCQkNDR4f/294eaoTAwdHRCROMWlzJZfC+1cKcJF07b5o+btWvV1eDyVBouyUcDj5UFDg924tVYtERpz0mCkmSulOp1GQgEIj0yvKPYiKBlwMDQXfPU47walEEmb8z0a5p2qaiKMPEoz6ezQLdM8DWNDDzltym24YthHimquoshSoDicvzZkK9S+h48pjCN4ZhrBPHTptlD0qevezwdCtAHVHrMti4A7rr3eb+E2AAoGnGkgkzpg8AAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createPlusIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAatJREFUeNqkU71KA0EQ/vaiib+lWCiordidpSg+QHwDBSt7n8DGhwhYCPoEgqCCINomARuLVIqgYKFG5f6z68xOzrvzYuXA3P7MzLffN7unjDH4jw3xx91bQXuxU4woNDjUX7VgsFOIH3/BnHgC0J65AzwFjDpZgoG7vb7lMsPDq6MiuK+B+kjGwFpCUjwK1DIQ3/dl0ssVh5TTM0UJP8aBgBKGleSGIWyP0oKYRm3KPSgYJ0Q0EpEgCASA2WmWZQY3kazBmjP9UhBFEbTWAgA0f9W2yHeG+vrd+tqGy5r5xNTT9erSqpvfdxwHN7fXOQZ0QhzH1oWArLsfXXieJ/KTGEZLcbVaTVn9ALTOLk9L+mYX5lxd0Xh6eGyVgspK6APwI8n3x9hmNpORJOuBo5ah8GcTc7dAHmkhNpYQlpHr47Hq2NspA1yEwHkoO/MVYLMmWJNarjEUQBzQw7rPvardFC8tZuOEwwB4p9PHqXgCdm738sUDJPB8mnwKj7qCTtJ527+XyAs6tOf2Bb6SP0OeGxRTVMp2h9nweWMoKS20l3+QT/vwqfZbgAEAUCrnlLQ+w4QAAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createMinusIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAKVJREFUeNpi/P//PwMlgImBQjBqAAMDy3JGRgZGBoaZQGxMikZg3J0F4nSWHxC+cUBamvHXr18Zfv36Bca/f/8G43///oExKLphmImJieHagQMQF7QDiSwg/vnzJ8P3799RDPj79y+KRhhmBLr6I1DPNJABtxkYZM4xMFx7uXAhSX5/CtQD0gv0OgMfyCAgZgViZiL1/wXi30D8h3E0KVNuAECAAQDr51qtGxzf1wAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createMoveIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAoZJREFUeNpsU81rE0EUf7uzu2lNVJL6Eb0IBWusepqcKm3wEFkvxqDgQbwUtYeeg5cccwj4F7QKChEPipRcdMGDiaAoJAexLYViwYsfbU1JYkx3Zz98b8220Wbg7ez7vXm/mffmN9Kh1G2QGQOmMDiRyYEkSaCoKjDGdAAooOUdxzFsIcDzPPhSvgeO7YDrOLBRmQdlJHULVE0DNRSCvqFjUuHqhWP8+etvhR5m0CeengVhmiAsywdl2Dt03K1wZSrO220XaCaf8AFrQel32s0mrDcaWfovrq3Vc9OTvHj/Tb0Xzh6JxQwNyxtIgPXpqqJk94fDM+1Oh6CaEF4QTiIOGJ/DdQtBObsEmGxbll/rkCyDPDwMzW4XhHD88EH0NcRxDUeX4/qdnsi0s8Aas+kEp8Zg82pMkmpDigKbjSbQTD7hFL94/jin9ZRHBNLo3Wrt+uUkbzQsiEZVMPGKfv76DaawodnahkhY86+PNnXxs77ZgVOjMahWVuufi1NJRZhWvvT0beHGtQn++Nm7en+DzqXO8vfVxX+wsYnT/JWxWEe95P0eILsvkkdPKn4PUEBJmunILab5992PLVU++skoNmOniT7JX2Fkt5GM1EjqbMohXzQmqo7KwCQ6zYKiabu30PpQAnZ0HKSRMcMRwnBddw4ZOO4GLRYKFFdDhrrteTMMdWB9/QTdH8sIp0EKmNT4GWDjGZAPJ3TcrbBv+ibfwtwDqBvzYck/truxYjjLZRDflwLt7JUmEoAymdPV7INa5IXn0Uw+4f8PIqATMLQIWpQ0E/RFTmQ4nLx0B1Zfzrsr5eAmbLQW2hYpHwkcqfegNBJhzwY9sGC4aCZaF81CAvePAAMAcwtApJX/Wo0AAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createLeftIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAe9JREFUeNqkUz1oE2EYfu7uuyRKLCFt6g+4VNQWWod+mQRRR1En0UFOHKoNCMKNju4SEQsOzsFNcRGl4CS42AzaKhKcsqhk0Etj7u+773y/6+USbOLSF5574b33eX+e906L4xh7MaYeC/c/IFcowMznEzDTBGPMoldnqEFtkPy708mIqvHHe0s7BcaYJYSwRwPu9vbYRH1XJI4tEYb2jYtHOHko9LvdxE9cYZQcBoF9+9oJ7jgRQt+HFAJSyv9rkO6UkGvXF3mr9QelkpkUINsYR6T8Jrkay8i+b9+5yfnmppMmSFw6e4yrIynBBsdS3jQ1PH/zeTiBIt+9dZpvbTlZh1+Oh/Z3F33XRUj7R1GUxA3DwMx0EYHnDUUMPe9Rfe1tc26uiL6M8aXno+UH6O7PIShPIapMQx6sQMxW4JbL+MkKCKhwNgGN2FD7Pnz82j63coF/aoc4ekDHtxfrzUniaZrW/FfEBomI9Scv7fnVq7zdBwIqajBWpeTd99d3vgBNCaQSzMOLyJ+6ApSPWxSzD61a/MfThupSjVuvxk2A3sazYYGBGbML0OcvW9rMyeRLFO8eVGXnKyacMiug5ikSplLs05dXzqNQWpbv6/URjpK+m6JH3GhQQI2QI+RTmBO0EwQ/RUBcqe31d/4rwAB0lPTXqN6HzgAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createRightIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAfBJREFUeNqkUz1s00AU/hwSh1SEhiFCYuhCVSExgHRiYKjEVCEyMMGAsjCxZunesWM7dIgEA8JISPyoUhFDFoZOSE2GgtrSIAYWSEPb1HUS23c+8+7iuE5/JKQ+6fOdz/e+970fG2EY4jyWVo9b819hGEZ8WCgW4z2dV2lZFUJYgnNwz9PwXRebc3cGBMfN6XSQy+eHryyCMuv43dRpBCpSz7b1qlB+cI3RWkEYlv+LQFkgBLxuV8s9OAhQLk0w7vsnSHQKVMhqQuYRSRBouK5AqyXwpHSdvfywUYkKb8UEFIU9fXybOY6A+jbszGAP7O/7RBKg2eR4dH+KvV5ej0k0gaqobXO0214c3acUDnt99Pp9cKqDUqLsx68LuHd3gtU+b1eOCOiSaaZQKJjgMsSOy7EnJcSYCZnLwKbojic1weTVMXz81KhTexeSKdSXqrUzh2X84Qxr9SQmx1P48q6mnTPZrJUs4jMp5QlHlSd1Y203fRGFK8DPV28HzqZpjXShW3+D00bamCrpNU9DuvvcGsjea1rO+nvw39+AxRCGckyO8ciQFG8gPT27ptX8/b4gt1asYGdzRGE6MVCXCJcj5NShbG9B/NnYhttpyMYL5XmTYEdw1KgMFSgJJiEbIXNGPQXBi+CTrzTO+zv/E2AA3Y8Nbp4Kn1sAAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createColumnVisibleIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAdhJREFUeNrUk01LAlEUhu845QdRUxZBhIIWtFBso2AwRAVNLqKltHCb63b9A/9AixZCELhyYdAmEyYCBcOlNa1CSQoxog/DMY3x9p5B27Zw1YGH8XrO+55759wROOdsmLCwIWNoAwFh/ugfZQKsAQV4gbNf9woqIAeuQHOgGxgIMNix2Wx7iqIsxmKxWU3TxgqFgpWSsix3fT5fK5VKPedyuftOp5OE7oz60hHsYD8UCh3k83k5k8ksGYYx5XK5rK2WzgiIrPQf5aiGakljakVRjKDrZaPR6Oi6zglVVTlFMnnMZXmdK8o2x674IE+1pCHtCFx2w+GwE9u3drtd81yJRAKdDXZ4eGSuFxb87PHxjg3yVEsaNNolg5NSqTTVbDaX7Agq8Hg8TFWLbGVl0xTY7TY2Our5NfhCQPNAWtFisdSr1WqvWCwawWBwRpKkcZyXadoN83qXmSQ50V1jGxurpnGlUqnH4/FzvItTmoo5ApjQNMIOh2MrEon4o9Gov1arzZXL5XHKBwKBT7fbXU+n07fZbPa23W5f4BVd93o9TgYimATTMHHCbB5PN9ZSf0LmrsEHRDWInvB8w/oFvAv920iFDkBzF/64fHTjvoFOxsL//5h+BBgAwjbgRLl5ImwAAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createColumnHiddenIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0ZGNDRBMkJENkU3MTFFNUIwOTBGRTc0MTA3OTI2OEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0ZGNDRBMkNENkU3MTFFNUIwOTBGRTc0MTA3OTI2OEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3RkY0NEEyOUQ2RTcxMUU1QjA5MEZFNzQxMDc5MjY4RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3RkY0NEEyQUQ2RTcxMUU1QjA5MEZFNzQxMDc5MjY4RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjQ0mkwAAACISURBVHjaYvz//z8DJYCJgUIwDAxgKSwspMwAIOYDYlcgtgNiJSBWBGJhIGaHyoHAJyD+CcRvgfg+EN8D4kNAvBtkwGEg1iNgkSCUlgBibSg7D4gvgwywRXKBChArALEIELMCsQBU8Qcg/g3Eb4D4ARDfBeKDMBeAnLcWikkGjKMpcRAYABBgACqXGpPEq63VAAAAAElFTkSuQmCC",eImg},SvgFactory.prototype.createColumnIndeterminateIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUY1QTkyNDUxRTkzMTFFNkFEQzVDNjE1NDE4RDlEQUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUY1QTkyNDYxRTkzMTFFNkFEQzVDNjE1NDE4RDlEQUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5RjVBOTI0MzFFOTMxMUU2QURDNUM2MTU0MThEOURBQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5RjVBOTI0NDFFOTMxMUU2QURDNUM2MTU0MThEOURBQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Por9Q7gAAAGzSURBVHja1JOxSwJRHMffqXcqSoVBQ0FDNN7iIBxO5WA3NYoEjm0u/T2Bkw2ONZlgNEk4Bw6GiGiippmRnp76+n4PbWhpcOoHH57P+36/7/e8n4qUUmxSLrFhbRygoJwPq6tsgRMQB0cgtNINQA0UwCMYrX3rAAUB516v9zIejx+nUqm90WgUDIfDaq1WE9PpdK6q6mc2m+0WCoUX7K/hu+O5TPCBq0gkUiqXy0PbtqVlWXK5XDqwuE4mEzmfzyU11NJDr3C73SZOfeh0OtPxeCyR7oixlzhdVqtV2ev1nCB+Tw219NDrQRtJwzBCaF+bzWbsSGQyGVEsFoWmacLj8YjBYCBisZhIp9MC3Qhq6YEmyQ5OTdO8bTQak263K8m69d+FIOc5tfTQywAvTrmIRqM3pVLptd1uy3q9/nN3slgsZLPZlHxGDbX00Ou8ApfLxbdh+P3+MyTriURC7/f7+7hCsFKpCF3XvwKBQCuXyz3n8/ln/Bb3yH9iOAPcYAfsIiSEsAOsh9hvA99qDizwAVMDphbWd+zfwFBZTSOFfqBxJv4YPk6cDcYMVv7/n+lbgAEAtdcjOjP715MAAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createGroupIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUVCNUI1OUNENkYwMTFFNThGNjJDNUE3ODIwMEZERDciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUVCNUI1OURENkYwMTFFNThGNjJDNUE3ODIwMEZERDciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1RUI1QjU5QUQ2RjAxMUU1OEY2MkM1QTc4MjAwRkRENyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1RUI1QjU5QkQ2RjAxMUU1OEY2MkM1QTc4MjAwRkRENyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlkCTGoAAACDSURBVHjaYmRgYPjPgBswQun/+BT8X3x5DoZErG4KCj/3/DcMNZMNuRiYGPADRiRX4HYBJV5AB0QrhAGW//8hehgZES6FiaGLYzUAq7sxNf0nxQCsinHFAguegCPKBYxoYfAfWQxNnPgwINJVYMDEQCEYfLHASGoKRQlxPN7BqQggwAAN+SopPnDCwgAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createPivotIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAitJREFUeNqcU01rE1EUPfPVJjFqdYw2pJQkNS2hYhQUiwj+AaugKFYUBWutG3HjokgNrroRKYKbglBBFF0o1IW404qClGIDxpYKTQgULZJmmpiYkPnwvmtNspPmweOcmXnnvPPufSOdjsf7AfjR3PiOU6OjV50mh9CqtmVJDlkNjWU3tPXEiA6hlS3Lkm3HQbFYxO5hnTF0pQ3Bwa3MAxc98F9wMd95TsOOswpzoRFa1TJNyaKHtTUD07cNdv9wx6jtNDNW53N369xyOiC0qmmanMAwcjh+/yimrr/D28kjf8WLizjY3c38YzKJw729zKcTCU4gtLUE+Xwejy+94gWfl5agKQr8uo4Eccu2USr48SWVQq5QWE/gcAJZuIgF5XIF5yf7GfcGg9Cos4O3UoiFw2jFLrx+/wtRet+3nkJoOAEbkJtty5g484I+yUivrODekxb4tmuInZhCuFPHyHAXZubnUTXNWgKhlc1qlY+gaZsw9PwkY4fPhxsDXvxcrWL25TE8G+8DFAOxSAQHotG6AWlrRXS52vD08ifGr5kM1+BBPIBkOo3flQpaNA2zCwug+8MGdkMCPoLbvQ0DDw8xRgIBBNvbsUoF6yK+h+pQJpN91JH9PT2NCWS1Ui4rNhtswZubPxi/LS9TTWxemKTK/9t1jtramEBo1Vw226pRvEfj3oaL6v3vVRYaoZXcodA12ePpbOZXtEuljEToprmZprpBvehn4Y8AAwDB0mLL0M405wAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createAggregationIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAMZJREFUeNpi/P//PwMlgImBQjDwBrCgmMYENq8RiLVxqL8KxPX//v1DiIACEYYZGRlBmBOIe4B4PRDrQMUYoGyQGIoebAbADJkAxFuAWA9JXJdYA0CYC4inAPFOINZHlkPWgxKIcFMhQA0aFveB+DbOUERxDhQAbTEC4qNAPBfqEmRx3F6AAhOgojNAvBikGckumDiKHhY0B3ECcTVQQhRIg/B1NNeeB1IgQ7/BXYvmdE6oAnYcPv4NxF+BerAbMDTzAkCAAQChYIl8b86M1gAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createDropNotAllowedIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjUyQ0MxNDY0NjBDMTFFNkEzMUVGQUE3NkQzQzU4MjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjUyQ0MxNDc0NjBDMTFFNkEzMUVGQUE3NkQzQzU4MjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyNTJDQzE0NDQ2MEMxMUU2QTMxRUZBQTc2RDNDNTgyNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyNTJDQzE0NTQ2MEMxMUU2QTMxRUZBQTc2RDNDNTgyNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PstpFisAAAGLSURBVHjalJNPKERRFMbnvRmKpAnjhURKWXjJLNQsqDE7KxI1NhYU2cjKxtbGZpSNqSFT/qxkYafmLWyU2LElCwYLo0SS8J36rk7XbJz61f33nXPuuec6ad8PWdYHJsEAaOPaDTgGeXCqD0cs8TqYCf21bjIHsmC2nIMCGOT4C3yCV44rQRXPS4BOkNIOchTL4RI4A0fggvtdYAj0g2qeFc10hKlNUXwF1sAOeALfdHCuxMZEsyoOFrjwTK8bTN3YMGvjcf7BzF3RukxHIl2DfSVuALvgQIn3wCJ44zwpDpqY/i2458YouARpzmV9BEyAExWk2RTRARUgxiuMqytsg3nWRCzMgL/PWATtoJfVr+PeHd/70OoJ6bxajotyhYCTmBJv8XVssdRljD0hFoiDDCcyfgcrjFyyxFGwBBI8K5YJ+573iEEriHOjBdSr55KoSbDM4ppekFrlHPWZCupJpcoP4IWCRt7bRA5MK7sqxRQ/irxIDegAPez7qDqbNeJyv1Huvvmf7/wjwABtLlYtICx9HQAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createGroupIcon12=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTNFQzE0NTdEOTk1MTFFNUI4MjJGMjBFRDk4MkMxNjAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTNFQzE0NThEOTk1MTFFNUI4MjJGMjBFRDk4MkMxNjAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxM0VDMTQ1NUQ5OTUxMUU1QjgyMkYyMEVEOTgyQzE2MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxM0VDMTQ1NkQ5OTUxMUU1QjgyMkYyMEVEOTgyQzE2MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiInRbAAAAEjSURBVHjaYuTi5XqkpKvI9/fXHwZWDlaGZ/eeM7x59raDAQj4pOQrBBUVGP78+MfAzMbE8PLKhU8Mhnb6/6//P/f/8N/d/x8AWUn1cf+BaleCsFPt5P/T/v//3/zj//8JQFrB1vM/I5IN3EAbfgBt+Au0QRBqw3sMG0DiQMwPxFuB2BzKZmLAAViA+BOU/QOI7wPxRyhfCIhT0NT/ZETi7AZiZiD+DOXL6EdlGdkWFzF8evaDgUuIg2F9eiTYBrhuIJ4NxHegfDsgnobuJGQbNgBxMRDfhfLFgDgB3UnInPVALMxAACDbcBGItwDxAyhfCRismejBiuyHiUBsDMQmUL6cSXIJf0hTDsNboEN42RkYJth58TPisV0eaMNFdBsAAgwANVJzd8zQrUcAAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createCutIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAlRJREFUeNqkU09okmEcfj6ThNRhjUEJDhxDZ1t4sI3lDrKDhESHpC6x6yBoh52GfcdBJDvtElEUdKhOSq1JjF0SabSton9OmIeRxVKIrUgdU5xvv8e+hXXYpRcefv+e5/mh7/tpSin8z9Gi0Sg0TTsv+edarfa+Wq2iUqmgXC6DudVqhd1uh81ma+UWi8Uv3G5ZPJ9MJmGq1+twOBynBOek6T9oG+fkkU8djymVSiGTyWBiYuL6QSb7YvLIp679+D0ej57NZpX8JD0QCPj7+vrgcrnAyJp9zskj3zD928Tr9er5fF5FIhFdiH4aMLJmn/N98R+Dq5qGSUFQwKFs1AuFggqFQrrT6bzIyJp9zoMGn7qWQU6ST4JNQeK3kd/n8+nFYlGFw+HFdDqtWLOfMHjk5wwDjckRwGYGeJVnBMdXgaNrbveJKysr/etu91pHtVo8BnyXWUnwsgHM7wAVX7MJ0cEmjWvW4eGzjpGRXnNnZ8cFeRi9pRI+dnXtjMbj/cLp57rG1tbPH0tLwd3l5QHp3RBU8E7Txr4MDb1V8bh60tOzfhN4vTc9rRYkCm4tGDX7nJNHPnWt/+CFpt1rF9emptScxKfA2DNZwThn9NtNWjoxMH1Tqru+va02NzbK47FY4PHMzJtdYPYD8OChGDCyZp9z8sinrnWXt4E7q4ODRbrelw0x2Xjyn1fImn3OySOfutYt+IDRSeCycAZeAYm7wKLkshR87A1+cILDAss4EDkNXJI8Ows8yin1nENn+5MXNA3hnpHzHBKYjWhqe4lffwkwAMRcPMqRQZ4vAAAAAElFTkSuQmCC",eImg},SvgFactory.prototype.createCopyIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgBJREFUeNqMk79rFEEcxd/M7V2QAzVFEOMFGwNiIGCjEdIEhYODmEawsFf8G4QQSCPYyqUWCdhY2qSQECSpInvFJYT8Ki6dZO8Sb2P29pfvu+4sm+UKv/AYZna/b95ndla9WFyEUmoewG0Mr+9hGB5EYYhypZIseO0fCHa3sP/LhxVFkazd+by0tOIFAQac+3w5imPYto1Pa2tv+VxR+8bRuv8EevIRxn5uQoszpWI2RjSIBgMMLi/hui76/T6+Li+v8Pkz9k0Wo409pFHAJooUCiWqYlk46nTQ2ttD+/gY75pNPKjVmmfd7gf2vKbu5U0sMWBpzWatNcAkv7n789lZ1GdmMqQ3cbxApIUikg58H5S0JgkSE/L/L1JmoNJmMZEDzCNdK5cxwtFxHHxcXcXTqalm27Zf7rRaRKBBhkAhxcgjiYlUo16HfKlqtYpv29u95Az81EClCFLyaQ0SCib/dtNJ6qsGfDmJnRqoXIKiyVUDz8sSSGy5VnI3ikh5k1KplBnog/V19BxnRCZmV15dGCSdO1wziphcS3rrT7d71zk5Ob8+Pf3eMN4aH3/8qtGYM0hp7iyJbO0bBOrMPTz8kl6OpGoTEzEncwapaCLrRNfu6Wli0Etl6mbfdb0MiYrlXsjZyAUTE0qwOxsbo9aQ3/dGEWlYRRcX5xxG/wowAC8cIjzfyA4lAAAAAElFTkSuQmCC",eImg},SvgFactory.prototype.createPasteIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAadJREFUeNpinGLPAAaMjAxwcJ9Tk+0Bt7YPkCkKFXqt8PXqFsXv13/B1Pz/D6FZENoYZgKxMYgh9OI6i567q5hFUp4kiH9i3qTnT3auqWPgZ/gDVXsWiNPBFk+2hxtwxi0syfjy5csM0vFzGTg42Bj4+XnAEh8/fmH48eMXw9OFyQy6uroMu1bNAxlgAnbB338IJ6hlzWU4uXgJw6FDO4Ga+Rl4eXkZWFlZGb58/crw6eNHBjG7Iga1yAiG7SvmwfWw/P2LMADkraiYaIb79+4xYAOKSkpgNch6UFzwFxgy//79Y5BTUMBqwF+g3H8mJgZkPSgu+Ac04M+/fwz4AAswulBc8Ocfqg1/kGWxAEagAch6WP78RfUCIQOYmJkZ/qC44A+qAb8JeIEZZMkfXC4gwgsQNUgG/CbRC2BXIhvw8AsDgzQnkgEEvACxBMJ++h0YJmufMTA8ABry8xckGkFOxIdBakBqQXpAekGZiXPTSwbeUAEgB5hsObm58acDoJp3nxkYNn1gEANyP4MNAGKxh18ZbsXxsjMQA97/Z7gF0gPEfwACDAB/y9xB1I3/FQAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createMenuIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjM3MUVBMzlERkJEMTFFNUEwMjFFNDJDMDlCMUY3OTciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjM3MUVBM0FERkJEMTFFNUEwMjFFNDJDMDlCMUY3OTciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCMzcxRUEzN0RGQkQxMUU1QTAyMUU0MkMwOUIxRjc5NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCMzcxRUEzOERGQkQxMUU1QTAyMUU0MkMwOUIxRjc5NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pux7nZcAAAGtSURBVHjalFM9a8JQFL0veYkfYJUQEYuIIF07uToVpGuHOgid3dJN+i+K4C6CXQqFjplcCoKbXZ0EqRUFP/CTxCS9NzTdNOmBx32P3Nx3zj33sXq9/tRqtbRYLCaLomhBANi2La5WK7NSqTRYNpt1LMsCLACO47iLMXY2CoIAm80GZFkGoVQqfWy3WzBNE6gQVveNhmHAbreDYrHYZaPRKKTr+i0ykTDBPnUzgfYEvFkYDAZWoVDQWb/fB9QD6XQajscjBCkQDodhOBzCcrkEVq1WXfoEL9EPlEdSZrMZ8Pl8frVYLO7QgRB+sPx+/GUk4qUGNvOdYSO+JpPJJdHyc8ADnUluIpH45vv9XiFbiFIQC71IjuBe5ZlM5gYlPHLOL7C4AcEgofXbXC7X4PF4vKuqahf+AWJxOBwgEokA6/V67kFRFFcGLU/SqShJkusATSNbr9fQ6XSuU6mUQP3BBIaJZyM6BuPx2Mnn85+sVqu9ttvt+2QyGXgOqInT6RTK5fIbwwl0iFI0Gv2btCA9QPdcOVzTtOdms/mAnnKkaAexES0UcG/hc375EWAA94tOP0vEOEcAAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createCheckboxCheckedIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpFQ0VGQkU3ODM4MTFFNjExQjlCQzhERUVDNkNGMzFDMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBRkJCRDU1MTEyM0ExMUU2ODE4MUUyOTNBNTRGQkIxNyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBRkJCRDU1MDEyM0ExMUU2ODE4MUUyOTNBNTRGQkIxNyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjIzMkM4M0M1M0MxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVDRUZCRTc4MzgxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+riMaEQAAAL5JREFUeNqUks0JhDAQhSd7tgtLMDUIyTXF2IdNWIE3c0ruYg9LtgcPzvpEF8SfHR8MGR75hpcwRERmrjQXCyutDKUQAkuFu2AUpsyiJ1JK0UtycRgGMsbsPBFYVRVZaw/+7Zu895znOY/j+PPWT7oGp2lirTU3TbPz/4IAAGLALeic47Ztlx7RELHrusPAAwgoy7LlrOuay7I8TXIadYOLouC+7+XgBiP2lTbw0crFGAF9ANq1kS75G8xXgAEAiqu9OeWZ/voAAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createCheckboxCheckedReadOnlyIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTZENDVDNkY0NDVFMTFFNkI1MjZCRkJDQ0FEMUEyNDMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTZENDVDNzA0NDVFMTFFNkI1MjZCRkJDQ0FEMUEyNDMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1NkQ0NUM2RDQ0NUUxMUU2QjUyNkJGQkNDQUQxQTI0MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1NkQ0NUM2RTQ0NUUxMUU2QjUyNkJGQkNDQUQxQTI0MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiE1TFsAAAGLSURBVHjadJI9a8JQFIbfSFBBakDaDg5O0nay4OSPsEFoCq4JODhUShd3F9emFreKqJOlS6Xg4OB/cIkZijjXwRa/uthzLokESS683I+cJ+fec15pv9/DHfP5/JSmR1KedOEcW6QP0nMqlfp2YyUXJOiWpleSAv/xQzIIfudNyAO9+UHr9Rrtdhuz2SzOMU4sQrQ4o7nF2f3SDIdD1Ot19Ho9ODEtYs454z0p7gdNp1OYpontdot0Ou0ec+wDgyrvlsslxuPxAdpsNmg0GnxFVCoVaJrm/WeewSte9ft9lMtljEYj8YWvNhgMkMvloOs6ZFn2gpeHnaIoohDNZhO73Q7dbhfRaBTVahWJROL4FX+y06frQqGAyWSCTqcDy7KwWq1Qq9WQzWb9nv8VcpqLcDgsrprJZASkqiqKxWJAS/HJ4IvTXCSTSRiGISpYKpUQiUSCjPAknOMxgLRYLGDbtsgci8WOIbbZHbvHaznNMcJJwPV+SbprOSnA5Ddccq4eyeY3kUyvyf8FGAAA/p3KIKgjXwAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createCheckboxUncheckedIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpFQ0VGQkU3ODM4MTFFNjExQjlCQzhERUVDNkNGMzFDMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2MkU1Rjk1NDExNDExMUU2ODhEQkMyRTJGOUNGODYyQyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MkU1Rjk1MzExNDExMUU2ODhEQkMyRTJGOUNGODYyQyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI1MkM4M0M1M0MxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVDRUZCRTc4MzgxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+t+CXswAAAFBJREFUeNrsksENwDAIA023a9YGNqlItkixlAFIn1VOMv5wvACAOxOZWUwsB6Gqswp36QivJNhBRHDhI0f8j9jNrCy4O2twNMobT/7QeQUYAFaKU1yE2OfhAAAAAElFTkSuQmCC",eImg},SvgFactory.prototype.createCheckboxUncheckedReadOnlyIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjE4MjE1MTc0NDVFMTFFNjgyNzA5QzQ5MjBBRTM0QTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjE4MjE1MTg0NDVFMTFFNjgyNzA5QzQ5MjBBRTM0QTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MTgyMTUxNTQ0NUUxMUU2ODI3MDlDNDkyMEFFMzRBOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2MTgyMTUxNjQ0NUUxMUU2ODI3MDlDNDkyMEFFMzRBOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoIZc5kAAADFSURBVHjaYvz//z8DDDx69EgESBUBsQ8Qq0GFbwDxJiCeJCcn9wamlhGmEagpGEjNBWJ+BuzgExAnATWvhWuEaloN4jPgByBbQkGaGR8+fCgK5NwBYj4G4gDIZlUmIJFLgiYGqNoCkEY/BtKBD0ijBhka1ZkYyAO/mKDxRCq4xwSNXFLBVlB0iAEZt0mODmBkvgKlCGjkMhCRAECp5xU4cKDJKAyIP+PR9BmWalDSKloi9wUFOSj0gPgWyE9APBE5kQMEGAD0/UBfnjaiGAAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createCheckboxIndeterminateIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpFQ0VGQkU3ODM4MTFFNjExQjlCQzhERUVDNkNGMzFDMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGMjU4MzhGQjEyM0ExMUU2QjAxM0Q2QjZFQ0IzNzM4NiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGMjU4MzhGQTEyM0ExMUU2QjAxM0Q2QjZFQ0IzNzM4NiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjIzMkM4M0M1M0MxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVDRUZCRTc4MzgxMUU2MTFCOUJDOERFRUM2Q0YzMUMzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+2Xml2QAAAGBJREFUeNpiYGBg8ATiZ0D8n0j8DKqH4dnhw4f/EwtAakF6GEGmAAEDKYCRkZGBiYFMQH+NLNjcjw2ghwMLIQWDx48Do/H5kSNHiNZw9OhREPUCRHiBNJOQyJ+A9AAEGACqkFldNkPUwwAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createCheckboxIndeterminateReadOnlyIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Nzg3RjczNTA0NDVFMTFFNkE4Q0NDN0E3NUI3Qjk5QjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Nzg3RjczNTE0NDVFMTFFNkE4Q0NDN0E3NUI3Qjk5QjIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3ODdGNzM0RTQ0NUUxMUU2QThDQ0M3QTc1QjdCOTlCMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3ODdGNzM0RjQ0NUUxMUU2QThDQ0M3QTc1QjdCOTlCMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhD2+R8AAADRSURBVHjaYvz//z8DDDx69EgESBUBsQ8Qq0GFbwDxJiCeJCcn9wamlhGmEagpGEjNBWJ+BuzgExAnATWvhWuEaloN4jPgByBbQkGaGR8+fCgK5NwBYj4G4gDIZlUmIJFLgiYGqNoCkEY/BtKBDwuQ0IDx5OXl8aoGegvGVGdiIA/8YoHGkz6aiYTAPSZo5JIKtoKiQwzIuE1ydAAj8xUoRUAjl4GIBABKPa/AgQNNRmFA/BmPps+wVIOSVtESuS8oyEGhB8S3QH4C4onIiRwgwABzikY1hHfO+QAAAABJRU5ErkJggg==",eImg},SvgFactory.prototype.createGroupExpandedIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzBBODQ4M0ExMjM4MTFFNkFDNEJDMjUzQUJBQ0I2QjkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzBBODQ4M0IxMjM4MTFFNkFDNEJDMjUzQUJBQ0I2QjkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MEE4NDgzODEyMzgxMUU2QUM0QkMyNTNBQkFDQjZCOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3MEE4NDgzOTEyMzgxMUU2QUM0QkMyNTNBQkFDQjZCOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhKAo60AAADVSURBVHjajFC9DkRgEJzzFhqiligURKcjR+UFJK7wGN7jOq+glXgCvSgUCnyVn47GHsVdcURsss3s7OzOPEzTdB3HeTPGeMMw0DQNOI4Dz/PI8xyWZSGO4y4MwxeSJGnruqarGseRNE1r4fv+YSgIwgErioJwpgrggHmeR7Bt+xZ5GAbCNE2/0zvpv78v6bpOUFX1lvK6roQz92dkWZYJiqLcSmOeZ9qDb6uqusx5WRaSJIlBFEUnTdNuC536vifXdaksSwqCgLIsoyiKdnNs23l+BBgAK/54I/P5bhMAAAAASUVORK5CYII=",eImg},SvgFactory.prototype.createGroupContractedIcon=function(){var eImg=document.createElement("img");return eImg.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0U2QUVBRDYxMjM4MTFFNjk3NjVBRUM0MUJDRjFCODgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0U2QUVBRDcxMjM4MTFFNjk3NjVBRUM0MUJDRjFCODgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3RTZBRUFENDEyMzgxMUU2OTc2NUFFQzQxQkNGMUI4OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3RTZBRUFENTEyMzgxMUU2OTc2NUFFQzQxQkNGMUI4OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhjzsKsAAADSSURBVHjajJAvioVgFMXPuAuLYhYMBsVmU54mNyA4wWW4j2luwSq4ArsYDAZ9X/JP0+KZ58CkgTffD264l3MPnPPh+34cRdGXEEL1PA/TNEFRFKiqirZtEQQByrJ85nn+iaqq5nEc+Y5t2+g4zow0TSlD13XEf66/JElChGEoJV7Xldj3/WfRNI0A/sx9v3Fdl7BtW8r5ui6CkpimSViWJSU+joN38fMwDG+F53nSMAwBXdejuq6fr9K5LAvjOGbf98yyjE3TsCiKO5x4/Ty+BRgA3R6JXc/jqsQAAAAASUVORK5CYII=",eImg},SvgFactory}();exports.SvgFactory=SvgFactory},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(9),context_1=__webpack_require__(8),cellRendererFactory_1=__webpack_require__(65),CellRendererService=function(){function CellRendererService(){}return CellRendererService.prototype.useCellRenderer=function(cellRendererKey,eTarget,params){var cellRenderer=this.lookUpCellRenderer(cellRendererKey);if(!utils_1.Utils.missing(cellRenderer)){var iCellRendererInstance=null,resultFromRenderer;this.checkForDeprecatedItems(cellRenderer);var rendererIsAComponent=this.doesImplementICellRenderer(cellRenderer);if(rendererIsAComponent){iCellRendererInstance=new cellRenderer,this.context.wireBean(iCellRendererInstance),iCellRendererInstance.init&&iCellRendererInstance.init(params),resultFromRenderer=iCellRendererInstance.getGui()}else{resultFromRenderer=cellRenderer(params)}return null!==resultFromRenderer&&""!==resultFromRenderer?(utils_1.Utils.isNodeOrElement(resultFromRenderer)?eTarget.appendChild(resultFromRenderer):eTarget.innerHTML=resultFromRenderer,iCellRendererInstance):void 0}},CellRendererService.prototype.checkForDeprecatedItems=function(cellRenderer){cellRenderer&&cellRenderer.renderer&&console.warn("ag-grid: colDef.cellRenderer should not be an object, it should be a string, function or class. this "+"changed in v4.1.x, please check the documentation on Cell Rendering, or if you are doing grouping, look at the grouping examples.")},CellRendererService.prototype.doesImplementICellRenderer=function(cellRenderer){return cellRenderer.prototype&&"getGui"in cellRenderer.prototype},CellRendererService.prototype.lookUpCellRenderer=function(cellRendererKey){return"string"==typeof cellRendererKey?this.cellRendererFactory.getCellRenderer(cellRendererKey):cellRendererKey},__decorate([context_1.Autowired("cellRendererFactory"),__metadata("design:type",cellRendererFactory_1.CellRendererFactory)],CellRendererService.prototype,"cellRendererFactory",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],CellRendererService.prototype,"context",void 0),CellRendererService=__decorate([context_1.Bean("cellRendererService"),__metadata("design:paramtypes",[])],CellRendererService),CellRendererService}();exports.CellRendererService=CellRendererService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(8),gridOptionsWrapper_1=__webpack_require__(5),ValueFormatterService=function(){function ValueFormatterService(){}return ValueFormatterService.prototype.formatValue=function(column,rowNode,$scope,rowIndex,value){var colDef=column.getColDef(),formatter;formatter=rowNode.floating?colDef.floatingCellFormatter?colDef.floatingCellFormatter:colDef.cellFormatter:colDef.cellFormatter;var result=null;if(formatter){var params={value:value,node:rowNode,column:column,$scope:$scope,rowIndex:rowIndex,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};result=formatter(params)}return result},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],ValueFormatterService.prototype,"gridOptionsWrapper",void 0),ValueFormatterService=__decorate([context_1.Bean("valueFormatterService"),__metadata("design:paramtypes",[])],ValueFormatterService),ValueFormatterService}();exports.ValueFormatterService=ValueFormatterService},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},component_1=__webpack_require__(49),rowNode_1=__webpack_require__(29),utils_1=__webpack_require__(9),context_1=__webpack_require__(8),gridOptionsWrapper_1=__webpack_require__(5),svgFactory_1=__webpack_require__(69),svgFactory=svgFactory_1.SvgFactory.getInstance(),CheckboxSelectionComponent=function(_super){function CheckboxSelectionComponent(){_super.call(this,"<span class=\"ag-selection-checkbox\"/>")}return __extends(CheckboxSelectionComponent,_super),CheckboxSelectionComponent.prototype.createAndAddIcons=function(){this.eCheckedIcon=utils_1.Utils.createIconNoSpan("checkboxChecked",this.gridOptionsWrapper,null,svgFactory.createCheckboxCheckedIcon),this.eUncheckedIcon=utils_1.Utils.createIconNoSpan("checkboxUnchecked",this.gridOptionsWrapper,null,svgFactory.createCheckboxUncheckedIcon),this.eIndeterminateIcon=utils_1.Utils.createIconNoSpan("checkboxIndeterminate",this.gridOptionsWrapper,null,svgFactory.createCheckboxIndeterminateIcon);var eGui=this.getGui();eGui.appendChild(this.eCheckedIcon),eGui.appendChild(this.eUncheckedIcon),eGui.appendChild(this.eIndeterminateIcon)},CheckboxSelectionComponent.prototype.onSelectionChanged=function(){var state=this.rowNode.isSelected();utils_1.Utils.setVisible(this.eCheckedIcon,!0===state),utils_1.Utils.setVisible(this.eUncheckedIcon,!1===state),utils_1.Utils.setVisible(this.eIndeterminateIcon,"boolean"!=typeof state)},CheckboxSelectionComponent.prototype.onCheckedClicked=function(){this.rowNode.setSelected(!1)},CheckboxSelectionComponent.prototype.onUncheckedClicked=function(event){this.rowNode.setSelectedParams({newValue:!0,rangeSelect:event.shiftKey})},CheckboxSelectionComponent.prototype.onIndeterminateClicked=function(event){this.rowNode.setSelectedParams({newValue:!0,rangeSelect:event.shiftKey})},CheckboxSelectionComponent.prototype.init=function(params){this.createAndAddIcons(),this.rowNode=params.rowNode,this.onSelectionChanged(),this.addGuiEventListener("click",function(event){return event.stopPropagation()}),this.addGuiEventListener("dblclick",function(event){return event.stopPropagation()}),this.addDestroyableEventListener(this.eCheckedIcon,"click",this.onCheckedClicked.bind(this)),this.addDestroyableEventListener(this.eUncheckedIcon,"click",this.onUncheckedClicked.bind(this)),this.addDestroyableEventListener(this.eIndeterminateIcon,"click",this.onIndeterminateClicked.bind(this)),this.addDestroyableEventListener(this.rowNode,rowNode_1.RowNode.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this))},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],CheckboxSelectionComponent.prototype,"gridOptionsWrapper",void 0),CheckboxSelectionComponent}(component_1.Component);exports.CheckboxSelectionComponent=CheckboxSelectionComponent},function(module,exports,__webpack_require__){var utils_1=__webpack_require__(9),column_1=__webpack_require__(17),SetLeftFeature=function(){function SetLeftFeature(columnOrGroup,eCell){this.destroyFunctions=[],this.columnOrGroup=columnOrGroup,this.eCell=eCell,this.init()}return SetLeftFeature.prototype.init=function(){var _this=this,listener=this.onLeftChanged.bind(this);this.columnOrGroup.addEventListener(column_1.Column.EVENT_LEFT_CHANGED,listener),this.destroyFunctions.push(function(){_this.columnOrGroup.removeEventListener(column_1.Column.EVENT_LEFT_CHANGED,listener)}),this.onLeftChanged()},SetLeftFeature.prototype.onLeftChanged=function(){var newLeft=this.columnOrGroup.getLeft();this.eCell.style.left=utils_1.Utils.exists(newLeft)?this.columnOrGroup.getLeft()+"px":""},SetLeftFeature.prototype.destroy=function(){this.destroyFunctions.forEach(function(func){func()})},SetLeftFeature}();exports.SetLeftFeature=SetLeftFeature},function(module,exports){var MethodNotImplementedException=function(){return function(){}}();exports.MethodNotImplementedException=MethodNotImplementedException},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(8),constants_1=__webpack_require__(10),columnController_1=__webpack_require__(15),floatingRowModel_1=__webpack_require__(28),utils_1=__webpack_require__(9),gridRow_1=__webpack_require__(37),gridCell_1=__webpack_require__(36),CellNavigationService=function(){function CellNavigationService(){}return CellNavigationService.prototype.getNextCellToFocus=function(event,key,lastCellToFocus){var selectLast=event.ctrlKey||event.metaKey;switch(key){case constants_1.Constants.KEY_UP:return this.getCellAbove(lastCellToFocus,selectLast);case constants_1.Constants.KEY_DOWN:return this.getCellBelow(lastCellToFocus,selectLast);case constants_1.Constants.KEY_RIGHT:return this.getCellToRight(lastCellToFocus,selectLast);case constants_1.Constants.KEY_LEFT:return this.getCellToLeft(lastCellToFocus,selectLast);default:console.log("ag-Grid: unknown key for navigation "+key);}},CellNavigationService.prototype.getCellToLeft=function(lastCell,selectLast){void 0===selectLast&&(selectLast=!1);var colToLeft;return colToLeft=selectLast?this.columnController.getFirstDisplayedColumn():this.columnController.getDisplayedColBefore(lastCell.column),colToLeft?new gridCell_1.GridCell(lastCell.rowIndex,lastCell.floating,colToLeft):null},CellNavigationService.prototype.getCellToRight=function(lastCell,selectLast){void 0===selectLast&&(selectLast=!1);var colToRight;return colToRight=selectLast?this.columnController.getLastDisplayedColumn():this.columnController.getDisplayedColAfter(lastCell.column),colToRight?new gridCell_1.GridCell(lastCell.rowIndex,lastCell.floating,colToRight):null},CellNavigationService.prototype.getRowBelow=function(lastRow){return this.isLastRowInContainer(lastRow)?lastRow.isFloatingBottom()?null:lastRow.isNotFloating()?this.floatingRowModel.isRowsToRender(constants_1.Constants.FLOATING_BOTTOM)?new gridRow_1.GridRow(0,constants_1.Constants.FLOATING_BOTTOM):null:this.rowModel.isRowsToRender()?new gridRow_1.GridRow(0,null):this.floatingRowModel.isRowsToRender(constants_1.Constants.FLOATING_BOTTOM)?new gridRow_1.GridRow(0,constants_1.Constants.FLOATING_BOTTOM):null:new gridRow_1.GridRow(lastRow.rowIndex+1,lastRow.floating)},CellNavigationService.prototype.getCellBelow=function(lastCell,selectLast){void 0===selectLast&&(selectLast=!1);var rowBelow;if(selectLast){var rowCount=this.rowModel.getRowCount();0<rowCount&&(rowBelow=new gridRow_1.GridRow(rowCount-1,null))}else rowBelow=this.getRowBelow(lastCell.getGridRow());return rowBelow?new gridCell_1.GridCell(rowBelow.rowIndex,rowBelow.floating,lastCell.column):null},CellNavigationService.prototype.isLastRowInContainer=function(gridRow){if(gridRow.isFloatingTop()){var lastTopIndex=this.floatingRowModel.getFloatingTopRowData().length-1;return lastTopIndex===gridRow.rowIndex}if(gridRow.isFloatingBottom()){var lastBottomIndex=this.floatingRowModel.getFloatingBottomRowData().length-1;return lastBottomIndex===gridRow.rowIndex}var lastBodyIndex=this.rowModel.getRowCount()-1;return lastBodyIndex===gridRow.rowIndex},CellNavigationService.prototype.getRowAbove=function(lastRow){return 0===lastRow.rowIndex?lastRow.isFloatingTop()?null:lastRow.isNotFloating()?this.floatingRowModel.isRowsToRender(constants_1.Constants.FLOATING_TOP)?this.getLastFloatingTopRow():null:this.rowModel.isRowsToRender()?this.getLastBodyCell():this.floatingRowModel.isRowsToRender(constants_1.Constants.FLOATING_TOP)?this.getLastFloatingTopRow():null:new gridRow_1.GridRow(lastRow.rowIndex-1,lastRow.floating)},CellNavigationService.prototype.getCellAbove=function(lastCell,selectLast){void 0===selectLast&&(selectLast=!1);var rowAbove;if(selectLast){var rowCount=this.rowModel.getRowCount();0<rowCount&&(rowAbove=new gridRow_1.GridRow(0,null))}else rowAbove=this.getRowAbove(lastCell.getGridRow());return rowAbove?new gridCell_1.GridCell(rowAbove.rowIndex,rowAbove.floating,lastCell.column):null},CellNavigationService.prototype.getLastBodyCell=function(){var lastBodyRow=this.rowModel.getRowCount()-1;return new gridRow_1.GridRow(lastBodyRow,null)},CellNavigationService.prototype.getLastFloatingTopRow=function(){var lastFloatingRow=this.floatingRowModel.getFloatingTopRowData().length-1;return new gridRow_1.GridRow(lastFloatingRow,constants_1.Constants.FLOATING_TOP)},CellNavigationService.prototype.getNextTabbedCell=function(gridCell,backwards){return backwards?this.getNextTabbedCellBackwards(gridCell):this.getNextTabbedCellForwards(gridCell)},CellNavigationService.prototype.getNextTabbedCellForwards=function(gridCell){var displayedColumns=this.columnController.getAllDisplayedColumns(),newRowIndex=gridCell.rowIndex,newFloating=gridCell.floating,newColumn=this.columnController.getDisplayedColAfter(gridCell.column);if(!newColumn){newColumn=displayedColumns[0];var rowBelow=this.getRowBelow(gridCell.getGridRow());if(utils_1.Utils.missing(rowBelow))return;newRowIndex=rowBelow.rowIndex,newFloating=rowBelow.floating}return new gridCell_1.GridCell(newRowIndex,newFloating,newColumn)},CellNavigationService.prototype.getNextTabbedCellBackwards=function(gridCell){var displayedColumns=this.columnController.getAllDisplayedColumns(),newRowIndex=gridCell.rowIndex,newFloating=gridCell.floating,newColumn=this.columnController.getDisplayedColBefore(gridCell.column);if(!newColumn){newColumn=displayedColumns[displayedColumns.length-1];var rowAbove=this.getRowAbove(gridCell.getGridRow());if(utils_1.Utils.missing(rowAbove))return;newRowIndex=rowAbove.rowIndex,newFloating=rowAbove.floating}return new gridCell_1.GridCell(newRowIndex,newFloating,newColumn)},__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],CellNavigationService.prototype,"columnController",void 0),__decorate([context_1.Autowired("rowModel"),__metadata("design:type",Object)],CellNavigationService.prototype,"rowModel",void 0),__decorate([context_1.Autowired("floatingRowModel"),__metadata("design:type",floatingRowModel_1.FloatingRowModel)],CellNavigationService.prototype,"floatingRowModel",void 0),CellNavigationService=__decorate([context_1.Bean("cellNavigationService"),__metadata("design:paramtypes",[])],CellNavigationService),CellNavigationService}();exports.CellNavigationService=CellNavigationService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},gridOptionsWrapper_1=__webpack_require__(5),columnController_1=__webpack_require__(15),gridPanel_1=__webpack_require__(26),column_1=__webpack_require__(17),context_1=__webpack_require__(8),headerContainer_1=__webpack_require__(77),eventService_1=__webpack_require__(6),events_1=__webpack_require__(12),HeaderRenderer=function(){function HeaderRenderer(){}return HeaderRenderer.prototype.init=function(){var _this=this;this.eHeaderViewport=this.gridPanel.getHeaderViewport(),this.eRoot=this.gridPanel.getRoot(),this.eHeaderOverlay=this.gridPanel.getHeaderOverlay(),this.centerContainer=new headerContainer_1.HeaderContainer(this.gridPanel.getHeaderContainer(),this.gridPanel.getHeaderViewport(),this.eRoot,null),this.childContainers=[this.centerContainer],this.gridOptionsWrapper.isForPrint()||(this.pinnedLeftContainer=new headerContainer_1.HeaderContainer(this.gridPanel.getPinnedLeftHeader(),null,this.eRoot,column_1.Column.PINNED_LEFT),this.pinnedRightContainer=new headerContainer_1.HeaderContainer(this.gridPanel.getPinnedRightHeader(),null,this.eRoot,column_1.Column.PINNED_RIGHT),this.childContainers.push(this.pinnedLeftContainer),this.childContainers.push(this.pinnedRightContainer)),this.childContainers.forEach(function(container){return _this.context.wireBean(container)}),this.eventService.addEventListener(events_1.Events.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_VALUE_CHANGED,this.refreshHeader.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_RESIZED,this.setPinnedColContainerWidth.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.setPinnedColContainerWidth.bind(this)),this.columnController.isReady()&&this.refreshHeader()},HeaderRenderer.prototype.forEachHeaderElement=function(callback){this.childContainers.forEach(function(childContainer){return childContainer.forEachHeaderElement(callback)})},HeaderRenderer.prototype.destroy=function(){this.childContainers.forEach(function(container){return container.destroy()})},HeaderRenderer.prototype.onGridColumnsChanged=function(){this.setHeight()},HeaderRenderer.prototype.refreshHeader=function(){this.setHeight(),this.childContainers.forEach(function(container){return container.refresh()}),this.setPinnedColContainerWidth()},HeaderRenderer.prototype.setHeight=function(){if(this.eHeaderOverlay){var rowHeight=this.gridOptionsWrapper.getHeaderHeight(),dept=this.columnController.getHeaderRowCount();this.eHeaderOverlay.style.height=rowHeight+"px",this.eHeaderOverlay.style.top=(dept-1)*rowHeight+"px"}},HeaderRenderer.prototype.setPinnedColContainerWidth=function(){if(!this.gridOptionsWrapper.isForPrint()){var pinnedLeftWidth=this.columnController.getPinnedLeftContainerWidth();this.eHeaderViewport.style.marginLeft=pinnedLeftWidth+"px",this.pinnedLeftContainer.setWidth(pinnedLeftWidth);var pinnedRightWidth=this.columnController.getPinnedRightContainerWidth();this.eHeaderViewport.style.marginRight=pinnedRightWidth+"px",this.pinnedRightContainer.setWidth(pinnedRightWidth)}},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],HeaderRenderer.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],HeaderRenderer.prototype,"columnController",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],HeaderRenderer.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],HeaderRenderer.prototype,"context",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],HeaderRenderer.prototype,"eventService",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],HeaderRenderer.prototype,"init",null),__decorate([context_1.PreDestroy,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],HeaderRenderer.prototype,"destroy",null),HeaderRenderer=__decorate([context_1.Bean("headerRenderer"),__metadata("design:paramtypes",[])],HeaderRenderer),HeaderRenderer}();exports.HeaderRenderer=HeaderRenderer},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(9),gridOptionsWrapper_1=__webpack_require__(5),context_1=__webpack_require__(8),dragAndDropService_1=__webpack_require__(78),columnController_1=__webpack_require__(15),gridPanel_1=__webpack_require__(26),eventService_1=__webpack_require__(6),events_1=__webpack_require__(12),headerRowComp_1=__webpack_require__(79),bodyDropTarget_1=__webpack_require__(84),HeaderContainer=function(){function HeaderContainer(eContainer,eViewport,eRoot,pinned){this.headerRowComps=[],this.eContainer=eContainer,this.eRoot=eRoot,this.pinned=pinned,this.eViewport=eViewport}return HeaderContainer.prototype.setWidth=function(width){this.eContainer.style.width=width+"px"},HeaderContainer.prototype.forEachHeaderElement=function(callback){this.headerRowComps.forEach(function(headerRowComp){return headerRowComp.forEachHeaderElement(callback)})},HeaderContainer.prototype.init=function(){this.setupDragAndDrop(),this.eventService.addEventListener(events_1.Events.EVENT_COLUMN_VALUE_CHANGED,this.onGridColumnsChanged.bind(this)),this.eventService.addEventListener(events_1.Events.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this))},HeaderContainer.prototype.destroy=function(){this.removeHeaderRowComps()},HeaderContainer.prototype.onGridColumnsChanged=function(){this.removeHeaderRowComps(),this.createHeaderRowComps()},HeaderContainer.prototype.refresh=function(){this.onGridColumnsChanged()},HeaderContainer.prototype.setupDragAndDrop=function(){var dropContainer=this.eViewport?this.eViewport:this.eContainer,bodyDropTarget=new bodyDropTarget_1.BodyDropTarget(this.pinned,dropContainer);this.context.wireBean(bodyDropTarget)},HeaderContainer.prototype.removeHeaderRowComps=function(){this.headerRowComps.forEach(function(headerRowComp){headerRowComp.destroy()}),this.headerRowComps.length=0,utils_1.Utils.removeAllChildren(this.eContainer)},HeaderContainer.prototype.createHeaderRowComps=function(){for(var rowCount=this.columnController.getHeaderRowCount(),dept=0;dept<rowCount;dept++){var groupRow=dept!==rowCount-1,headerRowComp=new headerRowComp_1.HeaderRowComp(dept,groupRow,this.pinned,this.eRoot,this.dropTarget);this.context.wireBean(headerRowComp),this.headerRowComps.push(headerRowComp),this.eContainer.appendChild(headerRowComp.getGui())}},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],HeaderContainer.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],HeaderContainer.prototype,"context",void 0),__decorate([context_1.Autowired("$scope"),__metadata("design:type",Object)],HeaderContainer.prototype,"$scope",void 0),__decorate([context_1.Autowired("dragAndDropService"),__metadata("design:type",dragAndDropService_1.DragAndDropService)],HeaderContainer.prototype,"dragAndDropService",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],HeaderContainer.prototype,"columnController",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],HeaderContainer.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],HeaderContainer.prototype,"eventService",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],HeaderContainer.prototype,"init",null),HeaderContainer}();exports.HeaderContainer=HeaderContainer},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},logger_1=__webpack_require__(7),context_1=__webpack_require__(8),utils_1=__webpack_require__(9),gridOptionsWrapper_1=__webpack_require__(5),svgFactory_1=__webpack_require__(69),dragService_1=__webpack_require__(34),columnController_1=__webpack_require__(15),gridPanel_1=__webpack_require__(26),svgFactory=svgFactory_1.SvgFactory.getInstance();(function(DragSourceType){DragSourceType[DragSourceType.ToolPanel=0]="ToolPanel",DragSourceType[DragSourceType.HeaderCell=1]="HeaderCell"})(exports.DragSourceType||(exports.DragSourceType={}));var DragSourceType=exports.DragSourceType,DragAndDropService=function(){function DragAndDropService(){this.dropTargets=[]}return DragAndDropService.prototype.init=function(){this.ePinnedIcon=utils_1.Utils.createIcon("columnMovePin",this.gridOptionsWrapper,null,svgFactory.createPinIcon),this.ePlusIcon=utils_1.Utils.createIcon("columnMoveAdd",this.gridOptionsWrapper,null,svgFactory.createPlusIcon),this.eHiddenIcon=utils_1.Utils.createIcon("columnMoveHide",this.gridOptionsWrapper,null,svgFactory.createColumnHiddenIcon),this.eMoveIcon=utils_1.Utils.createIcon("columnMoveMove",this.gridOptionsWrapper,null,svgFactory.createMoveIcon),this.eLeftIcon=utils_1.Utils.createIcon("columnMoveLeft",this.gridOptionsWrapper,null,svgFactory.createLeftIcon),this.eRightIcon=utils_1.Utils.createIcon("columnMoveRight",this.gridOptionsWrapper,null,svgFactory.createRightIcon),this.eGroupIcon=utils_1.Utils.createIcon("columnMoveGroup",this.gridOptionsWrapper,null,svgFactory.createGroupIcon),this.eAggregateIcon=utils_1.Utils.createIcon("columnMoveValue",this.gridOptionsWrapper,null,svgFactory.createAggregationIcon),this.ePivotIcon=utils_1.Utils.createIcon("columnMovePivot",this.gridOptionsWrapper,null,svgFactory.createPivotIcon),this.eDropNotAllowedIcon=utils_1.Utils.createIcon("dropNotAllowed",this.gridOptionsWrapper,null,svgFactory.createDropNotAllowedIcon)},DragAndDropService.prototype.setBeans=function(loggerFactory){this.logger=loggerFactory.create("OldToolPanelDragAndDropService"),this.eBody=document.querySelector("body"),this.eBody||console.warn("ag-Grid: could not find document body, it is needed for dragging columns")},DragAndDropService.prototype.addDragSource=function(dragSource){this.dragService.addDragSource({eElement:dragSource.eElement,dragStartPixels:dragSource.dragStartPixels,onDragStart:this.onDragStart.bind(this,dragSource),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),activationPredicate:dragSource.activationPredicate})},DragAndDropService.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},DragAndDropService.prototype.onDragStart=function(dragSource,mouseEvent){this.dragging=!0,this.dragSource=dragSource,this.eventLastTime=mouseEvent,this.dragSource.dragItem.forEach(function(column){return column.setMoving(!0)}),this.dragItem=this.dragSource.dragItem,this.lastDropTarget=this.dragSource.dragSourceDropTarget,utils_1.Utils.addCssClass(this.gridPanel.getHeaderContainer(),"ag-header-column-dragging"),this.gridOptionsWrapper.getCustomCreateGhost()?this.gridOptionsWrapper.getCustomCreateGhost().bind(this)():this.createGhost()},DragAndDropService.prototype.onDragStop=function(mouseEvent){if(this.eventLastTime=null,this.dragging=!1,utils_1.Utils.removeCssClass(this.gridPanel.getHeaderContainer(),"ag-header-column-dragging"),this.dragItem.forEach(function(column){return column.setMoving(!1)}),this.lastDropTarget&&this.lastDropTarget.onDragStop){var draggingEvent=this.createDropTargetEvent(this.lastDropTarget,mouseEvent,null,!1);this.lastDropTarget.onDragStop(draggingEvent)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},DragAndDropService.prototype.onDragging=function(mouseEvent,fromNudge){var direction=this.workOutDirection(mouseEvent);this.eventLastTime=mouseEvent,this.gridOptionsWrapper.getCustomPositionGhost()?this.gridOptionsWrapper.getCustomPositionGhost().bind(this)(mouseEvent):this.positionGhost(mouseEvent);var dropTarget=utils_1.Utils.find(this.dropTargets,this.isMouseOnDropTarget.bind(this,mouseEvent))||this.dropTargets[0];if(dropTarget!==this.lastDropTarget)this.leaveLastTargetIfExists(mouseEvent,direction,fromNudge),this.enterDragTargetIfExists(dropTarget,mouseEvent,direction,fromNudge),this.lastDropTarget=dropTarget;else if(dropTarget){var draggingEvent=this.createDropTargetEvent(dropTarget,mouseEvent,direction,fromNudge);dropTarget.onDragging(draggingEvent)}},DragAndDropService.prototype.enterDragTargetIfExists=function(dropTarget,mouseEvent,direction,fromNudge){if(dropTarget){var dragEnterEvent=this.createDropTargetEvent(dropTarget,mouseEvent,direction,fromNudge);dropTarget.onDragEnter(dragEnterEvent),this.setGhostIcon(dropTarget.getIconName?dropTarget.getIconName():null)}},DragAndDropService.prototype.leaveLastTargetIfExists=function(mouseEvent,direction,fromNudge){if(this.lastDropTarget){var dragLeaveEvent=this.createDropTargetEvent(this.lastDropTarget,mouseEvent,direction,fromNudge);this.lastDropTarget.onDragLeave(dragLeaveEvent),this.setGhostIcon(null)}},DragAndDropService.prototype.getAllContainersFromDropTarget=function(dropTarget){var containers=[dropTarget.getContainer()],secondaryContainers=dropTarget.getSecondaryContainers?dropTarget.getSecondaryContainers():null;return secondaryContainers&&(containers=containers.concat(secondaryContainers)),containers},DragAndDropService.prototype.isMouseOnDropTarget=function(mouseEvent,dropTarget){var allContainers=this.getAllContainersFromDropTarget(dropTarget),gotMatch=!1;return allContainers.forEach(function(eContainer){if(eContainer){var rect=eContainer.getBoundingClientRect();if(0!==rect.width&&0!==rect.height){var horizontalFit=mouseEvent.clientX>=rect.left&&mouseEvent.clientX<=rect.right,verticalFit=mouseEvent.clientY>=rect.top&&mouseEvent.clientY<=rect.bottom;horizontalFit&&verticalFit&&(gotMatch=!0)}}}),gotMatch},DragAndDropService.prototype.addDropTarget=function(dropTarget){this.dropTargets.push(dropTarget)},DragAndDropService.prototype.workOutDirection=function(event){var direction;return direction=this.eventLastTime.clientX>event.clientX?DragAndDropService.DIRECTION_LEFT:this.eventLastTime.clientX<event.clientX?DragAndDropService.DIRECTION_RIGHT:null,direction},DragAndDropService.prototype.createDropTargetEvent=function(dropTarget,event,direction,fromNudge){var rect=dropTarget.getContainer().getBoundingClientRect(),x=event.clientX-rect.left,y=event.clientY-rect.top,dropTargetEvent={event:event,x:x,y:y,direction:direction,dragSource:this.dragSource,fromNudge:fromNudge};return dropTargetEvent},DragAndDropService.prototype.positionGhost=function(event){var ghostRect=this.eGhost.getBoundingClientRect(),ghostHeight=ghostRect.height,browserWidth=utils_1.Utils.getBodyWidth()-2,browserHeight=utils_1.Utils.getBodyHeight()-2,top=event.pageY-ghostHeight/2,left=event.pageX-30,windowScrollY=window.pageYOffset||document.documentElement.scrollTop,windowScrollX=window.pageXOffset||document.documentElement.scrollLeft;0<browserWidth&&left+this.eGhost.clientWidth>browserWidth+windowScrollX&&(left=browserWidth+windowScrollX-this.eGhost.clientWidth),0>left&&(left=0),0<browserHeight&&top+this.eGhost.clientHeight>browserHeight+windowScrollY&&(top=browserHeight+windowScrollY-this.eGhost.clientHeight),0>top&&(top=0),this.eGhost.style.left=left+"px",this.eGhost.style.top=top+"px"},DragAndDropService.prototype.removeGhost=function(){this.eGhost&&this.eBody.removeChild(this.eGhost),this.eGhost=null},DragAndDropService.prototype.createGhost=function(){this.eGhost=utils_1.Utils.loadTemplate(DragAndDropService.GHOST_TEMPLATE),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.lastDropTarget&&this.setGhostIcon(this.lastDropTarget.getIconName?this.lastDropTarget.getIconName():null);var eText=this.eGhost.querySelector(".ag-dnd-ghost-label");eText.innerHTML=this.dragSource.dragItemName,this.eGhost.style.height=this.gridOptionsWrapper.getHeaderHeight()+"px",this.eGhost.style.top="20px",this.eGhost.style.left="20px",this.eBody.appendChild(this.eGhost)},DragAndDropService.prototype.setGhostIcon=function(iconName,shake){if(void 0===shake&&(shake=!1),!this.gridOptionsWrapper.isSuppressGhostIcon()){utils_1.Utils.removeAllChildren(this.eGhostIcon);var eIcon;eIcon=iconName===DragAndDropService.ICON_ADD?this.ePlusIcon:iconName===DragAndDropService.ICON_PINNED?this.ePinnedIcon:iconName===DragAndDropService.ICON_MOVE?this.eMoveIcon:iconName===DragAndDropService.ICON_LEFT?this.eLeftIcon:iconName===DragAndDropService.ICON_RIGHT?this.eRightIcon:iconName===DragAndDropService.ICON_GROUP?this.eGroupIcon:iconName===DragAndDropService.ICON_AGGREGATE?this.eAggregateIcon:iconName===DragAndDropService.ICON_PIVOT?this.ePivotIcon:iconName===DragAndDropService.ICON_NOT_ALLOWED?this.eDropNotAllowedIcon:this.eHiddenIcon,this.eGhostIcon.appendChild(eIcon),utils_1.Utils.addOrRemoveCssClass(this.eGhostIcon,"ag-shake-left-to-right",shake)}},DragAndDropService.DIRECTION_LEFT="left",DragAndDropService.DIRECTION_RIGHT="right",DragAndDropService.ICON_PINNED="pinned",DragAndDropService.ICON_ADD="add",DragAndDropService.ICON_MOVE="move",DragAndDropService.ICON_LEFT="left",DragAndDropService.ICON_RIGHT="right",DragAndDropService.ICON_GROUP="group",DragAndDropService.ICON_AGGREGATE="aggregate",DragAndDropService.ICON_PIVOT="pivot",DragAndDropService.ICON_NOT_ALLOWED="notAllowed",DragAndDropService.GHOST_TEMPLATE="<div class=\"ag-dnd-ghost\">"+"  <span class=\"ag-dnd-ghost-icon ag-shake-left-to-right\"></span>"+"  <div class=\"ag-dnd-ghost-label\">"+"  </div>"+"</div>",__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],DragAndDropService.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("dragService"),__metadata("design:type",dragService_1.DragService)],DragAndDropService.prototype,"dragService",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],DragAndDropService.prototype,"columnController",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],DragAndDropService.prototype,"gridPanel",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],DragAndDropService.prototype,"init",null),__decorate([__param(0,context_1.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],DragAndDropService.prototype,"setBeans",null),DragAndDropService=__decorate([context_1.Bean("dragAndDropService"),__metadata("design:paramtypes",[])],DragAndDropService),DragAndDropService}();exports.DragAndDropService=DragAndDropService},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},component_1=__webpack_require__(49),context_1=__webpack_require__(8),gridOptionsWrapper_1=__webpack_require__(5),columnGroup_1=__webpack_require__(16),columnController_1=__webpack_require__(15),renderedHeaderGroupCell_1=__webpack_require__(80),renderedHeaderCell_1=__webpack_require__(82),eventService_1=__webpack_require__(6),events_1=__webpack_require__(12),utils_1=__webpack_require__(9),HeaderRowComp=function(_super){function HeaderRowComp(dept,showingGroups,pinned,eRoot,dropTarget){_super.call(this,"<div class=\"ag-header-row\"/>"),this.headerElements={},this.dept=dept,this.showingGroups=showingGroups,this.pinned=pinned,this.eRoot=eRoot,this.dropTarget=dropTarget}return __extends(HeaderRowComp,_super),HeaderRowComp.prototype.forEachHeaderElement=function(callback){var _this=this;Object.keys(this.headerElements).forEach(function(key){var headerElement=_this.headerElements[key];callback(headerElement)})},HeaderRowComp.prototype.destroy=function(){var idsOfAllChildren=Object.keys(this.headerElements);this.removeAndDestroyChildComponents(idsOfAllChildren),_super.prototype.destroy.call(this)},HeaderRowComp.prototype.removeAndDestroyChildComponents=function(idsToDestroy){var _this=this;idsToDestroy.forEach(function(id){var child=_this.headerElements[id];_this.getGui().removeChild(child.getGui()),child.destroy(),delete _this.headerElements[id]})},HeaderRowComp.prototype.onRowHeightChanged=function(){var rowHeight=this.gridOptionsWrapper.getHeaderHeight();this.getGui().style.top=this.dept*rowHeight+"px",this.getGui().style.height=rowHeight+"px"},HeaderRowComp.prototype.init=function(){this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.addDestroyableEventListener(this.gridOptionsWrapper,gridOptionsWrapper_1.GridOptionsWrapper.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addDestroyableEventListener(this.eventService,events_1.Events.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addDestroyableEventListener(this.eventService,events_1.Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this))},HeaderRowComp.prototype.onDisplayedColumnsChanged=function(){if(this.showingGroups){var idsOfAllChildren=Object.keys(this.headerElements);this.removeAndDestroyChildComponents(idsOfAllChildren)}this.onVirtualColumnsChanged()},HeaderRowComp.prototype.onVirtualColumnsChanged=function(){var _this=this,currentChildIds=Object.keys(this.headerElements),nodesAtDept=this.columnController.getVirtualHeaderGroupRow(this.pinned,this.dept);nodesAtDept.forEach(function(child){var idOfChild=child.getUniqueId();if(0<=currentChildIds.indexOf(idOfChild))return void utils_1.Utils.removeFromArray(currentChildIds,idOfChild);if(!(child instanceof columnGroup_1.ColumnGroup&&0===child.getDisplayedChildren().length)){var renderedHeaderElement=_this.createHeaderElement(child);_this.headerElements[idOfChild]=renderedHeaderElement,_this.getGui().appendChild(renderedHeaderElement.getGui())}}),this.removeAndDestroyChildComponents(currentChildIds)},HeaderRowComp.prototype.createHeaderElement=function(columnGroupChild){var result;return result=columnGroupChild instanceof columnGroup_1.ColumnGroup?new renderedHeaderGroupCell_1.RenderedHeaderGroupCell(columnGroupChild,this.eRoot,this.dropTarget):new renderedHeaderCell_1.RenderedHeaderCell(columnGroupChild,this.eRoot,this.dropTarget),this.context.wireBean(result),result},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],HeaderRowComp.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],HeaderRowComp.prototype,"columnController",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],HeaderRowComp.prototype,"context",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],HeaderRowComp.prototype,"eventService",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],HeaderRowComp.prototype,"init",null),HeaderRowComp}(component_1.Component);exports.HeaderRowComp=HeaderRowComp},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(9),svgFactory_1=__webpack_require__(69),columnController_1=__webpack_require__(15),filterManager_1=__webpack_require__(45),gridOptionsWrapper_1=__webpack_require__(5),column_1=__webpack_require__(17),horizontalDragService_1=__webpack_require__(40),context_1=__webpack_require__(8),cssClassApplier_1=__webpack_require__(81),dragAndDropService_1=__webpack_require__(78),setLeftFeature_1=__webpack_require__(73),events_1=__webpack_require__(12),eventService_1=__webpack_require__(6),gridPanel_1=__webpack_require__(26),autoWidthCalculator_1=__webpack_require__(24),svgFactory=svgFactory_1.SvgFactory.getInstance(),RenderedHeaderGroupCell=function(){function RenderedHeaderGroupCell(columnGroup,eRoot,dragSourceDropTarget){this.destroyFunctions=[],this.columnGroup=columnGroup,this.eRoot=eRoot,this.dragSourceDropTarget=dragSourceDropTarget}return RenderedHeaderGroupCell.prototype.getGui=function(){return this.eHeaderGroupCell},RenderedHeaderGroupCell.prototype.onIndividualColumnResized=function(column){this.columnGroup.isChildInThisGroupDeepSearch(column)&&this.setWidth()},RenderedHeaderGroupCell.prototype.init=function(){this.eHeaderGroupCell=document.createElement("div"),cssClassApplier_1.CssClassApplier.addHeaderClassesFromCollDef(this.columnGroup.getColGroupDef(),this.eHeaderGroupCell,this.gridOptionsWrapper),this.displayName=this.columnGroup.getHeaderName(),this.setupResize(),this.addClasses(),this.setupLabel(),this.setupMove(),this.setWidth(),this.addRangeSelectedListener(),this.addHeaderClickListener(),this.addHeaderHoverListener();var setLeftFeature=new setLeftFeature_1.SetLeftFeature(this.columnGroup,this.eHeaderGroupCell);this.destroyFunctions.push(setLeftFeature.destroy.bind(setLeftFeature))},RenderedHeaderGroupCell.prototype.addRangeSelectedListener=function(){var _this=this;this.rangeController&&(this.eventService.addEventListener(events_1.Events.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelected.bind(this)),this.destroyFunctions.push(function(){_this.eventService.removeEventListener(events_1.Events.EVENT_RANGE_SELECTION_CHANGED,_this.onRangeSelected.bind(_this))}),this.onRangeSelected())},RenderedHeaderGroupCell.prototype.shouldSelectGroup=function(){for(var allColumnsInThisGroup=this.columnGroup.getDisplayedLeafColumns(),_i=0,column;_i<allColumnsInThisGroup.length;_i++)if(column=allColumnsInThisGroup[_i],!this.rangeController.isColSelected(column))return!1;return!0},RenderedHeaderGroupCell.prototype.onRangeSelected=function(e){var isGroupSelected=!0,startHeaderSelectionColumn=this.rangeController.getStartHeaderSelectionColumn(),endHeaderSelectionColumn=this.rangeController.getLastEndHeaderSelectionColumn(),activeRangeType=this.rangeController.getActiveRangeType();if(isGroupSelected=2==activeRangeType&&this.columnGroup.getOriginalColumnGroup().getLevel()<this.rangeController.getCurrentHeaderSelectionLevel()?this.shouldSelectGroup():(0==activeRangeType||startHeaderSelectionColumn&&void 0!=startHeaderSelectionColumn.getLevel()&&!(startHeaderSelectionColumn.getLevel()>this.columnGroup.getOriginalColumnGroup().getLevel())||endHeaderSelectionColumn&&void 0!=endHeaderSelectionColumn.getLevel()&&!(endHeaderSelectionColumn.getLevel()>this.columnGroup.getOriginalColumnGroup().getLevel()))&&this.shouldSelectGroup(),utils_1.Utils.addOrRemoveCssClass(this.eHeaderGroupCell,"ag-header-column-selected",isGroupSelected),e&&e.finished){var thisColumn=this.rangeController.getStartHeaderSelectionColumn();utils_1.Utils.addOrRemoveCssClass(this.eHeaderGroupCell,"ag-header-column-draggable",0!=activeRangeType&&isGroupSelected&&(!thisColumn||thisColumn.getLevel()==this.columnGroup.getOriginalColumnGroup().getLevel()))}},RenderedHeaderGroupCell.prototype.addHeaderClickListener=function(){this.eHeaderGroupCell.addEventListener("mousedown",this.onMouseDown.bind(this)),this.eHeaderGroupCell.addEventListener("mouseup",this.onMouseUp.bind(this))},RenderedHeaderGroupCell.prototype.addHeaderHoverListener=function(){this.eHeaderGroupCell.addEventListener("mouseenter",this.onMouseEnter.bind(this))},RenderedHeaderGroupCell.prototype.onMouseEnter=function(){this.eventService.dispatchEvent(events_1.Events.EVENT_HEADER_HOVER,{column:this.columnGroup})},RenderedHeaderGroupCell.prototype.onMouseDown=function(){this.eventService.dispatchEvent(events_1.Events.EVENT_HEADER_CLICK,{column:this.columnGroup})},RenderedHeaderGroupCell.prototype.onMouseUp=function(){this.eventService.dispatchEvent(events_1.Events.EVENT_HEADER_CLICK,{})},(RenderedHeaderGroupCell.prototype.setupLabel=function(){if(this.displayName&&""!==this.displayName){var eGroupCellLabel=document.createElement("div");eGroupCellLabel.className="ag-header-group-cell-label",this.eHeaderGroupCell.appendChild(eGroupCellLabel),utils_1.Utils.isBrowserSafari()&&(eGroupCellLabel.style.display="table-cell"),this.columnGroup.isExpandable()&&this.addGroupExpandIcon(eGroupCellLabel);var eInnerText=document.createElement("span");eInnerText.className="ag-header-group-text",eInnerText.innerHTML=this.displayName,eGroupCellLabel.appendChild(eInnerText)}},RenderedHeaderGroupCell.prototype.addClasses=function(){utils_1.Utils.addCssClass(this.eHeaderGroupCell,"ag-header-group-cell"),this.columnGroup.getColGroupDef()?utils_1.Utils.addCssClass(this.eHeaderGroupCell,"ag-header-group-cell-with-group"):utils_1.Utils.addCssClass(this.eHeaderGroupCell,"ag-header-group-cell-no-group")},RenderedHeaderGroupCell.prototype.setupResize=function(){var _this=this;this.gridOptionsWrapper.isEnableColResize()&&"$$row_number"!=this.columnGroup.getOriginalColumnGroup().getLeafColumns()[0].colId&&(this.eHeaderCellResize=document.createElement("div"),this.eHeaderCellResize.className="ag-header-cell-resize",this.eHeaderGroupCell.appendChild(this.eHeaderCellResize),this.dragService.addDragHandling({eDraggableElement:this.eHeaderCellResize,eBody:this.eRoot,cursor:"col-resize",startAfterPixels:0,onDragStart:this.onDragStart.bind(this),onDragging:this.onDragging.bind(this)}),!this.gridOptionsWrapper.isSuppressAutoSize()&&this.eHeaderCellResize.addEventListener("dblclick",function(){var keys=[];_this.columnGroup.getDisplayedLeafColumns().forEach(function(column){column.getColDef().suppressAutoSize||keys.push(column.getColId())}),0<keys.length&&_this.columnController.autoSizeColumns(keys)}))},RenderedHeaderGroupCell.prototype.isSuppressMoving=function(){var childSuppressesMoving=!1;this.columnGroup.getLeafColumns().forEach(function(column){(column.getColDef().suppressMovable||"left"==column.getPinned())&&(childSuppressesMoving=!0)});var result=childSuppressesMoving||this.gridOptionsWrapper.isSuppressMovableColumns()||this.gridOptionsWrapper.isForPrint();return result},RenderedHeaderGroupCell.prototype.setupMove=function(){var _this=this,eLabel=this.eHeaderGroupCell.querySelector(".ag-header-group-cell-label");if(eLabel&&!this.isSuppressMoving()&&eLabel){var dragSource={type:dragAndDropService_1.DragSourceType.HeaderCell,eElement:eLabel,dragStartPixels:0,dragItemName:this.displayName,dragGroup:this.columnGroup,dragItem:this.getAllColumnsInThisGroup(),dragSourceDropTarget:this.dragSourceDropTarget,activationPredicate:function activationPredicate(){for(var ranges=_this.rangeController.getCellRanges(),isAllSelected=!1,_i=0,range;_i<ranges.length;_i++)range=ranges[_i],0==range.type&&(isAllSelected=!0);var startHeaderSelectionColumn=_this.rangeController.getStartHeaderSelectionColumn();if(isAllSelected||!startHeaderSelectionColumn||void 0==startHeaderSelectionColumn.getLevel()||_this.columnGroup.getOriginalColumnGroup().getLevel()!=startHeaderSelectionColumn.getLevel())return!1;if(ranges)for(var childColumns=_this.columnGroup.getDisplayedLeafColumns(),_a=0,rangeForColumnGroup,range;_a<ranges.length;_a++)if(range=ranges[_a],1==range.type){for(var containsAllChildren=!0,_b=0,column;_b<childColumns.length;_b++)column=childColumns[_b],utils_1.Utils.contains(range.columns,column)||(containsAllChildren=!1);if(containsAllChildren){rangeForColumnGroup=range;break}}return!!rangeForColumnGroup&&(dragSource.dragItem=rangeForColumnGroup.columns.slice(),dragSource.dragItem.forEach(function(c){utils_1.Utils.removeCssClass(_this.autoWidthCalculator.getHeaderCellForColumn(c).eHeaderCell,"ag-header-column-draggable")}),utils_1.Utils.addCssClass(_this.gridPanel.getHeaderContainer(),"ag-header-column-dragging"),!0)}};this.dragAndDropService.addDragSource(dragSource)}},RenderedHeaderGroupCell.prototype.getAllColumnsInThisGroup=function(){var allColumnsOriginalOrder=this.columnGroup.getOriginalColumnGroup().getLeafColumns(),allColumnsCurrentOrder=[];return this.columnController.getAllDisplayedColumns().forEach(function(column){0<=allColumnsOriginalOrder.indexOf(column)&&(allColumnsCurrentOrder.push(column),utils_1.Utils.removeFromArray(allColumnsOriginalOrder,column))}),allColumnsOriginalOrder.forEach(function(column){return allColumnsCurrentOrder.push(column)}),allColumnsCurrentOrder},RenderedHeaderGroupCell.prototype.setWidth=function(){var _this=this,widthChangedListener=function(){_this.eHeaderGroupCell.style.width=_this.columnGroup.getActualWidth()+"px"};this.columnGroup.getLeafColumns().forEach(function(column){column.addEventListener(column_1.Column.EVENT_WIDTH_CHANGED,widthChangedListener),_this.destroyFunctions.push(function(){column.removeEventListener(column_1.Column.EVENT_WIDTH_CHANGED,widthChangedListener)})}),widthChangedListener()},RenderedHeaderGroupCell.prototype.destroy=function(){this.destroyFunctions.forEach(function(func){func()})},RenderedHeaderGroupCell.prototype.addGroupExpandIcon=function(eGroupCellLabel){var eGroupIcon;eGroupIcon=this.columnGroup.isExpanded()?utils_1.Utils.loadTemplate(RenderedHeaderGroupCell.COLUMN_GROUP_OPENED_ICON):utils_1.Utils.loadTemplate(RenderedHeaderGroupCell.COLUMN_GROUP_CLOSED_ICON),utils_1.Utils.addCssClass(eGroupIcon,"ag-header-expand-icon"),eGroupCellLabel.appendChild(eGroupIcon);var that=this;eGroupIcon.onmousedown=function(e){e.stopPropagation()},eGroupIcon.onclick=function(){var newExpandedValue=!that.columnGroup.isExpanded(),children=that.columnGroup.getOriginalColumnGroup().getColGroupDef().children,totalColumnDef=utils_1.Utils.find(children,function(c){return c.isTotal});totalColumnDef&&(totalColumnDef.headerName=newExpandedValue?totalColumnDef.expandedHeaderName:totalColumnDef.collapsedHeaderName,that.gridOptionsWrapper.getApi().refreshHeader()),that.columnController.setColumnGroupOpened(that.columnGroup,newExpandedValue)}},RenderedHeaderGroupCell.prototype.onDragStart=function(){var _this=this;this.groupWidthStart=this.columnGroup.getActualWidth(),this.childrenWidthStarts=[],this.columnGroup.getDisplayedLeafColumns().forEach(function(column){_this.childrenWidthStarts.push(column.getActualWidth())})},RenderedHeaderGroupCell.prototype.onDragging=function(dragChange,finished){var _this=this,newWidth=this.groupWidthStart+dragChange,minWidth=this.columnGroup.getMinWidth();newWidth<minWidth&&(newWidth=minWidth);var changeRatio=newWidth/this.groupWidthStart,pixelsToDistribute=newWidth,displayedColumns=this.columnGroup.getDisplayedLeafColumns();displayedColumns.forEach(function(column,index){var notLastCol=index!==displayedColumns.length-1,newChildSize;if(notLastCol){var startChildSize=_this.childrenWidthStarts[index];newChildSize=startChildSize*changeRatio,newChildSize<column.getMinWidth()&&(newChildSize=column.getMinWidth()),pixelsToDistribute-=newChildSize}else newChildSize=pixelsToDistribute;_this.columnController.setColumnWidth(column,newChildSize,finished)})},RenderedHeaderGroupCell.COLUMN_GROUP_OPENED_ICON="<span class=\"ag-group-expanded\"><i class=\"fa fa-fw fa-minus-square-o\"></i></span>",RenderedHeaderGroupCell.COLUMN_GROUP_CLOSED_ICON="<span class=\"ag-group-contracted\"><i class=\"fa fa-fw fa-plus-square-o\"></i></span>",__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],RenderedHeaderGroupCell.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],RenderedHeaderGroupCell.prototype,"filterManager",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],RenderedHeaderGroupCell.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("horizontalDragService"),__metadata("design:type",horizontalDragService_1.HorizontalDragService)],RenderedHeaderGroupCell.prototype,"dragService",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],RenderedHeaderGroupCell.prototype,"columnController",void 0),__decorate([context_1.Autowired("dragAndDropService"),__metadata("design:type",dragAndDropService_1.DragAndDropService)],RenderedHeaderGroupCell.prototype,"dragAndDropService",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],RenderedHeaderGroupCell.prototype,"eventService",void 0),__decorate([context_1.Optional("rangeController"),__metadata("design:type",Object)],RenderedHeaderGroupCell.prototype,"rangeController",void 0),__decorate([context_1.Autowired("autoWidthCalculator"),__metadata("design:type",autoWidthCalculator_1.AutoWidthCalculator)],RenderedHeaderGroupCell.prototype,"autoWidthCalculator",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],RenderedHeaderGroupCell.prototype,"init",null),RenderedHeaderGroupCell)}();exports.RenderedHeaderGroupCell=RenderedHeaderGroupCell},function(module,exports,__webpack_require__){var utils_1=__webpack_require__(9),CssClassApplier=function(){function CssClassApplier(){}return CssClassApplier.addHeaderClassesFromCollDef=function(abstractColDef,eHeaderCell,gridOptionsWrapper){if(abstractColDef&&abstractColDef.headerClass){var classToUse;if("function"==typeof abstractColDef.headerClass){var params={colDef:abstractColDef,context:gridOptionsWrapper.getContext(),api:gridOptionsWrapper.getApi()},headerClassFunc=abstractColDef.headerClass;classToUse=headerClassFunc(params)}else classToUse=abstractColDef.headerClass;"string"==typeof classToUse?utils_1.Utils.addCssClass(eHeaderCell,classToUse):Array.isArray(classToUse)&&classToUse.forEach(function(cssClassItem){utils_1.Utils.addCssClass(eHeaderCell,cssClassItem)})}},CssClassApplier}();exports.CssClassApplier=CssClassApplier},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(9),gridPanel_1=__webpack_require__(26),column_1=__webpack_require__(17),filterManager_1=__webpack_require__(45),columnController_1=__webpack_require__(15),headerTemplateLoader_1=__webpack_require__(83),gridOptionsWrapper_1=__webpack_require__(5),horizontalDragService_1=__webpack_require__(40),gridCore_1=__webpack_require__(47),context_1=__webpack_require__(8),cssClassApplier_1=__webpack_require__(81),dragAndDropService_1=__webpack_require__(78),sortController_1=__webpack_require__(44),setLeftFeature_1=__webpack_require__(73),eventService_1=__webpack_require__(6),events_1=__webpack_require__(12),autoWidthCalculator_1=__webpack_require__(24),RenderedHeaderCell=function(){function RenderedHeaderCell(column,eRoot,dragSourceDropTarget){this.destroyFunctions=[],this.addOrRemoveColumnsFromDraggable=function(remove){var ranges=this.rangeController.getCellRanges();if(ranges)for(var _i=0,range;_i<ranges.length;_i++)if(range=ranges[_i],1==range.type&&range.columns)for(var _a=0,_b=range.columns;_a<_b.length;_a++){var c=_b[_a],headerCell=this.autoWidthCalculator.getHeaderCellForColumn(c).eHeaderCell;utils_1.Utils.addOrRemoveCssClass(headerCell,"ag-header-column-draggable",!remove&&!this.isSuppressMoving())}},this.column=column,this.eRoot=eRoot,this.dragSourceDropTarget=dragSourceDropTarget}return RenderedHeaderCell.prototype.getColumn=function(){return this.column},RenderedHeaderCell.prototype.init=function(){this.eHeaderCell=this.headerTemplateLoader.createHeaderElement(this.column),utils_1.Utils.addCssClass(this.eHeaderCell,"ag-header-cell"),this.createScope(),this.addAttributes(),cssClassApplier_1.CssClassApplier.addHeaderClassesFromCollDef(this.column.getColDef(),this.eHeaderCell,this.gridOptionsWrapper);var eHeaderCellLabel=this.eHeaderCell.querySelector("#agHeaderCellLabel"),eHeaderCellSortIcon=this.eHeaderCell.querySelector("#gridSortView");this.displayName=this.columnController.getDisplayNameForCol(this.column,!0),this.setupMovingCss(),this.setupTooltip(),this.setupResize(),this.setupMove(eHeaderCellLabel),this.setupMenu(),this.setupSort(eHeaderCellSortIcon),this.setupFilterIcon(),this.setupText(),this.setupWidth(),this.addRangeSelectedListener(),this.addHeaderClickListener(),this.addHeaderRightClickListener(),this.addHeaderHoverListener();var setLeftFeature=new setLeftFeature_1.SetLeftFeature(this.column,this.eHeaderCell);this.destroyFunctions.push(setLeftFeature.destroy.bind(setLeftFeature))},RenderedHeaderCell.prototype.addHeaderClickListener=function(){this.eHeaderCell.addEventListener("mousedown",this.onMouseDown.bind(this)),this.eHeaderCell.addEventListener("mouseup",this.onMouseUp.bind(this))},RenderedHeaderCell.prototype.addHeaderRightClickListener=function(){this.eHeaderCell.addEventListener("contextmenu",this.onHeaderRightClick.bind(this))},RenderedHeaderCell.prototype.addHeaderHoverListener=function(){this.eHeaderCell.addEventListener("mouseenter",this.onMouseEnter.bind(this))},RenderedHeaderCell.prototype.onMouseEnter=function(){this.eventService.dispatchEvent(events_1.Events.EVENT_HEADER_HOVER,{column:this.column})},RenderedHeaderCell.prototype.onMouseDown=function(event){utils_1.Utils.isRightMouseButton(event)||this.eventService.dispatchEvent(events_1.Events.EVENT_HEADER_CLICK,{column:this.column})},RenderedHeaderCell.prototype.onMouseUp=function(){this.eventService.dispatchEvent(events_1.Events.EVENT_HEADER_CLICK,{})},RenderedHeaderCell.prototype.onHeaderRightClick=function(){this.eventService.dispatchEvent(events_1.Events.EVENT_HEADER_RIGHT_CLICK,{column:this.column})},RenderedHeaderCell.prototype.addRangeSelectedListener=function(){var _this=this;if(this.rangeController){var rangeSelectedListener=function(e){var activeRangeType=_this.rangeController.getActiveRangeType(),isColSelected=_this.rangeController.isColSelected(_this.column);utils_1.Utils.addOrRemoveCssClass(_this.eHeaderCell,"ag-header-column-selected",isColSelected);var anyHeaderCellSelected=_this.rangeController.isColInAnyRange(_this.column);if(utils_1.Utils.addOrRemoveCssClass(_this.eHeaderCell,"ag-header-cell-selected",anyHeaderCellSelected),e&&e.finished){var thisColumn=_this.rangeController.getStartHeaderSelectionColumn();utils_1.Utils.addOrRemoveCssClass(_this.eHeaderCell,"ag-header-column-draggable",!_this.isSuppressMoving()&&isColSelected&&0!=activeRangeType&&(!thisColumn||void 0==thisColumn.getLevel()))}};this.eventService.addEventListener(events_1.Events.EVENT_RANGE_SELECTION_CHANGED,rangeSelectedListener),this.addDestroyFunc(function(){_this.eventService.removeEventListener(events_1.Events.EVENT_RANGE_SELECTION_CHANGED,rangeSelectedListener)}),rangeSelectedListener()}},RenderedHeaderCell.prototype.setupTooltip=function(){var colDef=this.column.getColDef();colDef.headerTooltip&&(this.eHeaderCell.title=colDef.headerTooltip)},RenderedHeaderCell.prototype.setupText=function(){var colDef=this.column.getColDef(),headerCellRenderer;colDef.headerCellRenderer?headerCellRenderer=colDef.headerCellRenderer:this.gridOptionsWrapper.getHeaderCellRenderer()&&(headerCellRenderer=this.gridOptionsWrapper.getHeaderCellRenderer());var eText=this.eHeaderCell.querySelector("#agText");eText&&(headerCellRenderer?this.useRenderer(this.displayName,headerCellRenderer,eText):(eText.className="ag-header-cell-text",eText.innerHTML=this.displayName))},RenderedHeaderCell.prototype.setupFilterIcon=function(){var _this=this,eFilterIcon=this.eHeaderCell.querySelector("#agFilter");if(eFilterIcon){var filterChangedListener=function(){var filterPresent=_this.column.isFilterActive();utils_1.Utils.addOrRemoveCssClass(_this.eHeaderCell,"ag-header-cell-filtered",filterPresent),utils_1.Utils.addOrRemoveCssClass(eFilterIcon,"ag-hidden",!filterPresent)};this.column.addEventListener(column_1.Column.EVENT_FILTER_CHANGED,filterChangedListener),this.destroyFunctions.push(function(){_this.column.removeEventListener(column_1.Column.EVENT_FILTER_CHANGED,filterChangedListener)}),filterChangedListener()}},RenderedHeaderCell.prototype.setupWidth=function(){var _this=this,widthChangedListener=function(){_this.eHeaderCell.style.width=_this.column.getActualWidth()+"px"};this.column.addEventListener(column_1.Column.EVENT_WIDTH_CHANGED,widthChangedListener),this.destroyFunctions.push(function(){_this.column.removeEventListener(column_1.Column.EVENT_WIDTH_CHANGED,widthChangedListener)}),widthChangedListener()},RenderedHeaderCell.prototype.getGui=function(){return this.eHeaderCell},RenderedHeaderCell.prototype.destroy=function(){this.destroyFunctions.forEach(function(func){func()})},RenderedHeaderCell.prototype.createScope=function(){var _this=this;this.gridOptionsWrapper.isAngularCompileHeaders()&&(this.childScope=this.$scope.$new(),this.childScope.colDef=this.column.getColDef(),this.childScope.colDefWrapper=this.column,this.childScope.context=this.gridOptionsWrapper.getContext(),this.destroyFunctions.push(function(){_this.childScope.$destroy()}))},RenderedHeaderCell.prototype.addAttributes=function(){this.eHeaderCell.setAttribute("colId",this.column.getColId())},RenderedHeaderCell.prototype.setupMenu=function(){var _this=this,eMenu=this.eHeaderCell.querySelector("#agMenu");if(eMenu){var skipMenu=!this.menuFactory.isMenuEnabled(this.column)||this.column.getColDef().suppressMenu;if(skipMenu)return this.eHeaderCell.classList.add("without-menu"),void utils_1.Utils.removeFromParent(eMenu);this.eHeaderCell.addEventListener("contextmenu",function(event){return event.preventDefault(),_this.showMenuOnMouseEvent(event)}),eMenu.addEventListener("click",function(){return _this.showMenu(eMenu)}),this.gridOptionsWrapper.isSuppressMenuHide()||(eMenu.style.opacity="0",this.eHeaderCell.addEventListener("mouseover",function(){eMenu.style.opacity="1"}),this.eHeaderCell.addEventListener("mouseout",function(){eMenu.style.opacity="0"}));var style=eMenu.style;style.transition="opacity 0.2s, border 0.2s",style["-webkit-transition"]="opacity 0.2s, border 0.2s"}},RenderedHeaderCell.prototype.showMenu=function(eventSource){this.menuFactory.showMenuAfterButtonClick(this.column,eventSource)},RenderedHeaderCell.prototype.showMenuOnMouseEvent=function(eventSource){this.menuFactory.showMenuAfterMouseEvent(this.column,eventSource)},RenderedHeaderCell.prototype.setupMovingCss=function(){var _this=this,addMovingCssFunc=function(){_this.column.isMoving()?utils_1.Utils.addCssClass(_this.eHeaderCell,"ag-header-cell-moving"):utils_1.Utils.removeCssClass(_this.eHeaderCell,"ag-header-cell-moving")};addMovingCssFunc(),this.column.addEventListener(column_1.Column.EVENT_MOVING_CHANGED,addMovingCssFunc),this.destroyFunctions.push(function(){_this.column.removeEventListener(column_1.Column.EVENT_MOVING_CHANGED,addMovingCssFunc)})},RenderedHeaderCell.prototype.isSuppressMoving=function(){return this.gridOptionsWrapper.isSuppressMovableColumns()||this.column.getColDef().suppressMovable||"left"==this.column.getPinned()||this.gridOptionsWrapper.isForPrint()},RenderedHeaderCell.prototype.setupMove=function(eHeaderCellLabel){var _this=this;if(!this.isSuppressMoving()&&eHeaderCellLabel){var dragSource={type:dragAndDropService_1.DragSourceType.HeaderCell,dragStartPixels:0,eElement:eHeaderCellLabel,dragItem:[this.column],dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget,activationPredicate:function activationPredicate(){if(_this.gridOptionsWrapper.isSuppressMovableColumns())return!1;var ranges=_this.rangeController.getCellRanges(),isAllSelected=!1;if(ranges){for(var _i=0,range;_i<ranges.length;_i++)range=ranges[_i],0==range.type&&(isAllSelected=!0);var rangeForColumn;outer:for(var _a=0,range;_a<ranges.length;_a++){range=ranges[_a];for(var _b=0,_c=range.columns,column;_b<_c.length;_b++)if(column=_c[_b],1==range.type&&column==_this.column){rangeForColumn=range;break outer}}}return!isAllSelected&&rangeForColumn&&void 0==_this.rangeController.getStartHeaderSelectionColumn().getLevel()&&(dragSource.dragItem=rangeForColumn.columns.slice(),dragSource.dragItem.forEach(function(c){utils_1.Utils.removeCssClass(_this.autoWidthCalculator.getHeaderCellForColumn(c).eHeaderCell,"ag-header-column-draggable")}),utils_1.Utils.addCssClass(_this.gridPanel.getHeaderContainer(),"ag-header-column-dragging"),!0)}};this.dragAndDropService.addDragSource(dragSource)}},RenderedHeaderCell.prototype.setupResize=function(){var colDef=this.column.getColDef(),eResize=this.eHeaderCell.querySelector("#agResizeBar");if(eResize){var weWantResize=this.gridOptionsWrapper.isEnableColResize()&&!colDef.suppressResize;if(!weWantResize)return void utils_1.Utils.removeFromParent(eResize);var onDragStart=this.gridOptionsWrapper.getOnHeaderResizableDragStart()||this.onDragStart,onDragging=this.gridOptionsWrapper.getOnHeaderResizableDragging()||this.onDragging;this.horizontalDragService.addDragHandling({eDraggableElement:eResize,eBody:this.eRoot,cursor:"col-resize",startAfterPixels:0,onDragStart:onDragStart.bind(this),onDragging:onDragging.bind(this),onMouseDown:this.addOrRemoveColumnsFromDraggable.bind(this,!0),onMouseUp:this.addOrRemoveColumnsFromDraggable.bind(this,!1)});var weWantAutoSize=!this.gridOptionsWrapper.isSuppressAutoSize()&&!colDef.suppressAutoSize;if(weWantAutoSize){var onDblclick=this.gridOptionsWrapper.getOnHeaderResizableDblclick()||this.onDblclick;eResize.addEventListener("dblclick",onDblclick.bind(this))}}},RenderedHeaderCell.prototype.useRenderer=function(headerNameValue,headerCellRenderer,eText){var cellRendererParams={colDef:this.column.getColDef(),$scope:this.childScope,context:this.gridOptionsWrapper.getContext(),value:headerNameValue,api:this.gridOptionsWrapper.getApi(),eHeaderCell:this.eHeaderCell},cellRendererResult=headerCellRenderer(cellRendererParams),childToAppend;if(utils_1.Utils.isNodeOrElement(cellRendererResult))childToAppend=cellRendererResult;else{var eTextSpan=document.createElement("span");eTextSpan.innerHTML=cellRendererResult,childToAppend=eTextSpan}if(this.gridOptionsWrapper.isAngularCompileHeaders()){var childToAppendCompiled=this.$compile(childToAppend)(this.childScope)[0];eText.appendChild(childToAppendCompiled)}else eText.appendChild(childToAppend)},RenderedHeaderCell.prototype.setupSort=function(eHeaderCellLabel){var _this=this,enableSorting=this.gridOptionsWrapper.isEnableSorting()&&!this.column.getColDef().suppressSorting;if(!enableSorting)return utils_1.Utils.removeFromParent(this.eHeaderCell.querySelector("#agSortAsc")),utils_1.Utils.removeFromParent(this.eHeaderCell.querySelector("#agSortDesc")),void utils_1.Utils.removeFromParent(this.eHeaderCell.querySelector("#agNoSort"));utils_1.Utils.addCssClass(this.eHeaderCell,"ag-header-cell-sortable"),eHeaderCellLabel&&(eHeaderCellLabel.addEventListener("click",function(){_this.sortController.progressSort(_this.column,!0)}),eHeaderCellLabel.addEventListener("mousedown",function(event){event.stopPropagation()}),eHeaderCellLabel.addEventListener("mouseup",function(event){event.stopPropagation()}));var eSortAsc=this.eHeaderCell.querySelector("#agSortAsc"),eSortDesc=this.eHeaderCell.querySelector("#agSortDesc"),eSortNone=this.eHeaderCell.querySelector("#agNoSort"),sortChangedListener=function(){if(utils_1.Utils.addOrRemoveCssClass(_this.eHeaderCell,"ag-header-cell-sorted-asc",_this.column.isSortAscending()),utils_1.Utils.addOrRemoveCssClass(_this.eHeaderCell,"ag-header-cell-sorted-desc",_this.column.isSortDescending()),utils_1.Utils.addOrRemoveCssClass(_this.eHeaderCell,"ag-header-cell-sorted-none",_this.column.isSortNone()),eSortAsc&&utils_1.Utils.addOrRemoveCssClass(eSortAsc,"ag-hidden",!_this.column.isSortAscending()),eSortDesc&&utils_1.Utils.addOrRemoveCssClass(eSortDesc,"ag-hidden",!_this.column.isSortDescending()),eSortNone){var alwaysHideNoSort=!_this.column.getColDef().unSortIcon&&!_this.gridOptionsWrapper.isUnSortIcon();utils_1.Utils.addOrRemoveCssClass(eSortNone,"ag-hidden",alwaysHideNoSort||!_this.column.isSortNone())}};this.column.addEventListener(column_1.Column.EVENT_SORT_CHANGED,sortChangedListener),this.destroyFunctions.push(function(){_this.column.removeEventListener(column_1.Column.EVENT_SORT_CHANGED,sortChangedListener)}),sortChangedListener()},RenderedHeaderCell.prototype.onDragStart=function(){this.startWidth=this.column.getActualWidth()},RenderedHeaderCell.prototype.onDragging=function(dragChange,finished){var newWidth=this.startWidth+dragChange;this.columnController.setColumnWidth(this.column,newWidth,finished)},RenderedHeaderCell.prototype.onDblclick=function(){var columns;if(this.rangeController){var selectedColumns=this.rangeController.getSelectedColumns();columns=0<=selectedColumns.indexOf(this.column)?selectedColumns:[this.column]}else columns=[this.column];this.columnController.autoSizeColumns(columns),this.gridPanel.sizeColumnsToFit()},(RenderedHeaderCell.prototype.onIndividualColumnResized=function(column){if(this.column===column){var newWidthPx=column.getActualWidth()+"px";this.eHeaderCell.style.width=newWidthPx}},RenderedHeaderCell.prototype.addDestroyFunc=function(func){this.destroyFunctions.push(func)},__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],RenderedHeaderCell.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],RenderedHeaderCell.prototype,"context",void 0),__decorate([context_1.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],RenderedHeaderCell.prototype,"filterManager",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],RenderedHeaderCell.prototype,"columnController",void 0),__decorate([context_1.Autowired("$compile"),__metadata("design:type",Object)],RenderedHeaderCell.prototype,"$compile",void 0),__decorate([context_1.Autowired("gridCore"),__metadata("design:type",gridCore_1.GridCore)],RenderedHeaderCell.prototype,"gridCore",void 0),__decorate([context_1.Autowired("headerTemplateLoader"),__metadata("design:type",headerTemplateLoader_1.HeaderTemplateLoader)],RenderedHeaderCell.prototype,"headerTemplateLoader",void 0),__decorate([context_1.Autowired("horizontalDragService"),__metadata("design:type",horizontalDragService_1.HorizontalDragService)],RenderedHeaderCell.prototype,"horizontalDragService",void 0),__decorate([context_1.Autowired("menuFactory"),__metadata("design:type",Object)],RenderedHeaderCell.prototype,"menuFactory",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],RenderedHeaderCell.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("dragAndDropService"),__metadata("design:type",dragAndDropService_1.DragAndDropService)],RenderedHeaderCell.prototype,"dragAndDropService",void 0),__decorate([context_1.Autowired("sortController"),__metadata("design:type",sortController_1.SortController)],RenderedHeaderCell.prototype,"sortController",void 0),__decorate([context_1.Autowired("$scope"),__metadata("design:type",Object)],RenderedHeaderCell.prototype,"$scope",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],RenderedHeaderCell.prototype,"eventService",void 0),__decorate([context_1.Optional("rangeController"),__metadata("design:type",Object)],RenderedHeaderCell.prototype,"rangeController",void 0),__decorate([context_1.Autowired("autoWidthCalculator"),__metadata("design:type",autoWidthCalculator_1.AutoWidthCalculator)],RenderedHeaderCell.prototype,"autoWidthCalculator",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],RenderedHeaderCell.prototype,"init",null),RenderedHeaderCell)}();exports.RenderedHeaderCell=RenderedHeaderCell},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(9),svgFactory_1=__webpack_require__(69),gridOptionsWrapper_1=__webpack_require__(5),context_1=__webpack_require__(8),svgFactory=svgFactory_1.SvgFactory.getInstance(),HeaderTemplateLoader=function(){function HeaderTemplateLoader(){}return HeaderTemplateLoader.prototype.createHeaderElement=function(column){var params={column:column,colDef:column.getColDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi()},userProvidedTemplate=column.getColDef().headerCellTemplate;if("function"==typeof userProvidedTemplate){var colDefFunc=userProvidedTemplate;userProvidedTemplate=colDefFunc(params)}if(!userProvidedTemplate&&this.gridOptionsWrapper.getHeaderCellTemplate()&&(userProvidedTemplate=this.gridOptionsWrapper.getHeaderCellTemplate()),!userProvidedTemplate&&this.gridOptionsWrapper.getHeaderCellTemplateFunc()){var gridOptionsFunc=this.gridOptionsWrapper.getHeaderCellTemplateFunc();userProvidedTemplate=gridOptionsFunc(params)}userProvidedTemplate||(userProvidedTemplate=this.createDefaultHeaderElement(column));var result;return"string"==typeof userProvidedTemplate?result=utils_1.Utils.loadTemplate(userProvidedTemplate):utils_1.Utils.isNodeOrElement(userProvidedTemplate)?result=userProvidedTemplate:console.error("ag-Grid: header template must be a string or an HTML element"),result},HeaderTemplateLoader.prototype.createDefaultHeaderElement=function(column){var eTemplate=utils_1.Utils.loadTemplate(HeaderTemplateLoader.HEADER_CELL_TEMPLATE);return this.addInIcon(eTemplate,"sortAscending","#agSortAsc",column,svgFactory.createArrowUpSvg),this.addInIcon(eTemplate,"sortDescending","#agSortDesc",column,svgFactory.createArrowDownSvg),this.addInIcon(eTemplate,"sortUnSort","#agNoSort",column,svgFactory.createArrowUpDownSvg),this.addInIcon(eTemplate,"menu","#agMenu",column,svgFactory.createMenuSvg),this.addInIcon(eTemplate,"filter","#agFilter",column,svgFactory.createFilterSvg),eTemplate},HeaderTemplateLoader.prototype.addInIcon=function(eTemplate,iconName,cssSelector,column,defaultIconFactory){var eIcon=utils_1.Utils.createIconNoSpan(iconName,this.gridOptionsWrapper,column,defaultIconFactory);eTemplate.querySelector(cssSelector).appendChild(eIcon)},HeaderTemplateLoader.HEADER_CELL_TEMPLATE="<div class=\"ag-header-cell\">"+"  <div id=\"agResizeBar\" class=\"ag-header-cell-resize\"></div>"+"  <span id=\"agMenu\" class=\"ag-header-icon ag-header-cell-menu-button\"></span>"+"  <div id=\"agHeaderCellLabel\" class=\"ag-header-cell-label\">"+"    <span id=\"agSortAsc\" class=\"ag-header-icon ag-sort-ascending-icon\"></span>"+"    <span id=\"agSortDesc\" class=\"ag-header-icon ag-sort-descending-icon\"></span>"+"    <span id=\"agNoSort\" class=\"ag-header-icon ag-sort-none-icon\"></span>"+"    <span id=\"agFilter\" class=\"ag-header-icon ag-filter-icon\"></span>"+"    <span id=\"agText\" class=\"ag-header-cell-text\"></span>"+"  </div>"+"</div>",__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],HeaderTemplateLoader.prototype,"gridOptionsWrapper",void 0),HeaderTemplateLoader=__decorate([context_1.Bean("headerTemplateLoader"),__metadata("design:paramtypes",[])],HeaderTemplateLoader),HeaderTemplateLoader}();exports.HeaderTemplateLoader=HeaderTemplateLoader},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},dragAndDropService_1=__webpack_require__(78),context_1=__webpack_require__(8),moveColumnController_1=__webpack_require__(85),column_1=__webpack_require__(17),gridPanel_1=__webpack_require__(26),bodyDropPivotTarget_1=__webpack_require__(86),columnController_1=__webpack_require__(15),BodyDropTarget=function(){function BodyDropTarget(pinned,eContainer){this.pinned=pinned,this.eContainer=eContainer}return BodyDropTarget.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},BodyDropTarget.prototype.getContainer=function(){return this.eContainer},BodyDropTarget.prototype.init=function(){switch(this.moveColumnController=new moveColumnController_1.MoveColumnController(this.pinned),this.context.wireBean(this.moveColumnController),this.bodyDropPivotTarget=new bodyDropPivotTarget_1.BodyDropPivotTarget(this.pinned),this.context.wireBean(this.bodyDropPivotTarget),this.pinned){case column_1.Column.PINNED_LEFT:this.eSecondaryContainers=this.gridPanel.getDropTargetLeftContainers();break;case column_1.Column.PINNED_RIGHT:this.eSecondaryContainers=this.gridPanel.getDropTargetPinnedRightContainers();break;default:this.eSecondaryContainers=this.gridPanel.getDropTargetBodyContainers();}this.dragAndDropService.addDropTarget(this)},BodyDropTarget.prototype.getIconName=function(){return this.currentDropListener.getIconName()},BodyDropTarget.prototype.isUseBodyDropPivotTarget=function(draggingEvent){return!!this.columnController.isPivotMode()&&draggingEvent.dragSource.type===dragAndDropService_1.DragSourceType.ToolPanel},BodyDropTarget.prototype.onDragEnter=function(draggingEvent){var useBodyDropPivotTarget=this.isUseBodyDropPivotTarget(draggingEvent);this.currentDropListener=useBodyDropPivotTarget?this.bodyDropPivotTarget:this.moveColumnController,this.currentDropListener.onDragEnter(draggingEvent)},BodyDropTarget.prototype.onDragLeave=function(params){this.currentDropListener.onDragLeave(params)},BodyDropTarget.prototype.onDragging=function(params){this.currentDropListener.onDragging(params)},BodyDropTarget.prototype.onDragStop=function(params){this.currentDropListener.onDragStop(params)},__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],BodyDropTarget.prototype,"context",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],BodyDropTarget.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("dragAndDropService"),__metadata("design:type",dragAndDropService_1.DragAndDropService)],BodyDropTarget.prototype,"dragAndDropService",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],BodyDropTarget.prototype,"columnController",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],BodyDropTarget.prototype,"init",null),BodyDropTarget}();exports.BodyDropTarget=BodyDropTarget},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(8),logger_1=__webpack_require__(7),columnController_1=__webpack_require__(15),utils_1=__webpack_require__(9),dragAndDropService_1=__webpack_require__(78),gridPanel_1=__webpack_require__(26),gridOptionsWrapper_1=__webpack_require__(5),mouseEventService_1=__webpack_require__(35),ColumnMoveParams=function(){return function(allMovingColumns,toIndex){this.allMovingColumns=allMovingColumns,this.toIndex=toIndex}}(),MoveColumnController=function(){function MoveColumnController(pinned){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.getAllMovingGroupColumns=function(event,allMovingColumns){if(!event.dragSource.dragGroup)return allMovingColumns;for(var processedGroups=[],allMovingGroupColumns=[],_i=0;_i<allMovingColumns.length;_i++){var column=allMovingColumns[_i],group=column.getParentOfLevel(event.dragSource.dragGroup.getLevel());utils_1.Utils.contains(processedGroups,group)||(allMovingGroupColumns=allMovingGroupColumns.concat(group.getLeafColumns()),processedGroups.push(group))}return allMovingGroupColumns},this.fixNewIndexConsideringCollapsibleGroups=function(event,newIndex,oldIndex,gridColumns){if(event.dragSource.dragGroup){var level=event.dragSource.dragGroup.getLevel(),resultGroup=gridColumns[newIndex].getParentOfLevel(level),group=this.columnController.getColumnGroup(resultGroup.getGroupId()),column=gridColumns[newIndex],displayedChildren=group.getDisplayedLeafColumns(),children=group.getLeafColumns(),displayedGroupIndex=displayedChildren.indexOf(column),groupIndex=children.indexOf(column);if(newIndex<=oldIndex)return[newIndex-groupIndex,newIndex-displayedGroupIndex];var newIndexCorrected=newIndex+(children.length-(groupIndex+1)),newIndexCorrectedForLine=newIndex+(displayedChildren.length-(displayedGroupIndex+1));return newIndexCorrected==gridColumns.length-1&&gridColumns[newIndexCorrected].getColDef().suppressMovable&&(newIndexCorrected-=children.length,newIndexCorrectedForLine-=displayedChildren.length),[newIndexCorrected,newIndexCorrectedForLine]}return[newIndex,newIndex]},this.pinned=pinned,this.centerContainer=!utils_1.Utils.exists(pinned)}return MoveColumnController.prototype.init=function(){this.logger=this.loggerFactory.create("MoveColumnController")},MoveColumnController.prototype.getIconName=function(){return this.pinned?dragAndDropService_1.DragAndDropService.ICON_PINNED:dragAndDropService_1.DragAndDropService.ICON_MOVE},MoveColumnController.prototype.onDragEnter=function(draggingEvent){var columns=draggingEvent.dragSource.dragItem;this.columnController.setColumnsVisible(columns,!0),this.columnController.setColumnsPinned(columns,this.pinned),this.onDragging(draggingEvent,!0)},MoveColumnController.prototype.onDragLeave=function(draggingEvent){var hideColumnOnExit=!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!draggingEvent.fromNudge;if(hideColumnOnExit){var columns=draggingEvent.dragSource.dragItem;this.columnController.setColumnsVisible(columns,!1)}this.ensureIntervalCleared()},MoveColumnController.prototype.onDragStop=function(){this.columnController.removeInsertLine();var movingColumns,toIndex;this.gridOptionsWrapper.isSuppressMoveToPinning()&&this.pinned?(movingColumns=this.lastDraggingEvent.dragSource.dragItem,toIndex=this.columnController.getCountSuppressMovableLeftColumns()):(movingColumns=this.moveParams.allMovingColumns,toIndex=this.moveParams.toIndex);var displayedColumns=this.columnController.getAllDisplayedColumns(),displayedMovingColumns=utils_1.Utils.filter(movingColumns,function(column){return 0<=displayedColumns.indexOf(column)}),dragColumn=displayedMovingColumns[0],gridColumns=this.columnController.getAllGridColumns(),oldIndex=gridColumns.indexOf(dragColumn);oldIndex!=toIndex&&this.columnController.moveColumns(movingColumns,toIndex,this.lastDraggingEvent.dragSource.dragGroup),this.ensureIntervalCleared()},MoveColumnController.prototype.adjustXForScroll=function(draggingEvent){return this.centerContainer?draggingEvent.x+this.gridPanel.getHorizontalScrollPosition():draggingEvent.x},MoveColumnController.prototype.checkCenterForScrolling=function(xAdjustedForScroll){if(this.centerContainer){var firstVisiblePixel=this.gridPanel.getHorizontalScrollPosition(),lastVisiblePixel=firstVisiblePixel+this.gridPanel.getCenterWidth();this.needToMoveLeft=xAdjustedForScroll<firstVisiblePixel+50,this.needToMoveRight=xAdjustedForScroll>lastVisiblePixel-50,this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},MoveColumnController.prototype.onDragging=function(draggingEvent,fromEnter){void 0===fromEnter&&(fromEnter=!1),this.lastDraggingEvent=draggingEvent;var xAdjustedForScroll=this.adjustXForScroll(draggingEvent);fromEnter||this.checkCenterForScrolling(xAdjustedForScroll);var columnsToMove=draggingEvent.dragSource.dragItem;this.attemptMoveColumns(columnsToMove,draggingEvent)},MoveColumnController.prototype.attemptMoveColumns=function(allMovingColumns,event){if(!(this.gridOptionsWrapper.isSuppressMoveToPinning()&&this.pinned)){var allMovingGroupColumns=this.getAllMovingGroupColumns(event,allMovingColumns),displayedColumns=this.columnController.getDisplayedColumns(this.pinned),gridColumns=this.columnController.getAllGridColumns(),displayedMovingColumns=utils_1.Utils.filter(allMovingGroupColumns,function(column){return 0<=displayedColumns.indexOf(column)}),dragColumn=displayedMovingColumns[0],newIndex=gridColumns.indexOf(this.mouseEventService.getColumn(event.event)),oldIndex=gridColumns.indexOf(dragColumn),tmp=this.fixNewIndexConsideringCollapsibleGroups(event,newIndex,oldIndex,gridColumns),newIndexCorrected=tmp[0],newIndexCorrectedForLine=tmp[1],newIndexForArrayCopy=newIndexCorrected>oldIndex?newIndexCorrected-(allMovingGroupColumns.length-1):newIndexCorrected;this.moveParams=new ColumnMoveParams(allMovingGroupColumns,newIndexForArrayCopy),this.columnController.doesMovePassRules(allMovingGroupColumns,newIndexForArrayCopy)?this.columnController.drawInsertLine(gridColumns[newIndexCorrectedForLine],newIndexCorrectedForLine>oldIndex?dragAndDropService_1.DragAndDropService.DIRECTION_RIGHT:dragAndDropService_1.DragAndDropService.DIRECTION_LEFT):this.columnController.removeInsertLine()}},MoveColumnController.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(dragAndDropService_1.DragAndDropService.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(dragAndDropService_1.DragAndDropService.ICON_RIGHT,!0))},MoveColumnController.prototype.ensureIntervalCleared=function(){this.moveInterval&&(clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(dragAndDropService_1.DragAndDropService.ICON_MOVE))},MoveColumnController.prototype.moveInterval=function(){var pixelsToMove;this.intervalCount++,pixelsToMove=10+5*this.intervalCount,100<pixelsToMove&&(pixelsToMove=100);var pixelsMoved;this.needToMoveLeft?pixelsMoved=this.gridPanel.scrollHorizontally(-pixelsToMove):this.needToMoveRight&&(pixelsMoved=this.gridPanel.scrollHorizontally(pixelsToMove)),0!==pixelsMoved&&(this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0)},__decorate([context_1.Autowired("loggerFactory"),__metadata("design:type",logger_1.LoggerFactory)],MoveColumnController.prototype,"loggerFactory",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],MoveColumnController.prototype,"columnController",void 0),__decorate([context_1.Autowired("gridPanel"),__metadata("design:type",gridPanel_1.GridPanel)],MoveColumnController.prototype,"gridPanel",void 0),__decorate([context_1.Autowired("dragAndDropService"),__metadata("design:type",dragAndDropService_1.DragAndDropService)],MoveColumnController.prototype,"dragAndDropService",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],MoveColumnController.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("mouseEventService"),__metadata("design:type",mouseEventService_1.MouseEventService)],MoveColumnController.prototype,"mouseEventService",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],MoveColumnController.prototype,"init",null),MoveColumnController}();exports.MoveColumnController=MoveColumnController},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},dragAndDropService_1=__webpack_require__(78),columnController_1=__webpack_require__(15),context_1=__webpack_require__(8),gridOptionsWrapper_1=__webpack_require__(5),BodyDropPivotTarget=function(){function BodyDropPivotTarget(pinned){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=pinned}return BodyDropPivotTarget.prototype.onDragEnter=function(draggingEvent){var _this=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var dragColumns=draggingEvent.dragSource.dragItem;dragColumns.forEach(function(column){!column.isPrimary()||column.isAnyFunctionActive()||(column.isAllowValue()?_this.columnsToAggregate.push(column):column.isAllowRowGroup()?_this.columnsToGroup.push(column):column.isAllowRowGroup()&&_this.columnsToPivot.push(column))})}},BodyDropPivotTarget.prototype.getIconName=function(){var totalColumns=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return 0<totalColumns?this.pinned?dragAndDropService_1.DragAndDropService.ICON_PINNED:dragAndDropService_1.DragAndDropService.ICON_MOVE:null},BodyDropPivotTarget.prototype.onDragLeave=function(){this.clearColumnsList()},BodyDropPivotTarget.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},BodyDropPivotTarget.prototype.onDragging=function(){},BodyDropPivotTarget.prototype.onDragStop=function(){0<this.columnsToAggregate.length&&this.columnController.addValueColumns(this.columnsToAggregate),0<this.columnsToGroup.length&&this.columnController.addRowGroupColumns(this.columnsToGroup),0<this.columnsToPivot.length&&this.columnController.addPivotColumns(this.columnsToPivot)},__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],BodyDropPivotTarget.prototype,"columnController",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],BodyDropPivotTarget.prototype,"gridOptionsWrapper",void 0),BodyDropPivotTarget}();exports.BodyDropPivotTarget=BodyDropPivotTarget},function(module,exports){var ColumnChangeEvent=function(){function ColumnChangeEvent(type){this.type=type}return ColumnChangeEvent.prototype.toString=function(){var result="ColumnChangeEvent {type: "+this.type;return this.column&&(result+=", column: "+this.column.getColId()),this.columnGroup&&(result+=this.columnGroup.getColGroupDef().headerName),this.toIndex&&(result+=", toIndex: "+this.toIndex),this.visible&&(result+=", visible: "+this.visible),this.pinned&&(result+=", pinned: "+this.pinned),"boolean"==typeof this.finished&&(result+=", finished: "+this.finished),result+="}",result},ColumnChangeEvent.prototype.withPinned=function(pinned){return this.pinned=pinned,this},ColumnChangeEvent.prototype.withSizeToFit=function(sizeToFit){return this.sizeToFit=sizeToFit,this},ColumnChangeEvent.prototype.withVisible=function(visible){return this.visible=visible,this},ColumnChangeEvent.prototype.isVisible=function(){return this.visible},ColumnChangeEvent.prototype.getPinned=function(){return this.pinned},ColumnChangeEvent.prototype.getSizeToFit=function(){return this.sizeToFit},ColumnChangeEvent.prototype.withColumn=function(column){return this.column=column,this},ColumnChangeEvent.prototype.withColumns=function(columns){return this.columns=columns,this},ColumnChangeEvent.prototype.withFinished=function(finished){return this.finished=finished,this},ColumnChangeEvent.prototype.withColumnGroup=function(columnGroup){return this.columnGroup=columnGroup,this},ColumnChangeEvent.prototype.withToIndex=function(toIndex){return this.toIndex=toIndex,this},ColumnChangeEvent.prototype.withDragGroup=function(dragGroup){return this.dragGroup=dragGroup,this},ColumnChangeEvent.prototype.getToIndex=function(){return this.toIndex},ColumnChangeEvent.prototype.getType=function(){return this.type},ColumnChangeEvent.prototype.getColumn=function(){return this.column},ColumnChangeEvent.prototype.getColumns=function(){return this.columns},ColumnChangeEvent.prototype.getColumnGroup=function(){return this.columnGroup},ColumnChangeEvent.prototype.isFinished=function(){return this.finished},ColumnChangeEvent}();exports.ColumnChangeEvent=ColumnChangeEvent},function(module,exports){var GroupInstanceIdCreator=function(){function GroupInstanceIdCreator(){this.existingIds={}}return GroupInstanceIdCreator.prototype.getInstanceIdForKey=function(key){var lastResult=this.existingIds[key],result;return result="number"==typeof lastResult?lastResult+1:0,this.existingIds[key]=result,result},GroupInstanceIdCreator}();exports.GroupInstanceIdCreator=GroupInstanceIdCreator},function(module,exports,__webpack_require__){var utils_1=__webpack_require__(9);exports.defaultGroupComparator=function(valueA,valueB,nodeA,nodeB){var nodeAIsGroup=utils_1.Utils.exists(nodeA)&&nodeA.group,nodeBIsGroup=utils_1.Utils.exists(nodeB)&&nodeB.group;return nodeAIsGroup&&nodeBIsGroup?utils_1.Utils.defaultComparator(nodeA.key,nodeB.key):!nodeAIsGroup&&!nodeBIsGroup?utils_1.Utils.defaultComparator(valueA,valueB):nodeAIsGroup?1:-1}},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},utils_1=__webpack_require__(9),logger_1=__webpack_require__(7),context_1=__webpack_require__(8),context_2=__webpack_require__(8),OldToolPanelDragAndDropService=function(){function OldToolPanelDragAndDropService(){this.destroyFunctions=[]}return OldToolPanelDragAndDropService.prototype.agWire=function(loggerFactory){this.logger=loggerFactory.create("OldToolPanelDragAndDropService");var mouseUpListener=this.stopDragging.bind(this);document.addEventListener("mouseup",mouseUpListener),this.destroyFunctions.push(function(){document.removeEventListener("mouseup",mouseUpListener)})},OldToolPanelDragAndDropService.prototype.destroy=function(){this.destroyFunctions.forEach(function(func){return func()}),document.removeEventListener("mouseup",this.mouseUpEventListener)},OldToolPanelDragAndDropService.prototype.stopDragging=function(){this.dragItem&&(this.setDragCssClasses(this.dragItem.eDragSource,!1),this.dragItem=null)},OldToolPanelDragAndDropService.prototype.setDragCssClasses=function(eListItem,dragging){utils_1.Utils.addOrRemoveCssClass(eListItem,"ag-dragging",dragging),utils_1.Utils.addOrRemoveCssClass(eListItem,"ag-not-dragging",!dragging)},OldToolPanelDragAndDropService.prototype.addDragSource=function(eDragSource,dragSourceCallback){this.setDragCssClasses(eDragSource,!1),eDragSource.addEventListener("mousedown",this.onMouseDownDragSource.bind(this,eDragSource,dragSourceCallback))},OldToolPanelDragAndDropService.prototype.onMouseDownDragSource=function(eDragSource,dragSourceCallback){this.dragItem&&this.stopDragging();var data;dragSourceCallback.getData&&(data=dragSourceCallback.getData());var containerId;dragSourceCallback.getContainerId&&(containerId=dragSourceCallback.getContainerId()),this.dragItem={eDragSource:eDragSource,data:data,containerId:containerId},this.setDragCssClasses(this.dragItem.eDragSource,!0)},OldToolPanelDragAndDropService.prototype.addDropTarget=function(eDropTarget,dropTargetCallback){var _this=this,mouseIn=!1,acceptDrag=!1;eDropTarget.addEventListener("mouseover",function(){mouseIn||(mouseIn=!0,acceptDrag=!!_this.dragItem&&dropTargetCallback.acceptDrag(_this.dragItem))}),eDropTarget.addEventListener("mouseout",function(){acceptDrag&&dropTargetCallback.noDrop(),mouseIn=!1,acceptDrag=!1}),eDropTarget.addEventListener("mouseup",function(){acceptDrag&&_this.dragItem&&dropTargetCallback.drop(_this.dragItem)})},__decorate([__param(0,context_2.Qualifier("loggerFactory")),__metadata("design:type",Function),__metadata("design:paramtypes",[logger_1.LoggerFactory]),__metadata("design:returntype",void 0)],OldToolPanelDragAndDropService.prototype,"agWire",null),__decorate([context_1.PreDestroy,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],OldToolPanelDragAndDropService.prototype,"destroy",null),OldToolPanelDragAndDropService=__decorate([context_1.Bean("oldToolPanelDragAndDropService"),__metadata("design:paramtypes",[])],OldToolPanelDragAndDropService),OldToolPanelDragAndDropService}();exports.OldToolPanelDragAndDropService=OldToolPanelDragAndDropService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(8),filterManager_1=__webpack_require__(45),utils_1=__webpack_require__(9),popupService_1=__webpack_require__(46),gridOptionsWrapper_1=__webpack_require__(5),StandardMenuFactory=function(){function StandardMenuFactory(){}return StandardMenuFactory.prototype.showMenuAfterMouseEvent=function(column,mouseEvent){var _this=this;this.showPopup(column,function(eMenu){_this.popupService.positionPopupUnderMouseEvent({mouseEvent:mouseEvent,ePopup:eMenu})})},StandardMenuFactory.prototype.showMenuAfterButtonClick=function(column,eventSource){var _this=this;this.showPopup(column,function(eMenu){_this.popupService.positionPopupUnderComponent({eventSource:eventSource,ePopup:eMenu,keepWithinBounds:!0})})},StandardMenuFactory.prototype.showPopup=function(column,positionCallback){var filterWrapper=this.filterManager.getOrCreateFilterWrapper(column),eMenu=document.createElement("div");utils_1.Utils.addCssClass(eMenu,"ag-menu"),eMenu.appendChild(filterWrapper.gui);var hidePopup=this.popupService.addAsModalPopup(eMenu,!0);if(positionCallback(eMenu),filterWrapper.filter.afterGuiAttached){filterWrapper.filter.afterGuiAttached({hidePopup:hidePopup})}},StandardMenuFactory.prototype.isMenuEnabled=function(column){return this.gridOptionsWrapper.isEnableFilter()&&column.isFilterAllowed()},__decorate([context_1.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],StandardMenuFactory.prototype,"filterManager",void 0),__decorate([context_1.Autowired("popupService"),__metadata("design:type",popupService_1.PopupService)],StandardMenuFactory.prototype,"popupService",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],StandardMenuFactory.prototype,"gridOptionsWrapper",void 0),StandardMenuFactory=__decorate([context_1.Bean("menuFactory"),__metadata("design:paramtypes",[])],StandardMenuFactory),StandardMenuFactory}();exports.StandardMenuFactory=StandardMenuFactory},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(8),context_2=__webpack_require__(8),gridOptionsWrapper_1=__webpack_require__(5),filterManager_1=__webpack_require__(45),FilterStage=function(){function FilterStage(){}return FilterStage.prototype.execute=function(rowNode){var filterActive;filterActive=!this.gridOptionsWrapper.isEnableServerSideFilter()&&this.filterManager.isAnyFilterPresent(),this.recursivelyFilter(rowNode,filterActive)},FilterStage.prototype.recursivelyFilter=function(rowNode,filterActive){var _this=this;rowNode.childrenAfterGroup.forEach(function(child){child.group&&_this.recursivelyFilter(child,filterActive)});var filterResult;filterActive?(filterResult=[],rowNode.childrenAfterGroup.forEach(function(childNode){childNode.group?0<childNode.childrenAfterFilter.length&&filterResult.push(childNode):_this.filterManager.doesRowPassFilter(childNode)&&filterResult.push(childNode)})):filterResult=rowNode.childrenAfterGroup,rowNode.childrenAfterFilter=filterResult,this.setAllChildrenCount(rowNode),this.setClusterSize(rowNode)},FilterStage.prototype.setClusterSize=function(rowNode){var clusterSizeKey="$$cluster_size",clusterSize=0;rowNode.childrenAfterFilter.forEach(function(child){clusterSize+=child.group?child[clusterSizeKey]:child.data[clusterSizeKey]}),rowNode[clusterSizeKey]=clusterSize},FilterStage.prototype.setAllChildrenCount=function(rowNode){var allChildrenCount=0;rowNode.childrenAfterFilter.forEach(function(child){child.group?allChildrenCount+=child.allChildrenCount:allChildrenCount++}),rowNode.allChildrenCount=allChildrenCount},__decorate([context_2.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],FilterStage.prototype,"gridOptionsWrapper",void 0),__decorate([context_2.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],FilterStage.prototype,"filterManager",void 0),FilterStage=__decorate([context_1.Bean("filterStage"),__metadata("design:paramtypes",[])],FilterStage),FilterStage}();exports.FilterStage=FilterStage},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(8),gridOptionsWrapper_1=__webpack_require__(5),sortController_1=__webpack_require__(44),valueService_1=__webpack_require__(31),utils_1=__webpack_require__(9),SortStage=function(){function SortStage(){}return SortStage.prototype.execute=function(rowNode){var sortOptions;this.gridOptionsWrapper.isEnableServerSideSorting()||(sortOptions=this.sortController.getSortForRowController()),this.sortRowNode(rowNode,sortOptions)},SortStage.prototype.sortRowNode=function(rowNode,sortOptions){var _this=this;rowNode.childrenAfterFilter.forEach(function(child){child.group&&_this.sortRowNode(child,sortOptions)}),rowNode.childrenAfterSort=rowNode.childrenAfterFilter.slice(0);var sortActive=utils_1.Utils.exists(sortOptions)&&0<sortOptions.length;sortActive&&rowNode.childrenAfterSort.sort(this.compareRowNodes.bind(this,sortOptions)),this.updateChildIndexes(rowNode)},SortStage.prototype.compareRowNodes=function(sortOptions,nodeA,nodeB){for(var i=0,len=sortOptions.length;i<len;i++){var sortOption=sortOptions[i],isInverted=-1===sortOption.inverter,valueA=this.valueService.getValue(sortOption.column,nodeA),valueB=this.valueService.getValue(sortOption.column,nodeB),comparatorResult;if(comparatorResult=sortOption.column.getColDef().comparator?sortOption.column.getColDef().comparator(valueA,valueB,nodeA,nodeB,isInverted):utils_1.Utils.defaultComparator(valueA,valueB),0!==comparatorResult)return comparatorResult*sortOption.inverter}return 0},SortStage.prototype.updateChildIndexes=function(rowNode){utils_1.Utils.missing(rowNode.childrenAfterSort)||rowNode.childrenAfterSort.forEach(function(child,index){child.firstChild=0===index,child.lastChild=index===rowNode.childrenAfterSort.length-1,child.childIndex=index})},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],SortStage.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("sortController"),__metadata("design:type",sortController_1.SortController)],SortStage.prototype,"sortController",void 0),__decorate([context_1.Autowired("valueService"),__metadata("design:type",valueService_1.ValueService)],SortStage.prototype,"valueService",void 0),SortStage=__decorate([context_1.Bean("sortStage"),__metadata("design:paramtypes",[])],SortStage),SortStage}();exports.SortStage=SortStage},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},context_1=__webpack_require__(8),rowNode_1=__webpack_require__(29),utils_1=__webpack_require__(9),gridOptionsWrapper_1=__webpack_require__(5),selectionController_1=__webpack_require__(30),eventService_1=__webpack_require__(6),columnController_1=__webpack_require__(15),FlattenStage=function(){function FlattenStage(){}return FlattenStage.prototype.execute=function(rootNode){var result=[],pivotMode=this.columnController.isPivotMode(),showRootNode=pivotMode&&rootNode.leafGroup,topList=showRootNode?[rootNode]:rootNode.childrenAfterSort;return this.recursivelyAddToRowsToDisplay(topList,result,{value:0},pivotMode),result},FlattenStage.prototype.recursivelyAddToRowsToDisplay=function(rowsToFlatten,result,nextRowTop,reduce){if(!utils_1.Utils.missingOrEmpty(rowsToFlatten))for(var groupSuppressRow=this.gridOptionsWrapper.isGroupSuppressRow(),i=0;i<rowsToFlatten.length;i++){var rowNode=rowsToFlatten[i],skipBecauseSuppressRow=groupSuppressRow&&rowNode.group,skipBecauseReduce=reduce&&!rowNode.group;if(skipBecauseReduce||skipBecauseSuppressRow||this.addRowNodeToRowsToDisplay(rowNode,result,nextRowTop),rowNode.group&&rowNode.expanded&&(this.recursivelyAddToRowsToDisplay(rowNode.childrenAfterSort,result,nextRowTop,reduce),this.gridOptionsWrapper.isGroupIncludeFooter())){var footerNode=this.createFooterNode(rowNode);this.addRowNodeToRowsToDisplay(footerNode,result,nextRowTop)}if(rowNode.canFlower&&rowNode.expanded){var flowerNode=this.createFlowerNode(rowNode);this.addRowNodeToRowsToDisplay(flowerNode,result,nextRowTop)}}},FlattenStage.prototype.addRowNodeToRowsToDisplay=function(rowNode,result,nextRowTop){result.push(rowNode),rowNode.rowHeight=this.gridOptionsWrapper.getRowHeightForNode(rowNode,result.length-1),rowNode.rowTop=nextRowTop.value,nextRowTop.value+=rowNode.rowHeight},FlattenStage.prototype.createFooterNode=function(groupNode){var footerNode=new rowNode_1.RowNode;return this.context.wireBean(footerNode),Object.keys(groupNode).forEach(function(key){footerNode[key]=groupNode[key]}),footerNode.footer=!0,footerNode.sibling=groupNode,groupNode.sibling=footerNode,footerNode},FlattenStage.prototype.createFlowerNode=function(parentNode){var flowerNode=new rowNode_1.RowNode;return this.context.wireBean(flowerNode),flowerNode.flower=!0,flowerNode.parent=parentNode,flowerNode.data=parentNode.data,flowerNode.level=parentNode.level+1,flowerNode},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],FlattenStage.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("selectionController"),__metadata("design:type",selectionController_1.SelectionController)],FlattenStage.prototype,"selectionController",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],FlattenStage.prototype,"eventService",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],FlattenStage.prototype,"context",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],FlattenStage.prototype,"columnController",void 0),FlattenStage=__decorate([context_1.Bean("flattenStage"),__metadata("design:paramtypes",[])],FlattenStage),FlattenStage}();exports.FlattenStage=FlattenStage},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},utils_1=__webpack_require__(9),constants_1=__webpack_require__(10),gridOptionsWrapper_1=__webpack_require__(5),columnController_1=__webpack_require__(15),filterManager_1=__webpack_require__(45),rowNode_1=__webpack_require__(29),eventService_1=__webpack_require__(6),events_1=__webpack_require__(12),context_1=__webpack_require__(8),selectionController_1=__webpack_require__(30),inMemoryNodeManager_1=__webpack_require__(32),RecursionType;(function(RecursionType){RecursionType[RecursionType.Normal=0]="Normal",RecursionType[RecursionType.AfterFilter=1]="AfterFilter",RecursionType[RecursionType.AfterFilterAndSort=2]="AfterFilterAndSort",RecursionType[RecursionType.PivotNodes=3]="PivotNodes"})(RecursionType||(RecursionType={}));var InMemoryRowModel=function(){function InMemoryRowModel(){}return InMemoryRowModel.prototype.init=function(){this.eventService.addModalPriorityEventListener(events_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.refreshModel.bind(this,constants_1.Constants.STEP_EVERYTHING)),this.eventService.addModalPriorityEventListener(events_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshModel.bind(this,constants_1.Constants.STEP_EVERYTHING)),this.eventService.addModalPriorityEventListener(events_1.Events.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.eventService.addModalPriorityEventListener(events_1.Events.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,constants_1.Constants.STEP_PIVOT)),this.eventService.addModalPriorityEventListener(events_1.Events.EVENT_FILTER_CHANGED,this.refreshModel.bind(this,constants_1.Constants.STEP_FILTER)),this.eventService.addModalPriorityEventListener(events_1.Events.EVENT_SORT_CHANGED,this.refreshModel.bind(this,constants_1.Constants.STEP_SORT)),this.eventService.addModalPriorityEventListener(events_1.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.refreshModel.bind(this,constants_1.Constants.STEP_PIVOT)),this.rootNode=new rowNode_1.RowNode,this.nodeManager=new inMemoryNodeManager_1.InMemoryNodeManager(this.rootNode,this.gridOptionsWrapper,this.context,this.eventService),this.context.wireBean(this.rootNode),this.gridOptionsWrapper.isRowModelDefault()&&this.setRowData(this.gridOptionsWrapper.getRowData(),this.columnController.isReady())},InMemoryRowModel.prototype.getRowData=function(){return this.lastRowData},InMemoryRowModel.prototype.getRowsToDisplay=function(){return this.rowsToDisplay},InMemoryRowModel.prototype.getType=function(){return constants_1.Constants.ROW_MODEL_TYPE_NORMAL},InMemoryRowModel.prototype.onValueChanged=function(){this.columnController.isPivotActive()?this.refreshModel(constants_1.Constants.STEP_PIVOT):this.refreshModel(constants_1.Constants.STEP_AGGREGATE)},InMemoryRowModel.prototype.refreshModel=function(step,fromIndex,groupState){var _this=this;switch(step){case constants_1.Constants.STEP_EVERYTHING:this.doRowGrouping(groupState);case constants_1.Constants.STEP_FILTER:this.doFilter();case constants_1.Constants.STEP_PIVOT:this.doPivot();case constants_1.Constants.STEP_AGGREGATE:this.doAggregate();case constants_1.Constants.STEP_SORT:this.doSort();case constants_1.Constants.STEP_MAP:this.doRowsToDisplay();}this.eventService.dispatchEvent(events_1.Events.EVENT_MODEL_UPDATED,{fromIndex:fromIndex}),this.$scope&&setTimeout(function(){_this.$scope.$apply()},0)},InMemoryRowModel.prototype.setExpanded=function(id,expanded){this.forEachNode(function(node){node.id===id&&(node.expanded=expanded,node.data.$$open=expanded)})},InMemoryRowModel.prototype.isEmpty=function(){return!1},InMemoryRowModel.prototype.isRowsToRender=function(){return utils_1.Utils.exists(this.rowsToDisplay)&&0<this.rowsToDisplay.length},InMemoryRowModel.prototype.setDatasource=function(){console.error("ag-Grid: should never call setDatasource on inMemoryRowController")},InMemoryRowModel.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},InMemoryRowModel.prototype.getRow=function(index){return this.rowsToDisplay[index]},InMemoryRowModel.prototype.getVirtualRowCount=function(){return console.warn("ag-Grid: rowModel.getVirtualRowCount() is not longer a function, use rowModel.getRowCount() instead"),this.getRowCount()},InMemoryRowModel.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},InMemoryRowModel.prototype.getRowIndexAtPixel=function(pixelToMatch){if(this.isEmpty())return-1;var bottomPointer=0,topPointer=this.rowsToDisplay.length-1;if(0>=pixelToMatch)return 0;var lastNode=this.rowsToDisplay[this.rowsToDisplay.length-1];if(lastNode.rowTop<=pixelToMatch)return this.rowsToDisplay.length-1;for(;;){var midPointer=_Mathfloor6((bottomPointer+topPointer)/2),currentRowNode=this.rowsToDisplay[midPointer];if(this.isRowInPixel(currentRowNode,pixelToMatch))return midPointer;currentRowNode.rowTop<pixelToMatch?bottomPointer=midPointer+1:currentRowNode.rowTop>pixelToMatch&&(topPointer=midPointer-1)}},InMemoryRowModel.prototype.isRowInPixel=function(rowNode,pixelToMatch){var topPixel=rowNode.rowTop,bottomPixel=rowNode.rowTop+rowNode.rowHeight;return topPixel<=pixelToMatch&&bottomPixel>pixelToMatch},InMemoryRowModel.prototype.getRowCombinedHeight=function(){if(this.rowsToDisplay&&0<this.rowsToDisplay.length){var lastRow=this.rowsToDisplay[this.rowsToDisplay.length-1],lastPixel=lastRow.rowTop+lastRow.rowHeight;return lastPixel}return 0},InMemoryRowModel.prototype.forEachLeafNode=function(callback){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(rowNode,index){return callback(rowNode,index)})},InMemoryRowModel.prototype.forEachNode=function(callback){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,callback,RecursionType.Normal,0)},InMemoryRowModel.prototype.forEachNodeAfterFilter=function(callback){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,callback,RecursionType.AfterFilter,0)},InMemoryRowModel.prototype.forEachNodeAfterFilterAndSort=function(callback){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,callback,RecursionType.AfterFilterAndSort,0)},InMemoryRowModel.prototype.forEachPivotNode=function(callback){this.recursivelyWalkNodesAndCallback([this.rootNode],callback,RecursionType.PivotNodes,0)},InMemoryRowModel.prototype.recursivelyWalkNodesAndCallback=function(nodes,callback,recursionType,index){if(nodes)for(var i=0,node;i<nodes.length;i++)if(node=nodes[i],callback(node,index++),node.group){var nodeChildren;recursionType===RecursionType.Normal?nodeChildren=node.childrenAfterGroup:recursionType===RecursionType.AfterFilter?nodeChildren=node.childrenAfterFilter:recursionType===RecursionType.AfterFilterAndSort?nodeChildren=node.childrenAfterSort:recursionType===RecursionType.PivotNodes?nodeChildren=node.leafGroup?null:node.childrenAfterSort:void 0,nodeChildren&&(index=this.recursivelyWalkNodesAndCallback(nodeChildren,callback,recursionType,index))}return index},InMemoryRowModel.prototype.doAggregate=function(){this.aggregationStage&&this.aggregationStage.execute(this.rootNode)},InMemoryRowModel.prototype.expandOrCollapseAll=function(expand){function recursiveExpandOrCollapse(rowNodes){rowNodes&&rowNodes.forEach(function(rowNode){rowNode.group&&(rowNode.expanded=expand,recursiveExpandOrCollapse(rowNode.childrenAfterGroup))})}this.rootNode&&recursiveExpandOrCollapse(this.rootNode.childrenAfterGroup),this.refreshModel(constants_1.Constants.STEP_MAP)},InMemoryRowModel.prototype.doSort=function(){this.sortStage.execute(this.rootNode)},InMemoryRowModel.prototype.doRowGrouping=function(groupState){var rowsAlreadyGrouped=utils_1.Utils.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc());rowsAlreadyGrouped||(this.groupStage?(this.selectionController.removeGroupsFromSelection(),this.groupStage.execute(this.rootNode),this.restoreGroupState(groupState),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionController.updateGroupsFromChildrenSelections()):this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren)},InMemoryRowModel.prototype.restoreGroupState=function(groupState){groupState&&utils_1.Utils.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(node,key){"boolean"==typeof groupState[key]&&(node.expanded=groupState[key])})},InMemoryRowModel.prototype.doFilter=function(){this.filterStage.execute(this.rootNode)},InMemoryRowModel.prototype.doPivot=function(){this.pivotStage&&this.pivotStage.execute(this.rootNode)},InMemoryRowModel.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var result={};return utils_1.Utils.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(node,key){return result[key]=node.expanded}),result},InMemoryRowModel.prototype.setRowData=function(rowData,refresh,firstId){this.lastRowData=rowData;var groupState=this.getGroupState();this.nodeManager.setRowData(rowData,firstId),this.eventService.dispatchEvent(events_1.Events.EVENT_ROW_DATA_CHANGED),refresh&&this.refreshModel(constants_1.Constants.STEP_EVERYTHING,null,groupState)},InMemoryRowModel.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute(this.rootNode);var pinnedRowsCount=this.gridOptionsWrapper.getPinnedRowsCount();if(null!=pinnedRowsCount){for(var i=this.rowsToDisplay.length-1;i>=pinnedRowsCount;--i){var currentRow=this.rowsToDisplay[i],nextRow=this.rowsToDisplay[i-pinnedRowsCount];currentRow.rowTop=nextRow.rowTop,currentRow.rowHeight=nextRow.rowHeight}this.rowsToDisplay=this.rowsToDisplay.slice(pinnedRowsCount)}},InMemoryRowModel.prototype.insertItemsAtIndex=function(index,items){var groupState=this.getGroupState(),newNodes=this.nodeManager.insertItemsAtIndex(index,items);this.refreshAndFireEvent(events_1.Events.EVENT_ITEMS_ADDED,newNodes,groupState)},InMemoryRowModel.prototype.removeItems=function(rowNodes){var groupState=this.getGroupState(),removedNodes=this.nodeManager.removeItems(rowNodes);this.refreshAndFireEvent(events_1.Events.EVENT_ITEMS_REMOVED,removedNodes,groupState)},InMemoryRowModel.prototype.addItems=function(items){var groupState=this.getGroupState(),newNodes=this.nodeManager.addItems(items);this.refreshAndFireEvent(events_1.Events.EVENT_ITEMS_ADDED,newNodes,groupState)},InMemoryRowModel.prototype.refreshAndFireEvent=function(eventName,rowNodes,groupState){rowNodes&&(this.refreshModel(constants_1.Constants.STEP_EVERYTHING,null,groupState),this.eventService.dispatchEvent(eventName,{rowNodes:rowNodes}))},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],InMemoryRowModel.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],InMemoryRowModel.prototype,"columnController",void 0),__decorate([context_1.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],InMemoryRowModel.prototype,"filterManager",void 0),__decorate([context_1.Autowired("$scope"),__metadata("design:type",Object)],InMemoryRowModel.prototype,"$scope",void 0),__decorate([context_1.Autowired("selectionController"),__metadata("design:type",selectionController_1.SelectionController)],InMemoryRowModel.prototype,"selectionController",void 0),__decorate([context_1.Autowired("eventService"),__metadata("design:type",eventService_1.EventService)],InMemoryRowModel.prototype,"eventService",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],InMemoryRowModel.prototype,"context",void 0),__decorate([context_1.Autowired("filterStage"),__metadata("design:type",Object)],InMemoryRowModel.prototype,"filterStage",void 0),__decorate([context_1.Autowired("sortStage"),__metadata("design:type",Object)],InMemoryRowModel.prototype,"sortStage",void 0),__decorate([context_1.Autowired("flattenStage"),__metadata("design:type",Object)],InMemoryRowModel.prototype,"flattenStage",void 0),__decorate([context_1.Optional("groupStage"),__metadata("design:type",Object)],InMemoryRowModel.prototype,"groupStage",void 0),__decorate([context_1.Optional("aggregationStage"),__metadata("design:type",Object)],InMemoryRowModel.prototype,"aggregationStage",void 0),__decorate([context_1.Optional("pivotStage"),__metadata("design:type",Object)],InMemoryRowModel.prototype,"pivotStage",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],InMemoryRowModel.prototype,"init",null),InMemoryRowModel=__decorate([context_1.Bean("rowModel"),__metadata("design:paramtypes",[])],InMemoryRowModel),InMemoryRowModel}();exports.InMemoryRowModel=InMemoryRowModel},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},component_1=__webpack_require__(49),componentAnnotations_1=__webpack_require__(97),utils_1=__webpack_require__(9),context_1=__webpack_require__(8),gridOptionsWrapper_1=__webpack_require__(5),svgFactory_1=__webpack_require__(69),svgFactory=svgFactory_1.SvgFactory.getInstance(),AgCheckbox=function(_super){function AgCheckbox(){_super.call(this,AgCheckbox.TEMPLATE),this.selected=!1,this.readOnly=!1,this.passive=!1}return __extends(AgCheckbox,_super),AgCheckbox.prototype.init=function(){this.loadIcons(),this.updateIcons();var label=this.getAttribute("label");label&&(this.eLabel.innerText=label)},AgCheckbox.prototype.loadIcons=function(){utils_1.Utils.removeAllChildren(this.eChecked),utils_1.Utils.removeAllChildren(this.eUnchecked),utils_1.Utils.removeAllChildren(this.eIndeterminate),this.readOnly?(this.eChecked.appendChild(utils_1.Utils.createIconNoSpan("checkboxCheckedReadOnly",this.gridOptionsWrapper,null,svgFactory.createCheckboxCheckedReadOnlyIcon)),this.eUnchecked.appendChild(utils_1.Utils.createIconNoSpan("checkboxUncheckedReadOnly",this.gridOptionsWrapper,null,svgFactory.createCheckboxUncheckedReadOnlyIcon)),this.eIndeterminate.appendChild(utils_1.Utils.createIconNoSpan("checkboxIndeterminateReadOnly",this.gridOptionsWrapper,null,svgFactory.createCheckboxIndeterminateReadOnlyIcon))):(this.eChecked.appendChild(utils_1.Utils.createIconNoSpan("checkboxChecked",this.gridOptionsWrapper,null,svgFactory.createCheckboxCheckedIcon)),this.eUnchecked.appendChild(utils_1.Utils.createIconNoSpan("checkboxUnchecked",this.gridOptionsWrapper,null,svgFactory.createCheckboxUncheckedIcon)),this.eIndeterminate.appendChild(utils_1.Utils.createIconNoSpan("checkboxIndeterminate",this.gridOptionsWrapper,null,svgFactory.createCheckboxIndeterminateIcon)))},AgCheckbox.prototype.onClick=function(){this.readOnly||this.toggle()},AgCheckbox.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},AgCheckbox.prototype.setPassive=function(passive){this.passive=passive},AgCheckbox.prototype.setReadOnly=function(readOnly){this.readOnly=readOnly,this.loadIcons()},AgCheckbox.prototype.isReadOnly=function(){return this.readOnly},AgCheckbox.prototype.isSelected=function(){return this.selected},AgCheckbox.prototype.toggle=function(){var nextValue=this.getNextValue();this.passive?this.dispatchEvent(AgCheckbox.EVENT_CHANGED,{selected:nextValue}):this.setSelected(nextValue)},AgCheckbox.prototype.setSelected=function(selected){this.selected===selected||(this.selected=!0===selected||!1!==selected&&void 0,this.updateIcons(),this.dispatchEvent(AgCheckbox.EVENT_CHANGED,{selected:this.selected}))},AgCheckbox.prototype.updateIcons=function(){utils_1.Utils.setVisible(this.eChecked,!0===this.selected),utils_1.Utils.setVisible(this.eUnchecked,!1===this.selected),utils_1.Utils.setVisible(this.eIndeterminate,void 0===this.selected)},AgCheckbox.EVENT_CHANGED="change",AgCheckbox.TEMPLATE="<span class=\"ag-checkbox\">"+"  <span class=\"ag-checkbox-checked\"></span>"+"  <span class=\"ag-checkbox-unchecked\"></span>"+"  <span class=\"ag-checkbox-indeterminate\"></span>"+"  <span class=\"ag-checkbox-label\"></span>"+"</span>",__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],AgCheckbox.prototype,"gridOptionsWrapper",void 0),__decorate([componentAnnotations_1.QuerySelector(".ag-checkbox-checked"),__metadata("design:type",HTMLElement)],AgCheckbox.prototype,"eChecked",void 0),__decorate([componentAnnotations_1.QuerySelector(".ag-checkbox-unchecked"),__metadata("design:type",HTMLElement)],AgCheckbox.prototype,"eUnchecked",void 0),__decorate([componentAnnotations_1.QuerySelector(".ag-checkbox-indeterminate"),__metadata("design:type",HTMLElement)],AgCheckbox.prototype,"eIndeterminate",void 0),__decorate([componentAnnotations_1.QuerySelector(".ag-checkbox-label"),__metadata("design:type",HTMLElement)],AgCheckbox.prototype,"eLabel",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],AgCheckbox.prototype,"init",null),__decorate([componentAnnotations_1.Listener("click"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],AgCheckbox.prototype,"onClick",null),AgCheckbox}(component_1.Component);exports.AgCheckbox=AgCheckbox},function(module,exports){function querySelectorFunc(selector,classPrototype,methodOrAttributeName,index){if(null===selector)return void console.error("ag-Grid: QuerySelector selector should not be null");if("number"==typeof index)return void console.error("ag-Grid: QuerySelector should be on an attribute");var props=getOrCreateProps(classPrototype);props.querySelectors||(props.querySelectors=[]),props.querySelectors.push({attributeName:methodOrAttributeName,querySelector:selector})}function listenerFunc(eventName,target,methodName){if(null===eventName)return void console.error("ag-Grid: EventListener eventName should not be null");var props=getOrCreateProps(target);props.listenerMethods||(props.listenerMethods=[]),props.listenerMethods.push({methodName:methodName,eventName:eventName})}function getOrCreateProps(target){var props=target.__agComponentMetaData;return props||(props={},target.__agComponentMetaData=props),props}exports.QuerySelector=function(selector){return querySelectorFunc.bind(this,selector)},exports.Listener=function(eventName){return listenerFunc.bind(this,eventName)}},function(module,exports){var BaseFrameworkFactory=function(){function BaseFrameworkFactory(){}return BaseFrameworkFactory.prototype.colDefFloatingCellRenderer=function(colDef){return colDef.floatingCellRenderer},BaseFrameworkFactory.prototype.colDefCellRenderer=function(colDef){return colDef.cellRenderer},BaseFrameworkFactory.prototype.colDefCellEditor=function(colDef){return colDef.cellEditor},BaseFrameworkFactory.prototype.colDefFilter=function(colDef){return colDef.filter},BaseFrameworkFactory.prototype.gridOptionsFullWidthCellRenderer=function(gridOptions){return gridOptions.fullWidthCellRenderer},BaseFrameworkFactory.prototype.gridOptionsGroupRowRenderer=function(gridOptions){return gridOptions.groupRowRenderer},BaseFrameworkFactory.prototype.gridOptionsGroupRowInnerRenderer=function(gridOptions){return gridOptions.groupRowInnerRenderer},BaseFrameworkFactory}();exports.BaseFrameworkFactory=BaseFrameworkFactory},function(module,exports,__webpack_require__){function AngularDirectiveController($element,$scope,$compile,$attrs){var keyOfGridInScope=$attrs.agGrid,gridOptions,quickFilterOnScope;if(quickFilterOnScope=keyOfGridInScope+".quickFilterText",gridOptions=$scope.$eval(keyOfGridInScope),!gridOptions)return void console.warn("WARNING - grid options for ag-Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope");var eGridDiv=$element[0],gridParams={$scope:$scope,$compile:$compile,quickFilterOnScope:quickFilterOnScope},grid=new grid_1.Grid(eGridDiv,gridOptions,gridParams);$scope.$on("$destroy",function(){grid.destroy()})}var grid_1=__webpack_require__(4);exports.initialiseAgGridWithAngular1=function(angular){var angularModule=angular.module("agGrid",[]);angularModule.directive("agGrid",function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",AngularDirectiveController],scope:!0}})}},function(module,exports,__webpack_require__){function initialiseAgGridWithWebComponents(){if(!registered){registered=!0,"undefined"!=typeof document&&document.registerElement||console.error("ag-Grid: unable to find document.registerElement() function, unable to initialise ag-Grid as a Web Component");var AgileGridProto=Object.create(HTMLElement.prototype);componentUtil_1.ComponentUtil.ALL_PROPERTIES.forEach(function(key){Object.defineProperty(AgileGridProto,key,{set:function set(v){this.__agGridSetProperty(key,v)},get:function get(){return this.__agGridGetProperty(key)}})}),AgileGridProto.__agGridSetProperty=function(key,value){this.__attributes||(this.__attributes={}),this.__attributes[key]=value;var changeObject={};changeObject[key]={currentValue:value},this.onChange(changeObject)},AgileGridProto.onChange=function(changes){this._initialised&&componentUtil_1.ComponentUtil.processOnChange(changes,this._gridOptions,this.api,this.columnApi)},AgileGridProto.__agGridGetProperty=function(key){return this.__attributes||(this.__attributes={}),this.__attributes[key]},AgileGridProto.setGridOptions=function(options){var globalEventListener=this.globalEventListener.bind(this);this._gridOptions=componentUtil_1.ComponentUtil.copyAttributesToGridOptions(options,this);this._agGrid=new grid_1.Grid(this,this._gridOptions,{globalEventListener:globalEventListener}),this.api=options.api,this.columnApi=options.columnApi,this._initialised=!0},AgileGridProto.createdCallback=function(){for(var i=0,attribute;i<this.attributes.length;i++)attribute=this.attributes[i],this.setPropertyFromAttribute(attribute)},AgileGridProto.setPropertyFromAttribute=function(attribute){var name=toCamelCase(attribute.nodeName),value=attribute.nodeValue;0<=componentUtil_1.ComponentUtil.ALL_PROPERTIES.indexOf(name)&&(this[name]=value)},AgileGridProto.attachedCallback=function(){},AgileGridProto.detachedCallback=function(){},AgileGridProto.attributeChangedCallback=function(attributeName){var attribute=this.attributes[attributeName];this.setPropertyFromAttribute(attribute)},AgileGridProto.globalEventListener=function(eventType,event){var eventLowerCase=eventType.toLowerCase(),browserEvent=new Event(eventLowerCase);browserEvent.agGridDetails=event,this.dispatchEvent(browserEvent);var callbackMethod="on"+eventLowerCase;"function"==typeof this[callbackMethod]&&this[callbackMethod](browserEvent)},document.registerElement("ag-grid",{prototype:AgileGridProto})}}function toCamelCase(myString){if("string"==typeof myString){var result=myString.replace(/-([a-z])/g,function(g){return g[1].toUpperCase()});return result}return myString}var componentUtil_1=__webpack_require__(11),grid_1=__webpack_require__(4),registered=!1;exports.initialiseAgGridWithWebComponents=initialiseAgGridWithWebComponents},function(module,exports,__webpack_require__){var utils_1=__webpack_require__(9),TabbedLayout=function(){function TabbedLayout(params){var _this=this;this.items=[],this.params=params,this.eGui=document.createElement("div"),this.eGui.innerHTML=TabbedLayout.TEMPLATE,this.eHeader=this.eGui.querySelector("#tabHeader"),this.eBody=this.eGui.querySelector("#tabBody"),utils_1.Utils.addCssClass(this.eGui,params.cssClass),params.items&&params.items.forEach(function(item){return _this.addItem(item)})}return TabbedLayout.prototype.setAfterAttachedParams=function(params){this.afterAttachedParams=params},TabbedLayout.prototype.getMinWidth=function(){var eDummyContainer=document.createElement("span");eDummyContainer.style.position="fixed",this.eGui.appendChild(eDummyContainer);var minWidth=0;return this.items.forEach(function(itemWrapper){utils_1.Utils.removeAllChildren(eDummyContainer);var eClone=itemWrapper.tabbedItem.body.cloneNode(!0);eDummyContainer.appendChild(eClone),minWidth<eDummyContainer.offsetWidth&&(minWidth=eDummyContainer.offsetWidth)}),this.eGui.removeChild(eDummyContainer),minWidth},TabbedLayout.prototype.showFirstItem=function(){0<this.items.length&&this.showItemWrapper(this.items[0])},TabbedLayout.prototype.addItem=function(item){var eHeaderButton=document.createElement("span");eHeaderButton.appendChild(item.title),utils_1.Utils.addCssClass(eHeaderButton,"ag-tab"),this.eHeader.appendChild(eHeaderButton);var wrapper={tabbedItem:item,eHeaderButton:eHeaderButton};this.items.push(wrapper),eHeaderButton.addEventListener("click",this.showItemWrapper.bind(this,wrapper))},TabbedLayout.prototype.showItem=function(tabbedItem){var itemWrapper=utils_1.Utils.find(this.items,function(itemWrapper){return itemWrapper.tabbedItem===tabbedItem});itemWrapper&&this.showItemWrapper(itemWrapper)},TabbedLayout.prototype.showItemWrapper=function(wrapper){return this.params.onItemClicked&&this.params.onItemClicked({item:wrapper.tabbedItem}),this.activeItem===wrapper?void utils_1.Utils.callIfPresent(this.params.onActiveItemClicked):void(utils_1.Utils.removeAllChildren(this.eBody),this.eBody.appendChild(wrapper.tabbedItem.body),this.activeItem&&utils_1.Utils.removeCssClass(this.activeItem.eHeaderButton,"ag-tab-selected"),utils_1.Utils.addCssClass(wrapper.eHeaderButton,"ag-tab-selected"),this.activeItem=wrapper,wrapper.tabbedItem.afterAttachedCallback&&wrapper.tabbedItem.afterAttachedCallback(this.afterAttachedParams))},TabbedLayout.prototype.getGui=function(){return this.eGui},TabbedLayout.TEMPLATE="<div>"+"<div id=\"tabHeader\" class=\"ag-tab-header\"></div>"+"<div id=\"tabBody\" class=\"ag-tab-body\"></div>"+"</div>",TabbedLayout}();exports.TabbedLayout=TabbedLayout},function(module,exports){var VerticalStack=function(){function VerticalStack(){this.isLayoutPanel=!0,this.childPanels=[],this.eGui=document.createElement("div"),this.eGui.style.height="100%"}return VerticalStack.prototype.addPanel=function(panel,height){var component;panel.isLayoutPanel?(this.childPanels.push(panel),component=panel.getGui()):component=panel,height&&(component.style.height=height),this.eGui.appendChild(component)},VerticalStack.prototype.getGui=function(){return this.eGui},VerticalStack.prototype.doLayout=function(){for(var i=0;i<this.childPanels.length;i++)this.childPanels[i].doLayout()},VerticalStack}();exports.VerticalStack=VerticalStack},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},component_1=__webpack_require__(49),context_1=__webpack_require__(8),utils_1=__webpack_require__(9),popupService_1=__webpack_require__(46),menuItemComponent_1=__webpack_require__(104),MenuList=function(_super){function MenuList(){_super.call(this,MenuList.TEMPLATE),this.timerCount=0}return __extends(MenuList,_super),MenuList.prototype.clearActiveItem=function(){this.removeActiveItem(),this.removeOldChildPopup()},MenuList.prototype.addMenuItems=function(menuItems,defaultMenuItems){var _this=this;utils_1.Utils.missing(menuItems)||menuItems.forEach(function(listItem){if("separator"===listItem)_this.addSeparator();else{var menuItem;menuItem="string"==typeof listItem?defaultMenuItems[listItem]:listItem,_this.addItem(menuItem)}})},MenuList.prototype.addItem=function(params){var _this=this;if("string"==typeof params&&"separator"===params)this.addSeparator();else{var menuItem=params,cMenuItem=new menuItemComponent_1.MenuItemComponent(menuItem);this.context.wireBean(cMenuItem),this.getGui().appendChild(cMenuItem.getGui()),cMenuItem.addEventListener(menuItemComponent_1.MenuItemComponent.EVENT_ITEM_SELECTED,function(event){menuItem.childMenu?_this.showChildMenu(menuItem,cMenuItem):_this.dispatchEvent(menuItemComponent_1.MenuItemComponent.EVENT_ITEM_SELECTED,event)}),cMenuItem.addGuiEventListener("mouseenter",this.mouseEnterItem.bind(this,menuItem,cMenuItem)),cMenuItem.addGuiEventListener("mouseleave",this.mouseLeaveItem.bind(this,menuItem,cMenuItem)),menuItem.childMenu&&this.addDestroyFunc(function(){return menuItem.childMenu.destroy()})}},MenuList.prototype.mouseLeaveItem=function(){var _this=this;this.timerCount++,this.closeTimeout||(this.closeTimeout=setTimeout(function(){_this.removeOldChildPopup(),_this.closeTimeout=null},250))},MenuList.prototype.mouseEnterItem=function(menuItemParams,menuItem){if(!menuItemParams.disabled){this.parentMenu&&(this.parentMenu.activeMenuItem!=this.parentMenuItem&&(this.parentMenu.removeActiveItem(),this.parentMenu.activeMenuItem=this.parentMenuItem,utils_1.Utils.addCssClass(this.parentMenu.activeMenuItem.getGui(),"ag-menu-option-active")),this.parentMenu.closeTimeout&&(clearTimeout(this.parentMenu.closeTimeout),this.parentMenu.closeTimeout=null));var showingThisMenu=this.showingChildMenu===menuItemParams.childMenu;this.closeTimeout&&showingThisMenu&&(clearTimeout(this.closeTimeout),this.closeTimeout=null),this.removeActiveItem(),this.activeMenuItem=menuItem,utils_1.Utils.addCssClass(this.activeMenuItem.getGui(),"ag-menu-option-active"),menuItemParams.childMenu&&this.addHoverForChildPopup(menuItemParams,menuItem)}},MenuList.prototype.removeActiveItem=function(){this.activeMenuItem&&(utils_1.Utils.removeCssClass(this.activeMenuItem.getGui(),"ag-menu-option-active"),this.activeMenuItem=null)},MenuList.prototype.addHoverForChildPopup=function(menuItemParams,menuItem){var _this=this,timerCountCopy=this.timerCount;setTimeout(function(){var shouldShow=timerCountCopy===_this.timerCount,showingThisMenu=_this.showingChildMenu===menuItemParams.childMenu;shouldShow&&!showingThisMenu&&_this.showChildMenu(menuItemParams,menuItem)},250)},MenuList.prototype.showChildMenu=function(menuItemParams,menuItem){this.removeOldChildPopup();var ePopup=utils_1.Utils.loadTemplate("<div class=\"ag-menu\"></div>");ePopup.appendChild(menuItemParams.childMenu.getGui()),menuItemParams.childMenu.parentMenu=this,menuItemParams.childMenu.parentMenuItem=menuItem,this.childPopupRemoveFunc=this.popupService.addAsModalPopup(ePopup,!0),this.popupService.positionPopupForMenu({eventSource:menuItem.getGui(),ePopup:ePopup}),this.showingChildMenu=menuItemParams.childMenu},MenuList.prototype.addSeparator=function(){this.getGui().appendChild(utils_1.Utils.loadTemplate(MenuList.SEPARATOR_TEMPLATE))},MenuList.prototype.removeOldChildPopup=function(){this.childPopupRemoveFunc&&(this.showingChildMenu.clearActiveItem(),this.childPopupRemoveFunc(),this.childPopupRemoveFunc=null,this.showingChildMenu=null)},MenuList.prototype.destroy=function(){this.removeOldChildPopup(),_super.prototype.destroy.call(this)},MenuList.TEMPLATE="<div class=\"ag-menu-list\"></div>",MenuList.SEPARATOR_TEMPLATE="<div class=\"ag-menu-separator\">"+"  <span class=\"ag-menu-separator-cell\"></span>"+"  <span class=\"ag-menu-separator-cell\"></span>"+"  <span class=\"ag-menu-separator-cell\"></span>"+"  <span class=\"ag-menu-separator-cell\"></span>"+"</div>",__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],MenuList.prototype,"context",void 0),__decorate([context_1.Autowired("popupService"),__metadata("design:type",popupService_1.PopupService)],MenuList.prototype,"popupService",void 0),MenuList}(component_1.Component);exports.MenuList=MenuList},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},component_1=__webpack_require__(49),context_1=__webpack_require__(8),popupService_1=__webpack_require__(46),utils_1=__webpack_require__(9),svgFactory_1=__webpack_require__(69),svgFactory=svgFactory_1.SvgFactory.getInstance(),MenuItemComponent=function(_super){function MenuItemComponent(params){_super.call(this,MenuItemComponent.TEMPLATE),this.params=params,params.checked?this.queryForHtmlElement("#eIcon").innerHTML="&#10004;":params.icon?utils_1.Utils.isNodeOrElement(params.icon)?this.queryForHtmlElement("#eIcon").appendChild(params.icon):"string"==typeof params.icon?this.queryForHtmlElement("#eIcon").innerHTML=params.icon:console.log("ag-Grid: menu item icon must be DOM node or string"):this.queryForHtmlElement("#eIcon").innerHTML="&nbsp;",params.shortcut&&(this.queryForHtmlElement("#eShortcut").innerHTML=params.shortcut),params.childMenu?this.queryForHtmlElement("#ePopupPointer").appendChild(svgFactory.createSmallArrowRightSvg()):this.queryForHtmlElement("#ePopupPointer").innerHTML="&nbsp;",this.queryForHtmlElement("#eName").innerHTML=params.name,params.disabled?utils_1.Utils.addCssClass(this.getGui(),"ag-menu-option-disabled"):this.addGuiEventListener("click",this.onOptionSelected.bind(this))}return __extends(MenuItemComponent,_super),MenuItemComponent.prototype.onOptionSelected=function(){this.dispatchEvent(MenuItemComponent.EVENT_ITEM_SELECTED,this.params),this.params.action&&this.params.action()},MenuItemComponent.TEMPLATE="<div class=\"ag-menu-option\">"+"  <span id=\"eIcon\" class=\"ag-menu-option-icon\"></span>"+"  <span id=\"eName\" class=\"ag-menu-option-text\"></span>"+"  <span id=\"eShortcut\" class=\"ag-menu-option-shortcut\"></span>"+"  <span id=\"ePopupPointer\" class=\"ag-menu-option-popup-pointer\"></span>"+"</div>",MenuItemComponent.EVENT_ITEM_SELECTED="itemSelected",__decorate([context_1.Autowired("popupService"),__metadata("design:type",popupService_1.PopupService)],MenuItemComponent.prototype,"popupService",void 0),MenuItemComponent}(component_1.Component);exports.MenuItemComponent=MenuItemComponent},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),columnSelectPanel_1=__webpack_require__(106),aggFuncService_1=__webpack_require__(109),svgFactory=main_1.SvgFactory.getInstance(),EnterpriseMenuFactory=function(){function EnterpriseMenuFactory(){}return EnterpriseMenuFactory.prototype.showMenuAfterMouseEvent=function(column,mouseEvent){var _this=this;this.showMenu(column,function(menu){_this.popupService.positionPopupUnderMouseEvent({mouseEvent:mouseEvent,ePopup:menu.getGui()})})},EnterpriseMenuFactory.prototype.showMenuAfterButtonClick=function(column,eventSource){var _this=this;this.showMenu(column,function(menu){_this.popupService.positionPopupUnderComponent({eventSource:eventSource,ePopup:menu.getGui(),nudgeX:-9,nudgeY:-26,minWidth:menu.getMinWidth(),keepWithinBounds:!0})})},EnterpriseMenuFactory.prototype.showMenu=function(column,positionCallback){var _this=this,menu=new EnterpriseMenu(column,this.lastSelectedTab);this.context.wireBean(menu);var eMenuGui=menu.getGui(),hidePopup=this.popupService.addAsModalPopup(eMenuGui,!0,function(){return menu.destroy()});positionCallback(menu),menu.afterGuiAttached({hidePopup:hidePopup}),menu.addEventListener(EnterpriseMenu.EVENT_TAB_SELECTED,function(event){_this.lastSelectedTab=event.key})},EnterpriseMenuFactory.prototype.isMenuEnabled=function(column){var showColumnPanel=!this.gridOptionsWrapper.isSuppressMenuColumnPanel(),showMainPanel=!this.gridOptionsWrapper.isSuppressMenuMainPanel(),showFilterPanel=!this.gridOptionsWrapper.isSuppressMenuFilterPanel()&&column.isFilterAllowed();return showColumnPanel||showMainPanel||showFilterPanel},__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],EnterpriseMenuFactory.prototype,"context",void 0),__decorate([main_1.Autowired("popupService"),__metadata("design:type",main_1.PopupService)],EnterpriseMenuFactory.prototype,"popupService",void 0),__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],EnterpriseMenuFactory.prototype,"gridOptionsWrapper",void 0),EnterpriseMenuFactory=__decorate([main_1.Bean("menuFactory"),__metadata("design:paramtypes",[])],EnterpriseMenuFactory),EnterpriseMenuFactory}();exports.EnterpriseMenuFactory=EnterpriseMenuFactory;var EnterpriseMenu=function(){function EnterpriseMenu(column,initialSelection){this.eventService=new main_1.EventService,this.column=column,this.initialSelection=initialSelection}return EnterpriseMenu.prototype.addEventListener=function(event,listener){this.eventService.addEventListener(event,listener)},EnterpriseMenu.prototype.getMinWidth=function(){return this.tabbedLayout.getMinWidth()},EnterpriseMenu.prototype.init=function(){var tabItems=[];this.gridOptionsWrapper.isSuppressMenuMainPanel()||(this.createMainPanel(),tabItems.push(this.tabItemGeneral)),!this.gridOptionsWrapper.isSuppressMenuFilterPanel()&&this.column.isFilterAllowed()&&(this.createFilterPanel(),tabItems.push(this.tabItemFilter)),this.gridOptionsWrapper.isSuppressMenuColumnPanel()||(this.createColumnsPanel(),tabItems.push(this.tabItemColumns)),this.tabbedLayout=new main_1.TabbedLayout({items:tabItems,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)})},EnterpriseMenu.prototype.showTabBasedOnPreviousSelection=function(){this.tabItemColumns&&this.initialSelection===EnterpriseMenu.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&this.initialSelection===EnterpriseMenu.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&this.initialSelection===EnterpriseMenu.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},EnterpriseMenu.prototype.onTabItemClicked=function(event){var key;switch(event.item){case this.tabItemColumns:key=EnterpriseMenu.TAB_COLUMNS;break;case this.tabItemFilter:key=EnterpriseMenu.TAB_FILTER;break;case this.tabItemGeneral:key=EnterpriseMenu.TAB_GENERAL;}key&&this.eventService.dispatchEvent(EnterpriseMenu.EVENT_TAB_SELECTED,{key:key})},EnterpriseMenu.prototype.destroy=function(){this.columnSelectPanel&&this.columnSelectPanel.destroy(),this.mainMenuList&&this.mainMenuList.destroy()},EnterpriseMenu.prototype.createPinnedSubMenu=function(){var _this=this,cMenuList=new main_1.MenuList;this.context.wireBean(cMenuList);var localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc();return cMenuList.addItem({name:localeTextFunc("pinLeft","Pin Left"),action:function action(){return _this.columnController.setColumnPinned(_this.column,main_1.Column.PINNED_LEFT)},checked:this.column.isPinnedLeft()}),cMenuList.addItem({name:localeTextFunc("pinRight","Pin Right"),action:function action(){return _this.columnController.setColumnPinned(_this.column,main_1.Column.PINNED_RIGHT)},checked:this.column.isPinnedRight()}),cMenuList.addItem({name:localeTextFunc("noPin","No Pin"),action:function action(){return _this.columnController.setColumnPinned(_this.column,null)},checked:!this.column.isPinned()}),cMenuList},EnterpriseMenu.prototype.createAggregationSubMenu=function(){var _this=this,cMenuList=new main_1.MenuList;this.context.wireBean(cMenuList);var localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc(),columnIsAlreadyAggValue=this.column.isValueActive(),funcNames=this.aggFuncService.getFuncNames(),columnToUse;return columnToUse=this.column.isPrimary()?this.column:this.column.getColDef().pivotValueColumn,funcNames.forEach(function(funcName){cMenuList.addItem({name:localeTextFunc(funcName,funcName),action:function action(){_this.columnController.setColumnAggFunc(columnToUse,funcName),_this.columnController.addValueColumn(columnToUse)},checked:columnIsAlreadyAggValue&&columnToUse.getAggFunc()===funcName})}),cMenuList},EnterpriseMenu.prototype.createBuiltInMenuOptions=function(){var _this=this,localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc(),builtInMenuOptions={pinSubMenu:{name:localeTextFunc("pinColumn","Pin Column"),icon:svgFactory.createPinIcon(),childMenu:this.createPinnedSubMenu()},valueAggSubMenu:{name:localeTextFunc("valueAggregation","Value Aggregation"),icon:svgFactory.createAggregationIcon(),childMenu:this.createAggregationSubMenu()},autoSizeThis:{name:localeTextFunc("autosizeThiscolumn","Autosize This Column"),action:function action(){return _this.columnController.autoSizeColumn(_this.column)}},autoSizeAll:{name:localeTextFunc("autosizeAllColumns","Autosize All Columns"),action:function action(){return _this.columnController.autoSizeAllColumns()}},rowGroup:{name:localeTextFunc("groupBy","Group by")+" "+this.column.getColDef().headerName,action:function action(){return _this.columnController.addRowGroupColumn(_this.column)},icon:svgFactory.createGroupIcon12()},rowUnGroup:{name:localeTextFunc("ungroupBy","Un-Group by")+" "+this.column.getColDef().headerName,action:function action(){return _this.columnController.removeRowGroupColumn(_this.column)},icon:svgFactory.createGroupIcon12()},resetColumns:{name:localeTextFunc("resetColumns","Reset Columns"),action:function action(){return _this.columnController.resetColumnState()}},expandAll:{name:localeTextFunc("expandAll","Expand All"),action:function action(){return _this.gridApi.expandAll()}},contractAll:{name:localeTextFunc("collapseAll","Collapse All"),action:function action(){return _this.gridApi.collapseAll()}},toolPanel:{name:localeTextFunc("toolPanel","Tool Panel"),checked:this.gridApi.isToolPanelShowing(),action:function action(){return _this.gridApi.showToolPanel(!_this.gridApi.isToolPanelShowing())}}};return builtInMenuOptions},EnterpriseMenu.prototype.getMenuItems=function(){var defaultMenuOptions=this.getDefaultMenuOptions(),userFunc=this.gridOptionsWrapper.getMainMenuItemsFunc(),result;if(userFunc){var traverse=function(items){for(var i=0,o;i<items.length;i++)if(o=items[i],o.childMenu&&0<o.childMenu.length){traverse(o.childMenu);var cMenuList=new main_1.MenuList;_this.context.wireBean(cMenuList);for(var j=0;j<o.childMenu.length;++j)cMenuList.addItem(o.childMenu[j]);o.childMenu=cMenuList}},userOptions=userFunc({column:this.column,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),defaultItems:defaultMenuOptions,EnterpriseMenu:this}),_this=this;traverse(userOptions),result=userOptions}else result=defaultMenuOptions;return main_1.Utils.removeRepeatsFromArray(result,EnterpriseMenu.MENU_ITEM_SEPARATOR),result},EnterpriseMenu.prototype.getDefaultMenuOptions=function(){var result=[],rowGroupCount=this.columnController.getRowGroupColumns().length,groupedByThisColumn=0<=this.columnController.getRowGroupColumns().indexOf(this.column),allowValue=this.column.isAllowValue(),allowRowGroup=this.column.isAllowRowGroup(),isPrimary=this.column.isPrimary(),pivotModeOn=this.columnController.isPivotMode();result.push("pinSubMenu");(isPrimary&&0<rowGroupCount&&allowValue||!isPrimary)&&result.push("valueAggSubMenu"),result.push(EnterpriseMenu.MENU_ITEM_SEPARATOR),result.push("autoSizeThis"),result.push("autoSizeAll"),result.push(EnterpriseMenu.MENU_ITEM_SEPARATOR),allowRowGroup&&this.column.isPrimary()&&(groupedByThisColumn?result.push("rowUnGroup"):result.push("rowGroup")),result.push(EnterpriseMenu.MENU_ITEM_SEPARATOR),result.push("resetColumns"),result.push("toolPanel");var allowExpandAndContract=pivotModeOn?1<rowGroupCount:0<rowGroupCount;return allowExpandAndContract&&(result.push("expandAll"),result.push("contractAll")),result},EnterpriseMenu.prototype.createMainPanel=function(){this.mainMenuList=new main_1.MenuList,this.context.wireBean(this.mainMenuList);var menuItems=this.getMenuItems(),builtInOptions=this.createBuiltInMenuOptions();this.mainMenuList.addMenuItems(menuItems,builtInOptions),this.mainMenuList.addEventListener(main_1.MenuItemComponent.EVENT_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:svgFactory.createMenuSvg(),body:this.mainMenuList.getGui()}},EnterpriseMenu.prototype.onHidePopup=function(){this.hidePopupFunc()},EnterpriseMenu.prototype.createFilterPanel=function(){var filterWrapper=this.filterManager.getOrCreateFilterWrapper(this.column),afterFilterAttachedCallback;filterWrapper.filter.afterGuiAttached&&(afterFilterAttachedCallback=filterWrapper.filter.afterGuiAttached.bind(filterWrapper.filter)),this.tabItemFilter={title:svgFactory.createFilterSvg12(),body:filterWrapper.gui,afterAttachedCallback:afterFilterAttachedCallback}},EnterpriseMenu.prototype.createColumnsPanel=function(){var eWrapperDiv=document.createElement("div");main_1.Utils.addCssClass(eWrapperDiv,"ag-menu-column-select-wrapper"),this.columnSelectPanel=new columnSelectPanel_1.ColumnSelectPanel(!1),this.context.wireBean(this.columnSelectPanel),eWrapperDiv.appendChild(this.columnSelectPanel.getGui()),this.tabItemColumns={title:svgFactory.createColumnsSvg12(),body:eWrapperDiv}},EnterpriseMenu.prototype.afterGuiAttached=function(params){this.tabbedLayout.setAfterAttachedParams({hidePopup:params.hidePopup}),this.showTabBasedOnPreviousSelection(),this.hidePopupFunc=params.hidePopup},EnterpriseMenu.prototype.getGui=function(){return this.tabbedLayout.getGui()},EnterpriseMenu.EVENT_TAB_SELECTED="tabSelected",EnterpriseMenu.TAB_FILTER="filter",EnterpriseMenu.TAB_GENERAL="general",EnterpriseMenu.TAB_COLUMNS="columns",EnterpriseMenu.MENU_ITEM_SEPARATOR="separator",__decorate([main_1.Autowired("columnController"),__metadata("design:type",main_1.ColumnController)],EnterpriseMenu.prototype,"columnController",void 0),__decorate([main_1.Autowired("filterManager"),__metadata("design:type",main_1.FilterManager)],EnterpriseMenu.prototype,"filterManager",void 0),__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],EnterpriseMenu.prototype,"context",void 0),__decorate([main_1.Autowired("gridApi"),__metadata("design:type",main_1.GridApi)],EnterpriseMenu.prototype,"gridApi",void 0),__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],EnterpriseMenu.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.Autowired("aggFuncService"),__metadata("design:type",aggFuncService_1.AggFuncService)],EnterpriseMenu.prototype,"aggFuncService",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],EnterpriseMenu.prototype,"init",null),EnterpriseMenu}();exports.EnterpriseMenu=EnterpriseMenu},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),renderedGroup_1=__webpack_require__(107),renderedColumn_1=__webpack_require__(108),ColumnSelectPanel=function(_super){function ColumnSelectPanel(allowDragging){_super.call(this,ColumnSelectPanel.TEMPLATE),this.allowDragging=allowDragging}return __extends(ColumnSelectPanel,_super),ColumnSelectPanel.prototype.init=function(){this.addDestroyableEventListener(this.globalEventService,main_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnsChanged.bind(this)),this.columnController.isReady()&&this.onColumnsChanged()},ColumnSelectPanel.prototype.onColumnsChanged=function(){this.destroyAllRenderedElements(),this.columnTree=this.columnController.getPrimaryColumnTree(),this.recursivelyRenderComponents(this.columnTree,0)},ColumnSelectPanel.prototype.destroy=function(){_super.prototype.destroy.call(this),this.destroyAllRenderedElements()},ColumnSelectPanel.prototype.destroyAllRenderedElements=function(){main_1.Utils.removeAllChildren(this.getGui()),this.renderedItems&&main_1.Utils.iterateObject(this.renderedItems,function(key,renderedItem){return renderedItem.destroy()}),this.renderedItems={}},ColumnSelectPanel.prototype.recursivelyRenderGroupComponent=function(columnGroup,dept){var newDept;if(columnGroup.getColGroupDef()){var renderedGroup=new renderedGroup_1.RenderedGroup(columnGroup,dept,this.onGroupExpanded.bind(this),this.allowDragging);this.context.wireBean(renderedGroup),this.appendChild(renderedGroup.getGui()),newDept=dept+1,this.renderedItems[columnGroup.getId()]=renderedGroup}else newDept=dept;this.recursivelyRenderComponents(columnGroup.getChildren(),newDept)},ColumnSelectPanel.prototype.recursivelyRenderColumnComponent=function(column,dept){var renderedColumn=new renderedColumn_1.RenderedColumn(column,dept,this.allowDragging);this.context.wireBean(renderedColumn),this.appendChild(renderedColumn.getGui()),this.renderedItems[column.getId()]=renderedColumn},ColumnSelectPanel.prototype.recursivelyRenderComponents=function(tree,dept){var _this=this;tree.forEach(function(child){child instanceof main_1.OriginalColumnGroup?_this.recursivelyRenderGroupComponent(child,dept):_this.recursivelyRenderColumnComponent(child,dept)})},ColumnSelectPanel.prototype.recursivelySetVisibility=function(columnTree,visible){var _this=this;columnTree.forEach(function(child){var component=_this.renderedItems[child.getId()];if(component&&component.setVisible(visible),child instanceof main_1.OriginalColumnGroup){var newVisible;if(component){var expanded=component.isExpanded();newVisible=!!visible&&expanded}else newVisible=visible;var newChildren=child.getChildren();_this.recursivelySetVisibility(newChildren,newVisible)}})},ColumnSelectPanel.prototype.onGroupExpanded=function(){this.recursivelySetVisibility(this.columnTree,!0)},ColumnSelectPanel.TEMPLATE="<div class=\"ag-column-select-panel\"></div>",__decorate([main_1.Autowired("columnController"),__metadata("design:type",main_1.ColumnController)],ColumnSelectPanel.prototype,"columnController",void 0),__decorate([main_1.Autowired("eventService"),__metadata("design:type",main_1.EventService)],ColumnSelectPanel.prototype,"globalEventService",void 0),__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],ColumnSelectPanel.prototype,"context",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ColumnSelectPanel.prototype,"init",null),ColumnSelectPanel}(main_1.Component);exports.ColumnSelectPanel=ColumnSelectPanel},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),svgFactory=main_1.SvgFactory.getInstance(),RenderedGroup=function(_super){function RenderedGroup(columnGroup,columnDept,expandedCallback,allowDragging){_super.call(this,RenderedGroup.TEMPLATE),this.expanded=!0,this.processingColumnStateChange=!1,this.columnGroup=columnGroup,this.columnDept=columnDept,this.expandedCallback=expandedCallback,this.allowDragging=allowDragging}return __extends(RenderedGroup,_super),RenderedGroup.prototype.init=function(){var _this=this;this.instantiate(this.context);var eText=this.queryForHtmlElement("#eText");this.displayName=this.columnGroup.getColGroupDef()?this.columnGroup.getColGroupDef().headerName:null,main_1.Utils.missing(this.displayName)&&(this.displayName=">>"),eText.innerHTML=this.displayName,this.setupExpandContract();var eIndent=this.queryForHtmlElement("#eIndent");eIndent.style.width=10*this.columnDept+"px",this.addDestroyableEventListener(eText,"click",function(){return _this.cbSelect.setSelected(!_this.cbSelect.isSelected())}),this.addDestroyableEventListener(this.eventService,main_1.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addDestroyableEventListener(this.cbSelect,main_1.AgCheckbox.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.setOpenClosedIcons(),this.allowDragging&&this.addDragSource(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren()},RenderedGroup.prototype.addVisibilityListenersToAllChildren=function(){var _this=this;this.columnGroup.getLeafColumns().forEach(function(column){_this.addDestroyableEventListener(column,main_1.Column.EVENT_VISIBLE_CHANGED,_this.onColumnStateChanged.bind(_this)),_this.addDestroyableEventListener(column,main_1.Column.EVENT_VALUE_CHANGED,_this.onColumnStateChanged.bind(_this)),_this.addDestroyableEventListener(column,main_1.Column.EVENT_PIVOT_CHANGED,_this.onColumnStateChanged.bind(_this)),_this.addDestroyableEventListener(column,main_1.Column.EVENT_ROW_GROUP_CHANGED,_this.onColumnStateChanged.bind(_this))})},RenderedGroup.prototype.addDragSource=function(){var dragSource={type:main_1.DragSourceType.ToolPanel,eElement:this.getGui(),dragItemName:this.displayName,dragItem:this.columnGroup.getLeafColumns()};this.dragAndDropService.addDragSource(dragSource)},RenderedGroup.prototype.setupExpandContract=function(){this.eGroupClosedIcon=this.queryForHtmlElement("#eGroupClosedIcon"),this.eGroupOpenedIcon=this.queryForHtmlElement("#eGroupOpenedIcon"),this.eGroupClosedIcon.appendChild(main_1.Utils.createIcon("columnSelectClosed",this.gridOptionsWrapper,null,svgFactory.createFolderClosed)),this.eGroupOpenedIcon.appendChild(main_1.Utils.createIcon("columnSelectOpen",this.gridOptionsWrapper,null,svgFactory.createFolderOpen)),this.addDestroyableEventListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addDestroyableEventListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this))},RenderedGroup.prototype.onCheckboxChanged=function(){if(!this.processingColumnStateChange){var childColumns=this.columnGroup.getLeafColumns(),selected=this.cbSelect.isSelected();this.columnController.isPivotMode()?selected?this.actionCheckedReduce(childColumns):this.actionUnCheckedReduce(childColumns):this.columnController.setColumnsVisible(childColumns,selected)}},RenderedGroup.prototype.actionUnCheckedReduce=function(columns){var columnsToUnPivot=[],columnsToUnValue=[],columnsToUnGroup=[];columns.forEach(function(column){column.isPivotActive()&&columnsToUnPivot.push(column),column.isRowGroupActive()&&columnsToUnGroup.push(column),column.isValueActive()&&columnsToUnValue.push(column)}),0<columnsToUnPivot.length&&this.columnController.removePivotColumns(columnsToUnPivot),0<columnsToUnGroup.length&&this.columnController.removeRowGroupColumns(columnsToUnGroup),0<columnsToUnValue.length&&this.columnController.removeValueColumns(columnsToUnValue)},RenderedGroup.prototype.actionCheckedReduce=function(columns){var columnsToAggregate=[],columnsToGroup=[],columnsToPivot=[];columns.forEach(function(column){column.isAnyFunctionActive()||(column.isAllowValue()?columnsToAggregate.push(column):column.isAllowRowGroup()?columnsToGroup.push(column):column.isAllowRowGroup()&&columnsToPivot.push(column))}),0<columnsToAggregate.length&&this.columnController.addValueColumns(columnsToAggregate),0<columnsToGroup.length&&this.columnController.addRowGroupColumns(columnsToGroup),0<columnsToPivot.length&&this.columnController.addPivotColumns(columnsToPivot)},RenderedGroup.prototype.onColumnStateChanged=function(){var _this=this,columnsReduced=this.columnController.isPivotMode(),visibleChildCount=0,hiddenChildCount=0;this.columnGroup.getLeafColumns().forEach(function(column){_this.isColumnVisible(column,columnsReduced)?visibleChildCount++:hiddenChildCount++});var selectedValue;selectedValue=0<visibleChildCount&&0<hiddenChildCount?null:!!(0<visibleChildCount),this.processingColumnStateChange=!0,this.cbSelect.setSelected(selectedValue),this.processingColumnStateChange=!1},RenderedGroup.prototype.isColumnVisible=function(column,columnsReduced){if(columnsReduced){var pivoted=column.isPivotActive(),grouped=column.isRowGroupActive(),aggregated=column.isValueActive();return pivoted||grouped||aggregated}return column.isVisible()},RenderedGroup.prototype.onExpandOrContractClicked=function(){this.expanded=!this.expanded,this.setOpenClosedIcons(),this.expandedCallback()},RenderedGroup.prototype.setOpenClosedIcons=function(){var folderOpen=this.expanded;main_1.Utils.setVisible(this.eGroupClosedIcon,!folderOpen),main_1.Utils.setVisible(this.eGroupOpenedIcon,folderOpen)},RenderedGroup.prototype.isExpanded=function(){return this.expanded},RenderedGroup.TEMPLATE="<div class=\"ag-column-select-column-group\">"+"  <span id=\"eIndent\" class=\"ag-column-select-indent\"></span>"+"  <span class=\"ag-column-group-icons\">"+"    <span id=\"eGroupOpenedIcon\" class=\"ag-column-group-closed-icon\"></span>"+"    <span id=\"eGroupClosedIcon\" class=\"ag-column-group-opened-icon\"></span>"+"  </span>"+"  <ag-checkbox class=\"ag-column-select-checkbox\"></ag-checkbox>"+"  <span id=\"eText\" class=\"ag-column-select-column-group-label\"></span>"+"</div>",__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],RenderedGroup.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.Autowired("columnController"),__metadata("design:type",main_1.ColumnController)],RenderedGroup.prototype,"columnController",void 0),__decorate([main_1.Autowired("gridPanel"),__metadata("design:type",main_1.GridPanel)],RenderedGroup.prototype,"gridPanel",void 0),__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],RenderedGroup.prototype,"context",void 0),__decorate([main_1.Autowired("dragAndDropService"),__metadata("design:type",main_1.DragAndDropService)],RenderedGroup.prototype,"dragAndDropService",void 0),__decorate([main_1.Autowired("eventService"),__metadata("design:type",main_1.EventService)],RenderedGroup.prototype,"eventService",void 0),__decorate([main_1.QuerySelector(".ag-column-select-checkbox"),__metadata("design:type",main_1.AgCheckbox)],RenderedGroup.prototype,"cbSelect",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],RenderedGroup.prototype,"init",null),RenderedGroup}(main_1.Component);exports.RenderedGroup=RenderedGroup},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),svgFactory=main_1.SvgFactory.getInstance(),RenderedColumn=function(_super){function RenderedColumn(column,columnDept,allowDragging){_super.call(this,RenderedColumn.TEMPLATE),this.processingColumnStateChange=!1,this.column=column,this.columnDept=columnDept,this.allowDragging=allowDragging}return __extends(RenderedColumn,_super),RenderedColumn.prototype.init=function(){this.displayName=this.columnController.getDisplayNameForCol(this.column),this.eText.innerHTML=this.displayName,this.eIndent.style.width=10*this.columnDept+"px",this.allowDragging&&this.addDragSource(),this.addDestroyableEventListener(this.eventService,main_1.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addDestroyableEventListener(this.column,main_1.Column.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addDestroyableEventListener(this.column,main_1.Column.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addDestroyableEventListener(this.column,main_1.Column.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addDestroyableEventListener(this.column,main_1.Column.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addDestroyableEventListener(this.gridOptionsWrapper,"functionsReadOnly",this.onColumnStateChanged.bind(this)),this.instantiate(this.context),this.onColumnStateChanged(),this.addDestroyableEventListener(this.cbSelect,main_1.AgCheckbox.EVENT_CHANGED,this.onChange.bind(this)),this.addDestroyableEventListener(this.eText,"click",this.onClick.bind(this))},RenderedColumn.prototype.onClick=function(){this.cbSelect.isReadOnly()||this.cbSelect.toggle()},RenderedColumn.prototype.onChange=function(event){this.processingColumnStateChange||(this.columnController.isPivotMode()?event.selected?this.actionCheckedPivotMode():this.actionUnCheckedPivotMode():this.columnController.setColumnVisible(this.column,event.selected))},RenderedColumn.prototype.actionUnCheckedPivotMode=function(){var functionPassive=this.gridOptionsWrapper.isFunctionsPassive(),column=this.column,columnController=this.columnController;column.isPivotActive()&&(functionPassive?this.eventService.dispatchEvent(main_1.Events.EVENT_COLUMN_PIVOT_REMOVE_REQUEST,{columns:[column]}):columnController.removePivotColumn(column)),column.isValueActive()&&(functionPassive?this.eventService.dispatchEvent(main_1.Events.EVENT_COLUMN_VALUE_REMOVE_REQUEST,{columns:[column]}):columnController.removeValueColumn(column)),column.isRowGroupActive()&&(functionPassive?this.eventService.dispatchEvent(main_1.Events.EVENT_COLUMN_ROW_GROUP_REMOVE_REQUEST,{columns:[column]}):columnController.removeRowGroupColumn(column))},RenderedColumn.prototype.actionCheckedPivotMode=function(){var column=this.column,columnController=this.columnController;if(!(column.isValueActive()||column.isPivotActive()||column.isRowGroupActive())){var functionPassive=this.gridOptionsWrapper.isFunctionsPassive();column.isAllowValue()?functionPassive?this.eventService.dispatchEvent(main_1.Events.EVENT_COLUMN_VALUE_ADD_REQUEST,{columns:[column]}):columnController.addValueColumn(column):column.isAllowRowGroup()?functionPassive?this.eventService.dispatchEvent(main_1.Events.EVENT_COLUMN_ROW_GROUP_ADD_REQUEST,{columns:[column]}):columnController.addRowGroupColumn(column):column.isAllowPivot()&&(functionPassive?this.eventService.dispatchEvent(main_1.Events.EVENT_COLUMN_PIVOT_ADD_REQUEST,{columns:[column]}):columnController.addPivotColumn(column))}},RenderedColumn.prototype.addDragSource=function(){var dragSource={type:main_1.DragSourceType.ToolPanel,eElement:this.getGui(),dragItemName:this.displayName,dragItem:[this.column]};this.dragAndDropService.addDragSource(dragSource)},RenderedColumn.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var isPivotMode=this.columnController.isPivotMode();if(isPivotMode){var anyFunctionActive=this.column.isAnyFunctionActive();this.cbSelect.setSelected(anyFunctionActive)}else this.cbSelect.setSelected(this.column.isVisible());var checkboxReadOnly=isPivotMode&&(this.gridOptionsWrapper.isFunctionsReadOnly()||!this.column.isAnyFunctionAllowed());this.cbSelect.setReadOnly(checkboxReadOnly);var checkboxPassive=isPivotMode&&this.gridOptionsWrapper.isFunctionsPassive();this.cbSelect.setPassive(checkboxPassive),this.processingColumnStateChange=!1},RenderedColumn.TEMPLATE="<div class=\"ag-column-select-column\">"+"  <span class=\"ag-column-select-indent\"></span>"+"  <ag-checkbox class=\"ag-column-select-checkbox\"></ag-checkbox>"+"  <span class=\"ag-column-select-label\"></span>"+"</div>",__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],RenderedColumn.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.Autowired("columnController"),__metadata("design:type",main_1.ColumnController)],RenderedColumn.prototype,"columnController",void 0),__decorate([main_1.Autowired("eventService"),__metadata("design:type",main_1.EventService)],RenderedColumn.prototype,"eventService",void 0),__decorate([main_1.Autowired("dragAndDropService"),__metadata("design:type",main_1.DragAndDropService)],RenderedColumn.prototype,"dragAndDropService",void 0),__decorate([main_1.Autowired("gridPanel"),__metadata("design:type",main_1.GridPanel)],RenderedColumn.prototype,"gridPanel",void 0),__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],RenderedColumn.prototype,"context",void 0),__decorate([main_1.QuerySelector(".ag-column-select-label"),__metadata("design:type",HTMLElement)],RenderedColumn.prototype,"eText",void 0),__decorate([main_1.QuerySelector(".ag-column-select-indent"),__metadata("design:type",HTMLElement)],RenderedColumn.prototype,"eIndent",void 0),__decorate([main_1.QuerySelector(".ag-column-select-checkbox"),__metadata("design:type",main_1.AgCheckbox)],RenderedColumn.prototype,"cbSelect",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],RenderedColumn.prototype,"init",null),RenderedColumn}(main_1.Component);exports.RenderedColumn=RenderedColumn},function(module,exports,__webpack_require__){function aggSum(input){for(var result=null,length=input.length,i=0;i<length;i++)"number"==typeof input[i]&&(null===result?result=input[i]:result+=input[i]);return result}function aggFirst(input){return 0<=input.length?input[0]:null}function aggLast(input){return 0<=input.length?input[input.length-1]:null}function aggMin(input){for(var result=null,length=input.length,i=0;i<length;i++)"number"==typeof input[i]&&(null===result?result=input[i]:result>input[i]&&(result=input[i]));return result}function aggMax(input){for(var result=null,length=input.length,i=0;i<length;i++)"number"==typeof input[i]&&(null===result?result=input[i]:result<input[i]&&(result=input[i]));return result}function aggCount(input){for(var result={value:0,toString:function toString(){return this.value}},length=input.length,i=0,isGroupAgg;i<length;i++)isGroupAgg=main_1.Utils.exists(input[i])&&"number"==typeof input[i].value,isGroupAgg?result+=input[i].value:result.value++;return result}function aggAvg(input){for(var sum=0,count=0,length=input.length,i=0,currentItem;i<length;i++)currentItem=input[i],"number"==typeof currentItem?(sum+=currentItem,count++):"number"==typeof currentItem.value&&"number"==typeof currentItem.count&&(sum+=currentItem.value*currentItem.count,count+=currentItem.count);var value=null;0!==count&&(value=sum/count);var result={count:count,value:value,toString:function toString(){return this.value}};return result}var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),AggFuncService=function(){function AggFuncService(){this.aggFuncsMap={},this.initialised=!1}return AggFuncService.prototype.init=function(){this.initialised||(this.initialised=!0,this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsWrapper.getAggFuncs()))},AggFuncService.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[AggFuncService.AGG_SUM]=aggSum,this.aggFuncsMap[AggFuncService.AGG_FIRST]=aggFirst,this.aggFuncsMap[AggFuncService.AGG_LAST]=aggLast,this.aggFuncsMap[AggFuncService.AGG_MIN]=aggMin,this.aggFuncsMap[AggFuncService.AGG_MAX]=aggMax,this.aggFuncsMap[AggFuncService.AGG_COUNT]=aggCount,this.aggFuncsMap[AggFuncService.AGG_AVG]=aggAvg},AggFuncService.prototype.getDefaultAggFunc=function(){if(this.aggFuncsMap[AggFuncService.AGG_SUM])return AggFuncService.AGG_SUM;var allKeys=this.getFuncNames();return main_1.Utils.existsAndNotEmpty(allKeys)?allKeys[0]:null},AggFuncService.prototype.addAggFuncs=function(aggFuncs){main_1.Utils.iterateObject(aggFuncs,this.addAggFunc.bind(this))},AggFuncService.prototype.addAggFunc=function(key,aggFunc){this.init(),this.aggFuncsMap[key]=aggFunc},AggFuncService.prototype.getAggFunc=function(name){return this.init(),this.aggFuncsMap[name]},AggFuncService.prototype.getFuncNames=function(){return Object.keys(this.aggFuncsMap).sort()},AggFuncService.prototype.clear=function(){this.aggFuncsMap={}},AggFuncService.AGG_SUM="sum",AggFuncService.AGG_FIRST="first",AggFuncService.AGG_LAST="last",AggFuncService.AGG_MIN="min",AggFuncService.AGG_MAX="max",AggFuncService.AGG_COUNT="count",AggFuncService.AGG_AVG="avg",__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],AggFuncService.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],AggFuncService.prototype,"init",null),AggFuncService=__decorate([main_1.Bean("aggFuncService"),__metadata("design:paramtypes",[])],AggFuncService),AggFuncService}();exports.AggFuncService=AggFuncService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),RangeController=function(){function RangeController(){this.selectingRows=!1,this.selectingCols=!1,this.allRowsSelected=!1,this.lastClickedRowIndex=0,this.currentHeaderSelectionLevel=-1,this.bodyScrollListener=this.onBodyScroll.bind(this),this.dragging=!1,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.needToMoveUp=!1,this.needToMoveDown=!1}return RangeController.prototype.init=function(){this.logger=this.loggerFactory.create("RangeController"),this.eBody=this.gridPanel.getBody(),this.eBody.addEventListener("mouseenter",this.onMouseOverBody.bind(this)),this.eBody.addEventListener("mouseleave",this.onMouseOutBody.bind(this)),this.eRoot=this.gridPanel.getRoot(),this.eHeader=this.gridPanel.getHeaderContainer(),this.gridPanel.addScrollEventListener(this.refreshScroll.bind(this)),this.eRoot||console.warn("ag-Grid: could not find document body, it is needed for storing borders for selected ranges"),this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.selectedCols=[],this.selectedRows=[],this.selectedTopRows=[],this.eventService.addEventListener(main_1.Events.EVENT_COLUMN_RESIZED,this.onColumnResize.bind(this)),this.eventService.addEventListener(main_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.clearSelection.bind(this)),this.eventService.addEventListener(main_1.Events.EVENT_HEADER_CLICK,this.setHeaderClick.bind(this)),this.eventService.addEventListener(main_1.Events.EVENT_HEADER_HOVER,this.setHeaderHover.bind(this)),this.eventService.addEventListener(main_1.Events.EVENT_COLUMN_GROUP_OPENED,this.clearSelection.bind(this)),this.eventService.addEventListener(main_1.Events.EVENT_COLUMN_MOVED,this.clearSelection.bind(this)),this.eventService.addEventListener(main_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearSelection.bind(this)),this.eventService.addEventListener(main_1.Events.EVENT_SORT_CHANGED,this.clearSelection.bind(this)),this.eventService.addEventListener(main_1.Events.EVENT_FLASH_CELLS,this.onCopyToClipboard.bind(this))},RangeController.prototype.onMouseOverBody=function(){this.dragging&&(this.gridBodyHovered=!0,this.endHeaderSelectionColumn=null,this.lastEndHeaderSelectionColumn=null,this.tryContractActiveRange())},RangeController.prototype.onMouseOutBody=function(){this.dragging&&(this.gridBodyHovered=!1)},RangeController.prototype.onCopyToClipboard=function(e){var _this=this,range=e.range;if(this.copyBordersTimerId&&clearTimeout(this.copyBordersTimerId),this.copyBorders&&this.eRoot.removeChild(this.copyBorders),range){var borders=main_1.Utils.loadTemplate(RangeController.BORDERS_TEMPLATE);main_1.Utils.addCssClass(borders,"copying"),this.copyBorders=borders,this.eRoot.appendChild(borders),this.positionBorders(range,borders,1)}this.copyBordersTimerId=setTimeout(function(){main_1.Utils.removeCssClass(borders,"copying"),_this.copyBordersTimerId=setTimeout(function(){_this.eRoot.removeChild(_this.copyBorders),_this.copyBorders=void 0},1e3)},500)},RangeController.prototype.onColumnResize=function(){if(this.cellRanges)for(var _i=0,_a=this.cellRanges,range;_i<_a.length;_i++)range=_a[_i],this.positionBorders(range)},RangeController.prototype.setRangeToCell=function(cell){if(this.gridOptionsWrapper.isEnableRangeSelection()&&"$$row_number"!=cell.column.getColDef().colId){var columns=this.updateSelectedColumns(cell.column,cell.column);if(columns){var newRange={type:3,start:new main_1.GridCell(cell.rowIndex,cell.floating,cell.column),end:new main_1.GridCell(cell.rowIndex,cell.floating,cell.column),columns:columns};this.removeBorders(),this.createBorders(newRange),this.cellRanges=[],this.cellRanges.push(newRange),this.activeRange=null,this.dispatchChangedEvent(!0,!1)}}},RangeController.prototype.setRange=function(rangeSelection){this.gridOptionsWrapper.isEnableRangeSelection()&&(this.removeBorders(),this.cellRanges=[],this.addRange(rangeSelection))},RangeController.prototype.getColumnRange=function(rangeSelection){var startLeafColumns=[rangeSelection.columnStart],endLeafColumns=[rangeSelection.columnEnd];void 0!=rangeSelection.columnStart.getLeafColumns&&(startLeafColumns=rangeSelection.columnStart.getLeafColumns()),void 0!=rangeSelection.columnEnd.getLeafColumns&&(endLeafColumns=rangeSelection.columnEnd.getLeafColumns());for(var allColumns=this.gridOptionsWrapper.getColumnApi().getAllDisplayedColumns(),startFirstIdx=allColumns.length,startLastIdx=0,endFirstIdx=allColumns.length,endLastIdx=0,i=1;i<allColumns.length;i++)startLeafColumns&&-1<startLeafColumns.indexOf(allColumns[i])&&(startFirstIdx>i&&(startFirstIdx=i),startLastIdx<i&&(startLastIdx=i)),endLeafColumns&&-1<endLeafColumns.indexOf(allColumns[i])&&(endFirstIdx>i&&(endFirstIdx=i),endLastIdx<i&&(endLastIdx=i));var columnStart=this.columnController.getColumnWithValidation(allColumns[startFirstIdx<endFirstIdx?startFirstIdx:endFirstIdx]),columnEnd=this.columnController.getPrimaryColumn(allColumns[startLastIdx>endLastIdx?startLastIdx:endLastIdx]);return columnStart==rangeSelection.columnEnd&&columnEnd==rangeSelection.columnStart?[columnEnd,columnStart]:[columnStart,columnEnd]},RangeController.prototype.refreshBorders=function(){if(this.cellRanges&&this.cellRanges.length){var that=this;this.removeBorders(),this.cellRanges.forEach(function(range){that.createBorders(range)})}},RangeController.prototype.addRange=function(rangeSelection){if(this.gridOptionsWrapper.isEnableRangeSelection()){var columnRange=this.getColumnRange(rangeSelection),columnStart=columnRange[0],columnEnd=columnRange[1];if(columnStart&&columnEnd&&("$$row_number"!=columnStart.getColDef().colId||"$$row_number"!=columnEnd.getColDef().colId)){var columns=this.updateSelectedColumns(columnStart,columnEnd);if(columns){var newRange={type:rangeSelection.type,start:new main_1.GridCell(rangeSelection.rowStart,rangeSelection.floatingStart,columnStart),end:new main_1.GridCell(rangeSelection.rowEnd,rangeSelection.floatingEnd,columnEnd),columns:columns};this.cellRanges||(this.removeBorders(),this.cellRanges=[]),this.createBorders(newRange),this.cellRanges.push(newRange),this.dispatchChangedEvent(!0,!1)}}}},RangeController.prototype.getCellRanges=function(){return this.cellRanges},RangeController.prototype.getSelectedColumns=function(){return this.selectedCols},RangeController.prototype.isColInAnyRange=function(col){return-1<this.selectedCols.indexOf(col)},RangeController.prototype.isRowInAnyRange=function(rowIndex,floating){return"top"==floating?-1<this.selectedTopRows.indexOf(rowIndex):-1<this.selectedRows.indexOf(rowIndex)},RangeController.prototype.getColSelectionRange=function(col){var _this=this;return main_1.Utils.find(this.cellRanges,function(selection){return(0==selection.type||1==selection.type||_this.lastEndHeaderSelectionColumn)&&-1<selection.columns.indexOf(col)})},RangeController.prototype.isColSelected=function(col){return main_1.Utils.exists(this.getColSelectionRange(col))||null==this.lastEndHeaderSelectionColumn&&-1<this.currentHeaderSelectionLevel},RangeController.prototype.isRowSelected=function(rowIndex,floating){var fixedRowsCount=this.rowRenderer.getFloatingTopRows().length,rowNumber=rowIndex+("top"==floating?0:fixedRowsCount);return main_1.Utils.exists(main_1.Utils.find(this.cellRanges,function(selection){var startIdx=selection.start.rowIndex+("top"==selection.start.floating?0:fixedRowsCount),endIdx=selection.end.rowIndex+("top"==selection.end.floating?0:fixedRowsCount),startRow=endIdx>startIdx?startIdx:endIdx,endRow=endIdx<=startIdx?startIdx:endIdx;return(0==selection.type||2==selection.type)&&rowNumber>=startRow&&rowNumber<=endRow}))},RangeController.prototype.isEmpty=function(){return main_1.Utils.missingOrEmpty(this.cellRanges)},RangeController.prototype.isMoreThanOneCell=function(){if(main_1.Utils.missingOrEmpty(this.cellRanges))return!1;if(1<this.cellRanges.length)return!0;var onlyRange=this.cellRanges[0],onlyOneCellInRange=onlyRange.start.column===onlyRange.end.column&&onlyRange.start.rowIndex===onlyRange.end.rowIndex;return!onlyOneCellInRange},RangeController.prototype.setHeaderClick=function(e){this.startHeaderSelectionColumn&&(this.lastStartHeaderSelectionColumn=this.startHeaderSelectionColumn),e.column&&(this.startHeaderSelectionColumn=e.column),this.lastClickedHeader=e.column},RangeController.prototype.setHeaderHover=function(e){this.dragging&&(this.endHeaderSelectionColumn=e.column,this.lastEndHeaderSelectionColumn=e.column,e.column.getOriginalColumnGroup?this.tryExtendActiveRange(e):this.tryContractActiveRange(),this.selectionChanged(!1,!1))},RangeController.prototype.tryContractActiveRange=function(){if(this.activeRange.originalSelection){var originalRange=this.activeRange.originalSelection;this.activeRange.type=originalRange.type,this.activeRange.level=originalRange.level,this.activeRange.start=originalRange.start,this.activeRange.end=originalRange.end,this.activeRange.eBorders=originalRange.eBorders,this.activeRange.columns=originalRange.columns,this.activeRange.originalSelection=null}this.positionBorders(this.activeRange),this.selectionChanged(!1,!1)},RangeController.prototype.tryExtendActiveRange=function(e){var level=e.column.getLevel();if(!this.activeRange.originalSelection){for(var columns=[],visitedGroups=[],_i=0,_a=this.activeRange.columns;_i<_a.length;_i++){var column=_a[_i],resultGroup=column.getParentOfLevel(level);if(!main_1.Utils.contains(visitedGroups,resultGroup)){var group=this.columnController.getColumnGroup(resultGroup.getGroupId());columns=columns.concat(group.getDisplayedLeafColumns()),visitedGroups.push(resultGroup)}}var activeRange=this.activeRange;this.activeRange.originalSelection={type:activeRange.type,level:activeRange.level,start:new main_1.GridCell(activeRange.start.rowIndex,activeRange.start.floating,activeRange.start.column),end:new main_1.GridCell(activeRange.end.rowIndex,activeRange.end.floating,activeRange.end.column),eBorders:activeRange.eBorders,columns:activeRange.columns},this.activeRange.columns=columns,this.activeRange.start.column=columns[0],this.activeRange.end.column=columns[columns.length-1],this.positionBorders(this.activeRange)}this.activeRange.level=level},RangeController.prototype.getStartHeaderSelectionColumn=function(){return this.startHeaderSelectionColumn},RangeController.prototype.getLastStartHeaderSelectionColumn=function(){return this.lastStartHeaderSelectionColumn},RangeController.prototype.getEndHeaderSelectionColumn=function(){return this.endHeaderSelectionColumn},RangeController.prototype.getLastEndHeaderSelectionColumn=function(){return this.lastEndHeaderSelectionColumn},RangeController.prototype.clearSelection=function(){main_1.Utils.missing(this.cellRanges)||(this.activeRange=null,this.removeBorders(),this.cellRanges=[],this.lastClickedCol=null,this.lastClickedRowIndex=0,this.dispatchChangedEvent(!0,!1))},RangeController.prototype.onBodyScroll=function(){this.onDragging(this.lastMouseEvent)},RangeController.prototype.refreshScroll=function(){if(this.cellRanges)for(var _i=0,_a=this.cellRanges,cellRange;_i<_a.length;_i++)cellRange=_a[_i],this.positionBorders(cellRange);this.copyBorders&&this.positionBorders(this.activeRange,this.copyBorders,1)},RangeController.prototype.isCellInAnyRange=function(cell){return 0<this.getCellRangeCount(cell)},RangeController.prototype.isCellInSpecificRange=function(cell,range){var columnInRange=0<=range.columns.indexOf(cell.column),rowInRange=this.isRowInRange(cell.rowIndex,cell.floating,range);return columnInRange&&rowInRange},RangeController.prototype.getCellRangeCount=function(cell){var _this=this;if(main_1.Utils.missingOrEmpty(this.cellRanges))return 0;var matchingCount=0;return this.cellRanges.forEach(function(cellRange){_this.isCellInSpecificRange(cell,cellRange)&&matchingCount++}),matchingCount},RangeController.prototype.isRowInRange=function(rowIndex,floating,cellRange){var fixedRowsCount=this.rowRenderer.getFloatingTopRows().length,rowNumber=rowIndex+("top"==floating?0:fixedRowsCount),startIdx=cellRange.start.rowIndex+("top"==cellRange.start.floating?0:fixedRowsCount),endIdx=cellRange.end.rowIndex+("top"==cellRange.end.floating?0:fixedRowsCount),startRow=endIdx>startIdx?startIdx:endIdx,endRow=endIdx<=startIdx?startIdx:endIdx;return rowNumber>=startRow&&rowNumber<=endRow},RangeController.prototype.selectAll=function(){var rowCount=this.rowModel.getRowCount(),fixedRowsCount=this.rowRenderer.getFloatingTopRows().length;this.focusedCellController.clearFocusedCell(),this.clearSelection();var columns=this.gridOptionsWrapper.getColumnApi().getAllDisplayedColumns().slice(1);this.addRange({type:0,rowStart:0,rowEnd:rowCount-1,columnStart:columns[0],columnEnd:columns[columns.length-1],floatingStart:0<fixedRowsCount?"top":null,floatingEnd:rowCount>fixedRowsCount?null:"top"}),this.selectingCols=!0,this.selectingRows=!0,this.allRowsSelected=!0},RangeController.prototype.getActiveRangeType=function(){if(this.cellRanges&&this.cellRanges.length)return this.cellRanges[this.cellRanges.length-1].type},RangeController.prototype.onDragStart=function(mouseEvent){var menuButtonClicked=!!main_1.Utils.getClosest(mouseEvent.target,"#agMenu");if(!(menuButtonClicked&&this.allRowsSelected)){this.lastEndHeaderSelectionColumn=null;var cell=this.mouseEventService.getCellForMouseEvent(mouseEvent);if(this.gridOptionsWrapper.isEnableRangeSelection()&&(!main_1.Utils.missing(cell)||this.lastClickedHeader)){this.allRowsSelected=!1,this.selectingRows=!1,this.selectingCols=!1;var shiftSelect=this.activeRange&&mouseEvent.shiftKey,multiSelectKeyPressed=mouseEvent.ctrlKey||mouseEvent.metaKey;if(!main_1.Utils.missing(this.cellRanges)&&multiSelectKeyPressed||shiftSelect||(this.removeBorders(),this.cellRanges=[]),this.lastClickedHeader){if(main_1.Utils.missing(cell)){var column=this.mouseEventService.getColumn(mouseEvent);cell=new main_1.GridCell(0,null,column)}if("$$row_number"==cell.column.getColId())return void this.selectAll();var rowCount=this.rowModel.getRowCount(),firstRowIndex=0,endRowIndex=rowCount-1;if(this.selectingCols=!0,mouseEvent.shiftKey){var lastClickedCol=this.lastClickedCol||this.gridOptionsWrapper.getColumnApi().getAllDisplayedColumns()[1];return void this.addRange({type:1,rowStart:firstRowIndex,rowEnd:endRowIndex,columnStart:lastClickedCol,columnEnd:this.lastClickedHeader})}if(this.lastClickedCol=this.lastClickedHeader,mouseEvent.ctrlKey)return void this.addRange({type:1,rowStart:firstRowIndex,rowEnd:endRowIndex,columnStart:this.lastClickedCol,columnEnd:this.lastClickedCol})}else if("$$row_number"==cell.column.getColDef().colId){this.selectingRows=!0;var columns=this.gridOptionsWrapper.getColumnApi().getAllDisplayedColumns().slice(1),firstColumn=columns[0],lastColumn=columns[columns.length-1];if(mouseEvent.shiftKey)return void this.addRange({type:2,rowStart:this.lastClickedRowIndex,rowEnd:cell.rowIndex,columnStart:firstColumn,columnEnd:lastColumn});if(this.lastClickedRowIndex=cell.rowIndex,mouseEvent.ctrlKey)return void this.addRange({type:2,rowStart:cell.rowIndex,rowEnd:cell.rowIndex,columnStart:firstColumn,columnEnd:lastColumn})}if(shiftSelect)this.cellRanges=[this.activeRange];else{var type=this.selectingCols?1:this.selectingRows?2:3;this.createNewActiveRange(type,cell)}this.gridPanel.addScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=mouseEvent,this.dragging=!0,this.selectionChanged(!1,!0)}}},RangeController.prototype.createNewActiveRange=function(type,cell){var fixedRowsCount=this.rowRenderer.getFloatingTopRows().length,start,end;switch(type){case 1:var rowCount=this.rowModel.getRowCount(),columnRange=this.getColumnRange({columnStart:this.lastClickedHeader,columnEnd:this.lastClickedHeader}),columnStart=columnRange[0],columnEnd=columnRange[1];start=new main_1.GridCell(0,cell.floating,columnStart),end=new main_1.GridCell(rowCount-1,rowCount>fixedRowsCount?null:"top",columnEnd),this.focusedCellController.setFocusedCell(0,cell.column,0<fixedRowsCount?"top":null);break;case 2:var columns=this.gridOptionsWrapper.getColumnApi().getAllDisplayedColumns();start=new main_1.GridCell(cell.rowIndex,cell.floating,columns[1]),end=new main_1.GridCell(cell.rowIndex,cell.floating,columns[columns.length-1]),this.focusedCellController.setFocusedCell(cell.rowIndex,columns[1],cell.floating);break;case 3:columns=[cell.column],start=new main_1.GridCell(cell.rowIndex,cell.floating,cell.column),end=new main_1.GridCell(cell.rowIndex,cell.floating,cell.column);}this.activeRange={type:type,level:this.lastClickedHeader?this.lastClickedHeader.getLevel():void 0,start:start,end:end,columns:this.updateSelectedColumns(start.column,end.column)},this.createBorders(this.activeRange),this.cellRanges.push(this.activeRange)},RangeController.prototype.createBorders=function(range){var eBorders=main_1.Utils.loadTemplate(RangeController.BORDERS_TEMPLATE);return main_1.Utils.addCssClass(eBorders,"selected"),range.eBorders=eBorders,this.eRoot.appendChild(eBorders),this.positionBorders(range),eBorders},RangeController.prototype.positionBorders=function(range,borders,outlineOffset){borders||(borders=range.eBorders),outlineOffset||(outlineOffset=0);for(var leftBorder=borders.querySelector(".ag-selected-range-border-left"),rightBorder=borders.querySelector(".ag-selected-range-border-right"),topBorder=borders.querySelector(".ag-selected-range-border-top"),bottomBorder=borders.querySelector(".ag-selected-range-border-bottom"),fixedRows=this.rowRenderer.getFloatingTopRows(),startIdx=range.start.rowIndex+("top"==range.start.floating?0:fixedRows.length),endIdx=range.end.rowIndex+("top"==range.end.floating?0:fixedRows.length),startCell=endIdx>startIdx?range.start:range.end,endCell=endIdx<=startIdx?range.start:range.end,startRow=startCell.rowIndex,endRow=endCell.rowIndex,offsetX=0,width=0,scrollOffsetX=this.gridPanel.getHorizontalScrollPosition(),scrollOffsetY=this.gridPanel.getVerticalScrollPosition(),maxScrollOffsetX=0,maxScrollOffsetY=0,maxBorderOffsetY=0,maxBorderOffsetX=0,inSelection=!1,gridColumns=this.columnController.getAllDisplayedColumns(),i=0,currentColumn;i<gridColumns.length;i++){if(currentColumn=gridColumns[i],currentColumn===range.columns[0]&&(inSelection=!0),0==i){offsetX+=currentColumn.getActualWidth();continue}if(inSelection?(width+=currentColumn.getActualWidth(),"left"!=currentColumn.getPinned()&&(maxScrollOffsetX+=currentColumn.getActualWidth())):("left"!=currentColumn.getPinned()&&(maxBorderOffsetX+=currentColumn.getActualWidth()),offsetX+=currentColumn.getActualWidth()),currentColumn===range.columns[range.columns.length-1])break}offsetX--;var offsetY=main_1.Utils.offsetHeight(this.eHeader),height=0;if("top"==startCell.floating)for(var to="top"==endCell.floating?_Mathmin6(endRow,fixedRows.length-1):fixedRows.length-1,i=0;i<=to;++i){var row=fixedRows[i],rowHeight=row.rowHeight;i<startRow?offsetY+=rowHeight:height+=rowHeight}else for(var i=0;i<fixedRows.length;++i){var row=fixedRows[i],rowHeight=row.rowHeight;offsetY+=rowHeight}if("top"!=endCell.floating)for(var i=0,row,rowHeight;i<=endRow&&(row=this.rowModel.getRow(i,!0),row&&void 0!=row.id);++i)rowHeight=row.rowHeight,i<startRow&&"top"!=startCell.floating?(offsetY+=rowHeight,maxBorderOffsetY+=rowHeight):(height+=rowHeight,maxScrollOffsetY+=rowHeight);var startTop="top"==startCell.floating,endTop="top"==endCell.floating,startLeft="left"==range.columns[0].getPinned(),endLeft="left"==range.columns[range.columns.length-1].getPinned(),bordersOffset={x:0,y:0};if(startTop||endTop)scrollOffsetY>maxScrollOffsetY&&(scrollOffsetY=maxScrollOffsetY);else if(scrollOffsetY>maxBorderOffsetY){var diff=scrollOffsetY-maxBorderOffsetY;bordersOffset.y+=diff}if(startLeft||endLeft)scrollOffsetX>maxScrollOffsetX&&(scrollOffsetX=maxScrollOffsetX);else if(scrollOffsetX>maxBorderOffsetX){var diff=scrollOffsetX-maxBorderOffsetX;bordersOffset.x+=diff}main_1.Utils.addStylesToElement(borders,{top:offsetY-outlineOffset+bordersOffset.y+"px",left:offsetX-outlineOffset+bordersOffset.x+"px"});var w=width+1+outlineOffset+(startLeft&&!endLeft?-scrollOffsetX:0)-bordersOffset.x;main_1.Utils.addStylesToElement(topBorder,{top:-(startTop?0:scrollOffsetY)+"px",width:(0>w?0:w)+"px",left:(startLeft||endLeft?0:-scrollOffsetX)+"px"}),main_1.Utils.addStylesToElement(bottomBorder,{top:height+outlineOffset-(endTop?0:scrollOffsetY)-(bordersOffset.y>height?height-1:bordersOffset.y)+"px",width:(0>w?0:w)+"px",left:(startLeft||endLeft?0:-scrollOffsetX)+"px"});var h=height+1+outlineOffset+(startTop&&!endTop?-scrollOffsetY:0)-bordersOffset.y;main_1.Utils.addStylesToElement(leftBorder,{left:-(startLeft?0:scrollOffsetX)+"px",height:(0>h?0:h)+"px",top:(startTop||endTop?0:-scrollOffsetY)+"px"}),main_1.Utils.addStylesToElement(rightBorder,{left:width+outlineOffset-(endLeft?0:scrollOffsetX)-(bordersOffset.x>width?width-1:bordersOffset.x)+"px",height:(0>h?0:h)+"px",top:(startTop||endTop?0:-scrollOffsetY)+"px"})},RangeController.prototype.removeBorders=function(){if(this.cellRanges)for(var _this=this,i=0,range;i<this.cellRanges.length;i++)range=_this.cellRanges[i],range.eBorders&&this.eRoot.removeChild(range.eBorders),range.eBorders=null},RangeController.prototype.selectionChanged=function(finished,started){this.dispatchChangedEvent(finished,started)},RangeController.prototype.dispatchChangedEvent=function(finished,started){if(this.selectedRows=[],this.selectedTopRows=[],this.selectedCols=[],this.cellRanges)for(var fixedRowsCount=this.rowRenderer.getFloatingTopRows().length,_i=0,_a=this.cellRanges;_i<_a.length;_i++){for(var selection=_a[_i],startIdx=selection.start.rowIndex+("top"==selection.start.floating?0:fixedRowsCount),endIdx=selection.end.rowIndex+("top"==selection.end.floating?0:fixedRowsCount),startRow=endIdx>startIdx?startIdx:endIdx,endRow=endIdx<=startIdx?startIdx:endIdx,range=[],topRange=[],i=startRow;i<=endRow;i++)i<fixedRowsCount?topRange.push(i):range.push(i-fixedRowsCount);this.selectedRows=main_1.Utils.unique(this.selectedRows.concat(range)),this.selectedTopRows=main_1.Utils.unique(this.selectedTopRows.concat(topRange)),this.selectedCols=main_1.Utils.unique(this.selectedCols.concat(selection.columns))}this.eventService.dispatchEvent(main_1.Events.EVENT_RANGE_SELECTION_CHANGED,{finished:finished,started:started})},RangeController.prototype.onDragStop=function(){this.dragging&&(this.lastClickedHeader=null,this.gridBodyHovered=!1,this.endHeaderSelectionColumn=null,this.gridPanel.removeScrollEventListener(this.bodyScrollListener),this.ensureIntervalCleared(),this.lastMouseEvent=null,this.dragging=!1,this.dispatchChangedEvent(!0,!1))},RangeController.prototype.getCurrentHeaderSelectionLevel=function(){return this.currentHeaderSelectionLevel},RangeController.prototype.onDragging=function(mouseEvent){if(this.dragging){this.lastMouseEvent=mouseEvent;var cell=mouseEvent?this.mouseEventService.getCellForMouseEvent(mouseEvent):null;if(main_1.Utils.missing(cell))if(this.lastClickedHeader||this.endHeaderSelectionColumn){var column=this.mouseEventService.getColumn(mouseEvent);cell=new main_1.GridCell(0,null,column)}else return;var headerBBox=this.eHeader.getBoundingClientRect(),headersMouseOffset=headerBBox.bottom-mouseEvent.clientY,headerHeight=this.gridOptionsWrapper.getHeaderHeight();0<=headersMouseOffset?"$$row_number"==cell.column.getColDef().colId&&(this.currentHeaderSelectionLevel=_Mathfloor6(headersMouseOffset/headerHeight),this.lastEndHeaderSelectionColumn=cell.column):(this.currentHeaderSelectionLevel=-1,this.lastEndHeaderSelectionColumn=null),this.checkCenterForScrolling(mouseEvent&&mouseEvent.clientX?mouseEvent.clientX:0,mouseEvent&&mouseEvent.clientY?mouseEvent.clientY:0);var columnChanged=!1,rowChanged=!1;if(2!=this.activeRange.type){var columnStart,columnEnd;if(1==this.activeRange.type){if(void 0!=this.lastClickedHeader.getLevel()){var currentGroup=cell.column.getParentOfLevel(this.lastClickedHeader.getLevel()),columnRange=this.getColumnRange({columnStart:this.lastClickedHeader,columnEnd:currentGroup});columnStart=columnRange[0],columnEnd=columnRange[1]}else columnStart=this.activeRange.start.column,columnEnd=cell.column;var endRow=this.rowModel.getRowCount()-1;this.activeRange.end.rowIndex!=endRow&&(this.activeRange.end.rowIndex=endRow,rowChanged=!0)}else if(this.gridBodyHovered||!this.endHeaderSelectionColumn)columnStart=this.activeRange.start.column,columnEnd=cell.column;else if(void 0!=this.endHeaderSelectionColumn.getLevel()){var startGroup=this.activeRange.originalSelection.start.column.getParentOfLevel(this.endHeaderSelectionColumn.getLevel()),currentGroup=cell.column.getParentOfLevel(this.endHeaderSelectionColumn.getLevel()),columnRange=this.getColumnRange({columnStart:startGroup,columnEnd:currentGroup});columnStart=columnRange[0],columnEnd=columnRange[1]}else columnStart=this.activeRange.start.column,columnEnd=cell.column;(columnEnd!==this.activeRange.end.column||columnStart!==this.activeRange.start.column)&&(this.activeRange.start.column=columnStart,this.activeRange.end.column=columnEnd,columnChanged=!0)}else{var columns=this.gridOptionsWrapper.getColumnApi().getAllDisplayedColumns(),lastColumn=columns[columns.length-1];this.activeRange.end.column=lastColumn,columnChanged=!0}1!=this.activeRange.type&&(cell.rowIndex!==this.activeRange.end.rowIndex||cell.floating!==this.activeRange.end.floating)&&(this.activeRange.end.rowIndex=cell.rowIndex,this.activeRange.end.floating=cell.floating,rowChanged=!0),(columnChanged||rowChanged)&&(this.activeRange.columns=this.updateSelectedColumns(this.activeRange.start.column,this.activeRange.end.column),this.positionBorders(this.activeRange),this.selectionChanged(!1,!1)),mouseEvent.preventDefault()}},RangeController.prototype.updateSelectedColumns=function(columnFrom,columnTo){var allDisplayedColumns=this.columnController.getAllDisplayedColumns(),fromIndex=allDisplayedColumns.indexOf(columnFrom),toIndex=allDisplayedColumns.indexOf(columnTo);if(0>fromIndex)return console.log("ag-Grid: column "+columnFrom.getId()+" is not visible"),null;if(0>toIndex)return console.log("ag-Grid: column "+columnTo.getId()+" is not visible"),null;for(var firstIndex=_Mathmin6(fromIndex,toIndex),lastIndex=_Mathmax7(fromIndex,toIndex),columns=[],i=firstIndex;i<=lastIndex;i++)columns.push(allDisplayedColumns[i]);return columns},RangeController.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.movingIntervalId=setInterval(this.moveInterval.bind(this),50))},RangeController.prototype.ensureIntervalCleared=function(){this.moveInterval&&(clearInterval(this.movingIntervalId),this.movingIntervalId=null)},RangeController.prototype.checkCenterForScrolling=function(xAdjustedForScroll,yAdjustedForScroll){var centerRect=this.gridPanel.getBodyViewportClientRect();this.needToMoveRight=xAdjustedForScroll>centerRect.right+10,this.needToMoveLeft=xAdjustedForScroll<centerRect.left-10,this.needToMoveUp=yAdjustedForScroll<centerRect.top-10,this.needToMoveDown=yAdjustedForScroll>centerRect.bottom+10,this.needToMoveLeft||this.needToMoveRight||this.needToMoveUp||this.needToMoveDown?this.ensureIntervalStarted():this.ensureIntervalCleared()},RangeController.prototype.moveInterval=function(){var pixelsToMove;this.intervalCount++,pixelsToMove=10+5*this.intervalCount,100<pixelsToMove&&(pixelsToMove=100);var xPixelsMoved;this.needToMoveLeft?xPixelsMoved=this.gridPanel.scrollHorizontally(-pixelsToMove):this.needToMoveRight&&(xPixelsMoved=this.gridPanel.scrollHorizontally(pixelsToMove));var yPixelsMoved;this.needToMoveUp?yPixelsMoved=this.gridPanel.scrollVertically(-pixelsToMove):this.needToMoveDown&&(yPixelsMoved=this.gridPanel.scrollVertically(pixelsToMove)),(0!==xPixelsMoved||0!==yPixelsMoved)&&this.onDragging(this.lastMouseEvent)},(RangeController.BORDERS_TEMPLATE="<div class=\"ag-selected-range-borders\">"+"  <div class=\"ag-selected-range-border-top\"></div>"+"  <div class=\"ag-selected-range-border-left\"></div>"+"  <div class=\"ag-selected-range-border-bottom\"></div>"+"  <div class=\"ag-selected-range-border-right\"></div>"+"</div>",__decorate([main_1.Autowired("loggerFactory"),__metadata("design:type",main_1.LoggerFactory)],RangeController.prototype,"loggerFactory",void 0),__decorate([main_1.Autowired("gridPanel"),__metadata("design:type",main_1.GridPanel)],RangeController.prototype,"gridPanel",void 0),__decorate([main_1.Autowired("rowModel"),__metadata("design:type",Object)],RangeController.prototype,"rowModel",void 0),__decorate([main_1.Autowired("floatingRowModel"),__metadata("design:type",main_1.FloatingRowModel)],RangeController.prototype,"floatingRowModel",void 0),__decorate([main_1.Autowired("eventService"),__metadata("design:type",main_1.EventService)],RangeController.prototype,"eventService",void 0),__decorate([main_1.Autowired("columnController"),__metadata("design:type",main_1.ColumnController)],RangeController.prototype,"columnController",void 0),__decorate([main_1.Autowired("rowRenderer"),__metadata("design:type",main_1.RowRenderer)],RangeController.prototype,"rowRenderer",void 0),__decorate([main_1.Autowired("focusedCellController"),__metadata("design:type",main_1.FocusedCellController)],RangeController.prototype,"focusedCellController",void 0),__decorate([main_1.Autowired("mouseEventService"),__metadata("design:type",main_1.MouseEventService)],RangeController.prototype,"mouseEventService",void 0),__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],RangeController.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.Autowired("autoWidthCalculator"),__metadata("design:type",main_1.AutoWidthCalculator)],RangeController.prototype,"autoWidthCalculator",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],RangeController.prototype,"init",null),RangeController=__decorate([main_1.Bean("rangeController"),__metadata("design:paramtypes",[])],RangeController),RangeController)}();exports.RangeController=RangeController},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),rangeController_1=__webpack_require__(110),ClipboardService=function(){function ClipboardService(){}return ClipboardService.prototype.init=function(){this.logger=this.loggerFactory.create("ClipboardService")},ClipboardService.prototype.pasteFromClipboard=function(){var _this=this;this.logger.log("pasteFromClipboard"),this.executeOnTempElement(function(textArea){textArea.focus()},function(element){var text=element.value;_this.finishPasteFromClipboard(text)})},ClipboardService.prototype.copyRangeDown=function(){var _this=this;if(!this.rangeController.isEmpty()){var cellsToFlash={},firstRowValues=null,updatedRowNodes=[],updatedColumnIds=[];this.iterateFirstActiveRange(function(currentRow,rowNode,columns){firstRowValues?(updatedRowNodes.push(rowNode),columns.forEach(function(column,index){if(column.isCellEditable(rowNode)){var firstRowValue=firstRowValues[index];_this.valueService.setValue(rowNode,column,firstRowValue);var cellId=new main_1.GridCell(currentRow.rowIndex,currentRow.floating,column).createId();cellsToFlash[cellId]=!0}})):(firstRowValues=[],columns.forEach(function(column){var value=_this.valueService.getValue(column,rowNode);firstRowValues.push(value),updatedColumnIds.push(column.getId())}))}),this.rowRenderer.refreshView(),this.rowRenderer.refreshCells(updatedRowNodes,updatedColumnIds),this.eventService.dispatchEvent(main_1.Events.EVENT_FLASH_CELLS,{cells:cellsToFlash})}},ClipboardService.prototype.finishPasteFromClipboard=function(data){var _this=this;if(!main_1.Utils.missingOrEmpty(data)){var focusedCell=this.focusedCellController.getFocusedCell();if(focusedCell){var parsedData=this.dataToArray(data);if(parsedData){var lastLine=parsedData[parsedData.length-1];1===lastLine.length&&""===lastLine[0]&&main_1.Utils.removeFromArray(parsedData,lastLine);var currentRow=new main_1.GridRow(focusedCell.rowIndex,focusedCell.floating),cellsToFlash={},updatedRowNodes=[],updatedColumnIds=[];parsedData.forEach(function(values,index){if(currentRow){var rowNode=_this.getRowNode(currentRow);updatedRowNodes.push(rowNode);var column=focusedCell.column;values.forEach(function(value){if(!main_1.Utils.missing(column)&&column.isCellEditable(rowNode)){_this.valueService.setValue(rowNode,column,value);var cellId=new main_1.GridCell(currentRow.rowIndex,currentRow.floating,column).createId();cellsToFlash[cellId]=!0,0===index&&updatedColumnIds.push(column.getId()),column=_this.columnController.getDisplayedColAfter(column)}}),currentRow=_this.cellNavigationService.getRowBelow(currentRow)}}),this.rowRenderer.refreshCells(updatedRowNodes,updatedColumnIds),this.eventService.dispatchEvent(main_1.Events.EVENT_FLASH_CELLS,{cells:cellsToFlash}),this.focusedCellController.setFocusedCell(focusedCell.rowIndex,focusedCell.column,focusedCell.floating,!0)}}}},ClipboardService.prototype.copyToClipboard=function(includeHeaders){void 0===includeHeaders&&(includeHeaders=!1),this.logger.log("copyToClipboard: includeHeaders = "+includeHeaders);var selectedRowsToCopy=!this.selectionController.isEmpty()&&!this.gridOptionsWrapper.isSuppressCopyRowsToClipboard();this.rangeController.isMoreThanOneCell()?this.copySelectedRangeToClipboard(includeHeaders):selectedRowsToCopy?this.copySelectedRowsToClipboard(includeHeaders):!this.rangeController.isEmpty()&&this.copySelectedRangeToClipboard(includeHeaders)},ClipboardService.prototype.iterateFirstActiveRange=function(rowCallback,columnCallback){function getAllParents(column,parents){var parent=column.getParent();parent&&(parents.push(parent),getAllParents(parent,parents))}if(!this.rangeController.isEmpty()){for(var rangeSelections=this.rangeController.getCellRanges(),range=rangeSelections[0],startRow=range.start.getGridRow(),endRow=range.end.getGridRow(),startRowIsFirst=startRow.before(endRow),currentRow=startRowIsFirst?startRow:endRow,lastRow=startRowIsFirst?endRow:startRow,groupHeaders=[],_i=0,_a=range.columns,lastColumnParents;_i<_a.length;_i++){var column=_a[_i],parents=[];getAllParents(column,parents);for(var i=parents.length-1;0<=i;i--){var newHeader=!1,parent=parents[i];(newHeader||!lastColumnParents||parent!=lastColumnParents[i])&&(!groupHeaders[i]&&(groupHeaders[i]=[]),groupHeaders[i].push(parent),newHeader=!0)}lastColumnParents=parents}var level;if(1==range.type?void 0!=range.level&&(level=groupHeaders.length-1-range.level):this.rangeController.getLastEndHeaderSelectionColumn()?void 0!=range.level&&(level=groupHeaders.length-1-range.level):level=groupHeaders.length-1,main_1.Utils.exists(columnCallback)){if(groupHeaders.length&&void 0!=level&&0<=level)for(var i=level,headers;0<=i;i--)headers=groupHeaders[i],columnCallback(headers);columnCallback(range.columns)}for(;;){var rowNode=this.getRowNode(currentRow);if(null==rowNode)break;if(rowCallback(currentRow,rowNode,range.columns),currentRow.equals(lastRow))break;currentRow=this.cellNavigationService.getRowBelow(currentRow)}return range}},ClipboardService.prototype.copySelectedRangeToClipboard=function(includeHeaders){function getOffsetLength(column){return column.isExpanded()||"$$grand_total"==column.getColGroupDef().key?column.getLeafColumns().length:column.getLeafColumns().filter(function(c){return"open"!=c.getColDef().columnGroupShow}).length}var _this=this;if(void 0===includeHeaders&&(includeHeaders=!1),!this.rangeController.isEmpty()){var DOMElementHelper=function(){return{createTable:function(){var table=document.createElement("table");return table.cellSpacing=0,table.cellPadding=0,table.dir="ltr",table.border=1,table.style.cssText="table-layout:fixed;font-size:13px;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;border-collapse:collapse;border:1px solid #ccc;",table},createTrFor:{columns:function(){var tr=document.createElement("tr");return tr.style.background="#f3f3f3",tr.style.height="25px",tr},rows:function(rowHeight){var tr=document.createElement("tr");return tr.style.height=rowHeight,tr}},createTdFor:{columns:function(column,isBolder){var td=document.createElement("td");if(td.style.padding="4px 4px 4px 10px",td.style.whiteSpace="nowrap",td.style.textAlign="center",column){if(column.getLeafColumns&&column.getColGroupDef()){var len=getOffsetLength(column);td.colSpan=len||1}column.getActualWidth&&(td.style.width=column.getActualWidth()),isBolder&&(td.style.fontWeight="bold")}return td},rows:function(column,isBolder,level){var td=document.createElement("td");return td.style.padding="3px 5px 2px 6px","$$aggregation"==column.getColId()?level&&(td.style.paddingLeft=10*level):td.style.textAlign="right",column.getActualWidth&&(td.style.width=column.getActualWidth()),isBolder&&(td.style.fontWeight="bold"),td}}}}(),data="",cellsToFlash={},bolderReg=/<b>|<\/b>/g,dataHtml=DOMElementHelper.createTable(),columnCallback=function(columns){if(includeHeaders){var tr=DOMElementHelper.createTrFor.columns();columns.forEach(function(column,index){var isBolder=!1,value=_this.getRangeHeaderString(column);bolderReg.test(value)&&(isBolder=!0,value=value.replace(bolderReg,""));var td=DOMElementHelper.createTdFor.columns(column,isBolder);if(0!=index)if(column.getLeafColumns&&column.getColGroupDef())for(var len=getOffsetLength(column),i=0;i<len;i++)data+="\t";else data+="\t";main_1.Utils.exists(value)&&(data+=value,td.textContent=value),tr.appendChild(td)}),data+="\r\n",dataHtml.appendChild(tr)}},rowCallback=function(currentRow,rowNode,columns){var tr=DOMElementHelper.createTrFor.rows(rowNode.rowHeight);columns.forEach(function(column,index){var isBolder=!1,value=_this.valueService.getValue(column,rowNode);value=_this.processRangeCell(rowNode,column,value),bolderReg.test(value)&&(isBolder=!0,value=value.replace(bolderReg,"")),0!=index&&(data+="\t");var td=DOMElementHelper.createTdFor.rows(column,isBolder,rowNode.level);main_1.Utils.exists(value)&&("$$aggregation"==column.getColId()&&rowNode.level&&(value=" ".repeat(2*rowNode.level)+value),data+=value,td.textContent=value),tr.appendChild(td);var cellId=new main_1.GridCell(currentRow.rowIndex,currentRow.floating,column).createId();cellsToFlash[cellId]=!0}),data+="\r\n",dataHtml.appendChild(tr)},range=this.iterateFirstActiveRange(rowCallback,columnCallback);this.gridOptionsWrapper.isEnableCopyWithHtml()?this.copyDataToClipboardWithHtml(data,new XMLSerializer().serializeToString(dataHtml)):this.copyDataToClipboard(data),this.eventService.dispatchEvent(main_1.Events.EVENT_FLASH_CELLS,{cells:cellsToFlash,range:range})}},ClipboardService.prototype.getRangeHeaderString=function(column){var func=this.gridOptionsWrapper.getProcessHeaderForClipboardFunc();return func?func({column:column,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):column.getGroupId?column.getColGroupDef().headerName:this.columnController.getDisplayNameForCol(column,!0)},ClipboardService.prototype.processRangeCell=function(rowNode,column,value){var func=this.gridOptionsWrapper.getProcessCellForClipboardFunc();return func?func({column:column,node:rowNode,value:value,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):value},ClipboardService.prototype.getRowNode=function(gridRow){switch(gridRow.floating){case main_1.Constants.FLOATING_TOP:return this.floatingRowModel.getFloatingTopRowData()[gridRow.rowIndex];case main_1.Constants.FLOATING_BOTTOM:return this.floatingRowModel.getFloatingBottomRowData()[gridRow.rowIndex];default:return this.rowModel.getRow(gridRow.rowIndex,!0);}},ClipboardService.prototype.copySelectedRowsToClipboard=function(includeHeaders,columnKeys){void 0===includeHeaders&&(includeHeaders=!1);var skipHeader=!includeHeaders,params={columnKeys:columnKeys,skipHeader:skipHeader,skipFooters:!0,columnSeparator:"\t",onlySelected:!0,processCellCallback:this.gridOptionsWrapper.getProcessCellForClipboardFunc()},data=this.csvCreator.getDataAsCsv(params);this.copyDataToClipboard(data)},ClipboardService.prototype.copyDataToClipboard=function(data){this.executeOnTempElement(function(element){return element.value=data,element.select(),element.focus(),document.execCommand("copy")})},ClipboardService.prototype.copyDataToClipboardWithHtml=function(data,dataHtml){var that=this,onCopyHandler=function(e){e.clipboardData.setData("text/plain",data),e.clipboardData.setData("text/html",dataHtml),e.preventDefault(),document.removeEventListener("copy",onCopyHandler)};document.addEventListener("copy",onCopyHandler),document.execCommand("copy")},ClipboardService.prototype.executeOnTempElement=function(callbackNow,callbackAfter){var eTempInput=document.createElement("textarea");eTempInput.style.width="1px",eTempInput.style.height="1px",eTempInput.style.top="0px",eTempInput.style.left="0px",eTempInput.style.position="absolute",eTempInput.style.opacity="0.0";var guiRoot=this.gridCore.getRootGui();guiRoot.appendChild(eTempInput);try{var result=callbackNow(eTempInput);this.logger.log("Clipboard operation result: "+result)}catch(err){this.logger.log("Browser doesn\t support document.execComment('copy') for clipboard operations")}callbackAfter?setTimeout(function(){callbackAfter(eTempInput),guiRoot.removeChild(eTempInput)},0):guiRoot.removeChild(eTempInput)},ClipboardService.prototype.dataToArray=function(strData){for(var objPattern=/(\	|\r?\n|\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\	\r\n]*))/gi,arrData=[[]],arrMatches=null,strMatchedDelimiter;arrMatches=objPattern.exec(strData);){strMatchedDelimiter=arrMatches[1],strMatchedDelimiter.length&&strMatchedDelimiter!=="\t"&&arrData.push([]);var strMatchedValue;strMatchedValue=arrMatches[2]?arrMatches[2].replace(/""/g,"\""):arrMatches[3],arrData[arrData.length-1].push(strMatchedValue)}return arrData},__decorate([main_1.Autowired("csvCreator"),__metadata("design:type",main_1.CsvCreator)],ClipboardService.prototype,"csvCreator",void 0),__decorate([main_1.Autowired("loggerFactory"),__metadata("design:type",main_1.LoggerFactory)],ClipboardService.prototype,"loggerFactory",void 0),__decorate([main_1.Autowired("selectionController"),__metadata("design:type",main_1.SelectionController)],ClipboardService.prototype,"selectionController",void 0),__decorate([main_1.Autowired("rangeController"),__metadata("design:type",rangeController_1.RangeController)],ClipboardService.prototype,"rangeController",void 0),__decorate([main_1.Autowired("rowModel"),__metadata("design:type",Object)],ClipboardService.prototype,"rowModel",void 0),__decorate([main_1.Autowired("floatingRowModel"),__metadata("design:type",main_1.FloatingRowModel)],ClipboardService.prototype,"floatingRowModel",void 0),__decorate([main_1.Autowired("valueService"),__metadata("design:type",main_1.ValueService)],ClipboardService.prototype,"valueService",void 0),__decorate([main_1.Autowired("focusedCellController"),__metadata("design:type",main_1.FocusedCellController)],ClipboardService.prototype,"focusedCellController",void 0),__decorate([main_1.Autowired("rowRenderer"),__metadata("design:type",main_1.RowRenderer)],ClipboardService.prototype,"rowRenderer",void 0),__decorate([main_1.Autowired("columnController"),__metadata("design:type",main_1.ColumnController)],ClipboardService.prototype,"columnController",void 0),__decorate([main_1.Autowired("eventService"),__metadata("design:type",main_1.EventService)],ClipboardService.prototype,"eventService",void 0),__decorate([main_1.Autowired("cellNavigationService"),__metadata("design:type",main_1.CellNavigationService)],ClipboardService.prototype,"cellNavigationService",void 0),__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],ClipboardService.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.Autowired("gridCore"),__metadata("design:type",main_1.GridCore)],ClipboardService.prototype,"gridCore",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ClipboardService.prototype,"init",null),ClipboardService=__decorate([main_1.Bean("clipboardService"),__metadata("design:paramtypes",[])],ClipboardService),ClipboardService}();exports.ClipboardService=ClipboardService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),GroupStage=function(){function GroupStage(){}return GroupStage.prototype.execute=function(rowNode){var groupedCols=this.columnController.getRowGroupColumns(),expandByDefault;expandByDefault=this.gridOptionsWrapper.isGroupSuppressRow()?-1:this.gridOptionsWrapper.getGroupDefaultExpanded();this.recursivelyGroup(rowNode,groupedCols,0,expandByDefault,{value:-1})},GroupStage.prototype.recursivelyGroup=function(rowNode,groupColumns,level,expandByDefault,groupId){var _this=this,groupingThisLevel=level<groupColumns.length;if(rowNode.leafGroup=level===groupColumns.length,groupingThisLevel){var groupColumn=groupColumns[level];this.setChildrenAfterGroup(rowNode,groupColumn,groupId,expandByDefault,level),rowNode.childrenAfterGroup.forEach(function(child){_this.recursivelyGroup(child,groupColumns,level+1,expandByDefault,groupId)})}else rowNode.childrenAfterGroup=rowNode.allLeafChildren,rowNode.childrenAfterGroup.forEach(function(child){child.level=level,child.parent=rowNode})},GroupStage.prototype.setChildrenAfterGroup=function(rowNode,groupColumn,groupId,expandByDefault,level){var _this=this;rowNode.childrenAfterGroup=[],rowNode.childrenMapped={},rowNode.allLeafChildren.forEach(function(child){var groupKey=_this.getKeyForNode(groupColumn,child),groupForChild=rowNode.childrenMapped[groupKey];groupForChild||(groupForChild=_this.createGroup(groupColumn,groupKey,rowNode,groupId,expandByDefault,level),rowNode.childrenMapped[groupKey]=groupForChild,rowNode.childrenAfterGroup.push(groupForChild)),groupForChild.allLeafChildren.push(child)})},GroupStage.prototype.getKeyForNode=function(groupColumn,rowNode){var value=this.valueService.getValue(groupColumn,rowNode),keyCreator=groupColumn.getColDef().keyCreator,result;return result=keyCreator?keyCreator({value:value}):value,result},GroupStage.prototype.createGroup=function(groupColumn,groupKey,parent,groupId,expandByDefault,level){var nextGroup=new main_1.RowNode;this.context.wireBean(nextGroup),nextGroup.group=!0,nextGroup.field=groupColumn.getColDef().field,nextGroup.id=groupId.value.toString(),nextGroup.key=groupKey,nextGroup.expanded=this.isExpanded(expandByDefault,level),nextGroup.allLeafChildren=[],nextGroup.allChildrenCount=0,nextGroup.level=level,groupId.value--;var includeParents=!this.gridOptionsWrapper.isSuppressParentsInRowNodes();return nextGroup.parent=includeParents?parent:null,nextGroup},GroupStage.prototype.isExpanded=function(expandByDefault,level){return-1===expandByDefault||level<expandByDefault},__decorate([main_1.Autowired("selectionController"),__metadata("design:type",main_1.SelectionController)],GroupStage.prototype,"selectionController",void 0),__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],GroupStage.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.Autowired("columnController"),__metadata("design:type",main_1.ColumnController)],GroupStage.prototype,"columnController",void 0),__decorate([main_1.Autowired("valueService"),__metadata("design:type",main_1.ValueService)],GroupStage.prototype,"valueService",void 0),__decorate([main_1.Autowired("eventService"),__metadata("design:type",main_1.EventService)],GroupStage.prototype,"eventService",void 0),__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],GroupStage.prototype,"context",void 0),GroupStage=__decorate([main_1.Bean("groupStage"),__metadata("design:paramtypes",[])],GroupStage),GroupStage}();exports.GroupStage=GroupStage},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),pivotStage_1=__webpack_require__(114),aggFuncService_1=__webpack_require__(109),AggregationStage=function(){function AggregationStage(){}return AggregationStage.prototype.execute=function(rootNode){var rowsAlreadyGrouped=main_1.Utils.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc());if(!rowsAlreadyGrouped){var pivotActive=this.columnController.isPivotActive(),measureColumns=this.columnController.getValueColumns(),pivotColumns=pivotActive?this.columnController.getPivotColumns():[];this.recursivelyCreateAggData(rootNode,measureColumns,pivotColumns)}},AggregationStage.prototype.recursivelyCreateAggData=function(rowNode,measureColumns,pivotColumns){var _this=this;rowNode.childrenAfterFilter.forEach(function(child){child.group&&_this.recursivelyCreateAggData(child,measureColumns,pivotColumns)}),this.aggregateRowNode(rowNode,measureColumns,pivotColumns)},AggregationStage.prototype.aggregateRowNode=function(rowNode,measureColumns,pivotColumns){var measureColumnsMissing=0===measureColumns.length,pivotColumnsMissing=0===pivotColumns.length,userProvidedGroupRowAggNodes=this.gridOptionsWrapper.getGroupRowAggNodesFunc(),aggResult;aggResult=userProvidedGroupRowAggNodes?userProvidedGroupRowAggNodes(rowNode.childrenAfterFilter):measureColumnsMissing?null:pivotColumnsMissing?this.aggregateRowNodeUsingValuesOnly(rowNode,measureColumns):this.aggregateRowNodeUsingValuesAndPivot(rowNode),rowNode.data=aggResult,rowNode.sibling&&(rowNode.sibling.data=aggResult)},AggregationStage.prototype.aggregateRowNodeUsingValuesAndPivot=function(rowNode){var _this=this,result={},pivotColumnDefs=this.pivotStage.getPivotColumnDefs();return pivotColumnDefs.forEach(function(pivotColumnDef){var valueColumn=pivotColumnDef.pivotValueColumn,values;if(rowNode.leafGroup){var keys=pivotColumnDef.pivotKeys;values=_this.getValuesFromMappedSet(rowNode.childrenMapped,keys,valueColumn)}else values=_this.getValuesPivotNonLeaf(rowNode,pivotColumnDef.colId);result[pivotColumnDef.colId]=_this.aggregateValues(values,valueColumn.getAggFunc())}),this.putInValueForGroupNode(result,rowNode),result},AggregationStage.prototype.aggregateRowNodeUsingValuesOnly=function(rowNode,valueColumns){var _this=this,result={},values2d=this.getValuesNormal(rowNode,valueColumns);return valueColumns.forEach(function(valueColumn,index){result[valueColumn.getId()]=_this.aggregateValues(values2d[index],valueColumn.getAggFunc())}),this.putInValueForGroupNode(result,rowNode),result},AggregationStage.prototype.putInValueForGroupNode=function(result,rowNode){result[main_1.ColumnController.GROUP_AUTO_COLUMN_ID]=rowNode.key},AggregationStage.prototype.getValuesPivotNonLeaf=function(rowNode,colId){var values=[];return rowNode.childrenAfterFilter.forEach(function(rowNode){var value=rowNode.data[colId];values.push(value)}),values},AggregationStage.prototype.getValuesFromMappedSet=function(mappedSet,keys,valueColumn){var _this=this,mapPointer=mappedSet;if(keys.forEach(function(key){return mapPointer=mapPointer?mapPointer[key]:null}),!mapPointer)return[];var values=[];return mapPointer.forEach(function(rowNode){var value=_this.valueService.getValue(valueColumn,rowNode);values.push(value)}),values},AggregationStage.prototype.getValuesNormal=function(rowNode,valueColumns){var values=[];valueColumns.forEach(function(){return values.push([])});for(var valueColumnCount=valueColumns.length,rowCount=rowNode.childrenAfterFilter.length,i=0,childNode;i<rowCount;i++){childNode=rowNode.childrenAfterFilter[i];for(var j=0;j<valueColumnCount;j++){var valueColumn=valueColumns[j],value;value=childNode.group?childNode.data[valueColumn.getId()]:this.valueService.getValueUsingSpecificData(valueColumn,childNode.data,childNode),values[j].push(value)}}return values},AggregationStage.prototype.aggregateValues=function(values,aggFuncOrString){var aggFunction;if(aggFunction="string"==typeof aggFuncOrString?this.aggFuncService.getAggFunc(aggFuncOrString):aggFuncOrString,"function"!=typeof aggFunction)return console.error("ag-Grid: unrecognised aggregation function "+aggFuncOrString),null;var result=aggFunction(values);return result},__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],AggregationStage.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.Autowired("columnController"),__metadata("design:type",main_1.ColumnController)],AggregationStage.prototype,"columnController",void 0),__decorate([main_1.Autowired("valueService"),__metadata("design:type",main_1.ValueService)],AggregationStage.prototype,"valueService",void 0),__decorate([main_1.Autowired("pivotStage"),__metadata("design:type",pivotStage_1.PivotStage)],AggregationStage.prototype,"pivotStage",void 0),__decorate([main_1.Autowired("aggFuncService"),__metadata("design:type",aggFuncService_1.AggFuncService)],AggregationStage.prototype,"aggFuncService",void 0),AggregationStage=__decorate([main_1.Bean("aggregationStage"),__metadata("design:paramtypes",[])],AggregationStage),AggregationStage}();exports.AggregationStage=AggregationStage},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),pivotColDefService_1=__webpack_require__(115),PivotStage=function(){function PivotStage(){this.uniqueValues={}}return PivotStage.prototype.execute=function(rootNode){this.columnController.isPivotActive()?this.executePivotOn(rootNode):this.executePivotOff()},PivotStage.prototype.executePivotOff=function(){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnController.setSecondaryColumns(null)},PivotStage.prototype.executePivotOn=function(rootNode){var uniqueValues=this.bucketUpRowNodes(rootNode),uniqueValuesChanged=this.setUniqueValues(uniqueValues),aggregationColumns=this.columnController.getValueColumns(),aggregationColumnsHash=aggregationColumns.map(function(column){return column.getId()}).join("#"),aggregationColumnsChanged=this.aggregationColumnsHashLastTime!==aggregationColumnsHash;if(this.aggregationColumnsHashLastTime=aggregationColumnsHash,uniqueValuesChanged||aggregationColumnsChanged){var result=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues);this.pivotColumnGroupDefs=result.pivotColumnGroupDefs,this.pivotColumnDefs=result.pivotColumnDefs,this.columnController.setSecondaryColumns(this.pivotColumnGroupDefs)}},PivotStage.prototype.setUniqueValues=function(newValues){var json1=JSON.stringify(newValues),json2=JSON.stringify(this.uniqueValues);return!!(json1!==json2)&&(this.uniqueValues=newValues,!0)},PivotStage.prototype.bucketUpRowNodes=function(rootNode){function recursivelySearchForLeafNodes(rowNode){rowNode.leafGroup?that.bucketRowNode(rowNode,uniqueValues):rowNode.childrenAfterFilter.forEach(function(child){recursivelySearchForLeafNodes(child)})}var uniqueValues={},that=this;return recursivelySearchForLeafNodes(rootNode),uniqueValues},PivotStage.prototype.bucketRowNode=function(rowNode,uniqueValues){var pivotColumns=this.columnController.getPivotColumns();return 0===pivotColumns.length?void(rowNode.childrenMapped=null):void(rowNode.childrenMapped=this.bucketChildren(rowNode.childrenAfterFilter,pivotColumns,0,uniqueValues))},PivotStage.prototype.bucketChildren=function(children,pivotColumns,pivotIndex,uniqueValues){var _this=this,mappedChildren={},pivotColumn=pivotColumns[pivotIndex];if(children.forEach(function(child){var key=_this.valueService.getValue(pivotColumn,child);main_1.Utils.missing(key)&&(key=""),uniqueValues[key]||(uniqueValues[key]={}),mappedChildren[key]||(mappedChildren[key]=[]),mappedChildren[key].push(child)}),pivotIndex===pivotColumns.length-1)return mappedChildren;var result={};return main_1.Utils.iterateObject(mappedChildren,function(key,value){result[key]=_this.bucketChildren(value,pivotColumns,pivotIndex+1,uniqueValues[key])}),result},PivotStage.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},__decorate([main_1.Autowired("rowModel"),__metadata("design:type",Object)],PivotStage.prototype,"rowModel",void 0),__decorate([main_1.Autowired("valueService"),__metadata("design:type",main_1.ValueService)],PivotStage.prototype,"valueService",void 0),__decorate([main_1.Autowired("columnController"),__metadata("design:type",main_1.ColumnController)],PivotStage.prototype,"columnController",void 0),__decorate([main_1.Autowired("eventService"),__metadata("design:type",main_1.EventService)],PivotStage.prototype,"eventService",void 0),__decorate([main_1.Autowired("pivotColDefService"),__metadata("design:type",pivotColDefService_1.PivotColDefService)],PivotStage.prototype,"pivotColDefService",void 0),PivotStage=__decorate([main_1.Bean("pivotStage"),__metadata("design:paramtypes",[])],PivotStage),PivotStage}();exports.PivotStage=PivotStage},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),PivotColDefService=function(){function PivotColDefService(){}return PivotColDefService.prototype.createPivotColumnDefs=function(uniqueValues){var pivotColumnGroupDefs=[],pivotColumnDefs=[],pivotColumns=this.columnController.getPivotColumns(),levelsDeep=pivotColumns.length,columnIdSequence=new main_1.NumberSequence;return this.recursivelyAddGroup(pivotColumnGroupDefs,pivotColumnDefs,1,uniqueValues,[],columnIdSequence,levelsDeep),{pivotColumnGroupDefs:pivotColumnGroupDefs,pivotColumnDefs:pivotColumnDefs}},PivotColDefService.prototype.recursivelyAddGroup=function(parentChildren,pivotColumnDefs,index,uniqueValues,pivotKeys,columnIdSequence,levelsDeep){var _this=this;main_1.Utils.iterateObject(uniqueValues,function(key,value){var newPivotKeys=pivotKeys.slice(0);newPivotKeys.push(key);if(index!==levelsDeep){var groupDef={children:[],headerName:key,marryChildren:!0};parentChildren.push(groupDef),_this.recursivelyAddGroup(groupDef.children,pivotColumnDefs,index+1,value,newPivotKeys,columnIdSequence,levelsDeep)}else{var measureColumns=_this.columnController.getValueColumns(),valueGroup={children:[],headerName:key,marryChildren:!0};if(parentChildren.push(valueGroup),0===measureColumns.length){var colDef=_this.createColDef(null,"-",newPivotKeys,columnIdSequence,"'-'");valueGroup.children.push(colDef),pivotColumnDefs.push(colDef)}else measureColumns.forEach(function(measureColumn){var colDef=_this.createColDef(measureColumn,measureColumn.getColDef().headerName,newPivotKeys,columnIdSequence,null);valueGroup.children.push(colDef),pivotColumnDefs.push(colDef)});valueGroup.children.sort(_this.headerNameComparator.bind(_this))}parentChildren.sort(_this.headerNameComparator.bind(_this))})},PivotColDefService.prototype.createColDef=function(valueColumn,headerName,pivotKeys,columnIdSequence,valueGetter){var colDef={};if(valueColumn){var colDefToCopy=valueColumn.getColDef();main_1.Utils.assign(colDef,colDefToCopy),colDef.hide=!1}return colDef.valueGetter=valueGetter,colDef.headerName=headerName,colDef.colId="pivot_"+pivotKeys.join("_")+"_"+(valueColumn?valueColumn.getColDef().field:""),colDef.pivotKeys=pivotKeys,colDef.pivotValueColumn=valueColumn,colDef},PivotColDefService.prototype.headerNameComparator=function(a,b){return a.headerName<b.headerName?-1:a.headerName>b.headerName?1:0},__decorate([main_1.Autowired("columnController"),__metadata("design:type",main_1.ColumnController)],PivotColDefService.prototype,"columnController",void 0),PivotColDefService=__decorate([main_1.Bean("pivotColDefService"),__metadata("design:paramtypes",[])],PivotColDefService),PivotColDefService}();exports.PivotColDefService=PivotColDefService},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),setFilter_1=__webpack_require__(117),richSelectCellEditor_1=__webpack_require__(121),licenseManager_1=__webpack_require__(123),EnterpriseBoot=function(){function EnterpriseBoot(){}return EnterpriseBoot.prototype.init=function(){this.filterManager.registerFilter("set",setFilter_1.SetFilter),this.cellEditorFactory.addCellEditor(EnterpriseBoot.RICH_SELECT,richSelectCellEditor_1.RichSelectCellEditor),this.licenseManager.validateLicense()},EnterpriseBoot.RICH_SELECT="richSelect",__decorate([main_1.Autowired("filterManager"),__metadata("design:type",main_1.FilterManager)],EnterpriseBoot.prototype,"filterManager",void 0),__decorate([main_1.Autowired("cellEditorFactory"),__metadata("design:type",main_1.CellEditorFactory)],EnterpriseBoot.prototype,"cellEditorFactory",void 0),__decorate([main_1.Autowired("licenseManager"),__metadata("design:type",licenseManager_1.LicenseManager)],EnterpriseBoot.prototype,"licenseManager",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],EnterpriseBoot.prototype,"init",null),EnterpriseBoot=__decorate([main_1.Bean("enterpriseBoot"),__metadata("design:paramtypes",[])],EnterpriseBoot),EnterpriseBoot}();exports.EnterpriseBoot=EnterpriseBoot},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),setFilterModel_1=__webpack_require__(118),setFilterListItem_1=__webpack_require__(119),virtualList_1=__webpack_require__(120),SetFilter=function(_super){function SetFilter(){_super.call(this)}return __extends(SetFilter,_super),SetFilter.prototype.postConstruct=function(){this.setTemplate(this.createTemplate()),this.virtualList=new virtualList_1.VirtualList,this.context.wireBean(this.virtualList),this.getGui().querySelector("#richList").appendChild(this.virtualList.getGui())},SetFilter.prototype.init=function(params){this.params=params,this.applyActive=!0===this.params.apply,this.suppressSorting=this.params.suppressSorting,this.newRowsActionKeep="keep"===this.params.newRowsAction,main_1.Utils.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.virtualList.setComponentCreator(this.createSetListItem.bind(this)),this.model=new setFilterModel_1.SetFilterModel(params.colDef,params.rowModel,params.valueGetter,params.doesRowPassOtherFilter,this.suppressSorting),this.virtualList.setModel(new ModelWrapper(this.model)),this.createGui()},SetFilter.prototype.createSetListItem=function(value){var _this=this,cellRenderer=this.params.cellRenderer,listItem=new setFilterListItem_1.SetFilterListItem(value,cellRenderer);return this.context.wireBean(listItem),listItem.setSelected(this.model.isValueSelected(value)),listItem.addEventListener(setFilterListItem_1.SetFilterListItem.EVENT_SELECTED,function(){_this.onItemSelected(value,listItem.isSelected())}),listItem},SetFilter.prototype.afterGuiAttached=function(){this.virtualList.refresh(),this.eMiniFilter.focus()},SetFilter.prototype.isFilterActive=function(){return this.model.isFilterActive()},SetFilter.prototype.doesFilterPass=function(params){if(this.model.isEverythingSelected())return!0;if(this.model.isNothingSelected())return!1;var value=this.params.valueGetter(params.node);if(this.params.colDef.keyCreator&&(value=this.params.colDef.keyCreator({value:value})),value=main_1.Utils.makeNull(value),Array.isArray(value)){for(var i=0;i<value.length;i++)if(this.model.isValueSelected(value[i]))return!0;return!1}return this.model.isValueSelected(value)},SetFilter.prototype.onNewRowsLoaded=function(){var keepSelection=this.params&&"keep"===this.params.newRowsAction,isSelectAll=this.eSelectAll&&this.eSelectAll.checked&&!this.eSelectAll.indeterminate;this.model.refreshAfterNewRowsLoaded(keepSelection,isSelectAll),this.virtualList.refresh()},SetFilter.prototype.onAnyFilterChanged=function(){this.model.refreshAfterAnyFilterChanged(),this.virtualList.refresh()},SetFilter.prototype.createTemplate=function(){var translate=this.gridOptionsWrapper.getLocaleTextFunc();return"<div>\n                    <div class=\"ag-filter-header-container\">\n                        <input class=\"ag-filter-filter\" type=\"text\" placeholder=\""+translate("searchOoo","Search...")+"\"/>\n                    </div>\n                    <div class=\"ag-filter-header-container\">\n                        <label>\n                            <input id=\"selectAll\" type=\"checkbox\" class=\"ag-filter-checkbox\"/>\n                            <span class=\"ag-filter-value\">("+translate("selectAll","Select All")+")</span>\n                        </label>\n                    </div>\n                    <div id=\"richList\" class=\"ag-set-filter-list\"></div>\n                    <div class=\"ag-filter-apply-panel\" id=\"applyPanel\">\n                        <button type=\"button\" id=\"applyButton\">"+translate("applyFilter","Apply Filter")+"</button>\n                    </div>\n                </div>"},SetFilter.prototype.createGui=function(){var _this=this;this.eSelectAll=this.queryForHtmlElement("#selectAll"),this.eMiniFilter=this.queryForHtmlElement(".ag-filter-filter"),this.eMiniFilter.value=this.model.getMiniFilter(),this.addDestroyableEventListener(this.eMiniFilter,"input",function(){_this.onMiniFilterChanged()}),this.eSelectAll.onclick=this.onSelectAll.bind(this),this.model.isEverythingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!0):this.model.isNothingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!1):this.eSelectAll.indeterminate=!0,this.setupApply(),this.virtualList.refresh()},SetFilter.prototype.setupApply=function(){var _this=this;this.applyActive?(this.eApplyButton=this.queryForHtmlElement("#applyButton"),this.eApplyButton.addEventListener("click",function(){_this.params.filterChangedCallback()})):main_1.Utils.removeElement(this.getGui(),"#applyPanel")},SetFilter.prototype.filterChanged=function(){this.params.filterModifiedCallback(),this.applyActive||this.params.filterChangedCallback()},SetFilter.prototype.onMiniFilterChanged=function(){var miniFilterChanged=this.model.setMiniFilter(this.eMiniFilter.value);miniFilterChanged&&this.virtualList.refresh()},SetFilter.prototype.onSelectAll=function(){var checked=this.eSelectAll.checked;checked?this.model.selectEverything():this.model.selectNothing(),this.virtualList.refresh(),this.filterChanged()},SetFilter.prototype.onItemSelected=function(value,selected){selected?(this.model.selectValue(value),this.model.isEverythingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!0):this.eSelectAll.indeterminate=!0):(this.model.unselectValue(value),this.model.isNothingSelected()?(this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!1):this.eSelectAll.indeterminate=!0),this.filterChanged()},SetFilter.prototype.setMiniFilter=function(newMiniFilter){this.model.setMiniFilter(newMiniFilter)},SetFilter.prototype.getMiniFilter=function(){return this.model.getMiniFilter()},SetFilter.prototype.selectEverything=function(){this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!0,this.model.selectEverything()},SetFilter.prototype.selectNothing=function(){this.eSelectAll.indeterminate=!1,this.eSelectAll.checked=!1,this.model.selectNothing()},SetFilter.prototype.unselectValue=function(value){this.model.unselectValue(value),this.virtualList.refresh()},SetFilter.prototype.selectValue=function(value){this.model.selectValue(value),this.virtualList.refresh()},SetFilter.prototype.isValueSelected=function(value){return this.model.isValueSelected(value)},SetFilter.prototype.isEverythingSelected=function(){return this.model.isEverythingSelected()},SetFilter.prototype.isNothingSelected=function(){return this.model.isNothingSelected()},SetFilter.prototype.getUniqueValueCount=function(){return this.model.getUniqueValueCount()},SetFilter.prototype.getUniqueValue=function(index){return this.model.getUniqueValue(index)},SetFilter.prototype.getModel=function(){return this.model.getModel()},SetFilter.prototype.setModel=function(dataModel){this.model.setModel(dataModel),this.virtualList.refresh()},__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],SetFilter.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],SetFilter.prototype,"context",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],SetFilter.prototype,"postConstruct",null),SetFilter}(main_1.Component);exports.SetFilter=SetFilter;var ModelWrapper=function(){function ModelWrapper(model){this.model=model}return ModelWrapper.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},ModelWrapper.prototype.getRow=function(index){return this.model.getDisplayedValue(index)},ModelWrapper}()},function(module,exports,__webpack_require__){var main_1=__webpack_require__(2),SetFilterModel=function(){function SetFilterModel(colDef,rowModel,valueGetter,doesRowPassOtherFilters,suppressSorting){this.suppressSorting=suppressSorting,this.colDef=colDef,this.rowModel=rowModel,this.valueGetter=valueGetter,this.doesRowPassOtherFilters=doesRowPassOtherFilters,this.filterParams=this.colDef.filterParams,main_1.Utils.exists(this.filterParams)?(this.usingProvidedSet=main_1.Utils.exists(this.filterParams.values),this.showingAvailableOnly=!0!==this.filterParams.suppressRemoveEntries):(this.usingProvidedSet=!1,this.showingAvailableOnly=!0),this.createAllUniqueValues(),this.createAvailableUniqueValues(),this.displayedValues=this.availableUniqueValues,this.miniFilter=null,this.selectedValuesMap={},this.selectEverything()}return SetFilterModel.prototype.refreshAfterNewRowsLoaded=function(keepSelection,isSelectAll){this.createAllUniqueValues(),this.createAvailableUniqueValues();var oldModel=Object.keys(this.selectedValuesMap);this.selectedValuesMap={},this.processMiniFilter(),keepSelection?this.setModel(oldModel,isSelectAll):this.selectEverything()},SetFilterModel.prototype.refreshAfterAnyFilterChanged=function(){this.showingAvailableOnly&&(this.createAvailableUniqueValues(),this.processMiniFilter())},SetFilterModel.prototype.createAllUniqueValues=function(){if(this.usingProvidedSet)this.allUniqueValues=main_1.Utils.toStrings(this.filterParams.values);else{var uniqueValuesAsAnyObjects=this.getUniqueValues(!1);this.allUniqueValues=main_1.Utils.toStrings(uniqueValuesAsAnyObjects)}this.sortValues(this.allUniqueValues)},SetFilterModel.prototype.createAvailableUniqueValues=function(){var dontCheckAvailableValues=!this.showingAvailableOnly||this.usingProvidedSet;if(dontCheckAvailableValues)return void(this.availableUniqueValues=this.allUniqueValues);var uniqueValuesAsAnyObjects=this.getUniqueValues(!0);this.availableUniqueValues=main_1.Utils.toStrings(uniqueValuesAsAnyObjects),this.sortValues(this.availableUniqueValues)},SetFilterModel.prototype.sortValues=function(values){this.filterParams&&this.filterParams.comparator?values.sort(this.filterParams.comparator):this.colDef.comparator?values.sort(this.colDef.comparator):values.sort(main_1.Utils.defaultComparator)},SetFilterModel.prototype.getUniqueValues=function(filterOutNotAvailable){function addUniqueValueIfMissing(value){uniqueCheck.hasOwnProperty(value)||(result.push(value),uniqueCheck[value]=1)}var _this=this,uniqueCheck={},result=[];return this.rowModel.forEachLeafNode?(this.rowModel.forEachLeafNode(function(node){if(!node.group){var value=_this.valueGetter(node);if(_this.colDef.keyCreator&&(value=_this.colDef.keyCreator({value:value})),(""===value||void 0===value)&&(value=null),filterOutNotAvailable&&!_this.doesRowPassOtherFilters(node))return;if(null!=value&&Array.isArray(value))for(var j=0;j<value.length;j++)addUniqueValueIfMissing(value[j]);else addUniqueValueIfMissing(value)}}),result):(console.error("ag-Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),[])},SetFilterModel.prototype.setMiniFilter=function(newMiniFilter){return(newMiniFilter=main_1.Utils.makeNull(newMiniFilter),this.miniFilter!==newMiniFilter)&&(this.miniFilter=newMiniFilter,this.processMiniFilter(),!0)},SetFilterModel.prototype.getMiniFilter=function(){return this.miniFilter},SetFilterModel.prototype.processMiniFilter=function(){if(null===this.miniFilter)return void(this.displayedValues=this.availableUniqueValues);this.displayedValues=[];for(var miniFilterUpperCase=this.miniFilter.toUpperCase(),i=0,l=this.availableUniqueValues.length,filteredValue;i<l;i++)filteredValue=this.availableUniqueValues[i],null!==filteredValue&&0<=filteredValue.toString().toUpperCase().indexOf(miniFilterUpperCase)&&this.displayedValues.push(filteredValue)},SetFilterModel.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},SetFilterModel.prototype.getDisplayedValue=function(index){return this.displayedValues[index]},SetFilterModel.prototype.selectEverything=function(){for(var count=this.allUniqueValues.length,i=0,value;i<count;i++)value=this.allUniqueValues[i],this.selectedValuesMap[value]=null;this.selectedValuesCount=count},SetFilterModel.prototype.isFilterActive=function(){return this.allUniqueValues.length!==this.selectedValuesCount},SetFilterModel.prototype.selectNothing=function(){this.selectedValuesMap={},this.selectedValuesCount=0},SetFilterModel.prototype.getUniqueValueCount=function(){return this.allUniqueValues.length},SetFilterModel.prototype.getUniqueValue=function(index){return this.allUniqueValues[index]},SetFilterModel.prototype.unselectValue=function(value){void 0!==this.selectedValuesMap[value]&&(delete this.selectedValuesMap[value],this.selectedValuesCount--)},SetFilterModel.prototype.selectValue=function(value){void 0===this.selectedValuesMap[value]&&(this.selectedValuesMap[value]=null,this.selectedValuesCount++)},SetFilterModel.prototype.isValueSelected=function(value){return void 0!==this.selectedValuesMap[value]},SetFilterModel.prototype.isEverythingSelected=function(){return this.allUniqueValues.length===this.selectedValuesCount},SetFilterModel.prototype.isNothingSelected=function(){return 0===this.allUniqueValues.length},SetFilterModel.prototype.getModel=function(){if(!this.isFilterActive())return null;var selectedValues=[];return main_1.Utils.iterateObject(this.selectedValuesMap,function(key){selectedValues.push(key)}),selectedValues},SetFilterModel.prototype.setModel=function(model,isSelectAll){if(void 0===isSelectAll&&(isSelectAll=!1),model&&!isSelectAll){this.selectNothing();for(var i=0,newValue;i<model.length;i++)newValue=model[i],0<=this.allUniqueValues.indexOf(newValue)&&this.selectValue(model[i])}else this.selectEverything()},SetFilterModel}();exports.SetFilterModel=SetFilterModel},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),SetFilterListItem=function(_super){function SetFilterListItem(value,cellRenderer){_super.call(this,SetFilterListItem.TEMPLATE),this.value=value,this.cellRenderer=cellRenderer}return __extends(SetFilterListItem,_super),SetFilterListItem.prototype.init=function(){var _this=this;this.render(),this.eCheckbox=this.queryForHtmlInputElement("input"),this.addDestroyableEventListener(this.eCheckbox,"click",function(){return _this.dispatchEvent(SetFilterListItem.EVENT_SELECTED)})},SetFilterListItem.prototype.isSelected=function(){return this.eCheckbox.checked},SetFilterListItem.prototype.setSelected=function(selected){this.eCheckbox.checked=selected},SetFilterListItem.prototype.render=function(){var valueElement=this.queryForHtmlElement(".ag-filter-value");if(this.cellRenderer){var component=this.cellRendererService.useCellRenderer(this.cellRenderer,valueElement,{value:this.value});component&&component.destroy&&this.addDestroyFunc(component.destroy.bind(component))}else{var localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc(),blanksText="("+localeTextFunc("blanks","Blanks")+")",displayNameOfValue=null===this.value?blanksText:this.value;valueElement.innerHTML=displayNameOfValue}},SetFilterListItem.EVENT_SELECTED="selected",SetFilterListItem.TEMPLATE="<label class=\"ag-set-filter-item\">"+"<input type=\"checkbox\" class=\"ag-filter-checkbox\"/>"+"<span class=\"ag-filter-value\"></span>"+"</label>",__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],SetFilterListItem.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.Autowired("cellRendererService"),__metadata("design:type",main_1.CellRendererService)],SetFilterListItem.prototype,"cellRendererService",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],SetFilterListItem.prototype,"init",null),SetFilterListItem}(main_1.Component);exports.SetFilterListItem=SetFilterListItem},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),VirtualList=function(_super){function VirtualList(){_super.call(this,null),this.rowsInBodyContainer={},this.rowHeight=20}return __extends(VirtualList,_super),VirtualList.prototype.init=function(){this.setTemplate(VirtualList.TEMPLATE),this.eListContainer=this.queryForHtmlElement(".ag-virtual-list-container"),this.addScrollListener()},VirtualList.prototype.ensureIndexVisible=function(index){var lastRow=this.model.getRowCount();if("number"!=typeof index||0>index||index>=lastRow)return void console.warn("invalid row index for ensureIndexVisible: "+index);var rowTopPixel=index*this.rowHeight,rowBottomPixel=rowTopPixel+this.rowHeight,viewportTopPixel=this.getGui().scrollTop,viewportHeight=this.getGui().offsetHeight;if(viewportTopPixel>rowTopPixel)this.getGui().scrollTop=rowTopPixel;else if(viewportTopPixel+viewportHeight<rowBottomPixel){this.getGui().scrollTop=rowBottomPixel-viewportHeight}},VirtualList.prototype.setComponentCreator=function(componentCreator){this.componentCreator=componentCreator},VirtualList.prototype.getRowHeight=function(){return this.rowHeight},VirtualList.prototype.getScrollTop=function(){return this.getGui().scrollTop},VirtualList.prototype.setRowHeight=function(rowHeight){this.rowHeight=rowHeight,this.refresh()},VirtualList.prototype.refresh=function(){main_1.Utils.missing(this.model)||(this.eListContainer.style.height=this.model.getRowCount()*this.rowHeight+"px",this.clearVirtualRows(),this.drawVirtualRows())},VirtualList.prototype.clearVirtualRows=function(){var rowsToRemove=Object.keys(this.rowsInBodyContainer);this.removeVirtualRows(rowsToRemove)},VirtualList.prototype.drawVirtualRows=function(){var topPixel=this.getGui().scrollTop,bottomPixel=topPixel+this.getGui().offsetHeight,firstRow=_Mathfloor6(topPixel/this.rowHeight),lastRow=_Mathfloor6(bottomPixel/this.rowHeight);this.ensureRowsRendered(firstRow,lastRow)},VirtualList.prototype.ensureRowsRendered=function(start,finish){for(var rowsToRemove=Object.keys(this.rowsInBodyContainer),rowIndex=start;rowIndex<=finish;rowIndex++){if(0<=rowsToRemove.indexOf(rowIndex.toString())){rowsToRemove.splice(rowsToRemove.indexOf(rowIndex.toString()),1);continue}if(this.model.getRowCount()>rowIndex){var value=this.model.getRow(rowIndex);this.insertRow(value,rowIndex)}}this.removeVirtualRows(rowsToRemove)},VirtualList.prototype.removeVirtualRows=function(rowsToRemove){var _this=this;rowsToRemove.forEach(function(index){var component=_this.rowsInBodyContainer[index];_this.eListContainer.removeChild(component.eDiv),component.rowComponent.destroy&&component.rowComponent.destroy(),delete _this.rowsInBodyContainer[index]})},VirtualList.prototype.insertRow=function(value,rowIndex){var eDiv=document.createElement("div");main_1.Utils.addCssClass(eDiv,"ag-virtual-list-item"),eDiv.style.top=this.rowHeight*rowIndex+"px";var rowComponent=this.componentCreator(value);eDiv.appendChild(rowComponent.getGui()),this.eListContainer.appendChild(eDiv),this.rowsInBodyContainer[rowIndex]={rowComponent:rowComponent,eDiv:eDiv}},VirtualList.prototype.addScrollListener=function(){var _this=this;this.addGuiEventListener("scroll",function(){_this.drawVirtualRows()})},VirtualList.prototype.setModel=function(model){this.model=model},VirtualList.TEMPLATE="<div class=\"ag-virtual-list-viewport\">"+"<div class=\"ag-virtual-list-container\">"+"</div>"+"</div>",__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],VirtualList.prototype,"init",null),VirtualList}(main_1.Component);exports.VirtualList=VirtualList},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),richSelectRow_1=__webpack_require__(122),virtualList_1=__webpack_require__(120),RichSelectCellEditor=function(_super){function RichSelectCellEditor(){_super.call(this,RichSelectCellEditor.TEMPLATE)}return __extends(RichSelectCellEditor,_super),RichSelectCellEditor.prototype.init=function(params){if(this.params=params,this.selectedValue=params.value,this.cellRenderer=this.params.cellRenderer,this.virtualList=new virtualList_1.VirtualList,this.context.wireBean(this.virtualList),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.getGui().querySelector(".ag-rich-select-list").appendChild(this.virtualList.getGui()),this.renderSelectedValue(),main_1.Utils.missing(params.values))return void console.log("ag-Grid: richSelectCellEditor requires values for it to work");var values=params.values;this.virtualList.setModel({getRowCount:function getRowCount(){return values.length},getRow:function getRow(index){return values[index]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addDestroyableEventListener(this.virtualList.getGui(),"click",this.onClick.bind(this)),this.addDestroyableEventListener(this.virtualList.getGui(),"mousemove",this.onMouseMove.bind(this))},RichSelectCellEditor.prototype.onKeyDown=function(event){var key=event.which||event.keyCode;key===main_1.Constants.KEY_ENTER?this.onEnterKeyDown():key===main_1.Constants.KEY_DOWN||key===main_1.Constants.KEY_UP?this.onNavigationKeyPressed(event,key):void 0},RichSelectCellEditor.prototype.onEnterKeyDown=function(){this.params.stopEditing()},RichSelectCellEditor.prototype.onNavigationKeyPressed=function(event,key){event.stopPropagation();var oldIndex=this.params.values.indexOf(this.selectedValue),newIndex=key===main_1.Constants.KEY_UP?oldIndex-1:oldIndex+1;if(0<=newIndex&&newIndex<this.params.values.length){var valueToSelect=this.params.values[newIndex];this.setSelectedValue(valueToSelect)}},RichSelectCellEditor.prototype.renderSelectedValue=function(){var eValue=this.getGui().querySelector(".ag-rich-select-value");if(this.cellRenderer){var result=this.cellRendererService.useCellRenderer(this.cellRenderer,eValue,{value:this.selectedValue});result&&result.destroy&&this.addDestroyFunc(function(){return result.destroy()})}else eValue.innerHTML=main_1.Utils.exists(this.selectedValue)?this.selectedValue.toString():""},RichSelectCellEditor.prototype.setSelectedValue=function(value){if(this.selectedValue!==value){var index=this.params.values.indexOf(value);0<=index&&(this.selectedValue=value,this.virtualList.ensureIndexVisible(index),this.virtualList.refresh())}},RichSelectCellEditor.prototype.createRowComponent=function(value){var row=new richSelectRow_1.RichSelectRow(this.cellRenderer);return this.context.wireBean(row),row.setState(value,value===this.selectedValue),row},RichSelectCellEditor.prototype.onMouseMove=function(mouseEvent){var rect=this.virtualList.getGui().getBoundingClientRect(),scrollTop=this.virtualList.getScrollTop(),mouseY=mouseEvent.clientY-rect.top+scrollTop,row=_Mathfloor6(mouseY/this.virtualList.getRowHeight()),value=this.params.values[row];main_1.Utils.exists(value)&&this.setSelectedValue(value)},RichSelectCellEditor.prototype.onClick=function(){this.params.stopEditing()},RichSelectCellEditor.prototype.afterGuiAttached=function(){var selectedIndex=this.params.values.indexOf(this.selectedValue);this.virtualList.refresh(),0<=selectedIndex&&this.virtualList.ensureIndexVisible(selectedIndex),this.virtualList.refresh(),this.getGui().focus()},RichSelectCellEditor.prototype.getValue=function(){return this.selectedValue},RichSelectCellEditor.prototype.isPopup=function(){return!0},RichSelectCellEditor.TEMPLATE="<div class=\"ag-rich-select\" tabindex=\"0\">"+"<div class=\"ag-rich-select-value\"></div>"+"<div class=\"ag-rich-select-list\"></div>"+"</div>",__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],RichSelectCellEditor.prototype,"context",void 0),__decorate([main_1.Autowired("cellRendererService"),__metadata("design:type",main_1.CellRendererService)],RichSelectCellEditor.prototype,"cellRendererService",void 0),RichSelectCellEditor}(main_1.Component);exports.RichSelectCellEditor=RichSelectCellEditor},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),RichSelectRow=function(_super){function RichSelectRow(cellRenderer){_super.call(this,"<div class=\"ag-rich-select-row\"></div>"),this.cellRenderer=cellRenderer}return __extends(RichSelectRow,_super),RichSelectRow.prototype.setState=function(value,selected){main_1.Utils.exists(this.cellRenderer)?this.populateWithRenderer(value):this.populateWithoutRenderer(value),main_1.Utils.addOrRemoveCssClass(this.getGui(),"ag-rich-select-row-selected",selected)},RichSelectRow.prototype.populateWithoutRenderer=function(value){main_1.Utils.exists(value)&&""!==value&&(this.getGui().textContent=value.toString())},RichSelectRow.prototype.populateWithRenderer=function(value){var childComponent=this.cellRendererService.useCellRenderer(this.cellRenderer,this.getGui(),{value:value});childComponent&&childComponent.destroy&&this.addDestroyFunc(childComponent.destroy.bind(childComponent))},__decorate([main_1.Autowired("cellRendererService"),__metadata("design:type",main_1.CellRendererService)],RichSelectRow.prototype,"cellRendererService",void 0),RichSelectRow}(main_1.Component);exports.RichSelectRow=RichSelectRow},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),main_2=__webpack_require__(2),md5_1=__webpack_require__(124),LicenseManager=function(){function LicenseManager(){}return LicenseManager.prototype.validateLicense=function(){var gridReleaseDate=LicenseManager.getGridReleaseDate(),valid=!1,current=!1;if(!main_2.Utils.missingOrEmpty(LicenseManager.licenseKey)&&32<LicenseManager.licenseKey.length){var hashStart=LicenseManager.licenseKey.length-32,md5=LicenseManager.licenseKey.substring(hashStart),license=LicenseManager.licenseKey.substring(0,hashStart);if(md5===this.md5.md5(license)){var restrictionHashed=license.substring(license.lastIndexOf("_")+1,license.length),expiry=new Date(parseInt(LicenseManager.decode(restrictionHashed)));isNaN(expiry.getTime())||(valid=!0,current=gridReleaseDate<expiry)}}if(valid=!0,current=!0,!valid)LicenseManager.outputMessage("********************************************* Invalid License **************************************************","* Your license for ag-Grid Enterprise is not valid - please contact ag-Grid support to obtain a valid license. *");else if(!current){var formattedExpiryDate=LicenseManager.formatDate(expiry),formattedReleaseDate=LicenseManager.formatDate(gridReleaseDate);LicenseManager.outputMessage("********************* License not compatible with installed version of ag-Grid Enterprise. *********************","Your license for ag-Grid Enterprise expired on "+formattedExpiryDate+" but the version installed was released on "+formattedReleaseDate+". Please "+"contact ag-Grid Support to renew your license")}},LicenseManager.outputMessage=function(header,message){console.error("****************************************************************************************************************"),console.error("*************************************** ag-Grid Enterprise License *********************************************"),console.error(header),console.error(message),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************")},LicenseManager.formatDate=function(date){var day=date.getDate(),monthIndex=date.getMonth(),year=date.getFullYear();return day+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][monthIndex]+" "+year},LicenseManager.getGridReleaseDate=function(){return new Date(parseInt(LicenseManager.decode(LicenseManager.RELEASE_INFORMATION)))},(LicenseManager.decode=function(input){for(var keystr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="",f=0,e=input.replace(/[^A-Za-z0-9+/=]/g,""),n,r,i,s,o,u,a;f<e.length;)s=keystr.indexOf(e.charAt(f++)),o=keystr.indexOf(e.charAt(f++)),u=keystr.indexOf(e.charAt(f++)),a=keystr.indexOf(e.charAt(f++)),n=s<<2|o>>4,r=(15&o)<<4|u>>2,i=(3&u)<<6|a,t+=_StringfromCharCode2(n),64!=u&&(t+=_StringfromCharCode2(r)),64!=a&&(t+=_StringfromCharCode2(i));return t=LicenseManager.utf8_decode(t),t},LicenseManager.utf8_decode=function(input){input=input.replace(/rn/g,"n");for(var t="",n=0,r;n<input.length;n++)r=input.charCodeAt(n),128>r?t+=_StringfromCharCode2(r):127<r&&2048>r?(t+=_StringfromCharCode2(192|r>>6),t+=_StringfromCharCode2(128|63&r)):(t+=_StringfromCharCode2(224|r>>12),t+=_StringfromCharCode2(128|63&r>>6),t+=_StringfromCharCode2(128|63&r));return t},LicenseManager.setLicenseKey=function(licenseKey){LicenseManager.licenseKey=licenseKey},LicenseManager.RELEASE_INFORMATION="MTQ2ODM5ODkxNjg4MA==",__decorate([main_1.Autowired("md5"),__metadata("design:type",md5_1.MD5)],LicenseManager.prototype,"md5",void 0),LicenseManager=__decorate([main_1.Bean("licenseManager"),__metadata("design:paramtypes",[])],LicenseManager),LicenseManager)}();exports.LicenseManager=LicenseManager},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),MD5=function(){function MD5(){this.ieCompatibility=!1}return MD5.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},MD5.prototype.md5cycle=function(x,k){var a=x[0],b=x[1],c=x[2],d=x[3];a=this.ff(a,b,c,d,k[0],7,-680876936),d=this.ff(d,a,b,c,k[1],12,-389564586),c=this.ff(c,d,a,b,k[2],17,606105819),b=this.ff(b,c,d,a,k[3],22,-1044525330),a=this.ff(a,b,c,d,k[4],7,-176418897),d=this.ff(d,a,b,c,k[5],12,1200080426),c=this.ff(c,d,a,b,k[6],17,-1473231341),b=this.ff(b,c,d,a,k[7],22,-45705983),a=this.ff(a,b,c,d,k[8],7,1770035416),d=this.ff(d,a,b,c,k[9],12,-1958414417),c=this.ff(c,d,a,b,k[10],17,-42063),b=this.ff(b,c,d,a,k[11],22,-1990404162),a=this.ff(a,b,c,d,k[12],7,1804603682),d=this.ff(d,a,b,c,k[13],12,-40341101),c=this.ff(c,d,a,b,k[14],17,-1502002290),b=this.ff(b,c,d,a,k[15],22,1236535329),a=this.gg(a,b,c,d,k[1],5,-165796510),d=this.gg(d,a,b,c,k[6],9,-1069501632),c=this.gg(c,d,a,b,k[11],14,643717713),b=this.gg(b,c,d,a,k[0],20,-373897302),a=this.gg(a,b,c,d,k[5],5,-701558691),d=this.gg(d,a,b,c,k[10],9,38016083),c=this.gg(c,d,a,b,k[15],14,-660478335),b=this.gg(b,c,d,a,k[4],20,-405537848),a=this.gg(a,b,c,d,k[9],5,568446438),d=this.gg(d,a,b,c,k[14],9,-1019803690),c=this.gg(c,d,a,b,k[3],14,-187363961),b=this.gg(b,c,d,a,k[8],20,1163531501),a=this.gg(a,b,c,d,k[13],5,-1444681467),d=this.gg(d,a,b,c,k[2],9,-51403784),c=this.gg(c,d,a,b,k[7],14,1735328473),b=this.gg(b,c,d,a,k[12],20,-1926607734),a=this.hh(a,b,c,d,k[5],4,-378558),d=this.hh(d,a,b,c,k[8],11,-2022574463),c=this.hh(c,d,a,b,k[11],16,1839030562),b=this.hh(b,c,d,a,k[14],23,-35309556),a=this.hh(a,b,c,d,k[1],4,-1530992060),d=this.hh(d,a,b,c,k[4],11,1272893353),c=this.hh(c,d,a,b,k[7],16,-155497632),b=this.hh(b,c,d,a,k[10],23,-1094730640),a=this.hh(a,b,c,d,k[13],4,681279174),d=this.hh(d,a,b,c,k[0],11,-358537222),c=this.hh(c,d,a,b,k[3],16,-722521979),b=this.hh(b,c,d,a,k[6],23,76029189),a=this.hh(a,b,c,d,k[9],4,-640364487),d=this.hh(d,a,b,c,k[12],11,-421815835),c=this.hh(c,d,a,b,k[15],16,530742520),b=this.hh(b,c,d,a,k[2],23,-995338651),a=this.ii(a,b,c,d,k[0],6,-198630844),d=this.ii(d,a,b,c,k[7],10,1126891415),c=this.ii(c,d,a,b,k[14],15,-1416354905),b=this.ii(b,c,d,a,k[5],21,-57434055),a=this.ii(a,b,c,d,k[12],6,1700485571),d=this.ii(d,a,b,c,k[3],10,-1894986606),c=this.ii(c,d,a,b,k[10],15,-1051523),b=this.ii(b,c,d,a,k[1],21,-2054922799),a=this.ii(a,b,c,d,k[8],6,1873313359),d=this.ii(d,a,b,c,k[15],10,-30611744),c=this.ii(c,d,a,b,k[6],15,-1560198380),b=this.ii(b,c,d,a,k[13],21,1309151649),a=this.ii(a,b,c,d,k[4],6,-145523070),d=this.ii(d,a,b,c,k[11],10,-1120210379),c=this.ii(c,d,a,b,k[2],15,718787259),b=this.ii(b,c,d,a,k[9],21,-343485551),x[0]=this.add32(a,x[0]),x[1]=this.add32(b,x[1]),x[2]=this.add32(c,x[2]),x[3]=this.add32(d,x[3])},MD5.prototype.cmn=function(q,a,b,x,s,t){return a=this.add32(this.add32(a,q),this.add32(x,t)),this.add32(a<<s|a>>>32-s,b)},MD5.prototype.ff=function(a,b,c,d,x,s,t){return this.cmn(b&c|~b&d,a,b,x,s,t)},MD5.prototype.gg=function(a,b,c,d,x,s,t){return this.cmn(b&d|c&~d,a,b,x,s,t)},MD5.prototype.hh=function(a,b,c,d,x,s,t){return this.cmn(b^c^d,a,b,x,s,t)},MD5.prototype.ii=function(a,b,c,d,x,s,t){return this.cmn(c^(b|~d),a,b,x,s,t)},MD5.prototype.md51=function(s){var n=s.length,state=[1732584193,-271733879,-1732584194,271733878],i;for(i=64;i<=s.length;i+=64)this.md5cycle(state,this.md5blk(s.substring(i-64,i)));s=s.substring(i-64);var tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<s.length;i++)tail[i>>2]|=s.charCodeAt(i)<<(i%4<<3);if(tail[i>>2]|=128<<(i%4<<3),55<i)for(this.md5cycle(state,tail),i=0;16>i;i++)tail[i]=0;return tail[14]=8*n,this.md5cycle(state,tail),state},MD5.prototype.md5blk=function(s){var md5blks=[],i;for(i=0;64>i;i+=4)md5blks[i>>2]=s.charCodeAt(i)+(s.charCodeAt(i+1)<<8)+(s.charCodeAt(i+2)<<16)+(s.charCodeAt(i+3)<<24);return md5blks},MD5.prototype.rhex=function(n){for(var hex_chr="0123456789abcdef".split(""),s="",j=0;4>j;j++)s+=hex_chr[15&n>>8*j+4]+hex_chr[15&n>>8*j];return s},MD5.prototype.hex=function(x){for(var i=0;i<x.length;i++)x[i]=this.rhex(x[i]);return x.join("")},MD5.prototype.md5=function(s){return this.hex(this.md51(s))},MD5.prototype.add32=function(a,b){return this.ieCompatibility?this.add32Compat(a,b):this.add32Std(a,b)},MD5.prototype.add32Std=function(a,b){return 4294967295&a+b},MD5.prototype.add32Compat=function(x,y){var lsw=(65535&x)+(65535&y);return(x>>16)+(y>>16)+(lsw>>16)<<16|65535&lsw},__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],MD5.prototype,"init",null),MD5=__decorate([main_1.Bean("md5"),__metadata("design:paramtypes",[])],MD5),MD5}();exports.MD5=MD5},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),statusItem_1=__webpack_require__(126),rangeController_1=__webpack_require__(110),StatusBar=function(_super){function StatusBar(){_super.call(this,StatusBar.TEMPLATE),this.aggregationsComponent=new main_1.Component("<div class=\"ag-status-bar-aggregations\"></div>")}return __extends(StatusBar,_super),StatusBar.prototype.init=function(){this.createStatusItems()},StatusBar.prototype.createStatusItems=function(){var _this=this,localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc();this.statusItemSum=new statusItem_1.StatusItem(localeTextFunc("sum","Sum")),this.statusItemCount=new statusItem_1.StatusItem(localeTextFunc("count","Count")),this.statusItemMin=new statusItem_1.StatusItem(localeTextFunc("min","Min")),this.statusItemMax=new statusItem_1.StatusItem(localeTextFunc("max","Max")),this.statusItemAvg=new statusItem_1.StatusItem(localeTextFunc("average","Average")),this.forEachStatusItem(function(statusItem){_this.context.wireBean(statusItem),_this.aggregationsComponent.appendChild(statusItem),statusItem.setVisible(!1)}),this.appendChild(this.aggregationsComponent)},StatusBar.prototype.forEachStatusItem=function(callback){[this.statusItemAvg,this.statusItemCount,this.statusItemMin,this.statusItemMax,this.statusItemSum].forEach(callback)},StatusBar.prototype.onRangeSelectionChanged=function(){var _this=this,cellRanges=this.rangeController.getCellRanges(),sum=0,count=0,numberCount=0,min=null,max=null,cellsSoFar={};main_1.Utils.missingOrEmpty(cellRanges)||cellRanges.forEach(function(cellRange){for(var startRow=cellRange.start.getGridRow(),endRow=cellRange.end.getGridRow(),startRowIsFirst=startRow.before(endRow),currentRow=startRowIsFirst?startRow:endRow,lastRow=startRowIsFirst?endRow:startRow;cellRange.columns.forEach(function(column){var cellId=currentRow.getGridCell(column).createId();if(!cellsSoFar[cellId]){cellsSoFar[cellId]=!0;var rowNode=_this.getRowNode(currentRow),value=_this.valueService.getValue(column,rowNode);main_1.Utils.missing(value)||""===value||(value.value&&(value=value.value),"string"==typeof value&&(value=+value),"number"==typeof value&&!isNaN(value)&&(sum+=value,(null==max||value>max)&&(max=value),(null==min||value<min)&&(min=value),numberCount++),count++)}}),!currentRow.equals(lastRow);)currentRow=_this.cellNavigationService.getRowBelow(currentRow)});var gotResult=1<count,gotNumberResult=0<numberCount;gotResult&&this.statusItemCount.setValue(count),this.statusItemCount.setVisible(gotResult),gotNumberResult&&(this.statusItemSum.setValue(sum),this.statusItemMin.setValue(min),this.statusItemMax.setValue(max),this.statusItemAvg.setValue(sum/numberCount)),this.statusItemSum.setVisible(gotNumberResult),this.statusItemMin.setVisible(gotNumberResult),this.statusItemMax.setVisible(gotNumberResult),this.statusItemAvg.setVisible(gotNumberResult)},StatusBar.prototype.getRowNode=function(gridRow){switch(gridRow.floating){case main_1.Constants.FLOATING_TOP:return this.floatingRowModel.getFloatingTopRowData()[gridRow.rowIndex];case main_1.Constants.FLOATING_BOTTOM:return this.floatingRowModel.getFloatingBottomRowData()[gridRow.rowIndex];default:return this.rowModel.getRow(gridRow.rowIndex);}},StatusBar.TEMPLATE="<div class=\"ag-status-bar\">"+"</div>",__decorate([main_1.Autowired("eventService"),__metadata("design:type",main_1.EventService)],StatusBar.prototype,"eventService",void 0),__decorate([main_1.Autowired("rangeController"),__metadata("design:type",rangeController_1.RangeController)],StatusBar.prototype,"rangeController",void 0),__decorate([main_1.Autowired("valueService"),__metadata("design:type",main_1.ValueService)],StatusBar.prototype,"valueService",void 0),__decorate([main_1.Autowired("cellNavigationService"),__metadata("design:type",main_1.CellNavigationService)],StatusBar.prototype,"cellNavigationService",void 0),__decorate([main_1.Autowired("floatingRowModel"),__metadata("design:type",main_1.FloatingRowModel)],StatusBar.prototype,"floatingRowModel",void 0),__decorate([main_1.Autowired("rowModel"),__metadata("design:type",Object)],StatusBar.prototype,"rowModel",void 0),__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],StatusBar.prototype,"context",void 0),__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],StatusBar.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],StatusBar.prototype,"init",null),StatusBar=__decorate([main_1.Bean("statusBar"),__metadata("design:paramtypes",[])],StatusBar),StatusBar}(main_1.Component);exports.StatusBar=StatusBar},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),StatusItem=function(_super){function StatusItem(label){_super.call(this,StatusItem.TEMPLATE),this.queryForHtmlElement("#_label").innerHTML=label}return __extends(StatusItem,_super),StatusItem.prototype.init=function(){this.lbValue=this.queryForHtmlElement("#_value")},StatusItem.prototype.setValue=function(value){this.lbValue.innerHTML=main_1.Utils.formatNumberTwoDecimalPlacesAndCommas(value)},StatusItem.TEMPLATE="<span class=\"ag-status-bar-item\">"+"  <span id=\"_label\"></span>"+"  <span id=\"_value\"></span>"+"</span>",__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],StatusItem.prototype,"init",null),StatusItem}(main_1.Component);exports.StatusItem=StatusItem},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),clipboardService_1=__webpack_require__(111),svgFactory=main_1.SvgFactory.getInstance(),ContextMenuFactory=function(){function ContextMenuFactory(){}return ContextMenuFactory.prototype.init=function(){},ContextMenuFactory.prototype.getMenuItems=function(node,column,value){var defaultMenuOptions;if(defaultMenuOptions=main_1.Utils.exists(node)?["copy","copyWithHeaders","paste","separator","toolPanel"]:["toolPanel"],this.gridOptionsWrapper.getContextMenuItemsFunc()){var traverse=function(items){for(var i=0,o;i<items.length;i++)if(o=items[i],o.childMenu&&0<o.childMenu.length){traverse(o.childMenu);var cMenuList=new main_1.MenuList;_this.context.wireBean(cMenuList);for(var j=0;j<o.childMenu.length;++j)cMenuList.addItem(o.childMenu[j]);o.childMenu=cMenuList}},userFunc=this.gridOptionsWrapper.getContextMenuItemsFunc(),params={node:node,column:column,value:value,defaultItems:defaultMenuOptions,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()},menuItemsFromUser=userFunc(params),_this=this;return traverse(menuItemsFromUser),menuItemsFromUser}return defaultMenuOptions},ContextMenuFactory.prototype.showMenu=function(node,column,value,mouseEvent){var menuItems=this.getMenuItems(node,column,value);if(!main_1.Utils.missingOrEmpty(menuItems)){var menu=new ContextMenu(menuItems);this.context.wireBean(menu);var eMenuGui=menu.getGui(),hidePopup=this.popupService.addAsModalPopup(eMenuGui,!0,function(){return menu.destroy()});this.popupService.positionPopupUnderMouseEvent({mouseEvent:mouseEvent,ePopup:eMenuGui}),menu.afterGuiAttached(hidePopup)}},__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],ContextMenuFactory.prototype,"context",void 0),__decorate([main_1.Autowired("popupService"),__metadata("design:type",main_1.PopupService)],ContextMenuFactory.prototype,"popupService",void 0),__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],ContextMenuFactory.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ContextMenuFactory.prototype,"init",null),ContextMenuFactory=__decorate([main_1.Bean("contextMenuFactory"),__metadata("design:paramtypes",[])],ContextMenuFactory),ContextMenuFactory}();exports.ContextMenuFactory=ContextMenuFactory;var ContextMenu=function(_super){function ContextMenu(menuItems){_super.call(this,"<div class=\"ag-menu\"></div>"),this.menuItems=menuItems}return __extends(ContextMenu,_super),ContextMenu.prototype.createDefaultMenuItems=function(){var _this=this,localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc(),result={copy:{name:localeTextFunc("copy","Copy"),shortcut:localeTextFunc("ctrlC","Ctrl+C"),icon:svgFactory.createCopyIcon(),action:function action(){return _this.clipboardService.copyToClipboard(!1)}},copyWithHeaders:{name:localeTextFunc("copyWithHeaders","Copy with Headers"),icon:svgFactory.createCopyIcon(),action:function action(){return _this.clipboardService.copyToClipboard(!0)}},paste:{name:localeTextFunc("paste","Paste"),shortcut:localeTextFunc("ctrlV","Ctrl+V"),disabled:!0,icon:svgFactory.createPasteIcon(),action:function action(){return _this.clipboardService.pasteFromClipboard()}},toolPanel:{name:localeTextFunc("toolPanel","Tool Panel"),checked:this.gridApi.isToolPanelShowing(),action:function action(){return _this.gridApi.showToolPanel(!_this.gridApi.isToolPanelShowing())}}};return result},ContextMenu.prototype.addMenuItems=function(){this.menuList=new main_1.MenuList,this.context.wireBean(this.menuList);var defaultMenuItems=this.createDefaultMenuItems();this.menuList.addMenuItems(this.menuItems,defaultMenuItems),this.getGui().appendChild(this.menuList.getGui()),this.menuList.addEventListener(main_1.MenuItemComponent.EVENT_ITEM_SELECTED,this.onHidePopup.bind(this))},ContextMenu.prototype.onHidePopup=function(){this.hidePopupFunc()},ContextMenu.prototype.afterGuiAttached=function(hidePopup){this.hidePopupFunc=hidePopup},ContextMenu.prototype.destroy=function(){this.menuList&&this.menuList.destroy()},__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],ContextMenu.prototype,"context",void 0),__decorate([main_1.Autowired("clipboardService"),__metadata("design:type",clipboardService_1.ClipboardService)],ContextMenu.prototype,"clipboardService",void 0),__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],ContextMenu.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.Autowired("gridApi"),__metadata("design:type",main_1.GridApi)],ContextMenu.prototype,"gridApi",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ContextMenu.prototype,"addMenuItems",null),ContextMenu}(main_1.Component)},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),ViewportRowModel=function(){function ViewportRowModel(){this.firstRow=-1,this.lastRow=-1,this.rowCount=-1,this.rowNodesByIndex={}}return ViewportRowModel.prototype.init=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.eventService.addEventListener(main_1.Events.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this));var viewportEnabled=this.gridOptionsWrapper.isRowModelViewport();viewportEnabled&&this.gridOptionsWrapper.getViewportDatasource()&&this.setViewportDatasource(this.gridOptionsWrapper.getViewportDatasource())},ViewportRowModel.prototype.destroy=function(){this.destroyCurrentDatasource()},ViewportRowModel.prototype.destroyCurrentDatasource=function(){this.viewportDatasource&&this.viewportDatasource.destroy&&this.viewportDatasource.destroy()},ViewportRowModel.prototype.calculateFirstRow=function(firstRenderedRow){var bufferSize=this.gridOptionsWrapper.getViewportRowModelBufferSize(),pageSize=this.gridOptionsWrapper.getViewportRowModelPageSize(),afterBuffer=firstRenderedRow-bufferSize;return 0>afterBuffer?0:_Mathfloor6(afterBuffer/pageSize)*pageSize},ViewportRowModel.prototype.calculateLastRow=function(lastRenderedRow){var bufferSize=this.gridOptionsWrapper.getViewportRowModelBufferSize(),pageSize=this.gridOptionsWrapper.getViewportRowModelPageSize(),result=Math.ceil((lastRenderedRow+bufferSize)/pageSize)*pageSize;return result<=this.rowCount?result:this.rowCount},ViewportRowModel.prototype.onViewportChanged=function(event){var newFirst=this.calculateFirstRow(event.firstRow),newLast=this.calculateLastRow(event.lastRow);(this.firstRow!==newFirst||this.lastRow!==newLast)&&(this.firstRow=newFirst,this.lastRow=newLast,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},ViewportRowModel.prototype.purgeRowsNotInViewport=function(){var _this=this;Object.keys(this.rowNodesByIndex).forEach(function(indexStr){var index=parseInt(indexStr);(index<_this.firstRow||index>_this.lastRow)&&delete _this.rowNodesByIndex[index]})},ViewportRowModel.prototype.setViewportDatasource=function(viewportDatasource){this.destroyCurrentDatasource(),this.viewportDatasource=viewportDatasource,this.rowCount=0,viewportDatasource.init?viewportDatasource.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("ag-Grid: viewport is missing init method.")},ViewportRowModel.prototype.getType=function(){return main_1.Constants.ROW_MODEL_TYPE_VIEWPORT},ViewportRowModel.prototype.getRow=function(rowIndex){return this.rowNodesByIndex[rowIndex]||(this.rowNodesByIndex[rowIndex]=this.createNode(null,rowIndex)),this.rowNodesByIndex[rowIndex]},ViewportRowModel.prototype.getRowCount=function(){return this.rowCount},ViewportRowModel.prototype.getRowIndexAtPixel=function(pixel){return 0===this.rowHeight?0:_Mathfloor6(pixel/this.rowHeight)},ViewportRowModel.prototype.getRowCombinedHeight=function(){return this.rowCount*this.rowHeight},ViewportRowModel.prototype.isEmpty=function(){return 0<this.rowCount},ViewportRowModel.prototype.isRowsToRender=function(){return 0<this.rowCount},ViewportRowModel.prototype.forEachNode=function(callback){var _this=this,callbackCount=0;Object.keys(this.rowNodesByIndex).forEach(function(indexStr){var index=parseInt(indexStr),rowNode=_this.rowNodesByIndex[index];callback(rowNode,callbackCount),callbackCount++})},ViewportRowModel.prototype.setRowData=function(rowData){var _this=this;main_1.Utils.iterateObject(rowData,function(indexStr,dataItem){var index=parseInt(indexStr);if(index>=_this.firstRow&&index<=_this.lastRow){var nodeAlreadyExists=!!_this.rowNodesByIndex[index];nodeAlreadyExists?_this.rowNodesByIndex[index].setData(dataItem):_this.rowNodesByIndex[index]=_this.createNode(dataItem,index)}})},ViewportRowModel.prototype.createNode=function(data,rowIndex){var rowHeight=this.rowHeight,rowNode=new main_1.RowNode;return this.context.wireBean(rowNode),rowNode.id=rowIndex.toString(),rowNode.data=data,rowNode.rowTop=rowHeight*rowIndex,rowNode.rowHeight=rowHeight,rowNode},ViewportRowModel.prototype.setRowCount=function(rowCount){rowCount!==this.rowCount&&(this.rowCount=rowCount,this.eventService.dispatchEvent(main_1.Events.EVENT_MODEL_UPDATED))},ViewportRowModel.prototype.insertItemsAtIndex=function(){console.log("not yet supported")},ViewportRowModel.prototype.removeItems=function(){console.log("not yet supported")},ViewportRowModel.prototype.addItems=function(){console.log("not yet supported")},__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],ViewportRowModel.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.Autowired("eventService"),__metadata("design:type",main_1.EventService)],ViewportRowModel.prototype,"eventService",void 0),__decorate([main_1.Autowired("selectionController"),__metadata("design:type",main_1.SelectionController)],ViewportRowModel.prototype,"selectionController",void 0),__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],ViewportRowModel.prototype,"context",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ViewportRowModel.prototype,"init",null),__decorate([main_1.PreDestroy,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ViewportRowModel.prototype,"destroy",null),ViewportRowModel=__decorate([main_1.Bean("rowModel"),__metadata("design:paramtypes",[])],ViewportRowModel),ViewportRowModel}();exports.ViewportRowModel=ViewportRowModel},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),abstractColumnDropPanel_1=__webpack_require__(130),svgFactory=main_1.SvgFactory.getInstance(),PivotColumnsPanel=function(_super){function PivotColumnsPanel(horizontal){_super.call(this,horizontal,!1)}return __extends(PivotColumnsPanel,_super),PivotColumnsPanel.prototype.passBeansUp=function(){_super.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.context,loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc(),emptyMessage=localeTextFunc("pivotColumnsEmptyMessage","Drag here to pivot"),title=localeTextFunc("pivots","Pivots");_super.prototype.init.call(this,{dragAndDropIcon:main_1.DragAndDropService.ICON_GROUP,iconFactory:svgFactory.createPivotIcon,emptyMessage:emptyMessage,title:title}),this.addDestroyableEventListener(this.eventService,main_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.refresh.bind(this)),this.addDestroyableEventListener(this.eventService,main_1.Events.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addDestroyableEventListener(this.eventService,main_1.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},PivotColumnsPanel.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},PivotColumnsPanel.prototype.checkVisibility=function(){var pivotMode=this.columnController.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsWrapper.getPivotPanelShow()){case"always":this.setVisible(pivotMode);break;case"onlyWhenPivoting":var pivotActive=this.columnController.isPivotActive();this.setVisible(pivotMode&&pivotActive);break;default:this.setVisible(!1);}else this.setVisible(pivotMode)},PivotColumnsPanel.prototype.isColumnDroppable=function(column){if(this.gridOptionsWrapper.isFunctionsReadOnly())return!1;if(!column.isPrimary())return!1;var allowPivot=column.isAllowPivot(),columnNotAlreadyPivoted=!column.isPivotActive();return allowPivot&&columnNotAlreadyPivoted},PivotColumnsPanel.prototype.removeColumns=function(columns){if(this.gridOptionsWrapper.isFunctionsPassive())this.eventService.dispatchEvent(main_1.Events.EVENT_COLUMN_PIVOT_REMOVE_REQUEST,{columns:columns});else{var columnsPivoted=main_1.Utils.filter(columns,function(column){return column.isPivotActive()});this.columnController.removePivotColumns(columnsPivoted)}},PivotColumnsPanel.prototype.getIconName=function(){return this.isPotentialDndColumns()?main_1.DragAndDropService.ICON_PIVOT:main_1.DragAndDropService.ICON_NOT_ALLOWED},PivotColumnsPanel.prototype.addColumns=function(columns){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent(main_1.Events.EVENT_COLUMN_PIVOT_ADD_REQUEST,{columns:columns}):this.columnController.addPivotColumns(columns)},PivotColumnsPanel.prototype.getExistingColumns=function(){return this.columnController.getPivotColumns()},__decorate([main_1.Autowired("columnController"),__metadata("design:type",main_1.ColumnController)],PivotColumnsPanel.prototype,"columnController",void 0),__decorate([main_1.Autowired("eventService"),__metadata("design:type",main_1.EventService)],PivotColumnsPanel.prototype,"eventService",void 0),__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],PivotColumnsPanel.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],PivotColumnsPanel.prototype,"context",void 0),__decorate([main_1.Autowired("loggerFactory"),__metadata("design:type",main_1.LoggerFactory)],PivotColumnsPanel.prototype,"loggerFactory",void 0),__decorate([main_1.Autowired("dragAndDropService"),__metadata("design:type",main_1.DragAndDropService)],PivotColumnsPanel.prototype,"dragAndDropService",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],PivotColumnsPanel.prototype,"passBeansUp",null),PivotColumnsPanel}(abstractColumnDropPanel_1.AbstractColumnDropPanel);exports.PivotColumnsPanel=PivotColumnsPanel},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},main_1=__webpack_require__(2),columnComponent_1=__webpack_require__(131),AbstractColumnDropPanel=function(_super){function AbstractColumnDropPanel(horizontal,valueColumn){_super.call(this,"<div class=\"ag-column-drop ag-font-style ag-column-drop-"+(horizontal?"horizontal":"vertical")+"\"></div>"),this.guiDestroyFunctions=[],this.horizontal=horizontal,this.valueColumn=valueColumn}return __extends(AbstractColumnDropPanel,_super),AbstractColumnDropPanel.prototype.isHorizontal=function(){return this.horizontal},AbstractColumnDropPanel.prototype.setBeans=function(beans){this.beans=beans},AbstractColumnDropPanel.prototype.destroy=function(){this.destroyGui(),_super.prototype.destroy.call(this)},AbstractColumnDropPanel.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(func){return func()}),this.guiDestroyFunctions.length=0,main_1.Utils.removeAllChildren(this.getGui())},AbstractColumnDropPanel.prototype.init=function(params){this.params=params,this.logger=this.beans.loggerFactory.create("AbstractColumnDropPanel"),this.beans.eventService.addEventListener(main_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.refreshGui.bind(this)),this.addDestroyableEventListener(this.beans.gridOptionsWrapper,"functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.refreshGui()},AbstractColumnDropPanel.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},AbstractColumnDropPanel.prototype.onDragging=function(){},AbstractColumnDropPanel.prototype.onDragEnter=function(draggingEvent){var dragColumns=draggingEvent.dragSource.dragItem,goodDragColumns=main_1.Utils.filter(dragColumns,this.isColumnDroppable.bind(this)),weHaveColumnsToDrag=0<goodDragColumns.length;weHaveColumnsToDrag&&(this.potentialDndColumns=goodDragColumns,this.refreshGui())},AbstractColumnDropPanel.prototype.isPotentialDndColumns=function(){return main_1.Utils.existsAndNotEmpty(this.potentialDndColumns)},AbstractColumnDropPanel.prototype.onDragLeave=function(draggingEvent){var thisPanelStartedTheDrag=draggingEvent.dragSource.dragSourceDropTarget===this.dropTarget;if(thisPanelStartedTheDrag){var columns=draggingEvent.dragSource.dragItem;this.removeColumns(columns)}this.potentialDndColumns&&(this.potentialDndColumns=null,this.refreshGui())},AbstractColumnDropPanel.prototype.onDragStop=function(){this.potentialDndColumns&&(this.addColumns(this.potentialDndColumns),this.potentialDndColumns=null,this.refreshGui())},AbstractColumnDropPanel.prototype.refreshGui=function(){this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addExistingColumnsToGui(),this.addPotentialDragItemsToGui()},AbstractColumnDropPanel.prototype.addPotentialDragItemsToGui=function(){var _this=this,first=this.isExistingColumnsEmpty();this.potentialDndColumns&&this.potentialDndColumns.forEach(function(column){first||_this.addArrowToGui(),first=!1;var ghostCell=new columnComponent_1.ColumnComponent(column,_this.dropTarget,!0,_this.valueColumn);ghostCell.addEventListener(columnComponent_1.ColumnComponent.EVENT_COLUMN_REMOVE,_this.removeColumns.bind(_this,[column])),_this.beans.context.wireBean(ghostCell),_this.getGui().appendChild(ghostCell.getGui()),_this.guiDestroyFunctions.push(function(){return ghostCell.destroy()})})},AbstractColumnDropPanel.prototype.addExistingColumnsToGui=function(){var _this=this,existingColumns=this.getExistingColumns();existingColumns.forEach(function(column,index){0<index&&_this.addArrowToGui();var cell=new columnComponent_1.ColumnComponent(column,_this.dropTarget,!1,_this.valueColumn);cell.addEventListener(columnComponent_1.ColumnComponent.EVENT_COLUMN_REMOVE,_this.removeColumns.bind(_this,[column])),_this.beans.context.wireBean(cell),_this.getGui().appendChild(cell.getGui()),_this.guiDestroyFunctions.push(function(){return cell.destroy()})})},AbstractColumnDropPanel.prototype.addIconAndTitleToGui=function(){var iconFaded=this.horizontal&&this.isExistingColumnsEmpty(),eGroupIcon=this.params.iconFactory();if(main_1.Utils.addCssClass(eGroupIcon,"ag-column-drop-icon"),main_1.Utils.addOrRemoveCssClass(eGroupIcon,"ag-faded",iconFaded),this.getGui().appendChild(eGroupIcon),!this.horizontal){var eTitle=document.createElement("span");eTitle.innerHTML=this.params.title,main_1.Utils.addCssClass(eTitle,"ag-column-drop-title"),main_1.Utils.addOrRemoveCssClass(eTitle,"ag-faded",iconFaded),this.getGui().appendChild(eTitle)}},AbstractColumnDropPanel.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},AbstractColumnDropPanel.prototype.addEmptyMessageToGui=function(){var showEmptyMessage=this.isExistingColumnsEmpty()&&!this.potentialDndColumns;if(showEmptyMessage){var eMessage=document.createElement("span");eMessage.innerHTML=this.params.emptyMessage,main_1.Utils.addCssClass(eMessage,"ag-column-drop-empty-message"),this.getGui().appendChild(eMessage)}},AbstractColumnDropPanel.prototype.addArrowToGui=function(){if(this.horizontal){var eArrow=document.createElement("span");eArrow.innerHTML="&#8594;",this.getGui().appendChild(eArrow)}},AbstractColumnDropPanel}(main_1.Component);exports.AbstractColumnDropPanel=AbstractColumnDropPanel},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),virtualList_1=__webpack_require__(120),aggFuncService_1=__webpack_require__(109),ColumnComponent=function(_super){function ColumnComponent(column,dragSourceDropTarget,ghost,valueColumn){_super.call(this,ColumnComponent.TEMPLATE),this.popupShowing=!1,this.valueColumn=valueColumn,this.column=column,this.dragSourceDropTarget=dragSourceDropTarget,this.ghost=ghost}return __extends(ColumnComponent,_super),ColumnComponent.prototype.init=function(){this.displayName=this.columnController.getDisplayNameForCol(this.column),this.setupComponents(),this.ghost||this.gridOptionsWrapper.isFunctionsReadOnly()||this.addDragSource()},ColumnComponent.prototype.addDragSource=function(){var dragSource={type:main_1.DragSourceType.ToolPanel,eElement:this.getGui(),dragItem:[this.column],dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(dragSource)},ColumnComponent.prototype.setupComponents=function(){var _this=this;this.setTextValue(),this.addDestroyableEventListener(this.btRemove,"click",function(event){_this.dispatchEvent(ColumnComponent.EVENT_COLUMN_REMOVE),event.stopPropagation()}),main_1.Utils.setVisible(this.btRemove,!this.gridOptionsWrapper.isFunctionsReadOnly()),this.ghost&&main_1.Utils.addCssClass(this.getGui(),"ag-column-drop-cell-ghost"),this.valueColumn&&!this.gridOptionsWrapper.isFunctionsReadOnly()&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},ColumnComponent.prototype.setTextValue=function(){var displayValue;if(this.valueColumn){var aggFunc=this.column.getAggFunc(),aggFuncString="string"==typeof aggFunc?aggFunc:"agg";displayValue=aggFuncString+"("+this.displayName+")"}else displayValue=this.displayName;this.eText.innerHTML=displayValue},ColumnComponent.prototype.onShowAggFuncSelection=function(){var _this=this;if(!this.popupShowing){this.popupShowing=!0;var virtualList=new virtualList_1.VirtualList,rows=this.aggFuncService.getFuncNames();virtualList.setModel({getRow:function getRow(index){return rows[index]},getRowCount:function getRowCount(){return rows.length}}),this.context.wireBean(virtualList);var ePopup=main_1.Utils.loadTemplate("<div class=\"ag-select-agg-func-popup\"></div>");ePopup.style.top="0px",ePopup.style.left="0px",ePopup.appendChild(virtualList.getGui()),ePopup.style.height="100px",ePopup.style.width=this.getGui().clientWidth+"px";var popupHiddenFunc=function(){virtualList.destroy(),_this.popupShowing=!1},hidePopup=this.popupService.addAsModalPopup(ePopup,!0,popupHiddenFunc);virtualList.setComponentCreator(this.createAggSelect.bind(this,hidePopup)),this.popupService.positionPopupUnderComponent({eventSource:this.getGui(),ePopup:ePopup,keepWithinBounds:!0}),virtualList.refresh()}},ColumnComponent.prototype.createAggSelect=function(hidePopup,value){var _this=this,comp=new AggItemComp(function itemSelected(){if(hidePopup(),_this.gridOptionsWrapper.isFunctionsPassive()){var event={columns:[_this.column],aggFunc:value};_this.eventService.dispatchEvent(main_1.Events.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,event)}else _this.columnController.setColumnAggFunc(_this.column,value)},value.toString());return comp},ColumnComponent.EVENT_COLUMN_REMOVE="columnRemove",ColumnComponent.TEMPLATE="<span class=\"ag-column-drop-cell\">\n          <span class=\"ag-column-drop-cell-text\"></span>\n          <span class=\"ag-column-drop-cell-button\">&#10006;</span>\n        </span>",__decorate([main_1.Autowired("dragAndDropService"),__metadata("design:type",main_1.DragAndDropService)],ColumnComponent.prototype,"dragAndDropService",void 0),__decorate([main_1.Autowired("columnController"),__metadata("design:type",main_1.ColumnController)],ColumnComponent.prototype,"columnController",void 0),__decorate([main_1.Autowired("gridPanel"),__metadata("design:type",main_1.GridPanel)],ColumnComponent.prototype,"gridPanel",void 0),__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],ColumnComponent.prototype,"context",void 0),__decorate([main_1.Autowired("popupService"),__metadata("design:type",main_1.PopupService)],ColumnComponent.prototype,"popupService",void 0),__decorate([main_1.Autowired("aggFuncService"),__metadata("design:type",aggFuncService_1.AggFuncService)],ColumnComponent.prototype,"aggFuncService",void 0),__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],ColumnComponent.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.Autowired("eventService"),__metadata("design:type",main_1.EventService)],ColumnComponent.prototype,"eventService",void 0),__decorate([main_1.QuerySelector(".ag-column-drop-cell-text"),__metadata("design:type",HTMLElement)],ColumnComponent.prototype,"eText",void 0),__decorate([main_1.QuerySelector(".ag-column-drop-cell-button"),__metadata("design:type",HTMLElement)],ColumnComponent.prototype,"btRemove",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ColumnComponent.prototype,"init",null),ColumnComponent}(main_1.Component);exports.ColumnComponent=ColumnComponent;var AggItemComp=function(_super){function AggItemComp(itemSelected,value){_super.call(this,"<div class=\"ag-select-agg-func-item\"/>"),this.getGui().innerText=value,this.value=value,this.addGuiEventListener("click",itemSelected)}return __extends(AggItemComp,_super),AggItemComp}(main_1.Component)},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),columnSelectPanel_1=__webpack_require__(106),rowGroupColumnsPanel_1=__webpack_require__(133),pivotColumnsPanel_1=__webpack_require__(129),pivotModePanel_1=__webpack_require__(134),valueColumnsPanel_1=__webpack_require__(135),ToolPanelComp=function(_super){function ToolPanelComp(){_super.call(this,ToolPanelComp.TEMPLATE),this.initialised=!1}return __extends(ToolPanelComp,_super),ToolPanelComp.prototype.setVisible=function(visible){_super.prototype.setVisible.call(this,visible),visible&&!this.initialised&&this.init()},ToolPanelComp.prototype.init=function(){this.gridOptionsWrapper.isToolPanelSuppressPivotMode()||this.addComponent(new pivotModePanel_1.PivotModePanel),this.addComponent(new columnSelectPanel_1.ColumnSelectPanel(!0)),this.gridOptionsWrapper.isToolPanelSuppressRowGroups()||this.addComponent(new rowGroupColumnsPanel_1.RowGroupColumnsPanel(!1)),this.gridOptionsWrapper.isToolPanelSuppressValues()||this.addComponent(new valueColumnsPanel_1.ValuesColumnPanel(!1)),this.gridOptionsWrapper.isToolPanelSuppressPivots()||this.addComponent(new pivotColumnsPanel_1.PivotColumnsPanel(!1)),this.initialised=!0},ToolPanelComp.prototype.addComponent=function(component){this.context.wireBean(component),this.getGui().appendChild(component.getGui()),this.addDestroyFunc(function(){component.destroy()})},ToolPanelComp.TEMPLATE="<div class=\"ag-tool-panel\"></div>",__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],ToolPanelComp.prototype,"context",void 0),__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],ToolPanelComp.prototype,"gridOptionsWrapper",void 0),ToolPanelComp=__decorate([main_1.Bean("toolPanel"),__metadata("design:paramtypes",[])],ToolPanelComp),ToolPanelComp}(main_1.Component);exports.ToolPanelComp=ToolPanelComp},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),abstractColumnDropPanel_1=__webpack_require__(130),svgFactory=main_1.SvgFactory.getInstance(),RowGroupColumnsPanel=function(_super){function RowGroupColumnsPanel(horizontal){_super.call(this,horizontal,!1)}return __extends(RowGroupColumnsPanel,_super),RowGroupColumnsPanel.prototype.passBeansUp=function(){_super.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.context,loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc(),emptyMessage=localeTextFunc("rowGroupColumnsEmptyMessage","Drag here to group"),title=localeTextFunc("groups","Groups");_super.prototype.init.call(this,{dragAndDropIcon:main_1.DragAndDropService.ICON_GROUP,iconFactory:svgFactory.createGroupIcon,emptyMessage:emptyMessage,title:title}),this.addDestroyableEventListener(this.eventService,main_1.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},RowGroupColumnsPanel.prototype.isColumnDroppable=function(column){if(this.gridOptionsWrapper.isFunctionsReadOnly())return!1;if(!column.isPrimary())return!1;var columnGroupable=column.isAllowRowGroup(),columnNotAlreadyGrouped=!column.isRowGroupActive();return columnGroupable&&columnNotAlreadyGrouped},RowGroupColumnsPanel.prototype.removeColumns=function(columns){var _this=this;if(this.gridOptionsWrapper.isFunctionsPassive())this.eventService.dispatchEvent(main_1.Events.EVENT_COLUMN_ROW_GROUP_REMOVE_REQUEST,{columns:columns});else{var rowGroupColumns=this.columnController.getRowGroupColumns();columns.forEach(function(column){var columnIsGrouped=0<=rowGroupColumns.indexOf(column);columnIsGrouped&&(_this.columnController.removeRowGroupColumn(column),_this.columnController.setColumnVisible(column,!0))})}},RowGroupColumnsPanel.prototype.getIconName=function(){return this.isPotentialDndColumns()?main_1.DragAndDropService.ICON_GROUP:main_1.DragAndDropService.ICON_NOT_ALLOWED},RowGroupColumnsPanel.prototype.addColumns=function(columns){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent(main_1.Events.EVENT_COLUMN_ROW_GROUP_ADD_REQUEST,{columns:columns}):this.columnController.addRowGroupColumns(columns)},RowGroupColumnsPanel.prototype.getExistingColumns=function(){return this.columnController.getRowGroupColumns()},__decorate([main_1.Autowired("columnController"),__metadata("design:type",main_1.ColumnController)],RowGroupColumnsPanel.prototype,"columnController",void 0),__decorate([main_1.Autowired("eventService"),__metadata("design:type",main_1.EventService)],RowGroupColumnsPanel.prototype,"eventService",void 0),__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],RowGroupColumnsPanel.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],RowGroupColumnsPanel.prototype,"context",void 0),__decorate([main_1.Autowired("loggerFactory"),__metadata("design:type",main_1.LoggerFactory)],RowGroupColumnsPanel.prototype,"loggerFactory",void 0),__decorate([main_1.Autowired("dragAndDropService"),__metadata("design:type",main_1.DragAndDropService)],RowGroupColumnsPanel.prototype,"dragAndDropService",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],RowGroupColumnsPanel.prototype,"passBeansUp",null),RowGroupColumnsPanel}(abstractColumnDropPanel_1.AbstractColumnDropPanel);exports.RowGroupColumnsPanel=RowGroupColumnsPanel},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),PivotModePanel=function(_super){function PivotModePanel(){_super.call(this)}return __extends(PivotModePanel,_super),PivotModePanel.prototype.createTemplate=function(){var localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc();return"<div class=\"ag-pivot-mode\">\n                <ag-checkbox class=\"ag-pivot-mode-select\" label=\""+localeTextFunc("pivotMode","Pivot Mode")+"\"></ag-checkbox>\n            </div>"},PivotModePanel.prototype.init=function(){this.setTemplate(this.createTemplate()),this.instantiate(this.context),this.cbPivotMode.setSelected(this.columnController.isPivotMode()),this.addDestroyableEventListener(this.cbPivotMode,main_1.AgCheckbox.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addDestroyableEventListener(this.eventService,main_1.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onPivotModeChanged.bind(this)),this.addDestroyableEventListener(this.eventService,main_1.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},PivotModePanel.prototype.onBtPivotMode=function(){var newValue=this.cbPivotMode.isSelected();newValue!==this.columnController.isPivotMode()&&this.columnController.setPivotMode(newValue)},PivotModePanel.prototype.onPivotModeChanged=function(){var pivotModeActive=this.columnController.isPivotMode();this.cbPivotMode.setSelected(pivotModeActive)},__decorate([main_1.Autowired("columnController"),__metadata("design:type",main_1.ColumnController)],PivotModePanel.prototype,"columnController",void 0),__decorate([main_1.Autowired("eventService"),__metadata("design:type",main_1.EventService)],PivotModePanel.prototype,"eventService",void 0),__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],PivotModePanel.prototype,"context",void 0),__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],PivotModePanel.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.QuerySelector(".ag-pivot-mode-select"),__metadata("design:type",main_1.AgCheckbox)],PivotModePanel.prototype,"cbPivotMode",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],PivotModePanel.prototype,"init",null),PivotModePanel}(main_1.Component);exports.PivotModePanel=PivotModePanel},function(module,exports,__webpack_require__){var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},__decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),abstractColumnDropPanel_1=__webpack_require__(130),svgFactory=main_1.SvgFactory.getInstance(),ValuesColumnPanel=function(_super){function ValuesColumnPanel(horizontal){_super.call(this,horizontal,!0)}return __extends(ValuesColumnPanel,_super),ValuesColumnPanel.prototype.passBeansUp=function(){_super.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.context,loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var localeTextFunc=this.gridOptionsWrapper.getLocaleTextFunc(),emptyMessage=localeTextFunc("pivotColumnsEmptyMessage","Drag here to aggregate"),title=localeTextFunc("values","Values");_super.prototype.init.call(this,{dragAndDropIcon:main_1.DragAndDropService.ICON_AGGREGATE,iconFactory:svgFactory.createAggregationIcon,emptyMessage:emptyMessage,title:title}),this.addDestroyableEventListener(this.eventService,main_1.Events.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},ValuesColumnPanel.prototype.getIconName=function(){return this.isPotentialDndColumns()?main_1.DragAndDropService.ICON_AGGREGATE:main_1.DragAndDropService.ICON_NOT_ALLOWED},ValuesColumnPanel.prototype.isColumnDroppable=function(column){if(this.gridOptionsWrapper.isFunctionsReadOnly())return!1;if(!column.isPrimary())return!1;var columnValue=column.isAllowValue(),columnNotValue=!column.isValueActive();return columnValue&&columnNotValue},ValuesColumnPanel.prototype.removeColumns=function(columns){if(this.gridOptionsWrapper.isFunctionsPassive())this.eventService.dispatchEvent(main_1.Events.EVENT_COLUMN_VALUE_REMOVE_REQUEST,{columns:columns});else{var columnsCurrentlyValueColumns=main_1.Utils.filter(columns,function(column){return column.isValueActive()});this.columnController.removeValueColumns(columnsCurrentlyValueColumns)}},ValuesColumnPanel.prototype.addColumns=function(columns){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent(main_1.Events.EVENT_COLUMN_VALUE_ADD_REQUEST,{columns:columns}):this.columnController.addValueColumns(columns)},ValuesColumnPanel.prototype.getExistingColumns=function(){return this.columnController.getValueColumns()},__decorate([main_1.Autowired("columnController"),__metadata("design:type",main_1.ColumnController)],ValuesColumnPanel.prototype,"columnController",void 0),__decorate([main_1.Autowired("eventService"),__metadata("design:type",main_1.EventService)],ValuesColumnPanel.prototype,"eventService",void 0),__decorate([main_1.Autowired("gridOptionsWrapper"),__metadata("design:type",main_1.GridOptionsWrapper)],ValuesColumnPanel.prototype,"gridOptionsWrapper",void 0),__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],ValuesColumnPanel.prototype,"context",void 0),__decorate([main_1.Autowired("loggerFactory"),__metadata("design:type",main_1.LoggerFactory)],ValuesColumnPanel.prototype,"loggerFactory",void 0),__decorate([main_1.Autowired("dragAndDropService"),__metadata("design:type",main_1.DragAndDropService)],ValuesColumnPanel.prototype,"dragAndDropService",void 0),__decorate([main_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],ValuesColumnPanel.prototype,"passBeansUp",null),ValuesColumnPanel}(abstractColumnDropPanel_1.AbstractColumnDropPanel);exports.ValuesColumnPanel=ValuesColumnPanel},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),rowGroupColumnsPanel_1=__webpack_require__(133),RowGroupCompFactory=function(){function RowGroupCompFactory(){}return RowGroupCompFactory.prototype.create=function(){var rowGroupComp=new rowGroupColumnsPanel_1.RowGroupColumnsPanel(!0);return this.context.wireBean(rowGroupComp),rowGroupComp},__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],RowGroupCompFactory.prototype,"context",void 0),RowGroupCompFactory=__decorate([main_1.Bean("rowGroupCompFactory"),__metadata("design:paramtypes",[])],RowGroupCompFactory),RowGroupCompFactory}();exports.RowGroupCompFactory=RowGroupCompFactory},function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;0<=i;i--)(d=decorators[i])&&(r=(3>c?d(r):3<c?d(target,key,r):d(target,key))||r);return 3<c&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"===("undefined"==typeof Reflect?"undefined":_typeof2(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},main_1=__webpack_require__(2),pivotColumnsPanel_1=__webpack_require__(129),PivotCompFactory=function(){function PivotCompFactory(){}return PivotCompFactory.prototype.create=function(){var pivotComp=new pivotColumnsPanel_1.PivotColumnsPanel(!0);return this.context.wireBean(pivotComp),pivotComp},__decorate([main_1.Autowired("context"),__metadata("design:type",main_1.Context)],PivotCompFactory.prototype,"context",void 0),PivotCompFactory=__decorate([main_1.Bean("pivotCompFactory"),__metadata("design:paramtypes",[])],PivotCompFactory),PivotCompFactory}();exports.PivotCompFactory=PivotCompFactory},function(module,exports,__webpack_require__){var columnSelectPanel_1=__webpack_require__(106),renderedColumn_1=__webpack_require__(108),renderedGroup_1=__webpack_require__(107),aggregationStage_1=__webpack_require__(113),groupStage_1=__webpack_require__(112),setFilter_1=__webpack_require__(117),setFilterModel_1=__webpack_require__(118),statusBar_1=__webpack_require__(125),statusItem_1=__webpack_require__(126),clipboardService_1=__webpack_require__(111),enterpriseBoot_1=__webpack_require__(116),enterpriseMenu_1=__webpack_require__(105),rangeController_1=__webpack_require__(110),rowGroupColumnsPanel_1=__webpack_require__(133),contextMenu_1=__webpack_require__(127),viewportRowModel_1=__webpack_require__(128),richSelectCellEditor_1=__webpack_require__(121),richSelectRow_1=__webpack_require__(122),virtualList_1=__webpack_require__(120),abstractColumnDropPanel_1=__webpack_require__(130),pivotColumnsPanel_1=__webpack_require__(129),toolPanelComp_1=__webpack_require__(132),licenseManager_1=__webpack_require__(123),pivotStage_1=__webpack_require__(114),pivotColDefService_1=__webpack_require__(115),pivotModePanel_1=__webpack_require__(134),aggFuncService_1=__webpack_require__(109),md5_1=__webpack_require__(124),setFilterListItem_1=__webpack_require__(119),columnComponent_1=__webpack_require__(131),valueColumnsPanel_1=__webpack_require__(135),pivotCompFactory_1=__webpack_require__(137),rowGroupCompFactory_1=__webpack_require__(136);exports.populateClientExports=function(exports){exports.AggFuncService=aggFuncService_1.AggFuncService,exports.MD5=md5_1.MD5,exports.RichSelectCellEditor=richSelectCellEditor_1.RichSelectCellEditor,exports.RichSelectRow=richSelectRow_1.RichSelectRow,exports.VirtualList=virtualList_1.VirtualList,exports.AggregationStage=aggregationStage_1.AggregationStage,exports.GroupStage=groupStage_1.GroupStage,exports.PivotColDefService=pivotColDefService_1.PivotColDefService,exports.PivotStage=pivotStage_1.PivotStage,exports.SetFilter=setFilter_1.SetFilter,exports.SetFilter=setFilterListItem_1.SetFilterListItem,exports.SetFilterModel=setFilterModel_1.SetFilterModel,exports.StatusBar=statusBar_1.StatusBar,exports.StatusItem=statusItem_1.StatusItem,exports.AbstractColumnDropPanel=abstractColumnDropPanel_1.AbstractColumnDropPanel,exports.ColumnComponent=columnComponent_1.ColumnComponent,exports.PivotColumnsPanel=pivotColumnsPanel_1.PivotColumnsPanel,exports.PivotModePanel=pivotModePanel_1.PivotModePanel,exports.RowGroupColumnsPanel=rowGroupColumnsPanel_1.RowGroupColumnsPanel,exports.ValuesColumnPanel=valueColumnsPanel_1.ValuesColumnPanel,exports.ToolPanelComp=toolPanelComp_1.ToolPanelComp,exports.ColumnSelectPanel=columnSelectPanel_1.ColumnSelectPanel,exports.RenderedColumn=renderedColumn_1.RenderedColumn,exports.RenderedGroup=renderedGroup_1.RenderedGroup,exports.ViewportRowModel=viewportRowModel_1.ViewportRowModel,exports.ClipboardService=clipboardService_1.ClipboardService,exports.ContextMenuFactory=contextMenu_1.ContextMenuFactory,exports.EnterpriseBoot=enterpriseBoot_1.EnterpriseBoot,exports.EnterpriseMenu=enterpriseMenu_1.EnterpriseMenu,exports.LicenseManager=licenseManager_1.LicenseManager,exports.PivotCompFactory=pivotCompFactory_1.PivotCompFactory,exports.RangeController=rangeController_1.RangeController,exports.RowGroupCompFactory=rowGroupCompFactory_1.RowGroupCompFactory}},function(module,exports,__webpack_require__){var content=__webpack_require__(140);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(142)(content,{});content.locals&&(module.exports=content.locals),!1},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(141)(),exports.push([module.id,"ag-grid-ng2 {\n  display: inline-block;\n}\n.ag-select-agg-func-popup {\n  position: absolute;\n}\n.ag-body-no-select {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.ag-root {\n/* set to relative, so absolute popups appear relative to this */\n  position: relative;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n/* was getting some 'should be there' scrolls, this sorts it out */\n  overflow: hidden;\n}\n.ag-freezebar-vertical:not(.without-handler),\n.ag-freezebar-horizontal:not(.without-handler) {\n  cursor: -webkit-grab;\n}\n.ag-freezebar-vertical:not(.without-handler)>.ag-freezebar-handler,\n.ag-freezebar-horizontal:not(.without-handler)>.ag-freezebar-handler {\n  background: #bcbcbc;\n}\n.ag-freezebar-vertical:not(.without-handler)>.ag-freezebar-handler:hover,\n.ag-freezebar-horizontal:not(.without-handler)>.ag-freezebar-handler:hover {\n  background: #a5c6fe;\n}\n.ag-freezebar-vertical.without-handler > .ag-freezebar-handler,\n.ag-freezebar-horizontal.without-handler > .ag-freezebar-handler {\n  background: #dadfe8;\n}\n.ag-freezebar-vertical.ghost,\n.ag-freezebar-horizontal.ghost {\n  background: #dbe5f7;\n  border-color: #a5c6fe;\n  border-style: solid;\n  border-width: 0 1px;\n  cursor: -webkit-grabbing;\n  z-index: 3;\n}\n.ag-freezebar-vertical.ghost >.ag-freezebar-handler,\n.ag-freezebar-horizontal.ghost >.ag-freezebar-handler {\n  background: #a5c6fe;\n}\n.ag-freezebar-vertical.ghost-for-next-position,\n.ag-freezebar-horizontal.ghost-for-next-position {\n  background: #afbbd1;\n  cursor: -webkit-grabbing;\n  z-index: 3;\n}\n.ag-freezebar-vertical.ghost-for-next-position >.ag-freezebar-handler,\n.ag-freezebar-horizontal.ghost-for-next-position >.ag-freezebar-handler {\n  background: #659dfc;\n}\n.ag-freezebar-vertical.ghost-disabled,\n.ag-freezebar-horizontal.ghost-disabled {\n  background: rgba(0,0,0,0.2) !important;\n}\n.ag-freezebar-vertical.ghost-disabled >.ag-freezebar-handler,\n.ag-freezebar-horizontal.ghost-disabled >.ag-freezebar-handler {\n  background: rgba(128,128,128,0.9) !important;\n}\n.ag-freezebar-vertical {\n  width: 5px;\n  height: 100%;\n  background: #dadfe8;\n  position: absolute;\n  left: 45px;\n  z-index: 3;\n}\n.ag-freezebar-vertical >.ag-freezebar-handler {\n  width: 5px;\n}\n.ag-freezebar-vertical.ghost {\n  border-width: 1px 0;\n}\n.ag-freezebar-horizontal {\n  width: 100%;\n  height: 5px;\n  background: #dadfe8;\n  position: absolute;\n  left: 0;\n  z-index: 3;\n}\n.ag-freezebar-horizontal >.ag-freezebar-handler {\n  height: 5px;\n}\n.ag-font-style {\n  cursor: default;\n/* disable user mouse selection */\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.ag-no-scrolls {\n  white-space: nowrap;\n  display: inline-block;\n}\n.ag-scrolls {\n  height: 100%;\n}\n.ag-popup-backdrop {\n  position: fixed;\n  left: 0px;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n}\n.ag-header {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  white-space: nowrap;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  width: 100%;\n}\n.ag-pinned-left-header {\n  float: left;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-pinned-right-header {\n  float: right;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-header-viewport {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-scrolls .ag-header-row {\n  position: absolute;\n}\n.ag-scrolls .ag-header-container {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  position: relative;\n  white-space: nowrap;\n  height: 100%;\n}\n.ag-no-scrolls .ag-header-container {\n  white-space: nowrap;\n}\n.ag-header-overlay {\n  display: block;\n  position: absolute;\n}\n.ag-header-cell {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  vertical-align: bottom;\n  text-align: center;\n  display: inline-block;\n  height: 100%;\n  position: absolute;\n}\n.ag-dnd-ghost {\n  font-size: 14px;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  position: absolute;\n  background: #e5e5e5;\n  border: 1px solid #000;\n  cursor: grabbing;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  padding: 3px;\n  line-height: 1.4;\n}\n.ag-dnd-ghost-icon {\n  display: inline-block;\n  float: left;\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-dnd-ghost-label {\n  display: inline-block;\n}\n.ag-header-group-cell {\n  height: 100%;\n  display: inline-block;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  position: absolute;\n}\n.ag-header-group-cell-label {\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-header-cell-label {\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-header-cell-resize {\n  height: 100%;\n  width: 4px;\n  float: right;\n  cursor: col-resize;\n}\n.ag-header-cell-menu-button {\n  float: right;\n}\n.ag-overlay-panel {\n  display: table;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n.ag-overlay-wrapper {\n  display: table-cell;\n  vertical-align: middle;\n  text-align: center;\n}\n.ag-bl-overlay {\n  pointer-events: none;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  top: 0px;\n  left: 0px;\n}\n.ag-bl-full-height {\n  height: 100%;\n  overflow: auto;\n  position: relative;\n}\n.ag-bl-full-height-west {\n  height: 100%;\n  float: left;\n}\n.ag-bl-full-height-east {\n  height: 100%;\n  float: right;\n}\n.ag-bl-full-height-center {\n  height: 100%;\n}\n.ag-bl-normal {\n  height: 100%;\n  position: relative;\n}\n.ag-bl-normal-center-row {\n  height: 100%;\n  overflow: hidden;\n}\n.ag-bl-normal-west {\n  height: 100%;\n  float: left;\n}\n.ag-bl-normal-east {\n  height: 100%;\n  float: right;\n}\n.ag-bl-normal-center {\n  height: 100%;\n}\n.ag-bl-dont-fill {\n  position: relative;\n}\n.ag-body {\n  height: 100%;\n  width: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  position: absolute;\n}\n.ag-floating-top {\n  position: absolute;\n  left: 0px;\n  width: 100%;\n  white-space: nowrap;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.ag-pinned-left-floating-top {\n  float: left;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n  position: relative;\n  z-index: 1;\n}\n.ag-pinned-right-floating-top {\n  float: right;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-floating-top-viewport {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-floating-top-container {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  position: relative;\n  white-space: nowrap;\n}\n.ag-floating-bottom {\n  position: absolute;\n  left: 0px;\n  width: 100%;\n  white-space: nowrap;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.ag-pinned-left-floating-bottom {\n  float: left;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n  z-index: 1;\n}\n.ag-pinned-right-floating-bottom {\n  float: right;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-floating-bottom-viewport {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n  height: 100%;\n}\n.ag-floating-bottom-container {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  position: relative;\n  white-space: nowrap;\n}\n.ag-pinned-left-cols-viewport {\n  float: left;\n  overflow: hidden;\n  position: relative;\n  z-index: 1;\n}\n.ag-pinned-left-cols-container {\n  display: inline-block;\n  position: relative;\n}\n.ag-pinned-right-cols-viewport {\n  float: right;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.ag-pinned-right-cols-container {\n  display: inline-block;\n  position: relative;\n}\n.ag-body-viewport-wrapper {\n  height: 100%;\n}\n.ag-body-viewport {\n  overflow-x: auto;\n  overflow-y: auto;\n  height: 100%;\n}\n.ag-full-width-viewport {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  display: inline;\n  pointer-events: none;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.ag-full-width-container {\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n}\n.ag-floating-bottom-full-width-container {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  pointer-events: none;\n  overflow: hidden;\n  display: inline;\n}\n.ag-floating-top-full-width-container {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  pointer-events: none;\n  overflow: hidden;\n  display: inline;\n}\n.ag-full-width-row {\n  pointer-events: all;\n  overflow: hidden;\n}\n.ag-scrolls .ag-body-container {\n  position: relative;\n  display: inline-block;\n}\n.ag-scrolls .ag-row {\n  white-space: nowrap;\n  position: absolute;\n  width: 100%;\n}\n.ag-no-scrolls .ag-row {\n  position: relative;\n}\n.ag-column-drop {\n  width: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.ag-column-drop-vertical .ag-column-drop-cell {\n  display: block;\n}\n.ag-column-drop-vertical .ag-column-drop-empty-message {\n  display: block;\n}\n.ag-column-drop-vertical .ag-column-drop-cell-button {\n  float: right;\n  line-height: 16px;\n}\n.ag-column-drop-horizontal {\n  white-space: nowrap;\n}\n.ag-cell {\n  display: inline-block;\n  white-space: nowrap;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  position: absolute;\n}\n.ag-fade-out {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n  margin-right: 5px;\n  -webkit-transition: opacity 3s, margin-right 3s;\n  -moz-transition: opacity 3s, margin-right 3s;\n  -o-transition: opacity 3s, margin-right 3s;\n  -ms-transition: opacity 3s, margin-right 3s;\n  transition: opacity 3s, margin-right 3s;\n  -webkit-transition-timing-function: linear;\n  -moz-transition-timing-function: linear;\n  -o-transition-timing-function: linear;\n  -ms-transition-timing-function: linear;\n  transition-timing-function: linear;\n}\n.ag-fade-out-end {\n  opacity: 0;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";\n  filter: alpha(opacity=0);\n  margin-right: 10px;\n}\n.ag-cell-edit-input {\n  width: 100%;\n  height: 100%;\n}\n.ag-group-cell-entire-row {\n  width: 100%;\n  display: inline-block;\n  white-space: nowrap;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-footer-cell-entire-row {\n  width: 100%;\n  display: inline-block;\n  white-space: nowrap;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.ag-large .ag-root {\n  font-size: 20px;\n}\n.ag-popup-editor {\n  position: absolute;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.ag-menu {\n  position: absolute;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.ag-menu-column-select-wrapper {\n  width: 200px;\n  height: 300px;\n  overflow: auto;\n}\n.ag-menu-list {\n  display: table;\n  border-collapse: collapse;\n}\n.ag-menu-option {\n  display: table-row;\n}\n.ag-menu-option-text {\n  display: table-cell;\n}\n.ag-menu-option-shortcut {\n  display: table-cell;\n}\n.ag-menu-option-icon {\n  display: table-cell;\n}\n.ag-menu-option-popup-pointer {\n  display: table-cell;\n}\n.ag-menu-separator {\n  display: table-row;\n}\n.ag-menu-separator-cell {\n  display: table-cell;\n}\n.ag-virtual-list-viewport {\n  overflow-x: auto;\n  height: 100%;\n  width: 100%;\n}\n.ag-virtual-list-container {\n  position: relative;\n  overflow: hidden;\n}\n.ag-rich-select {\n  outline: none;\n}\n.ag-rich-select-list {\n  width: 200px;\n  height: 200px;\n}\n.ag-set-filter-list {\n  width: 200px;\n  height: 200px;\n}\n.ag-set-filter-item {\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.ag-virtual-list-item {\n  position: absolute;\n  width: 100%;\n}\n.ag-filter-filter {\n  width: 170px;\n  margin: 4px;\n}\n.ag-filter-select {\n  width: 110px;\n  margin: 4px 4px 0px 4px;\n}\n.ag-no-vertical-scroll .ag-scrolls {\n  height: unset;\n}\n.ag-no-vertical-scroll .ag-body {\n  height: unset;\n}\n.ag-no-vertical-scroll .ag-body-viewport-wrapper {\n  height: unset;\n}\n.ag-no-vertical-scroll .ag-body-viewport {\n  height: unset;\n}\n.ag-list-selection {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  cursor: default;\n}\n.ag-tool-panel {\n  width: 200px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  cursor: default;\n  height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: auto;\n}\n.ag-column-select-indent {\n  display: inline-block;\n}\n.ag-column-select-column {\n  margin-left: 14px;\n  white-space: nowrap;\n}\n.ag-column-select-column-group {\n  white-space: nowrap;\n}\n.ag-hidden {\n  display: none;\n}\n.ag-faded {\n  opacity: 0.3;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=30)\";\n  filter: alpha(opacity=30);\n}\n.ag-width-half {\n  width: 50%;\n  display: inline-block;\n}\n.ag-shake-left-to-right {\n  -webkit-animation-name: ag-shake-left-to-right;\n  -moz-animation-name: ag-shake-left-to-right;\n  -o-animation-name: ag-shake-left-to-right;\n  -ms-animation-name: ag-shake-left-to-right;\n  animation-name: ag-shake-left-to-right;\n  -webkit-animation-duration: 0.2s;\n  -moz-animation-duration: 0.2s;\n  -o-animation-duration: 0.2s;\n  -ms-animation-duration: 0.2s;\n  animation-duration: 0.2s;\n  -webkit-animation-iteration-count: infinite;\n  -moz-animation-iteration-count: infinite;\n  -o-animation-iteration-count: infinite;\n  -ms-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n  -webkit-animation-direction: alternate;\n  -moz-animation-direction: alternate;\n  -o-animation-direction: alternate;\n  -ms-animation-direction: alternate;\n  animation-direction: alternate;\n}\n@-moz-keyframes ag-shake-left-to-right {\n  from {\n    padding-left: 6px;\n    padding-right: 2px;\n  }\n  to {\n    padding-left: 2px;\n    padding-right: 6px;\n  }\n}\n@-webkit-keyframes ag-shake-left-to-right {\n  from {\n    padding-left: 6px;\n    padding-right: 2px;\n  }\n  to {\n    padding-left: 2px;\n    padding-right: 6px;\n  }\n}\n@-o-keyframes ag-shake-left-to-right {\n  from {\n    padding-left: 6px;\n    padding-right: 2px;\n  }\n  to {\n    padding-left: 2px;\n    padding-right: 6px;\n  }\n}\n@keyframes ag-shake-left-to-right {\n  from {\n    padding-left: 6px;\n    padding-right: 2px;\n  }\n  to {\n    padding-left: 2px;\n    padding-right: 6px;\n  }\n}\n",""])},function(module){module.exports=function(){var list=[];return list.toString=function(){for(var result=[],i=0,item;i<this.length;i++)item=this[i],item[2]?result.push("@media "+item[2]+"{"+item[1]+"}"):result.push(item[1]);return result.join("")},list.i=function(modules,mediaQuery){"string"==typeof modules&&(modules=[[null,modules,""]]);for(var alreadyImportedModules={},i=0,id;i<this.length;i++)id=this[i][0],"number"==typeof id&&(alreadyImportedModules[id]=!0);for(i=0;i<modules.length;i++){var item=modules[i];"number"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]="("+item[2]+") and ("+mediaQuery+")"),list.push(item))}},list}},function(module){function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j],options))}else{for(var parts=[],j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j],options));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list){for(var styles=[],newStyles={},i=0;i<list.length;i++){var item=list[i],id=item[0],css=item[1],media=item[2],sourceMap=item[3],part={css:css,media:media,sourceMap:sourceMap};newStyles[id]?newStyles[id].parts.push(part):styles.push(newStyles[id]={id:id,parts:[part]})}return styles}function insertStyleElement(options,styleElement){var head=getHeadElement(),lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];if("top"===options.insertAt)lastStyleElementInsertedAtTop?lastStyleElementInsertedAtTop.nextSibling?head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling):head.appendChild(styleElement):head.insertBefore(styleElement,head.firstChild),styleElementsInsertedAtTop.push(styleElement);else if("bottom"===options.insertAt)head.appendChild(styleElement);else throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.")}function removeStyleElement(styleElement){styleElement.parentNode.removeChild(styleElement);var idx=styleElementsInsertedAtTop.indexOf(styleElement);0<=idx&&styleElementsInsertedAtTop.splice(idx,1)}function createStyleElement(options){var styleElement=document.createElement("style");return styleElement.type="text/css",insertStyleElement(options,styleElement),styleElement}function createLinkElement(options){var linkElement=document.createElement("link");return linkElement.rel="stylesheet",insertStyleElement(options,linkElement),linkElement}function addStyle(obj,options){var styleElement,update,remove;if(options.singleton){var styleIndex=singletonCounter++;styleElement=singletonElement||(singletonElement=createStyleElement(options)),update=applyToSingletonTag.bind(null,styleElement,styleIndex,!1),remove=applyToSingletonTag.bind(null,styleElement,styleIndex,!0)}else obj.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(styleElement=createLinkElement(options),update=updateLink.bind(null,styleElement),remove=function(){removeStyleElement(styleElement),styleElement.href&&URL.revokeObjectURL(styleElement.href)}):(styleElement=createStyleElement(options),update=applyToTag.bind(null,styleElement),remove=function(){removeStyleElement(styleElement)});return update(obj),function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}function applyToSingletonTag(styleElement,index,remove,obj){var css=remove?"":obj.css;if(styleElement.styleSheet)styleElement.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=styleElement.childNodes;childNodes[index]&&styleElement.removeChild(childNodes[index]),childNodes.length?styleElement.insertBefore(cssNode,childNodes[index]):styleElement.appendChild(cssNode)}}function applyToTag(styleElement,obj){var css=obj.css,media=obj.media,sourceMap=obj.sourceMap;if(media&&styleElement.setAttribute("media",media),styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}function updateLink(linkElement,obj){var css=obj.css,media=obj.media,sourceMap=obj.sourceMap;sourceMap&&(css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */");var blob=new Blob([css],{type:"text/css"}),oldSrc=linkElement.href;linkElement.href=URL.createObjectURL(blob),oldSrc&&URL.revokeObjectURL(oldSrc)}var stylesInDom={},memoize=function(fn){var memo;return function(){return"undefined"==typeof memo&&(memo=fn.apply(this,arguments)),memo}},isOldIE=memoize(function(){return /msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),getHeadElement=memoize(function(){return document.head||document.getElementsByTagName("head")[0]}),singletonElement=null,singletonCounter=0,styleElementsInsertedAtTop=[];module.exports=function(list,options){options=options||{},"undefined"==typeof options.singleton&&(options.singleton=isOldIE()),"undefined"==typeof options.insertAt&&(options.insertAt="bottom");var styles=listToStyles(list);return addStylesToDom(styles,options),function(newList){for(var mayRemove=[],i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];domStyle.refs--,mayRemove.push(domStyle)}if(newList){var newStyles=listToStyles(newList);addStylesToDom(newStyles,options)}for(var i=0,domStyle;i<mayRemove.length;i++)if(domStyle=mayRemove[i],0===domStyle.refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}};var replaceText=function(){var textStore=[];return function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")}}()},function(module,exports,__webpack_require__){var content=__webpack_require__(144);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(142)(content,{});content.locals&&(module.exports=content.locals),!1},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(141)(),exports.push([module.id,".ag-fresh {\n  line-height: 1.4;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  color: #222;\n/* this is for the rowGroupPanel, that appears along the top of the grid */\n/* this is for the column drops that appear in the toolPanel */\n}\n.ag-fresh img {\n  vertical-align: middle;\n  border: 0;\n}\n.ag-fresh .ag-root {\n  border: 1px solid #808080;\n}\n.ag-fresh .ag-cell-not-inline-editing {\n  padding: 2px;\n}\n.ag-fresh .ag-cell-range-selected-1:not(.ag-cell-focus) {\n  background-color: rgba(120,120,120,0.4);\n}\n.ag-fresh .ag-cell-range-selected-2:not(.ag-cell-focus) {\n  background-color: rgba(80,80,80,0.4);\n}\n.ag-fresh .ag-cell-range-selected-3:not(.ag-cell-focus) {\n  background-color: rgba(40,40,40,0.4);\n}\n.ag-fresh .ag-cell-range-selected-4:not(.ag-cell-focus) {\n  background-color: rgba(0,0,0,0.4);\n}\n.ag-fresh .ag-column-moving .ag-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-fresh .ag-column-moving .ag-header-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-fresh .ag-column-moving .ag-header-group-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-fresh .ag-cell-focus {\n  border: 1px solid #a9a9a9;\n}\n.ag-fresh .ag-cell-no-focus {\n  border-right: 1px dotted #808080;\n  border-top: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-bottom: 1px solid transparent;\n}\n.ag-fresh .ag-cell-first-right-pinned {\n  border-left: 1px solid #808080;\n}\n.ag-fresh .ag-cell-last-left-pinned {\n  border-right: 1px solid #808080;\n}\n.ag-fresh .ag-cell-highlight {\n  border: 1px solid #006400;\n}\n.ag-fresh .ag-cell-highlight-animation {\n  -webkit-transition: border 1s;\n  -moz-transition: border 1s;\n  -o-transition: border 1s;\n  -ms-transition: border 1s;\n  transition: border 1s;\n}\n.ag-fresh .ag-value-change-delta {\n  padding-right: 2px;\n}\n.ag-fresh .ag-value-change-delta-up {\n  color: #006400;\n}\n.ag-fresh .ag-value-change-delta-down {\n  color: #8b0000;\n}\n.ag-fresh .ag-value-change-value {\n  background-color: transparent;\n  border-radius: 1px;\n  padding-left: 1px;\n  padding-right: 1px;\n  -webkit-transition: background-color 1s;\n  -moz-transition: background-color 1s;\n  -o-transition: background-color 1s;\n  -ms-transition: background-color 1s;\n  transition: background-color 1s;\n}\n.ag-fresh .ag-value-change-value-highlight {\n  background-color: #cec;\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-fresh .ag-rich-select {\n  font-size: 14px;\n  border: 1px solid #808080;\n  background-color: #fff;\n}\n.ag-fresh .ag-rich-select-value {\n  padding: 2px;\n}\n.ag-fresh .ag-rich-select-list {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-fresh .ag-rich-select-row {\n  padding: 2px;\n}\n.ag-fresh .ag-rich-select-row-selected {\n  background-color: #bde2e5;\n}\n.ag-fresh .ag-large-text {\n  border: 1px solid #808080;\n}\n.ag-fresh .ag-header {\n  color: #000;\n  background: -webkit-linear-gradient(#fff, #d3d3d3);\n  background: -moz-linear-gradient(#fff, #d3d3d3);\n  background: -o-linear-gradient(#fff, #d3d3d3);\n  background: -ms-linear-gradient(#fff, #d3d3d3);\n  background: linear-gradient(#fff, #d3d3d3);\n  border-bottom: 1px solid #808080;\n  font-weight: normal;\n}\n.ag-fresh .ag-header-icon {\n  color: #000;\n  stroke: none;\n  fill: #000;\n}\n.ag-fresh .ag-no-scrolls .ag-header-container {\n  background: -webkit-linear-gradient(#fff, #d3d3d3);\n  background: -moz-linear-gradient(#fff, #d3d3d3);\n  background: -o-linear-gradient(#fff, #d3d3d3);\n  background: -ms-linear-gradient(#fff, #d3d3d3);\n  background: linear-gradient(#fff, #d3d3d3);\n  border-bottom: 1px solid #808080;\n}\n.ag-fresh .ag-header-cell {\n  border-right: 1px solid #808080;\n}\n.ag-fresh .ag-header-cell-moving {\n  background-color: #bebebe;\n}\n.ag-fresh .ag-header-group-cell {\n  border-right: 1px solid #808080;\n}\n.ag-fresh .ag-header-group-cell-with-group {\n  border-bottom: 1px solid #808080;\n}\n.ag-fresh .ag-header-cell-label {\n  padding: 4px 2px 4px 2px;\n}\n.ag-fresh .ag-header-cell-text {\n  padding-left: 2px;\n}\n.ag-fresh .ag-header-group-cell-label {\n  padding: 4px;\n  padding-left: 10px;\n}\n.ag-fresh .ag-header-group-text {\n  margin-right: 2px;\n}\n.ag-fresh .ag-header-cell-menu-button {\n  padding: 2px;\n  margin-top: 4px;\n  border: 1px solid transparent;\n  border-radius: 3px;\n  -webkit-box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  -moz-box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  line-height: 0px /* normal line height, a space was appearing below the menu button */;\n}\n.ag-fresh .ag-pinned-right-header {\n  border-left: 1px solid #808080;\n}\n.ag-fresh .ag-header-cell-menu-button:hover {\n  border: 1px solid #808080;\n}\n.ag-fresh .ag-body {\n  background-color: #f6f6f6;\n}\n.ag-fresh .ag-row {\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-fresh .ag-row-odd {\n  background-color: #f6f6f6;\n}\n.ag-fresh .ag-row-even {\n  background-color: #fff;\n}\n.ag-fresh .ag-row-selected {\n  background-color: #b0e0e6;\n}\n.ag-fresh .ag-floating-top .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-fresh .ag-floating-bottom .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-fresh .ag-overlay-loading-wrapper {\n  background-color: rgba(255,255,255,0.5);\n}\n.ag-fresh .ag-overlay-loading-center {\n  background-color: #fff;\n  border: 1px solid #808080;\n  border-radius: 10px;\n  padding: 10px;\n  color: #000;\n}\n.ag-fresh .ag-overlay-no-rows-center {\n  background-color: #fff;\n  border: 1px solid #808080;\n  border-radius: 10px;\n  padding: 10px;\n}\n.ag-fresh .ag-group-cell-entire-row {\n  background-color: #f6f6f6;\n  padding: 2px;\n}\n.ag-fresh .ag-footer-cell-entire-row {\n  background-color: #f6f6f6;\n  padding: 2px;\n}\n.ag-fresh .ag-group-cell {\n  font-style: italic;\n}\n.ag-fresh .ag-group-expanded {\n  padding-right: 4px;\n}\n.ag-fresh .ag-group-contracted {\n  padding-right: 4px;\n}\n.ag-fresh .ag-group-value {\n  padding-right: 2px;\n}\n.ag-fresh .ag-group-checkbox {\n  padding-right: 2px;\n}\n.ag-fresh .ag-footer-cell {\n  font-style: italic;\n}\n.ag-fresh .ag-menu {\n  border: 1px solid #808080;\n  background-color: #f6f6f6;\n  cursor: default;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n}\n.ag-fresh .ag-menu .ag-tab-header {\n  background-color: #e6e6e6;\n}\n.ag-fresh .ag-menu .ag-tab {\n  padding: 6px 8px 6px 8px;\n  margin: 2px 2px 0px 2px;\n  display: inline-block;\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-top: 1px solid transparent;\n  border-top-right-radius: 2px;\n  border-top-left-radius: 2px;\n}\n.ag-fresh .ag-menu .ag-tab-selected {\n  background-color: #f6f6f6;\n  border-right: 1px solid #d3d3d3;\n  border-left: 1px solid #d3d3d3;\n  border-top: 1px solid #d3d3d3;\n}\n.ag-fresh .ag-menu-separator {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-fresh .ag-menu-option-active {\n  background-color: #bde2e5;\n}\n.ag-fresh .ag-menu-option-icon {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-fresh .ag-menu-option-text {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-fresh .ag-menu-option-shortcut {\n  padding: 2px 2px 2px 20px;\n  vertical-align: middle;\n}\n.ag-fresh .ag-menu-option-popup-pointer {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-fresh .ag-menu-option-disabled {\n  opacity: 0.5;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n  filter: alpha(opacity=50);\n}\n.ag-fresh .ag-menu-column-select-wrapper {\n  margin: 2px;\n}\n.ag-fresh .ag-filter-checkbox {\n  position: relative;\n  top: 2px;\n  left: 2px;\n}\n.ag-fresh .ag-filter-header-container {\n  border-bottom: 1px solid #d3d3d3;\n}\n.ag-fresh .ag-filter-apply-panel {\n  border-top: 1px solid #d3d3d3;\n  padding: 2px;\n}\n.ag-fresh .ag-filter-value {\n  margin-left: 4px;\n}\n.ag-fresh .ag-selection-checkbox {\n  padding-right: 4px;\n}\n.ag-fresh .ag-paging-panel {\n  padding: 4px;\n}\n.ag-fresh .ag-paging-button {\n  margin-left: 4px;\n  margin-right: 4px;\n}\n.ag-fresh .ag-paging-row-summary-panel {\n  display: inline-block;\n  width: 300px;\n}\n.ag-fresh .ag-tool-panel {\n  background-color: #f6f6f6;\n  border-right: 1px solid #808080;\n  border-bottom: 1px solid #808080;\n  border-top: 1px solid #808080;\n  color: #222;\n}\n.ag-fresh .ag-status-bar {\n  color: #222;\n  background-color: #f6f6f6;\n  font-size: 14px;\n  height: 22px;\n  border-bottom: 1px solid #808080;\n  border-left: 1px solid #808080;\n  border-right: 1px solid #808080;\n  padding: 2px;\n}\n.ag-fresh .ag-status-bar-aggregations {\n  float: right;\n}\n.ag-fresh .ag-status-bar-item {\n  padding-left: 10px;\n}\n.ag-fresh .ag-column-drop-cell {\n  background: -webkit-linear-gradient(#fff, #d3d3d3);\n  background: -moz-linear-gradient(#fff, #d3d3d3);\n  background: -o-linear-gradient(#fff, #d3d3d3);\n  background: -ms-linear-gradient(#fff, #d3d3d3);\n  background: linear-gradient(#fff, #d3d3d3);\n  color: #000;\n  border: 1px solid #808080;\n}\n.ag-fresh .ag-column-drop-cell-ghost {\n  opacity: 0.5;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n  filter: alpha(opacity=50);\n}\n.ag-fresh .ag-column-drop-cell-text {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-fresh .ag-column-drop-cell-button {\n  border: 1px solid transparent;\n  padding-left: 2px;\n  padding-right: 2px;\n  border-radius: 3px;\n}\n.ag-fresh .ag-column-drop-cell-button:hover {\n  border: 1px solid #808080;\n}\n.ag-fresh .ag-column-drop-empty-message {\n  padding-left: 2px;\n  padding-right: 2px;\n  color: #808080;\n}\n.ag-fresh .ag-column-drop-icon {\n  padding-right: 4px;\n}\n.ag-fresh .ag-column-drop {\n  background-color: #f6f6f6;\n}\n.ag-fresh .ag-column-drop-horizontal {\n  padding: 4px 4px 4px 4px;\n  border-top: 1px solid #808080;\n  border-left: 1px solid #808080;\n  border-right: 1px solid #808080;\n}\n.ag-fresh .ag-column-drop-horizontal .ag-column-drop-cell {\n  padding: 2px;\n}\n.ag-fresh .ag-column-drop-vertical {\n  padding: 4px 4px 10px 4px;\n  border-bottom: 1px solid #808080;\n}\n.ag-fresh .ag-column-drop-vertical .ag-column-drop-cell {\n  margin-top: 2px;\n}\n.ag-fresh .ag-column-drop-vertical .ag-column-drop-empty-message {\n  text-align: center;\n  padding: 5px;\n}\n.ag-fresh .ag-pivot-mode {\n  border-bottom: 1px solid #808080;\n  padding: 4px;\n  background-color: #f6f6f6;\n}\n.ag-fresh .ag-tool-panel .ag-column-select-panel {\n  border-bottom: 1px solid #808080;\n}\n.ag-fresh .ag-select-agg-func-popup {\n  cursor: default;\n  position: absolute;\n  font-size: 14px;\n  background-color: #fff;\n  border: 1px solid #808080;\n}\n.ag-fresh .ag-select-agg-func-item {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-fresh .ag-select-agg-func-item:hover {\n  background-color: #bde2e5;\n}\n",""])},function(module,exports,__webpack_require__){var content=__webpack_require__(146);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(142)(content,{});content.locals&&(module.exports=content.locals),!1},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(141)(),exports.push([module.id,".ag-dark {\n  line-height: 1.4;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  color: #ccc;\n/* this is for the rowGroupPanel, that appears along the top of the grid */\n/* this is for the column drops that appear in the toolPanel */\n}\n.ag-dark img {\n  vertical-align: middle;\n  border: 0;\n}\n.ag-dark .ag-root {\n  border: 1px solid #808080;\n}\n.ag-dark .ag-cell-not-inline-editing {\n  padding: 2px;\n}\n.ag-dark .ag-cell-range-selected-1:not(.ag-cell-focus) {\n  background-color: rgba(100,160,160,0.4);\n}\n.ag-dark .ag-cell-range-selected-2:not(.ag-cell-focus) {\n  background-color: rgba(100,190,190,0.4);\n}\n.ag-dark .ag-cell-range-selected-3:not(.ag-cell-focus) {\n  background-color: rgba(100,220,220,0.4);\n}\n.ag-dark .ag-cell-range-selected-4:not(.ag-cell-focus) {\n  background-color: rgba(100,250,250,0.4);\n}\n.ag-dark .ag-column-moving .ag-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-dark .ag-column-moving .ag-header-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-dark .ag-column-moving .ag-header-group-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-dark .ag-cell-focus {\n  border: 1px solid #a9a9a9;\n}\n.ag-dark .ag-cell-no-focus {\n  border-right: 1px dotted #808080;\n  border-top: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-bottom: 1px solid transparent;\n}\n.ag-dark .ag-cell-first-right-pinned {\n  border-left: 1px solid #808080;\n}\n.ag-dark .ag-cell-last-left-pinned {\n  border-right: 1px solid #808080;\n}\n.ag-dark .ag-cell-highlight {\n  border: 1px solid #90ee90;\n}\n.ag-dark .ag-cell-highlight-animation {\n  -webkit-transition: border 1s;\n  -moz-transition: border 1s;\n  -o-transition: border 1s;\n  -ms-transition: border 1s;\n  transition: border 1s;\n}\n.ag-dark .ag-value-change-delta {\n  padding-right: 2px;\n}\n.ag-dark .ag-value-change-delta-up {\n  color: #adff2f;\n}\n.ag-dark .ag-value-change-delta-down {\n  color: #f00;\n}\n.ag-dark .ag-value-change-value {\n  background-color: transparent;\n  border-radius: 1px;\n  padding-left: 1px;\n  padding-right: 1px;\n  -webkit-transition: background-color 1s;\n  -moz-transition: background-color 1s;\n  -o-transition: background-color 1s;\n  -ms-transition: background-color 1s;\n  transition: background-color 1s;\n}\n.ag-dark .ag-value-change-value-highlight {\n  background-color: #d2691e;\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-dark .ag-rich-select {\n  font-size: 14px;\n  border: 1px solid #808080;\n  background-color: #302e2e;\n}\n.ag-dark .ag-rich-select-value {\n  padding: 2px;\n}\n.ag-dark .ag-rich-select-list {\n  border-top: 1px solid #555;\n}\n.ag-dark .ag-rich-select-row {\n  padding: 2px;\n}\n.ag-dark .ag-rich-select-row-selected {\n  background-color: #4a708b;\n}\n.ag-dark .ag-large-text {\n  border: 1px solid #808080;\n}\n.ag-dark .ag-header {\n  color: #e0e0e0;\n  background: #626262;\n  border-bottom: 1px solid #808080;\n  font-weight: normal;\n}\n.ag-dark .ag-header-icon {\n  color: #e0e0e0;\n  stroke: none;\n  fill: #e0e0e0;\n}\n.ag-dark .ag-no-scrolls .ag-header-container {\n  background: #626262;\n  border-bottom: 1px solid #808080;\n}\n.ag-dark .ag-header-cell {\n  border-right: 1px solid #808080;\n}\n.ag-dark .ag-header-cell-moving {\n  background-color: #bebebe;\n}\n.ag-dark .ag-header-group-cell {\n  border-right: 1px solid #808080;\n}\n.ag-dark .ag-header-group-cell-with-group {\n  border-bottom: 1px solid #808080;\n}\n.ag-dark .ag-header-cell-label {\n  padding: 4px 2px 4px 2px;\n}\n.ag-dark .ag-header-cell-text {\n  padding-left: 2px;\n}\n.ag-dark .ag-header-group-cell-label {\n  padding: 4px;\n  padding-left: 10px;\n}\n.ag-dark .ag-header-group-text {\n  margin-right: 2px;\n}\n.ag-dark .ag-header-cell-menu-button {\n  padding: 2px;\n  margin-top: 4px;\n  border: 1px solid transparent;\n  border-radius: 3px;\n  -webkit-box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  -moz-box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  line-height: 0px /* normal line height, a space was appearing below the menu button */;\n}\n.ag-dark .ag-pinned-right-header {\n  border-left: 1px solid #808080;\n}\n.ag-dark .ag-header-cell-menu-button:hover {\n  border: 1px solid #808080;\n}\n.ag-dark .ag-body {\n  background-color: #302e2e;\n}\n.ag-dark .ag-row {\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-dark .ag-row-odd {\n  background-color: #302e2e;\n}\n.ag-dark .ag-row-even {\n  background-color: #403e3e;\n}\n.ag-dark .ag-row-selected {\n  background-color: #4a708b;\n}\n.ag-dark .ag-floating-top .ag-row {\n  background-color: #333;\n}\n.ag-dark .ag-floating-bottom .ag-row {\n  background-color: #333;\n}\n.ag-dark .ag-overlay-loading-wrapper {\n  background-color: rgba(255,255,255,0.5);\n}\n.ag-dark .ag-overlay-loading-center {\n  background-color: #fff;\n  border: 1px solid #808080;\n  border-radius: 10px;\n  padding: 10px;\n  color: #000;\n}\n.ag-dark .ag-overlay-no-rows-center {\n  background-color: #fff;\n  border: 1px solid #808080;\n  border-radius: 10px;\n  padding: 10px;\n}\n.ag-dark .ag-group-cell-entire-row {\n  background-color: #302e2e;\n  padding: 2px;\n}\n.ag-dark .ag-footer-cell-entire-row {\n  background-color: #302e2e;\n  padding: 2px;\n}\n.ag-dark .ag-group-cell {\n  font-style: italic;\n}\n.ag-dark .ag-group-expanded {\n  padding-right: 4px;\n}\n.ag-dark .ag-group-contracted {\n  padding-right: 4px;\n}\n.ag-dark .ag-group-value {\n  padding-right: 2px;\n}\n.ag-dark .ag-group-checkbox {\n  padding-right: 2px;\n}\n.ag-dark .ag-footer-cell {\n  font-style: italic;\n}\n.ag-dark .ag-menu {\n  border: 1px solid #555;\n  background-color: #302e2e;\n  cursor: default;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n}\n.ag-dark .ag-menu .ag-tab-header {\n  background-color: #626262;\n}\n.ag-dark .ag-menu .ag-tab {\n  padding: 6px 8px 6px 8px;\n  margin: 2px 2px 0px 2px;\n  display: inline-block;\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-top: 1px solid transparent;\n  border-top-right-radius: 2px;\n  border-top-left-radius: 2px;\n}\n.ag-dark .ag-menu .ag-tab-selected {\n  background-color: #302e2e;\n  border-right: 1px solid #555;\n  border-left: 1px solid #555;\n  border-top: 1px solid #555;\n}\n.ag-dark .ag-menu-separator {\n  border-top: 1px solid #555;\n}\n.ag-dark .ag-menu-option-active {\n  background-color: #4a708b;\n}\n.ag-dark .ag-menu-option-icon {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-dark .ag-menu-option-text {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-dark .ag-menu-option-shortcut {\n  padding: 2px 2px 2px 20px;\n  vertical-align: middle;\n}\n.ag-dark .ag-menu-option-popup-pointer {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-dark .ag-menu-option-disabled {\n  opacity: 0.5;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n  filter: alpha(opacity=50);\n}\n.ag-dark .ag-menu-column-select-wrapper {\n  margin: 2px;\n}\n.ag-dark .ag-filter-checkbox {\n  position: relative;\n  top: 2px;\n  left: 2px;\n}\n.ag-dark .ag-filter-header-container {\n  border-bottom: 1px solid #555;\n}\n.ag-dark .ag-filter-apply-panel {\n  border-top: 1px solid #555;\n  padding: 2px;\n}\n.ag-dark .ag-filter-value {\n  margin-left: 4px;\n}\n.ag-dark .ag-selection-checkbox {\n  padding-right: 4px;\n}\n.ag-dark .ag-paging-panel {\n  padding: 4px;\n}\n.ag-dark .ag-paging-button {\n  margin-left: 4px;\n  margin-right: 4px;\n}\n.ag-dark .ag-paging-row-summary-panel {\n  display: inline-block;\n  width: 300px;\n}\n.ag-dark .ag-tool-panel {\n  background-color: #302e2e;\n  border-right: 1px solid #808080;\n  border-bottom: 1px solid #808080;\n  border-top: 1px solid #808080;\n  color: #ccc;\n}\n.ag-dark .ag-status-bar {\n  color: #ccc;\n  background-color: #302e2e;\n  font-size: 14px;\n  height: 22px;\n  border-bottom: 1px solid #808080;\n  border-left: 1px solid #808080;\n  border-right: 1px solid #808080;\n  padding: 2px;\n}\n.ag-dark .ag-status-bar-aggregations {\n  float: right;\n}\n.ag-dark .ag-status-bar-item {\n  padding-left: 10px;\n}\n.ag-dark .ag-column-drop-cell {\n  background: #403e3e;\n  color: #e0e0e0;\n  border: 1px solid #666;\n}\n.ag-dark .ag-column-drop-cell-ghost {\n  opacity: 0.5;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n  filter: alpha(opacity=50);\n}\n.ag-dark .ag-column-drop-cell-text {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-dark .ag-column-drop-cell-button {\n  border: 1px solid transparent;\n  padding-left: 2px;\n  padding-right: 2px;\n  border-radius: 3px;\n}\n.ag-dark .ag-column-drop-cell-button:hover {\n  border: 1px solid #808080;\n}\n.ag-dark .ag-column-drop-empty-message {\n  padding-left: 2px;\n  padding-right: 2px;\n  color: #808080;\n}\n.ag-dark .ag-column-drop-icon {\n  padding-right: 4px;\n}\n.ag-dark .ag-column-drop {\n  background-color: #302e2e;\n}\n.ag-dark .ag-column-drop-horizontal {\n  padding: 4px 4px 4px 4px;\n  border-top: 1px solid #808080;\n  border-left: 1px solid #808080;\n  border-right: 1px solid #808080;\n}\n.ag-dark .ag-column-drop-horizontal .ag-column-drop-cell {\n  padding: 2px;\n}\n.ag-dark .ag-column-drop-vertical {\n  padding: 4px 4px 10px 4px;\n  border-bottom: 1px solid #808080;\n}\n.ag-dark .ag-column-drop-vertical .ag-column-drop-cell {\n  margin-top: 2px;\n}\n.ag-dark .ag-column-drop-vertical .ag-column-drop-empty-message {\n  text-align: center;\n  padding: 5px;\n}\n.ag-dark .ag-pivot-mode {\n  border-bottom: 1px solid #808080;\n  padding: 4px;\n  background-color: #302e2e;\n}\n.ag-dark .ag-tool-panel .ag-column-select-panel {\n  border-bottom: 1px solid #808080;\n}\n.ag-dark .ag-select-agg-func-popup {\n  cursor: default;\n  position: absolute;\n  font-size: 14px;\n  background-color: #302e2e;\n  border: 1px solid #808080;\n}\n.ag-dark .ag-select-agg-func-item {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-dark .ag-select-agg-func-item:hover {\n  background-color: #4a708b;\n}\n.ag-dark ::-webkit-scrollbar {\n  width: 12px;\n  height: 12px;\n  background: #302e2e;\n}\n.ag-dark ::-webkit-scrollbar-thumb {\n  background-color: #626262;\n}\n.ag-dark ::-webkit-scrollbar-corner {\n  background: #302e2e;\n}\n.ag-dark select {\n  background-color: #302e2e;\n  color: #ccc;\n}\n.ag-dark input {\n  background-color: #302e2e;\n  color: #ccc;\n}\n",""])},function(module,exports,__webpack_require__){var content=__webpack_require__(148);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(142)(content,{});content.locals&&(module.exports=content.locals),!1},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(141)(),exports.push([module.id,".ag-blue {\n  line-height: 1.4;\n  font-family: Calibri, \"Segoe UI\", Thonburi, Arial, Verdana, sans-serif;\n  font-size: 10pt;\n  color: #222;\n/* this is for the rowGroupPanel, that appears along the top of the grid */\n/* this is for the column drops that appear in the toolPanel */\n}\n.ag-blue img {\n  vertical-align: middle;\n  border: 0;\n}\n.ag-blue .ag-root {\n  border: 1px solid #9bc2e6;\n}\n.ag-blue .ag-cell-not-inline-editing {\n  padding: 2px;\n}\n.ag-blue .ag-cell-range-selected-1:not(.ag-cell-focus) {\n  background-color: rgba(120,120,120,0.4);\n}\n.ag-blue .ag-cell-range-selected-2:not(.ag-cell-focus) {\n  background-color: rgba(80,80,80,0.4);\n}\n.ag-blue .ag-cell-range-selected-3:not(.ag-cell-focus) {\n  background-color: rgba(40,40,40,0.4);\n}\n.ag-blue .ag-cell-range-selected-4:not(.ag-cell-focus) {\n  background-color: rgba(0,0,0,0.4);\n}\n.ag-blue .ag-column-moving .ag-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-blue .ag-column-moving .ag-header-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-blue .ag-column-moving .ag-header-group-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-blue .ag-cell-focus {\n  border: 2px solid #217346;\n}\n.ag-blue .ag-cell-no-focus {\n  border-right: 1px dotted #9bc2e6;\n  border-top: 2px solid transparent;\n  border-left: 2px solid transparent;\n  border-bottom: 1px dotted #9bc2e6;\n}\n.ag-blue .ag-cell-first-right-pinned {\n  border-left: 1px solid #9bc2e6;\n}\n.ag-blue .ag-cell-last-left-pinned {\n  border-right: 1px solid #9bc2e6;\n}\n.ag-blue .ag-cell-highlight {\n  border: 1px solid #006400;\n}\n.ag-blue .ag-cell-highlight-animation {\n  -webkit-transition: border 1s;\n  -moz-transition: border 1s;\n  -o-transition: border 1s;\n  -ms-transition: border 1s;\n  transition: border 1s;\n}\n.ag-blue .ag-value-change-delta {\n  padding-right: 2px;\n}\n.ag-blue .ag-value-change-delta-up {\n  color: #006400;\n}\n.ag-blue .ag-value-change-delta-down {\n  color: #8b0000;\n}\n.ag-blue .ag-value-change-value {\n  background-color: transparent;\n  border-radius: 1px;\n  padding-left: 1px;\n  padding-right: 1px;\n  -webkit-transition: background-color 1s;\n  -moz-transition: background-color 1s;\n  -o-transition: background-color 1s;\n  -ms-transition: background-color 1s;\n  transition: background-color 1s;\n}\n.ag-blue .ag-value-change-value-highlight {\n  background-color: #cec;\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-blue .ag-rich-select {\n  font-size: 14px;\n  border: 1px solid #9bc2e6;\n  background-color: #fff;\n}\n.ag-blue .ag-rich-select-value {\n  padding: 2px;\n}\n.ag-blue .ag-rich-select-list {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-blue .ag-rich-select-row {\n  padding: 2px;\n}\n.ag-blue .ag-rich-select-row-selected {\n  background-color: #c7c7c7;\n}\n.ag-blue .ag-large-text {\n  border: 1px solid #9bc2e6;\n}\n.ag-blue .ag-header {\n  color: #fff;\n  background: #5b9bd5;\n  border-bottom: 1px solid #9bc2e6;\n  font-weight: 600;\n}\n.ag-blue .ag-header-icon {\n  color: #fff;\n  stroke: none;\n  fill: #fff;\n}\n.ag-blue .ag-no-scrolls .ag-header-container {\n  background: #5b9bd5;\n  border-bottom: 1px solid #9bc2e6;\n}\n.ag-blue .ag-header-cell {\n  border-right: 1px solid #9bc2e6;\n}\n.ag-blue .ag-header-cell-moving {\n  background-color: #bebebe;\n}\n.ag-blue .ag-header-group-cell {\n  border-right: 1px solid #9bc2e6;\n}\n.ag-blue .ag-header-group-cell-with-group {\n  border-bottom: 1px solid #9bc2e6;\n}\n.ag-blue .ag-header-cell-label {\n  padding: 4px 2px 4px 2px;\n}\n.ag-blue .ag-header-cell-text {\n  padding-left: 2px;\n}\n.ag-blue .ag-header-group-cell-label {\n  padding: 4px;\n  padding-left: 10px;\n}\n.ag-blue .ag-header-group-text {\n  margin-right: 2px;\n}\n.ag-blue .ag-header-cell-menu-button {\n  padding: 2px;\n  margin-top: 4px;\n  border: 1px solid transparent;\n  border-radius: 3px;\n  -webkit-box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  -moz-box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  line-height: 0px /* normal line height, a space was appearing below the menu button */;\n}\n.ag-blue .ag-pinned-right-header {\n  border-left: 1px solid #9bc2e6;\n}\n.ag-blue .ag-header-cell-menu-button:hover {\n  border: 1px solid #9bc2e6;\n}\n.ag-blue .ag-body {\n  background-color: #f6f6f6;\n}\n.ag-blue .ag-row {\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-blue .ag-row-odd {\n  background-color: #ddebf7;\n}\n.ag-blue .ag-row-even {\n  background-color: #fff;\n}\n.ag-blue .ag-row-selected {\n  background-color: #c7c7c7;\n}\n.ag-blue .ag-floating-top .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-blue .ag-floating-bottom .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-blue .ag-overlay-loading-wrapper {\n  background-color: rgba(255,255,255,0.5);\n}\n.ag-blue .ag-overlay-loading-center {\n  background-color: #fff;\n  border: 1px solid #9bc2e6;\n  border-radius: 10px;\n  padding: 10px;\n  color: #000;\n}\n.ag-blue .ag-overlay-no-rows-center {\n  background-color: #fff;\n  border: 1px solid #9bc2e6;\n  border-radius: 10px;\n  padding: 10px;\n}\n.ag-blue .ag-group-cell-entire-row {\n  background-color: #f6f6f6;\n  padding: 2px;\n}\n.ag-blue .ag-footer-cell-entire-row {\n  background-color: #f6f6f6;\n  padding: 2px;\n}\n.ag-blue .ag-group-cell {\n  font-style: italic;\n}\n.ag-blue .ag-group-expanded {\n  padding-right: 4px;\n}\n.ag-blue .ag-group-contracted {\n  padding-right: 4px;\n}\n.ag-blue .ag-group-value {\n  padding-right: 2px;\n}\n.ag-blue .ag-group-checkbox {\n  padding-right: 2px;\n}\n.ag-blue .ag-footer-cell {\n  font-style: italic;\n}\n.ag-blue .ag-menu {\n  border: 1px solid #808080;\n  background-color: #f6f6f6;\n  cursor: default;\n  font-family: Calibri, \"Segoe UI\", Thonburi, Arial, Verdana, sans-serif;\n  font-size: 10pt;\n}\n.ag-blue .ag-menu .ag-tab-header {\n  background-color: #5b9bd5;\n}\n.ag-blue .ag-menu .ag-tab {\n  padding: 6px 8px 6px 8px;\n  margin: 2px 2px 0px 2px;\n  display: inline-block;\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-top: 1px solid transparent;\n  border-top-right-radius: 2px;\n  border-top-left-radius: 2px;\n}\n.ag-blue .ag-menu .ag-tab-selected {\n  background-color: #9bc2e6;\n  border-right: 1px solid #d3d3d3;\n  border-left: 1px solid #d3d3d3;\n  border-top: 1px solid #d3d3d3;\n}\n.ag-blue .ag-menu-separator {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-blue .ag-menu-option-active {\n  background-color: #c7c7c7;\n}\n.ag-blue .ag-menu-option-icon {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-blue .ag-menu-option-text {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-blue .ag-menu-option-shortcut {\n  padding: 2px 2px 2px 20px;\n  vertical-align: middle;\n}\n.ag-blue .ag-menu-option-popup-pointer {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-blue .ag-menu-option-disabled {\n  opacity: 0.5;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n  filter: alpha(opacity=50);\n}\n.ag-blue .ag-menu-column-select-wrapper {\n  margin: 2px;\n}\n.ag-blue .ag-filter-checkbox {\n  position: relative;\n  top: 2px;\n  left: 2px;\n}\n.ag-blue .ag-filter-header-container {\n  border-bottom: 1px solid #d3d3d3;\n}\n.ag-blue .ag-filter-apply-panel {\n  border-top: 1px solid #d3d3d3;\n  padding: 2px;\n}\n.ag-blue .ag-filter-value {\n  margin-left: 4px;\n}\n.ag-blue .ag-selection-checkbox {\n  padding-right: 4px;\n}\n.ag-blue .ag-paging-panel {\n  padding: 4px;\n}\n.ag-blue .ag-paging-button {\n  margin-left: 4px;\n  margin-right: 4px;\n}\n.ag-blue .ag-paging-row-summary-panel {\n  display: inline-block;\n  width: 300px;\n}\n.ag-blue .ag-tool-panel {\n  background-color: #f6f6f6;\n  border-right: 1px solid #9bc2e6;\n  border-bottom: 1px solid #9bc2e6;\n  border-top: 1px solid #9bc2e6;\n  color: #222;\n}\n.ag-blue .ag-status-bar {\n  color: #222;\n  background-color: #f6f6f6;\n  font-size: 10pt;\n  height: 22px;\n  border-bottom: 1px solid #9bc2e6;\n  border-left: 1px solid #9bc2e6;\n  border-right: 1px solid #9bc2e6;\n  padding: 2px;\n}\n.ag-blue .ag-status-bar-aggregations {\n  float: right;\n}\n.ag-blue .ag-status-bar-item {\n  padding-left: 10px;\n}\n.ag-blue .ag-column-drop-cell {\n  background: #ddebf7;\n  color: #000;\n  border: 1px solid #808080;\n}\n.ag-blue .ag-column-drop-cell-ghost {\n  opacity: 0.5;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n  filter: alpha(opacity=50);\n}\n.ag-blue .ag-column-drop-cell-text {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-blue .ag-column-drop-cell-button {\n  border: 1px solid transparent;\n  padding-left: 2px;\n  padding-right: 2px;\n  border-radius: 3px;\n}\n.ag-blue .ag-column-drop-cell-button:hover {\n  border: 1px solid #9bc2e6;\n}\n.ag-blue .ag-column-drop-empty-message {\n  padding-left: 2px;\n  padding-right: 2px;\n  color: #808080;\n}\n.ag-blue .ag-column-drop-icon {\n  padding-right: 4px;\n}\n.ag-blue .ag-column-drop {\n  background-color: #f6f6f6;\n}\n.ag-blue .ag-column-drop-horizontal {\n  padding: 4px 4px 4px 4px;\n  border-top: 1px solid #9bc2e6;\n  border-left: 1px solid #9bc2e6;\n  border-right: 1px solid #9bc2e6;\n}\n.ag-blue .ag-column-drop-horizontal .ag-column-drop-cell {\n  padding: 2px;\n}\n.ag-blue .ag-column-drop-vertical {\n  padding: 4px 4px 10px 4px;\n  border-bottom: 1px solid #9bc2e6;\n}\n.ag-blue .ag-column-drop-vertical .ag-column-drop-cell {\n  margin-top: 2px;\n}\n.ag-blue .ag-column-drop-vertical .ag-column-drop-empty-message {\n  text-align: center;\n  padding: 5px;\n}\n.ag-blue .ag-pivot-mode {\n  border-bottom: 1px solid #9bc2e6;\n  padding: 4px;\n  background-color: #f6f6f6;\n}\n.ag-blue .ag-tool-panel .ag-column-select-panel {\n  border-bottom: 1px solid #9bc2e6;\n}\n.ag-blue .ag-select-agg-func-popup {\n  cursor: default;\n  position: absolute;\n  font-size: 14px;\n  background-color: #fff;\n  border: 1px solid #9bc2e6;\n}\n.ag-blue .ag-select-agg-func-item {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-blue .ag-select-agg-func-item:hover {\n  background-color: #c7c7c7;\n}\n",""])},function(module,exports,__webpack_require__){var content=__webpack_require__(150);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(142)(content,{});content.locals&&(module.exports=content.locals),!1},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(141)(),exports.push([module.id,".ag-material {\n  line-height: 1.4;\n  font-family: Roboto;\n  font-size: 14px;\n  color: #666;\n/* this is for the rowGroupPanel, that appears along the top of the grid */\n/* this is for the column drops that appear in the toolPanel */\n}\n.ag-material img {\n  vertical-align: middle;\n  border: 0;\n}\n.ag-material .ag-root {\n  border: none;\n}\n.ag-material .ag-cell-not-inline-editing {\n  padding: 2px;\n}\n.ag-material .ag-cell-range-selected-1:not(.ag-cell-focus) {\n  background-color: rgba(120,120,120,0.4);\n}\n.ag-material .ag-cell-range-selected-2:not(.ag-cell-focus) {\n  background-color: rgba(80,80,80,0.4);\n}\n.ag-material .ag-cell-range-selected-3:not(.ag-cell-focus) {\n  background-color: rgba(40,40,40,0.4);\n}\n.ag-material .ag-cell-range-selected-4:not(.ag-cell-focus) {\n  background-color: rgba(0,0,0,0.4);\n}\n.ag-material .ag-column-moving .ag-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-material .ag-column-moving .ag-header-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-material .ag-column-moving .ag-header-group-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-material .ag-cell-focus {\n  border: 1px solid #d3d3d3;\n}\n.ag-material .ag-cell-no-focus {\n  border-right: 1px solid transparent;\n  border-top: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-bottom: 1px solid #d3d3d3;\n}\n.ag-material .ag-cell-first-right-pinned {\n  border-left: none;\n}\n.ag-material .ag-cell-last-left-pinned {\n  border-right: none;\n}\n.ag-material .ag-cell-highlight {\n  border: 1px solid #006400;\n}\n.ag-material .ag-cell-highlight-animation {\n  -webkit-transition: border 1s;\n  -moz-transition: border 1s;\n  -o-transition: border 1s;\n  -ms-transition: border 1s;\n  transition: border 1s;\n}\n.ag-material .ag-value-change-delta {\n  padding-right: 2px;\n}\n.ag-material .ag-value-change-delta-up {\n  color: #006400;\n}\n.ag-material .ag-value-change-delta-down {\n  color: #8b0000;\n}\n.ag-material .ag-value-change-value {\n  background-color: transparent;\n  border-radius: 1px;\n  padding-left: 1px;\n  padding-right: 1px;\n  -webkit-transition: background-color 1s;\n  -moz-transition: background-color 1s;\n  -o-transition: background-color 1s;\n  -ms-transition: background-color 1s;\n  transition: background-color 1s;\n}\n.ag-material .ag-value-change-value-highlight {\n  background-color: #cec;\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-material .ag-rich-select {\n  font-size: 14px;\n  border: none;\n  background-color: #fff;\n}\n.ag-material .ag-rich-select-value {\n  padding: 2px;\n}\n.ag-material .ag-rich-select-list {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-material .ag-rich-select-row {\n  padding: 2px;\n}\n.ag-material .ag-rich-select-row-selected {\n  background-color: #bde2e5;\n}\n.ag-material .ag-large-text {\n  border: none;\n}\n.ag-material .ag-header {\n  color: #666;\n  background: none;\n  border-bottom: none;\n  font-weight: bold;\n}\n.ag-material .ag-header-icon {\n  color: #666;\n  stroke: none;\n  fill: #666;\n}\n.ag-material .ag-no-scrolls .ag-header-container {\n  background: none;\n  border-bottom: none;\n}\n.ag-material .ag-header-cell {\n  border-right: none;\n}\n.ag-material .ag-header-cell-moving {\n  background-color: #bebebe;\n}\n.ag-material .ag-header-group-cell {\n  border-right: none;\n}\n.ag-material .ag-header-group-cell-with-group {\n  border-bottom: none;\n}\n.ag-material .ag-header-cell-label {\n  padding: 4px 2px 4px 2px;\n}\n.ag-material .ag-header-cell-text {\n  padding-left: 2px;\n}\n.ag-material .ag-header-group-cell-label {\n  padding: 4px;\n  padding-left: 10px;\n}\n.ag-material .ag-header-group-text {\n  margin-right: 2px;\n}\n.ag-material .ag-header-cell-menu-button {\n  padding: 2px;\n  margin-top: 4px;\n  border: 1px solid transparent;\n  border-radius: 3px;\n  -webkit-box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  -moz-box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  line-height: 0px /* normal line height, a space was appearing below the menu button */;\n}\n.ag-material .ag-pinned-right-header {\n  border-left: none;\n}\n.ag-material .ag-header-cell-menu-button:hover {\n  border: none;\n}\n.ag-material .ag-body {\n  background-color: #fff;\n}\n.ag-material .ag-row {\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-material .ag-row-odd {\n  background-color: #fff;\n}\n.ag-material .ag-row-even {\n  background-color: #fff;\n}\n.ag-material .ag-row-selected {\n  background-color: #f5f5f5;\n}\n.ag-material .ag-floating-top .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-material .ag-floating-bottom .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-material .ag-overlay-loading-wrapper {\n  background-color: rgba(255,255,255,0.5);\n}\n.ag-material .ag-overlay-loading-center {\n  background-color: #fff;\n  border: none;\n  border-radius: 10px;\n  padding: 10px;\n  color: #000;\n}\n.ag-material .ag-overlay-no-rows-center {\n  background-color: #fff;\n  border: none;\n  border-radius: 10px;\n  padding: 10px;\n}\n.ag-material .ag-group-cell-entire-row {\n  background-color: #fff;\n  padding: 2px;\n}\n.ag-material .ag-footer-cell-entire-row {\n  background-color: #fff;\n  padding: 2px;\n}\n.ag-material .ag-group-cell {\n  font-style: italic;\n}\n.ag-material .ag-group-expanded {\n  padding-right: 4px;\n}\n.ag-material .ag-group-contracted {\n  padding-right: 4px;\n}\n.ag-material .ag-group-value {\n  padding-right: 2px;\n}\n.ag-material .ag-group-checkbox {\n  padding-right: 2px;\n}\n.ag-material .ag-footer-cell {\n  font-style: italic;\n}\n.ag-material .ag-menu {\n  border: 1px solid #808080;\n  background-color: #fff;\n  cursor: default;\n  font-family: Roboto;\n  font-size: 14px;\n}\n.ag-material .ag-menu .ag-tab-header {\n  background-color: #f6f6f6;\n}\n.ag-material .ag-menu .ag-tab {\n  padding: 6px 16px 6px 16px;\n  margin: 2px 2px 0px 2px;\n  display: inline-block;\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-top: 1px solid transparent;\n  border-top-right-radius: 2px;\n  border-top-left-radius: 2px;\n}\n.ag-material .ag-menu .ag-tab-selected {\n  background-color: #fff;\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-top: 1px solid transparent;\n}\n.ag-material .ag-menu-separator {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-material .ag-menu-option-active {\n  background-color: #bde2e5;\n}\n.ag-material .ag-menu-option-icon {\n  padding: 10px 6px 10px 6px;\n  vertical-align: middle;\n}\n.ag-material .ag-menu-option-text {\n  padding: 10px 6px 10px 6px;\n  vertical-align: middle;\n}\n.ag-material .ag-menu-option-shortcut {\n  padding: 10px 6px 10px 20px;\n  vertical-align: middle;\n}\n.ag-material .ag-menu-option-popup-pointer {\n  padding: 10px 6px 10px 6px;\n  vertical-align: middle;\n}\n.ag-material .ag-menu-option-disabled {\n  opacity: 0.5;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n  filter: alpha(opacity=50);\n}\n.ag-material .ag-menu-column-select-wrapper {\n  margin: 2px;\n}\n.ag-material .ag-filter-checkbox {\n  position: relative;\n  top: 2px;\n  left: 2px;\n}\n.ag-material .ag-filter-header-container {\n  border-bottom: 1px solid #d3d3d3;\n}\n.ag-material .ag-filter-apply-panel {\n  border-top: 1px solid #d3d3d3;\n  padding: 2px;\n}\n.ag-material .ag-filter-value {\n  margin-left: 4px;\n}\n.ag-material .ag-selection-checkbox {\n  padding-right: 4px;\n}\n.ag-material .ag-paging-panel {\n  padding: 4px;\n}\n.ag-material .ag-paging-button {\n  margin-left: 4px;\n  margin-right: 4px;\n}\n.ag-material .ag-paging-row-summary-panel {\n  display: inline-block;\n  width: 300px;\n}\n.ag-material .ag-tool-panel {\n  background-color: #fff;\n  border-right: none;\n  border-bottom: none;\n  border-top: none;\n  color: #666;\n}\n.ag-material .ag-status-bar {\n  color: #666;\n  background-color: #fff;\n  font-size: 14px;\n  height: 22px;\n  border-bottom: none;\n  border-left: none;\n  border-right: none;\n  padding: 2px;\n}\n.ag-material .ag-status-bar-aggregations {\n  float: right;\n}\n.ag-material .ag-status-bar-item {\n  padding-left: 10px;\n}\n.ag-material .ag-column-drop-cell {\n  background: none;\n  color: #000;\n  border: 1px solid #808080;\n}\n.ag-material .ag-column-drop-cell-ghost {\n  opacity: 0.5;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n  filter: alpha(opacity=50);\n}\n.ag-material .ag-column-drop-cell-text {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-material .ag-column-drop-cell-button {\n  border: 1px solid transparent;\n  padding-left: 2px;\n  padding-right: 2px;\n  border-radius: 3px;\n}\n.ag-material .ag-column-drop-cell-button:hover {\n  border: none;\n}\n.ag-material .ag-column-drop-empty-message {\n  padding-left: 2px;\n  padding-right: 2px;\n  color: #808080;\n}\n.ag-material .ag-column-drop-icon {\n  padding-right: 4px;\n}\n.ag-material .ag-column-drop {\n  background-color: #fff;\n}\n.ag-material .ag-column-drop-horizontal {\n  padding: 4px 4px 4px 4px;\n  border-top: none;\n  border-left: none;\n  border-right: none;\n}\n.ag-material .ag-column-drop-horizontal .ag-column-drop-cell {\n  padding: 2px;\n}\n.ag-material .ag-column-drop-vertical {\n  padding: 4px 4px 10px 4px;\n  border-bottom: none;\n}\n.ag-material .ag-column-drop-vertical .ag-column-drop-cell {\n  margin-top: 2px;\n}\n.ag-material .ag-column-drop-vertical .ag-column-drop-empty-message {\n  text-align: center;\n  padding: 5px;\n}\n.ag-material .ag-pivot-mode {\n  border-bottom: none;\n  padding: 4px;\n  background-color: #fff;\n}\n.ag-material .ag-tool-panel .ag-column-select-panel {\n  border-bottom: none;\n}\n.ag-material .ag-select-agg-func-popup {\n  cursor: default;\n  position: absolute;\n  font-size: 14px;\n  background-color: #fff;\n  border: none;\n}\n.ag-material .ag-select-agg-func-item {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-material .ag-select-agg-func-item:hover {\n  background-color: #bde2e5;\n}\n.ag-material .ag-row-hover {\n  background-color: #eee !important;\n}\n.ag-material .ag-cell-not-inline-editing {\n  padding-top: 15px;\n}\n.ag-material .ag-header-cell-menu-button:hover {\n  border: 1px solid #808080;\n}\n.ag-material .ag-header-cell-label {\n  text-align: left;\n}\n.ag-material .ag-header {\n  border-bottom: 1px solid #808080;\n}\n.ag-material .ag-selection-checkbox {\n  padding-right: 12px;\n  padding-left: 12px;\n}\n",""])},function(module,exports,__webpack_require__){var content=__webpack_require__(152);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(142)(content,{});content.locals&&(module.exports=content.locals),!1},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(141)(),exports.push([module.id,".ag-bootstrap {\n  line-height: 1.4;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  color: #000;\n/* this is for the rowGroupPanel, that appears along the top of the grid */\n/* this is for the column drops that appear in the toolPanel */\n}\n.ag-bootstrap img {\n  vertical-align: middle;\n  border: 0;\n}\n.ag-bootstrap .ag-root {\n  border: none;\n}\n.ag-bootstrap .ag-cell-not-inline-editing {\n  padding: 4px;\n}\n.ag-bootstrap .ag-cell-range-selected-1:not(.ag-cell-focus) {\n  background-color: rgba(120,120,120,0.4);\n}\n.ag-bootstrap .ag-cell-range-selected-2:not(.ag-cell-focus) {\n  background-color: rgba(80,80,80,0.4);\n}\n.ag-bootstrap .ag-cell-range-selected-3:not(.ag-cell-focus) {\n  background-color: rgba(40,40,40,0.4);\n}\n.ag-bootstrap .ag-cell-range-selected-4:not(.ag-cell-focus) {\n  background-color: rgba(0,0,0,0.4);\n}\n.ag-bootstrap .ag-column-moving .ag-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-bootstrap .ag-column-moving .ag-header-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-bootstrap .ag-column-moving .ag-header-group-cell {\n  -webkit-transition: left 0.2s;\n  -moz-transition: left 0.2s;\n  -o-transition: left 0.2s;\n  -ms-transition: left 0.2s;\n  transition: left 0.2s;\n}\n.ag-bootstrap .ag-cell-focus {\n  border: 2px solid #217346;\n}\n.ag-bootstrap .ag-cell-no-focus {\n  border-right: none;\n  border-top: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-bottom: 1px solid transparent;\n}\n.ag-bootstrap .ag-cell-first-right-pinned {\n  border-left: none;\n}\n.ag-bootstrap .ag-cell-last-left-pinned {\n  border-right: none;\n}\n.ag-bootstrap .ag-cell-highlight {\n  border: 1px solid #006400;\n}\n.ag-bootstrap .ag-cell-highlight-animation {\n  -webkit-transition: border 1s;\n  -moz-transition: border 1s;\n  -o-transition: border 1s;\n  -ms-transition: border 1s;\n  transition: border 1s;\n}\n.ag-bootstrap .ag-value-change-delta {\n  padding-right: 2px;\n}\n.ag-bootstrap .ag-value-change-delta-up {\n  color: #006400;\n}\n.ag-bootstrap .ag-value-change-delta-down {\n  color: #8b0000;\n}\n.ag-bootstrap .ag-value-change-value {\n  background-color: transparent;\n  border-radius: 1px;\n  padding-left: 1px;\n  padding-right: 1px;\n  -webkit-transition: background-color 1s;\n  -moz-transition: background-color 1s;\n  -o-transition: background-color 1s;\n  -ms-transition: background-color 1s;\n  transition: background-color 1s;\n}\n.ag-bootstrap .ag-value-change-value-highlight {\n  background-color: #cec;\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-bootstrap .ag-rich-select {\n  font-size: 14px;\n  border: none;\n  background-color: #fff;\n}\n.ag-bootstrap .ag-rich-select-value {\n  padding: 2px;\n}\n.ag-bootstrap .ag-rich-select-list {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-bootstrap .ag-rich-select-row {\n  padding: 2px;\n}\n.ag-bootstrap .ag-rich-select-row-selected {\n  background-color: #bde2e5;\n}\n.ag-bootstrap .ag-large-text {\n  border: none;\n}\n.ag-bootstrap .ag-header {\n  color: #000;\n  background: none;\n  border-bottom: none;\n  font-weight: 600;\n}\n.ag-bootstrap .ag-header-icon {\n  color: #000;\n  stroke: none;\n  fill: #000;\n}\n.ag-bootstrap .ag-no-scrolls .ag-header-container {\n  background: none;\n  border-bottom: none;\n}\n.ag-bootstrap .ag-header-cell {\n  border-right: none;\n}\n.ag-bootstrap .ag-header-cell-moving {\n  background-color: #bebebe;\n}\n.ag-bootstrap .ag-header-group-cell {\n  border-right: none;\n}\n.ag-bootstrap .ag-header-group-cell-with-group {\n  border-bottom: none;\n}\n.ag-bootstrap .ag-header-cell-label {\n  padding: 4px 2px 4px 2px;\n}\n.ag-bootstrap .ag-header-cell-text {\n  padding-left: 2px;\n}\n.ag-bootstrap .ag-header-group-cell-label {\n  padding: 4px;\n  padding-left: 10px;\n}\n.ag-bootstrap .ag-header-group-text {\n  margin-right: 2px;\n}\n.ag-bootstrap .ag-header-cell-menu-button {\n  padding: 2px;\n  margin-top: 4px;\n  border: 1px solid transparent;\n  border-radius: 3px;\n  -webkit-box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  -moz-box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  box-sizing: content-box /* When using bootstrap, box-sizing was set to 'border-box' */;\n  line-height: 0px /* normal line height, a space was appearing below the menu button */;\n}\n.ag-bootstrap .ag-pinned-right-header {\n  border-left: none;\n}\n.ag-bootstrap .ag-header-cell-menu-button:hover {\n  border: none;\n}\n.ag-bootstrap .ag-body {\n  background-color: #f6f6f6;\n}\n.ag-bootstrap .ag-row {\n  -webkit-transition: background-color 0.1s;\n  -moz-transition: background-color 0.1s;\n  -o-transition: background-color 0.1s;\n  -ms-transition: background-color 0.1s;\n  transition: background-color 0.1s;\n}\n.ag-bootstrap .ag-row-odd {\n  background-color: #f6f6f6;\n}\n.ag-bootstrap .ag-row-even {\n  background-color: #fff;\n}\n.ag-bootstrap .ag-row-selected {\n  background-color: #b0e0e6;\n}\n.ag-bootstrap .ag-floating-top .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-bootstrap .ag-floating-bottom .ag-row {\n  background-color: #f0f0f0;\n}\n.ag-bootstrap .ag-overlay-loading-wrapper {\n  background-color: rgba(255,255,255,0.5);\n}\n.ag-bootstrap .ag-overlay-loading-center {\n  background-color: #fff;\n  border: none;\n  border-radius: 10px;\n  padding: 10px;\n  color: #000;\n}\n.ag-bootstrap .ag-overlay-no-rows-center {\n  background-color: #fff;\n  border: none;\n  border-radius: 10px;\n  padding: 10px;\n}\n.ag-bootstrap .ag-group-cell-entire-row {\n  background-color: #f6f6f6;\n  padding: 4px;\n}\n.ag-bootstrap .ag-footer-cell-entire-row {\n  background-color: #f6f6f6;\n  padding: 4px;\n}\n.ag-bootstrap .ag-group-cell {\n  font-style: italic;\n}\n.ag-bootstrap .ag-group-expanded {\n  padding-right: 4px;\n}\n.ag-bootstrap .ag-group-contracted {\n  padding-right: 4px;\n}\n.ag-bootstrap .ag-group-value {\n  padding-right: 2px;\n}\n.ag-bootstrap .ag-group-checkbox {\n  padding-right: 2px;\n}\n.ag-bootstrap .ag-footer-cell {\n  font-style: italic;\n}\n.ag-bootstrap .ag-menu {\n  border: 1px solid #808080;\n  background-color: #f6f6f6;\n  cursor: default;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  font-size: 14px;\n}\n.ag-bootstrap .ag-menu .ag-tab-header {\n  background-color: #e6e6e6;\n}\n.ag-bootstrap .ag-menu .ag-tab {\n  padding: 6px 8px 6px 8px;\n  margin: 2px 2px 0px 2px;\n  display: inline-block;\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  border-top: 1px solid transparent;\n  border-top-right-radius: 2px;\n  border-top-left-radius: 2px;\n}\n.ag-bootstrap .ag-menu .ag-tab-selected {\n  background-color: #f6f6f6;\n  border-right: 1px solid #d3d3d3;\n  border-left: 1px solid #d3d3d3;\n  border-top: 1px solid #d3d3d3;\n}\n.ag-bootstrap .ag-menu-separator {\n  border-top: 1px solid #d3d3d3;\n}\n.ag-bootstrap .ag-menu-option-active {\n  background-color: #bde2e5;\n}\n.ag-bootstrap .ag-menu-option-icon {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-bootstrap .ag-menu-option-text {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-bootstrap .ag-menu-option-shortcut {\n  padding: 2px 2px 2px 20px;\n  vertical-align: middle;\n}\n.ag-bootstrap .ag-menu-option-popup-pointer {\n  padding: 2px 4px 2px 4px;\n  vertical-align: middle;\n}\n.ag-bootstrap .ag-menu-option-disabled {\n  opacity: 0.5;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n  filter: alpha(opacity=50);\n}\n.ag-bootstrap .ag-menu-column-select-wrapper {\n  margin: 2px;\n}\n.ag-bootstrap .ag-filter-checkbox {\n  position: relative;\n  top: 2px;\n  left: 2px;\n}\n.ag-bootstrap .ag-filter-header-container {\n  border-bottom: 1px solid #d3d3d3;\n}\n.ag-bootstrap .ag-filter-apply-panel {\n  border-top: 1px solid #d3d3d3;\n  padding: 2px;\n}\n.ag-bootstrap .ag-filter-value {\n  margin-left: 4px;\n}\n.ag-bootstrap .ag-selection-checkbox {\n  padding-right: 4px;\n}\n.ag-bootstrap .ag-paging-panel {\n  padding: 4px;\n}\n.ag-bootstrap .ag-paging-button {\n  margin-left: 4px;\n  margin-right: 4px;\n}\n.ag-bootstrap .ag-paging-row-summary-panel {\n  display: inline-block;\n  width: 300px;\n}\n.ag-bootstrap .ag-tool-panel {\n  background-color: #f6f6f6;\n  border-right: none;\n  border-bottom: none;\n  border-top: none;\n  color: #000;\n}\n.ag-bootstrap .ag-status-bar {\n  color: #000;\n  background-color: #f6f6f6;\n  font-size: 14px;\n  height: 22px;\n  border-bottom: none;\n  border-left: none;\n  border-right: none;\n  padding: 2px;\n}\n.ag-bootstrap .ag-status-bar-aggregations {\n  float: right;\n}\n.ag-bootstrap .ag-status-bar-item {\n  padding-left: 10px;\n}\n.ag-bootstrap .ag-column-drop-cell {\n  background: none;\n  color: #000;\n  border: 1px solid #808080;\n}\n.ag-bootstrap .ag-column-drop-cell-ghost {\n  opacity: 0.5;\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n  filter: alpha(opacity=50);\n}\n.ag-bootstrap .ag-column-drop-cell-text {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-bootstrap .ag-column-drop-cell-button {\n  border: 1px solid transparent;\n  padding-left: 2px;\n  padding-right: 2px;\n  border-radius: 3px;\n}\n.ag-bootstrap .ag-column-drop-cell-button:hover {\n  border: none;\n}\n.ag-bootstrap .ag-column-drop-empty-message {\n  padding-left: 2px;\n  padding-right: 2px;\n  color: #808080;\n}\n.ag-bootstrap .ag-column-drop-icon {\n  padding-right: 4px;\n}\n.ag-bootstrap .ag-column-drop {\n  background-color: #f6f6f6;\n}\n.ag-bootstrap .ag-column-drop-horizontal {\n  padding: 4px 4px 4px 4px;\n  border-top: none;\n  border-left: none;\n  border-right: none;\n}\n.ag-bootstrap .ag-column-drop-horizontal .ag-column-drop-cell {\n  padding: 2px;\n}\n.ag-bootstrap .ag-column-drop-vertical {\n  padding: 4px 4px 10px 4px;\n  border-bottom: none;\n}\n.ag-bootstrap .ag-column-drop-vertical .ag-column-drop-cell {\n  margin-top: 2px;\n}\n.ag-bootstrap .ag-column-drop-vertical .ag-column-drop-empty-message {\n  text-align: center;\n  padding: 5px;\n}\n.ag-bootstrap .ag-pivot-mode {\n  border-bottom: none;\n  padding: 4px;\n  background-color: #f6f6f6;\n}\n.ag-bootstrap .ag-tool-panel .ag-column-select-panel {\n  border-bottom: none;\n}\n.ag-bootstrap .ag-select-agg-func-popup {\n  cursor: default;\n  position: absolute;\n  font-size: 14px;\n  background-color: #fff;\n  border: none;\n}\n.ag-bootstrap .ag-select-agg-func-item {\n  padding-left: 2px;\n  padding-right: 2px;\n}\n.ag-bootstrap .ag-select-agg-func-item:hover {\n  background-color: #bde2e5;\n}\n",""])}])});(function(f){if("object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define("fin-grid",[],f);else{var g;g="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,g.standalone=f()}})(function(){var _Mathsign=Math.sign,_Mathceil4=Math.ceil,_Mathfloor7=Math.floor,_Mathabs10=Math.abs,_MathPI2=Math.PI,_Mathmin7=Math.min,_Mathmax8=Math.max,_Mathround7=Math.round,define;return function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}return e}()({1:[function(require,module,exports){"use strict";exports.grid=[".hypergrid-container {","\tposition: relative;","\theight: 510px;","}",".hypergrid-container > div:first-child {","\tposition: absolute;","\tleft: 0;","\ttop: 0;","\tright: 0;","\tbottom: 0;","}",".hypergrid-container > div:first-child > div.info {","\tposition: absolute;","\tdisplay: none; /* initially hidden */","\tmargin-top: 150px; /* to place below headers */","\tcolor: #eee;","\ttext-shadow: 1px 1px #ccc;","\tfont-size: 36pt;","\tfont-weight: bold;","\ttext-align: center;","\ttop: 0; right: 0; bottom: 0; left: 0;","}",".hypergrid-textfield {","\tposition: absolute;","\tfont-size: 12px;","\tcolor: black;","\t/*background-color: ivory;*/","\tbox-sizing: border-box;","\tmargin: 0;","\tpadding-right: 5px;","\tpadding-left: 5px;","\tpadding-bottom: 2px;","\tborder: 1px #5292f7 solid;","\t/*border: 0; */","\t/*border: 1px solid #777;*/","\toutline: 0;","\t-webkit-box-shadow: 0 2px 5px rgba(0,0,0,0.4);","\t-moz-box-shadow: 0 2px 5px rgba(0,0,0,0.4);","\tbox-shadow: 0 2px 5px rgba(0,0,0,0.4);","}","",".fin-link-details-div > a:hover {","\ttext-decoration: underline !important;","}","","",""].join("\n")},{}],2:[function(require,module){"use strict";module.exports={calendar:{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAc0lEQVR4nIXQwQkCMRSE4U9ZLMCT9Xjaq2AfNhfYU5oQLMAOtoN48EWei5iBIRPe/yYQ3qrhf1lFG7iKcEaJxSfukUvMWgdHavt0uWHtg2QwxXnAnJZ2uOLyVZtybzzhgWNmfoFl0/YB87NbzR1cjP9xeQHSDC6mcL1xFQAAAABJRU5ErkJggg=="},checked:{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA0AAAAPCAYAAAA/I0V3AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAAYJJREFUOE+NkstLglEQxf0fahG0iFrUxm2ElFDYLohCqCDaCAkWPaxIRbFFEJEaGEKLDCoMETRFUAMLyaIHBUG6sSKIMtKFqEhLT818ZUgmDhzu3DPn9z0uV1RrmUwmyGQyqNVqfFvViwBxu5RFPZuLSyGMKhz/qlEsRV19K8xm6y+w7bpBPFnAferjj3bdQX6DpHcAUwavAHUN2RGIZxBJZHH2mC/TUeydwwTZvBegLENNgw7sX6Wh1FswNmPEmjPCDyGRRwCtW9E3tMgdAtQw7GZjYcNX+gza2wJ3ZXsSZUuQ0vWCOV8SHfJJ/uluhbHUj1v8PKNMszIoQNRMHCShD6Wh8zyhrbOPwz8w+STKlCCJ7oRNUzQH63kBs5thBghePXxlj2aUoSxDPcuXPNiLAc5EEZ6HIkbmV2DYiXBPHs0o079+K0DTVj/s11mE00A0L+g4VcDp10qKZMAzytBhMaTRaPmYg885DlcSzSij0eoEiIouoUqlqqqaL2rlEok+Ad4vlfzPoVDsAAAAAElFTkSuQmCC"},"down-rectangle":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAAkAAAAECAYAAABcDxXOAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAABpJREFUGFdjgIL/eDAKIKgABggqgAE0BQwMAPTlD/Fpi0JfAAAAAElFTkSuQmCC"},"filter-off":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAAChSURBVChTzZHBCoUgFET9TqEiskgyWoutQvRLRIr+cR7XQAjiJW/1BgZmMUevXsY5xy9OoDEGMcYiUzeB67qibVuwQjVNA6311V+WBeM4vsLDMEApde/1fY9pmtI453neHEKAlBJd1z0fXtc16PbjODK07zvmeUZVVd8nooc75zJIOX3Gm6i0bVsGKf8xKIRIuyJTLgJJ3nvQzsjW2geIsQ/pr9hMVrSncAAAAABJRU5ErkJggg=="},"filter-on":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAACoSURBVChTY3BqfP2fHAzWmDbj7f8p294RhVOBasEa02e+/e/VBmQQCTxaX/9PnvYGoj5ywpv/Qd2ENft3vv4f1gfVBAP+nW/+h/a+ATtn1q73KHjytvdgg3070DTBgHvL6/8g22fsQGiaDmSHA21xaybgIpDHixa8hWssnA8NDEIApCh3LkIjiD2INYJCL2X6W3B8gdhEaQQBUOCA4gyE8+e9xaKJgQEA/74BNE3cElkAAAAASUVORK5CYII="},unchecked:{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA0AAAAPCAYAAAA/I0V3AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAARBJREFUOE+9krtug1AQRPldSio7FQ1tZImOkoKOBomGT0EURC5ino54yTw90WywQhTkIkVWGoF2zuxdrlD+t0zThKZpT0Vmxb8CQRCg6zr0fb8rer7vfwcPxxdcrx+YpgnzPGNZlh9ibxxHlGUJshLSdV0at9tNpg7DIBrX5+OkPM9BVkKGYSBJEtR1jbZrBdiqbVtUVYU0TUFWQq+nE+I4xvvlImGaW7FHjwxZCVmWhbfzGVmWoSgKWXUr9uiRISshx3FkEldomubXauzRI0NWQp7nyUR+NG/rfr/jUXxnjx5vmKyEbNuWox9Xvid6ZMhK6HA4wnVdhGGIKIp2RY8MWQmx+JuoqvpUZFb8L6UonyYL3uOtrFH+AAAAAElFTkSuQmCC"},"up-down-spin":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAAGJJREFUOE+lkwEKACEIBH2Zb/PnHsoGeaVJDUjGOgRRpKpkiIj+y4MME3eDR7kaKOVNsJyMNjIHzGy9YnW6J7qIcrriQimeCqORNABd0fpRTkt8uVUj7EsxC6vs/q3e/Q6iD2bwnByjPXHNAAAAAElFTkSuQmCC"},"up-down":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAAGFJREFUOE+lkkEKQCEIRD2ZJ3Ph3iN4WD9GflpYhj0YYowpGgJmbikd3gjMDFokwbuT1iAiurG5nomgqo5QaPo9ERQRI6Jf7sfGjudy2je23+i0Wl2oQ85TOdlfrJQOazF8br+rqTXQKn0AAAAASUVORK5CYII="}}},{}],3:[function(require,module){var _=require("object-iterators"),images=require("./images");_(images).each(function(image,key){var element=new Image;element.src="data:"+image.type+";base64,"+image.data,images[key]=element}),images["checkbox-on"]=images.checked,images["checkbox-off"]=images.unchecked,images.add=function(key,img){return images[key]=img},images.checkbox=function(state){return images[state?"checked":"unchecked"]},images.filter=function(state){return images[state?"filter-on":"filter-off"]},module.exports=images},{"./images":2,"object-iterators":12}],4:[function(require,module){function automat(template){var hasReplacements=1<arguments.length;if("function"==typeof template&&(template=template.call(this)),hasReplacements){var args=arguments;template=template.replace(automat.replacersRegex,function(match,key){return key-=-1,args.length>key?args[key]:""}),template=template.replace(automat.encodersRegex,function(match,key){if(key-=-1,args.length>key){var htmlEncoderNode=document.createElement("DIV");return htmlEncoderNode.textContent=args[key],htmlEncoderNode.innerHTML}return""})}return template}function replace(template,el){var elOmitted="object"!==("undefined"==typeof el?"undefined":_typeof2(el)),args=Array.prototype.slice.call(arguments,1);return elOmitted?(el=document.createElement("DIV"),args.unshift(template)):args[0]=template,el.innerHTML=automat.apply(null,args),el}var ENCODERS=/%\{(\d+)\}/g,REPLACERS=/\$\{(.*?)\}/g;automat.encodersRegex=ENCODERS,automat.replacersRegex=REPLACERS,automat.format=automat,automat.replace=replace,automat.append=function(template,el,referenceNode,replacements){var replacementsStartAt=3,referenceNodeOmitted="object"!==("undefined"==typeof referenceNode?"undefined":_typeof2(referenceNode));referenceNodeOmitted&&(referenceNode=null,replacementsStartAt=2),replacements=Array.prototype.slice.call(arguments,replacementsStartAt);for(var result=[],div=replace.apply(null,[template].concat(replacements));div.childNodes.length;)result.push(div.firstChild),el.insertBefore(div.firstChild,referenceNode);return result},automat.firstChild=function(){return replace.apply(null,arguments).firstChild},automat.firstElement=function(){return replace.apply(null,arguments).firstElementChild},module.exports=automat},{}],5:[function(require,module){"use strict";function cssInjector(cssRules,ID,referenceElement){if("string"==typeof referenceElement){if(referenceElement=document.querySelector(referenceElement),!referenceElement)throw"Cannot find reference element for CSS injection.";}else if(referenceElement&&!(referenceElement instanceof Element))throw"Given value not a reference element.";var container=referenceElement&&referenceElement.parentNode||document.head||document.getElementsByTagName("head")[0];if(!(ID&&(ID=cssInjector.idPrefix+ID,container.querySelector("#"+ID)))){var style=document.createElement("style");return style.type="text/css",ID&&(style.id=ID),cssRules instanceof Array&&(cssRules=cssRules.join("\n")),cssRules="\n"+cssRules+"\n",style.styleSheet?style.styleSheet.cssText=cssRules:style.appendChild(document.createTextNode(cssRules)),void 0===referenceElement&&(referenceElement=container.firstChild),container.insertBefore(style,referenceElement),style}}cssInjector.idPrefix="injected-stylesheet-",module.exports=cssInjector},{}],6:[function(require,module){function isUndefinedOrNull(value){return null===value||value===void 0}function isBuffer(x){return!!(x&&"object"===("undefined"==typeof x?"undefined":_typeof2(x))&&"number"==typeof x.length)&&"function"==typeof x.copy&&"function"==typeof x.slice&&!(0<x.length&&"number"!=typeof x[0])}function objEquiv(a,b,opts){var i,key;if(isUndefinedOrNull(a)||isUndefinedOrNull(b))return!1;if(a.prototype!==b.prototype)return!1;if(isArguments(a))return!!isArguments(b)&&(a=pSlice.call(a),b=pSlice.call(b),deepEqual(a,b,opts));if(isBuffer(a)){if(!isBuffer(b))return!1;if(a.length!==b.length)return!1;for(i=0;i<a.length;i++)if(a[i]!==b[i])return!1;return!0}try{var ka=objectKeys(a),kb=objectKeys(b)}catch(e){return!1}if(ka.length!=kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;0<=i;i--)if(ka[i]!=kb[i])return!1;for(i=ka.length-1;0<=i;i--)if(key=ka[i],!deepEqual(a[key],b[key],opts))return!1;return("undefined"==typeof a?"undefined":_typeof2(a))===("undefined"==typeof b?"undefined":_typeof2(b))}var pSlice=Array.prototype.slice,objectKeys=require("./lib/keys.js"),isArguments=require("./lib/is_arguments.js"),deepEqual=module.exports=function(actual,expected,opts){return opts||(opts={}),actual===expected||(actual instanceof Date&&expected instanceof Date?actual.getTime()===expected.getTime():actual&&expected&&("object"==("undefined"==typeof actual?"undefined":_typeof2(actual))||"object"==("undefined"==typeof expected?"undefined":_typeof2(expected)))?objEquiv(actual,expected,opts):opts.strict?actual===expected:actual==expected)}},{"./lib/is_arguments.js":7,"./lib/keys.js":8}],7:[function(require,module,exports){function supported(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function unsupported(object){return object&&"object"==("undefined"==typeof object?"undefined":_typeof2(object))&&"number"==typeof object.length&&Object.prototype.hasOwnProperty.call(object,"callee")&&!Object.prototype.propertyIsEnumerable.call(object,"callee")||!1}var supportsArgumentsClass="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();exports=module.exports=supportsArgumentsClass?supported:unsupported,exports.supported=supported;exports.unsupported=unsupported},{}],8:[function(require,module,exports){function shim(obj){var keys=[];for(var key in obj)keys.push(key);return keys}exports=module.exports="function"==typeof Object.keys?Object.keys:shim,exports.shim=shim},{}],9:[function(require,module){"use strict";function extend(extendedClassName,prototypeAdditions){function Constructor(){this.preInitialize&&this.preInitialize.apply(this,arguments),initializePrototypeChain.apply(this,arguments),this.postInitialize&&this.postInitialize.apply(this,arguments)}switch(arguments.length){case 0:prototypeAdditions={};break;case 1:switch("undefined"==typeof extendedClassName?"undefined":_typeof2(extendedClassName)){case"object":prototypeAdditions=extendedClassName,extendedClassName=void 0;break;case"string":prototypeAdditions={};break;default:throw"Single-parameter overload must be either string or object.";}break;case 2:if("string"!=typeof extendedClassName||"object"!==("undefined"==typeof prototypeAdditions?"undefined":_typeof2(prototypeAdditions)))throw"Two-parameter overload must be string, object.";break;default:throw"Too many parameters";}Constructor.extend=extend,Constructor.getClassName=getClassName,Constructor.parent=parentConstructor;var prototype=Constructor.prototype=Object.create(this.prototype);prototype.constructor=Constructor,extendedClassName=extendedClassName||prototype.$$CLASS_NAME||prototype.name,extendedClassName&&(Object.defineProperty(Constructor,"name",{value:extendedClassName,configurable:!0}),prototype.$$CLASS_NAME=extendedClassName);var key,descriptor;for(key in prototypeAdditions)(descriptor=Object.getOwnPropertyDescriptor(prototypeAdditions,key))&&Object.defineProperty(prototype,key,descriptor);return"function"==typeof this.postExtend&&this.postExtend(prototype),Constructor}function Base(){}function initializePrototypeChain(){function recur(obj){var proto=Object.getPrototypeOf(obj);proto.constructor!==Object&&(recur(proto),proto.hasOwnProperty("initialize")&&proto.initialize.apply(term,args))}var term=this,args=arguments;recur(term)}function getClassName(){return this.prototype.$$CLASS_NAME||this.prototype.name||this.name}function parentConstructor(ancestorConstructorName){var prototype=this.prototype;if(prototype)do prototype=Object.getPrototypeOf(prototype);while(ancestorConstructorName&&prototype&&prototype.constructor.name!==ancestorConstructorName);return prototype&&prototype.constructor}Base.prototype={constructor:Base.prototype.constructor,getClassName:function(){return this.$$CLASS_NAME||this.name||this.constructor.name},get super(){return Object.getPrototypeOf(Object.getPrototypeOf(this))},superMember:function superMember(memberName){var parent=this.super;do parent=Object.getPrototypeOf(parent);while(!parent.hasOwnProperty(memberName));return parent&&parent[memberName]},superMethod:function superMethod(methodName){var method=this.superMember(methodName);if("function"!=typeof method)throw new TypeError("this."+methodName+" is not a function");return method},callSuperMethod:function callSuperMethod(methodName){return this.superMethod(methodName).apply(this,Array.prototype.slice.call(arguments,1))}},Base.extend=extend,extend.Base=Base,module.exports=extend},{}],10:[function(require,module){function injectStylesheetTemplate(before,id){var prefix=injectStylesheetTemplate.prefix,optionalArgsStartAt,stylesheet,head,refNode,css,args;if("boolean"==typeof before?optionalArgsStartAt=2:(id=before,before=injectStylesheetTemplate.before,optionalArgsStartAt=1),stylesheet=document.getElementById(prefix+id),!stylesheet){if(head=document.querySelector("head"),before&&(refNode=Array.prototype.slice.call(head.children).find(function(child){var id=child.getAttribute("id");return"STYLE"===child.tagName&&(!id||id.indexOf(prefix)!==prefix)||"LINK"===child.tagName&&"stylesheet"===child.getAttribute("rel")})),css=this[id],!css)throw"Expected to find member `"+id+"` in calling context.";args=["<style>\n"+css+"\n</style>\n",head,refNode||null],1<arguments.length&&(args=args.concat(Array.prototype.slice.call(arguments,optionalArgsStartAt))),stylesheet=automat.append.apply(null,args)[0],stylesheet.id=prefix+id}return stylesheet}var automat=require("automat");injectStylesheetTemplate.before=!0,injectStylesheetTemplate.prefix="injected-stylesheet-",module.exports=injectStylesheetTemplate},{automat:4}],11:[function(require,module,exports){(function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&exports&&"string"!=typeof exports.nodeName?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):(global.Mustache={},factory(global.Mustache))})(this,function(mustache){function isFunction(object){return"function"==typeof object}function typeStr(obj){return isArray(obj)?"array":"undefined"==typeof obj?"undefined":_typeof2(obj)}function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(obj,propName){return null!=obj&&"object"===("undefined"==typeof obj?"undefined":_typeof2(obj))&&propName in obj}function testRegExp(re,string){return regExpTest.call(re,string)}function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}function parseTemplate(template,tags){function stripSpace(){if(hasTag&&!nonSpace)for(;spaces.length;)delete tokens[spaces.pop()];else spaces=[];hasTag=!1,nonSpace=!1}function compileTags(tagsToCompile){if("string"==typeof tagsToCompile&&(tagsToCompile=tagsToCompile.split(spaceRe,2)),!isArray(tagsToCompile)||2!==tagsToCompile.length)throw new Error("Invalid tags: "+tagsToCompile);openingTagRe=new RegExp(escapeRegExp(tagsToCompile[0])+"\\s*"),closingTagRe=new RegExp("\\s*"+escapeRegExp(tagsToCompile[1])),closingCurlyRe=new RegExp("\\s*"+escapeRegExp("}"+tagsToCompile[1]))}if(!template)return[];var sections=[],tokens=[],spaces=[],hasTag=!1,nonSpace=!1,openingTagRe,closingTagRe,closingCurlyRe;compileTags(tags||mustache.tags);for(var scanner=new Scanner(template),start,type,value,chr,token,openSection;!scanner.eos();){if(start=scanner.pos,value=scanner.scanUntil(openingTagRe),value)for(var i=0,valueLength=value.length;i<valueLength;++i)chr=value.charAt(i),isWhitespace(chr)?spaces.push(tokens.length):nonSpace=!0,tokens.push(["text",chr,start,start+1]),start+=1,"\n"===chr&&stripSpace();if(!scanner.scan(openingTagRe))break;if(hasTag=!0,type=scanner.scan(tagRe)||"name",scanner.scan(whiteRe),"="===type?(value=scanner.scanUntil(equalsRe),scanner.scan(equalsRe),scanner.scanUntil(closingTagRe)):"{"===type?(value=scanner.scanUntil(closingCurlyRe),scanner.scan(curlyRe),scanner.scanUntil(closingTagRe),type="&"):value=scanner.scanUntil(closingTagRe),!scanner.scan(closingTagRe))throw new Error("Unclosed tag at "+scanner.pos);if(token=[type,value,start,scanner.pos],tokens.push(token),"#"===type||"^"===type)sections.push(token);else if("/"===type){if(openSection=sections.pop(),!openSection)throw new Error("Unopened section \""+value+"\" at "+start);if(openSection[1]!==value)throw new Error("Unclosed section \""+openSection[1]+"\" at "+start)}else"name"===type||"{"===type||"&"===type?nonSpace=!0:"="===type&&compileTags(value)}if(openSection=sections.pop(),openSection)throw new Error("Unclosed section \""+openSection[1]+"\" at "+scanner.pos);return nestTokens(squashTokens(tokens))}function squashTokens(tokens){for(var squashedTokens=[],i=0,numTokens=tokens.length,token,lastToken;i<numTokens;++i)token=tokens[i],token&&("text"===token[0]&&lastToken&&"text"===lastToken[0]?(lastToken[1]+=token[1],lastToken[3]=token[3]):(squashedTokens.push(token),lastToken=token));return squashedTokens}function nestTokens(tokens){for(var nestedTokens=[],collector=nestedTokens,sections=[],i=0,numTokens=tokens.length,token,section;i<numTokens;++i)switch(token=tokens[i],token[0]){case"#":case"^":collector.push(token),sections.push(token),collector=token[4]=[];break;case"/":section=sections.pop(),section[5]=token[2],collector=0<sections.length?sections[sections.length-1][4]:nestedTokens;break;default:collector.push(token);}return nestedTokens}function Scanner(string){this.string=string,this.tail=string,this.pos=0}function Context(view,parentContext){this.view=view,this.cache={".":this.view},this.parent=parentContext}function Writer(){this.cache={}}var objectToString=Object.prototype.toString,isArray=Array.isArray||function(object){return"[object Array]"===objectToString.call(object)},regExpTest=RegExp.prototype.test,nonSpaceRe=/\S/,entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},whiteRe=/\s*/,spaceRe=/\s+/,equalsRe=/\s*=/,curlyRe=/\s*\}/,tagRe=/#|\^|\/|>|\{|&|=|!/;Scanner.prototype.eos=function(){return""===this.tail},Scanner.prototype.scan=function(re){var match=this.tail.match(re);if(!match||0!==match.index)return"";var string=match[0];return this.tail=this.tail.substring(string.length),this.pos+=string.length,string},Scanner.prototype.scanUntil=function(re){var index=this.tail.search(re),match;return-1===index?(match=this.tail,this.tail=""):0===index?match="":(match=this.tail.substring(0,index),this.tail=this.tail.substring(index)),this.pos+=match.length,match},Context.prototype.push=function(view){return new Context(view,this)},Context.prototype.lookup=function(name){var cache=this.cache,value;if(cache.hasOwnProperty(name))value=cache[name];else{for(var context=this,lookupHit=!1,names,index;context;){if(0<name.indexOf("."))for(value=context.view,names=name.split("."),index=0;null!=value&&index<names.length;)index===names.length-1&&(lookupHit=hasProperty(value,names[index])),value=value[names[index++]];else value=context.view[name],lookupHit=hasProperty(context.view,name);if(lookupHit)break;context=context.parent}cache[name]=value}return isFunction(value)&&(value=value.call(this.view)),value},Writer.prototype.clearCache=function(){this.cache={}},Writer.prototype.parse=function(template,tags){var cache=this.cache,tokens=cache[template];return null==tokens&&(tokens=cache[template]=parseTemplate(template,tags)),tokens},Writer.prototype.render=function(template,view,partials){var tokens=this.parse(template),context=view instanceof Context?view:new Context(view);return this.renderTokens(tokens,context,partials,template)},Writer.prototype.renderTokens=function(tokens,context,partials,originalTemplate){for(var buffer="",i=0,numTokens=tokens.length,token,symbol,value;i<numTokens;++i)value=void 0,token=tokens[i],symbol=token[0],"#"===symbol?value=this.renderSection(token,context,partials,originalTemplate):"^"===symbol?value=this.renderInverted(token,context,partials,originalTemplate):">"===symbol?value=this.renderPartial(token,context,partials,originalTemplate):"&"===symbol?value=this.unescapedValue(token,context):"name"===symbol?value=this.escapedValue(token,context):"text"===symbol&&(value=this.rawValue(token)),void 0!==value&&(buffer+=value);return buffer},Writer.prototype.renderSection=function(token,context,partials,originalTemplate){function subRender(template){return self.render(template,context,partials)}var self=this,buffer="",value=context.lookup(token[1]);if(value){if(isArray(value))for(var j=0,valueLength=value.length;j<valueLength;++j)buffer+=this.renderTokens(token[4],context.push(value[j]),partials,originalTemplate);else if("object"===("undefined"==typeof value?"undefined":_typeof2(value))||"string"==typeof value||"number"==typeof value)buffer+=this.renderTokens(token[4],context.push(value),partials,originalTemplate);else if(isFunction(value)){if("string"!=typeof originalTemplate)throw new Error("Cannot use higher-order sections without the original template");value=value.call(context.view,originalTemplate.slice(token[3],token[5]),subRender),null!=value&&(buffer+=value)}else buffer+=this.renderTokens(token[4],context,partials,originalTemplate);return buffer}},Writer.prototype.renderInverted=function(token,context,partials,originalTemplate){var value=context.lookup(token[1]);if(!value||isArray(value)&&0===value.length)return this.renderTokens(token[4],context,partials,originalTemplate)},Writer.prototype.renderPartial=function(token,context,partials){if(partials){var value=isFunction(partials)?partials(token[1]):partials[token[1]];if(null!=value)return this.renderTokens(this.parse(value),context,partials,value)}},Writer.prototype.unescapedValue=function(token,context){var value=context.lookup(token[1]);if(null!=value)return value},Writer.prototype.escapedValue=function(token,context){var value=context.lookup(token[1]);if(null!=value)return mustache.escape(value)},Writer.prototype.rawValue=function(token){return token[1]},mustache.name="mustache.js",mustache.version="2.3.0",mustache.tags=["{{","}}"];var defaultWriter=new Writer;return mustache.clearCache=function(){return defaultWriter.clearCache()},mustache.parse=function(template,tags){return defaultWriter.parse(template,tags)},mustache.render=function(template,view,partials){if("string"!=typeof template)throw new TypeError("Invalid template! Template should be a \"string\" "+"but \""+typeStr(template)+"\" was given as the first "+"argument for mustache#render(template, view, partials)");return defaultWriter.render(template,view,partials)},mustache.to_html=function(template,view,partials,send){var result=mustache.render(template,view,partials);return isFunction(send)?void send(result):result},mustache.escape=function(string){return(string+"").replace(/[&<>"'`=\/]/g,function(s){return entityMap[s]})},mustache.Scanner=Scanner,mustache.Context=Context,mustache.Writer=Writer,mustache})},{}],12:[function(require,module){function Wrapper(object){return object instanceof Wrapper?object:this instanceof Wrapper?void(this.originalValue=object,this.o=object||{}):new Wrapper(object)}Wrapper.chain=function(object){var wrapped=Wrapper(object);return wrapped.chaining=!0,wrapped},Wrapper.prototype={value:function value(){return this.originalValue},each:function each(iteratee,context){var o=this.o;return Object.keys(o).forEach(function(key){iteratee.call(this,o[key],key,o)},context||o),this},find:function find(predicate,context){var o=this.o,result;return o&&(result=Object.keys(o).find(function(key){return predicate.call(this,o[key],key,o)},context||o),void 0!==result&&(result=o[result])),result},filter:function filter(predicate,context){var o=this.o,result=[];return o&&Object.keys(o).forEach(function(key){predicate.call(this,o[key],key,o)&&result.push(o[key])},context||o),result},map:function map(iteratee,context){var o=this.o,result=[];return o&&Object.keys(o).forEach(function(key){result.push(iteratee.call(this,o[key],key,o))},context||o),result},reduce:function reduce(iteratee,memo,context){var o=this.o;return o&&Object.keys(o).forEach(function(key,idx){memo=idx||void 0!==memo?iteratee(memo,o[key],key,o):o[key]},context||o),memo},extend:function extend(){var o=this.o;return Array.prototype.slice.call(arguments).forEach(function(object){if(object)for(var key in object)o[key]=object[key]}),this.chaining?this:o},extendOwn:function extendOwn(){var o=this.o;return Array.prototype.slice.call(arguments).forEach(function(object){Wrapper(object).each(function(val,key){o[key]=val})}),this.chaining?this:o}},Array.prototype.find||(Array.prototype.find=function(predicate){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof predicate)throw new TypeError("predicate must be a function");for(var list=Object(this),length=list.length>>>0,thisArg=arguments[1],i=0,value;i<length;i++)if(value=list[i],predicate.call(thisArg,value,i,list))return value}),module.exports=Wrapper},{}],13:[function(require,module){"use strict";function overrider(target){for(var i=1;i<arguments.length;++i)mixIn.call(target,arguments[i]);return target}function mixIn(source){var descriptor;for(var key in source)(descriptor=Object.getOwnPropertyDescriptor(source,key))&&Object.defineProperty(this,key,descriptor);return this}overrider.mixInTo=function(target){var descriptor;for(var key in this)(descriptor=Object.getOwnPropertyDescriptor(this,key))&&Object.defineProperty(target,key,descriptor);return target},overrider.mixIn=mixIn,module.exports=overrider},{}],14:[function(require,module,exports){"use strict";function addReadOnlyProperty(name,value){Object.defineProperty(this,name,{value:value,writable:!1,enumerable:!0,configurable:!1})}function Point(x,y){addReadOnlyProperty.call(this,"x",+x||0),addReadOnlyProperty.call(this,"y",+y||0)}function Rectangle(x,y,width,height){x=+x||0,y=+y||0,width=+width||0,height=+height||0,0>width&&(x+=width,width=-width),0>height&&(y+=height,height=-height),addReadOnlyProperty.call(this,"origin",new Point(x,y)),addReadOnlyProperty.call(this,"extent",new Point(width,height)),addReadOnlyProperty.call(this,"corner",new Point(x+width,y+height)),addReadOnlyProperty.call(this,"center",new Point(x+width/2,y+height/2))}Point.prototype={plus:function plus(offset){return new Point(this.x+offset.x,this.y+offset.y)},plusXY:function plusXY(offsetX,offsetY){return new Point(this.x+(offsetX||0),this.y+(offsetY||0))},minus:function minus(offset){return new Point(this.x-offset.x,this.y-offset.y)},min:function min(point){return new Point(_Mathmin7(this.x,point.x),_Mathmin7(this.y,point.y))},max:function max(point){return new Point(_Mathmax8(this.x,point.x),_Mathmax8(this.y,point.y))},distance:function distance(point){var deltaX=point.x-this.x,deltaY=point.y-this.y;return Math.sqrt(deltaX*deltaX+deltaY*deltaY)},equals:function equals(point){var result=!1;return point&&(result=this.x===point.x&&this.y===point.y),result},greaterThan:function greaterThan(point){return this.x>point.x&&this.y>point.y},lessThan:function lessThan(point){return this.x<point.x&&this.y<point.y},greaterThanOrEqualTo:function greaterThanOrEqualTo(point){return this.x>=point.x&&this.y>=point.y},lessThanOrEqualTo:function lessThanOrEqualTo(point){return this.x<=point.x&&this.y<=point.y},within:function within(rect){var minX=rect.origin.x,maxX=minX+rect.extent.x,minY=rect.origin.y,maxY=minY+rect.extent.y;return 0>rect.extent.x&&(minX=maxX,maxX=rect.origin.x),0>rect.extent.y&&(minY=maxY,maxY=rect.origin.y),minX<=this.x&&this.x<maxX&&minY<=this.y&&this.y<maxY}},Point.prototype.EQ=Point.prototype.equals,Point.prototype.GT=Point.prototype.greaterThan,Point.prototype.LT=Point.prototype.lessThan,Point.prototype.GE=Point.prototype.greaterThanOrEqualTo,Point.prototype.LE=Point.prototype.lessThanOrEqualTo,Rectangle.prototype={get top(){return this.origin.y},get left(){return this.origin.x},get bottom(){return this.corner.y},get right(){return this.corner.x},get width(){return this.extent.x},get height(){return this.extent.y},get area(){return this.width*this.height},flattenXAt:function flattenXAt(x){return new Rectangle(x,this.origin.y,0,this.extent.y)},flattenYAt:function flattenYAt(y){return new Rectangle(this.origin.x,y,this.extent.x,0)},contains:function contains(pointOrRect){return pointOrRect.within(this)},within:function within(rect){return rect.origin.lessThanOrEqualTo(this.origin)&&rect.corner.greaterThanOrEqualTo(this.corner)},growBy:function growBy(padding){return new Rectangle(this.origin.x+padding,this.origin.y+padding,this.extent.x-padding-padding,this.extent.y-padding-padding)},shrinkBy:function shrinkBy(padding){return this.growBy(-padding)},union:function union(rect){var origin=this.origin.min(rect.origin),corner=this.corner.max(rect.corner),extent=corner.minus(origin);return new Rectangle(origin.x,origin.y,extent.x,extent.y)},forEach:function forEach(iteratee,context){context=context||this;for(var x=this.origin.x,x2=this.corner.x;x<x2;x++)for(var y=this.origin.y,y2=this.corner.y;y<y2;y++)iteratee.call(context,x,y)},intersect:function intersect(rect,ifNoneAction,context){var result=null,origin=this.origin.max(rect.origin),corner=this.corner.min(rect.corner),extent=corner.minus(origin);return 0<extent.x&&0<extent.y?result=new Rectangle(origin.x,origin.y,extent.x,extent.y):"function"==typeof ifNoneAction&&(result=ifNoneAction.call(context||this,rect)),result},intersects:function intersects(rect){return rect.corner.x>this.origin.x&&rect.corner.y>this.origin.y&&rect.origin.x<this.corner.x&&rect.origin.y<this.corner.y}},exports.Point=Point,exports.Rectangle=Rectangle},{}],15:[function(require,module){"use strict";(function(module){function RangeSelectionModel(){this.selection=[],this.states=[],this.storeState=function(){for(var sels=this.selection,state=[],i=0,copy;i<sels.length;i++)copy=[].concat(sels[i]),state.push(copy);this.states.push(state)}}function makeRun(start,stop){return start instanceof Array?makeRun.apply(this,start):stop===void 0?[start,start]:start<=stop?[start,stop]:[stop,start]}function overlaps(run1,run2){return run1[0]<=run2[0]&&run2[0]<=run1[1]||run1[0]<=run2[1]&&run2[1]<=run1[1]||run2[0]<run1[0]&&run1[1]<run2[1]}function abuts(run1,run2){return run1[1]===run2[0]-1||run2[1]===run1[0]-1}function subtract(minuend,subtrahend){var m0=minuend[0],m1=minuend[1],s0=subtrahend[0],s1=subtrahend[1],result=[];return s0<=m0&&s1<m1?result.push([s1+1,m1]):s0>m0&&s1>=m1?result.push([m0,s0-1]):m0<s0&&s1<m1?(result.push([m0,s0-1]),result.push([s1+1,m1])):(s1<m0||s0>m1)&&result.push(minuend),result}function merge(run1,run2){var min=_Mathmin7(_Mathmin7.apply(Math,run1),_Mathmin7.apply(Math,run2)),max=_Mathmax8(_Mathmax8.apply(Math,run1),_Mathmax8.apply(Math,run2));return[min,max]}RangeSelectionModel.prototype={select:function select(start,stop){this.storeState();var run=makeRun(start,stop),splicer=[0,1];return this.selection.forEach(function(each){overlaps(each,run)||abuts(each,run)?run=merge(each,run):splicer.push(each)}),splicer.push(run),splicer[1]=this.selection.length,this.selection.splice.apply(this.selection,splicer),this},deselect:function deselect(start,stop){var run=makeRun(start,stop),splicer=[0,0];return this.selection.forEach(function(each){if(overlaps(each,run)){var pieces=subtract(each,run);splicer=splicer.concat(pieces)}else splicer.push(each)}),splicer[1]=this.selection.length,this.selection.splice.apply(this.selection,splicer),this},clear:function clear(){return this.states.length=0,this.selection.length=0,this},clearMostRecentSelection:function clearMostRecentSelection(){0===this.states.length||(this.selection=this.states.pop())},isSelected:function isSelected(cell){return this.selection.some(function(each){return each[0]<=cell&&cell<=each[1]})},isEmpty:function isEmpty(){return 0===this.selection.length},getSelections:function getSelections(){var result=[];return this.selection.forEach(function(each){for(var i=each[0];i<=each[1];i++)result.push(i)}),result.sort(function(a,b){return a-b}),result}},module.exports=RangeSelectionModel})("object"===("undefined"==typeof module?"undefined":_typeof2(module))&&module||(window.RangeSelectionModel={}),"object"===("undefined"==typeof module?"undefined":_typeof2(module))&&module.exports||(window.RangeSelectionModel.exports={}))||"object"===("undefined"==typeof module?"undefined":_typeof2(module))||(window.RangeSelectionModel=window.RangeSelectionModel.exports)},{}],16:[function(require,module){module.exports={name:"fin-hypergrid",version:"3.0.0",description:"Canvas-based high-performance grid extended",main:"src/Hypergrid",repository:{type:"git",url:"git://github.com/alex-kls/core.git"},author:"SWirts, JEiten, DJones, NMichaud, AKlishchevskiy",license:"MIT",readmeFilename:"README.md",gitHead:"",keywords:["spreadsheet","grid","canvas"],dependencies:{chai:"^4.1.2","deep-equal":"^1.0.1","extend-me":"^2.7.0","fin-hypergrid-event-logger":"^1.0.4",finbars:"1.5.2","inject-stylesheet-template":"^1.0.1",mustache:"^2.3.0","object-iterators":"1.3.0",overrider:"^0",rectangular:"1.0.1","sparse-boolean-array":"1.0.1"},devDependencies:{"babel-core":"^6.26.0","babel-preset-es2015":"^6.24.1","babel-preset-es2016":"^6.24.1",babelify:"^8.0.0","browser-sync":"^2.23.6",browserify:"^16.1.1","css-injector":"^1.1.0",gulp:"^3.9.0","gulp-concat":"^2.6.0","gulp-each":"^0.1.1","gulp-eslint":"^4.0.2","gulp-exclude-gitignore":"^1.2.0","gulp-footer":"^1.1.1","gulp-header":"^1.8.2","gulp-imagine-64":"^1.0.1","gulp-load-plugins":"^1.1.0","gulp-mirror":"^1.0.0","gulp-mocha":"^2.2.0","gulp-rename":"^1.2.2","gulp-replace":"^0.6.1","gulp-uglify":"^3.0.0","gulp-util":"^3.0.8",gutil:"^1.6.4",header:"^0.1.1",multipipe:"^2.0.3",multiple:"^0.2.1","run-sequence":"^1.1.4",through2:"^2.0.3","vinyl-buffer":"^1.0.1","vinyl-source-stream":"^2.0.0"}}},{}],17:[function(require,module){var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},Base=require("extend-me").Base;Object.defineProperty(Base.prototype,"version",{enumerable:!0,writable:!1,configurable:!1,value:require("../package.json").version}),Base.prototype.deprecated=require("./lib/deprecated"),Base.prototype.HypergridError=require("./lib/error"),Base.prototype.notify=function(message,onerror){switch(onerror){case"warn":console.warn(message);break;case"alert":alert(message);break;default:throw new this.HypergridError(message);}},Base.prototype.unwrap=function(value){return"f"===("undefined"==typeof value?"undefined":_typeof(value))[0]&&(value=value()),value},Base.prototype.mixIn=require("overrider").mixIn,Base.prototype.createApply=function(Constructor,variableArgArray){var discreteArgArray=Array.prototype.slice.call(arguments,2),args=[null].concat(discreteArgArray).concat(variableArgArray),BoundConstructor=Constructor.bind.apply(Constructor,args);return new BoundConstructor},module.exports=Base},{"../package.json":16,"./lib/deprecated":93,"./lib/error":95,"extend-me":9,overrider:13}],18:[function(require,module){"use strict";function DataSourceBase(){}function getFilteredKeys(api){var whitelist=api.hasOwnProperty("!!keys")&&api["!!keys"],blacklist=api.hasOwnProperty("!keys")&&api["!keys"],keys=Array.isArray(api)?api:Object.keys(api).filter(function(key){return"function"==typeof api[key]});return keys.filter(function(key){return"initialize"===key||"constructor"===key||"!!keys"===key||"!keys"===key?void 0:!(whitelist&&0>whitelist.indexOf(key)||blacklist&&0<=blacklist.indexOf(key))})}function DataSourceError(message){this.message=message}DataSourceBase.extend=require("extend-me"),DataSourceBase.prototype={constructor:DataSourceBase.prototype.constructor,$$CLASS_NAME:"DataSourceBase",isNullObject:!0,drillDownCharMap:{true:"\u25BC",false:"\u25B6",undefined:"",null:"   "},DataSourceError:DataSourceError,initialize:function(nextDataSource){nextDataSource&&(this.next=nextDataSource),this.install(Object.getPrototypeOf(this))},needs:function(key){var transformer=this,source;do{if(transformer[key]&&transformer[key]!==DataSourceBase.prototype[key])return;source=transformer,transformer=transformer.next}while(transformer);return source},install:function(api,_install){var dataModel=this,keys=getFilteredKeys(api=api||this);keys.forEach(function(key){if(_install){var source=dataModel.needs.call(dataModel,key);source&&(source[key]=api[key])}DataSourceBase.prototype[key]||(DataSourceBase.prototype[key]=function(){if(this.next)return this.next[key].apply(this.next,arguments)})})},isTree:function(x){return this.isDrillDown(x)},getDataIndex:function(y){return this.getRowIndex(y)},dump:function(max){max=_Mathmin7(this.getRowCount(),max||_Mathmax8(100,this.getRowCount()));for(var data=[],schema=this.getSchema(),fields=schema?schema.map(function(cs){return cs.name}):this.getHeaders(),cCount=this.getColumnCount(),viewMakesSense=this.viewMakesSense,r=0,row;r<max;r++){row={};for(var c=0,val;c<cCount;c++)val=this.getValue(c,r),0===c&&viewMakesSense&&(val=this.fixIndentForTableDisplay(val)),row[fields[c]]=val;data[r]=row}console.table(data)}},DataSourceError.prototype=Object.create(Error.prototype),DataSourceError.prototype.name="DataSourceError",module.exports=DataSourceBase},{"extend-me":9}],19:[function(require,module){function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function isStringUrl(string){if(!string)return!1;var URL_REGEXP=/^(\s*(http|https|ftp|ftps|itmss)\:\/\/[a-zA-Z0-9\-\.]+\.[a-zA-Z]{2,6}(\/[^\s,;]*)?)$/g;return URL_REGEXP.test(string)}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},DataSourceBase=require("../DatasaurBase"),DataSourceLocal=DataSourceBase.extend("DataSourceLocal",{initialize:function(){this.schema=[],this.data=[],this.cache=[]},setData:function(data,schema){this.data=data||[],this.onChange(),schema?this.setSchema(schema):this.data.length&&!this.schema.length&&this.setSchema([])},addData:function(data,schema){this.data.push.apply(this.data,data||[]),this.onChange(),schema?this.setSchema(schema):this.data.length&&!this.schema.length&&this.setSchema([])},getSchema:function(){return this.schema},setSchema:function(newSchema){if(!newSchema.length){var dataRow=this.data.find(function(dataRow){return dataRow});dataRow&&(newSchema=Object.keys(dataRow))}this.schema=newSchema,this.dispatchEvent("data-schema-changed")},getRow:function(y,treeLevel){return this._getRowByTreeLevel(this.data[y],treeLevel)},setRow:function(y,dataRow){this.data[y]=dataRow||void 0,this.onChange()},getRowMetadata:function(y,prototype){var dataRow=this.data[y];return dataRow&&(dataRow.__META||prototype!==void 0&&(dataRow.__META=Object.create(prototype)))},setRowMetadata:function(y,metadata){var dataRow=this.data[y];return dataRow&&(metadata?dataRow.__META=metadata:delete dataRow.__META),!!dataRow},addRow:function(dataRow,y){y===void 0||y>=this.getRowCount()?this.data.push(dataRow):this.data.splice(y,0,dataRow),this.onChange(),this.dispatchEvent("data-shape-changed")},addRows:function(dataRows,y){var _data;(y===void 0||y>=this.getRowCount())&&(y=this.getRowCount()),(_data=this.data).splice.apply(_data,[y,0].concat(_toConsumableArray(dataRows))),this.onChange(),this.dispatchEvent("data-shape-changed")},delRow:function(y,rowCount){var rows=this.data.splice(y,void 0===rowCount?1:rowCount);return this.onChange(),rows.length&&this.dispatchEvent("data-shape-changed"),rows},_getDataRowObject:function(x,y){if(this.cache&&x in this.cache&&y in this.cache[x])return this.cache[x][y];x in this.cache||(this.cache[x]=[]);var row=this.data[y];return!row||x>this.getColumnCount()?{}:this.cache[x][y]=this._getDataRowObjectByRowAndColumnIndex(row,x)},indexOf:function(row){for(var data=this.data,index=data.indexOf(row);0>index&&data.some(function(d){return d});)data=data.map(function(d){return d.$$children&&d.$$children[0]}),index=data.indexOf(row);return index},_getRowByTreeLevel:function(row,treeLevel){if(row&&row.$$children&&row.__treeLevel!==treeLevel)for(;row.__treeLevel!==treeLevel&&0!==row.$$children.length&&row.$$open;)row=row.$$children[0];return row},_getDataRowObjectByRowAndColumnIndex:function(row,x){var columnName=this.getColumnName(x),treeLevel=this.getColumnTreeLevel(x);if(row=this._getRowByTreeLevel(row,treeLevel),columnName in row)return{foundedValue:row[columnName]};var skipNeeded=!1,foundedValue;return foundedValue=row[Object.keys(row).find(function(key){var combinedColumns=key.split("/");return skipNeeded=skipNeeded||combinedColumns.includes(columnName)&&combinedColumns[0]!==columnName,combinedColumns[0]===columnName})],{foundedValue:foundedValue,skipNeeded:skipNeeded}},getCount:function(x,y){var val=this._getDataRowObject(x,y).foundedValue;if(val!==void 0)return val&&val.count&&null!==val.count?val.count:void 0},getChildColumnsFromCell:function(x,y){var val=this._getDataRowObject(x,y).foundedValue;return val&&val.childColumnDefs&&null!==val.childColumnDefs&&val.childColumnDefs!==void 0?val.childColumnDefs:[]},getHasChildColumnsFromCell:function(x,y){var childColumnsArray=this.getChildColumnsFromCell(x,y);return!!(childColumnsArray&&childColumnsArray.length!==void 0)&&0<childColumnsArray.length},getIsColumnOpenByDefaultFromCell:function(x,y){var val=this._getDataRowObject(x,y).foundedValue;if(val!==void 0)return!!(val&&val.columnOpenByDefault&&null!==val.columnOpenByDefault)&&val.columnOpenByDefault},getIsColumnGroupShowFromCell:function(x,y){var val=this._getDataRowObject(x,y).foundedValue;if(val!==void 0)return void 0===val.columnGroupShow||!!(val&&val.columnGroupShow)&&-1<["always-showing","open"].indexOf(val.columnGroupShow)},getColumnGroupIdFromCell:function(x,y){var val=this._getDataRowObject(x,y).foundedValue;if(val!==void 0)return val&&val.groupId&&null!==val.groupId?val.groupId:void 0},getValue:function(x,y){var foundedDataRowValue=this._getDataRowObject(x,y).foundedValue;if(foundedDataRowValue!==void 0)return foundedDataRowValue&&foundedDataRowValue.value?foundedDataRowValue.value:foundedDataRowValue},setValue:function(x,y,value){var foundedDataRowValue=this._getDataRowObject(x,y).foundedValue;foundedDataRowValue&&("object"!==("undefined"==typeof foundedDataRowValue?"undefined":_typeof(foundedDataRowValue))||!foundedDataRowValue.value?foundedDataRowValue=value:foundedDataRowValue.value=value),this.data[y][this.getColumnName(x)]=foundedDataRowValue,this.onChange()},getDefinedCellProperties:function(x,y){var foundedDataRowValue=this._getDataRowObject(x,y).foundedValue;return null===foundedDataRowValue||"object"!==("undefined"==typeof foundedDataRowValue?"undefined":_typeof(foundedDataRowValue))||!foundedDataRowValue.properties?{}:foundedDataRowValue.properties},getColspan:function(x,y){var dataRowObject=this._getDataRowObject(x,y),foundedDataRowValue=dataRowObject.foundedValue;if(foundedDataRowValue&&"object"===("undefined"==typeof foundedDataRowValue?"undefined":_typeof(foundedDataRowValue))){if(foundedDataRowValue.colspan)return foundedDataRowValue.colspan;}else if(dataRowObject.skipNeeded){for(var i=x;dataRowObject.skipNeeded;)dataRowObject=this._getDataRowObject(--i,y);return dataRowObject.foundedValue?dataRowObject.foundedValue.colspan-(x-i):0}return 0},getAdditionalWidth:function(x,y){for(var additional=0,colspan=this.getColspan(x,y),i=x+1;i<=x+colspan;i++)additional+=this.grid.getColumnWidth(i);return additional},getRowspan:function(x,y){var foundedDataRowValue=this._getDataRowObject(x,y).foundedValue;return foundedDataRowValue&&"object"===("undefined"==typeof foundedDataRowValue?"undefined":_typeof(foundedDataRowValue))&&!!foundedDataRowValue.rowspan?foundedDataRowValue.rowspan:0},getAdditionalHeight:function(x,y){for(var additional=0,rowspan=this.getRowspan(x,y),i=y+1;i<=y+rowspan;i++)additional+=this.grid.getRowHeight(i);return additional},isColspanedByLeftColumn:function(x,y){var rowValue=this._getDataRowObject(x,y);return!!rowValue.foundedValue&&rowValue.foundedValue.isColspanedByColumn},getRowspanMainRow:function(x,y){var cellOnRow=this._getDataRowObject(x,y);return!cellOnRow.foundedValue||cellOnRow.foundedValue.rowspanedByRow===void 0?null:cellOnRow.foundedValue.rowspanedByRow},getColspanMainColumnName:function(x,y){var cellOnRow=this._getDataRowObject(x,y);return!!cellOnRow.foundedValue&&cellOnRow.foundedValue.colspanedByColumn?cellOnRow.foundedValue.colspanedByColumn:null},isRowspanedByRow:function(x,y){var cellOnRow=this._getDataRowObject(x,y);return!!cellOnRow.foundedValue&&cellOnRow.foundedValue.isRowspanedByRow},isRenderSkipNeeded:function(x,y){return this.isRowspanedByRow(x,y)||this.isColspanedByLeftColumn(x,y)},getRowCount:function(){return this.data.length},getColumnCount:function(){return this.schema.length},getColumnName:function(x){return"n"===("undefined"==typeof x?"undefined":_typeof(x))[0]&&this.schema[x]?this.schema[x].name:x},getColumnTreeLevel:function(x){return"n"===("undefined"==typeof x?"undefined":_typeof(x))[0]&&this.schema[x]&&this.schema[x].colDef?this.schema[x].colDef.treeLevel:void 0},getRowsWithValuesCount:function(){return this.data.filter(function(d){return!d.$$blank_node}).length-this.grid.getFictiveHeaderRowsCount()},getColumnsWithValuesCount:function(){return this.grid.behavior.columns.filter(function(c){return!!c.colDef}).length},isValueUrl:function(value){var result=!1;return Array.isArray(value)?value.forEach(function(v){isStringUrl(v)&&(result=!0)}):result=isStringUrl(value),result},getHighlightRegex:function(match,searchType){var words=match.split(/[ ,]+(\(.*?\))?/).filter(function(e){return!!e}).join("|"),flags="gi",antiTagRegExp="(?![^<>]*(([/\"']|]]|\b)>))";if("EXACT_MATCH"===searchType)return new RegExp("\\b"+words+"\\b"+antiTagRegExp,flags);return"EDGE"===searchType?new RegExp("\\b"+words+antiTagRegExp,flags):"FULL"===searchType?new RegExp(words+antiTagRegExp,flags):void 0},getHighlightedValue:function(str,match,searchType){if(!match||!str||"NONE"===searchType||searchType===void 0)return"";var reg=this.getHighlightRegex(match,searchType);return reg?(str+"").replace(reg,"<mark>$&</mark>"):str},onChange:function(){this.cache=[],this._data=this._data.filter(function(d){return!d.$$blank_node});for(var minimumRowCount=this.grid&&this.grid.properties.minimumRowCount||50;this._data.length<minimumRowCount;)this._data.push(_defineProperty({},"$$blank_node",!0))},get data(){return this._data},set data(data){this._data=data,this.cache=[]}});module.exports=DataSourceLocal},{"../DatasaurBase":18}],20:[function(require,module){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},_createClass=function(){function defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),orientationHashes=require("./orientationHashes"),FinBarTouch=function(){function FinBarTouch(finBar){_classCallCheck(this,FinBarTouch),this.finBar=finBar,this.isTouchHoldOverBar=!1,this.isTouchHoldOverContainer=!1,this.containerLastTouchPos=null,this.containerLastTouchTime=null,this.containerTouchVelocity=0,this.containerTouchAmplitude=0,this.containerTouchScrollInterval=0,this.containerTouchScrollOffset=null,this.containerTouchScrollTarget=null,this.isLastTouchOverBar=null,this.mouseHoldPerformIntervalRate=50,this.mouseHoldPerformInterval=0,this.mouseHoldPerformIntervalCurrentCoordsObj=null,this.mouseHoldPerformTimeout=0,this.isThumbDragging=!0,this.isThumbTouchDragging=!1,this.paging=!0}return _createClass(FinBarTouch,[{key:"performMouseHoldOverBarEnd",value:function(){this.isTouchHoldOverBar=!1,this.mouseHoldPerformIntervalCurrentCoordsObj=null,this.mouseHoldPerformInterval&&(clearInterval(this.mouseHoldPerformInterval),this.mouseHoldPerformInterval=0),this.clearMouseHoldTimeout()}},{key:"clearMouseHoldTimeout",value:function(){this.mouseHoldPerformTimeout&&(clearTimeout(this.mouseHoldPerformTimeout),this.mouseHoldPerformTimeout=0)}},{key:"_addEvt",value:function(evtName){var spy=this.testPanelItem&&this.testPanelItem[evtName];spy&&spy.classList.add("listening"),window.addEventListener(evtName,this["on"+evtName])}},{key:"_removeEvt",value:function(evtName){var spy=this.testPanelItem&&this.testPanelItem[evtName];spy&&spy.classList.remove("listening"),window.removeEventListener(evtName,this["on"+evtName])}},{key:"shortStop",value:function(evt){evt.stopPropagation()}},{key:"onwheel",value:function(evt){var key=this.deltaProp;evt.shiftKey&&(key=orientationHashes[key===orientationHashes.horizontal.delta?"vertical":"horizontal"].delta),this.index+=evt[key],evt.stopPropagation(),evt.preventDefault()}},{key:"onclick",value:function(evt){this.thumb.addEventListener("transitionend",function waitForIt(){this.removeEventListener("transitionend",waitForIt),this.onmouseup(evt)}.bind(this)),evt.stopPropagation()}},{key:"onmouseout",value:function(){this.performMouseHoldOverBarEnd()}},{key:"onmousedown",value:function(evt){var thumbBox=this.thumb.getBoundingClientRect();this.pinOffset=evt[this.oh.axis]-thumbBox[this.oh.leading]+this.bar.getBoundingClientRect()[this.oh.leading]+this.thumbMarginLeading,document.documentElement.style.cursor="default",this._addEvt("mousemove"),this._addEvt("mouseup"),this._performCursorDown(evt),evt.stopPropagation(),evt.preventDefault()}},{key:"onbartouchstart",value:function(evt){var thumbBox=this.thumb.getBoundingClientRect();this.pinOffset=evt.touches[0][this.oh.coordinate]-thumbBox[this.oh.leading]+this.bar.getBoundingClientRect()[this.oh.leading]+this.thumbMarginLeading,document.documentElement.style.cursor="default",this._addEvt("touchend"),this._addEvt("touchmove"),this._performCursorDown(evt.touches[0]),this.isLastTouchOverBar=!0,evt.stopPropagation(),evt.preventDefault()}},{key:"_performCursorDown",value:function(coordsObject){var _this=this,thumbBox=this.thumb.getBoundingClientRect(),mouseOverThumb=thumbBox.left<=coordsObject.clientX&&coordsObject.clientX<=thumbBox.right&&thumbBox.top<=coordsObject.clientY&&coordsObject.clientY<=thumbBox.bottom,mouseOverThumbCenter=!1,goingUp=!1,incrementValue=0;mouseOverThumb?!this.isTouchHoldOverBar&&(this.isThumbDragging=!0):(goingUp=coordsObject[this.oh.coordinate]<thumbBox[this.oh.leading],"object"===_typeof(this.paging)?this.index=this.paging[goingUp?"up":"down"](_Mathround7(this.index)):this.index+=goingUp?-this.increment:this.increment,this.clearMouseHoldTimeout(),this.mouseHoldPerformTimeout=setTimeout(function(){_this.isTouchHoldOverBar=!0,_this.isThumbDragging=!1,_this.mouseHoldPerformIntervalCurrentCoordsObj=coordsObject,_this.mouseHoldPerformInterval=setInterval(function(){var co=_this.mouseHoldPerformIntervalCurrentCoordsObj;thumbBox=_this.thumb.getBoundingClientRect(),mouseOverThumb=thumbBox.left<=co.clientX&&co.clientX<=thumbBox.right&&thumbBox.top<=co.clientY&&co.clientY<=thumbBox.bottom;var thumbCenterLeadingSide=thumbBox[_this.oh.leading]+thumbBox[_this.oh.size]/3,thumbCenterTrailingSide=thumbBox[_this.oh.trailing]-thumbBox[_this.oh.size]/3;mouseOverThumbCenter=mouseOverThumb&&thumbCenterLeadingSide<=co[_this.oh.coordinate]&&thumbCenterTrailingSide>=co[_this.oh.coordinate],mouseOverThumb||(goingUp=co[_this.oh.coordinate]<thumbBox[_this.oh.leading]),incrementValue=goingUp?-_this.increment:_this.increment,_this.isTouchHoldOverBar&&!mouseOverThumbCenter&&(goingUp&&co[_this.oh.coordinate]<=thumbCenterLeadingSide&&0>=_this.index+incrementValue?_this.index=0:_this.index+=incrementValue),_this.isTouchHoldOverBar&&mouseOverThumbCenter&&_this.performMouseHoldOverBarEnd()},_this.mouseHoldPerformIntervalRate)},200))}},{key:"onmousemove",value:function(evt){if(this.isThumbDragging){var scaled=_Mathmin7(this.thumbMax,_Mathmax8(0,evt[this.oh.axis]-this.pinOffset)),idx=scaled/this.thumbMax*(this.max-this.min)+this.min;this._setScroll(idx,scaled)}this.isTouchHoldOverBar&&(this.mouseHoldPerformIntervalCurrentCoordsObj=evt),evt.stopPropagation(),evt.preventDefault()}},{key:"onmouseup",value:function(evt){this.performMouseHoldOverBarEnd(),this.isThumbDragging=!1,this._removeEvt("mousemove"),this._removeEvt("mouseup"),document.documentElement.style.cursor="auto",evt.stopPropagation(),evt.preventDefault()}},{key:"trackTouchScroll",value:function(){var currentTimestamp=Date.now(),elapsed=currentTimestamp-this.containerLastTouchTime;this.containerLastTouchTime=currentTimestamp;var delta=this.containerTouchScrollOffset-this._touchScrollFrame;this._touchScrollFrame=this.containerTouchScrollOffset;this.containerTouchVelocity=this.oh.containerTouchVelocityModifier*(1e3*delta/(1+elapsed))+.2*this.containerTouchVelocity,this.containerTouchVelocity<-this.oh.containerTouchVelocityMax&&(this.containerTouchVelocity=-this.oh.containerTouchVelocityMax),this.containerTouchVelocity>this.oh.containerTouchVelocityMax&&(this.containerTouchVelocity=this.oh.containerTouchVelocityMax)}},{key:"ontouchstart",value:function(evt){this.isTouchHoldOverContainer=!0,this.isThumbTouchDragging=!1,this.containerLastTouchPos=evt.touches[0][this.oh.coordinate],this.containerLastTouchTime=Date.now(),this._touchScrollFrame=this.containerTouchScrollOffset,this.containerTouchVelocity=this.containerTouchAmplitude=0,this.isLastTouchOverBar=!1,this.containerTouchScrollOffset=this.index,this.containerTouchScrollInterval=setInterval(this.trackTouchScroll,100),evt.preventDefault(),evt.stopPropagation()}},{key:"getPos",value:function(e){return e.targetTouches&&1<=e.targetTouches.length?e.targetTouches[0][this.oh.coordinate]:e.touches&&1<=e.touches.length?e.touches[0][this.oh.coordinate]:e[this.oh.coordinate]}},{key:"onthumbtouchstart",value:function(evt){var thumbBox=this.thumb.getBoundingClientRect(),currentMovePos=this.getPos(evt);this.pinOffset=currentMovePos-thumbBox[this.oh.leading]+this.bar.getBoundingClientRect()[this.oh.leading]+this.thumbMarginLeading,this.isThumbTouchDragging=!0,this.containerLastTouchPos=null,this._addEvt("touchend"),this._addEvt("touchmove"),evt.stopPropagation(),evt.preventDefault()}},{key:"ontouchend",value:function(evt){this.isTouchHoldOverContainer&&(this.isTouchHoldOverContainer=!1,clearInterval(this.containerTouchScrollInterval),this.trackTouchScroll(),(10<this.containerTouchVelocity||-10>this.containerTouchVelocity)&&(this.containerTouchAmplitude=.8*this.containerTouchVelocity,this.containerTouchScrollTarget=_Mathround7(this.containerTouchScrollOffset+this.containerTouchAmplitude),this.containerLastTouchTime=Date.now(),requestAnimationFrame(this._performTouchAutoScroll))),this.isThumbTouchDragging=!1,this.isTouchHoldOverContainer=!1,this.containerLastTouchPos=null,this.performMouseHoldOverBarEnd(),this._removeEvt("touchend"),this._removeEvt("touchmove"),evt.stopPropagation(),evt.preventDefault()}},{key:"_performTouchAutoScroll",value:function(){if(this.containerTouchAmplitude){var elapsed=Date.now()-this.containerLastTouchTime,delta=-this.containerTouchAmplitude*Math.exp(-elapsed/325);.5<delta||-.5>delta?(this._performTouchScroll(this.containerTouchScrollTarget+delta),requestAnimationFrame(this._performTouchAutoScroll)):this._performTouchScroll(this.containerTouchScrollTarget)}}},{key:"_performTouchScroll",value:function(y){var newOffset=y>this.max?this.max:y<this.min?this.min:y;newOffset!==this.containerTouchScrollOffset&&(this.containerTouchScrollOffset=newOffset,this._setScroll(this.containerTouchScrollOffset))}},{key:"ontouchmove",value:function(evt){if(this.isThumbTouchDragging){var currentMovePos=this.getPos(evt),scaled=_Mathmin7(this.thumbMax,_Mathmax8(0,currentMovePos-this.pinOffset)),idx=scaled/this.thumbMax*(this.max-this.min)+this.min;this._setScroll(idx,scaled)}else if(this.isTouchHoldOverContainer){var pos=this.getPos(evt),delta=this.containerLastTouchPos-pos;delta*=this.oh.touchToScrollPixelsCoefficient,(delta>2*this.oh.touchToScrollPixelsCoefficient||delta<-2*this.oh.touchToScrollPixelsCoefficient)&&(this.containerLastTouchPos=pos,this._performTouchScroll(this.containerTouchScrollOffset+delta))}else if(this.isLastTouchOverBar){var boundsBox=this.bar.getBoundingClientRect(),touchOverBar=boundsBox.left<=evt.touches[0].clientX&&evt.touches[0].clientX<=boundsBox.right&&boundsBox.top<=evt.touches[0].clientY&&evt.touches[0].clientY<=boundsBox.bottom;touchOverBar||this.performMouseHoldOverBarEnd()}this.mouseHoldPerformIntervalCurrentCoordsObj&&(this.mouseHoldPerformIntervalCurrentCoordsObj=evt.touches[0]),evt.stopPropagation(),evt.preventDefault()}},{key:"_setScroll",value:function(idx,scaled){this.finBar._setScroll(idx,scaled)}},{key:"min",get:function(){return this.finBar.min}},{key:"max",get:function(){return this.finBar.max}},{key:"bar",get:function(){return this.finBar.bar}},{key:"thumb",get:function(){return this.finBar.thumb}},{key:"thumbMax",get:function(){return this.finBar.thumbMax}},{key:"oh",get:function(){return this.finBar.oh}},{key:"deltaProp",get:function(){return this.finBar.deltaProp}},{key:"thumbMarginLeading",get:function(){return this.finBar.thumbMarginLeading}},{key:"testPanelItem",get:function(){return this.finBar.testPanelItem}},{key:"index",set:function(val){this.finBar.index=val},get:function(){return this.finBar.index}},{key:"increment",get:function(){return this.finBar.increment}}]),FinBarTouch}();module.exports=FinBarTouch},{"./orientationHashes":22}],21:[function(require,module){"use strict";function FinBar(options){var bound=this.events=new events(this);Object.getOwnPropertyNames(Object.getPrototypeOf(bound)).filter(function(f){return"function"==typeof bound[f]}).forEach(function(f){return bound[f]=bound[f].bind(bound)});var thumb=this.thumb=document.createElement("div");thumb.classList.add("thumb"),thumb.onclick=bound.shortStop,thumb.ontouchstart=bound.onthumbtouchstart;var bar=this.bar=document.createElement("div");bar.classList.add("finbar-vertical"),bar.onmousedown=bound.onmousedown,this.paging&&(bar.onclick=bound.onclick),bar.appendChild(thumb),bar.ontouchstart=bound.onbartouchstart,bar.onmouseout=bound.onmouseout,options=options||{};var mountDiv=this.mountDiv=document.createElement("div");for(var key in mountDiv.appendChild(bar),this.orientation="vertical",this.min=this._index=0,this.max=100,options)if(options.hasOwnProperty(key)){var option=options[key];"index"===key?this._index=option:"range"===key?(validRange(option),this.min=option.min,this.max=option.max,this.contentSize=option.max-option.min+1):"onBarVisibilityChanged"===key?this.onBarVisibilityChanged=option:"_"!==key.charAt(0)&&"function"!=typeof FinBar.prototype[key]&&(this[key]=option)}cssInjector(cssFinBars,"finbar-base",options.cssStylesheetReferenceElement),this.onBarVisibilityChanged&&this.onBarVisibilityChanged(!0)}function extend(obj){for(var i=1,objn;i<arguments.length;++i)if(objn=arguments[i],objn)for(var key in objn)obj[key]=objn[key];return obj}function validRange(range){var keys=Object.keys(range),valid=2===keys.length&&"number"==typeof range.min&&"number"==typeof range.max&&range.min<=range.max;valid||error("Invalid .range object.")}function error(msg){throw"finbars: "+msg}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},cssInjector=require("css-injector"),events=require("./events"),orientationHashes=require("./orientationHashes");FinBar.prototype={set orientation(orientation){orientation===this._orientation||(this._orientation=orientation,this.oh=orientationHashes[this._orientation],!this.oh&&error("Invalid value for `options._orientation."),this.deltaProp=this.oh.delta,this.bar.className=this.bar.className.replace(/(vertical|horizontal)/g,orientation),(this.bar.style.cssText||this.thumb.style.cssText)&&(this.bar.removeAttribute("style"),this.thumb.removeAttribute("style"),this.resize()))},get orientation(){return this._orientation},onchange:null,onBarVisibilityChanged:function(){},set classPrefix(prefix){this._classPrefix&&this.bar.classList.remove(this._classPrefix+this.orientation),this._classPrefix=prefix,prefix&&this.bar.classList.add(prefix+"-"+this.orientation)},get classPrefix(){return this._classPrefix},increment:1,barStyles:null,set style(styles){var keys=Object.keys(styles=extend({},styles,this._auxStyles));if(keys.length){var bar=this.bar,barRect=bar.getBoundingClientRect(),container=bar.parentElement,containerRect=container.getBoundingClientRect(),oh=this.oh;keys.forEach(function(key){var val=styles[key];if(key in oh&&(key=oh[key]),!isNaN(+val))val=(val||0)+"px";else if(/%$/.test(val)){var oriented=axis[key],margins=barRect[oriented.marginLeading]+barRect[oriented.marginTrailing];margins&&(val=parseInt(val,10)/100*containerRect[oriented.size]-margins+"px")}bar.style[key]=val})}this.restyleMountDiv()},set thumbStyle(styles){var thumb=this.thumb,keys=Object.keys(styles=extend({},styles));keys.length&&keys.forEach(function(key){var val=styles[key];isNaN(+val)||(val=(val||0)+"px"),thumb.style[key]=val}),thumb.style.opacity="1.0",this._setThumbSize()},set mountStyle(styles){var keys=Object.keys(styles=extend({},styles));if(keys.length){var mount=this.mountDiv;keys.forEach(function(key){var val=styles[key];isNaN(+val)||(val=(val||0)+"px"),mount.style[key]=val})}},paging:!0,set range(range){validRange(range),this.min=range.min,this.max=range.max,this.contentSize=range.max-range.min+1,this.index=this.index},get range(){return{min:this.min,max:this.max}},set index(idx){idx=_Mathmin7(this.max,_Mathmax8(this.min,idx)),this._setScroll(idx)},get index(){return this._index},_setScroll:function(idx,scaled){this._index=idx,this.testPanelItem&&this.testPanelItem.index instanceof Element&&(this.testPanelItem.index.innerHTML=_Mathround7(idx)),this.onchange&&this.onchange.call(this,_Mathround7(idx)),scaled===void 0&&(scaled=(idx-this.min)/(this.max-this.min)*this.thumbMax),this.thumb.style[this.oh.leading]=scaled+"px"},scrollRealContent:function(idx){var containerRect=this.content.parentElement.getBoundingClientRect(),sizeProp=this.oh.size,maxScroll=_Mathmax8(0,this.content[sizeProp]-containerRect[sizeProp]),scroll=(idx-this.min)/(this.max-this.min)*maxScroll;this.content.style[this.oh.leading]=-scroll+"px"},resize:function(increment,barStyles,contentFullWidth){void 0!==contentFullWidth&&(this.contentSize=contentFullWidth);var bar=this.bar;if(bar.parentNode){var container=this.mountDiv.parentElement,containerRect=container.getBoundingClientRect();"object"===("undefined"==typeof increment?"undefined":_typeof(increment))&&(barStyles=increment),this.style=this.barStyles=barStyles||this.barStyles,this.content&&!this.onchange&&(this.onchange=this.scrollRealContent,this.contentSize=this.content[this.oh.size],this.min=0,this.max=this.contentSize-1),this.containerSize=containerRect[this.oh.size],this.increment=this.containerSize/3;var index=this.index;return this.testPanelItem=this.testPanelItem||this._addTestPanelItem(),this._setThumbSize(),this.index=index,this.restyleMountDiv(),null!==this.deltaProp&&(container.addEventListener("wheel",this.events.onwheel),container.addEventListener("touchstart",this.events.ontouchstart),container.addEventListener("touchmove",this.events.ontouchmove),container.addEventListener("touchend",this.events.ontouchend)),this}},restyleMountDiv:function(){var computedStyles=window.getComputedStyle(this.bar);"horizontal"===this.orientation?(this.mountDiv.style.height=computedStyles.height,this.mountDiv.style.width="100%",this.mountDiv.style.bottom="0"):(this.mountDiv.style.height="100%",this.mountDiv.style.width=computedStyles.width,this.mountDiv.style.right="0")},shortenBy:function(otherFinBar){return this.shortenEndBy("trailing",otherFinBar)},foreshortenBy:function(otherFinBar){return this.shortenEndBy("leading",otherFinBar)},shortenEndBy:function(whichEnd,otherFinBar){if(!otherFinBar)delete this._auxStyles;else if(otherFinBar instanceof FinBar&&otherFinBar.orientation!==this.orientation){var otherStyle=window.getComputedStyle(otherFinBar.bar),ooh=orientationHashes[otherFinBar.orientation];this._auxStyles={},this._auxStyles[whichEnd]=otherStyle[ooh.thickness]-1}return this},shortenEndByValue:function(whichEnd,shortenValue){return this._auxStyles=this._auxStyles?this._auxStyles:{},this._auxStyles[whichEnd]=shortenValue+"px",this},_setThumbSize:function(){var oh=this.oh,thumbComp=window.getComputedStyle(this.thumb),thumbMarginLeading=parseInt(thumbComp[oh.marginLeading]),thumbMarginTrailing=parseInt(thumbComp[oh.marginTrailing]),thumbMargins=thumbMarginLeading+thumbMarginTrailing,barSize=this.bar.getBoundingClientRect()[oh.size]-thumbMargins,thumbSize=_Mathmax8(20,barSize*this.containerSize/this.contentSize),oldVisibility=this.mountDiv.style.visibility;this.containerSize<this.contentSize?(this.mountDiv.style.visibility="visible",this.thumb.style[oh.size]=thumbSize+"px"):this.mountDiv.style.visibility="hidden",oldVisibility!==this.mountDiv.style.visibility&&this.onBarVisibilityChanged&&this.onBarVisibilityChanged("visible"===this.mountDiv.style.visibility),this.thumbMax=barSize-thumbSize-thumbMargins,this.thumbMarginLeading=thumbMarginLeading},remove:function(){this.bar.onmousedown=null,this._removeEvt("mousemove"),this._removeEvt("mouseup");var container=this.mountDiv.parentElement;container._removeEvt&&container._removeEvt("wheel",this.events.onwheel),this.bar.onclick=this.thumb.onclick=this.thumb.transitionend=this.thumb.onmouseout=null,this.bar.remove()},_addTestPanelItem:function(){var testPanelElement=document.querySelector("."+this._classPrefix+".test-panel")||document.querySelector(".test-panel"),testPanelItem;if(testPanelElement){var testPanelItemPartNames=["mousedown","mousemove","mouseup","index"],item=document.createElement("li");testPanelItemPartNames.forEach(function(partName){item.innerHTML+="<span class=\""+partName+"\">"+partName.replace("mouse","")+"</span>"}),testPanelElement.appendChild(item),testPanelItem={},testPanelItemPartNames.forEach(function(partName){testPanelItem[partName]=item.getElementsByClassName(partName)[0]})}return testPanelItem},_removeEvt:function(evtName){this.events._removeEvt(evtName)}};var axis={top:"vertical",bottom:"vertical",height:"vertical",left:"horizontal",right:"horizontal",width:"horizontal"},cssFinBars=void 0;cssFinBars="div.finbar-horizontal,div.finbar-vertical{position:absolute;margin:3px}div.finbar-horizontal>.thumb,div.finbar-vertical>.thumb{position:absolute;background-color:#d3d3d3;-webkit-box-shadow:0 0 1px #000;-moz-box-shadow:0 0 1px #000;box-shadow:0 0 1px #000;border-radius:4px;margin:2px;opacity:.4;transition:opacity .5s}div.finbar-horizontal>.thumb.hover,div.finbar-vertical>.thumb.hover{opacity:1;transition:opacity .5s}div.finbar-vertical{top:0;bottom:0;right:0;width:11px}div.finbar-vertical>.thumb{top:0;right:0;width:7px}div.finbar-horizontal{left:0;right:0;bottom:0;height:11px}div.finbar-horizontal>.thumb{left:0;bottom:0;height:7px}",module.exports=FinBar},{"./events":20,"./orientationHashes":22,"css-injector":5}],22:[function(require,module){"use strict";module.exports={vertical:{coordinate:"clientY",axis:"pageY",size:"height",outside:"right",inside:"left",leading:"top",trailing:"bottom",marginLeading:"marginTop",marginTrailing:"marginBottom",thickness:"width",delta:"deltaY",containerTouchVelocityModifier:4.2,containerTouchVelocityMax:2e4,touchToScrollPixelsCoefficient:1},horizontal:{coordinate:"clientX",axis:"pageX",size:"width",outside:"bottom",inside:"top",leading:"left",trailing:"right",marginLeading:"marginLeft",marginTrailing:"marginRight",thickness:"height",delta:"deltaX",containerTouchVelocityModifier:2,containerTouchVelocityMax:2e4,touchToScrollPixelsCoefficient:2.4}}},{}],23:[function(require,module){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function range(start,stop){for(var result=[],idx=start.charCodeAt(0),end=stop.charCodeAt(0);idx<=end;++idx)result.push(String.fromCharCode(idx));return result}function idOf(i){return(26<=i?idOf(az,(i/26>>0)-1):"")+az[i%26>>0]}function getFormatter(colDef){var formatterMapper=function(f){var formatter=f;if(formatter&&"string"!=typeof formatter){var update=formatter.prototype.update?formatter.prototype.update:formatter;formatter=function(value){return update({colDef:colDef,value:value,column:colDef})}}return formatter},dataFormatter=formatterMapper(colDef&&colDef.cellRenderer),headerFormatter=formatterMapper(colDef&&colDef.headerCellRenderer),checker=function(func){for(var _len=arguments.length,args=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return func&&"function"==typeof func?func.apply(void 0,args):args[0]};return function(value,isHeader){return"object"===("undefined"==typeof isHeader?"undefined":_typeof(isHeader))&&(isHeader=isHeader.rowProperties?isHeader.rowProperties.headerRow:isHeader.headerRow),"boolean"!=typeof isHeader&&(isHeader=!1),checker(isHeader?headerFormatter:dataFormatter,value)}}function convertColDefs(colDefs){function countMaxTreeLevel(prevLevel,colDefsToDetect){var isTopGroupCollapsed=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],currentLevel=prevLevel+1,hasVisibleColumns=!1;colDefsToDetect.forEach(function(cd){var isAlwaysDisplayedColDef=cd.collapsedHeaderName||cd.isTotal;if(!isTopGroupCollapsed||isAlwaysDisplayedColDef){hasVisibleColumns=!0;var groupCollapsed=void 0!==cd.columnGroupShow&&"open"!==cd.columnGroupShow&&"always-showing"!==cd.columnGroupShow;cd.children&&0<cd.children.length&&countMaxTreeLevel(currentLevel,cd.children,groupCollapsed)}}),currentLevel>maxTreeLevel&&hasVisibleColumns&&(maxTreeLevel=currentLevel)}function getEmptyHeaderRow(){return{__META:{__ROW:{headerRow:!0,font:headersFont,foregroundSelectionFont:headersFont,editable:!0,cellContextMenu:self.getMainMenuItems?self.getMainMenuItems:self.properties.headerContextMenu,halign:"left",showCellContextMenuIcon:showAdditionalInfo,showColumnType:showAdditionalInfo}}}}function colDefMapper(singleColDef){var headerLevel=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,topGroupCollapsed=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],topGroupsIds=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],letter=idOf(schemaColumnsCount),schemaMapper=function(header,name){return{header:header,name:name,topGroupsIds:topGroupsIds,width:singleColDef.width,halign:singleColDef.halign,colTypeSign:singleColDef.colTypeSign,formatter:getFormatter(singleColDef)||void 0,format:name,headerPrefix:singleColDef.headerPrefix,cellContextMenu:getContextMenuItems,colDef:singleColDef}};if(singleColDef){if(topGroupCollapsed&&!singleColDef.collapsedHeaderName&&!singleColDef.isTotal)return[];if(!!singleColDef.children&&0<singleColDef.children.length){var insertedColumnNames=[],groupCollapsed=singleColDef.columnGroupShow&&"open"!==singleColDef.columnGroupShow&&"always-showing"!==singleColDef.columnGroupShow;if(singleColDef.children.forEach(function(ch){var newTopGroupsArray=[].concat(_toConsumableArray(topGroupsIds),[singleColDef.groupId]);insertedColumnNames=[].concat(_toConsumableArray(insertedColumnNames),_toConsumableArray(colDefMapper(ch,headerLevel+1,groupCollapsed,newTopGroupsArray)))}),0===insertedColumnNames.length){var originalField=singleColDef.columnName+"_$$cluster_size",_name=originalField||letter;if(topGroupsIds=[].concat(_toConsumableArray(topGroupsIds),[singleColDef.groupId]),schema.push(schemaMapper(letter||"",_name)),schemaColumnsCount++,originalField){data[headerLevel]||(data[headerLevel]=getEmptyHeaderRow());var rowspan=maxTreeLevel-headerLevel-1,columnName=topGroupCollapsed&&singleColDef.collapsedHeaderName&&singleColDef.collapsedHeaderName.length?singleColDef.collapsedHeaderName:singleColDef.headerName||"";if(data[headerLevel][originalField]={rowspan:0,value:columnName,count:singleColDef.count,childColumnDefs:singleColDef.children,groupId:singleColDef.groupId,columnOpenByDefault:singleColDef.openByDefault,columnGroupShow:singleColDef.columnGroupShow},0<rowspan&&(rowspan--,data[headerLevel+1][originalField]={rowspan:rowspan,value:"Count",count:singleColDef.count}),0<rowspan)for(var i=headerLevel+2;i<maxTreeLevel;i++)data[i]||(data[i]=getEmptyHeaderRow()),data[i][originalField]={rowspan:rowspan-i,isRowspanedByRow:!0,rowspanedByRow:headerLevel,count:singleColDef.count}}return[_name]}data[headerLevel]||(data[headerLevel]=getEmptyHeaderRow());var colspan=insertedColumnNames.length-1,_columnName=topGroupCollapsed&&singleColDef.collapsedHeaderName&&singleColDef.collapsedHeaderName.length?singleColDef.collapsedHeaderName:singleColDef.headerName||"";data[headerLevel][insertedColumnNames[0]]={colspan:colspan,value:_columnName,properties:{ignoreValuePrefix:!1},count:singleColDef.count,childColumnDefs:singleColDef.children,groupId:singleColDef.groupId,columnOpenByDefault:singleColDef.openByDefault,columnGroupShow:singleColDef.columnGroupShow};for(var _i=1;_i<insertedColumnNames.length;_i++)data[headerLevel][insertedColumnNames[_i]]={colspan:colspan-_i,isColspanedByColumn:!0,colspanedByColumn:insertedColumnNames[0],count:singleColDef.count,childColumnDefs:singleColDef.children,groupId:singleColDef.groupId,columnOpenByDefault:singleColDef.openByDefault,columnGroupShow:singleColDef.columnGroupShow};return insertedColumnNames}var _originalField=singleColDef.field,_name2=_originalField||letter;if(schema.push(schemaMapper(letter||"",_name2)),schemaColumnsCount++,_originalField){data[headerLevel]||(data[headerLevel]=getEmptyHeaderRow());var _rowspan=maxTreeLevel-headerLevel-1,_columnName2=topGroupCollapsed&&singleColDef.collapsedHeaderName&&singleColDef.collapsedHeaderName.length?singleColDef.collapsedHeaderName:singleColDef.headerName||"";data[headerLevel][_originalField]={rowspan:_rowspan,value:_columnName2,count:singleColDef.count};for(var _i2=headerLevel+1,it=1;_i2<maxTreeLevel;_i2++,it++)data[_i2]||(data[_i2]=getEmptyHeaderRow()),data[_i2][_originalField]={rowspan:_rowspan-_i2,isRowspanedByRow:!0,rowspanedByRow:headerLevel,count:singleColDef.count}}return[_name2]}return schema.push({header:letter||"",name:letter,maxWidth:maximumColumnWidth,format:name,cellContextMenu:getContextMenuItems}),schemaColumnsCount++,[letter]}var schema=[],headersFont=this.properties.columnHeaderFontBold,maximumColumnWidth=this.properties.maximumColumnWidth,getContextMenuItems=this.getContextMenuItems,showAdditionalInfo=this.properties.showAdditionalInfo,self=this,data=[],az=range("A","Z"),schemaColumnsCount=0,maxTreeLevel=0;if(countMaxTreeLevel(0,colDefs),colDefs.forEach(function(singleColDef){return colDefMapper(singleColDef)}),schemaColumnsCount<az.length)for(var i=schemaColumnsCount;i<az.length;++i)colDefMapper();return{schema:schema,data:data,fictiveHeaderRowsCount:maxTreeLevel}}function getVisibleColDefs(colDefs){var res=colDefs.filter(function(cd){return!cd.isHidden});return res.filter(function(cd){return cd.children}).forEach(function(cd){cd.children=getVisibleColDefs(cd.children)}),res}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},equal=require("deep-equal"),az=range("A","Z");module.exports={rowModel:{virtualPageCache:{updateHeightForAllRows:function(){}},setExpanded:function(){}},rangeController:{allRowsSelected:!1,selectedCols:[],refreshBorders:function(){},selectAll:function(){}},gridPanel:{resetVerticalScrollPosition:function(){this.log("resetVerticalScrollPosition"),this.vScrollValue=0},setVerticalScrollPosition:function(value){this.log("setVerticalScrollPosition"),this.vScrollValue=value},getVerticalScrollPosition:function(){return this.log("getVerticalScrollPosition"),this.vScrollValue},resetHorizontalScrollPosition:function(){this.log("resetHorizontalScrollPosition"),this.hScrollValue=0},setHorizontalScrollPosition:function(value){this.log("setHorizontalScrollPosition"),this.hScrollValue=value},getHorizontalScrollPosition:function(){return this.log("getHorizontalScrollPosition"),this.hScrollValue}},columnController:{getAllGridColumns:function(){return this.log("getAllGridColumns"),this.getActiveColumns()},updateDisplayedColumns:function(){this.log("updateDisplayedColumns")}},floatingRowModel:{floatingTopRows:[],flattenStage:{execute:function(rootNode){this.log(rootNode)}},setExpanded:function(id,expanded){this.log(id,expanded)}},virtualPageRowModel:{virtualPageCache:{updateAllRowTopFromIndexes:function(){this.log("updateAllRowTopFromIndexes")}},getRow:function(rowIndex,dontCreatePage){this.log("getRow",rowIndex,dontCreatePage)}},setColumnDefs:function(colDefs){var _this=this;this.log("setColumnDefs",colDefs),this.columnDefs=colDefs,this.visibleColumnDefs=getVisibleColDefs(this.columnDefs);var schema=convertColDefs.call(this,this.visibleColumnDefs);this.log("schema",schema);var firstRowsData=schema.data,data=this.behavior.getData();if(this.getMainMenuItems&&(this.behavior.grid.properties.headerContextMenu=this.getMainMenuItems),this.behavior.grid.properties.useHeaders){if(!data||0===data.length)data=[].concat(_toConsumableArray(firstRowsData));else{if(schema.fictiveHeaderRowsCount<this.behavior.grid.properties.fictiveHeaderRowsCount){var diff=this.behavior.grid.properties.fictiveHeaderRowsCount-schema.fictiveHeaderRowsCount;data.splice(schema.fictiveHeaderRowsCount-1,diff)}this.behavior.grid.properties.fictiveHeaderRowsCount=schema.fictiveHeaderRowsCount,firstRowsData.forEach(function(d,i){equal(data[0],d)||(_this.behavior.getRowProperties(i).headerRow?data[i]=d:data.splice(i,0,d))})}this.api.needColumnsToFit=!0}this.log("schema.schema",schema.schema),this.behavior.setData({data:data,schema:schema.schema}),this.allowEvents(!0),this.behavior.dataModel.setSchema(schema.schema),this.clearSelections()},setRowData:function(rowData){this.log("setRowData",rowData),1e3===rowData.length&&this.behavior.grid.properties.useHeaders&&rowData.pop(),this.data=rowData,this.setData({data:rowData}),this.behavior.buildFlatMode(),this.columnDefs&&this.api.setColumnDefs(this.columnDefs)},sizeColumnsToFit:function(){this.log("sizeColumnsToFit"),this.api.needColumnsToFit&&(this.behavior.fitColumns(),this.canvas.resize(!1),this.addEventListener("fin-grid-rendered",function(){this.api.needColumnsToFit&&(this.canvas.resizeNotification(),this.api.needColumnsToFit=!1)}.bind(this)))},destroy:function(total){this.log("destroy",total),this.setHighlightText(""),this.cancelEditing(),this.sbPrevVScrollValue=null,this.sbPrevHScrollValue=null,this.hoverCell=null,this.scrollingNow=!1,this.behavior.reset(),this.selectionModel.reset(),this.renderer.reset(),this.api.rangeController.selectedCols=[],total||!this.isAlive()?this.destroyScrollbars():(this.canvas.resize(),this.behaviorChanged(),this.refreshProperties(),this.div&&(this.initialize(this.div),this.canvas.start())),this.behavior.grid.fireSyntheticApiDestroyCalled(total)},getRangeSelections:function(){return this.log("getRangeSelections"),this.getSelections()},copySelectedRangeToClipboard:function(includeHeaders){this.log("copySelectedRangeToClipboard",includeHeaders),this.copyIncludeHeaders=includeHeaders,document.execCommand("copy"),delete this.copyIncludeHeaders},getSelectedColumns:function(){return this.log("getSelectedColumns"),this.api.rangeController.selectedCols},getModel:function(){return this.log("getModel"),{rowsToDisplay:[],getRow:function(){this.log("getRow")}}},refreshView:function(){this.log("refreshView"),this.repaint()},removeItems:function(rowNodes){this.log("removeItems",rowNodes)},insertItemsAtIndex:function(index,items){this.log("insertItemsAtIndex",index,items)},clearRangeSelection:function(){this.log("clearRangeSelection"),this.clearSelections(),this.repaint()},clearFocusedCell:function(){this.log("clearFocusedCell"),this.clearMostRecentSelection(),this.repaint()},getFloatingTopRowData:function(){this.log("getFloatingTopRowData")},getFloatingTopRowCount:function(){this.log("getFloatingTopRowCount")},showNoRowsOverlay:function(){this.log("showNoRowsOverlay")},hideOverlay:function(){this.log("hideOverlay")},refreshCells:function(rowNodes,colIds,animate){this.log("refreshCells",rowNodes,colIds,animate)},setDatasource:function(datasource){var _this2=this;this.log("setDatasource",datasource),this.api.datasource=datasource,this.setHighlightText(datasource.search||"");var startRow=this.data.length||0;if(startRow<datasource.totalSize||0===startRow){var params={startRow:startRow,endRow:startRow+this.paginationPageSize,successCallback:function(rows,lastRowIndex){_this2.log("successCallback",rows,lastRowIndex),0===startRow&&1e3===rows.length&&rows.pop(),[].push.apply(_this2.data,rows),_this2.addData({data:rows}),_this2.behavior.buildFlatMode()},failCallback:function(){this.log("failCallback"),this.addData({data:[]})},sortModel:datasource.sortModel,filterModel:{},context:void 0};datasource.getRows(params)}},onGroupExpandedOrCollapsed:function(refreshFromIndex){this.log("onGroupExpandedOrCollapsed",refreshFromIndex)},getSortModel:function(){return this.log("getSortModel"),[]},doLayout:function(){},refreshInMemoryRowModel:function(){this.log("refreshInMemoryRowModel")},attachLinkToDataCell:function(x,y,link){this.behavior.setCellProperty(x,y,"link",link)},registerCellEditedEventListener:function(callback){this.addInternalEventListener("fin-after-cell-edit",callback)},applyProperties:function(newProps){Object.assign(this.properties,newProps),this.repaint()}}},{"deep-equal":6}],24:[function(require,module){"use strict";function setColumnsVisible(keys,visible){var _this=this;this.log("setColumnsVisible",keys,visible);var colDef=this.columnDefs,columnsStateChanged=!1;keys.forEach(function(key){_this.getColDefs(key).forEach(function(cd){cd.isHidden=!visible,columnsStateChanged=!0})}),columnsStateChanged&&(this.api.setColumnDefs(colDef),this.api.needColumnsToFit=!0)}module.exports={getAllGridColumns:function(){return this.log("getAllGridColumns"),this.getActiveColumns()},setColumnVisible:function(key,visible){this.log("setColumnVisible",key,visible),setColumnsVisible.call(this,[key],visible)},setColumnsVisible:setColumnsVisible,changePinnedRange:function(countToPin){this.log("changePinnedRange",countToPin)},getAllColumns:function(){return this.log("getAllColumns"),this.getActiveColumns().filter(function(c){return c.colDef})},resetColumnState:function(){this.log("resetColumnState")},getColumn:function(key){this.log("getColumn",key)},moveColumn:function(fromIndex,toIndex){this.moveColumns(fromIndex,1,toIndex,!1,!0),this.log("moveColumn",fromIndex,toIndex)},getAllDisplayedVirtualColumns:function(){return this.log("getAllDisplayedVirtualColumns"),this.getActiveColumns()},autoSizeColumns:function(columns,force){var _this2=this;this.log("autoSizeColumns",columns,force),columns.forEach(function(c){return _this2.behavior.fitColumn(c,force)})}}},{}],25:[function(require,module){"use strict";function getUnderlyingIndexesOfSelectedRows(){var sourceIndexes=[],dataModel=this.dataModel;return this.properties.keepRowSelections&&this.getSelectedRows().forEach(function(selectedRowIndex){sourceIndexes.push(dataModel.getRowIndex(selectedRowIndex))}),sourceIndexes}function reselectRowsByUnderlyingIndexes(sourceIndexes){var dataModel=this.dataModel,rowCount=dataModel.getRowCount(),selectedRowCount=sourceIndexes.length,rowIndexes=[],selectionModel=this.selectionModel,i,r;if(selectionModel.clearRowSelection(),this.properties.keepRowSelections){for(r=0;selectedRowCount&&r<rowCount;++r)i=sourceIndexes.indexOf(dataModel.getRowIndex(r)),0<=i&&(rowIndexes.push(r),delete sourceIndexes[i],selectedRowCount--);rowIndexes.forEach(function(rowIndex){selectionModel.selectRow(rowIndex)})}return rowIndexes.length}var dispatchEvent=require("../events.js").dispatchEvent,schema=require("./schema"),mixin={fireSyntheticDataSchemaChangedEvent:function(event){return schema.enrich.call(this,event&&event.schema),dispatchEvent.call(this,"fin-data-schema-changed",event)},fireSyntheticDataChangedEvent:function(event){return this.repaint(),dispatchEvent.call(this,"fin-data-changed",event)},fireSyntheticDataShapeChangedEvent:function(event){return this.behaviorShapeChanged(),dispatchEvent.call(this,"fin-data-shape-changed",event)},fireSyntheticDataPrereindexEvent:function(event){return this.selectedRowSourceIndexes=getUnderlyingIndexesOfSelectedRows.call(this),dispatchEvent.call(this,"fin-data-prereindex",event)},fireSyntheticDataPostreindexEvent:function(event){return this.selectedRowSourceIndexes&&(this.selectedRowSourceIndexes.length&&reselectRowsByUnderlyingIndexes.call(this,this.selectedRowSourceIndexes),delete this.selectedRowSourceIndexes),dispatchEvent.call(this,"fin-data-postreindex",event)&&this.fireSyntheticDataShapeChangedEvent(event)},delegateDataEvents:function(){Object.keys(handlersByEventString).forEach(function(eventString){this.addDataEventListener(eventString,handlersByEventString[eventString])},this)},addDataEventListener:function(eventString,handler){var grid=this;grid.addInternalEventListener("fin-canvas-"+eventString,function(event){handler.call(grid,event||{})})}},handlersByEventString;handlersByEventString={"data-schema-changed":mixin.fireSyntheticDataSchemaChangedEvent,"data-changed":mixin.fireSyntheticDataChangedEvent,"data-shape-changed":mixin.fireSyntheticDataShapeChangedEvent,"data-prereindex":mixin.fireSyntheticDataPrereindexEvent,"data-postreindex":mixin.fireSyntheticDataPostreindexEvent},module.exports={mixin:mixin,handlers:handlersByEventString}},{"../events.js":27,"./schema":26}],26:[function(require,module,exports){"use strict";function WITH_UPPER_CASE(match,char){return char===void 0?"":char.toUpperCase()}function WITH_LOWER_CASE(match,char){return char.toLowerCase()}function initSchemaEnum(){var schema=this.getSchema();schema.forEach(function(columnSchema,columnIndex){converters.forEach(function(converter){var convertedKey=converter(columnSchema.name);convertedKey in schema||(schema[convertedKey]=schema[columnIndex])})})}function initDataRowProxy(){var dataModel=this,dataRowProxy={};Object.defineProperty(dataRowProxy,"$y$",{enumerable:!1,writable:!0}),dataModel.getSchema().forEach(function(columnSchema,columnIndex){Object.defineProperty(dataRowProxy,columnSchema.name,{enumerable:!0,get:function(){return dataModel.getValue(columnIndex,this.$y$)},set:function(value){return dataModel.setValue(columnIndex,this.$y$,value)}})}),dataModel.dataRowProxy=dataRowProxy}var headerifiers=require("../../lib/headerifiers");exports.enrich=function(schema){var dataModel=this.behavior.dataModel;schema=schema||dataModel.getSchema(),schema.forEach(function(columnSchema,index){"string"==typeof columnSchema&&(schema[index]={name:columnSchema})}),schema=schema.filter(function(columnSchema){return"__"!==columnSchema.name.substr(0,2)}),schema.forEach(function(columnSchema,index){columnSchema.index=index});var headerifier=headerifiers[this.properties.headerify];headerifier&&schema.forEach(function(columnSchema){columnSchema.header||(columnSchema.header=headerifier(columnSchema.name))}),initSchemaEnum.call(dataModel),initDataRowProxy.call(dataModel)};var REGEX_CAMEL_CASE_OR_UNDERSCORE=/([^_A-Z])([A-Z]+)/g,REGEX_ALL_PUNC_RUN=/[^a-z0-9]+/gi,REGEX_ALL_PUNC_RUN_BEFORE_LETTER=/[^a-z0-9]+([a-z0-9])?/ig,REGEX_INITIAL_DIGIT=/^(\d)/,WITH_DOLLAR_PREFIX="$$$1",REGEX_INITIAL_CAPITAL=/^([A-Z])/,converters=[function(key){return key},function(key){return key.replace(REGEX_ALL_PUNC_RUN_BEFORE_LETTER,WITH_UPPER_CASE).replace(REGEX_INITIAL_DIGIT,WITH_DOLLAR_PREFIX).replace(REGEX_INITIAL_CAPITAL,WITH_LOWER_CASE)},function(key){return key.replace(REGEX_ALL_PUNC_RUN,"_").replace(REGEX_CAMEL_CASE_OR_UNDERSCORE,"$1_$2").replace(REGEX_INITIAL_DIGIT,WITH_DOLLAR_PREFIX).toUpperCase()}]},{"../../lib/headerifiers":97}],27:[function(require,module){function dispatchEvent(eventName,cancelable,event,primitiveEvent){var detail,result;if(this.canvas)return"boolean"!=typeof cancelable&&(primitiveEvent=event,event=cancelable,cancelable=!1),event.detail||(event={detail:event}),detail=event.detail,detail.grid||(detail.grid=this),detail.time=Date.now(),primitiveEvent&&(!detail.primitiveEvent&&(detail.primitiveEvent=primitiveEvent),details.forEach(function(key){key in primitiveEvent&&!(key in detail)&&(detail[key]=primitiveEvent[key])}),"dataRow"in primitiveEvent&&Object.defineProperty(detail,"row",{get:function(){return primitiveEvent.dataRow}})),cancelable&&(event.cancelable=!0),result=this.canvas.dispatchEvent(new CustomEvent(eventName,event)),!cancelable||result}var _=require("object-iterators"),details=["gridCell","dataCell","mousePoint","keys","row"];module.exports={mixin:{addEventListener:function(eventName,listener,internal){var self=this,listeners=this.listeners[eventName]=this.listeners[eventName]||[],alreadyAttached=listeners.find(function(info){return info.listener===listener});if(!alreadyAttached){var info={internal:internal,listener:listener,decorator:function(e){self.allowEventHandlers&&listener(e)}};listeners.push(info),this.canvas.addEventListener(eventName,info.decorator)}},addInternalEventListener:function(eventName,listener){this.addEventListener(eventName,listener,!0)},removeEventListener:function(eventName,listener){var listenerList=this.listeners[eventName];listenerList&&listenerList.find(function(info,index){if(info.listener===listener)return 1===listenerList.length?delete this.listeners[eventName]:listenerList.splice(index,1),this.canvas.removeEventListener(eventName,info.decorator),!0},this)},removeAllEventListeners:function(internal){_(this.listeners).each(function(listenerList,key){listenerList.slice().forEach(function(info){(internal||!info.internal)&&this.removeEventListener(key,info.listener)},this)},this)},allowEvents:function(allow){this.allowEventHandlers=!!allow,this.behavior.featureChain&&(allow?this.behavior.featureChain.attachChain():this.behavior.featureChain.detachChain()),this.behavior.changed()},fireSyntheticColumnSortEvent:function(c,keys){return dispatchEvent.call(this,"fin-column-sort",{column:c,keys:keys})},fireSyntheticEditorKeyUpEvent:function(inputControl,keyEvent){return dispatchEvent.call(this,"fin-editor-keyup",{input:inputControl,keyEvent:keyEvent,char:this.canvas.getCharMap()[keyEvent.keyCode][keyEvent.shiftKey?1:0]})},fireSyntheticApiDestroyCalled:function(total){return dispatchEvent.call(this,"fin-api-destroy-called",{total:total})},fireSyntheticEditorKeyDownEvent:function(inputControl,keyEvent){return dispatchEvent.call(this,"fin-editor-keydown",{input:inputControl,keyEvent:keyEvent,char:this.canvas.getCharMap()[keyEvent.keyCode][keyEvent.shiftKey?1:0]})},fireSyntheticEditorKeyPressEvent:function(inputControl,keyEvent){return dispatchEvent.call(this,"fin-editor-keypress",{input:inputControl,keyEvent:keyEvent,char:(this.canvas.getCharMap()[keyEvent.keyCode]||{})[keyEvent.shiftKey?1:0]})},fireSyntheticEditorDataChangeEvent:function(inputControl,oldValue,newValue){return dispatchEvent.call(this,"fin-editor-data-change",!0,{input:inputControl,oldValue:oldValue,newValue:newValue})},fireSyntheticColumnsMovedEvent:function(columns,toIndex){return dispatchEvent.call(this,"fin-columns-moved",!0,{columns:columns,toIndex:toIndex})},fireSyntheticRowSelectionChangedEvent:function(){return dispatchEvent.call(this,"fin-row-selection-changed",this.selectionDetailGetters)},fireSyntheticColumnSelectionChangedEvent:function(){return dispatchEvent.call(this,"fin-column-selection-changed",this.selectionDetailGetters)},fireSyntheticGridDataAddedEvent:function(dataRows){return dispatchEvent.call(this,"fin-grid-data-added",!0,{dataRows:dataRows})},fireSyntheticContextMenuEvent:function(event){return Object.defineProperties(event,this.selectionDetailGetterDescriptors),dispatchEvent.call(this,"fin-context-menu",{},event)},fireSyntheticMouseUpEvent:function(event){return Object.defineProperties(event,this.selectionDetailGetterDescriptors),dispatchEvent.call(this,"fin-mouseup",{},event)},fireSyntheticMouseDownEvent:function(event){return Object.defineProperties(event,this.selectionDetailGetterDescriptors),dispatchEvent.call(this,"fin-mousedown",{},event)},fireSyntheticMouseMoveEvent:function(event){return dispatchEvent.call(this,"fin-mousemove",{},event)},fireSyntheticButtonPressedEvent:function(event){var subrects=this.isViewableButton(event.dataCell.x,event.gridCell.y);if(subrects){var subrow=subrects.findIndex(function(bounds){var mouse=event.primitiveEvent.detail.mouse;return bounds.y<=mouse.y&&mouse.y<bounds.y+bounds.height});if(0<=subrow)return event.subrow=subrow,dispatchEvent.call(this,"fin-button-pressed",{},event)}},fireSyntheticOnColumnsChangedEvent:function(){return dispatchEvent.call(this,"fin-column-changed-event",{})},fireSyntheticOnColumnResizedEvent:function(columnOrIndex,width){return dispatchEvent.call(this,"fin-column-resized-event",{},{columnOrIndex:columnOrIndex,width:width})},fireSyntheticOnFixedColumnCountChangedEvent:function(oldFixedCount,newFixedCount){return dispatchEvent.call(this,"fin-fixed-column-count-changed",{},{oldFixedCount:oldFixedCount,newFixedCount:newFixedCount})},fireSyntheticOnFixedRowCountChangedEvent:function(oldFixedCount,newFixedCount){return dispatchEvent.call(this,"fin-fixed-row-count-changed",{},{oldFixedCount:oldFixedCount,newFixedCount:newFixedCount})},fireSyntheticKeydownEvent:function(keyEvent){return dispatchEvent.call(this,"fin-keydown",keyEvent.detail)},fireSyntheticKeyupEvent:function(keyEvent){return dispatchEvent.call(this,"fin-keyup",keyEvent.detail)},fireSyntheticFilterAppliedEvent:function(){return dispatchEvent.call(this,"fin-filter-applied",{})},fireSyntheticOnCellEnterEvent:function(cellEvent){return dispatchEvent.call(this,"fin-cell-enter",cellEvent)},fireSyntheticOnCellExitEvent:function(cellEvent){return dispatchEvent.call(this,"fin-cell-exit",cellEvent)},fireSyntheticClickEvent:function(cellEvent){return dispatchEvent.call(this,"fin-click",{},cellEvent)},fireSyntheticDoubleClickEvent:function(cellEvent){return this.abortEditing()?dispatchEvent.call(this,"fin-double-click",{},cellEvent):void 0},fireSyntheticGridRenderedEvent:function(){return dispatchEvent.call(this,"fin-grid-rendered",{source:this})},fireSyntheticTickEvent:function(){return dispatchEvent.call(this,"fin-tick",{source:this})},fireSyntheticGridResizedEvent:function(e){return dispatchEvent.call(this,"fin-grid-resized",e)},fireScrollEvent:function(eventName,oldValue,newValue){return dispatchEvent.call(this,eventName,{oldValue:oldValue,value:newValue})},fireRequestCellEdit:function(cellEvent,value){return dispatchEvent.call(this,"fin-request-cell-edit",!0,{value:value},cellEvent)},fireBeforeCellEdit:function(cellEvent,oldValue,newValue,control){return dispatchEvent.call(this,"fin-before-cell-edit",!0,{oldValue:oldValue,newValue:newValue,input:control},cellEvent)},fireAfterCellEdit:function(cellEvent,oldValue,newValue,control){return dispatchEvent.call(this,"fin-after-cell-edit",{newValue:newValue,oldValue:oldValue,input:control},cellEvent)},fireAfterHeaderCellEdit:function(cellEvent,oldValue,newValue,control){return dispatchEvent.call(this,"fin-after-header-cell-edit",{newValue:newValue,oldValue:oldValue,input:control},cellEvent)},delegateCanvasEvents:function(){function handleMouseEvent(e,cb){if(0!==grid.getLogicalRowCount()){var c=grid.getGridCellFromMousePoint(e.detail.mouse),primitiveEvent,decoratedEvent;c&&(!c.fake||e.detail.dragstart)&&(primitiveEvent=c.cellEvent),primitiveEvent&&(decoratedEvent=Object.defineProperty(primitiveEvent,"primitiveEvent",{value:e,enumerable:!1,configurable:!0,writable:!0}),cb.call(grid,decoratedEvent))}}var grid=this;this.addInternalEventListener("fin-canvas-resized",function(e){grid.resized(),grid.fireSyntheticGridResizedEvent(e)}),this.addInternalEventListener("fin-canvas-mousemove",function(e){grid.properties.readOnly||handleMouseEvent(e,function(mouseEvent){this.delegateMouseMove(mouseEvent),this.fireSyntheticMouseMoveEvent(mouseEvent)})}),this.addInternalEventListener("fin-canvas-mousedown",function(e){return grid.properties.readOnly?void 0:grid.abortEditing()?void handleMouseEvent(e,function(mouseEvent){mouseEvent.keys=e.detail.keys,this.mouseDownState=mouseEvent,this.delegateMouseDown(mouseEvent),this.fireSyntheticMouseDownEvent(mouseEvent),this.repaint()}):void event.stopPropagation()}),this.addInternalEventListener("fin-canvas-outside-mousedown",function(){grid.delegateCanvasOutsideMousedown(event)}),this.addInternalEventListener("fin-canvas-click",function(e){grid.properties.readOnly||handleMouseEvent(e,function(mouseEvent){mouseEvent.keys=e.detail.keys,this.fireSyntheticClickEvent(mouseEvent),this.delegateClick(mouseEvent)})}),this.addInternalEventListener("fin-canvas-mouseup",function(e){grid.properties.readOnly||(grid.dragging=!1,grid.isScrollingNow()&&grid.setScrollingNow(!1),grid.columnDragAutoScrolling&&(grid.columnDragAutoScrolling=!1),handleMouseEvent(e,function(mouseEvent){this.delegateMouseUp(mouseEvent),grid.mouseDownState&&grid.fireSyntheticButtonPressedEvent(grid.mouseDownState),this.mouseDownState=null,this.fireSyntheticMouseUpEvent(mouseEvent)}))}),this.addInternalEventListener("fin-canvas-dblclick",function(e){grid.properties.readOnly||handleMouseEvent(e,function(mouseEvent){this.fireSyntheticDoubleClickEvent(mouseEvent,e),this.delegateDoubleClick(mouseEvent)})}),this.addInternalEventListener("fin-canvas-drag",function(e){grid.properties.readOnly||(grid.dragging=!0,handleMouseEvent(e,grid.delegateMouseDrag))}),this.addInternalEventListener("fin-canvas-keydown",function(e){grid.properties.readOnly||(grid.fireSyntheticKeydownEvent(e),grid.delegateKeyDown(e))}),this.addInternalEventListener("fin-api-destroy-called",function(e){grid.delegateApiDestroyCalled(e)}),this.addInternalEventListener("fin-canvas-keyup",function(e){grid.properties.readOnly||(grid.fireSyntheticKeyupEvent(e),grid.delegateKeyUp(e))}),this.addInternalEventListener("fin-canvas-wheelmoved",function(e){handleMouseEvent(e,grid.delegateWheelMoved)}),this.addInternalEventListener("fin-canvas-mouseout",function(e){grid.properties.readOnly||handleMouseEvent(e,grid.delegateMouseExit)}),this.addInternalEventListener("fin-canvas-context-menu",function(e){handleMouseEvent(e,function(mouseEvent){grid.delegateContextMenu(mouseEvent),grid.fireSyntheticContextMenuEvent(mouseEvent)})}),this.addInternalEventListener("fin-grid-rendered",function(){grid.delegateGridRendered(event)}),document.body.addEventListener("copy",function(evt){grid.checkClipboardCopy(evt)}),document.body.addEventListener("paste",function(evt){console.log(evt.clipboardData.getData("text/html"))}),this.addInternalEventListener("fin-column-resized-event",function(){grid.delegateColumnResizedEvent(event),grid.synchronizeScrollbarsVisualization()}),this.addInternalEventListener("fin-fixed-column-count-changed",function(){grid.synchronizeScrollbarsVisualization()}),this.addInternalEventListener("fin-fixed-row-count-changed",function(){grid.synchronizeScrollbarsVisualization()}),this.addInternalEventListener("fin-after-cell-edit",function(e){var headerRowY=grid.properties.useHeaders?grid.getFictiveHeaderRowsCount():0;e.detail.primitiveEvent.y<=headerRowY&&grid.fireAfterHeaderCellEdit(e.detail.primitiveEvent,e.detail.oldValue,e.detail.newValue,e.detail.input)}),this.addInternalEventListener("fin-after-header-cell-edit",function(e){if(e.detail.newValue!==e.detail.oldValue){var column=grid.behavior.getActiveColumn(e.detail.primitiveEvent.x);if(grid.behavior.fitColumn(column),grid.onUpdateColumnName&&column){grid.onUpdateColumnName(column,e.detail.newValue);var rowProps=grid.behavior.getRowProperties(0);if(rowProps&&rowProps.headerRow){var row=grid.getRow(0);grid.getColumns().forEach(function(c){c.colDef&&row[c.name]!==c.colDef.headerName&&(row[c.name]=c.colDef.headerName)})}}}}),this.addInternalEventListener("fin-grid-data-added",function(e){grid.delegateGridDataAdded(e)})},delegateWheelMoved:function(event){this.behavior.onWheelMoved(this,event)},delegateMouseExit:function(event){this.behavior.handleMouseExit(this,event)},delegateContextMenu:function(event){this.behavior.onContextMenu(this,event)},delegateGridRendered:function(event){this.behavior.onGridRendered(this,event)},delegateColumnResizedEvent:function(event){this.behavior.onColumnResizedEvent(this,event)},delegateMouseMove:function(mouseDetails){this.behavior.onMouseMove(this,mouseDetails)},delegateMouseDown:function(mouseDetails){this.behavior.handleMouseDown(this,mouseDetails)},delegateCanvasOutsideMousedown:function(mouseDetails){this.behavior.handleCanvasOutsideMouseDown(this,mouseDetails)},delegateMouseUp:function(mouseDetails){this.behavior.onMouseUp(this,mouseDetails)},delegateClick:function(mouseDetails){this.behavior.onClick(this,mouseDetails)},delegateMouseDrag:function(mouseDetails){this.behavior.onMouseDrag(this,mouseDetails)},delegateDoubleClick:function(mouseDetails){this.behavior.onDoubleClick(this,mouseDetails)},delegateKeyDown:function(event){this.behavior.onKeyDown(this,event)},delegateApiDestroyCalled:function(event){this.behavior.onApiDestroyCalled(this,event)},delegateKeyUp:function(event){this.behavior.onKeyUp(this,event)},delegateGridDataAdded:function(event){this.behavior.onDataAdded(this,event)}},dispatchEvent:dispatchEvent}},{"object-iterators":12}],28:[function(require,module){function Var(){this.gridRenderer=defaults.gridRenderer,this.rowHeaderCheckboxes=defaults.rowHeaderCheckboxes,this.rowHeaderNumbers=defaults.rowHeaderNumbers,this.gridBorder=defaults.gridBorder,this.gridBorderTop=defaults.gridBorderTop,this.gridBorderRight=defaults.gridBorderRight,this.gridBorderBottom=defaults.gridBorderBottom,this.gridBorderLeft=defaults.gridBorderLeft}function findOrCreateContainer(boundingRect){var div=document.getElementById("hypergrid"),used=div&&!div.firstElementChild;return used||(div=document.createElement("div"),setStyles(div,boundingRect,RECT_STYLES),document.body.appendChild(div)),div}function setStyles(el,style,keys){if(style){var elStyle=el.style;keys.forEach(function(key){style[key]!==void 0&&(elStyle[key]=style[key])})}}function stringifyFunctions(){var self=this;return Object.keys(this).reduce(function(obj,key){return"toJSON"!==key&&(obj[key]=/^function /.test(key)?null:self[key].toString().replace(/^function anonymous\(/,"function(").replace("\n/*``*/)",")")),obj},{})}function clone(value){return Array.isArray(value)?value.slice():"object"===("undefined"==typeof value?"undefined":_typeof(value))?Object.defineProperties({},Object.getOwnPropertyDescriptors(value)):value}function deepClone(object){var result=clone(object);return Object.keys(result).forEach(function(key){var descriptor=Object.getOwnPropertyDescriptor(result,key);"object"===_typeof(descriptor.value)&&(result[key]=deepClone(descriptor.value))}),result}function createCellEditor(name,props){var CellEditor=cellEditors.get(name);if(CellEditor)return new CellEditor(this,props)}function pleaseUse(requireString,module){if(!pleaseUse.warned[requireString]){var key=requireString.match(/\w+$/)[0];console.warn("Reference to "+key+" external module using"+" `Hypergrid."+key+".` has been deprecated as of v3.0.0 in favor of"+" `require('"+requireString+"')` from within a Hypergrid Client Module"+" (otherwise use `Hypergrid.require(...)`) and will be removed in a future release."+" See https://github.com/fin-hypergrid/core/wiki/Client-Modules#internal-modules."),pleaseUse.warned[requireString]=!0}return module}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)};require("../lib/polyfills");var Point=require("rectangular").Point,Rectangle=require("rectangular").Rectangle,_=require("object-iterators"),injectCSS=require("inject-stylesheet-template").bind(require("../../css")),Base=require("../Base"),defaults=require("../defaults"),dynamicPropertyDescriptors=require("../lib/dynamicProperties"),Canvas=require("../lib/Canvas"),Renderer=require("../renderer"),SelectionModel=require("../lib/SelectionModel"),Localization=require("../lib/Localization"),Behavior=require("../behaviors/Behavior"),behaviorJSON=require("../behaviors/Local"),cellRenderers=require("../cellRenderers"),cellEditors=require("../cellEditors"),modules=require("./modules"),EDGE_STYLES=["top","bottom","left","right"],RECT_STYLES=EDGE_STYLES.concat(["width","height","position"]),Hypergrid=Base.extend("Hypergrid",{initialize:function(container,options){var _this=this;this.selectionInitialize(),"string"==typeof container||container instanceof HTMLElement||(options=container,container=null),options=options||{},this.clearState(),this.setContainer(container||options.container||findOrCreateContainer(options.boundingRect)),Hypergrid.prototype.installPlugins(options.plugins),this.lastEdgeSelection=[0,0],this.isWebkit=-1<navigator.userAgent.toLowerCase().indexOf("webkit"),this.selectionModel?this.selectionModel.reset():this.selectionModel=new SelectionModel(this),this.renderOverridesCache={},this.allowEventHandlers=!0,this.dragExtent=new Point(0,0),this.numRows=0,this.numColumns=0,this.clearMouseDown(),this.setFormatter(options.localization),this.listeners={},this.cellRenderers=cellRenderers,this.cellEditors=Object.create(cellEditors),Object.defineProperty(this.cellEditors,"create",{value:createCellEditor.bind(this)}),this.initCanvas(options),options.data?this.setData(options.data,options):(!this.behavior&&this.setBehavior(options),this.initScrollbars()),options.state&&this.loadState(options.state),options.theme&&this.applyTheme(options.theme),this.api=options.api||{},this.columnApi=options.columnApi||{};var bindAllFunctions=function bindAllFunctions(from,to,context){for(var k in from)from.hasOwnProperty(k)&&("function"==typeof from[k]?to[k]=from[k].bind(context):"object"===("undefined"==typeof from?"undefined":_typeof(from))&&(Array.isArray(from[k])?to[k]=[]:(to[k]=from[k],bindAllFunctions(to[k],from[k],context))))};bindAllFunctions(require("./api"),this.api,this),bindAllFunctions(require("./columnApi"),this.columnApi,this),this.columnDefs=options.columnDefs||[],this.visibleColumnDefs=this.columnDefs.filter(function(cd){return!cd.isHidden}),this.data=options.data||[],this.rowData=options.rowData||[],this.paginationPageSize=options.paginationPageSize||this.paginationPageSize||1e3,["onColumnResized","onUpdateColumnName","onColumnsMoved","getMainMenuItems","getContextMenuItems","onAggregatedCellClick","onCtrlAndZ","onCtrlShiftAndZ","logEnable"].forEach(function(k){_this[k]=options[k]||_this[k]}),this.onColumnsMoved&&this.addInternalEventListener("fin-columns-moved",function(e){_this.onColumnsMoved(e.detail.columns,e.detail.toIndex)}),this.plugins={},this.installPlugins(options.plugins),document.addEventListener("mousedown",this.mouseCatcher=function(){this.abortEditing()}.bind(this)),setTimeout(this.repaint.bind(this)),Hypergrid.grids.push(this),this.resetGridBorder("Top"),this.resetGridBorder("Right"),this.resetGridBorder("Bottom"),this.resetGridBorder("Left")},terminate:function(){document.removeEventListener("mousedown",this.mouseCatcher),this.canvas.stop(),this.grids&&Hypergrid.grids.splice(this.grids.indexOf(this),1)},isAlive:function(){return!!document.body.contains(this.div)||(this.terminate(),this.div=void 0,!1)},resetGridBorder:function(edge){edge=edge||"";var propName="gridBorder"+edge,styleName="border"+edge,props=this.properties,border=props[propName];!0===border?border=props.lineWidth+"px solid "+props.lineColor:!1===border?border=null:void 0;this.canvas.canvas.style[styleName]=border},modules:modules,behavior:null,isWebkit:!0,mouseDown:[],dragExtent:null,selectionModel:null,cellEditor:null,sbHScroller:null,renderOverridesCache:{},hoverCell:null,lastEdgeSelection:null,setAttribute:function(attribute,value){this.div.setAttribute(attribute,value)},clearState:function(){this.properties=Object.defineProperties(this.initThemeLayer(),{grid:{value:this},var:{value:new Var}}),Object.keys(defaults).forEach(function(key){var value=defaults[key];"object"===("undefined"==typeof value?"undefined":_typeof(value))&&(dynamicPropertyDescriptors[key]?this[key]=value:this[key]=deepClone(value))},this.properties)},reset:function(options){this.clearState(),this.removeAllEventListeners(),this.lastEdgeSelection=[0,0],this.selectionModel.reset(),this.renderOverridesCache={},this.clearMouseDown(),this.dragExtent=new Point(0,0),this.numRows=0,this.numColumns=0,this.vScrollValue=0,this.hScrollValue=0,this.cancelEditing(),this.sbPrevVScrollValue=null,this.sbPrevHScrollValue=null,this.hoverCell=null,this.scrollingNow=!1,this.lastEdgeSelection=[0,0],this.behavior.reset({subgrids:options&&options.subgrids}),this.renderer.reset(),this.canvas.resize(),this.behaviorChanged(),this.refreshProperties()},installPlugins:function(plugins){var shared=this===Hypergrid.prototype;plugins&&(Array.isArray(plugins)||(plugins=[plugins]),plugins.forEach(function(plugin){var name,args,hash;if(plugin&&(args=[this],shared&&args.push(Behavior.prototype),Array.isArray(plugin)&&(plugin.length?"string"==typeof plugin[0]?2<=plugin.length?(args=args.concat(plugin.slice(2)),name=plugin[0],plugin=plugin[1]):plugin=void 0:(args=args.concat(plugin.slice(1)),plugin=plugin[0]):plugin=void 0),!!plugin)){if(name=name||plugin.name||plugin.$$CLASS_NAME,name&&(name=name.substr(0,1).toLowerCase()+name.substr(1)),shared)hash=this.constructor.plugins,plugin.preinstall&&!hash[name]&&plugin.preinstall.apply(plugin,args);else if(hash=this.plugins,"function"==typeof plugin)plugin=this.createApply(plugin,args);else if(plugin.install)plugin.install.apply(plugin,args);else if(!plugin.preinstall)throw new Base.prototype.HypergridError("Expected plugin (a constructor; or an API with a `preinstall` method and/or an `install` method).");name&&(hash[name]=plugin)}},this))},uninstallPlugins:function(pluginNames){pluginNames?!Array.isArray(pluginNames)&&(pluginNames=[pluginNames]):pluginNames=[],_(this.plugins).each(function(plugin,key,plugins){plugins.hasOwnProperty(key)&&0<=pluginNames.indexOf(key)&&plugin.uninstall&&plugin.uninstall(this,key,plugins)},this)},computeCellsBounds:function(){this.renderer.computeCellsBounds()},setFormatter:function(options){options=options||{},this.localization=new Localization(options.locale||Hypergrid.localization.locale,options.numberOptions||Hypergrid.localization.numberOptions,options.dateOptions||Hypergrid.localization.dateOptions)},getFormatter:function(localizerName){return this.localization.get(localizerName).format},formatValue:function(localizerName,value,isHeader){return value===void 0?"":this.getFormatter(localizerName)(value,isHeader)},setHoverCell:function(cellEvent){var hoverCell=this.hoverCell;hoverCell&&hoverCell.equals(cellEvent.gridCell)||(this.hoverCell=cellEvent.gridCell,hoverCell&&this.fireSyntheticOnCellExitEvent(cellEvent),this.fireSyntheticOnCellEnterEvent(cellEvent),this.repaint())},addProperties:function(properties){Object.assign(this.properties,properties),this.refreshProperties()},refreshProperties:function(){this.behaviorShapeChanged(),this.behavior.defaultRowHeight=null,this.behavior.autosizeAllColumns()},setState:function(state){this.behavior.setState(state),this.refreshProperties(),this.behaviorChanged()},getState:function(){return this.behavior.getState()},loadState:function(state){this.behavior.setState(state)},saveState:function(options){options=options||{};var space=void 0===options.space?"\t":options.space,properties=this.properties,calculators=properties.calculators;if(calculators){if(options.compact){var columns=this.behavior.getColumns();Object.keys(calculators).forEach(function(key){columns.find(function(column){return column.properties.calculator===calculators[key]})||delete calculators[key]})}calculators.toJSON=stringifyFunctions}this.headerify=options.headerify;var json=JSON.stringify(properties,function(key,value){return options.blacklist&&this===properties&&0<=options.blacklist.indexOf(key)?value=void 0:"calculator"===key&&(calculators?value=Object.keys(calculators).find(function(key){return calculators[key]===value}):value=value.toString()),value},space);return delete this.headerify,json},getMouseDown:function(){if(this.mouseDown.length)return this.mouseDown[this.mouseDown.length-1]},popMouseDown:function(){var result;return this.mouseDown.length&&(result=this.mouseDown.pop()),result},clearMouseDown:function(){this.mouseDown=[new Point(-1,-1)],this.dragExtent=null},setMouseDown:function(point){this.mouseDown.push(point)},getDragExtent:function(){return this.dragExtent},setDragExtent:function(point){this.dragExtent=point},gridRenderedNotification:function(){this.cellEditor&&this.cellEditor.gridRenderedNotification(),this.checkColumnAutosizing(),this.fireSyntheticGridRenderedEvent()},tickNotification:function(){this.fireSyntheticTickEvent()},checkColumnAutosizing:function(){this.behavior.autoSizeRowNumberColumn(),this.behavior.checkColumnAutosizing(!1)&&this.behaviorShapeChanged()},checkClipboardCopy:function(event){if(this.hasFocus()||this.menuClick){event.preventDefault();var csvData=this.getSelectionAsTSV();event.clipboardData.setData("text/plain",csvData.text),event.clipboardData.setData("text/html",csvData.html)}},hasFocus:function(){return this.canvas.hasFocus()},setBehavior:function(options){var Behavior=options&&options.Behavior||behaviorJSON;this.behavior=new Behavior(this,options),this.initScrollbars(),this.refreshProperties(),this.behavior.reindex()},setData:function(dataRows,options){this.behavior||this.setBehavior(options),this.behavior.setData(dataRows,options),this.setInfo(dataRows.length?"":this.properties.noDataMessage),this.behavior.changed(),this.fireSyntheticGridDataAddedEvent(dataRows)},addData:function(dataRows,options){options||(options={}),this.behavior||this.setBehavior(options),options.schema||(options.schema=this.behavior.dataModel.getSchema()),this.behavior.addData(dataRows,options),this.setInfo(this.behavior.dataModel.getData().length?"":this.properties.noDataMessage),this.behavior.changed(),this.fireSyntheticGridDataAddedEvent(dataRows)},setInfo:function(messages){this.renderer.setInfo(messages)},behaviorChanged:function(){this.divCanvas&&(this.numColumns!==this.getColumnCount()||this.numRows!==this.getRowCount()?(this.numColumns=this.getColumnCount(),this.numRows=this.getRowCount(),this.behaviorShapeChanged()):this.behaviorStateChanged())},behaviorShapeChanged:function(){this.needsShapeChanged=!0,this.repaint()},behaviorStateChanged:function(){this.needsStateChanged=!0,this.repaint()},deferredBehaviorChange:function(){this.needsShapeChanged?this.divCanvas&&(this.canvas.refreshBounds(),this.synchronizeScrollingBoundaries()):this.needsStateChanged&&this.divCanvas&&this.computeCellsBounds(),this.needsShapeChanged=this.needsStateChanged=!1},getBounds:function(){return this.renderer.getBounds()},repaint:function(){var now=this.properties.repaintImmediately,canvas=this.canvas;canvas&&(!0===now?canvas.paintNow():canvas.repaint())},paintNow:function(){this.canvas.paintNow()},setContainer:function(div){this.initContainer(div),this.initRenderer()},initContainer:function(div){"string"==typeof div&&(div=document.querySelector(div)),div.style.position||(div.style.position=null),1>div.clientHeight&&(div.style.height=null),injectCSS("grid"),div.oncontextmenu=function(event){return event.stopPropagation(),event.preventDefault(),!1},div.removeAttribute("tabindex"),div.classList.add("hypergrid-container"),div.id=div.id||"hypergrid"+(document.querySelectorAll(".hypergrid-container").length-1||""),this.div=div},initCanvas:function(options){if(!this.divCanvas){var divCanvas=document.createElement("div");setStyles(divCanvas,options&&options.margin,EDGE_STYLES),this.div.appendChild(divCanvas);var canvas=new Canvas(divCanvas,this.renderer);canvas.canvas.classList.add("hypergrid"),this.divCanvas=divCanvas,this.canvas=canvas,this.delegateCanvasEvents(),this.delegateDataEvents()}},convertViewPointToDataPoint:function(unscrolled){return this.behavior.convertViewPointToDataPoint(unscrolled)},convertDataPointToViewPoint:function(dataPoint){return this.behavior.convertDataPointToViewPoint(dataPoint)},beCursor:function(cursorName){cursorName?!Array.isArray(cursorName)&&(cursorName=[cursorName]):cursorName=["default"],this.div&&cursorName.forEach(function(name){this.cursor=name},this.div.style)},stopEditing:function(){return!this.cellEditor||this.cellEditor.stopEditing()},cancelEditing:function(){return!this.cellEditor||this.cellEditor.cancelEditing()},abortEditing:function(){return!this.cellEditor||(this.cellEditor.abortEditing?this.cellEditor.abortEditing():this.cellEditor.stopEditing())},getDataBounds:function(){var b=this.canvas.bounds;return new Rectangle(0,0,b.origin.x+b.extent.x,b.origin.y+b.extent.y)},editAt:function(event){var cellEditor;this.abortEditing();var editableX=event.dataCell.x,editableY=event.dataCell.y;if(event.isColspanedByLeftColumn&&event.colspanMainColumnName){var mainColumn=this.behavior.getHeaderColumnByName(event.colspanMainColumnName),mainColumnIndex=this.behavior.columns.indexOf(mainColumn);mainColumn&&mainColumnIndex&&(editableX=mainColumnIndex)}if(void 0!==event.rowspanMainRow&&null!==event.rowspanMainRow&&(editableY=event.rowspanMainRow),(editableX!==event.dataCell.x||editableY!==event.dataCell.y)&&(this.scrollToMakeVisible(editableX,editableY),this.paintNow(),event=new this.behavior.CellEvent(editableX,editableY+this.getHeaderRowCount())),event.isDataColumn&&(cellEditor=this.getCellEditorAt(event))){var neededVisibilityProp=event.isDataRow?"editable":"filterable",isEditable=event.rowProperties[neededVisibilityProp]?event.rowProperties[neededVisibilityProp]:event.properties[neededVisibilityProp];isEditable?cellEditor.beginEditing():cellEditor.showReadonlyEdit()}return cellEditor},isColumnVisible:function(columnIndex){return this.renderer.isColumnVisible(columnIndex)},isDataRowVisible:function(r){return this.renderer.isDataRowVisible(r)},isDataVisible:function(c,rn){return this.isDataRowVisible(rn)&&this.isColumnVisible(c)},insureModelColIsVisible:function(colIndex,offsetX){var maxCols=this.getColumnCount()-1,indexToCheck=colIndex+_Mathsign(offsetX);return!this.isColumnVisible(indexToCheck)||colIndex===maxCols},insureModelRowIsVisible:function(rowIndex,offsetY){var maxRows=this.getRowCount()-1,scrollOffset=-1<offsetY?2:0;return!this.isDataRowVisible(rowIndex+scrollOffset)||rowIndex===maxRows},scrollBy:function(offsetX,offsetY){this.scrollHBy(offsetX),this.scrollVBy(offsetY)},scrollVBy:function(offsetY){var max=this.sbVScroller.range.max,oldValue=this.vScrollValue,oldOffset=this.getVScrollValue(),newValue=_Mathmin7(max,oldValue+offsetY*this.behavior.getRowHeight(_Mathmax8(0,oldOffset+offsetY)));newValue!==oldValue&&this.setVScrollValue(newValue)},scrollHBy:function(offsetX){var max=this.sbHScroller.range.max,oldValue=this.hScrollValue,oldOffset=this.getHScrollValue(),newValue=_Mathmin7(max,oldValue+offsetX*this.behavior.getColumnWidth(_Mathmax8(0,oldOffset+offsetX)));newValue!==oldValue&&this.setHScrollValue(newValue)},scrollToMakeVisible:function(column,row){var dw=this.renderer.dataWindow,fixedColumnCount=this.properties.fixedColumnCount,fixedRowCount=this.properties.fixedRowCount,delta;column>=fixedColumnCount&&(0>(delta=column-dw.origin.x)?this.sbHScroller.index+=delta:0<column-dw.corner.x+1&&(this.sbHScroller.index=this.renderer.getMinimumLeftPositionToShowColumn(column))),row>=fixedRowCount&&(0>(delta=row-dw.origin.y)||0<(delta=row-dw.corner.y))&&(this.sbVScroller.index+=delta)},selectCellAndScrollToMakeVisible:function(c,r){this.scrollToMakeVisible(c,r),this.selectCell(c,r,!0)},getGridCellFromMousePoint:function(mouse){return this.renderer.getGridCellFromMousePoint(mouse)},getBoundsOfCell:function(gridCell){var b=this.renderer.getBoundsOfCell(gridCell.x,gridCell.y);return new Rectangle(b.x,b.y,b.width,b.height)},resized:function(){this.behaviorShapeChanged()},windowOpen:function(){return window.open.apply(window,arguments)},getColumns:function(){var columns=this.behavior.getColumns();return columns.slice.apply(columns,arguments)},getActiveColumns:function(){var columns=this.behavior.getActiveColumns();return columns.slice.apply(columns,arguments)},getHiddenColumns:function(){return this.behavior.getHiddenColumns()},isViewableButton:function(c,r){return this.renderer.isViewableButton(c,r)},takeFocus:function(){var wasCellEditor=this.cellEditor;this.stopEditing(),wasCellEditor||this.canvas.takeFocus()},editorTakeFocus:function(){if(this.cellEditor)return this.cellEditor.takeFocus()},initScrollbars:function(){if(!(this.sbHScroller&&this.sbVScroller)){var Scrollbar=Hypergrid.modules.scrollbar,horzBar=new Scrollbar({orientation:"horizontal",onchange:this.setHScrollValue.bind(this),cssStylesheetReferenceElement:this.div}),vertBar=new Scrollbar({orientation:"vertical",onchange:this.setVScrollValue.bind(this),paging:{up:this.pageUp.bind(this),down:this.pageDown.bind(this)}});this.sbHScroller=horzBar,this.sbVScroller=vertBar;var hPrefix=this.properties.hScrollbarClassPrefix,vPrefix=this.properties.vScrollbarClassPrefix;hPrefix&&""!==hPrefix&&(this.sbHScroller.classPrefix=hPrefix),vPrefix&&""!==vPrefix&&(this.sbVScroller.classPrefix=vPrefix),this.div.appendChild(horzBar.bar),this.div.appendChild(vertBar.bar),this.synchronizeScrollbarsVisualization()}},synchronizeScrollbarsVisualization:function(){this.sbHScroller.shortenBy(this.sbVScroller).resize(),this.sbVScroller.resize()},setVScrollbarValues:function(max){this.sbVScroller.range={min:0,max:max}},setHScrollbarValues:function(max){this.sbHScroller.range={min:0,max:max}},scrollValueChangedNotification:function(){(this.hScrollValue!==this.sbPrevHScrollValue||this.vScrollValue!==this.sbPrevVScrollValue)&&(this.sbPrevHScrollValue=this.hScrollValue,this.sbPrevVScrollValue=this.vScrollValue,this.cellEditor&&this.cellEditor.scrollValueChangedNotification(),this.computeCellsBounds())},getValue:function(){return this.behavior.getValue.apply(this.behavior,arguments)},setValue:function(){this.behavior.setValue.apply(this.behavior,arguments)},getVisibleColumns:function(){return this.renderer.getVisibleColumns()},initRenderer:function(){this.renderer=this.renderer||new Renderer(this)},getColumnWidth:function(columnIndex){return this.behavior.getColumnWidth(columnIndex)},setColumnWidth:function(columnIndex,columnWidth){this.abortEditing()&&this.behavior.setColumnWidth(columnIndex,columnWidth)},getFixedColumnsWidth:function(){return this.behavior.getFixedColumnsWidth()},getRowHeight:function(rowIndex,dataModel){return this.behavior.getRowHeight(rowIndex,dataModel)},getFictiveHeaderRowsCount:function(){return this.behavior.getFictiveHeaderRowsCount()},setRowHeight:function(rowIndex,rowHeight,dataModel){this.abortEditing()&&this.behavior.setRowHeight(rowIndex,rowHeight,dataModel)},getFixedRowsHeight:function(){return this.behavior.getFixedRowsHeight()},getColumnCount:function(){return this.behavior.getActiveColumnCount()},getRowCount:function(){return this.behavior.getRowCount()},getFixedColumnCount:function(){return this.behavior.getFixedColumnCount()},getFixedRowCount:function(){return this.behavior.getFixedRowCount()},topLeftClicked:function(mouse){this.behavior.topLeftClicked(this,mouse)},rowHeaderClicked:function(mouse){this.behavior.rowHeaderClicked(this,mouse)},columnHeaderClicked:function(mouse){this.behavior.columnHeaderClicked(this,mouse)},onEditorActivate:function(event){return this.editAt(event)},getCellEditorAt:function(event){return this.behavior.getCellEditorAt(event)},toggleHiDPI:function(){this.properties.useHiDPI?this.removeAttribute("hidpi"):this.setAttribute("hidpi",null),this.canvas.resize()},getHiDPI:function(ctx){if(window.devicePixelRatio&&this.properties.useHiDPI)var devicePixelRatio=window.devicePixelRatio||1,backingStoreRatio=ctx.webkitBackingStorePixelRatio||ctx.mozBackingStorePixelRatio||ctx.msBackingStorePixelRatio||ctx.oBackingStorePixelRatio||ctx.backingStorePixelRatio||1,result=devicePixelRatio/backingStoreRatio;else result=1;return result},getRenderedWidth:function(colIndex){return this.renderer.getRenderedWidth(colIndex)},getRenderedHeight:function(rowIndex){return this.renderer.getRenderedHeight(rowIndex)},updateCursor:function(){var cursor=this.behavior.getCursorAt(-1,-1),hoverCell=this.hoverCell;if(hoverCell&&-1<hoverCell.x&&-1<hoverCell.y){var x=hoverCell.x+this.getHScrollValue();cursor=this.behavior.getCursorAt(x,hoverCell.y+this.getVScrollValue())}this.beCursor(cursor)},repaintCell:function(x,y){this.renderer.repaintCell(x,y)},isDraggingColumn:function(){return!!this.renderOverridesCache.dragger},getRenderedData:function(){return this.renderer.getVisibleCellMatrix()},autosizeColumn:function(columnOrIndex){var column=-2<=columnOrIndex?this.behavior.getActiveColumn(columnOrIndex):columnOrIndex;column.checkColumnAutosizing(!0),this.behavior.fitColumn(column,!0),this.computeCellsBounds()},setFocusable:function(canReceiveFocus){this.canvas.setFocusable(canReceiveFocus)},getVisibleColumnsCount:function(){return this.renderer.getVisibleColumnsCount()},getVisibleRowsCount:function(){return this.renderer.getVisibleRowsCount()},updateSize:function(){this.canvas.checksize()},stopPaintThread:function(){this.canvas.stopPaintThread()},stopResizeThread:function(){this.canvas.stopResizeThread()},restartResizeThread:function(){this.canvas.restartResizeThread()},restartPaintThread:function(){this.canvas.restartPaintThread()},swapColumns:function(source,target){this.behavior.swapColumns(source,target)},moveColumns:function(from,len,target,broadcastEvent,givenHiddenColumns){this.behavior.moveColumns(from,len,target,broadcastEvent,givenHiddenColumns)},getSelectedColumns:function(){return this.behavior.getSelectedColumns()},endDragColumnNotification:function(){this.behavior.endDragColumnNotification()},getFixedColumnsMaxWidth:function(){return this.behavior.getFixedColumnsMaxWidth()},isMouseDownInHeaderArea:function(){var headerRowCount=this.getHeaderRowCount(),mouseDown=this.getMouseDown();return 0>mouseDown.x||mouseDown.y<headerRowCount},getColumnProperties:function(x){return this.behavior.getColumnProperties(x)},setColumnProperties:function(x,properties){this.behavior.setColumnProperties(x,properties)},clearAllCellProperties:function(x){this.behavior.clearAllCellProperties(x),this.renderer.resetAllCellPropertiesCaches()},isGridRow:function(y){return new this.behavior.CellEvent(0,y).isDataRow},getHeaderRowCount:function(){return this.behavior.getHeaderRowCount()},getFooterRowCount:function(){return this.behavior.getFooterRowCount()},getLogicalRowCount:function(){return this.behavior.getLogicalRowCount()},hasTreeColumn:function(columnIndex){return this.behavior.hasTreeColumn(columnIndex)},lookupFeature:function(key){return this.behavior.lookupFeature(key)},getRow:function(y){return this.behavior.getRow(y)},newPoint:function(x,y){return new Point(x,y)},newRectangle:function(x,y,width,height){return new Rectangle(x,y,width,height)},get charMap(){return this.behavior.charMap},getColDefs:function(name){var _this2=this,columnDefs=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.columnDefs;if(!columnDefs)return[];var found=columnDefs.filter(function(cd){return cd.field===name||cd.colId===name||cd.originalField===name});return columnDefs.filter(function(cd){return cd.children}).forEach(function(cd){return[].push.apply(found,_this2.getColDefs(name,cd.children))}),found},getColumnByName:function(name){return this.getActiveColumns().find(function(c){return c.name===name})},getFieldsErrorsMessage:function(){var fields=Object.keys(this.behavior.getColumnsErrors());return"The following fields have possible errors: "+fields.join(", ")+". Please review them before saving your data."},log:function(){if(this.logEnable){var _console;(_console=console).log.apply(_console,arguments)}},setHighlightText:function(text){this.properties.highLightText=text}});Hypergrid.plugins={},Hypergrid.localization={locale:"en-US",numberOptions:{maximumFractionDigits:0}},Hypergrid.mixIn=Hypergrid.prototype.mixIn,Hypergrid.mixIn(require("./themes").sharedMixin),Hypergrid.prototype.mixIn(require("./themes").mixin),Hypergrid.prototype.mixIn(require("./events").mixin),Hypergrid.prototype.mixIn(require("./dataModel/events").mixin),Hypergrid.prototype.mixIn(require("./selection").mixin),Hypergrid.prototype.mixIn(require("./scrolling").mixin),pleaseUse.warned={},Object.defineProperties(Hypergrid,{Base:{get:function(){return pleaseUse("fin-hypergrid/src/Base",require("../Base"))}},images:{get:function(){return pleaseUse("fin-hypergrid/images",require("../../images"))}}}),Hypergrid.grids=[],Hypergrid.defaults=Hypergrid.properties=defaults,Hypergrid.modules=modules,module.exports=Hypergrid},{"../../css":1,"../../images":3,"../Base":17,"../behaviors/Behavior":33,"../behaviors/Local":35,"../cellEditors":52,"../cellRenderers":62,"../defaults":65,"../lib/Canvas":87,"../lib/Localization":89,"../lib/SelectionModel":91,"../lib/dynamicProperties":94,"../lib/polyfills":99,"../renderer":109,"./api":23,"./columnApi":24,"./dataModel/events":25,"./events":27,"./modules":29,"./scrolling":30,"./selection":31,"./themes":32,"inject-stylesheet-template":10,"object-iterators":12,rectangular:14}],29:[function(require,module){"use strict";module.exports={Scrollbar:require("../Finbars/index"),templater:require("mustache")}},{"../Finbars/index":21,mustache:11}],30:[function(require,module,exports){"use strict";var Scrollbar=require("./modules").Scrollbar;exports.mixin={vScrollValue:0,hScrollValue:0,sbVScroller:null,sbPrevVScrollValue:0,sbPrevHScrollValue:0,scrollingNow:!1,setScrollingNow:function(isItNow){this.scrollingNow=isItNow},isScrollingNow:function(){return this.scrollingNow},scrollBy:function(offsetX,offsetY){this.scrollHBy(offsetX),this.scrollVBy(offsetY)},scrollVBy:function(offsetY){var max=this.sbVScroller.range.max,oldValue=this.vScrollValue,oldOffset=this.getVScrollValue(),rowHeight=this.behavior.getRowHeight(_Mathmax8(0,oldOffset+offsetY)),newValue=_Mathmin7(max,oldValue+offsetY*rowHeight);newValue!==oldValue&&this.setVScrollValue(newValue)},scrollHBy:function(offsetX){var max=this.sbHScroller.range.max,oldValue=this.hScrollValue,oldOffset=this.getHScrollValue(),newValue=_Mathmin7(max,oldValue+offsetX*this.behavior.getColumnWidth(_Mathmax8(0,oldOffset+offsetX)));newValue!==oldValue&&this.setHScrollValue(newValue)},scrollToMakeVisible:function(column,row){var _renderer$dataWindow=this.renderer.dataWindow,origin=_renderer$dataWindow.origin,corner=_renderer$dataWindow.corner,_properties=this.properties,fixedColumnCount=_properties.fixedColumnCount,fixedRowCount=_properties.fixedRowCount,delta=void 0,pxDelta=0;if(column>=fixedColumnCount){if(delta=column-origin.x,0>delta){pxDelta=0;for(var i=0;i<=_Mathabs10(delta)+1;i++)pxDelta+=this.getColumnWidth(origin.x-i);this.sbHScroller.index-=pxDelta}if(delta=column-corner.x,0<=delta){pxDelta=0;for(var _i=0;_i<=_Mathabs10(delta)+2;_i++)pxDelta+=this.getColumnWidth(corner.x-_i);this.sbHScroller.index+=pxDelta}}if(this.sbHScroller.index<=this.getColumnWidth(0)&&(this.sbHScroller.index=0),row>=fixedRowCount){if(delta=row-origin.y,0>delta){var deltaPercent=(_Mathabs10(delta)+2)/this.getRowCount();if(pxDelta=this.sbVScroller.max*deltaPercent,pxDelta<3*this.properties.defaultRowHeight)this.sbVScroller.index-=pxDelta;else{delta=row-corner.y;var _deltaPercent=(_Mathabs10(delta)+2)/this.getRowCount();pxDelta=this.sbVScroller.max*_deltaPercent,this.sbVScroller.index-=pxDelta}}if(delta=row-corner.y,0<=delta){var _deltaPercent2=(delta+2)/this.getRowCount();if(pxDelta=this.sbVScroller.max*_deltaPercent2,pxDelta<3*this.properties.defaultRowHeight)this.sbVScroller.index+=pxDelta;else{delta=origin.y-row;var _deltaPercent3=(_Mathabs10(delta)+2)/this.getRowCount();pxDelta=this.sbVScroller.max*_deltaPercent3,this.sbVScroller.index+=pxDelta}}}this.sbVScroller.index<=this.getRowHeight(0)&&(this.sbVScroller.index=0)},selectCellAndScrollToMakeVisible:function(c,r){this.scrollToMakeVisible(c,r),this.selectCell(c,r,!0)},findCellByScrollValue:function(scrollValue,from,to,checkFunction){var search=_Mathround7((from+to)/2);if(search===from||search===to)return from;var currentHeight=checkFunction.call(this.behavior,search);return currentHeight>scrollValue?this.findCellByScrollValue(scrollValue,from,search,checkFunction):this.findCellByScrollValue(scrollValue,search,to,checkFunction)},setVScrollValue:function(newValue){var _this=this;if(newValue=_Mathmin7(this.sbVScroller.range.max,_Mathmax8(0,_Mathround7(newValue))),newValue!==this.vScrollValue){this.behavior.setScrollPositionY(newValue),this.behavior.changed();var oldY=this.vScrollValue;this.vScrollValue=newValue,this.scrollValueChangedNotification(),setTimeout(function(){_this.fireScrollEvent("fin-scroll-y",oldY,newValue)})}this.sbVScroller.index!==newValue&&(this.sbVScroller.index=newValue)},getVScrollValue:function(){return this.findCellByScrollValue(this.vScrollValue,0,this.getRowCount(),this.behavior.getRowsHeight)},setHScrollValue:function(newValue){var self=this;if(newValue=_Mathmin7(this.sbHScroller.range.max,_Mathmax8(0,_Mathround7(newValue))),newValue!==this.hScrollValue){this.behavior.setScrollPositionX(newValue),this.behavior.changed();var oldX=this.hScrollValue;this.hScrollValue=newValue,this.scrollValueChangedNotification(),this.sbHScroller&&(this.sbHScroller.index=newValue),setTimeout(function(){self.fireScrollEvent("fin-scroll-x",oldX,newValue)})}this.sbHScroller.index!==newValue&&(this.sbHScroller.index=newValue)},getHScrollValue:function(){return this.findCellByScrollValue(this.hScrollValue,0,this.getColumnCount(),this.behavior.getColumnsWidth)},initScrollbars:function(){if(!(this.sbHScroller&&this.sbVScroller)){var self=this,horzBar=new Scrollbar({orientation:"horizontal",onBarVisibilityChanged:function(isVisible){self.properties.canvasHeightOffset=isVisible?+window.getComputedStyle(this.mountDiv).height.replace("px",""):0,self.canvas.resize(!1)},onchange:self.setHScrollValue.bind(self),cssStylesheetReferenceElement:this.div,paging:{up:self.pageLeft.bind(self),down:self.pageRight.bind(self)}}),vertBar=new Scrollbar({orientation:"vertical",onBarVisibilityChanged:function(isVisible){self.properties.canvasWidthOffset=isVisible?+window.getComputedStyle(this.mountDiv).width.replace("px",""):0,self.canvas.resize(!1)},onchange:self.setVScrollValue.bind(self),paging:{up:self.pageUp.bind(self),down:self.pageDown.bind(self)}});this.sbHScroller=horzBar,this.sbVScroller=vertBar;var hPrefix=this.properties.hScrollbarClassPrefix,vPrefix=this.properties.vScrollbarClassPrefix;hPrefix&&""!==hPrefix&&(this.sbHScroller.classPrefix=hPrefix),vPrefix&&""!==vPrefix&&(this.sbVScroller.classPrefix=vPrefix),this.div.appendChild(horzBar.mountDiv),this.div.appendChild(vertBar.mountDiv),this.synchronizeScrollbarsVisualization()}},destroyScrollbars:function(){this.sbHScroller&&(this.sbHScroller.remove(),delete this.sbHScroller),this.sbVScroller&&(this.sbVScroller.remove(),delete this.sbVScroller)},synchronizeScrollbarsVisualization:function(){this.sbHScroller&&(this.sbHScroller.shortenEndByValue("leading",this.getHScrollbarLeftMargin()).shortenEndByValue("trailing",this.getHScrollbarRightMargin()-1).resize(null,null,this.getFullContentWidth()),this.sbHScroller.style=this.properties.scrollbarHStyle,this.sbHScroller.thumbStyle=this.properties.scrollbarHThumbStyle,this.sbHScroller.mountStyle=this.properties.scrollbarHMountStyle),this.sbVScroller&&(this.sbVScroller.shortenEndByValue("leading",this.getVScrollbarTopMargin()).shortenEndByValue("trailing",this.getVScrollbarBottomMargin()-1).resize(null,null,this.getFullContentHeight()),this.sbVScroller.style=this.properties.scrollbarVStyle,this.sbVScroller.thumbStyle=this.properties.scrollbarVThumbStyle,this.sbVScroller.mountStyle=this.properties.scrollbarVMountStyle)},getHScrollbarLeftMargin:function(){var res=0,visibleColumns=this.renderer.visibleColumns;res-=this.properties.gridLinesV?this.properties.gridLinesWidth:0,res+=this.properties.gridBorderLeft?this.properties.gridLinesWidth:0;var neededColumn=visibleColumns[this.behavior.rowColumnIndex];res+=this.properties.rowHeaderNumbers&&neededColumn?neededColumn.right:0;for(var i=0;i<this.properties.fixedColumnCount;i++)i!==this.behavior.rowColumnIndex&&(res+=this.getColumnWidth(i));return res+=this.properties.fixedColumnCount?this.properties.fixedLinesVWidth:0,res},getHScrollbarRightMargin:function(){var res=-1;return this.properties.scrollbarVStyle&&this.properties.scrollbarVStyle.width&&(res+=this.properties.scrollbarVStyle.width),res},getVScrollbarTopMargin:function(){var res=void 0,rowIndex=this.properties.fixedRowCount,row=this.renderer.visibleRows[rowIndex];return row||(row=this.renderer.visibleRows[0]),res=row?row.bottom:0,res-=this.properties.gridLinesH?this.properties.gridLinesWidth:0,res+=this.properties.fixedRowCount?this.properties.fixedLinesHWidth:0,res+=this.properties.gridBorderTop?this.properties.fixedLinesHWidth:0,res+=1,res},getVScrollbarBottomMargin:function(){var res=-1;return this.properties.scrollbarHStyle&&this.properties.scrollbarHStyle.height&&(res+=this.properties.scrollbarHStyle.height),res},getFullContentWidth:function(){for(var res=0,i=0;i<=this.getColumnCount();i++)res+=this.getColumnWidth(i);return res},getFullContentHeight:function(){for(var res=0,i=0;i<=this.getRowCount();i++)res+=this.getRowHeight(i);return res},setVScrollbarValues:function(max){this.sbVScroller.range={min:0,max:max}},setHScrollbarValues:function(max){this.sbHScroller.range={min:0,max:max}},scrollValueChangedNotification:function(){(this.hScrollValue!==this.sbPrevHScrollValue||this.vScrollValue!==this.sbPrevVScrollValue)&&(this.sbPrevHScrollValue=this.hScrollValue,this.sbPrevVScrollValue=this.vScrollValue,this.cellEditor&&this.cellEditor.scrollValueChangedNotification(),this.computeCellsBounds())},synchronizeScrollingBoundaries:function(){var numColumns=this.getColumnCount(),numRows=this.getRowCount(),bounds=this.getBounds();if(bounds){for(var scrollableWidth=bounds.width-this.behavior.getFixedColumnsMaxWidth(),columnsWidth=0,lastPageColumnCount=0;lastPageColumnCount<numColumns&&columnsWidth<scrollableWidth;lastPageColumnCount++)columnsWidth+=this.getColumnWidth(numColumns-lastPageColumnCount-1);columnsWidth>scrollableWidth&&lastPageColumnCount--;for(var scrollableHeight=this.renderer.getVisibleScrollHeight(),rowsHeight=0,lastPageRowCount=0;lastPageRowCount<numRows&&rowsHeight<scrollableHeight;lastPageRowCount++)rowsHeight+=this.getRowHeight(numRows-lastPageRowCount-1);if(rowsHeight>scrollableHeight&&lastPageRowCount--,this.sbHScroller){var hMax=_Mathmax8(0,this.behavior.getColumnsWidth(this.behavior.getActiveColumnCount()-lastPageColumnCount+1)-this.behavior.getFixedColumnsWidth());hMax+=this.behavior.getColumnWidth(this.behavior.getActiveColumnCount()),this.setHScrollbarValues(hMax),this.setHScrollValue(_Mathmin7(this.hScrollValue,hMax))}if(this.sbVScroller){var vMax=_Mathmax8(0,this.behavior.getRowsHeight(this.behavior.getRowCount()-lastPageRowCount+2)-this.behavior.getFixedRowsHeight());this.setVScrollbarValues(vMax),this.setVScrollValue(_Mathmin7(this.vScrollValue,vMax))}this.computeCellsBounds(),setTimeout(this.synchronizeScrollbarsVisualization.bind(this))}},pageUp:function(){var rowNum=this.renderer.getPageUpRow(),rowNumPixels=this.behavior.getRowsHeight(rowNum);return this.setVScrollValue(rowNumPixels),rowNumPixels},pageDown:function(){var rowNum=this.renderer.getPageDownRow(),rowNumPixels=this.behavior.getRowsHeight(rowNum);return this.setVScrollValue(rowNumPixels),rowNumPixels},pageLeft:function(){var bounds=this.getBounds(),currentScroll=this.behavior.getScrollPositionX(),scrollableWidth=bounds.width-this.behavior.getFixedColumnsMaxWidth(),leftPixel=currentScroll-scrollableWidth;return this.setHScrollValue(leftPixel),leftPixel},pageRight:function(){var bounds=this.getBounds(),currentScroll=this.behavior.getScrollPositionX(),scrollableWidth=bounds.width-this.behavior.getFixedColumnsMaxWidth(),rightPixel=currentScroll+scrollableWidth;return this.setHScrollValue(rightPixel),rightPixel}}},{"./modules":29}],31:[function(require,module,exports){function getColumns(hiddenColumns){var allColumns=this.behavior.getColumns(),activeColumns=this.behavior.getActiveColumns(),columns;return Array.isArray(hiddenColumns)?(columns=[],hiddenColumns.forEach(function(index){var key="number"==typeof index?"index":"name",column=allColumns.find(function(column){return column[key]===index});0>activeColumns.indexOf(column)&&columns.push(column)}),columns=columns.concat(activeColumns)):columns=hiddenColumns?allColumns:activeColumns,columns}function normalizeRect(rect){var o=rect.origin,c=rect.corner,ox=_Mathmin7(o.x,c.x),oy=_Mathmin7(o.y,c.y),cx=_Mathmax8(o.x,c.x),cy=_Mathmax8(o.y,c.y);return new Rectangle(ox,oy,cx-ox,cy-oy)}function valOrFunc(dataRow,column){var result,calculator;return dataRow&&(result=dataRow[column.name],calculator="f"===("undefined"==typeof result?"undefined":_typeof(result))[0]&&result||column.calculator,calculator&&(result=calculator(dataRow,column.name))),result.value?result.value:result||0===result||!1===result?result:""}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},Rectangle=require("rectangular").Rectangle;exports.mixin={selectionInitialize:function(){var grid=this;this.selectionDetailGetters={get rows(){return grid.getSelectedRows()},get columns(){return grid.getSelectedColumns()},get selections(){return grid.selectionModel.getSelections()}},this.selectionDetailGetterDescriptors=Object.getOwnPropertyDescriptors(this.selectionDetailGetters)},hasSelections:function(){return this.getSelectionModel?this.selectionModel.hasSelections():void 0},getSelectionAsTSV:function(){var sm=this.selectionModel;if(sm.hasSelections())return this.getMatrixSelectionAsTSV(this.getSelectionMatrix());return sm.hasRowSelections()?this.getMatrixSelectionAsTSV(this.getRowSelectionMatrix()):sm.hasColumnSelections()?this.getMatrixSelectionAsTSV(this.getColumnSelectionMatrix()):void 0},getMatrixSelectionHtmlStyles:function(props){return"<style type=\"text/css\">\ntable {\nborder-collapse: collapse;\nfont: 13px \"Helvetica Neue\",Helvetica,Arial,sans-serif;\n}\ntd {\nborder: "+props.gridLinesWidth+"px solid "+props.gridLinesColor+";\nmax-width: "+props.maximumColumnWidth+"px;\npadding: "+props.cellPadding+"px "+props.cellPaddingLeft+"px;\n}\na {\ncolor: "+props.linkColor+";\ntext-decoration: underline;\n}\n.header {\nfont: "+props.columnHeaderFontBold+";\n}\n.prefix {\nfont: "+props.columnTitlePrefixFont+";\ncolor: "+props.columnTitlePrefixColor+";\npadding-right: "+props.columnTitlePrefixRightSpace+"px;\n}\n.postfix {\ncolor: "+props.cellValuePostfixColor+";\nfont: "+props.cellValuePostfixFont+";\npadding-left: "+props.cellValuePostfixLeftOffset+"px;\n}\nmark {\nbackground-color: "+props.highlightColor+"\n}\n</style>"},getMatrixSelectionAsTSV:function(selections){var text="",html="";if(selections.length){var props=this.properties;html=this.getMatrixSelectionHtmlStyles(props)+"<table>";for(var width=selections.length,height=selections[0].length,lastCol=width-1,whiteSpaceDelimiterForRow=1<height?"\n":"",h=0;h<height;h++)for(var w=0;w<width;w++){var val=selections[w][h],_text="object"===("undefined"==typeof val?"undefined":_typeof(val))?val.text:val;text+=(_text||"")+(w<lastCol?"\t":whiteSpaceDelimiterForRow),0===w&&(html+="<tr>");var _html="object"===("undefined"==typeof val?"undefined":_typeof(val))?val.html:val;_html!==void 0&&(html+="<td "+(val.colspan?"colspan=\""+(val.colspan+1)+"\"":"")+" "+(val.rowspan?"rowspan=\""+(val.rowspan+1)+"\"":"")+">"+(_html||"")+"</td>",w===lastCol&&(html+="</tr>"))}html+="</table>"}return{text:text,html:html}},clearSelections:function(){this.selectionModel.clear(this.properties.keepRowSelections),this.clearMouseDown()},clearMostRecentSelection:function(){this.selectionModel.clearMostRecentSelection(this.properties.keepRowSelections)},clearMostRecentColumnSelection:function(){this.selectionModel.clearMostRecentColumnSelection()},clearMostRecentRowSelection:function(){this.selectionModel.clearMostRecentRowSelection()},clearRowSelection:function(){this.selectionModel.clearRowSelection()},select:function(ox,oy,ex,ey){0>ox||0>oy||this.selectionModel.select(ox,oy,ex,ey)},isSelected:function(x,y){return this.selectionModel.isSelected(x,y)},isCellSelectedInRow:function(y){return this.selectionModel.isCellSelectedInRow(y)},isCellSelectedInColumn:function(x){return this.selectionModel.isCellSelectedInColumn(x)},getRowSelection:function(hiddenColumns){function getValue(selectedRowIndex,j){var dataRow=dataModel.getRow(selectedRowIndex);rows[j]=valOrFunc(dataRow,column)}for(var dataModel=this.behavior.dataModel,selectedRowIndexes=this.selectionModel.getSelectedRows(),columns=getColumns.call(this,hiddenColumns),result={},c=0,C=columns.length;c<C;c++){var column=columns[c],rows=result[column.name]=Array(selectedRowIndexes.length);selectedRowIndexes.forEach(getValue)}return result},getRowSelectionMatrix:function(hiddenColumns){function getValue(selectedRowIndex,r){var dataRow=dataModel.getRow(selectedRowIndex);result[c][r]=valOrFunc(dataRow,column)}for(var dataModel=this.behavior.dataModel,selectedRowIndexes=this.selectionModel.getSelectedRows(),columns=getColumns.call(this,hiddenColumns),result=Array(columns.length),c=0,C=columns.length,column;c<C;c++)column=columns[c],result[c]=Array(selectedRowIndexes.length),selectedRowIndexes.forEach(getValue);return result},getColumnSelectionMatrix:function(){var behavior=this.behavior,dataModel=behavior.dataModel,headerRowCount=this.getHeaderRowCount(),selectedColumnIndexes=this.getSelectedColumns(),numRows=this.getRowCount(),result=Array(selectedColumnIndexes.length);return selectedColumnIndexes.forEach(function(selectedColumnIndex,c){for(var column=behavior.getActiveColumn(selectedColumnIndex),values=result[c]=Array(numRows),r=headerRowCount,dataRow;r<numRows;r++)dataRow=dataModel.getRow(r),values[r]=valOrFunc(dataRow,column)}),result},getColumnSelection:function(){var behavior=this.behavior,dataModel=behavior.dataModel,headerRowCount=this.getHeaderRowCount(),selectedColumnIndexes=this.getSelectedColumns(),result={},rowCount=this.getRowCount();return selectedColumnIndexes.forEach(function(selectedColumnIndex){for(var column=behavior.getActiveColumn(selectedColumnIndex),values=result[column.name]=Array(rowCount),r=headerRowCount,dataRow;r<rowCount;r++)dataRow=dataModel.getRow(r),values[r]=valOrFunc(dataRow,column)}),result},getSelection:function(){var behavior=this.behavior,dataModel=behavior.dataModel,selections=this.getSelections(),rects=Array(selections.length);return selections.forEach(function(selectionRect,i){for(var rect=normalizeRect(selectionRect),colCount=rect.extent.x+1,rowCount=rect.extent.y+1,columns={},c=0,x=rect.origin.x;c<colCount;c++,x++)for(var column=behavior.getActiveColumn(x),values=columns[column.name]=Array(rowCount),r=0,y=rect.origin.y,dataRow;r<rowCount;r++,y++)dataRow=dataModel.getRow(y),values[r]=valOrFunc(dataRow,column);rects[i]=columns}),rects},getSelectionMatrix:function(){for(var _this=this,behavior=this.behavior,dataModel=this.behavior.dataModel,selections=this.getSelections(),selectionRect=normalizeRect(selections[selections.length-1]),colCount=selectionRect.extent.x+1,rowCount=selectionRect.extent.y+1,rows=[],_loop=function(c,x){for(var colProps=behavior.getColumnProperties(x),columnName=dataModel.getColumnName(x),searchType=behavior.getColumn(x).searchType,isAggregationTreeColumn="$$aggregation"===columnName,values=rows[c]=Array(rowCount),alreadyCopied=[],getHeaderValue=function(x,y){if(alreadyCopied.push(y),dataModel.isRenderSkipNeeded(x,y))return{text:""};var text="",html="";colProps.colDef&&colProps.colDef.headerPrefix&&!dataModel.getDefinedCellProperties(x,y).ignoreValuePrefix&&(text+=colProps.colDef.headerPrefix+" ",html+="<span class=\"prefix\">"+colProps.colDef.headerPrefix+"</span> ");var val=(dataModel.getValue(x,y)||"").trim();text+=val,html+="<span class=\"header\">"+val+"</span>";var postfix=dataModel.getCount(x,y);return postfix&&(text+=" ("+postfix+")",html+=" <span class=\"postfix\">("+postfix+")</span>"),{text:text.trim(),html:"<div>"+html+"</div>",colspan:dataModel.getColspan(x,y),rowspan:dataModel.getRowspan(x,y)}},r=0,y=selectionRect.origin.y;r<rowCount;r++,y++)if(behavior.getRowProperties(y).headerRow)values[r]=getHeaderValue(x,y);else{var val=dataModel.getValue(x,y);if(val||!1===val||0===val||null===val){var color=_this.properties[isAggregationTreeColumn?"linkColor":"color"],text="",html="",isValueUrl=dataModel.isValueUrl(val);val=_this.formatValue(columnName,val,!1),_this.properties.highLightText&&searchType&&(val=dataModel.getHighlightedValue(val,_this.properties.highLightText,searchType)),text+=val,html+="<span style=\"color: "+color+"; "+(isAggregationTreeColumn?"text-decoration: underline;":"")+"\">"+(isValueUrl?"<a href=\""+val+"\">"+val+"</a>":val)+"</span>";var postfix=isAggregationTreeColumn?behavior.getAggregationChildCountByIndex(y):dataModel.getCount(x,y);postfix&&(text+=" ("+postfix+")",html+="<span class=\"postfix\">("+postfix+")</span>"),values[r]={text:text.trim(),html:"<div style=\"text-align: "+(colProps.halign||"left")+"\">"+html+"</div>"}}else values[r]=""}if(_this.copyIncludeHeaders){for(var _y=0,headerValues=[];behavior.getRowProperties(_y).headerRow;)alreadyCopied.includes(_y)||headerValues.push(getHeaderValue(x,_y)),++_y;0<headerValues.length&&[].unshift.apply(values,headerValues)}},c=0,x=selectionRect.origin.x;c<colCount;c++,x++)_loop(c,x);return rows},selectCell:function(x,y,silent){this.selectionModel.clear(this.properties.keepRowSelections),this.selectionModel.select(x,y,0,0,silent)},toggleSelectColumn:function(x,keys){keys=keys||[];var model=this.selectionModel,alreadySelected=model.isColumnSelected(x),hasCTRL=-1<keys.indexOf("CTRL"),hasSHIFT=-1<keys.indexOf("SHIFT");hasCTRL||hasSHIFT?(hasCTRL&&(alreadySelected?model.deselectColumn(x):model.selectColumn(x)),hasSHIFT&&(model.clear(),model.selectColumn(this.lastEdgeSelection[0],x))):(model.clear(),!alreadySelected&&model.selectColumn(x)),alreadySelected||hasSHIFT||(this.lastEdgeSelection[0]=x),this.repaint(),this.fireSyntheticColumnSelectionChangedEvent()},toggleSelectRow:function(y,keys){keys=keys||[];var model=this.selectionModel,hasSHIFT=-1<keys.indexOf("SHIFT"),hasCTRL=-1<keys.indexOf("CTRL");hasCTRL||hasSHIFT?(hasCTRL&&model.selectRow(y),hasSHIFT&&(model.clear(),model.selectRow(this.lastEdgeSelection[1],y))):(model.clear(),model.selectRow(y)),hasSHIFT||(this.lastEdgeSelection[1]=y),this.repaint(),this.fireSyntheticRowSelectionChangedEvent()},singleSelect:function(){var result=this.properties.singleRowSelectionMode;return result&&this.selectionModel.clearRowSelection(),result},selectViewportCell:function(x,y){var vc,vr;this.getRowCount()&&(vc=this.renderer.visibleColumns[x])&&(vr=this.renderer.visibleRows[y+this.getHeaderRowCount()])&&(x=vc.columnIndex,y=vr.rowIndex,this.clearSelections(),this.select(x,y,0,0),this.setMouseDown(this.newPoint(x,y)),this.setDragExtent(this.newPoint(0,0)),this.repaint())},selectToViewportCell:function(x,y){var selections,vc,vr;if((selections=this.getSelections())&&selections.length&&(vc=this.renderer.visibleColumns[x])&&(vr=this.renderer.visibleRows[y+this.getHeaderRowCount()])){var origin=selections[0].origin;x=vc.columnIndex,y=vr.rowIndex,this.setDragExtent(this.newPoint(x-origin.x,y-origin.y)),this.select(origin.x,origin.y,x-origin.x,y-origin.y),this.repaint()}},selectToFinalCellOfCurrentRow:function(){this.selectFinalCellOfCurrentRow(!0)},selectFinalCellOfCurrentRow:function(to){if(this.getRowCount()){var selections=this.getSelections();if(selections&&selections.length){var selection=selections[0],origin=selection.origin,extent=selection.extent,columnCount=this.getColumnCount();this.scrollBy(columnCount,0),this.clearSelections(),to?this.select(origin.x,origin.y,columnCount-origin.x-1,extent.y):this.select(columnCount-1,origin.y,0,0),this.repaint()}}},selectToFirstCellOfCurrentRow:function(){this.selectFirstCellOfCurrentRow(!0)},selectFirstCellOfCurrentRow:function(to){if(this.getRowCount()){var selections=this.getSelections();if(selections&&selections.length){var selection=selections[0],origin=selection.origin,extent=selection.extent;this.clearSelections(),to?this.select(origin.x,origin.y,-origin.x,extent.y):this.select(0,origin.y,0,0),this.setHScrollValue(0),this.repaint()}}},selectFinalCell:function(){this.getRowCount()&&(this.selectCellAndScrollToMakeVisible(this.getColumnCount()-1,this.getRowCount()-1),this.repaint())},selectToFinalCell:function(){if(this.getRowCount()){var selections=this.getSelections();if(selections&&selections.length){var selection=selections[0],origin=selection.origin,columnCount=this.getColumnCount(),rowCount=this.getRowCount();this.clearSelections(),this.select(origin.x,origin.y,columnCount-origin.x-1,rowCount-origin.y-1),this.repaint()}}},getSelectedRow:function(){var sels=this.selectionModel.getSelections();if(sels.length){for(var behavior=this.behavior,colCount=this.getColumnCount(),topRow=sels[0].origin.y,row={},c=0;c<colCount;c++)row[behavior.getActiveColumn(c).header]=behavior.getValue(c,topRow);return row}},selectionChanged:function(){this.selectRowsFromCells(),this.selectColumnsFromCells(),this.selectColDefsForApi();var selectionEvent=new CustomEvent("fin-selection-changed",{detail:this.selectionDetailGetters});this.canvas.dispatchEvent(selectionEvent)},selectColDefsForApi:function(){if(this.visibleColumnDefs){var selectedColumns=this.getSelectedColumns()||[],selections=this.getSelections();selections.forEach(function(s){for(var i=s.left;i<=s.right;++i)selections.includes(i)||selectedColumns.push(i)}),this.api.rangeController.selectedCols=selectedColumns.length?this.behavior.getActiveColumns().filter(function(c){return c.colDef&&selectedColumns.includes(c.index)}):[]}else this.api.rangeController.selectedCols=[]},isColumnOrRowSelected:function(){return this.selectionModel.isColumnOrRowSelected()},selectColumn:function(x1,x2){this.selectionModel.selectColumn(x1,x2)},selectRow:function(y1,y2){this.singleSelect()?y1=y2:y2===void 0&&(y2=y1),this.selectionModel.selectRow(y1,y2)},selectRowsFromCells:function(){if(!this.properties.keepRowSelections&&this.properties.autoSelectRows){var last;this.properties.singleRowSelectionMode?(last=this.selectionModel.getLastSelection())?this.selectRow(null,last.corner.y):this.clearRowSelection():this.selectionModel.selectRowsFromCells(0,!0),this.fireSyntheticRowSelectionChangedEvent()}},selectColumnsFromCells:function(){this.properties.autoSelectColumns&&this.selectionModel.selectColumnsFromCells()},getSelectedRows:function(){return this.behavior.getSelectedRows()},getSelectedColumns:function(){return this.behavior.getSelectedColumns()},getSelections:function(){return this.behavior.getSelections()},getLastSelectionType:function(){return this.selectionModel.getLastSelectionType()},isInCurrentSelectionRectangle:function(x,y){return this.selectionModel.isInCurrentSelectionRectangle(x,y)},selectAllRows:function(){this.selectionModel.selectAllRows()},areAllRowsSelected:function(){return this.selectionModel.areAllRowsSelected()},toggleSelectAllRows:function(){this.areAllRowsSelected()?this.selectionModel.clear():this.selectAllRows(),this.repaint()},moveSingleSelect:function(offsetX,offsetY){var mouseCorner=this.getMouseDown();this.moveToSingleSelect(mouseCorner.x+offsetX,mouseCorner.y+offsetY)},moveToSingleSelect:function(newX,newY){var maxColumns=this.getColumnCount()-1,maxRows=this.getRowCount()-1,maxViewableColumns=this.getVisibleColumnsCount()-1,maxViewableRows=this.getVisibleRowsCount()-1;this.properties.scrollingEnabled||(maxColumns=_Mathmin7(maxColumns,maxViewableColumns),maxRows=_Mathmin7(maxRows,maxViewableRows)),newX=_Mathmin7(maxColumns,_Mathmax8(0,newX)),newY=_Mathmin7(maxRows,_Mathmax8(0,newY)),this.clearSelections(),this.select(newX,newY,0,0),this.setMouseDown(this.newPoint(newX,newY)),this.setDragExtent(this.newPoint(0,0)),this.selectCellAndScrollToMakeVisible(newX,newY),this.repaint()},extendSelect:function(offsetX,offsetY){var maxColumns=this.getColumnCount()-1,maxRows=this.getRowCount()-1,maxViewableColumns=this.renderer.visibleColumns.length-1,maxViewableRows=this.renderer.visibleRows.length-1,origin=this.getMouseDown(),extent=this.getDragExtent(),newX=extent.x+offsetX,newY=extent.y+offsetY;this.properties.scrollingEnabled||(maxColumns=_Mathmin7(maxColumns,maxViewableColumns),maxRows=_Mathmin7(maxRows,maxViewableRows)),newX=_Mathmin7(maxColumns-origin.x,_Mathmax8(-origin.x,newX)),newY=_Mathmin7(maxRows-origin.y,_Mathmax8(-origin.y,newY)),this.clearMostRecentSelection(),this.select(origin.x,origin.y,newX,newY),this.setDragExtent(this.newPoint(newX,newY));var colScrolled=this.insureModelColIsVisible(newX+origin.x,offsetX),rowScrolled=this.insureModelRowIsVisible(newY+origin.y,offsetY);this.repaint();var needScroll=colScrolled||rowScrolled;return needScroll&&this.scrollToMakeVisible(newX+origin.x,newY+origin.y),needScroll},getGridCellFromLastSelection:function(useAllCells){var sel=this.selectionModel.getLastSelection();return sel&&new this.behavior.CellEvent().resetGridXDataY(sel.origin.x,sel.origin.y,null,useAllCells)}}},{rectangular:14}],32:[function(require,module){"use strict";function applyTheme(theme){var themeLayer,grids,props;if(theme&&"object"===("undefined"==typeof theme?"undefined":_typeof(theme))&&!Object.getOwnPropertyNames(theme).length&&(theme=null),this._theme?(grids=[this],themeLayer=this._theme,props=this.properties,!theme&&(Object.keys(themeLayer).forEach(function(key){key in dynamicPropertyDescriptors||delete props[key]}),Object.keys(dynamicCosmetics).forEach(function(key){props.var[key]=defaults[key]})),Object.keys(themeLayer).forEach(function(key){delete themeLayer[key]})):(grids=this.grids,themeLayer=defaults,theme=theme||"default"),"string"==typeof theme){if(!registry[theme])throw new HypergridError("Unknown theme \""+theme+"\"");theme=registry[theme]}theme&&(!theme.themeName&&(theme.themeName=void 0),Object.keys(theme).forEach(function(key){if(key in dynamicPropertyDescriptors)if(key in dynamicCosmetics)grids.forEach(function(grid){grid.properties[key]=theme[key]});else{var message=pseudopropAdvice[key];message=message?"Ignoring unexpected pseudo-prop "+key+" in theme object. Use actual props "+message+" instead.":"Ignoring invalid property "+key+" in theme object.",console.warn(message),delete theme[key]}}),Object.defineProperties(themeLayer,Object.getOwnPropertyDescriptors(theme))),grids.forEach(function(grid){grid.repaint()})}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},_=require("object-iterators"),defaults=require("../defaults"),dynamicPropertyDescriptors=require("../lib/dynamicProperties"),HypergridError=require("../lib/error"),styles=["BackgroundColor","Color","Font"],stylesWithHalign=styles.concat(["Halign"]),dataCellStyles=stylesWithHalign.concat(["cellPadding","iconPadding"]),dynamicCosmetics={rowHeaderCheckboxes:defaults.rowHeaderCheckboxes,rowHeaderNumbers:defaults.rowHeaderNumbers,gridBorder:defaults.gridBorder,gridBorderTop:defaults.gridBorderTop,gridBorderRight:defaults.gridBorderRight,gridBorderBottom:defaults.gridBorderBottom,gridBorderLeft:defaults.gridBorderLeft,gridRenderer:defaults.gridRenderer},defaultTheme=Object.assign({},dynamicCosmetics,{themeName:defaults.themeName});[{prefix:"",props:dataCellStyles},{prefix:"foregroundSelection",props:styles},{prefix:"columnHeader",props:stylesWithHalign},{prefix:"columnHeaderForegroundSelection",props:styles},{prefix:"rowHeader",props:styles},{prefix:"rowHeaderForegroundSelection",props:styles}].reduce(function(theme,styler){return styler.props.reduce(function(theme,prop){return prop=styler.prefix+prop,prop=prop.replace("ForegroundSelectionBackground","BackgroundSelection"),prop=prop[0].toLowerCase()+prop.substr(1),theme[prop]=defaults[prop],theme},theme)},defaultTheme);var registry=Object.create(null,{default:{value:defaultTheme}}),pseudopropAdvice={showRowNumbers:"rowHeaderCheckboxes and rowHeaderNumbers",lineColor:"gridLinesColor and gridLinesColor",lineWidth:"gridLinesWidth and gridLinesWidth",gridBorder:"gridBorderLeft, gridBorderRight, gridBorderTop, and gridBorderBottom"},mixin={initThemeLayer:function(){return this._theme=Object.create(defaults),Object.create(this._theme,dynamicPropertyDescriptors)},applyTheme:applyTheme,getTheme:function(){var themeLayer=this._theme,themeName=themeLayer.themeName;return"default"!==themeName&&Object.getOwnPropertyNames(themeLayer).length?themeName in registry?themeName:themeLayer:void 0}};Object.defineProperty(mixin,"theme",{enumerable:!0,set:mixin.applyTheme,get:mixin.getTheme});var sharedMixin={registerTheme:function(name,theme){if("object"===("undefined"==typeof name?"undefined":_typeof(name))&&(theme=name,name=theme.themeName),!name)throw new HypergridError("Cannot register an anonymous theme.");if("default"===name)throw new HypergridError("Cannot register or unregister the \"default\" theme.");theme?(theme.themeName=name,registry[name]=theme):delete registry[name]},registerThemes:function(themeCollection){themeCollection?_(themeCollection).each(function(theme,name){this.registerTheme(name,theme)},this):Object.keys(registry).forEach(function(themeName){this.registerTheme(themeName)},this)},applyTheme:applyTheme};Object.defineProperty(sharedMixin,"theme",{enumerable:!0,set:applyTheme,get:function(){return defaults}}),module.exports={mixin:mixin,sharedMixin:sharedMixin}},{"../defaults":65,"../lib/dynamicProperties":94,"../lib/error":95,"object-iterators":12}],33:[function(require,module){"use strict";function warnBehaviorFeaturesDeprecation(){var featureNames=[],unregisteredFeatures=[],n=0;if(this.features.forEach(function(FeatureConstructor){var className=FeatureConstructor.prototype.$$CLASS_NAME||FeatureConstructor.name,featureName=className||"feature"+n++;if(featureNames.push(featureName),!this.featureRegistry.get(featureName,!0)){var constructorName=FeatureConstructor.name||FeatureConstructor.prototype.$$CLASS_NAME||"FeatureConstructor"+n,params=[];className||params.push("'"+featureName+"'"),params.push(constructorName),unregisteredFeatures.push(params.join(", "))}},this),featureNames.length){var sampleCode="Hypergrid.defaults.features = [\n"+join("\t'",featureNames,"',\n")+"];";unregisteredFeatures.length&&(sampleCode+="\n\nThe following custom features are unregistered and will need to be registered prior to behavior instantiation:\n\n"+join("Features.add(",unregisteredFeatures,");\n")),n&&(sampleCode+="\n\n(You should provide meaningful names for your custom features rather than the generated names above.)"),console.warn("`grid.behavior.features` (array of feature constructors) has been deprecated as of version 2.1.0 in favor of `grid.properties.features` (array of feature names). Remove `features` array from your behavior and add `features` property to your grid state object (or Hypergrid.defaults), e.g.:\n\n"+sampleCode)}}function join(prefix,array,suffix){return prefix+array.join(suffix+prefix)+suffix}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},Point=require("rectangular").Point,Base=require("../Base"),Column=require("./Column"),cellEventFactory=require("../lib/cellEventFactory"),featureRegistry=require("../features"),propClassEnum=require("../defaults.js").propClassEnum,noExportProperties=["columnHeader","columnHeaderColumnSelection","filterProperties","rowHeader","rowHeaderRowSelection","rowNumbersProperties","treeColumnProperties","treeColumnPropertiesColumnSelection"];Array.prototype.move=function(oldIndex,len,newIndex){for(;0>oldIndex;)oldIndex+=this.length;for(;0>newIndex;)newIndex+=this.length;if(newIndex>=this.length)for(var k=newIndex-this.length;k--+1;)this.push(void 0);return oldIndex<newIndex&&(newIndex-=len-1),this.splice.apply(this,[newIndex,0].concat(this.splice(oldIndex,len))),this};var Behavior=Base.extend("Behavior",{initialize:function(grid,options){this.grid=grid,this.initializeFeatureChain(),this.grid.behavior=this,this.reset(options)},initializeFeatureChain:function(){var constructors;if(this.featureChain=void 0,this.featureMap={},this.featureRegistry=this.featureRegistry||featureRegistry,this.grid.properties.features){var getFeatureConstructor=this.featureRegistry.get.bind(this.featureRegistry);constructors=this.grid.properties.features.map(getFeatureConstructor)}else this.features&&(constructors=this.features,warnBehaviorFeaturesDeprecation.call(this));constructors.forEach(function(FeatureConstructor,i){var feature=new FeatureConstructor;this.featureMap[feature.$$CLASS_NAME]=feature,i?this.featureChain.setNext(feature):this.featureChain=feature},this),this.featureChain&&this.featureChain.initializeOn(this.grid)},features:[],reset:function(options){this.schemaOld=this.schema;var dataModelChanged=this.resetDataModel(options);dataModelChanged&&(this.CellEvent=cellEventFactory(this.grid)),this.scrollPositionX=this.scrollPositionY=0,this.createColumns(),this.subgrids=options&&options.subgrids||!dataModelChanged&&this.subgrids||this.grid.properties.subgrids,this.setData(options)},setData:function(){},addData:function(){},get renderedColumnCount(){return this.grid.renderer.visibleColumns.length},get renderedRowCount(){return this.grid.renderer.visibleRows.length},get leftMostColIndex(){return this.grid.properties.showRowNumbers?this.rowColumnIndex:this.hasTreeColumn()?this.treeColumnIndex:0},clearColumns:function(){var schema=this.schema,treeColumnIndex=this.treeColumnIndex,rowColumnIndex=this.rowColumnIndex;schema[treeColumnIndex]=schema[treeColumnIndex]||{index:treeColumnIndex,name:"Tree",header:"Tree"},schema[rowColumnIndex]=schema[rowColumnIndex]||{index:rowColumnIndex,name:"",header:""};var treeColumnOld=this.allColumns&&this.allColumns[treeColumnIndex]||this.columns&&this.columns[treeColumnIndex],rowColumnOld=this.allColumns&&this.allColumns[rowColumnIndex]||this.columns&&this.columns[rowColumnIndex];this.columns=[],this.allColumns=[],this.allColumns[treeColumnIndex]=this.columns[treeColumnIndex]=this.newColumn(treeColumnOld&&treeColumnOld.properties?treeColumnOld.properties:{index:treeColumnIndex,header:schema[treeColumnIndex].header,name:schema[treeColumnIndex].name,fixed:!0}),this.allColumns[rowColumnIndex]=this.columns[rowColumnIndex]=this.newColumn(rowColumnOld&&rowColumnOld.properties?rowColumnOld.properties:{index:rowColumnIndex,header:schema[rowColumnIndex].header,name:schema[rowColumnIndex].name,columnAutosizing:!1,minWidth:this.grid.properties.columnHeaderInitWidth,fixed:!0}),this.columns[treeColumnIndex].properties.propClassLayers=this.columns[rowColumnIndex].properties.propClassLayers=[propClassEnum.COLUMNS],this.grid.renderer.resetRowHeaderColumnWidth()},getActiveColumn:function(x){return this.columns[x]||this.columns[parseInt(x,10)]},getActiveColumnIndex:function(columnOrIndex){for(var index=columnOrIndex instanceof Column?columnOrIndex.index:columnOrIndex,i=0;i<this.columns.length;++i)if(this.columns[i].index===index)return i},getColumn:function(x){return this.allColumns[x]},getColumnShifted:function(x,rightShift){return rightShift?++x:--x,x!==this.treeColumnIndex||this.grid.properties.showTreeColumn?x!==this.rowColumnIndex||this.grid.properties.rowHeaderNumbers?this.getColumn(x):this.getColumnShifted(x,rightShift):this.getColumnShifted(x,rightShift)},newColumn:function(options){return new Column(this,options)},addColumn:function(options){var column=this.newColumn(options);return this.columns.push(column),this.allColumns.push(column),column},createColumns:function(){this.clearColumns()},getColumnWidth:function(x){var column=this.getActiveColumn(x);return column?column.getWidth()+(this.grid.properties.gridLinesV?this.grid.properties.gridLinesWidth:0):this.grid.properties.defaultColumnWidth},setColumnWidth:function(columnOrIndex,width){var column=-2<=columnOrIndex?this.getActiveColumn(columnOrIndex):columnOrIndex;column.setWidth(width),this.stateChanged(),this.grid.fireSyntheticOnColumnResizedEvent(columnOrIndex,width)},clearObjectProperties:function(obj,exportProps){for(var key in obj)obj.hasOwnProperty(key)&&(void 0===exportProps||!exportProps&&0<=noExportProperties.indexOf(key)||exportProps&&0>noExportProperties.indexOf(key))&&delete obj[key]},getState:function(){var copy=JSON.parse(JSON.stringify(this.grid.properties));return this.clearObjectProperties(copy.columnProperties,!1),copy},clearState:function(){this.grid.clearState(),this.createColumns()},setState:function(memento){this.clearState(),this.addState(memento)},addState:function(properties){Object.assign(this.grid.properties,properties),this.setAllColumnProperties(properties.columnProperties),this.reindex()},setAllColumnProperties:function(columnProperties){columnProperties&&columnProperties.forEach(function(properties,i){properties&&(this.getColumn(i).properties=properties)},this)},setColumnOrder:function(columnIndexes){Array.isArray(columnIndexes)&&(this.columns.length=columnIndexes.length,columnIndexes.forEach(function(index,i){this.columns[i]=this.allColumns[index]},this))},setColumnOrderByName:function(columnNames){Array.isArray(columnNames)&&(this.columns.length=columnNames.length,columnNames.forEach(function(columnName,i){this.columns[i]=this.allColumns.find(function(column){return column.name===columnName})},this))},setColumnIndexes:function(columnIndexes,silent){this.grid.properties.columnIndexes=columnIndexes,silent||this.grid.fireSyntheticOnColumnsChangedEvent()},showColumns:function(isActiveColumnIndexes,columnIndexes,referenceIndex,allowDuplicateColumns){("number"==typeof isActiveColumnIndexes||Array.isArray(isActiveColumnIndexes))&&(allowDuplicateColumns=referenceIndex,referenceIndex=columnIndexes,columnIndexes=isActiveColumnIndexes,isActiveColumnIndexes=!1);var activeColumns=this.columns,sourceColumnList=isActiveColumnIndexes?activeColumns:this.allColumns;"number"==typeof columnIndexes&&(columnIndexes=[columnIndexes]);var newColumns=columnIndexes.map(function(index){return sourceColumnList[index]}).filter(function(column){return column});"number"!=typeof referenceIndex&&(allowDuplicateColumns=referenceIndex,referenceIndex=activeColumns.length),allowDuplicateColumns||newColumns.forEach(function(column){var i=activeColumns.indexOf(column);0<=i&&(activeColumns.splice(i,1),referenceIndex>i&&--referenceIndex)}),0<=referenceIndex&&activeColumns.splice.apply(activeColumns,[referenceIndex,0].concat(newColumns)),this.grid.properties.columnIndexes=activeColumns.map(function(column){return column.index})},hideColumns:function(){var args=Array.prototype.slice.call(arguments);args.push(-1),this.showColumns.apply(this,args)},resolveProperty:function(key){return this.grid.resolveProperty(key)},lookupFeature:function(key){return this.featureMap[key]},getValue:function(xOrCellEvent,y,dataModel){if("object"!==("undefined"==typeof xOrCellEvent?"undefined":_typeof(xOrCellEvent))){var x=xOrCellEvent;xOrCellEvent=new this.CellEvent,dataModel?xOrCellEvent.resetDataXY(x,y,dataModel):xOrCellEvent.resetGridCY(x,y)}return xOrCellEvent.value},setValue:function(xOrCellEvent,y,value,dataModel){if("object"===("undefined"==typeof xOrCellEvent?"undefined":_typeof(xOrCellEvent)))value=y;else{var x=xOrCellEvent;xOrCellEvent=new this.CellEvent,dataModel?xOrCellEvent.resetDataXY(x,y,dataModel):xOrCellEvent.resetGridCY(x,y)}xOrCellEvent.value=value},getFixedColumnsWidth:function(){for(var count=this.getFixedColumnCount(),total=0,i=this.leftMostColIndex;i<count;i++)total+=this.getColumnWidth(i);return total},getColumnsWidth:function(toX){for(var count=void 0===toX?this.getActiveColumnCount():toX,total=0,i=this.leftMostColIndex;i<count;i++)total+=this.getColumnWidth(i);return total},getFixedColumnsMaxWidth:function(){return this.getFixedColumnsWidth()},setCursor:function(grid){grid.updateCursor(),this.featureChain.setCursor(grid)},onMouseMove:function(grid,event){this.featureChain&&(this.featureChain.handleMouseMove(grid,event),this.setCursor(grid))},onClick:function(grid,event){this.featureChain&&(this.featureChain.handleClick(grid,event),this.setCursor(grid))},onContextMenu:function(grid,event){this.featureChain&&(this.featureChain.handleContextMenu(grid,event),this.setCursor(grid))},onWheelMoved:function(grid,event){this.featureChain&&(this.featureChain.handleWheelMoved(grid,event),this.setCursor(grid))},onGridRendered:function(grid,event){this.featureChain&&(this.featureChain.handleGridRendered(grid,event),this.setCursor(grid))},onColumnResizedEvent:function(grid,event){this.featureChain&&this.featureChain.handleColumnResizedEvent(grid,event)},onMouseUp:function(grid,event){this.featureChain&&(this.featureChain.handleMouseUp(grid,event),this.setCursor(grid))},onMouseDrag:function(grid,event){this.featureChain&&(this.featureChain.handleMouseDrag(grid,event),this.setCursor(grid))},onKeyDown:function(grid,event){this.featureChain&&(this.featureChain.handleKeyDown(grid,event),this.setCursor(grid)),grid.onCtrlShiftAndZ&&"Z"===event.detail.char&&event.detail.ctrl&&event.detail.shift?grid.onCtrlShiftAndZ():grid.onCtrlAndZ&&"z"===event.detail.char&&event.detail.ctrl&&grid.onCtrlAndZ()},onApiDestroyCalled:function(grid,event){this.featureChain&&this.featureChain.onApiDestroyCalled(grid,event)},onKeyUp:function(grid,event){this.featureChain&&(this.featureChain.handleKeyUp(grid,event),this.setCursor(grid))},onDataAdded:function(grid,event){this.featureChain&&this.featureChain.handleDataAdded(grid,event)},onDoubleClick:function(grid,event){this.featureChain&&(this.featureChain.handleDoubleClick(grid,event),this.setCursor(grid))},handleMouseDown:function(grid,event){this.featureChain&&(this.featureChain.handleMouseDown(grid,event),this.setCursor(grid))},handleCanvasOutsideMouseDown:function(grid,event){this.featureChain&&(this.featureChain.handleCanvasOutsideMouseDown(grid,event),this.setCursor(grid))},handleMouseExit:function(grid,event){this.featureChain&&(this.featureChain.handleMouseExit(grid,event),this.setCursor(grid))},changed:function(){this.grid.behaviorChanged()},shapeChanged:function(){this.grid.behaviorShapeChanged()},stateChanged:function(){this.grid.behaviorStateChanged()},isColumnReorderable:function(){return this.deprecated("isColumnReorderable()","grid.properties.columnsReorderable","2.1.3")},getColumnProperties:function(x){var column=this.getColumn(x);return column&&column.properties},setColumnProperties:function(x,properties){var column=this.getColumn(x);if(!column)throw"Expected column.";var result=Object.assign(column.properties,properties);return this.changed(),result},clearAllCellProperties:function(x){if(x!==void 0){var column=this.getColumn(x);column&&column.clearAllCellProperties()}else this.subgrids&&this.subgrids.forEach(function(dataModel){for(var i=dataModel.getRowCount();i--;)dataModel.setRowMetadata(i)})},getHiddenColumnDescriptors:function(){for(var tableState=this.grid.properties,indexes=tableState.columnIndexes,labels=[],columnCount=this.getActiveColumnCount(),i=0;i<columnCount;i++)if(-1===indexes.indexOf(i)){var column=this.getActiveColumn(i);labels.push({id:i,header:column.header,field:column.name})}return labels},getFixedColumnCount:function(){return this.grid.properties.fixedColumnCount},setFixedColumnCount:function(n){this.grid.properties.fixedColumnCount=n},getFixedRowCount:function(){return this.getHeaderRowCount()+this.grid.properties.fixedRowCount},setFixedRowCount:function(n){this.grid.properties.fixedRowCount=n},endDragColumnNotification:function(){},getCursorAt:function(){return null},getActiveColumnCount:function(){return this.columns.length},setScrollPositionX:function(x){this.scrollPositionX=x},getScrollPositionX:function(){return this.scrollPositionX},setScrollPositionY:function(y){this.scrollPositionY=y},getScrollPositionY:function(){return this.scrollPositionY},getCellEditorAt:function(event){return event.isDataColumn&&event.column.getCellEditorAt(event)},highlightCellOnHover:function(isColumnHovered,isRowHovered){return isColumnHovered&&isRowHovered},cellPropertiesPrePaintNotification:function(){},cellFixedRowPrePaintNotification:function(){},cellFixedColumnPrePaintNotification:function(){},cellTopLeftPrePaintNotification:function(){},swapColumns:function(source,target){var columns=this.columns,tmp=columns[source];columns[source]=columns[target],columns[target]=tmp,this.changed()},synchronizeSchemaToColumnDefs:function(){this.grid.api.setColumnDefs(this.grid.columnDefs)},recalculateColumnSizes:function(){this.grid.api.sizeColumnsToFit()},moveColumns:function(from,len,target){var _this=this,broadcastEvent=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],givenHiddenColumns=!!(4<arguments.length&&void 0!==arguments[4])&&arguments[4];this.log("moveColumns called with params",from,len,target,broadcastEvent,givenHiddenColumns);var columns=this.columns,visibleColDefs=this.grid.visibleColumnDefs,colDefs=this.grid.columnDefs,colDefsToMove=givenHiddenColumns?colDefs.slice(0).splice(from,len):visibleColDefs.slice(0).splice(from,len),headers=[];if(this.grid.properties.onlyDataReorder&&(headers=columns.map(function(c){return c.header})),!givenHiddenColumns){var visibleColumnWithTargetIndex=visibleColDefs[target];target=colDefs.indexOf(visibleColumnWithTargetIndex)}var movedColumns=[],colDefsPrepared=colDefsToMove;colDefs.indexOf(colDefsToMove[0])>=target&&(colDefsPrepared=colDefsToMove.reverse()),colDefsPrepared.forEach(function(colDef){var columnWithSameColDef=columns.find(function(c){return c.colDef===colDef});columnWithSameColDef&&movedColumns.unshift(columnWithSameColDef);var currentColDefIndex=colDefs.indexOf(colDef);colDefs.splice(target,0,colDefs.splice(currentColDefIndex,1)[0]),_this.log("ColDef with index "+currentColDefIndex+" moved to "+target)}),this.synchronizeSchemaToColumnDefs(),broadcastEvent&&this.grid.fireSyntheticColumnsMovedEvent(movedColumns,target),this.grid.visibleColumnDefs=colDefs.filter(function(cd){return!cd.isHidden}),this.grid.properties.onlyDataReorder&&columns.forEach(function(c,i){return c.header=headers[i]}),this.changed()},convertViewPointToDataPoint:function(unscrolled){return new Point(this.getActiveColumn(unscrolled.x).index,unscrolled.y)},isAggregationRowByIndex:function(rowIndex){var row=this.grid.getRow(rowIndex);return this.isAggregationRow(row)},isAggregationRow:function(row){return!!row&&"undefined"!=typeof row.$$aggregation},getChildRowsByIndex:function(rowIndex){var row=this.grid.getRow(rowIndex);return this.getChildRows(row)},getChildRows:function(row){return!!row&&row.$$children?row.$$children:[]},hasChildRowsByIndex:function(rowIndex){return 0<this.getChildRowsByIndex(rowIndex).length},hasChildRows:function(row){return 0<this.getChildRows(row).length},getAggregationChildCountByIndex:function(rowIndex){var row=this.grid.getRow(rowIndex);return this.getAggregationChildCount(row)},getAggregationChildCount:function(row){return!row||!row.$$cluster_size?0:row.$$cluster_size},isExpandableRowByIndex:function(rowIndex){var row=this.grid.getRow(rowIndex);return this.isExpandableRow(row)},isExpandableRow:function(row){return!(!row||!row.$$expandable)&&row.$$expandable},isRowExpandedByIndex:function(rowIndex){var row=this.grid.getRow(rowIndex);return this.isRowExpanded(row)},isRowExpanded:function(row){return!(!row||!row.$$open)&&row.$$open},getRowTreeLevelByIndex:function(rowIndex){var row=this.grid.getRow(rowIndex);return this.getRowTreeLevel(row)},getRowTreeLevel:function(row){return row&&row.__treeLevel!==void 0&&row.__treeLevel},hasTreeColumn:function(){return!0},getSelectionMatrixFunction:function(){return function(){return null}},getRowHeaderColumn:function(){return this.allColumns[this.rowColumnIndex]},getHeaderColumnByName:function(nameToFind){return this.columns.find(function(c){return c.name===nameToFind})},autosizeAllColumns:function(){this.checkColumnAutosizing(!0),this.changed()},checkColumnAutosizing:function(force){force=!0===force;var autoSized=this.autoSizeRowNumberColumn()||this.hasTreeColumn()&&this.getRowHeaderColumn().checkColumnAutosizing(force);return this.allColumns.forEach(function(column){autoSized=column.checkColumnAutosizing(force)||autoSized}),autoSized},autoSizeRowNumberColumn:function(){if(this.grid.properties.showRowNumbers&&this.grid.properties.rowNumberAutosizing)return this.getRowHeaderColumn().checkColumnAutosizing(!0)},getColumns:function(){return this.allColumns},getActiveColumns:function(){return this.columns},getHiddenColumns:function(){for(var visible=this.columns,all=this.allColumns,hidden=[],i=0;i<all.length;i++)-1===visible.indexOf(all[i])&&hidden.push(all[i]);return hidden.sort(function(a,b){return a.header<b.header}),hidden},getSelectedRows:function(){return this.grid.selectionModel.getSelectedRows()},getSelectedColumns:function(){return this.grid.selectionModel.getSelectedColumns()},getSelections:function(){return this.grid.selectionModel.getSelections()},log:function(){var _grid;(_grid=this.grid).log.apply(_grid,arguments)}});Object.defineProperties(Behavior.prototype,{treeColumnIndex:{value:-1},rowColumnIndex:{value:-2}}),Behavior.prototype.applyAnalytics=Behavior.prototype.reindex,Behavior.prototype.mixIn(require("./rowProperties").mixin),Behavior.prototype.mixIn(require("./cellProperties").behaviorMixin),Behavior.prototype.mixIn(require("./subgrids").mixin),module.exports=Behavior},{"../Base":17,"../defaults.js":65,"../features":84,"../lib/cellEventFactory":92,"./Column":34,"./cellProperties":36,"./rowProperties":43,"./subgrids":44,rectangular:14}],34:[function(require,module){function Column(behavior,index){var options,icon;if(this.behavior=behavior,this.dataModel=behavior.dataModel,"object"===("undefined"==typeof index?"undefined":_typeof(index))?(options=index,index=void 0===options.index?options.name:options.index):options={},this.schema=this.behavior.schema[index],!this.schema)throw"Column not found in data.";switch(this.properties=options,index){case this.behavior.treeColumnIndex:icon=images[Object.create(this.properties.treeHeader,{isDataRow:{value:!0}}).leftIcon],this.properties.minimumColumnWidth=icon?icon.width+3:0;break;case this.behavior.rowColumnIndex:break;default:if(0>index)throw"`index` out of range";}}function resolveCalculator(calculator){if(calculator){if("function"==typeof calculator)calculator=calculator.toString();else if("string"!=typeof calculator)throw new HypergridError("Expected function OR string containing function OR function name the \""+this.name+"\" column calculator.");var calculators=this.behavior.grid.properties.calculators||(this.behavior.grid.properties.calculators={}),matches,key;if(/^\w+$/.test(calculator)){if(key=calculator,!calculators[key])throw new HypergridError("Unknown function name \""+key+"\" for \""+this.name+"\" column calculator.");}else if(matches=calculator.match(/^function\s*(\w+)\(/),key=matches?matches[1]:calculator,!calculators[key]){if(REGEX_ARROW_FUNC.test(calculator))throw new HypergridError("Arrow function not permitted as column calculator (for column \""+this.name+"\").");calculators[key]=calculator}return calculators[key]=toFunction(calculators[key]),calculators[key]}}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},overrider=require("overrider"),toFunction=require("../lib/toFunction"),HypergridError=require("../lib/error"),images=require("../../images");Column.prototype={constructor:Column.prototype.constructor,$$CLASS_NAME:"Column",HypergridError:HypergridError,mixIn:overrider.mixIn,get index(){return this.schema.index},get name(){return this.schema.name},get colId(){return this.colDef&&this.colDef.colId||this.schema.name},get colDef(){return this.properties.colDef},get treeLevel(){return this.colDef?this.colDef.treeLevel:void 0},set header(headerText){headerText===void 0?delete this.schema.header:this.schema.header=headerText,this.behavior.grid.repaint()},get header(){return this.schema.header},set calculator(calculator){calculator?(calculator=resolveCalculator.call(this,calculator),calculator!==this.schema.calculator&&(calculator===void 0?delete this.schema.calculator:this.schema.calculator=calculator,this.behavior.reindex())):this.schema.calculator&&(delete this.schema.calculator,this.behavior.reindex())},get calculator(){return this.schema.calculator},get searchType(){return this.colDef&&this.colDef.searchType},set type(type){type===void 0?delete this.schema.type:this.schema.type=type,this.behavior.reindex()},get type(){return this.schema.type},getCount:function(y){return this.dataModel.getCount(this.index,y)},getValue:function(y){return this.dataModel.getValue(this.index,y)},setValue:function(y,value){return this.dataModel.setValue(this.index,y,value)},getWidth:function(){return this.properties.width||this.properties.defaultColumnWidth},setWidth:function(width){width=_Mathmax8(this.properties.minimumColumnWidth,width),this.properties.maxWidth&&width>this.properties.maxWidth&&(width=this.properties.maxWidth),width!==this.properties.width&&(this.properties.width=width,this.schema.width=width,this.properties.columnAutosizing=!1)},checkColumnAutosizing:function(force){var properties=this.properties,width,preferredWidth,autoSized;return properties.columnAutosizing&&(width=properties.width,preferredWidth=properties.preferredWidth||width,force=force||!properties.columnAutosized,(width!==preferredWidth||force&&void 0!==preferredWidth)&&(properties.width=force?preferredWidth:_Mathmax8(width,preferredWidth),properties.columnAutosized=!isNaN(properties.width),autoSized=properties.width!==width)),autoSized},getCellType:function(y){var value=this.getValue(y);return this.typeOf(value)},getType:function(){var props=this.properties,type=props.type;return type||(type=this.computeColumnType(),"unknown"!==type&&(props.type=type)),type},computeColumnType:function(){var headerRowCount=this.behavior.getHeaderRowCount(),height=this.behavior.getRowCount(),value=this.getValue(headerRowCount),eachType=this.typeOf(value);if(!eachType)return"unknown";for(var type=this.typeOf(value),y=headerRowCount;y<height;y++)value=this.getValue(y),eachType=this.typeOf(value);return type},typeOf:function(something){if(null==something)return null;var typeOf="undefined"==typeof something?"undefined":_typeof(something);return"object"===typeOf?something.constructor.name.toLowerCase():"number"===typeOf?parseInt(something)===something?"int":"float":typeOf},get properties(){return this._properties},set properties(ownProperties){this._properties=this.createColumnProperties(),this.addProperties(ownProperties)},setBackgroundColor:function(color){this.properties.backgroundColor!==color&&(this.properties.backgroundColor=color,this.behavior.grid.renderer.rebundleGridRenderers())},addProperties:function(properties){var obj=this.properties,key,descriptor;for(key in properties)properties.hasOwnProperty(key)&&(descriptor=Object.getOwnPropertyDescriptor(obj,key),(!descriptor||descriptor.writable||descriptor.set)&&(obj[key]=properties[key]))},getCellEditorAt:function(cellEvent){var columnIndex=this.index,rowIndex=cellEvent.gridCell.y,editorName=cellEvent.properties.editor,options=Object.create(cellEvent,{format:{writable:!0,enumerable:!0,value:cellEvent.properties.format}}),cellEditor=this.dataModel.getCellEditorAt(columnIndex,rowIndex,editorName,options);return cellEditor&&!cellEditor.grid&&(cellEditor=void 0),cellEditor},getFormatter:function(){var localizerName=this.properties.format;return this.behavior.grid.localization.get(localizerName).format}};var REGEX_ARROW_FUNC=/^(\(.*\)|\w+)\s*=>/;Column.prototype.mixIn(require("./cellProperties").columnMixin),Column.prototype.mixIn(require("./columnProperties").mixin),module.exports=Column},{"../../images":3,"../lib/error":95,"../lib/toFunction":100,"./cellProperties":36,"./columnProperties":38,overrider:13}],35:[function(require,module){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},Behavior=require("./Behavior"),DefaultDataModel=require("../DatasaurLocal"),decorators=require("./dataModel/decorators"),GRAND_TOTAL="$$grand_total",Local=Behavior.extend("Local",{initialize:function(grid,options){this.setData(options)},createColumns:function(){var _this=this,oldColumns=this.columns,oldAllColumns=this.allColumns;Behavior.prototype.createColumns.call(this),this.schema.forEach(function(columnSchema,index){var findFunction=function(c){return c.properties.index===index&&c.properties.name===columnSchema.name&&c.properties.calculator===columnSchema.calculator&&c.colDef===columnSchema.colDef},oldColumn=oldAllColumns.find(findFunction)||oldColumns.find(findFunction),oldColumnColdDef=oldAllColumns.find(function(c){return c.colDef&&c.colDef===columnSchema.colDef})||oldColumns.find(function(c){return c.colDef===columnSchema.colDef});if(oldColumn){var newColumn=_this.addColumn(oldColumn.properties),props=newColumn.properties;props.width===props.preferredWidth&&props.columnAutosizing&&props.columnAutosized&&(props.columnAutosizing=!1)}else{var _newColumn=_this.addColumn({index:index,header:columnSchema.header,calculator:columnSchema.calculator,colDef:columnSchema.colDef});if(columnSchema.width)Object.assign(_newColumn.properties,{width:columnSchema.width,columnAutosizing:!1});else if(oldColumnColdDef){var _props=oldColumnColdDef.properties;Object.assign(_newColumn.properties,{width:_props.width,preferredWidth:_props.preferredWidth,columnAutosizing:_props.columnAutosizing,columnAutosized:_props.columnAutosized})}if(columnSchema.formatter){_newColumn.properties.format=_newColumn.name,_newColumn.schema.format=_newColumn.name;var options={name:_newColumn.name,format:columnSchema.formatter,parse:function(value){return value},locale:"en"};_this.grid.localization.add(_newColumn.name,options)}["halign","maxWidth","cellContextMenu"].forEach(function(key){columnSchema[key]&&(_newColumn.properties[key]=columnSchema[key])})}},this)},fitColumn:function(xOrColumn,force){var _this2=this;"object"!==("undefined"==typeof xOrColumn?"undefined":_typeof(xOrColumn))&&(xOrColumn=this.getColumn(xOrColumn));var column=xOrColumn,data=this.getData(),gc=this.grid.canvas.gc,props=column.properties,width=column.width||props.defaultColumnWidth;data.forEach(function(d,i){var val=column.getValue(i),schema=column.schema;if(val&&("object"!==("undefined"==typeof val?"undefined":_typeof(val))||val instanceof Array)){var widths={},dataProps=_this2.getRowProperties(i)||props;if(widths.cellPaddingRight=props.cellPaddingRight,dataProps.showCellContextMenuIcon&&(gc.cache.font=props.contextMenuIconFont,widths.showCellContextMenuIcon=props.contextMenuButtonIconPreferedWidth+2*props.contextMenuButtonPadding+props.contextMenuLeftSpaceToCutText),dataProps.showColumnType&&schema.colTypeSign&&(widths.colTypeSign=(widths.showCellContextMenuIcon||0)+widths.cellPaddingRight),schema&&schema.headerPrefix&&dataProps.headerRow&&(gc.cache.font=props.columnTitlePrefixFont,widths.headerPrefix=gc.getTextWidth(schema.headerPrefix)+props.columnTitlePrefixRightSpace),column.hasError&&dataProps.headerRow&&(gc.cache.font=props.errorIconFont,widths.hasError=gc.getTextWidth(props.errorIconUnicodeChar)+props.columnTitlePrefixRightSpace),column.name.startsWith("$$aggregation")){var treeLevel=_this2.getRowTreeLevel(d),treeOffset=treeLevel?_this2.getRowTreeLevel(d)*props.aggregationGroupTreeLevelOffset:0;widths.treeOffset=treeOffset;var aggregationCount=_this2.getAggregationChildCount(d);0<aggregationCount&&(gc.cache.font=props.cellValuePostfixFont,widths.aggregationCount=props.cellPaddingLeft+treeOffset+gc.getTextWidth("("+aggregationCount+")")+props.cellValuePostfixLeftOffset)}if(_this2.isExpandableRow(d)||_this2.dataModel.getHasChildColumnsFromCell(column.index,i)){var valuePrefix=props["aggregationGroupExpandIcon"+(_this2.isRowExpanded(d)?"Collapsed":"Expanded")+"Char"];valuePrefix&&(gc.cache.font=props.aggregationGroupExpandIconFont,widths.valuePrefix=gc.getTextWidth(valuePrefix)+props.columnTitlePrefixRightSpace)}var count=column.getCount(i);void 0!==count&&(gc.cache.font=props.cellValuePostfixFont,widths.valuePostfix=gc.getTextWidth("("+count+")")+props.cellValuePostfixLeftOffset),gc.cache.font=dataProps.font,widths.val=gc.getTextWidth(_this2.grid.formatValue(column.name,val,dataProps.headerRow))+props.cellPaddingLeft;var textWidth=Object.values(widths).reduce(function(a,b){return a+b},0),colspan=_this2.dataModel.getColspan(column.index,i);if(0<colspan){textWidth/=colspan+1;for(var _i=column.index;_i<=column.index+colspan;++_i)_this2.getColumn(_i).width=textWidth}textWidth>width&&(width=textWidth)}}),width>props.maxWidth&&(width=props.maxWidth),props.preferredWidth=_Mathceil4(width),(force||props.columnAutosizing)&&0<props.preferredWidth&&column.setWidth(props.preferredWidth)},fitColumns:function(){var _this3=this,gc=this.grid.canvas.gc,oldFont=gc.cache.font;return this.allColumns.forEach(function(c){return _this3.fitColumn(c)}),gc.cache.font=oldFont,this.allColumns},fitColumnsGroup:function(groupId){var _this4=this,columnsToFit=this.allColumns.filter(function(ac){return ac.schema&&ac.schema.topGroupsIds&&ac.schema.topGroupsIds.includes(groupId)});if(0<columnsToFit.length){var gc=this.grid.canvas.gc,oldFont=gc.cache.font;columnsToFit.forEach(function(c){return _this4.fitColumn(c)}),gc.cache.font=oldFont}return columnsToFit},setHeaders:function(headers){if(headers instanceof Array){var allColumns=this.allColumns;headers.forEach(function(header,index){allColumns[index].header=header})}else"object"===("undefined"==typeof headers?"undefined":_typeof(headers))&&this.allColumns.forEach(function(column){headers[column.name]&&(column.header=headers[column.name])})},setData:function(dataRows,options){if(Array.isArray(dataRows)||"function"==typeof dataRows||(options=dataRows,dataRows=options&&options.data),dataRows=this.unwrap(dataRows),void 0!==dataRows){if(!Array.isArray(dataRows))throw"Expected data to be an array (of data row objects).";options=options||{};var grid=this.grid,schema=this.unwrap(options.schema),schemaChanged=schema||!this.subgrids.lookup.data.getColumnCount(),reindex=void 0===options.apply||options.apply;if(schemaChanged&&this.schemaOld&&schema){var schemaOld=this.schemaOld;schema.forEach(function(columnSchema,index){schemaOld[index]&&index===schemaOld[index].index&&columnSchema.name===schemaOld[index].name&&schemaOld[index].width&&(columnSchema.width=schemaOld[index].width)})}this.subgrids.forEach(function(dataModel){dataModel.setData(dataRows,schema)}),grid.cellEditor&&grid.cellEditor.cancelEditing(),reindex&&this.reindex(),schemaChanged&&this.createColumns(),this.checkForErrors(),grid.allowEvents(this.getRowCount())}},addData:function(dataRows,options){if(Array.isArray(dataRows)||"function"==typeof dataRows||(options=dataRows,dataRows=options&&options.data),dataRows=this.unwrap(dataRows),void 0!==dataRows){if(!Array.isArray(dataRows))throw"Expected data to be an array (of data row objects).";options=options||{};var grid=this.grid,schema=this.unwrap(options.schema),schemaChanged=schema||!this.subgrids.lookup.data.getColumnCount(),reindex=void 0===options.apply||options.apply;this.subgrids.forEach(function(dataModel){dataModel.addData&&dataModel.addData(dataRows,schema)}),grid.cellEditor&&grid.cellEditor.cancelEditing(),reindex&&this.reindex(),schemaChanged&&this.createColumns(),this.checkForErrors(),grid.allowEvents(this.getRowCount())}},getColumnsErrors:function(){return this.errors},checkForErrors:function(){var _this5=this;this.errors={},this.getData().forEach(function(row){Object.keys(row).forEach(function(columnName){var value=row[columnName];value&&"object"===("undefined"==typeof value?"undefined":_typeof(value))&&"ERROR"===value.type&&(!_this5.errors[columnName]&&(_this5.errors[columnName]=[]),_this5.errors[columnName].push(value))})}),this.errorCount=Object.keys(this.errors).length,this.errorCount&&Object.keys(this.errors).forEach(function(columnName){var column=_this5.grid.getColumnByName(columnName);if(column){column.hasError=!0,column.errorCount=_this5.errors[columnName].length,column.firstError=_this5.errors[columnName][0];var colDef=column.colDef;colDef&&(colDef.errorCount=_this5.errors[columnName].length)}})},getNewDataModel:function(options){var newDataModel;return options=options||{},newDataModel=options.dataModel?options.dataModel:options.DataModel?new options.DataModel:new DefaultDataModel,newDataModel},resetDataModel:function(options){var newDataModel=this.getNewDataModel(options),changed=newDataModel&&newDataModel!==this.dataModel;return changed&&(this.dataModel=this.decorateDataModel(newDataModel,options),decorators.addDeprecationWarnings.call(this),decorators.addFriendlierDrillDownMapKeys.call(this)),changed},decorateDataModel:function(newDataModel,options){return decorators.addPolyfills(newDataModel),decorators.addFallbacks(newDataModel,this.grid),decorators.addDefaultHooks(newDataModel),newDataModel.setMetadataStore(options&&options.metadata),newDataModel},get schema(){return this.dataModel&&this.dataModel.getSchema()},set schema(newSchema){this.dataModel.setSchema(newSchema)},get charMap(){return this.dataModel.drillDownCharMap},reindex:function(){this.dataModel.apply()},getRowCount:function(){return this.dataModel.getRowCount()},getRow:function(y){return this.dataModel.getRow(y)},getData:function(){return this.dataModel.getData()},getIndexedData:function(){return this.deprecated("getIndexedData()","getData()","3.0.0")},cellClicked:function(event){return this.dataModel.isDrillDown(event.dataCell.x)&&this.dataModel.click(event.dataCell.y)},hasTreeColumn:function(columnIndex){return this.grid.properties.showTreeColumn&&this.dataModel.isDrillDown(columnIndex)},getSelections:function(){return this.grid.selectionModel.getSelections()},populateAggregationNamesForRow:function(row,parentParentAggs){if(row.__treeLevel!==void 0&&row.$$aggregation!==void 0){var parentAggs=Object.assign({},row.parentAggs||parentParentAggs||{});parentAggs[this.aggNameFromRow(row)]=row.$$aggregation,Object.assign(row,parentAggs,{parentAggs:parentAggs})}},aggNameFromRow:function(row){return"$$aggregation"+row.__treeLevel},copyValues:function(row){var res={};return Object.keys(row).filter(function(k){return!k.startsWith("$$")&&!k.startsWith("__")}).forEach(function(k){return res[k]=row[k]}),res},expandChildRows:function(row){var _this6=this;if(!this.isRowExpanded(row)&&row.$$children&&(this.populateAggregationNamesForRow(row),0<row.$$children.length)){var rowIndex=this.dataModel.indexOf(row),childrenToAdd=row.$$children;if(this.grid.properties.isPivot){if(0===row.$$children.length||!row.$$children[row.$$children.length-1][GRAND_TOTAL]){var _Object$assign;row.$$children.push(Object.assign(this.copyValues(row),(_Object$assign={},_defineProperty(_Object$assign,GRAND_TOTAL,!0),_defineProperty(_Object$assign,this.aggNameFromRow(row),row[this.aggNameFromRow(row)]+" Total"),_Object$assign)))}childrenToAdd=row.$$children.slice(1)}this.dataModel.addRows(childrenToAdd,rowIndex+1),row.$$children.forEach(function(r){r.$$open=!1,_this6.populateAggregationNamesForRow(r,_this6.grid.properties.isPivot?{}:row.parentAggs)}),this.grid.properties.isPivot||this.dataModel.data.splice(rowIndex,1),this.flatReady=!1,this.dataModel.cache=[]}row.$$open=!0},collapseChildRows:function(row){if(row.$$open&&row.$$children&&0<row.$$children.length){var rowIndex=this.dataModel.indexOf(row)+1;this.collapseChildRows(row.$$children[0]);for(var i=rowIndex;i<rowIndex+row.$$children.length-1;++i)this.collapseChildRows(this.dataModel.data[i]);this.dataModel.delRow(rowIndex,row.$$children.length-1)}row.$$open=!1},expandChildColumns:function(groupId){this._setColDefGroupShowStateRecursive(this.grid.columnDefs,groupId,"open"),this.synchronizeSchemaToColumnDefs(),this.fitColumnsGroup(groupId)},collapseChildColumns:function(groupId){this._setColDefGroupShowStateRecursive(this.grid.columnDefs,groupId,"closed"),this.synchronizeSchemaToColumnDefs(),this.fitColumnsGroup(groupId)},_setColDefGroupShowStateRecursive:function(colDefs,groupId,newState){var _this7=this;colDefs.forEach(function(cd){cd.groupId===groupId&&(cd.columnGroupShow=newState),cd.children&&0<cd.children.length&&_this7._setColDefGroupShowStateRecursive(cd.children,groupId,newState)})},buildFlatMode:function(){var _this8=this,expandRow=function expandRow(row){_this8.expandChildRows(row),row.$$children&&row.$$children.forEach(function(c){return expandRow(c)})};do this.flatReady=!0,this.dataModel.data.forEach(function(row){return expandRow(row)});while(!this.flatReady);this.dataModel.cache=[]},getAdditionalWidth:function(x,y){return this.dataModel.getAdditionalWidth(x,y)},getAdditionalHeight:function(x,y){return this.dataModel.getAdditionalHeight(x,y)},getColspan:function(x,y){return this.dataModel.getColspan(x,y)},getRowspan:function(x,y){return this.dataModel.getRowspan(x,y)},errors:{}});Object.defineProperties(Local.prototype,require("./columnEnum").descriptors),module.exports=Local},{"../DatasaurLocal":19,"./Behavior":33,"./columnEnum":37,"./dataModel/decorators":39}],36:[function(require,module,exports){"use strict";function getCellPropertiesObject(rowIndex,dataModel){return this.getCellOwnProperties(rowIndex,dataModel)||newCellPropertiesObject.call(this,rowIndex,dataModel)}function newCellPropertiesObject(rowIndex,dataModel){var metadata=(dataModel||this.dataModel).getRowMetadata(rowIndex,null),props=this.properties;switch(this._index){case this.behavior.treeColumnIndex:props=props.treeHeader;break;case this.behavior.rowColumnIndex:props=props.rowHeader;}return metadata[this.name]=Object.create(props)}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)};exports.behaviorMixin={getCellOwnProperties:function(xOrCellEvent,y,dataModel){return 1===arguments.length?xOrCellEvent.column.getCellOwnProperties(xOrCellEvent.dataCell.y,xOrCellEvent.subgrid):this.getColumn(xOrCellEvent).getCellOwnProperties(y,dataModel)},getCellProperties:function(xOrCellEvent,y,dataModel){return 1===arguments.length?Object.assign({},xOrCellEvent.properties||{},xOrCellEvent.rowOwnProperties||{}):this.getColumn(xOrCellEvent).getCellProperties(y,dataModel)},getCellProperty:function(xOrCellEvent,y,key,dataModel){if("object"===("undefined"==typeof xOrCellEvent?"undefined":_typeof(xOrCellEvent)))return key=y,xOrCellEvent.properties[key];var column=this.getColumn(xOrCellEvent);return column&&column.getCellProperty(y,key,dataModel)},setCellProperties:function(xOrCellEvent,y,properties,dataModel){return"object"===("undefined"==typeof xOrCellEvent?"undefined":_typeof(xOrCellEvent))?(properties=y,xOrCellEvent.column.setCellProperties(xOrCellEvent.dataCell.y,properties,xOrCellEvent.subgrid)):this.getColumn(xOrCellEvent).setCellProperties(y,properties,dataModel)},addCellProperties:function(xOrCellEvent,y,properties,dataModel){return"object"===("undefined"==typeof xOrCellEvent?"undefined":_typeof(xOrCellEvent))?(properties=y,xOrCellEvent.column.addCellProperties(xOrCellEvent.dataCell.y,properties,xOrCellEvent.subgrid)):this.getColumn(xOrCellEvent).addCellProperties(y,properties,dataModel)},setCellProperty:function(xOrCellEvent,y,key,value,dataModel){var cellOwnProperties;return"object"===("undefined"==typeof xOrCellEvent?"undefined":_typeof(xOrCellEvent))?(value=key,key=y,cellOwnProperties=xOrCellEvent.setCellProperty(key,value)):(cellOwnProperties=this.getColumn(xOrCellEvent).setCellProperty(y,key,value,dataModel),this.grid.renderer.resetCellPropertiesCache(xOrCellEvent,y,dataModel)),cellOwnProperties}},exports.columnMixin={getCellProperties:function(rowIndex,dataModel){return this.getCellOwnProperties(rowIndex,dataModel)||this.properties},setCellProperties:function(rowIndex,properties,dataModel){return Object.assign(newCellPropertiesObject.call(this,rowIndex,dataModel),properties)},addCellProperties:function(rowIndex,properties,dataModel){return Object.assign(getCellPropertiesObject.call(this,rowIndex,dataModel),properties)},getCellOwnProperties:function(rowIndex,dataModel){var metadata;return(metadata=(dataModel||this.dataModel).getRowMetadata(rowIndex))&&metadata&&metadata[this.name]||null},deleteCellOwnProperties:function(rowIndex,dataModel){dataModel=dataModel||this.dataModel;var metadata=dataModel.getRowMetadata(rowIndex);metadata&&(delete metadata[this.name],0===Object.keys(metadata).length&&dataModel.setRowMetadata(rowIndex))},getCellProperty:function(rowIndex,key,dataModel){return this.getCellProperties(rowIndex,dataModel)[key]},setCellProperty:function(rowIndex,key,value,dataModel){var cellProps=getCellPropertiesObject.call(this,rowIndex,dataModel);return cellProps[key]=value,cellProps},deleteCellProperty:function(rowIndex,key,dataModel){var cellProps=this.getCellOwnProperties(rowIndex,dataModel);cellProps&&delete cellProps[key]},clearAllCellProperties:function(){this.behavior.subgrids.forEach(function(dataModel){for(var y=dataModel.getRowCount();y--;)this.deleteCellOwnProperties(y,dataModel)},this)}}},{}],37:[function(require,module,exports){"use strict";function warnColumnEnumDeprecation(){warned.columnEnumDecorators||(console.warn(".columnEnumDecorators and .columnEnumKey have both been deprecated as of v3.0.0 and no longer have any meaning. (Will be removed in a future release.) Note that .columnEnum is also deprecated in favor of .schema, which now serves as a column enum. (See https://fin-hypergrid.github.io/doc/dataModel.api#initSchema.)"),warned.columnEnumDecorators=!0)}var warned={},columnEnum={},columnEnumDeprecationDescriptor={get:function(){return warnColumnEnumDeprecation(),columnEnum},set:function(){warnColumnEnumDeprecation()}};exports.descriptors={columnEnum:{get:function(){return warned.columnEnum||(console.warn(".columnEnum has been deprecated as of v3.0.0 in favor of .schema (largely compatible with the deprecated property; see https://fin-hypergrid.github.io/doc/dataModel.api#initSchema). (Will be removed in a future release.)"),warned.columnEnum=!0),this.schema}},columnEnumKey:columnEnumDeprecationDescriptor,columnEnumDecorators:columnEnumDeprecationDescriptor}},{}],38:[function(require,module,exports){"use strict";function createColumnProperties(){var column=this,gridProps=column.behavior.grid.properties,properties;return properties=Object.create(gridProps,{index:{get:function(){return column.index}},name:{get:function(){return column.name}},field:{get:function(){return column.name}},columnName:{get:function(){return column.name}},header:{get:function(){return column.header},set:function(header){this!==column.properties&&(gridProps.header=header),column.header=header}},type:{get:function(){return column.type},set:function(type){this!==column.properties&&(gridProps.type=type),column.type=type}},calculator:{get:function(){return column.calculator},set:function(calculator){this!==column.properties&&(gridProps.calculator=calculator),column.calculator=calculator}},format:{get:function(){return"format"in column.schema?column.schema.format:gridProps.format},set:function(format){this===column.properties?void 0===format?delete column.schema.format:column.schema.format=format:Object.defineProperty(this,"format",{enumerable:!0,configurable:!0,writable:!0,value:format})}},renderer:{get:function(){return"renderer"in column.schema?column.schema.renderer:gridProps.renderer},set:function(renderer){this===column.properties?void 0===renderer?delete column.schema.renderer:column.schema.renderer=renderer:Object.defineProperty(this,"renderer",{enumerable:!0,configurable:!0,writable:!0,value:renderer})}},toJSON:{value:function(){return Object.assign({header:this.header,type:this.type,calculator:this.calculator,format:this.format,renderer:this.renderer},this)}}}),Object.defineProperties(properties,{rowHeader:{value:Object.create(properties,createColumnProperties.rowHeaderDescriptors)},treeHeader:{value:Object.create(properties,createColumnProperties.treeHeaderDescriptors)},columnHeader:{value:Object.create(properties,createColumnProperties.columnHeaderDescriptors)},filterProperties:{value:Object.create(properties,createColumnProperties.filterDescriptors)}}),properties}createColumnProperties.treeHeaderDescriptors={font:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderFont},set:function(value){this.treeHeaderFont=value}},color:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderColor},set:function(value){this.treeHeaderColor=value}},backgroundColor:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderBackgroundColor},set:function(value){this.treeHeaderBackgroundColor=value}},foregroundSelectionFont:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderForegroundSelectionFont},set:function(value){this.treeHeaderForegroundSelectionFont=value}},foregroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderForegroundSelectionColor},set:function(value){this.treeHeaderForegroundSelectionColor=value}},renderer:{configurable:!0,enumerable:!0,get:function(){return this.treeRenderer},set:function(value){this.treeRenderer=value}},backgroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderBackgroundSelectionColor},set:function(value){this.treeHeaderBackgroundSelectionColor=value}}},createColumnProperties.rowHeaderDescriptors={font:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderFont},set:function(value){this.rowHeaderFont=value}},color:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderColor},set:function(value){this.rowHeaderColor=value}},backgroundColor:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderBackgroundColor},set:function(value){this.rowHeaderBackgroundColor=value}},foregroundSelectionFont:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderForegroundSelectionFont},set:function(value){this.rowHeaderForegroundSelectionFont=value}},foregroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderForegroundSelectionColor},set:function(value){this.rowHeaderForegroundSelectionColor=value}},backgroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderBackgroundSelectionColor},set:function(value){this.rowHeaderBackgroundSelectionColor=value}},leftIcon:{configurable:!0,enumerable:!0,get:function(){if(this.grid.properties.rowHeaderCheckboxes){var result;return this.isDataRow?result=this.isRowSelected?"checked":"unchecked":this.isHeaderRow?result=this.allRowsSelected?"checked":"unchecked":this.isFilterRow&&(result="filter-off"),result}},set:function(value){Object.defineProperty(this,"leftIcon",{configurable:!0,enumerable:!0,writable:!0,value:value})}}},createColumnProperties.filterDescriptors={font:{configurable:!0,enumerable:!0,get:function(){return this.filterFont},set:function(value){this.filterFont=value}},color:{configurable:!0,enumerable:!0,get:function(){return this.filterColor},set:function(value){this.filterColor=value}},backgroundColor:{configurable:!0,enumerable:!0,get:function(){return this.filterBackgroundColor},set:function(value){this.filterBackgroundColor=value}},foregroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.filterForegroundSelectionColor},set:function(value){this.filterForegroundSelectionColor=value}},backgroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.filterBackgroundSelectionColor},set:function(value){this.filterBackgroundSelectionColor=value}},halign:{configurable:!0,enumerable:!0,get:function(){return this.filterHalign},set:function(value){this.filterHalign=value}},renderer:{configurable:!0,enumerable:!0,get:function(){return this.filterRenderer},set:function(value){this.filterRenderer=value}},editor:{configurable:!0,enumerable:!0,get:function(){return this.filterEditor},set:function(value){this.filterEditor=value}},rightIcon:{configurable:!0,enumerable:!0,get:function(){var result;return this.filterable&&(result=this.filter?"filter-on":"filter-off"),result},set:function(value){Object.defineProperty(this,"rightIcon",{configurable:!0,enumerable:!0,writable:!0,value:value})}}},createColumnProperties.columnHeaderDescriptors={font:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderFont},set:function(value){this.columnHeaderFont=value}},color:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderColor},set:function(value){this.columnHeaderColor=value}},backgroundColor:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderBackgroundColor},set:function(value){this.columnHeaderBackgroundColor=value}},foregroundSelectionFont:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderForegroundSelectionFont},set:function(value){this.columnHeaderForegroundSelectionFont=value}},foregroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderForegroundSelectionColor},set:function(value){this.columnHeaderForegroundSelectionColor=value}},backgroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderBackgroundSelectionColor},set:function(value){this.columnHeaderBackgroundSelectionColor=value}},halign:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderHalign},set:function(value){this.columnHeaderHalign=value}},renderer:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderRenderer},set:function(value){this.columnHeaderRenderer=value}},leftIcon:{writable:!0,value:void 0},centerIcon:{writable:!0,value:void 0},rightIcon:{writable:!0,value:void 0}},exports.mixin={createColumnProperties:createColumnProperties}},{}],39:[function(require,module){function dispatchEvent(eventName,eventDetail){if(!REGEX_DATA_EVENT_STRING.test(eventName))throw new HypergridError("Expected data event string to match "+REGEX_DATA_EVENT_STRING+".");this.canvas.dispatchEvent(new CustomEvent("fin-canvas-"+eventName,eventDetail))}var hooks=require("."),fallbacks=require("./fallbacks"),HypergridError=require("../../lib/error"),warned={},REGEX_DATA_EVENT_STRING=/^data(-[a-z]+)+$/,friendlierDrillDownMapKeys={true:"OPEN",false:"CLOSE",null:"INDENT"};module.exports={addPolyfills:function(dataModel){dataModel.install||(dataModel.install=function(api,fallback){fallback&&!Array.isArray(api)&&(api=api||this,Object.keys(api).filter(function(key){return"function"==typeof api[key]}).forEach(function(key){this[key]||(this[key]=api[key])},this))})},addFallbacks:function(dataModel,grid){dataModel.install(fallbacks,!0),dataModel.install({dispatchEvent:dispatchEvent.bind(grid)},!0)},addDeprecationWarnings:function(){var grid=this.grid;Object.defineProperty(this.dataModel,"grid",{configurable:!0,enumerable:!1,get:function(){return warned.grid||(console.warn("`this.grid` (dataModel.grid) property has been deprecated as of v3.0.0 and will definitely be removed in a future release. Data models should have no direct knowledge of or access to the grid. (If your data model needs to call grid methods, add a data event to your grid with grid.addDataEventListener('data-my-event', myHandler) and trigger it from your data model with this.dispatchEvent('data-my-event'). If you need access to the grid object from within a `getCell` or `getCellEditAt` override, define `grid` and the override in a closure.)"),warned.grid=!0),grid}}),this.dataModel.dataSource&&!warned.dataSource&&console.warn("As of Hypergrid 3.0.0, the external data model is now `grid.behavior.dataModel`. Formerly, it was `grid.behavior.dataModel.dataSource`. Data model authors are strongly advised to avoid implementing a `.dataSource` property inside their data model to reduce the confusion that would result if a legacy application were to try to reference the data model via `.dataModel.dataSource` and get something unexpected instead of an error.)")},addFriendlierDrillDownMapKeys:function(){var charMap=this.dataModel.drillDownCharMap;charMap&&Object.keys(friendlierDrillDownMapKeys).forEach(function(key){if(key in charMap){var friendlierKey=friendlierDrillDownMapKeys[key];friendlierKey in charMap||Object.defineProperty(charMap,friendlierKey,{get:function(){return this[key]},set:function(s){this[key]=s}})}})},addDefaultHooks:function(dataModel){dataModel.getCell||(dataModel.getCell=hooks.getCell),dataModel.getCellEditorAt||(dataModel.getCellEditorAt=hooks.getCellEditorAt)}}},{".":41,"../../lib/error":95,"./fallbacks":40}],40:[function(require,module){"use strict";module.exports={apply:function(){},isDrillDown:function(){return!1},click:function(){return!1},getColumnCount:function(){return this.getSchema().length},getRow:function(y){return this.dataRowProxy.$y$=y,this.dataRowProxy},getData:function(metadataFieldName){var Y=this.getRowCount(),rows=Array(Y),y,row,metadata;for(y=0;y<Y;y++)row=this.data[y],row&&(rows[y]=Object.assign({},row),metadataFieldName&&(metadata=this.getRowMetadata(y),metadata&&(rows[y][metadataFieldName]=metadata)));return rows},setData:function(){},setValue:function(x,y,value){console.warn("dataModel.setValue("+x+", "+y+", \""+value+"\") called but no implementation. Data not saved.")},getRowIndex:function(y){return y},getRowMetadata:function(y,prototype){return this.metadata[y]||prototype!==void 0&&(this.metadata[y]=Object.create(prototype))},getMetadataStore:function(){return this.metadata},setRowMetadata:function(y,metadata){return metadata?this.metadata[y]=metadata:delete this.metadata[y],metadata},setMetadataStore:function(newMetadataStore){this.metadata=newMetadataStore||[]}}},{}],41:[function(require,module,exports){"use strict";exports.getCell=function(config,rendererName){return config.grid.cellRenderers.get(rendererName)},exports.getCellEditorAt=function(columnIndex,rowIndex,editorName,cellEvent){return cellEvent.grid.cellEditors.create(editorName,cellEvent)}},{}],42:[function(require,module){"use strict";var warned;module.exports={Behavior:require("./Behavior"),Local:require("./Local"),Column:require("./Column"),dataModel:require("./dataModel"),get JSON(){return warned||console.warn("./src/behaviors/JSON has been renamed to Local as of v3.0.0. (Will be removed in a future release.)"),warned=!0,require("./Local")}}},{"./Behavior":33,"./Column":34,"./Local":35,"./dataModel":41}],43:[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)};exports.mixin={getFixedRowsHeight:function(){for(var subgrids=this.subgrids,height=0,i=0,subgrid,isData,r,R;i<subgrids.length&&!isData;++i)for(subgrid=subgrids[i],isData=subgrid.isData,R=isData?this.grid.properties.fixedRowCount:subgrid.getRowCount(),r=0;r<R;++r)height+=this.getRowHeight(r,subgrid);return height},getRowsHeight:function(toY){var _this=this,height=0;return this.subgrids.forEach(function(subgrid){for(var maxRowCount=subgrid.getRowCount(),R=void 0===toY||toY>maxRowCount?maxRowCount:toY,r=0;r<R;++r)height+=_this.getRowHeight(r,subgrid)}),height},getRowProperties:function(yOrCellEvent,prototype,dataModel){"object"===("undefined"==typeof yOrCellEvent?"undefined":_typeof(yOrCellEvent))&&(dataModel=yOrCellEvent.subgrid,yOrCellEvent=yOrCellEvent.dataCell.y);var metadata=(dataModel||this.dataModel).getRowMetadata(yOrCellEvent,prototype&&null);return metadata&&(metadata.__ROW||prototype!==void 0&&(metadata.__ROW=Object.create(prototype)))},setRowProperties:function(yOrCellEvent,properties,dataModel){"object"===("undefined"==typeof yOrCellEvent?"undefined":_typeof(yOrCellEvent))&&(dataModel=yOrCellEvent.subgrid,yOrCellEvent=yOrCellEvent.dataCell.y),(dataModel||this.dataModel).getRowMetadata(yOrCellEvent,null).__ROW=properties,this.stateChanged()},setRowProperty:function(yOrCellEvent,key,value,dataModel){this.getRowProperties(yOrCellEvent,null,dataModel)[key]=value,this.stateChanged()},addRowProperties:function(yOrCellEvent,properties,dataModel){Object.assign(this.getRowProperties(yOrCellEvent,null,dataModel),properties),this.stateChanged()},getRowHeight:function(yOrCellEvent,dataModel){var rowProps=this.getRowProperties(yOrCellEvent,void 0,dataModel);return rowProps&&rowProps.height||this.grid.properties[dataModel&&dataModel.isHeader?"defaultHeaderRowHeight":"defaultRowHeight"]},getFictiveHeaderRowsCount:function(){return this.grid.properties.fictiveHeaderRowsCount},setRowHeight:function(yOrCellEvent,height,dataModel){var rowProps=this.getRowProperties(yOrCellEvent,null,dataModel),oldHeight=rowProps.height;rowProps.height=_Mathmax8(5,_Mathceil4(height)),rowProps.height!==oldHeight&&this.stateChanged()}}},{}],44:[function(require,module,exports){"use strict";function derefSubgridRef(ref){var Constructor;switch("undefined"==typeof ref?"undefined":_typeof(ref)){case"string":Constructor=dataModels[ref];break;case"function":Constructor=ref;break;default:throw new this.HypergridError("Expected subgrid ref to be registered name or constructor, but found "+("undefined"==typeof ref?"undefined":_typeof(ref))+".");}return Constructor}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},dataModels=require("../dataModels/index");exports.mixin={set subgrids(subgridSpecs){var subgrids=this._subgrids=[];subgrids.lookup={},subgridSpecs.forEach(function(spec){spec&&subgrids.push(this.createSubgrid(spec))},this),this.shapeChanged()},get subgrids(){return this._subgrids},createSubgrid:function(spec){var subgrid,Constructor,variableArgArray;"data"===spec?subgrid=this.dataModel:spec instanceof Array&&spec.length?(Constructor=derefSubgridRef.call(this,spec[0]),variableArgArray=spec.slice(1),subgrid=this.createApply(Constructor,variableArgArray,void 0,{grid:this.grid}),subgrid=this.decorateDataModel(subgrid)):"object"===("undefined"==typeof spec?"undefined":_typeof(spec))?subgrid=spec:(Constructor=derefSubgridRef.call(this,spec),variableArgArray=Array.prototype.slice.call(arguments,1),subgrid=this.createApply(Constructor,variableArgArray,void 0,{grid:this.grid}),subgrid=this.decorateDataModel(subgrid)),subgrid.type||(subgrid.type="data");var key="data"===subgrid.type&&subgrid.type||subgrid.name||subgrid.type;return this._subgrids.lookup[key]=this._subgrids.lookup[key]||subgrid,subgrid["is"+subgrid.type[0].toUpperCase()+subgrid.type.substr(1)]=!0,subgrid},getHeaderRowCount:function(){var result=0;return this.subgrids.find(function(subgrid){return!!subgrid.isData||void(result+=subgrid.getRowCount())}),result},getFooterRowCount:function(){var gotData;return this.subgrids.reduce(function(rows,subgrid){return gotData&&!subgrid.isData?rows+=subgrid.getRowCount():gotData=subgrid.isData,rows},0)},getLogicalRowCount:function(){return this.subgrids.reduce(function(rows,subgrid){return rows+=subgrid.getRowCount()},0)}}},{"../dataModels/index":64}],45:[function(require,module){function px(n){return n+"px"}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},Base=require("../Base"),effects=require("../lib/DOM/effects"),Localization=require("../lib/Localization"),CellEditor=Base.extend("CellEditor",{initialize:function(grid,options){for(var key in options)this[key]=options[key];this.event=options;var value=this.event.value;this.grid=grid,this.grid.cellEditor=this,this.locale=grid.localization.locale;var localizer=this.grid.localization.get(options.format);localizer===Localization.prototype.string||"string"===options.format||(this.localizer=localizer),this.initialValue=value;var container=document.createElement("DIV");container.innerHTML=this.grid.modules.templater.render(this.template,this),this.el=container.firstChild,this.input=this.el,this.errors=0;var self=this;this.el.addEventListener("keyup",this.keyup.bind(this)),this.el.addEventListener("keydown",function(e){9===e.keyCode&&e.preventDefault(),grid.fireSyntheticEditorKeyDownEvent(self,e)}),this.el.addEventListener("keypress",function(e){grid.fireSyntheticEditorKeyPressEvent(self,e)}),this.el.addEventListener("mousedown",function(e){self.onmousedown(e)})},onmousedown:function(event){event.stopPropagation()},localizer:Localization.prototype.null,specialKeyups:{9:"stopEditing",13:"stopEditing",27:"cancelEditing"},keyup:function(e){var grid=this.grid,cellProps=this.event.properties,feedbackCount=cellProps.feedbackCount,keyChar=grid.canvas.getKeyChar(e),specialKeyup,stopped;if((specialKeyup=this.specialKeyups[e.keyCode])&&(stopped=this[specialKeyup](feedbackCount))&&grid.repaint(),cellProps.mappedNavKey(keyChar,e.ctrlKey)&&(!specialKeyup&&(stopped=this.stopEditing(feedbackCount))&&grid.repaint(),stopped)){var finEvent=grid.canvas.newEvent(e,"fin-editor-keydown",{grid:grid,alt:e.altKey,ctrl:e.ctrlKey,char:keyChar,code:e.charCode,key:e.keyCode,meta:e.metaKey,shift:e.shiftKey,identifier:e.key,editor:this});grid.delegateKeyDown(finEvent)}return this.grid.fireSyntheticEditorKeyUpEvent(this,e),stopped},checkEditorPositionFlag:!1,gridRenderedNotification:function(){this.checkEditor()},scrollValueChangedNotification:function(){this.checkEditorPositionFlag=!0},moveEditor:function(){this.setBounds(this.event.bounds)},beginEditing:function(){this.grid.fireRequestCellEdit(this.event,this.initialValue)&&(this.checkEditorPositionFlag=!0,this.checkEditor())},showReadonlyEdit:function(){this.grid.fireRequestCellEdit(this.event,this.initialValue)&&(this.checkEditorPositionFlag=!0,this.checkEditor(!1),this.el.readOnly=!0)},setEditorValue:function(value){value=this.localizer.format(value,this.event.rowProperties.headerRow),Array.isArray(value)&&(value="["+value.join(", ")+"]"),value="undefined"!=typeof value&&"object"!==("undefined"==typeof value?"undefined":_typeof(value))?value:"",this.input.value=value},showEditor:function(){Object.assign(this.el.style,{display:"inline"})},hideEditor:function(){this.el.style.display="none"},stopEditing:function(feedback){var error=this.validateEditorValue();if(!error)try{var value=this.getEditorValue()}catch(err){error=err}if(!error&&this.grid.fireSyntheticEditorDataChangeEvent(this,this.initialValue,value)&&!this.el.readOnly)try{this.saveEditorValue(value)}catch(err){error=err}return error?0<=feedback?this.errorEffectBegin(0==++this.errors%feedback&&error):this.cancelEditing():(this.hideEditor(),this.grid.cellEditor=null,this.el.remove()),!error},cancelEditing:function(){return this.setEditorValue(this.initialValue),this.hideEditor(),this.grid.cellEditor=null,this.el.remove(),!0},errorEffectBegin:function(error){var spec=this.grid.properties.feedbackEffect,options=Object.assign({},spec.options),effect=effects[spec.name||spec];error&&(options.callback=this.errorEffectEnd.bind(this,error)),effect&&effect.call(this,options)},errorEffectEnd:function(error){if(error){var msg="Invalid value. To resolve, do one of the following:\n\n"+"   * Correct the error and try again.\n"+"         - or -\n"+"   * Cancel editing by pressing the \"esc\" (escape) key.";error=error.message||error,"string"!=typeof error&&(error=""),this.localizer.expectation&&(error=error?error+"\n"+this.localizer.expectation:this.localizer.expectation),error&&(/[\n\r]/.test(error)&&(error="\n"+error,error=error.replace(/[\n\r]+/g,"\n\n   * ")),msg+="\n\nAdditional information about this error: "+error),setTimeout(function(){alert(msg)})}},saveEditorValue:function(value){var save=!(value&&value===this.initialValue)&&this.grid.fireBeforeCellEdit(this.event.gridCell,this.initialValue,value,this);return save&&(this.grid.behavior.setValue(this.event,value),this.grid.fireAfterCellEdit(this.event.gridCell,this.initialValue,value,this)),save},getEditorValue:function(){return this.localizer.parse(this.input.value)},validateEditorValue:function(){return this.localizer.invalid&&this.localizer.invalid(this.input.value)},takeFocus:function(){var el=this.el,leftWas=el.style.left,topWas=el.style.top;el.style.left=el.style.top=0;var x=window.scrollX,y=window.scrollY;this.input.focus(),window.scrollTo(x,y),this.selectAll(),el.style.left=leftWas,el.style.top=topWas},selectAll:function(){},setBounds:function(cellBounds){var selectionRegionBorderWidth=this.grid.properties.selectionRegionBorderWidth,_grid$canvas=this.grid.canvas,gc=_grid$canvas.gc,canvasWidth=_grid$canvas.width,canvasHeight=_grid$canvas.height,style=this.el.style,rowFont=this.event.rowProperties.font||this.event.properties.font,left=cellBounds.x,maximumColumnWidth=canvasWidth-left;gc.cache.font=rowFont;var width=gc.getTextWidth(this.initialValue)+12;(!width||width<cellBounds.width)&&(width=cellBounds.width+selectionRegionBorderWidth),width>maximumColumnWidth&&(width=maximumColumnWidth),left+width>canvasWidth&&(left=canvasWidth-width),width+=selectionRegionBorderWidth,Object.assign(style,{left:px(left),width:px(width),font:rowFont,resize:"none"});var height=(width===maximumColumnWidth+selectionRegionBorderWidth?this.el.scrollHeight:cellBounds.height)+2,top=cellBounds.y-selectionRegionBorderWidth,maximumColumnHeight=canvasHeight-top;height>maximumColumnHeight&&(height=maximumColumnHeight),top+height>canvasHeight&&(top=canvasHeight-height),Object.assign(style,{top:px(top),height:px(height)})},checkEditor:function(takeFocusNeeded){takeFocusNeeded=!(takeFocusNeeded!==void 0)||takeFocusNeeded,this.checkEditorPositionFlag&&(this.checkEditorPositionFlag=!1,this.event.isCellVisible?(this.setEditorValue(this.initialValue),this.attachEditor(),this.moveEditor(),this.showEditor(),takeFocusNeeded&&this.takeFocus()):this.hideEditor())},attachEditor:function(){this.grid.div.appendChild(this.el)},template:""});module.exports=CellEditor},{"../Base":17,"../lib/DOM/effects":88,"../lib/Localization":89}],46:[function(require,module){"use strict";var CellEditor=require("./CellEditor"),Color=CellEditor.extend("Color",{template:"<input type=\"color\" lang=\"{{locale}}\" style=\"{{style}}\">"});module.exports=Color},{"./CellEditor":45}],47:[function(require,module){var CellEditor=require("./CellEditor"),isChromium=window.chrome,winNav=window.navigator,vendorName=winNav.vendor,isOpera=-1<winNav.userAgent.indexOf("OPR"),isIEedge=-1<winNav.userAgent.indexOf("Edge"),isIOSChrome=winNav.userAgent.match("CriOS"),Date=CellEditor.extend("Date",{initialize:function(grid){var localizerName;!isIOSChrome&&null!==isChromium&&isChromium!==void 0&&"Google Inc."===vendorName&&!1==isOpera&&!1==isIEedge?(localizerName="chromeDate",this.template="<input type=\"date\">"):(localizerName="date",this.template="<input type=\"text\" lang=\"{{locale}}\">",this.selectAll=function(){var lastCharPlusOne=this.getEditorValue().length;this.input.setSelectionRange(0,lastCharPlusOne)}),this.localizer=grid.localization.get(localizerName)}});module.exports=Date},{"./CellEditor":45}],48:[function(require,module){"use strict";var Textfield=require("./Textfield"),Number=Textfield.extend("Number",{initialize:function(grid){this.localizer=grid.localization.get("number")}});module.exports=Number},{"./Textfield":51}],49:[function(require,module){"use strict";var CellEditor=require("./CellEditor"),Slider=CellEditor.extend("Slider",{template:"<input type=\"range\" lang=\"{{locale}}\" style=\"{{style}}\">"});module.exports=Slider},{"./CellEditor":45}],50:[function(require,module){"use strict";var CellEditor=require("./CellEditor"),Spinner=CellEditor.extend("Spinner",{template:"<input type=\"number\" lang=\"{{locale}}\" style=\"{{style}}\">"});module.exports=Spinner},{"./CellEditor":45}],51:[function(require,module){"use strict";var CellEditor=require("./CellEditor"),Localization=require("../lib/Localization"),Textfield=CellEditor.extend("Textfield",{template:"<textarea lang=\"{{locale}}\" class=\"hypergrid-textfield\" style=\"{{style}}\">",initialize:function(){this.input.style.textAlign=this.event.properties.halign},localizer:Localization.prototype.string,selectAll:function(){this.input.setSelectionRange(0,this.input.value.length)}});module.exports=Textfield},{"../lib/Localization":89,"./CellEditor":45}],52:[function(require,module){"use strict";var Registry=require("../lib/Registry"),CellEditors=Registry.extend("CellEditors",{BaseClass:require("./CellEditor"),initialize:function(){this.add(require("./Color")),this.add(require("./Date")),this.add(require("./Number")),this.add(require("./Slider")),this.add(require("./Spinner")),this.add(require("./Textfield"))},get:function(name){if(name&&"celleditor"===name.toLowerCase())return warnedBaseClass||(console.warn("grid.cellEditors.get(\""+name+"\") method call has been deprecated as of v2.1.0 in favor of grid.cellEditors.BaseClass property. (Will be removed in a future release.)"),warnedBaseClass=!0),this.BaseClass;try{var CellEditor=Registry.prototype.get.call(this,name)}catch(err){}return CellEditor}}),warnedBaseClass;module.exports=new CellEditors},{"../lib/Registry":90,"./CellEditor":45,"./Color":46,"./Date":47,"./Number":48,"./Slider":49,"./Spinner":50,"./Textfield":51}],53:[function(require,module){"use strict";var CellRenderer=require("./CellRenderer"),Button=CellRenderer.extend("Button",{paint:function(gc,config){var val=config.value,c=config.dataCell.x,r=config.gridCell.y,bounds=config.bounds,x=bounds.x+1,y=bounds.y+1,width=bounds.width-1-config.lineWidth,height=bounds.height-1-config.lineWidth,arcGradient=gc.createLinearGradient(x,y,x,y+height);config.mouseDown?(arcGradient.addColorStop(0,"#B5CBED"),arcGradient.addColorStop(1,"#4d74ea")):(arcGradient.addColorStop(0,"#ffffff"),arcGradient.addColorStop(1,"#aaaaaa")),gc.cache.fillStyle=config.backgroundColor,gc.fillRect(bounds.x,bounds.y,bounds.width,bounds.height),gc.cache.fillStyle=arcGradient,gc.cache.strokeStyle="#000000",this.roundRect(gc,x,y,width,height,height/2,arcGradient,!0);var ox=(width-gc.getTextWidth(val))/2,oy=(height-gc.getTextHeight(gc.cache.font).descent)/2;gc.cache.textBaseline="middle",gc.cache.fillStyle="#333333",gc.cache.font=height-2+"px sans-serif",config.backgroundColor="rgba(0,0,0,0)",gc.simpleText(val,x+ox,y+oy);var key=c+","+r,buttonCells=config.buttonCells,buttonSubrows=buttonCells[key]||(buttonCells[key]=[]);buttonSubrows[config.subrow]=Object.assign({},bounds)}});module.exports=Button},{"./CellRenderer":54}],54:[function(require,module){var Base=require("../Base"),CellRenderer=Base.extend("CellRenderer",{paint:function(){},roundRect:function(gc,x,y,width,height,radius,fill,stroke){stroke||(stroke=!0),radius||(radius=5),gc.beginPath(),gc.moveTo(x+radius,y),gc.lineTo(x+width-radius,y),gc.quadraticCurveTo(x+width,y,x+width,y+radius),gc.lineTo(x+width,y+height-radius),gc.quadraticCurveTo(x+width,y+height,x+width-radius,y+height),gc.lineTo(x+radius,y+height),gc.quadraticCurveTo(x,y+height,x,y+height-radius),gc.lineTo(x,y+radius),gc.quadraticCurveTo(x,y,x+radius,y),gc.closePath(),stroke&&gc.stroke(),fill&&gc.fill(),gc.closePath()},renderSvgImageWithText:function(gc,x,y,height,width,svgSrc,val,font,fontColor){var prevFontState=gc.cache.font,prevFillStyleState=gc.cache.fillStyle,prevTextAlign=gc.cache.textAlign,img=new Image;img.onload=function(){gc.drawImage(img,x,y,height,width);gc.cache.font=font,gc.cache.fillStyle=fontColor,gc.cache.textAlign="center",1<val.length&&(val="..."),gc.simpleText(val,x+width/2,y+height/2+5),gc.cache.font=prevFontState,gc.cache.fillStyle=prevFillStyleState,gc.cache.textAlign=prevTextAlign},img.src=svgSrc},renderRoundedTriangleWithText:function(gc,x,y,height,width,cornerRadius,fillStyle,val,font,fontColor){var prevFontState=gc.cache.font,prevFillStyleState=gc.cache.fillStyle,prevTextAlign=gc.cache.textAlign,prevLineJoin=gc.cache.lineJoin,prevLineWidth=gc.cache.lineWidth,topPointX=x+width/2,topPointY=y+2*cornerRadius,triangleWidth=width-2*cornerRadius,triangleHeight=height-2*cornerRadius;gc.beginPath(),gc.moveTo(topPointX,topPointY),gc.lineTo(topPointX+triangleWidth/2,topPointY+triangleHeight),gc.lineTo(topPointX-triangleWidth/2,topPointY+triangleHeight),gc.closePath(),gc.fillStyle=fillStyle,gc.fill(),gc.lineWidth=cornerRadius,gc.lineJoin="round",gc.strokeStyle=fillStyle,gc.stroke();gc.cache.font=font,gc.cache.fillStyle=fontColor,gc.cache.textAlign="center",1<val.length&&(val="..."),gc.simpleText(val,x+width/2,y+height/2+3),gc.cache.font=prevFontState,gc.cache.fillStyle=prevFillStyleState,gc.cache.textAlign=prevTextAlign,gc.cache.lineJoin=prevLineJoin,gc.cache.lineWidth=prevLineWidth}});module.exports=CellRenderer},{"../Base":17}],55:[function(require,module){"use strict";var CellRenderer=require("./CellRenderer"),ErrorCell=CellRenderer.extend("ErrorCell",{paint:function(gc,config,message){var x=config.bounds.x,y=config.bounds.y,height=config.bounds.height;gc.cache.fillStyle="#FFFFFF",gc.fill(),gc.cache.fillStyle="#a94d4dc2",gc.cache.textAlign="start",gc.cache.textBaseline="middle",gc.cache.font="13px \"Helvetica Neue\",Helvetica,Arial,sans-serif",gc.simpleText(message,x+4,y+height/2+.5)}});module.exports=ErrorCell},{"./CellRenderer":54}],56:[function(require,module){"use strict";function drawRectBorder(ctx,x,y,width,height,color,lineWidth){ctx.cache.fillStyle=color,ctx.fillRect(x,y,lineWidth,height),ctx.fillRect(x,y,width,lineWidth),ctx.fillRect(x+width,y,lineWidth,height),ctx.fillRect(x,y+height,width+1,lineWidth)}var CellRenderer=require("./CellRenderer"),LastSelection=CellRenderer.extend("LastSelection",{paint:function(gc,config){var visOverlay=0<gc.alpha(config.selectionRegionOverlayColor),visOutline=0<gc.alpha(config.selectionRegionOutlineColor);if(visOverlay||visOutline){var x=config.bounds.x,y=config.bounds.y,width=config.bounds.width,height=config.bounds.height;visOverlay&&(gc.beginPath(),gc.rect(x,y,width,height),gc.cache.fillStyle=config.selectionRegionOverlayColor,gc.fill(),gc.closePath()),visOutline&&drawRectBorder(gc,x-1,y-1,width+1,height+1,config.selectionRegionOutlineColor,config.selectionRegionBorderWidth)}}});module.exports=LastSelection},{"./CellRenderer":54}],57:[function(require,module){"use strict";function renderMultiLineText(gc,config,val,leftPadding,rightPadding){var x=config.bounds.x,y=config.bounds.y,width=config.bounds.width,height=config.bounds.height,cleanVal=(val+"").trim().replace(WHITESPACE," "),lines=findLines(gc,config,cleanVal.split(" "),width);if(1===lines.length)return renderSingleLineText(gc,config,cleanVal,leftPadding,rightPadding);var halignOffset=leftPadding,valignOffset=config.voffset,halign=config.halign,textHeight=gc.getTextHeight(config.font).height;"right"===halign?halignOffset=width-rightPadding:"center"===halign?halignOffset=width/2:void 0;var vMin=_Mathceil4(textHeight/2);valignOffset+=_Mathceil4((height-(lines.length-1)*textHeight)/2),halignOffset=_Mathmax8(0,halignOffset),valignOffset=_Mathmax8(vMin,valignOffset),gc.cache.save(),gc.beginPath(),gc.rect(x,y,width,height),gc.clip(),gc.cache.textAlign=halign,gc.cache.textBaseline="middle";for(var i=0;i<lines.length;i++)gc.simpleText(lines[i],x+halignOffset,y+valignOffset+i*textHeight);return gc.cache.restore(),width}function renderSingleLineText(gc,config,val,leftPadding,rightPadding){var x=config.bounds.x,y=config.bounds.y,width=config.bounds.width,halignOffset=leftPadding,halign=config.halign,minWidth,metrics;if(config.columnAutosizing?(metrics=gc.getTextWidthTruncated(val,width-leftPadding-rightPadding,config.truncateTextWithEllipsis,config.highlightedChars),minWidth=metrics.width+rightPadding,val=metrics.string||val,"right"===halign?halignOffset=width-rightPadding-metrics.width:"center"===halign?halignOffset=(width-metrics.width)/2:void 0):(metrics=gc.getTextWidthTruncated(val,width-leftPadding-rightPadding,config.truncateTextWithEllipsis,config.highlightedChars,!0),minWidth=0+rightPadding,void 0===metrics.string?"right"===halign?halignOffset=width-rightPadding-metrics.width:"center"===halign?halignOffset=(width-metrics.width)/2:void 0:val=metrics.string),null!==val){if(x+=_Mathmax8(leftPadding,halignOffset),y+=config.bounds.height/2,0<metrics.highlights.length){var fillStyleOld=gc.cache.fillStyle;gc.cache.fillStyle=config.highlightColor,metrics.highlights.forEach(function(h){return gc.fillRect(x+h.x,config.bounds.y,h.width,config.bounds.height)}),gc.cache.fillStyle=fillStyleOld}if(config.isUserDataArea){var isAggregationHighlightingNeeded=!config.isGrandTotalRow&&config.isAggregationTreeColumn&&config.isAggregationRow&&0<config.aggregationChildCount;(config.link||isAggregationHighlightingNeeded&&!config.ignoreUnderlining)&&((config.isCellHovered||!config.linkOnHover)&&(config.linkColor&&(gc.cache.strokeStyle=config.linkColor),gc.beginPath(),underline(config,gc,val,x,y,1),gc.stroke(),gc.closePath()),config.linkColor&&(config.isCellHovered||!config.linkColorOnHover)&&(gc.cache.fillStyle=config.linkColor)),!0===config.strikeThrough&&(gc.beginPath(),strikeThrough(config,gc,val,x,y,1),gc.stroke(),gc.closePath())}gc.cache.textAlign="left",gc.cache.textBaseline="middle",gc.simpleText(val,x,y)}return minWidth}function findLines(gc,config,words,width){if(1===words.length)return words;for(var line=[words.shift()],stillFits;(stillFits=gc.getTextWidth(line.join(" "))<width)&&words.length;)line.push(words.shift());return!stillFits&&1<line.length&&words.unshift(line.pop()),line=[line.join(" ")],words.length&&(line=line.concat(findLines(gc,config,words,width))),line}function strikeThrough(config,gc,text,x,y,thickness){var textWidth=gc.getTextWidth(text);switch(gc.cache.textAlign){case"center":x-=textWidth/2;break;case"right":x-=textWidth;}y=_Mathround7(y+.5)-.5,gc.cache.lineWidth=thickness,gc.moveTo(x-1,y),gc.lineTo(x+textWidth+1,y)}function underline(config,gc,text,x,y,thickness){var textHeight=gc.getTextHeight(config.font).height,textWidth=gc.getTextWidth(text);switch(gc.cache.textAlign){case"center":x-=textWidth/2;break;case"right":x-=textWidth;}y=_Mathround7(y+textHeight/2)-.5,gc.cache.lineWidth=thickness,gc.moveTo(x,y),gc.lineTo(x+textWidth,y)}function layerColors(gc,colors,x,y,width,height,foundationColor){for(var i=0;i<colors.length;i++)foundationColor&&!i?gc.clearFill(x,y,width,height,colors[i]):(gc.cache.fillStyle=colors[i],gc.fillRect(x,y,width,height))}var CellRenderer=require("./CellRenderer"),images=require("../../images"),WHITESPACE=/\s\s+/g,SimpleCell=CellRenderer.extend("SimpleCell",{paint:function(gc,config){var val=config.value,bounds=config.bounds,x=bounds.x,y=bounds.y,width=bounds.width,height=bounds.height,iconPadding=config.iconPadding,partialRender=void 0===config.prefillColor,snapshot=config.snapshot,same=snapshot&&partialRender,valWidth=0,textColor,textFont,ixoffset,iyoffset,leftIcon,rightIcon,centerIcon,leftPadding,rightPadding,hover,hoverColor,selectColor,foundationColor,inheritsBackgroundColor,c,colors;leftIcon=images[config.leftIcon],centerIcon=images[config.centerIcon],rightIcon=images[config.rightIcon];var renderValue=val||config.renderFalsy&&0==val;if(renderValue&&config.isDataRow){var count=config.grid.behavior.dataModel.getCount(config.dataCell.x,config.dataCell.y);void 0!==count&&(config.valuePostfix="("+count+")")}if(renderValue?(val=config.formatValue(val,config),Array.isArray(val)&&(val="["+val.join(", ")+"]"),textFont=config.isSelected?config.foregroundSelectionFont:config.font,textColor=gc.cache.strokeStyle=config.isSelected?config.foregroundSelectionColor:config.color):val="",same=same&&val===snapshot.value&&textFont===snapshot.textFont&&textColor===snapshot.textColor,colors=[],c=0,config.disableHoverHighlighting||(config.isCellHovered&&config.hoverCellHighlight.enabled?hoverColor=config.hoverCellHighlight.backgroundColor:config.isRowHovered&&(hover=config.hoverRowHighlight).enabled?hoverColor=config.isDataColumn||!hover.header||void 0===hover.header.backgroundColor?hover.backgroundColor:hover.header.backgroundColor:config.isColumnHovered&&(hover=config.hoverColumnHighlight).enabled&&(hoverColor=config.isDataRow||!hover.header||void 0===hover.header.backgroundColor?hover.backgroundColor:hover.header.backgroundColor)),1>gc.alpha(hoverColor)&&(config.isSelected&&!config.isFirstSelectedCell&&(config.isHeaderRow||!config.isDataColumn)&&(selectColor=config.backgroundHeaderSelectionColor),1>gc.alpha(selectColor)&&(inheritsBackgroundColor=config.backgroundColor===config.prefillColor,!inheritsBackgroundColor&&(foundationColor=!0,config.combineColors?colors.push(config.backgroundColor):colors=[config.backgroundColor],same=same&&foundationColor===snapshot.foundationColor&&config.backgroundColor===snapshot.colors[c++])),void 0!==selectColor&&(config.combineColors?colors.push(selectColor):colors=[selectColor],same=same&&selectColor===snapshot.colors[c++])),void 0!==hoverColor&&(config.combineColors?colors.push(hoverColor):colors=[hoverColor],same=same&&hoverColor===snapshot.colors[c++]),!(same&&c===snapshot.colors.length)){config.snapshot={value:val,textColor:textColor,textFont:textFont,foundationColor:foundationColor,colors:colors},layerColors(gc,colors,x,y,width,height,foundationColor),leftPadding=leftIcon?iconPadding+leftIcon.width+iconPadding:config.cellPaddingLeft,rightPadding=rightIcon?iconPadding+rightIcon.width+iconPadding:config.cellPaddingRight,config.isAggregationTreeColumn&&(leftPadding+=config.treeLevel*config.aggregationGroupTreeLevelOffset);var textRightPadding=rightPadding;if(config.renderTotalErrorSignNeeded&&config.renderTotalErrorCount){var totalErrorsCountIconStartY=y+(height/2-config.totalErrorsCountIconHeight/2)-2,totalErrorsCountIconStartX=x+(width/2-config.totalErrorsCountIconWidth/2);this.renderRoundedTriangleWithText(gc,totalErrorsCountIconStartX,totalErrorsCountIconStartY,config.totalErrorsCountIconHeight,config.totalErrorsCountIconWidth,2,config.columnWarningIconColor,config.renderTotalErrorCount,config.columnWarningFont,config.columnWarningFontColor)}if(config.showCellContextMenuIcon&&renderValue){gc.cache.strokeStyle=config.contextMenuButtonStrokeStyle,gc.cache.fillStyle=config.contextMenuIconIsHovered?config.contextMenuButtonHoveredFillStyle:config.contextMenuButtonFillStyle;var buttonStartY=y+(height/2-config.contextMenuButtonHeight/2),buttonContentWidth=config.contextMenuButtonIconPreferedWidth+2*config.contextMenuButtonPadding,buttonStartX=x+width-config.contextMenuButtonRightMargin-buttonContentWidth;this.roundRect(gc,buttonStartX,buttonStartY,buttonContentWidth,config.contextMenuButtonHeight,1,!0);var prevFontState=gc.cache.font,prevFillStyleState=gc.cache.fillStyle;gc.cache.font=config.contextMenuIconFont,gc.cache.fillStyle=config.contextMenuIconIsHovered?config.contextMenuIconHoveredColor:config.contextMenuIconColor;var configClone=Object.assign({},config);configClone.halign="right";var iconStartX=x+width-config.contextMenuButtonRightMargin-config.contextMenuButtonPadding-config.contextMenuButtonIconPreferedWidth,iconStartY=buttonStartY+config.contextMenuButtonHeight/2;gc.simpleText(config.contextMenuIconUnicodeChar,iconStartX,iconStartY),gc.cache.font=prevFontState,gc.cache.fillStyle=prevFillStyleState,textRightPadding+=buttonContentWidth+config.contextMenuLeftSpaceToCutText}if(config.showColumnType&&config.colTypeSign){var _prevFontState=gc.cache.font,_prevFillStyleState=gc.cache.fillStyle;gc.cache.font=config.columnTypeSignFont,gc.cache.fillStyle=config.columnTypeSignColor;var _configClone=Object.assign({},config);_configClone.halign="right",textRightPadding+=renderSingleLineText(gc,_configClone,config.colTypeSign,leftPadding,textRightPadding),gc.cache.font=_prevFontState,gc.cache.fillStyle=_prevFillStyleState}if(config.valuePrefix&&!config.ignoreValuePrefix){var _prevFontState2=gc.cache.font,_prevFillStyleState2=gc.cache.fillStyle;gc.cache.font=config.valuePrefixFont,gc.cache.fillStyle=config.valuePrefixColor;var oldIgnoreUnderliningState=config.ignoreUnderlining;config.ignoreUnderlining=config.prefixIgnoreUnderliningNeeded,renderSingleLineText(gc,config,config.valuePrefix,leftPadding,textRightPadding),leftPadding+=gc.getTextWidth(config.valuePrefix)+config.columnTitlePrefixRightSpace,config.ignoreUnderlining=oldIgnoreUnderliningState,gc.cache.font=_prevFontState2,gc.cache.fillStyle=_prevFillStyleState2}if(config.backgroundText&&(gc.cache.fillStyle=config.backgroundTextColor,gc.cache.font=config.backgroundTextFont,renderSingleLineText(gc,config,config.backgroundText,leftPadding,textRightPadding)),!renderValue)centerIcon&&(iyoffset=_Mathround7((height-centerIcon.height)/2),ixoffset=_Mathround7((width-centerIcon.width)/2),gc.drawImage(centerIcon,x+width-ixoffset-centerIcon.width,y+iyoffset),valWidth=iconPadding+centerIcon.width+iconPadding);else if(gc.cache.fillStyle=textColor,gc.cache.font=textFont,valWidth=config.isHeaderRow&&config.headerTextWrapping?renderMultiLineText(gc,config,val,leftPadding,textRightPadding):renderSingleLineText(gc,config,val,leftPadding,textRightPadding),config.valuePostfix&&!config.ignoreValuePostfix){var newLeftPadding=leftPadding+gc.getTextWidth(val)+config.cellValuePostfixLeftOffset,_oldIgnoreUnderliningState=config.ignoreUnderlining;config.ignoreUnderlining=!0,gc.cache.fillStyle=config.cellValuePostfixColor,gc.cache.font=config.cellValuePostfixFont,valWidth+=renderMultiLineText(gc,config,config.valuePostfix,newLeftPadding,textRightPadding),config.ignoreUnderlining=_oldIgnoreUnderliningState}if(leftIcon&&(iyoffset=_Mathround7((height-leftIcon.height)/2),gc.drawImage(leftIcon,x+iconPadding,y+iyoffset)),rightIcon){var rightX=x+width-(rightIcon.width+iconPadding);inheritsBackgroundColor&&(foundationColor=!0,colors.unshift(config.backgroundColor)),layerColors(gc,colors,rightX,y,rightPadding,height,foundationColor),iyoffset=_Mathround7((height-rightIcon.height)/2),gc.drawImage(rightIcon,rightX,y+iyoffset)}config.cellBorderThickness&&(gc.beginPath(),gc.rect(x,y,width,height),gc.cache.lineWidth=config.cellBorderThickness,gc.cache.strokeStyle=config.cellBorderStyle,gc.stroke(),gc.closePath()),valWidth&&(config.minWidth=leftPadding+valWidth+rightPadding)}}});module.exports=SimpleCell},{"../../images":3,"./CellRenderer":54}],58:[function(require,module){"use strict";var CellRenderer=require("./CellRenderer"),Slider=CellRenderer.extend("Slider",{paint:function(gc,config){var x=config.bounds.x,y=config.bounds.y,width=config.bounds.width,height=config.bounds.height;gc.cache.strokeStyle="white";var val=config.value,radius=height/2,bgColor=config.isSelected?config.backgroundColor:"#333333",btnGradient=gc.createLinearGradient(x,y,x,y+height);btnGradient.addColorStop(0,bgColor),btnGradient.addColorStop(1,"#666666");var arcGradient=gc.createLinearGradient(x,y,x,y+height);arcGradient.addColorStop(0,"#aaaaaa"),arcGradient.addColorStop(1,"#777777"),gc.cache.fillStyle=btnGradient,this.roundRect(gc,x,y,width,height,radius,btnGradient),gc.cache.fillStyle=1>val?arcGradient:"#eeeeee",gc.beginPath(),gc.arc(x+_Mathmax8(width*val-radius,radius),y+radius,radius,0,2*_MathPI2),gc.fill(),gc.closePath(),config.minWidth=100}});module.exports=Slider},{"./CellRenderer":54}],59:[function(require,module){"use strict";var CellRenderer=require("./CellRenderer"),SparkBar=CellRenderer.extend("SparkBar",{paint:function(gc,config){var x=config.bounds.x,y=config.bounds.y,width=config.bounds.width,height=config.bounds.height;gc.beginPath();var val=config.value;if(val&&val.length){var count=val.length,eWidth=width/count,fgColor=config.isSelected?config.foregroundSelectionColor:config.color;(config.backgroundColor||config.isSelected)&&(gc.cache.fillStyle=config.isSelected?"blue":config.backgroundColor,gc.fillRect(x,y,width,height)),gc.cache.fillStyle=fgColor;for(var i=0,barheight;i<val.length;i++)barheight=val[i]/110*height,gc.fillRect(x+5,y+height-barheight,.6666*eWidth,barheight),x+=eWidth;gc.closePath(),config.minWidth=10*count}}});module.exports=SparkBar},{"./CellRenderer":54}],60:[function(require,module){"use strict";var CellRenderer=require("./CellRenderer"),SparkLine=CellRenderer.extend("SparkLine",{paint:function(gc,config){var x=config.bounds.x,y=config.bounds.y,width=config.bounds.width,height=config.bounds.height;gc.beginPath();var val=config.value;if(val&&val.length){var count=val.length,fgColor=config.isSelected?config.foregroundSelectionColor:config.color;(config.backgroundColor||config.isSelected)&&(gc.cache.fillStyle=config.isSelected?config.backgroundSelectionColor:config.backgroundColor,gc.fillRect(x,y,width,height)),gc.cache.strokeStyle=fgColor,gc.cache.fillStyle=fgColor,gc.beginPath();for(var i=0,prev,barheight;i<val.length;i++)barheight=val[i]/110*height,prev||(prev=barheight),gc.lineTo(x+5,y+height-barheight),gc.arc(x+5,y+height-barheight,1,0,2*_MathPI2,!1),x+=width/count;config.minWidth=10*count,gc.stroke(),gc.closePath()}}});module.exports=SparkLine},{"./CellRenderer":54}],61:[function(require,module){"use strict";var CellRenderer=require("./CellRenderer"),TreeCell=CellRenderer.extend("TreeCell",{paint:function(gc,config){var x=config.bounds.x,y=config.bounds.y,val=config.value.data,indent=config.value.indent,icon=config.value.icon;if((config.backgroundColor||config.isSelected)&&(gc.cache.fillStyle=config.isSelected?config.backgroundColor:config.backgroundColor,gc.fillRect(x,y,config.bounds.width,config.bounds.height)),val&&val.length){gc.cache.fillStyle=config.isSelected?config.backgroundColor:config.backgroundColor;var valignOffset=_Mathceil4(config.bounds.height/2);gc.simpleText(icon+val,x+indent,y+valignOffset),config.minWidth=x+indent+gc.getTextWidth(icon+val)+10}}});module.exports=TreeCell},{"./CellRenderer":54}],62:[function(require,module){"use strict";var Registry=require("../lib/Registry"),CellRenderers=Registry.extend("CellRenderers",{BaseClass:require("./CellRenderer"),initialize:function(){this.add(require("./Button")),this.add(require("./SimpleCell")),this.add(require("./SliderCell")),this.add(require("./SparkBar")),this.add(require("./LastSelection")),this.add(require("./SparkLine")),this.add(require("./ErrorCell")),this.add(require("./TreeCell"))},add:function(name,Constructor){Constructor=Registry.prototype.add.call(this,name,Constructor),Constructor&&(this[Constructor.getClassName()]=new Constructor)},get:function(name){return name&&"emptycell"===name.toLowerCase()?(warnedBaseClass||(console.warn("grid.cellRenderers.get(\""+name+"\").constructor has been deprecated as of v2.1.0 in favor of grid.cellRenderers.BaseClass property. (Will be removed in a future release.)"),warnedBaseClass=!0),this.BaseClass.constructor=this.BaseClass,this.BaseClass):Registry.prototype.get.call(this,name)}}),warnedBaseClass;module.exports=new CellRenderers},{"../lib/Registry":90,"./Button":53,"./CellRenderer":54,"./ErrorCell":55,"./LastSelection":56,"./SimpleCell":57,"./SliderCell":58,"./SparkBar":59,"./SparkLine":60,"./TreeCell":61}],63:[function(require,module){"use strict";var DataSourceBase=require("../DatasaurBase"),HeaderSubgrid=DataSourceBase.extend("HeaderSubgrid",{type:"header",format:"header",initialize:function(nextDataSource,options){this.grid=options.grid},getRowCount:function(){return this.grid.properties.showHeaderRow?1:0},getValue:function(x){var column=this.grid.behavior.getColumn(x);return column.header||column.name},setValue:function(x,y,value){y<this.getRowCount()&&(this.grid.behavior.getColumn(x).header=value)},getRow:function(){return this.dataRow}});module.exports=HeaderSubgrid},{"../DatasaurBase":18}],64:[function(require,module){"use strict";var Registry=require("../lib/Registry"),DataModels=Registry.extend("DataModels",{BaseClass:require("../DatasaurBase"),initialize:function(){this.add(require("./HeaderSubgrid"))}});module.exports=new DataModels},{"../DatasaurBase":18,"../lib/Registry":90,"./HeaderSubgrid":63}],65:[function(require,module){"use strict";function rowPropertiesDeprecationWarning(){warned.rowProperties||(warned.rowProperties=!0,console.warn("The `rowProperties` property has been deprecated as of v2.1.0 in favor of `rowStripes`. (Will be removed in a future release.)"))}function columnOnlyError(){throw new HypergridError("Attempt to set/get column-only property on a non-column properties object.")}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},HypergridError=require("./lib/error"),propClassEnum={COLUMNS:1,STRIPES:2,ROWS:3,CELLS:4},propClassLayersMap={DEFAULT:[propClassEnum.COLUMNS,propClassEnum.STRIPES,propClassEnum.ROWS,propClassEnum.CELLS],NO_ROWS:[propClassEnum.CELLS]},defaults={themeName:"default",noDataMessage:"",useHeaders:!0,detectLinksPermanently:!0,fictiveHeaderRowsCount:0,subgrids:["HeaderSubgrid","data"],font:"13px \"Helvetica Neue\",Helvetica,Arial,sans-serif",color:"#060606",backgroundColor:"#FFFFFF",canvasBackgroundColor:"#F3F3F3",foregroundSelectionFont:"13px \"Helvetica Neue\",Helvetica,Arial,sans-serif",foregroundSelectionColor:"#060606",backgroundSelectionColor:"#ECF3FF",backgroundHeaderSelectionColor:"#DDDDDD",errorCellDataColor:"#a94d4dc2",disableHoverHighlighting:!0,columnHeaderFont:"11px arial,sans-serif",columnHeaderFontBold:"bold 13px \"Helvetica Neue\",Helvetica,Arial,sans-serif",columnHeaderColor:"#060606",columnHeaderForegroundSelectionFont:"11px arial,sans-serif",columnHeaderBackgroundColor:"rgb(243,243,243)",columnHeaderForegroundSelectionColor:"#060606",columnHeaderBackgroundSelectionColor:"rgba(255, 220, 97, 0.45)",columnHeaderHalign:"center",columnHeaderInitWidth:50,columnHeaderRenderer:"SimpleCell",rowHeaderFont:"11px arial,sans-serif",rowHeaderColor:"#060606",rowHeaderBackgroundColor:"rgb(243,243,243)",rowHeaderForegroundSelectionColor:"#060606",rowHeaderForegroundSelectionFont:"11px arial,sans-serif",rowHeaderBackgroundSelectionColor:"rgba(255, 220, 97, 0.45)",backgroundColor2:"rgb(201, 201, 201)",treeHeaderFont:"12px Tahoma, Geneva, sans-serif",treeHeaderColor:"rgb(25, 25, 25)",treeHeaderBackgroundColor:"rgb(223, 227, 232)",treeHeaderForegroundSelectionColor:"rgb(80, 80, 80)",treeHeaderForegroundSelectionFont:"bold 12px Tahoma, Geneva, sans-serif",treeHeaderBackgroundSelectionColor:"rgba(255, 220, 97, 0.45)",filterFont:"12px Tahoma, Geneva, sans-serif",filterColor:"rgb(25, 25, 25)",filterBackgroundColor:"white",filterForegroundSelectionColor:"rgb(25, 25, 25)",filterBackgroundSelectionColor:"rgb(255, 220, 97)",filterHalign:"center",filterRenderer:"SimpleCell",filterEditor:"TextField",filterable:!0,showFilterRow:!1,voffset:0,scrollbarHoverOver:"visible",scrollbarHoverOff:"hidden",scrollingEnabled:!0,vScrollbarClassPrefix:"",hScrollbarClassPrefix:"",onScrollEndLimitTrigger:-1,halign:"left",cellPadding:4,cellPaddingRight:5,cellPaddingLeft:6,iconPadding:3,leftIcon:void 0,centerIcon:void 0,rightIcon:void 0,showAdditionalInfo:!1,renderFalsy:!0,headerify:"titleize",gridLinesH:!0,gridLinesV:!0,gridLinesWidth:1,gridLinesColor:"#dadada",gridLinesHeaderColor:"#c1c1c1",gridBorder:!0,gridBorderLeft:!0,gridBorderRight:!0,gridBorderTop:!1,gridBorderBottom:!0,fixedLinesHWidth:6,fixedLinesHEdge:void 0,fixedLinesHColor:"rgb(218,223,232)",fixedLinesVWidth:6,fixedLinesVEdge:void 0,fixedLinesVColor:"rgb(218,223,232)",defaultRowHeight:21,defaultHeaderRowHeight:23,defaultColumnWidth:101,minimumColumnWidth:30,maximumColumnWidth:650,minimumRowCount:50,repaintIntervalRate:60,repaintImmediately:!1,useBitBlit:!1,useHiDPI:!0,navKeyMap:{RETURN:"DOWN",RETURNSHIFT:"UP",TAB:"RIGHT",TABSHIFT:"LEFT"},feedbackCount:3,feedbackEffect:"shaker",readOnly:!1,fixedColumnCount:0,fixedRowCount:0,rowHeaderHalign:"center",rowHeaderNumbers:!0,rowHeaderCheckboxes:!1,rowHeaderStartDisplayedIndex:1,showTreeColumn:!0,treeRenderer:"SimpleCell",showHeaderRow:!0,cellSelection:!0,columnSelection:!0,rowSelection:!0,selectFictiveHeaderCellsAsRegular:!0,ignoreDataCellsOnVerticalCtrlSelection:!0,singleRowSelectionMode:!1,selectionRegionOverlayColor:"rgba(160,195,255,.2)",selectionRegionOutlineColor:"#4285F4",selectionRegionBorderWidth:1,columnAutosizing:!0,rowNumberAutosizing:!0,headerTextWrapping:!1,rowResize:!1,editable:!1,editOnDoubleClick:!0,editOnKeydown:!0,editOnNextCell:!1,unsortable:!1,sortOnDoubleClick:!0,maxSortColumns:3,sortOnHiddenColumns:!0,keepRowSelections:!1,autoSelectRows:!1,autoSelectColumns:!1,format:void 0,editor:"textfield",renderer:"SimpleCell",gridRenderer:"by-columns-and-rows",hoverCellHighlight:{enabled:!0,backgroundColor:"rgba(160, 160, 40, 0.45)"},hoverRowHighlight:{enabled:!1,backgroundColor:"rgba(100, 100, 25, 0.30)"},hoverColumnHighlight:{enabled:!1,backgroundColor:"rgba(60, 60, 15, 0.15)"},link:!1,linkTarget:"_blank",linkOnHover:!1,linkColor:"#337ab7",linkVisitedColor:"#337ab7",linkColorOnHover:!1,strikeThrough:!1,multipleSelections:!0,enableContinuousRepaint:!1,columnsReorderable:!0,onlyDataReorder:!0,columnGrabMargin:5,columnClip:!1,rowStripes:void 0,propClassLayers:propClassLayersMap.DEFAULT,features:["filters","contextmenu","cellselection","keypaging","columnresizing","rowselection","columnselection","columnmoving","columnsorting","cellclick","cellediting","onhover","linkdetails","warningtooltip"],truncateTextWithEllipsis:!0,combineColors:!1,cellContextMenu:[{name:"<b>Filter</b> to value",action:function(clickEvent,gridEvent){console.log("<b>Filter</b> to value with event",gridEvent)}},{name:"<b>Exclude</b> this value",action:function(clickEvent,gridEvent){console.log("<b>Exclude</b> this value with event",gridEvent)}},{name:"Copy",action:function(clickEvent,gridEvent){gridEvent.grid.api.copySelectedRangeToClipboard(!1)}},{name:"Copy With Headers",action:function(clickEvent,gridEvent){gridEvent.grid.api.copySelectedRangeToClipboard(!0)}}],headerContextMenu:[{name:"Rename",action:function(clickEvent,cellEvent){console.log("rename selected",clickEvent,cellEvent),cellEvent.grid.onEditorActivate(cellEvent)}},{name:"Remove",action:function(clickEvent,cellEvent){console.log("remove selected",clickEvent,cellEvent);var grid=cellEvent.grid,colDef=grid.columnDefs,column=cellEvent.column;grid.getColDefs(column.name).forEach(function(singleColDef){colDef.splice(colDef.indexOf(singleColDef),1)}),grid.api.setColumnDefs(colDef)}}],showCellContextMenu:!0,applyContextMenuStyling:!0,contextMenuHolderStyle:{position:"fixed",border:"none",fontSize:"14px",zIndex:2,margin:"0 0 0 0",fontFamily:"\"Helvetica Neue\",Helvetica,Arial,sans-serif",width:"auto",height:"auto","white-space":"nowrap"},contextMenuListStyle:{padding:"5px 0",maxHeight:"290px",minWidth:"220px",overflow:"hidden",border:"1px solid #ccc",backgroundColor:"#fff",display:"flex",flexDirection:"column",marginTop:"-1px",borderCollapse:"collapse",position:"relative"},contextMenuListOptionStyle:{height:"27px",fontSize:"13px",cursor:"pointer",display:"flex",alignItems:"center",backgroundColor:"#fff"},contextMenuListOptionHoverStyle:{backgroundColor:"#eee"},contextMenuListOptionIconStyle:{width:"30px",padding:"2px 4px",verticalAlign:"middle"},contextMenuListOptionTextStyle:{padding:"2px 4px",verticalAlign:"middle",flexGrow:"1"},contextMenuListOptionShortcutStyle:{padding:"2px 2px 2px 20px",verticalAlign:"middle",Width:"0"},contextMenuListOptionPopupPointerStyle:{padding:"2px 4px",verticalAlign:"middle",width:"30px"},contextMenuSeparatorStyle:{display:"block",borderTop:"1px solid #E5E5E5",margin:"5px 0"},contextMenuChildMenuArrowIconTag:"<i class=\"fa fa-caret-right\"></i>",columnFixationDraggerHeaderInactiveColor:"#BCBCBC",columnFixationDraggerHeaderHoveredColor:"#A5C6FE",columnFixationDraggerHeaderDraggingColor:"#A5C6FE",columnFixationDraggerBodyDraggingColor:"#DBE5F7",columnFixationPlaceholderHeaderColor:"#659DFC",columnFixationPlaceholderBodyColor:"#AFBBD1",rowFixationDraggerHeaderInactiveColor:"#BCBCBC",rowFixationDraggerHeaderHoveredColor:"#A5C6FE",rowFixationDraggerHeaderDraggingColor:"#A5C6FE",rowFixationDraggerBodyDraggingColor:"#DBE5F7",rowFixationPlaceholderHeaderColor:"#659DFC",rowFixationPlaceholderBodyColor:"#AFBBD1",scrollbarVStyle:{width:13,background:"#F8F8F8",boxShadow:"0 0 0 #000, 0 0 0 #000, 0 0 0 #000",marginTop:0,marginBottom:0,marginRight:-1,borderRadius:0,borderStyle:"solid",borderColor:"#d9d9d9",borderWidth:"1px"},scrollbarHStyle:{height:13,border:"1px solid #d9d9d9",background:"#F8F8F8",boxShadow:"0 0 0 #000, 0 0 0 #000, 0 0 0 #000",marginLeft:0,marginRight:0,marginBottom:-1,borderRadius:0},scrollbarVThumbStyle:{margin:1,width:9,right:0,backgroundColor:"#C7C7C7",boxShadow:"0px 0px 0px inset",position:"absolute",borderRadius:0},scrollbarHThumbStyle:{margin:1,height:9,bottom:0,backgroundColor:"#C7C7C7",boxShadow:"0px 0px 0px inset",borderRadius:0},scrollbarHMountStyle:{position:"absolute",background:"#F8F8F8",border:"1px solid #D9D9D9"},scrollbarVMountStyle:{position:"absolute",background:"#F8F8F8",border:"1px solid #D9D9D9",borderTopWidth:"0"},linkDetailsStyle:{cursor:"pointer",display:"flex",flexFlow:"column",position:"absolute",background:"#fcfcfc",boxShadow:"0 0 2px 0 rgba(0,0,0,.15), 0 1px 2px 0 rgba(0,0,0,.4)",borderRadius:"1px",padding:"5px 7px",zIndex:1030,fontSize:"13px",textDecoration:"none"},linkDetailsHoveredStyle:{boxShadow:"0 0 2px 0 rgba(0,0,0,.15), 0 2px 2px 0 rgba(0,0,0,.4)"},linkDetailsMaxStringLength:30,linkDetailsHideTimeout:1e3,linkDetailsAnchorStyle:{color:"#337ab7",textDecoration:"none",lineHeight:"19px",fontFamily:"Arial,sans-serif"},canvasWidthOffset:14,canvasHeightOffset:13,showCellContextMenuIcon:!1,contextMenuIconFont:"normal normal lighter 14px fontAwesome",contextMenuIconIsHovered:!1,contextMenuIconColor:"#616161",contextMenuIconHoveredColor:"#616161",contextMenuButtonStrokeStyle:"#C6C6C6",contextMenuButtonFillStyle:"#F8F8F8",contextMenuButtonHoveredFillStyle:"#f0f0f0",contextMenuIconUnicodeChar:decodeURI("\uF0D7"),errorIconUnicodeChar:decodeURI("\uF071"),totalErrorsCountIconHeight:16,totalErrorsCountIconWidth:18,errorIconFont:"13px fontAwesome",errorIconColor:"#FF3D3D",contextMenuButtonIconPreferedWidth:8,contextMenuButtonRightMargin:5,contextMenuButtonHeight:12,contextMenuButtonPadding:3,contextMenuLeftSpaceToCutText:5,columnTypeSignFont:"900 10px \"Helvetica Neue\",Helvetica,Arial,sans-serif",columnTypeSignColor:"#343434",columnTitlePrefixFont:"800 12px \"Helvetica Neue\",Helvetica,Arial,sans-serif",columnTitlePrefixColor:"#818181",columnTitlePrefixRightSpace:5,columnWarningFont:"1000 9px \"Helvetica Neue\",Helvetica,Arial,sans-serif",columnWarningFontColor:"white",columnWarningIconColor:"#FF3D3D",warningTooltipBottomClass:"tooltip bottom ng-animate in-add fade in main-page-tooltip",warningTooltipRightClass:"tooltip right ng-animate in-add fade in main-page-tooltip",warningTooltipArrowClass:"tooltip-arrow",warningTooltipInnerClass:"tooltip-inner",warningTooltipOpacity:.8,columnMoveInsertLineColor:"#777777",columnMoveInsertLineWidth:2,cellValuePostfixColor:"#8F8F8F",cellValuePostfixFont:"13px \"Helvetica Neue\",Helvetica,Arial,sans-serif",cellValuePostfixLeftOffset:5,aggregationGroupExpandIconFont:"normal normal lighter 14px fontAwesome",aggregationGroupExpandIconColor:"#9F9F9F",aggregationGroupExpandIconExpandedChar:decodeURI("\uF196"),aggregationGroupExpandIconCollapsedChar:decodeURI("\uF147"),aggregationGroupTreeLevelOffset:17,aggregationGroupExpandIconClickableWidth:15,grandAggregationCellFont:"bold 13px \"Helvetica Neue\",Helvetica,Arial,sans-serif",ignoreValuePrefix:!1,ignoreValuePostfix:!1,nullCellPlaceholder:"\xD8",nullCellColor:"#d4d4d4",highLightText:"",highlightColor:"#F7FFBA",isPivot:!1},warned={};Object.defineProperties(defaults,{rowProperties:{get:function(){return rowPropertiesDeprecationWarning(),this.rowStripes},set:function(rowProperties){rowPropertiesDeprecationWarning(),this.rowStripes=rowProperties}}}),["name","type","header","calculator"].forEach(function(key){Object.defineProperty(defaults,key,{set:columnOnlyError})}),Object.defineProperties(defaults,{mixIn:{value:require("overrider").mixIn},delete:{value:function(propName){var descriptor=Object.getOwnPropertyDescriptor(this,propName);if(!descriptor)return!1;if(!descriptor.get)return delete this[propName];if(descriptor.get.toString().indexOf(".var."))this.var[propName]=Object.getPrototypeOf(this)[propName];else return!0;return this.grid.repaint(),!1}},propClassEnum:{value:propClassEnum},propClassLayersMap:{value:propClassLayersMap},navKey:{value:function(keyChar,ctrlKey){var result;return(1<keyChar.length||!this.editOnKeydown||ctrlKey)&&(result=keyChar),result}},mappedNavKey:{value:function(keyChar){return keyChar=this.navKeyMap[keyChar],keyChar&&this.navKey(keyChar)}},reapplyCellProperties:{set:function(value){warned.reapplyCellProperties||(console.warn("The `.reapplyCellProperties` property has been deprecated as of v2.1.3 in favor of using the new `.propClassLayers` property. (May be removed in a future release.) This property is now a setter which sets `.propClassLayers` to `.propClassLayersMap.DEFAULT` (grid \u2190 columns \u2190 stripes \u2190 rows \u2190 cells) on truthy or `propClassLayersMap.NO_ROWS` (grid \u2190 columns \u2190 cells) on falsy, which is what you will see on properties stringification. This will give the same effect in most cases as the former property implementation, but not in all cases due to it no longer being applied dynamically. Developers should discontinue use of this property and start specifying `.propClassLayers` instead."),warned.reapplyCellProperties=!0),this.propClassLayers=value?propClassLayersMap.NO_ROWS:propClassLayersMap.DEFAULT}},exec:{value:function(vf){if(this.dataRow){var calculator="f"===("undefined"==typeof vf?"undefined":_typeof(vf))[0]&&vf||this.calculator;calculator&&(vf=calculator(this.dataRow,this.name,this.subrow))}return vf}}}),module.exports=defaults},{"./lib/error":95,overrider:13}],66:[function(require,module){"use strict";var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},Feature=require("./Feature"),CellClick=Feature.extend("CellClick",{handleMouseMove:function(grid,event){this.cursor=this._isMouseOverActiveExpandIcon(grid,event)?"pointer":null,this.next&&this.next.handleMouseMove(grid,event)},handleClick:function(grid,event){grid.log("event",event);var consumed=!1;event.isAggregationColumn&&this._isMouseOverExpandIcon(grid,event)&&event.isExpandableRow?(this._toggleExpandableRow(grid,event),consumed=!0):this.isAggregationTreeCell(event)&&event.isExpandableRow&&grid.onAggregatedCellClick?grid.onAggregatedCellClick(event):this._isMouseOverExpandIcon(grid,event)&&event.isExpandableColumn?(this._toggleExpandableColumn(grid,event),consumed=!0):consumed=(event.isDataCell||event.isTreeColumn)&&(this.openLink(grid,event)!==void 0||grid.behavior.cellClicked(event)),!consumed&&this.next&&this.next.handleClick(grid,event)},handleDoubleClick:function(grid,event){this._isMouseOverActiveExpandIcon(grid,event)||this.next&&this.next.handleDoubleClick(grid,event)},_toggleExpandableRow:function(grid,event){event.isRowExpanded?grid.behavior.collapseChildRows(event.dataRow):grid.behavior.expandChildRows(event.dataRow)},_toggleExpandableColumn:function(grid,event){event.isColumnExpanded?grid.behavior.collapseChildColumns(event.columnGroupId):grid.behavior.expandChildColumns(event.columnGroupId)},isAggregationTreeCell:function(event){var isAggregationTreeColumn=event.isAggregationTreeColumn,isAggregationRow=event.isAggregationRow,aggregationChildCount=event.aggregationChildCount,aggregationGrandTotalRow=event.isGrandTotalRow;return isAggregationTreeColumn&&isAggregationRow&&0<aggregationChildCount&&!aggregationGrandTotalRow},_isMouseOverExpandIcon:function(grid,event){if(!event.isExpandableRow&&!event.isExpandableColumn||event.isRenderSkipNeeded)return!1;var iconLeftX=event.properties.cellPaddingLeft+event.treeLevel*event.properties.aggregationGroupTreeLevelOffset,iconRightX=iconLeftX+event.properties.aggregationGroupExpandIconClickableWidth,iconBottomY=event.bounds.height-5;return event.mousePoint.x<=iconRightX&&0<=event.mousePoint.x&&event.mousePoint.y<=iconBottomY&&event.mousePoint.y>=5},_isMouseOverActiveExpandIcon:function(grid,event){return(event.isAggregationColumn&&event.isExpandableRow||this.isAggregationTreeCell(event)||event.isExpandableColumn)&&this._isMouseOverExpandIcon(grid,event)},openLink:function(grid,cellEvent){var dataRow=cellEvent.dataRow,config=Object.create(cellEvent.properties,{dataRow:{value:dataRow}}),value=config.exec(cellEvent.value),linkProp=cellEvent.properties.link,isArray=linkProp instanceof Array,link=isArray?linkProp[0]:linkProp,result,url;switch("undefined"==typeof link?"undefined":_typeof(link)){case"string":"*"===link?url=value:/^\w+$/.test(link)&&(url=dataRow[link]);break;case"function":url=link(cellEvent);}return url&&(url=url.toString().replace(/%name/g,config.name).replace(/%value/g,value),isArray?(linkProp=linkProp.slice(),linkProp[0]=url,result=grid.windowOpen.apply(grid,linkProp)):result=grid.windowOpen(url,cellEvent.properties.linkTarget)),result&&(cellEvent.setCellProperty("linkColor",grid.properties.linkVisitedColor),grid.renderer.resetCellPropertiesCache(cellEvent),grid.repaint()),result}});module.exports=CellClick},{"./Feature":75}],67:[function(require,module){"use strict";function edit(grid,event,onDoubleClick){event.isDataCell&&!(event.getCellProperty("editOnDoubleClick")^onDoubleClick)&&grid.onEditorActivate(event),this.next&&this.next[onDoubleClick?"handleDoubleClick":"handleClick"](grid,event)}var Feature=require("./Feature"),CellEditor=require("../cellEditors/CellEditor"),CellEditing=Feature.extend("CellEditing",{handleClick:function(grid,event){edit.call(this,grid,event)},handleDoubleClick:function(grid,event){edit.call(this,grid,event,!0)},handleKeyDown:function(grid,event){var char,isVisibleChar,isDeleteChar,editor,cellEvent;if((cellEvent=grid.getGridCellFromLastSelection())&&cellEvent.properties.editOnKeydown&&!grid.cellEditor&&("F2"===(char=event.detail.char)||(isVisibleChar=1===char.length&&!(event.detail.meta||event.detail.ctrl))||(isDeleteChar="DELETE"===char||"BACKSPACE"===char))){var neededVisibilityProp=cellEvent.isDataRow?"editable":"filterable",isEditable=cellEvent.rowProperties[neededVisibilityProp]||cellEvent.properties[neededVisibilityProp];isEditable&&(editor=grid.onEditorActivate(cellEvent),editor instanceof CellEditor&&(isVisibleChar?editor.input.value=char:isDeleteChar&&editor.setEditorValue("")),event.detail.primitiveEvent.preventDefault())}else this.next&&this.next.handleKeyDown(grid,event)}});module.exports=CellEditing},{"../cellEditors/CellEditor":45,"./Feature":75}],68:[function(require,module){"use strict";var Feature=require("./Feature"),CellSelection=Feature.extend("CellSelection",{currentDrag:null,lastDragCell:null,sbLastAuto:0,sbAutoStart:0,handleMouseUp:function(grid,event){this.dragging&&(this.dragging=!1),this.next&&this.next.handleMouseUp(grid,event)},handleMouseDown:function(grid,event){var dx,dy;if(grid.behavior.getHeaderColumnByName(),event.isColspanedByLeftColumn&&event.colspanMainColumnName){var mainColumn=grid.behavior.getHeaderColumnByName(event.colspanMainColumnName),mainColumnIndex=grid.behavior.columns.indexOf(mainColumn);mainColumn&&mainColumnIndex&&(dx=mainColumnIndex)}else void 0!==event.rowspanMainRow&&null!==event.rowspanMainRow&&(dy=event.rowspanMainRow);dx=void 0===dx?event.dataCell.x:dx,dy=void 0===dy?event.dataCell.y:dy;var isSelectable=grid.behavior.getCellProperty(dx,dy,"cellSelection");if(isSelectable&&event.isDataCell){if(event.primitiveEvent.detail.isRightClick&&event.isCellSelected)return;var dCell=grid.newPoint(dx,dy),primEvent=event.primitiveEvent,keys=primEvent.detail.keys;this.dragging=!0,this.extendSelection(grid,dCell,keys)}this.next&&this.next.handleMouseDown(grid,event)},handleMouseDrag:function(grid,event){this.dragging&&grid.properties.cellSelection&&!event.primitiveEvent.detail.isRightClick?(this.currentDrag=event.primitiveEvent.detail.mouse,this.lastDragCell=grid.newPoint(event.gridCell.x,event.dataCell.y),this.checkDragScroll(grid,this.currentDrag),this.handleMouseDragCellSelection(grid,this.lastDragCell,event.primitiveEvent.detail.keys)):this.next&&this.next.handleMouseDrag(grid,event)},handleKeyDown:function(grid,event){var cellEvent=grid.getGridCellFromLastSelection(!0),detail=event.detail,keys=detail.currentKeys,ctrlPressed=event.metaKey||event.ctrlKey||0<=keys.indexOf("CTRL")||0<=keys.indexOf("COMMANDLEFT")||0<=keys.indexOf("COMMANDRIGHT"),navKey=cellEvent&&(cellEvent.properties.mappedNavKey(detail.char,ctrlPressed)||cellEvent.properties.navKey(detail.char,ctrlPressed)),handler=ctrlPressed&&this["handleCTRL"+navKey]?this["handleCTRL"+navKey]:this["handle"+navKey];handler?(handler.call(this,grid,detail),cellEvent=grid.getGridCellFromLastSelection(!0),cellEvent.properties.editOnNextCell&&grid.editAt(cellEvent),!grid.cellEditor&&grid.takeFocus(),event.detail.sourceEvent&&event.detail.sourceEvent.preventDefault&&event.detail.sourceEvent.preventDefault()):this.next&&this.next.handleKeyDown(grid,event)},handleMouseDragCellSelection:function(grid,gridCell){var x=_Mathmax8(0,gridCell.x),y=_Mathmax8(0,gridCell.y),previousDragExtent=grid.getDragExtent(),mouseDown=grid.getMouseDown(),newX=x-mouseDown.x,newY=y-mouseDown.y;previousDragExtent.x===newX&&previousDragExtent.y===newY||(grid.clearMostRecentSelection(),grid.select(mouseDown.x,mouseDown.y,newX,newY),grid.setDragExtent(grid.newPoint(newX,newY)),grid.repaint())},checkDragScroll:function(grid,mouse){if(grid.properties.scrollingEnabled){var b=grid.getDataBounds(),inside=b.contains(mouse);inside?grid.isScrollingNow()&&grid.setScrollingNow(!1):!grid.isScrollingNow()&&(grid.setScrollingNow(!0),this.scrollDrag(grid))}},scrollDrag:function(grid){if(grid.isScrollingNow()){var lastDragCell=this.lastDragCell,b=grid.getDataBounds(),xOffset=0,yOffset=0,numFixedColumns=grid.getFixedColumnCount(),numFixedRows=grid.getFixedRowCount(),dragEndInFixedAreaX=lastDragCell.x<numFixedColumns,dragEndInFixedAreaY=lastDragCell.y<numFixedRows;this.currentDrag.x<b.origin.x&&(xOffset=-1),this.currentDrag.y<b.origin.y&&(yOffset=-1),this.currentDrag.x>b.origin.x+b.extent.x&&(xOffset=1),this.currentDrag.y>b.origin.y+b.extent.y&&(yOffset=1);var dragCellOffsetX=xOffset,dragCellOffsetY=yOffset;dragEndInFixedAreaX&&(dragCellOffsetX=0),dragEndInFixedAreaY&&(dragCellOffsetY=0),this.lastDragCell=lastDragCell.plusXY(dragCellOffsetX,dragCellOffsetY),grid.scrollBy(xOffset,yOffset),this.handleMouseDragCellSelection(grid,lastDragCell,[]),grid.repaint(),setTimeout(this.scrollDrag.bind(this,grid),25)}},extendSelection:function(grid,dataCell,keys){var hasCTRL=0<=keys.indexOf("CTRL")||0<=keys.indexOf("COMMANDLEFT")||0<=keys.indexOf("COMMANDRIGHT"),hasSHIFT=0<=keys.indexOf("SHIFT"),mousePoint=grid.getMouseDown(),x=dataCell.x,y=dataCell.y;return 0>x||0>y?void 0:hasCTRL&&x===mousePoint.x&&y===mousePoint.y?(grid.clearMostRecentSelection(),grid.popMouseDown(),void grid.repaint()):void(!hasCTRL&&!hasSHIFT&&grid.clearSelections(),hasSHIFT?(grid.clearMostRecentSelection(),grid.select(mousePoint.x,mousePoint.y,x-mousePoint.x,y-mousePoint.y),grid.setDragExtent(grid.newPoint(x-mousePoint.x,y-mousePoint.y))):(grid.select(x,y,0,0),grid.setMouseDown(grid.newPoint(x,y)),grid.setDragExtent(grid.newPoint(0,0))),grid.repaint())},handleDOWNSHIFT:function(grid){this.moveShiftSelect(grid,0,1)},handleUPSHIFT:function(grid){this.moveShiftSelect(grid,0,-1)},handleLEFTSHIFT:function(grid){this.moveShiftSelect(grid,-1,0)},handleRIGHTSHIFT:function(grid){this.moveShiftSelect(grid,1,0)},_isSelectionInsideDataArea:function(grid,selection){var maxColumnWithContent=grid.behavior.dataModel.getColumnsWithValuesCount(),maxRowWithContent=grid.behavior.dataModel.getRowsWithValuesCount();return selection.corner.x<=maxColumnWithContent-1&&selection.corner.y<=maxRowWithContent},_isSelectionAlreadyOnFictiveHeaderRow:function(grid,selection){return selection.origin.y<grid.getFictiveHeaderRowsCount()},_isSelectionAlreadyOnFirstDataRow:function(grid,selection){return selection.origin.y===grid.getFictiveHeaderRowsCount()||selection.corner.y===grid.getFictiveHeaderRowsCount()},_isSelectionAlreadyOnLastDataRow:function(grid,selection){var maxRowWithContent=grid.behavior.dataModel.getRowsWithValuesCount();return selection.corner.y===maxRowWithContent+grid.getFictiveHeaderRowsCount()-1},_isSelectionAlreadyOnLastDataColumn:function(grid,selection){var maxColumnWithContent=grid.behavior.dataModel.getColumnsWithValuesCount();return selection.corner.x===maxColumnWithContent-1},_isSelectionAlreadyOnLastDataColumnAndRow:function(grid,selection){return this._isSelectionAlreadyOnLastDataRow(grid,selection)&&this._isSelectionAlreadyOnLastDataColumn(grid,selection)},_isSelectionAlreadyOnFirstCell:function(grid,selection){return 0>=selection.origin.x&&selection.origin.y<=grid.getFictiveHeaderRowsCount()},handleCTRLa:function(grid){var oldLastSelection=grid.selectionModel.getLastSelection(),maxColumnWithContent=grid.behavior.dataModel.getColumnsWithValuesCount(),maxRowWithContent=grid.behavior.dataModel.getRowsWithValuesCount(),fictiveHeaderRowsCount=grid.getFictiveHeaderRowsCount(),newSelectionOriginX=0,newSelectionOriginY=0,newSelectionCornerX=0,newSelectionCornerY=0;this._isSelectionInsideDataArea(grid,oldLastSelection)&&!(this._isSelectionAlreadyOnLastDataColumnAndRow(grid,oldLastSelection)&&this._isSelectionAlreadyOnFirstCell(grid,oldLastSelection))?(newSelectionOriginX=0,newSelectionOriginY=fictiveHeaderRowsCount,newSelectionCornerX=maxColumnWithContent-1,newSelectionCornerY=maxRowWithContent-1):(newSelectionOriginX=0,newSelectionOriginY=0,newSelectionCornerX=grid.getColumnCount(),newSelectionCornerY=grid.getRowCount()),(this._isSelectionAlreadyOnFictiveHeaderRow(grid,oldLastSelection)||grid.properties.selectFictiveHeaderCellsAsRegular)&&(newSelectionOriginY=0,newSelectionCornerY+=grid.getFictiveHeaderRowsCount()),grid.clearMostRecentSelection(),grid.select(newSelectionOriginX,newSelectionOriginY,newSelectionCornerX,newSelectionCornerY),grid.setMouseDown(grid.newPoint(oldLastSelection.firstSelectedCell.x,oldLastSelection.firstSelectedCell.y)),grid.setDragExtent(grid.newPoint(newSelectionCornerX-oldLastSelection.firstSelectedCell.x,newSelectionCornerY-oldLastSelection.firstSelectedCell.y));var newLastSelection=grid.selectionModel.getLastSelection();newLastSelection.firstSelectedCell=oldLastSelection.firstSelectedCell,newLastSelection.lastSelectedCell=oldLastSelection.lastSelectedCell,grid.repaint()},handleCTRLUP:function(grid){var lastSelection=grid.selectionModel.getLastSelection(),maxRowWithContent=grid.behavior.dataModel.getRowsWithValuesCount();!this._isSelectionInsideDataArea(grid,lastSelection)||grid.properties.ignoreDataCellsOnVerticalCtrlSelection?lastSelection.origin.x>=grid.behavior.dataModel.getColumnsWithValuesCount()||grid.properties.ignoreDataCellsOnVerticalCtrlSelection?grid.moveSingleSelect(0,-_Mathmax8(lastSelection.corner.y,lastSelection.origin.y)):grid.moveSingleSelect(0,-(_Mathmax8(lastSelection.corner.y,lastSelection.origin.y)-maxRowWithContent)):this._isSelectionAlreadyOnFictiveHeaderRow(grid,lastSelection)||this._isSelectionAlreadyOnFirstDataRow(grid,lastSelection)||grid.properties.selectFictiveHeaderCellsAsRegular?grid.moveSingleSelect(0,-_Mathmax8(lastSelection.corner.y,lastSelection.origin.y)):grid.moveSingleSelect(0,-(_Mathmax8(lastSelection.corner.y,lastSelection.origin.y)-grid.getFictiveHeaderRowsCount()))},handleCTRLDOWN:function(grid){var lastSelection=grid.selectionModel.getLastSelection(),maxRowWithContent=grid.behavior.dataModel.getRowsWithValuesCount();!this._isSelectionInsideDataArea(grid,lastSelection)||this._isSelectionAlreadyOnLastDataRow(grid,lastSelection)||lastSelection.origin.x>grid.behavior.dataModel.getColumnsWithValuesCount()||grid.properties.ignoreDataCellsOnVerticalCtrlSelection?grid.moveSingleSelect(0,grid.getRowCount()-lastSelection.lastSelectedCell.y):!this._isSelectionAlreadyOnFictiveHeaderRow(grid,lastSelection)||this._isSelectionAlreadyOnFirstDataRow(grid,lastSelection)||grid.properties.selectFictiveHeaderCellsAsRegular?grid.moveSingleSelect(0,maxRowWithContent-lastSelection.lastSelectedCell.y):grid.moveSingleSelect(0,grid.getFictiveHeaderRowsCount()-lastSelection.lastSelectedCell.y)},handleCTRLRIGHT:function(grid){var lastSelection=grid.selectionModel.getLastSelection(),maxColumnWithContent=grid.behavior.dataModel.getColumnsWithValuesCount();!this._isSelectionInsideDataArea(grid,lastSelection)||this._isSelectionAlreadyOnLastDataColumn(grid,lastSelection)?grid.moveSingleSelect(grid.getColumnCount()-lastSelection.origin.x,0):grid.moveSingleSelect(maxColumnWithContent-1-lastSelection.origin.x,0)},handleCTRLLEFT:function(grid){var lastSelection=grid.selectionModel.getLastSelection(),maxColumnWithContent=grid.behavior.dataModel.getColumnsWithValuesCount();this._isSelectionInsideDataArea(grid,lastSelection)||this._isSelectionAlreadyOnLastDataColumn(grid,lastSelection)?grid.moveSingleSelect(-lastSelection.corner.x,0):grid.moveSingleSelect(-(lastSelection.corner.x-(maxColumnWithContent-1)),0)},handleCTRLUPSHIFT:function(grid){var lastSelection=grid.selectionModel.getLastSelection(),maxRowWithContent=grid.behavior.dataModel.getRowsWithValuesCount();!this._isSelectionInsideDataArea(grid,lastSelection)||grid.properties.ignoreDataCellsOnVerticalCtrlSelection?lastSelection.origin.x>=grid.behavior.dataModel.getColumnsWithValuesCount()||grid.properties.ignoreDataCellsOnVerticalCtrlSelection?this.moveShiftSelect(grid,0,-_Mathmax8(lastSelection.corner.y,lastSelection.origin.y)):this.moveShiftSelect(grid,0,-(_Mathmax8(lastSelection.corner.y,lastSelection.origin.y)-maxRowWithContent)):this._isSelectionAlreadyOnFictiveHeaderRow(grid,lastSelection)||this._isSelectionAlreadyOnFirstDataRow(grid,lastSelection)||grid.properties.selectFictiveHeaderCellsAsRegular?this.moveShiftSelect(grid,0,-_Mathmax8(lastSelection.corner.y,lastSelection.origin.y)):this.moveShiftSelect(grid,0,-(_Mathmax8(lastSelection.corner.y,lastSelection.origin.y)-grid.getFictiveHeaderRowsCount()))},handleCTRLDOWNSHIFT:function(grid){var lastSelection=grid.selectionModel.getLastSelection(),maxRowWithContent=grid.behavior.dataModel.getRowsWithValuesCount();!this._isSelectionInsideDataArea(grid,lastSelection)||this._isSelectionAlreadyOnLastDataRow(grid,lastSelection)||lastSelection.origin.x>grid.behavior.dataModel.getColumnsWithValuesCount()||grid.properties.ignoreDataCellsOnVerticalCtrlSelection?this.moveShiftSelect(grid,0,grid.getRowCount()-lastSelection.lastSelectedCell.y):this.moveShiftSelect(grid,0,maxRowWithContent-lastSelection.lastSelectedCell.y)},handleCTRLRIGHTSHIFT:function(grid){var lastSelection=grid.selectionModel.getLastSelection(),maxColumnWithContent=grid.behavior.dataModel.getColumnsWithValuesCount();!this._isSelectionInsideDataArea(grid,lastSelection)||this._isSelectionAlreadyOnLastDataColumn(grid,lastSelection)?this.moveShiftSelect(grid,grid.getColumnCount()-lastSelection.origin.x,0):this.moveShiftSelect(grid,maxColumnWithContent-1-lastSelection.origin.x,0)},handleCTRLLEFTSHIFT:function(grid){var lastSelection=grid.selectionModel.getLastSelection(),maxColumnWithContent=grid.behavior.dataModel.getColumnsWithValuesCount();this._isSelectionInsideDataArea(grid,lastSelection)||this._isSelectionAlreadyOnLastDataColumn(grid,lastSelection)?this.moveShiftSelect(grid,-lastSelection.corner.x,0):this.moveShiftSelect(grid,-(lastSelection.corner.x-(maxColumnWithContent-1)),0)},handleDOWN:function(grid,event){event.primitiveEvent.preventDefault();var count=this.getAutoScrollAcceleration();grid.moveSingleSelect(0,count)},handleUP:function(grid,event){event.primitiveEvent.preventDefault();var count=this.getAutoScrollAcceleration();grid.moveSingleSelect(0,-count)},handleLEFT:function(grid){grid.moveSingleSelect(-1,0)},handleRIGHT:function(grid){grid.moveSingleSelect(1,0)},getAutoScrollAcceleration:function(){var elapsed=this.getAutoScrollDuration()/2e3;return _Mathmax8(1,_Mathfloor7(elapsed*elapsed*elapsed*elapsed))},setAutoScrollStartTime:function(){this.sbAutoStart=Date.now()},pingAutoScroll:function(){var now=Date.now();500<now-this.sbLastAuto&&this.setAutoScrollStartTime(),this.sbLastAuto=Date.now()},getAutoScrollDuration:function(){return 500<Date.now()-this.sbLastAuto?0:Date.now()-this.sbAutoStart},moveShiftSelect:function(grid,offsetX,offsetY){grid.extendSelect(offsetX,offsetY)&&this.pingAutoScroll()}});module.exports=CellSelection},{"./Feature":75}],69:[function(require,module){var Feature=require("./Feature"),GRAB=["grab","-moz-grab","-webkit-grab"],GRABBING=["grabbing","-moz-grabbing","-webkit-grabbing"],ColumnFixation=Feature.extend("ColumnFixation",{dragging:!1,dragOffset:0,currentPlaceholderColumnPos:-1,handleGridRendered:function(grid){this.initializeAnimationSupport(grid),this.next&&this.next.handleGridRendered(grid)},initializeAnimationSupport:function(grid){this.createOrUpdateDragger(grid),placeholder||(placeholder=document.createElement("canvas"),placeholder.setAttribute("width","0px"),placeholder.setAttribute("height","0px"),placeholder.style.position="fixed",document.body.appendChild(placeholder),placeholderCTX=placeholder.getContext("2d",{alpha:!1}))},handleMouseDrag:function(grid,event){this.next&&this.next.handleMouseDrag(grid,event)},handleMouseDown:function(grid,event){this.next&&this.next.handleMouseDown(grid,event)},handleMouseUp:function(grid,event){this.next&&this.next.handleMouseUp(grid,event)},handleMouseMove:function(grid,event){this.next&&this.next.handleMouseMove(grid,event)},handleColumnResizedEvent:function(grid,event){grid.paintNow(),this.moveDragger(grid,this.getStartByFixedColumnsCount(grid),!1),this.next&&this.next.handleColumnResizedEvent(grid,event)},moveDragger:function(grid,x,movePlaceholderNeeded){if(movePlaceholderNeeded="undefined"==typeof movePlaceholderNeeded||movePlaceholderNeeded,dragger.style.left=x+grid.canvas.size.left+"px",movePlaceholderNeeded){var nearestColumnIndex=this.getNearestColumnIndex(grid,x);void 0!==nearestColumnIndex&&nearestColumnIndex!==this.currentPlaceholderColumnPos&&(this.movePlaceholderTo(grid,nearestColumnIndex),this.currentPlaceholderColumnPos=nearestColumnIndex)}},movePlaceholderTo:function(grid,column){placeholder.style.display="inline";var newStartX=this.getStartByColumnIndex(grid,column);placeholder.style.left=newStartX+"px"},createPlaceholder:function(grid){var width=grid.properties.fixedLinesHWidth,gridHeight=grid.div.clientHeight,hdpiRatio=grid.getHiDPI(placeholderCTX),headerHeight=grid.getRowHeight(0),location=grid.div.getBoundingClientRect();placeholder.style.top=location.top+"px",placeholder.setAttribute("width",_Mathround7(width*hdpiRatio)+"px"),placeholder.setAttribute("height",_Mathround7(gridHeight*hdpiRatio)+"px"),placeholder.style.display="inline",placeholderCTX.clearRect(0,0,width,gridHeight),placeholderCTX.fillStyle=grid.properties.columnFixationPlaceholderHeaderColor,placeholderCTX.fillRect(0,0,width,headerHeight),placeholderCTX.fillStyle=grid.properties.columnFixationPlaceholderBodyColor,placeholderCTX.fillRect(0,headerHeight,width,gridHeight),placeholderCTX.scale(hdpiRatio,hdpiRatio),placeholder.style.zIndex="4",this.movePlaceholderTo(grid,grid.getFixedColumnCount())},setCrossBrowserProperty:function(element,property,value){var uProperty=property[0].toUpperCase()+property.substr(1);this.setProp(element,"webkit"+uProperty,value),this.setProp(element,"Moz"+uProperty,value),this.setProp(element,"ms"+uProperty,value),this.setProp(element,"O"+uProperty,value),this.setProp(element,property,value)},createOrUpdateDragger:function(grid){if(!this.dragging){this.fixedLinesHWidth=grid.properties.fixedLinesHWidth,dragger||(dragger=document.createElement("canvas"),draggerCTX=dragger.getContext("2d",{alpha:!1}),document.body.appendChild(dragger));var width=this.fixedLinesHWidth,startX=this.getStartByFixedColumnsCount(grid),headerHeight=grid.getRowHeight(0),gridHeight=grid.div.clientHeight,hdpiRatio=grid.getHiDPI(draggerCTX),location=grid.div.getBoundingClientRect();dragger.setAttribute("width",width*hdpiRatio+"px"),dragger.setAttribute("height",gridHeight*hdpiRatio+"px"),dragger.style.position="fixed",dragger.style.top=location.top+"px",dragger.style.left=startX+"px",dragger.style.display="inline",draggerCTX.clearRect(0,0,width,gridHeight),draggerCTX.fillStyle=grid.properties.columnFixationDraggerHeaderInactiveColor,draggerCTX.fillRect(0,0,width,headerHeight);var self=this;dragger.onmouseenter=function(event){self.dragging||(event.stopImmediatePropagation(),event.preventDefault(),self.cursor=GRAB,draggerCTX.clearRect(0,0,width,gridHeight),draggerCTX.fillStyle=grid.properties.columnFixationDraggerHeaderHoveredColor,draggerCTX.fillRect(0,0,width,headerHeight))},dragger.onmouseleave=function(){self.dragging||(event.stopImmediatePropagation(),event.preventDefault(),self.cursor=null,draggerCTX.clearRect(0,0,width,gridHeight),draggerCTX.fillStyle=grid.properties.columnFixationDraggerHeaderInactiveColor,draggerCTX.fillRect(0,0,width,headerHeight))},dragger.onmousedown=function(event){event.stopImmediatePropagation(),event.preventDefault(),this.cursor=GRABBING,self.dragging=!0,grid.scrollToMakeVisible(grid.getFixedColumnCount(),grid.getFixedRowCount()-1),self.createPlaceholder(grid),self.dragOffset=dragger.getBoundingClientRect().left,draggerCTX.clearRect(0,0,width,gridHeight),draggerCTX.fillStyle=grid.properties.columnFixationDraggerHeaderDraggingColor,draggerCTX.fillRect(0,0,width,headerHeight),draggerCTX.fillStyle=grid.properties.columnFixationDraggerBodyDraggingColor,draggerCTX.fillRect(0,headerHeight,width,gridHeight),document.onmousemove=function(e){var pos1=e.clientX-grid.properties.fixedLinesHWidth/2-grid.canvas.size.left;self.moveDragger(grid,pos1)},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,self.dragging&&(self.cursor=null,self.performFixation(grid),grid.paintNow(),self.moveDragger(grid,self.getStartByFixedColumnsCount(grid)-grid.canvas.size.left,!1)),self.dragging=!1,self.cursor=null,draggerCTX.clearRect(0,0,width,gridHeight),draggerCTX.fillStyle=grid.properties.columnFixationDraggerHeaderInactiveColor,draggerCTX.fillRect(0,0,width,headerHeight)}}}},getStartByFixedColumnsCount:function(grid){return this.getStartByColumnIndex(grid,grid.properties.fixedColumnCount)},getStartByColumnIndex:function(grid,columnIndex){0>columnIndex&&(columnIndex=0);var column,res;return 0<columnIndex?(column=grid.renderer.visibleColumns[columnIndex-1],!column&&(column=grid.renderer.visibleColumns[0]),res=column?column.right:0):res=grid.renderer.visibleColumns[0].left-this.fixedLinesHWidth,res+grid.canvas.size.left},performFixation:function(grid){var currentFixedColumnCount=grid.properties.fixedColumnCount;grid.addProperties({fixedColumnCount:this.currentPlaceholderColumnPos}),placeholder.style.display="none",grid.fireSyntheticOnFixedColumnCountChangedEvent(currentFixedColumnCount,this.currentPlaceholderColumnPos)},getNearestColumnIndex:function(grid,x){var columnUnderCursorIndex=grid.renderer.getColumnFromPixelX(x),visibleColumns=grid.renderer.visibleColumns,max=grid.getVisibleColumnsCount(),columnStartX=visibleColumns[_Mathmin7(max,columnUnderCursorIndex)].left,columnEndX=visibleColumns[_Mathmin7(max,columnUnderCursorIndex)].right,res=columnUnderCursorIndex;return _Mathabs10(columnStartX-x)<_Mathabs10(columnEndX-x)||(res+=1),res>=visibleColumns[visibleColumns.length-1].columnIndex&&(res=visibleColumns[visibleColumns.length-2].columnIndex),res},setProp:function(element,property,value){property in element.style&&(element.style[property]=value)}}),dragger,draggerCTX,placeholder,placeholderCTX;module.exports=ColumnFixation},{"./Feature":75}],70:[function(require,module){var Feature=require("./Feature"),GRAB=["grab","-moz-grab","-webkit-grab"],GRABBING=["grabbing","-moz-grabbing","-webkit-grabbing"],setName=function(name){this.cursor=name},dragger=void 0,draggerCTX=void 0,placeholder=void 0,placeholderCTX=void 0,ColumnMoving=Feature.extend("ColumnMoving",{floaterAnimationQueue:[],columnDragAutoScrollingRight:!1,columnDragAutoScrollingLeft:!1,dragging:!1,dragCol:-1,dragOffset:0,minScrollDelay:30,maxScrollDelay:100,scrollAttempt:0,initializeOn:function(grid){this.initializeAnimationSupport(grid),this.next&&this.next.initializeOn(grid)},initializeAnimationSupport:function(){dragger||(dragger=document.createElement("canvas"),dragger.setAttribute("width","0px"),dragger.setAttribute("height","0px"),dragger.style.position="fixed",document.body.appendChild(dragger),draggerCTX=dragger.getContext("2d",{alpha:!0})),placeholder||(placeholder=document.createElement("canvas"),placeholder.setAttribute("width","0px"),placeholder.setAttribute("height","0px"),placeholder.style.position="fixed",document.body.appendChild(placeholder),placeholderCTX=placeholder.getContext("2d",{alpha:!0}))},handleMouseDrag:function(grid,event){return event.isColumnFixed?void(this.next&&this.next.handleMouseDrag(grid,event)):void(this.next&&this.next.handleMouseDrag(grid,event),this.dragging&&this.dragColumn(grid,event))},handleMouseDown:function(grid,event){if(grid.behavior.isColumnReorderable()&&!event.isColumnFixed&&event.isHeaderCell&&!event.isColumnFixed&&!event.primitiveEvent.detail.isRightClick){var gridCell=event.gridCell;this.cursor=GRABBING,this.dragging=!0,this.dragCol=gridCell.x;var firstSelectedColumn=grid.getSelectedColumns()[0]||grid.renderer.visibleColumns.findIndex(function(c){return c.column===event.column}),hScrollOffset=grid.getHScrollValue(),firstSelectedColumnX=grid.renderer.visibleColumns[_Mathmax8(0,firstSelectedColumn-hScrollOffset)].left;this.dragOffset=event.primitiveEvent.detail.mouse.x-firstSelectedColumnX,this.detachChain(),this.createDragColumn(grid,this.dragCol),this.createPlaceholder(grid,this.dragCol),this.dragColumn(grid,event)}this.next&&this.next.handleMouseDown(grid,event)},handleMouseUp:function(grid,event){if(this.dragging){this.cursor=null;var self=this;this.endDragColumn(grid),setTimeout(function(){self.attachChain()},200)}this.dragCol=-1,this.dragging=!1,this.cursor=null,grid.repaint(),this.next&&this.next.handleMouseUp(grid,event)},handleMouseMove:function(grid,event){this.cursor=event.isColumnSelected&&grid.behavior.isColumnReorderable()&&!event.isColumnFixed&&!this.dragging&&event.isHeaderCell?GRAB:null,this.next&&this.next.handleMouseMove(grid,event),event.isHeaderCell&&this.dragging&&(this.cursor=GRABBING)},movePlaceholderTo:function(grid,overCol){var placeholderLineWidth=grid.properties.columnMoveInsertLineWidth,visibleColumns=grid.renderer.visibleColumns,d=placeholder;d.style.display="inline";var scrollLeft=grid.getHScrollValue(),fixedColumnCount=grid.getFixedColumnCount();overCol<fixedColumnCount&&(scrollLeft=0);var x;if(overCol>=scrollLeft+visibleColumns.length){var lastColumn=visibleColumns[visibleColumns.length-1];x=lastColumn.left+lastColumn.width}else{var supportingColumn=visibleColumns[overCol-scrollLeft];if(!supportingColumn)return;x=supportingColumn.left+placeholderLineWidth/2}this.setCrossBrowserProperty(d,"transform","translate("+x+"px, "+0+"px)"),grid.repaint()},createPlaceholder:function(grid,columnIndex){var fixedColumnCount=grid.getFixedColumnCount(),scrollLeft=grid.getHScrollValue();columnIndex<fixedColumnCount&&(scrollLeft=0);for(var width=grid.properties.columnMoveInsertLineWidth,colHeight=grid.div.clientHeight,d=placeholder,style=d.style,location=grid.div.getBoundingClientRect(),heightToSkip=0,rowsToSkip=grid.getHeaderRowCount(),i=0;i<rowsToSkip;i++)heightToSkip+=grid.getRowHeight(i);grid.properties.gridLinesH&&grid.properties.gridLinesWidth&&(heightToSkip+=grid.properties.gridLinesWidth),colHeight-=heightToSkip,style.top=location.top+heightToSkip+"px",style.left=location.left-2+"px";var hdpiRatio=grid.getHiDPI(placeholderCTX);d.setAttribute("width",_Mathround7(width*hdpiRatio)+"px"),d.setAttribute("height",_Mathround7(colHeight*hdpiRatio)+"px"),style.width=width+"px",style.height=colHeight+"px",style.backgroundColor=grid.properties.columnMoveInsertLineColor;var startX=grid.renderer.visibleColumns[columnIndex-scrollLeft].left*hdpiRatio;placeholderCTX.scale(hdpiRatio,hdpiRatio),grid.renderOverridesCache.floater={columnIndex:columnIndex,startX:startX},style.zIndex="4",GRABBING.forEach(setName,style),grid.repaint()},setCrossBrowserProperty:function(element,property,value){var uProperty=property[0].toUpperCase()+property.substr(1);this.setProp(element,"webkit"+uProperty,value),this.setProp(element,"Moz"+uProperty,value),this.setProp(element,"ms"+uProperty,value),this.setProp(element,"O"+uProperty,value),this.setProp(element,property,value)},setProp:function(element,property,value){property in element.style&&(element.style[property]=value)},createDragColumn:function(grid,columnIndex){var hdpiRatio=grid.getHiDPI(draggerCTX),selectedColumns=grid.getSelectedColumns(),consequent=this._isConsequent(selectedColumns),columns=consequent?selectedColumns:[columnIndex],columnWidth=0;columns.forEach(function(col){columnWidth+=grid.getColumnWidth(col)});var colHeight=grid.div.clientHeight,d=dragger,location=grid.div.getBoundingClientRect(),style=d.style,offsetY=grid.getFixedRowsHeight();style.top=location.top+offsetY+"px",style.left=location.left+"px",style.opacity=.15,style.border="1px solid #4285F4",style.backgroundColor="rgb(0, 0, 0)",d.setAttribute("width",_Mathround7(columnWidth*hdpiRatio)+"px"),d.setAttribute("height",_Mathround7(colHeight*hdpiRatio)+"px"),style.width=columnWidth+"px",style.height=colHeight-offsetY+"px",draggerCTX.scale(hdpiRatio,hdpiRatio),grid.renderOverridesCache.dragger={columnIndex:columnIndex,startIndex:columnIndex},style.zIndex="5",GRABBING.forEach(setName,style),grid.repaint()},dragColumn:function(grid,event){var x=event.primitiveEvent.detail.mouse.x,distance=x-this.dragOffset,autoScrollingNow=this.columnDragAutoScrollingRight||this.columnDragAutoScrollingLeft,dragColumnIndex=grid.renderOverridesCache.dragger.startIndex,minX=0,maxX=grid.renderer.getFinalVisibleColumnBoundary(),d=dragger;this.setCrossBrowserProperty(d,"transform","translate("+distance+"px, "+0+"px)"),requestAnimationFrame(function(){d.style.display="inline"});var threshold=20;x<minX+threshold&&this.checkAutoScrollToLeft(grid,x),x>minX+threshold&&(this.columnDragAutoScrollingLeft=!1,this.resetScrollDelay()),x>maxX-threshold&&this.checkAutoScrollToRight(grid,x),x<maxX-threshold&&(this.columnDragAutoScrollingRight=!1,this.resetScrollDelay());var overCol=grid.renderer.getColumnFromPixelX(x),selectedColumns=grid.getSelectedColumns(),visibleColumns=grid.renderer.visibleColumns,placeholderCol=-1;if(!autoScrollingNow){if(!selectedColumns.slice(1).includes(overCol)){grid.renderOverridesCache.dragger.columnIndex=overCol;var draggedToTheRight=dragColumnIndex<overCol;draggedToTheRight&&(overCol+=1),placeholderCol=overCol}else{var firstSelectedColumnIndex=selectedColumns[0],firstVisibleColumnIndex=visibleColumns[0].columnIndex,lastSelectedColumnIndex=selectedColumns[selectedColumns.length-1]+2,lastVisibleColumnIndex=visibleColumns[visibleColumns.length-1].columnIndex;firstVisibleColumnIndex<firstSelectedColumnIndex?placeholderCol=firstSelectedColumnIndex:lastVisibleColumnIndex>lastSelectedColumnIndex&&(placeholderCol=lastSelectedColumnIndex)}-1<placeholderCol&&this.movePlaceholderTo(grid,placeholderCol)}},resetScrollDelay:function(){this.scrollAttempt=0},getScrollDelay:function(){return _Mathmax8(this.minScrollDelay,this.maxScrollDelay-5*this.scrollAttempt++)},checkAutoScrollToRight:function(grid,x){this.columnDragAutoScrollingRight||(this.columnDragAutoScrollingRight=!0,this._checkAutoScrollToRight(grid,x))},_checkAutoScrollToRight:function(grid,x){if(this.columnDragAutoScrollingRight){var scrollLeft=grid.getHScrollValue();if(grid.dragging&&!(scrollLeft>grid.sbHScroller.range.max-2)){grid.scrollBy(1,0);var visibleColumns=grid.renderer.visibleColumns,placeholderCol=visibleColumns[visibleColumns.length-1].columnIndex+1;this.movePlaceholderTo(grid,placeholderCol),grid.renderOverridesCache.dragger.columnIndex+=1,setTimeout(this._checkAutoScrollToRight.bind(this,grid,x),this.getScrollDelay())}}},checkAutoScrollToLeft:function(grid,x){this.columnDragAutoScrollingLeft||(this.columnDragAutoScrollingLeft=!0,this._checkAutoScrollToLeft(grid,x))},_checkAutoScrollToLeft:function(grid,x){if(this.columnDragAutoScrollingLeft){var scrollLeft=grid.getHScrollValue();if(grid.dragging&&!(1>scrollLeft)){grid.scrollBy(-1,0);var visibleColumns=grid.renderer.visibleColumns,placeholderCol=visibleColumns[0].columnIndex-1;this.movePlaceholderTo(grid,placeholderCol),grid.renderOverridesCache.dragger.columnIndex-=1,setTimeout(this._checkAutoScrollToLeft.bind(this,grid,x),this.getScrollDelay())}}},endDragColumn:function(grid){var d=dragger,changed=grid.renderOverridesCache.dragger.startIndex!==grid.renderOverridesCache.dragger.columnIndex,selectedColumns=grid.getSelectedColumns(),consequent=this._isConsequent(selectedColumns),placeholderIndex=grid.renderOverridesCache.dragger.columnIndex,draggerIndex=grid.renderOverridesCache.dragger.startIndex,from=consequent?selectedColumns[0]:[draggerIndex],len=consequent?selectedColumns.length:1;grid.moveColumns(from,len,placeholderIndex);var f=placeholder;requestAnimationFrame(function(){f.style.display="none"}),grid.renderOverridesCache.dragger=null,grid.repaint(),grid.clearSelections();var startNewSelectionFrom;startNewSelectionFrom=from<placeholderIndex?placeholderIndex-(len-1):placeholderIndex,grid.selectColumn(startNewSelectionFrom,startNewSelectionFrom+(len-1)),requestAnimationFrame(function(){d.style.display="none",grid.endDragColumnNotification(),changed&&grid.fireSyntheticOnColumnsChangedEvent()})},_isConsequent:function(arr){var consequent=!0;if(1<arr.length){arr.sort();for(var i=0;i<arr.length-1;i++)1!=arr[i+1]-arr[i]&&(consequent=!1)}return consequent}});module.exports=ColumnMoving},{"./Feature":75}],71:[function(require,module){"use strict";var Feature=require("./Feature"),ColumnResizing=Feature.extend("ColumnResizing",{dragStart:-1,dragStartWidth:-1,getMouseValue:function(event){return event.primitiveEvent.detail.mouse.x},overAreaDivider:function(grid,event){var leftMostColumnIndex=grid.behavior.leftMostColIndex;if(event.gridCell.x!==leftMostColumnIndex&&3>=event.mousePoint.x){var leftColumn=grid.behavior.getColumnShifted(event.gridCell.x,!1);if(leftColumn&&!leftColumn.properties.fixed)return!0}if(event.mousePoint.x>=event.bounds.width-3){var column=grid.behavior.getColumn(event.gridCell.x);if(column&&!column.properties.fixed)return!0}return!1},getCursorName:function(){return"col-resize"},handleMouseDrag:function(grid,event){if(this.dragColumn){var delta=this.getMouseValue(event)-this.dragStart;grid.behavior.setColumnWidth(this.dragColumn,this.dragStartWidth+delta)}else this.next&&this.next.handleMouseDrag(grid,event)},handleMouseDown:function(grid,event){if(event.isHeaderRow&&this.overAreaDivider(grid,event)){if(3>=event.mousePoint.x){var columnIndex=event.gridCell.x-1;this.dragColumn=grid.behavior.getActiveColumn(columnIndex);var visibleColIndex=grid.behavior.rowColumnIndex,dragColumn=this.dragColumn;grid.renderer.visibleColumns.forEachWithNeg(function(vCol,vIndex){var col=vCol.column;col.index===dragColumn.index&&(visibleColIndex=vIndex)}),this.dragStartWidth=grid.renderer.visibleColumns[visibleColIndex].width}else this.dragColumn=event.column,this.dragStartWidth=event.bounds.width;this.dragStart=this.getMouseValue(event)}else this.next&&this.next.handleMouseDown(grid,event)},handleMouseUp:function(grid,event){this.dragColumn?(this.callCallbackIfNeeded(grid,this.dragColumn),this.cursor=null,this.dragColumn=!1,event.primitiveEvent.stopPropagation(),grid.behaviorShapeChanged()):this.next&&this.next.handleMouseUp(grid,event)},handleMouseMove:function(grid,event){this.dragColumn||(this.cursor=null,this.next&&this.next.handleMouseMove(grid,event),this.cursor=event.isHeaderRow&&this.overAreaDivider(grid,event)?this.getCursorName():null)},handleDoubleClick:function(grid,event){if(event.isHeaderRow&&this.overAreaDivider(grid,event)){var column=3>=event.mousePoint.x?grid.behavior.getActiveColumn(event.gridCell.x-1):event.column;grid.autosizeColumn(column),column.addProperties({columnAutosizing:!0,columnAutosized:!1}),column.colDef&&delete column.colDef.width,this.callCallbackIfNeeded(grid,column)}else this.next&&this.next.handleDoubleClick(grid,event)},callCallbackIfNeeded:function(grid,column){grid.onColumnResized&&this.dragStartWidth!==_Mathround7(column.getWidth())&&grid.onColumnResized(column)}});module.exports=ColumnResizing},{"./Feature":75}],72:[function(require,module){"use strict";var Feature=require("./Feature"),ColumnSelection=Feature.extend("ColumnSelection",{currentDrag:null,lastDragColumn:null,sbLastAuto:0,sbAutoStart:0,handleMouseUp:function(grid,event){this.dragging&&(this.dragging=!1),this.next&&this.next.handleMouseUp(grid,event)},handleDoubleClick:function(grid,event){this.doubleClickTimer&&(clearTimeout(this.doubleClickTimer),this.doubleClickTimer=void 0),this.next&&this.next.handleDoubleClick(grid,event)},handleMouseDown:function(grid,event){this.doubleClickTimer||(!event.isColumnSelected&&grid.properties.columnSelection&&!event.primitiveEvent.detail.isRightClick&&event.isHeaderCell?(this.dragging=!0,this.extendSelection(grid,event.gridCell.x,event.primitiveEvent.detail.keys)):this.next&&this.next.handleMouseDown(grid,event))},handleMouseDrag:function(grid,event){grid.properties.columnSelection&&!this.isColumnDragging(grid)&&!event.primitiveEvent.detail.isRightClick&&this.dragging?(this.lastDragColumn=event.gridCell.x,this.currentDrag=event.primitiveEvent.detail.mouse,this.checkDragScroll(grid,this.currentDrag),this.handleMouseDragCellSelection(grid,this.lastDragColumn,event.primitiveEvent.detail.keys)):this.next&&this.next.handleMouseDrag(grid,event)},handleKeyDown:function(grid,event){var detail=event.detail,handler="column"===grid.getLastSelectionType()&&this["handle"+detail.char];handler?handler.call(this,grid,detail):this.next&&this.next.handleKeyDown(grid,event)},handleMouseDragCellSelection:function(grid,x){var mouseX=grid.getMouseDown().x;grid.clearMostRecentColumnSelection(),grid.selectColumn(mouseX,x),grid.setDragExtent(grid.newPoint(x-mouseX,0)),grid.repaint()},checkDragScroll:function(grid,mouse){grid.properties.scrollingEnabled&&grid.getDataBounds().contains(mouse)?grid.isScrollingNow()&&grid.setScrollingNow(!1):!grid.isScrollingNow()&&(grid.setScrollingNow(!0),this.scrollDrag(grid))},scrollDrag:function(grid){if(grid.isScrollingNow()){var b=grid.getDataBounds(),xOffset;this.currentDrag.x<b.origin.x?xOffset=-1:this.currentDrag.x>b.origin.x+b.extent.x&&(xOffset=1),xOffset&&(this.lastDragColumn>=grid.getFixedColumnCount()&&(this.lastDragColumn+=xOffset),grid.scrollBy(xOffset,0)),this.handleMouseDragCellSelection(grid,this.lastDragColumn,[]),grid.repaint(),setTimeout(this.scrollDrag.bind(this,grid),25)}},extendSelection:function(grid,x,keys){if(grid.abortEditing()){var mouseX=grid.getMouseDown().x,hasSHIFT=0<keys.indexOf("SHIFT");0>x||(hasSHIFT?(grid.clearMostRecentColumnSelection(),grid.selectColumn(x,mouseX),grid.setDragExtent(grid.newPoint(x-mouseX,0))):(grid.toggleSelectColumn(x,keys),grid.setMouseDown(grid.newPoint(x,0)),grid.setDragExtent(grid.newPoint(0,0))),grid.repaint())}},handleDOWNSHIFT:function(){},handleUPSHIFT:function(){},handleLEFTSHIFT:function(grid){this.moveShiftSelect(grid,-1)},handleRIGHTSHIFT:function(grid){this.moveShiftSelect(grid,1)},handleDOWN:function(){},handleUP:function(){},handleLEFT:function(grid){this.moveSingleSelect(grid,-1)},handleRIGHT:function(grid){this.moveSingleSelect(grid,1)},getAutoScrollAcceleration:function(){var elapsed=this.getAutoScrollDuration()/2e3;return _Mathmax8(1,_Mathfloor7(elapsed*elapsed*elapsed*elapsed))},setAutoScrollStartTime:function(){this.sbAutoStart=Date.now()},pingAutoScroll:function(){var now=Date.now();500<now-this.sbLastAuto&&this.setAutoScrollStartTime(),this.sbLastAuto=Date.now()},getAutoScrollDuration:function(){return 500<Date.now()-this.sbLastAuto?0:Date.now()-this.sbAutoStart},moveShiftSelect:function(grid,offsetX){var origin=grid.getMouseDown(),extent=grid.getDragExtent(),newX=extent.x+offsetX,maxViewableColumns=grid.renderer.visibleColumns.length-1,maxColumns=grid.getColumnCount()-1;grid.properties.scrollingEnabled||(maxColumns=_Mathmin7(maxColumns,maxViewableColumns)),newX=_Mathmin7(maxColumns-origin.x,_Mathmax8(-origin.x,newX)),grid.clearMostRecentColumnSelection(),grid.selectColumn(origin.x,origin.x+newX),grid.setDragExtent(grid.newPoint(newX,0)),grid.insureModelColIsVisible(newX+origin.x,offsetX)&&this.pingAutoScroll(),grid.repaint()},moveSingleSelect:function(grid,offsetX){var extent=grid.getDragExtent(),mouseCorner=grid.getMouseDown().plus(extent),newX=mouseCorner.x+offsetX,maxColumns=grid.getColumnCount()-1,maxViewableColumns=grid.getVisibleColumnsCount()-1;grid.properties.scrollingEnabled||(maxColumns=_Mathmin7(maxColumns,maxViewableColumns)),newX=_Mathmin7(maxColumns,_Mathmax8(0,newX)),grid.clearSelections(),grid.selectColumn(newX),grid.setMouseDown(grid.newPoint(newX,0)),grid.setDragExtent(grid.newPoint(0,0)),grid.insureModelColIsVisible(newX,offsetX)&&this.pingAutoScroll(),grid.repaint()},isColumnDragging:function(grid){var dragger=grid.lookupFeature("ColumnMoving");return dragger&&dragger.dragging&&!this.dragging}});module.exports=ColumnSelection},{"./Feature":75}],73:[function(require,module){"use strict";function sort(grid,event,onDoubleClick){var columnProperties;!event.isHeaderCell||(columnProperties=event.columnProperties).unsortable||columnProperties.sortOnDoubleClick^onDoubleClick||grid.fireSyntheticColumnSortEvent(event.gridCell.x,event.primitiveEvent.detail.keys),this.next&&this.next[onDoubleClick?"handleDoubleClick":"handleClick"](grid,event)}var Feature=require("./Feature"),ColumnSorting=Feature.extend("ColumnSorting",{handleClick:function(grid,event){sort.call(this,grid,event)},handleDoubleClick:function(grid,event){sort.call(this,grid,event,!0)},handleMouseMove:function(grid,event){var columnProperties;this.cursor=event.isRowFixed&&event.isHeaderCell&&(columnProperties=grid.behavior.getColumnProperties(event.gridCell.x))&&!columnProperties.unsortable?"pointer":null,this.next&&this.next.handleMouseMove(grid,event)}});module.exports=ColumnSorting},{"./Feature":75}],74:[function(require,module){var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},Feature=require("./Feature"),ContextMenu=Feature.extend("ContextMenu",{initializeOn:function(grid){menuDiv||(menuDiv=this.initializeContextMenuDiv()),this.next&&this.next.initializeOn(grid)},initializeContextMenuDiv:function(){var menuHolderDiv=document.createElement("div");return menuHolderDiv.style.display="none",menuHolderDiv.style.position="fixed",menuHolderDiv.setAttribute("class","ag-custom"),document.body.appendChild(menuHolderDiv),{element:menuHolderDiv,related:[]}},handleMouseDown:function(grid,event){this.hideContextMenu(menuDiv),this.next&&this.next.handleMouseDown(grid,event)},onApiDestroyCalled:function(grid,event){this.hideContextMenu(menuDiv),this.next&&this.next.onApiDestroyCalled(grid,event)},handleCanvasOutsideMouseDown:function(grid,event){this.hideContextMenu(menuDiv),this.next&&this.next.handleCanvasOutsideMouseDown(grid,event)},handleClick:function(grid,event){this.hideContextMenu(menuDiv);var isCursorOverContextMenuIcon=this.overContextMenuCell(grid,event),contextMenuIconRightX=event.bounds.x+event.bounds.width-grid.properties.contextMenuButtonRightMargin,contextMenuIconLeftX=contextMenuIconRightX-grid.properties.contextMenuButtonIconPreferedWidth-2*grid.properties.contextMenuButtonPadding;if(isCursorOverContextMenuIcon){var contextMenu=grid.behavior.getCellProperties(event).cellContextMenu||grid.properties.cellContextMenu;event.isHeaderRow&&grid.properties.headerContextMenu&&(contextMenu=grid.properties.headerContextMenu);var rightToLeft=event.primitiveEvent.detail.mouse.x+200>=window.innerWidth,startX=rightToLeft?contextMenuIconRightX:contextMenuIconLeftX;startX+=grid.canvas.size.left,this.paintContextMenu(menuDiv,grid,event,contextMenu,startX,event.bounds.y+event.bounds.height+grid.canvas.size.top,rightToLeft)}this.next&&this.next.handleClick(grid,event)},updateSelections:function(grid,event){event.isHeaderRow&&event.isHandleColumn&&!event.isDataRow?(grid.clearSelections(),grid.selectionModel.selectAllRows()):event.isHeaderRow&&!event.isColumnSelected?(grid.clearSelections(),grid.selectColumn(event.dataCell.x,event.dataCell.x)):event.isHandleColumn&&event.isDataRow&&!event.isRowSelected?(grid.clearSelections(),grid.selectRow(event.dataCell.y,event.dataCell.y)):!event.isCellSelected&&(grid.clearSelections(),grid.select(event.dataCell.x,event.dataCell.y,0,0))},handleContextMenu:function(grid,event){var contextMenu;if(contextMenu=event.isHeaderRow&&grid.properties.headerContextMenu?grid.properties.headerContextMenu:grid.behavior.getCellProperties(event).cellContextMenu||grid.properties.cellContextMenu,this.updateSelections(grid,event),event.isHandleColumn){var point=grid.selectionModel.getFirstSelectedCellOfLastSelection();point&&(contextMenu=grid.behavior.getCellProperties(point.x,point.y).cellContextMenu||grid.properties.cellContextMenu)}var rightToLeft=event.primitiveEvent.detail.mouse.x+200>=window.innerWidth;this.paintContextMenu(menuDiv,grid,event,contextMenu,event.primitiveEvent.detail.mouse.x+grid.canvas.size.left,event.primitiveEvent.detail.mouse.y+grid.canvas.size.top+25,rightToLeft),this.next&&this.next.handleContextMenu(grid,event)},handleMouseMove:function(grid,event){var stateChanged=!1,isCursorOverContextMenuIcon=this.overContextMenuCell(grid,event),isPreviousCellEventExist=!!previousHoveredCellEvent;isCursorOverContextMenuIcon?(!previousHoveredCellEvent||event.bounds.x!==previousHoveredCellEvent.bounds.x||event.bounds.y!==previousHoveredCellEvent.bounds.y)&&(grid.behavior.setCellProperty(event.dataCell.x,event.dataCell.y,"contextMenuIconIsHovered",!0),event.contextMenuIconIsHovered=!0,stateChanged=!0,previousHoveredCellEvent=event,this.cursor="pointer"):(isPreviousCellEventExist&&(grid.behavior.setCellProperty(previousHoveredCellEvent.dataCell.x,previousHoveredCellEvent.dataCell.y,"contextMenuIconIsHovered",!1),event.contextMenuIconIsHovered=!1,previousHoveredCellEvent=null,stateChanged=!0),this.cursor=null),stateChanged&&grid.repaint(),this.next&&this.next.handleMouseMove(grid,event)},handleDataAdded:function(grid,event){this.hideContextMenu(menuDiv),this.next&&this.next.handleDataAdded(grid,event)},overContextMenuCell:function(grid,event){var cellHasContextMenuItem=event.properties.showCellContextMenuIcon||event.rowProperties&&event.rowProperties.showCellContextMenuIcon||event.cellOwnProperties&&event.cellOwnProperties.showCellContextMenuIcon;if(!cellHasContextMenuItem)return!1;var eventCellRightX=event.bounds.width,contextMenuIconRightX=eventCellRightX-grid.properties.contextMenuButtonRightMargin,typeSignWidth=0;if(event.column.schema&&event.column.schema.colTypeSign){var gc=grid.canvas.gc,prevFontState=gc.cache.font,prevFillStyleState=gc.cache.fillStyle,config=event.properties;gc.cache.font=config.columnTypeSignFont,gc.cache.fillStyle=config.columnTypeSignColor,typeSignWidth=gc.measureText(event.column.schema.colTypeSign).width,typeSignWidth+=config.contextMenuLeftSpaceToCutText,gc.cache.font=prevFontState,gc.cache.fillStyle=prevFillStyleState}var contextMenuIconLeftX=contextMenuIconRightX-grid.properties.contextMenuButtonIconPreferedWidth-2*grid.properties.contextMenuButtonPadding-typeSignWidth,contextMenuIconTopY=event.bounds.height/2-grid.properties.contextMenuButtonHeight/2,contextMenuIconBottomY=contextMenuIconTopY+grid.properties.contextMenuButtonHeight;return event.mousePoint.x<=contextMenuIconRightX&&event.mousePoint.x>=contextMenuIconLeftX&&event.mousePoint.y<=contextMenuIconBottomY&&event.mousePoint.y>=contextMenuIconTopY},paintContextMenu:function(menuHolderDiv,grid,event,items,x,y,rightToLeft){var _this=this;this.hideContextMenu(menuHolderDiv);var menuListHolderDiv=document.createElement("div");menuListHolderDiv.setAttribute("class","ag-menu"),menuHolderDiv.element.appendChild(menuListHolderDiv),"function"==typeof items&&(items=items({column:event.column,node:{data:event.dataRow,level:event.column.treeLevel},value:event.value})),items.forEach(function(item){_this.makeContextMenuItem(grid,event,menuHolderDiv,menuListHolderDiv,item)}),grid.properties.applyContextMenuStyling&&(grid.properties.contextMenuHolderStyle&&Object.assign(menuHolderDiv.element.style,grid.properties.contextMenuHolderStyle),grid.properties.applyContextMenuStyling&&Object.assign(menuListHolderDiv.style,grid.properties.contextMenuListStyle)),this.showContextMenu(menuHolderDiv,x,y,rightToLeft)},makeContextMenuItem:function(grid,event,menuHolderDiv,menuListHolderDiv,item){if(item.hasOwnProperty("isShown")){if("function"==typeof item.isShown&&!item.isShown(event))return;if(!item.isShown)return}var self=this,menuOption=document.createElement("div");if(menuOption.style.display="block",menuOption.setAttribute("class","ag-menu-option"),"object"===("undefined"==typeof item?"undefined":_typeof(item))){var menuOptionIconSpan=document.createElement("span");menuOptionIconSpan.setAttribute("class","ag-menu-option-icon"),menuOptionIconSpan.setAttribute("id","eIcon"),menuOption.appendChild(menuOptionIconSpan),item.icon&&(menuOptionIconSpan.innerHTML=item.icon);var menuOptionNameSpan=document.createElement("span");menuOptionNameSpan.setAttribute("class","ag-menu-option-text"),menuOptionNameSpan.setAttribute("id","eName"),menuOptionNameSpan.innerHTML=item.title||item.name,menuOption.appendChild(menuOptionNameSpan);var menuOptionShortcutSpan=document.createElement("span");menuOptionShortcutSpan.setAttribute("class","context-menu-option-shortcut"),menuOptionShortcutSpan.setAttribute("id","eShortcut"),menuOption.appendChild(menuOptionShortcutSpan);var menuOptionPopupPointerSpan=document.createElement("span");menuOptionPopupPointerSpan.setAttribute("class","context-menu-option-popup-pointer"),menuOptionPopupPointerSpan.setAttribute("id","ePopupPointer"),item.childMenu&&item.childMenu.length&&(menuOptionPopupPointerSpan.innerHTML=grid.properties.contextMenuChildMenuArrowIconTag),menuOption.appendChild(menuOptionPopupPointerSpan),menuOption.addEventListener("click",function(clickEvent){item.action&&(grid.menuClick=!0,item.action(clickEvent,event),delete grid.menuClick),self.hideContextMenu(menuDiv)}),grid.properties.applyContextMenuStyling&&(grid.properties.contextMenuListOptionStyle&&Object.assign(menuOption.style,grid.properties.contextMenuListOptionStyle),grid.properties.contextMenuListOptionIconStyle&&Object.assign(menuOptionIconSpan.style,grid.properties.contextMenuListOptionIconStyle),grid.properties.contextMenuListOptionTextStyle&&Object.assign(menuOptionNameSpan.style,grid.properties.contextMenuListOptionTextStyle),grid.properties.contextMenuListOptionShortcutStyle&&Object.assign(menuOptionShortcutSpan.style,grid.properties.contextMenuListOptionShortcutStyle),grid.properties.contextMenuListOptionPopupPointerStyle&&Object.assign(menuOptionPopupPointerSpan.style,grid.properties.contextMenuListOptionPopupPointerStyle)),menuOption.addEventListener("mouseenter",function(event){if(self.closeAllChilds(menuHolderDiv),item.childMenu&&item.childMenu.length&&!item.childMenuDiv){item.childMenuDiv=self.initializeContextMenuDiv(),menuHolderDiv.related.push(item.childMenuDiv);var rectangle=menuOption.getBoundingClientRect(),rightBorderX=rectangle.right;rightBorderX+200>window.innerWidth?self.paintContextMenu(item.childMenuDiv,grid,event,item.childMenu,rectangle.left,rectangle.top,!0):self.paintContextMenu(item.childMenuDiv,grid,event,item.childMenu,rightBorderX,rectangle.top)}}),menuOption.addEventListener("mouseover",function(){grid.properties.applyContextMenuStyling&&grid.properties.contextMenuListOptionHoverStyle&&Object.assign(menuOption.style,grid.properties.contextMenuListOptionHoverStyle)}),menuOption.addEventListener("mouseleave",function(event){grid.properties.applyContextMenuStyling&&grid.properties.contextMenuListOptionStyle&&Object.assign(menuOption.style,grid.properties.contextMenuListOptionStyle),item.childMenuDiv&&!self.isElementContainsChild(item.childMenuDiv.element,event.relatedTarget)&&(self.hideContextMenu(item.childMenuDiv),self.removeDOMElement(item.childMenuDiv.element),item.childMenuDiv=null)})}else if("separator"===item){menuOption.className="ag-menu-separator";var hrElement=document.createElement("hr");menuOption.appendChild(hrElement),grid.properties.applyContextMenuStyling&&grid.properties.contextMenuSeparatorStyle&&Object.assign(hrElement.style,grid.properties.contextMenuSeparatorStyle)}menuListHolderDiv.appendChild(menuOption)},clearContextMenu:function(menuHolderDiv){for(;menuHolderDiv.element.firstChild;)menuHolderDiv.element.removeChild(menuHolderDiv.element.firstChild);this.closeAllChilds(menuHolderDiv)},closeAllChilds:function(menuHolderDiv){for(;menuHolderDiv.related.length;)this.hideContextMenu(menuHolderDiv.related[0]),menuHolderDiv.related.shift()},showContextMenu:function(menuHolderDiv,x,y,rightToLeft){menuHolderDiv.element.style.display="block",menuHolderDiv.element.style.top=y+"px";var startX=x;rightToLeft&&(startX=x-menuHolderDiv.element.offsetWidth),menuHolderDiv.element.style.left=startX+"px"},hideContextMenu:function(menuHolderDiv){this.clearContextMenu(menuHolderDiv),menuHolderDiv.element.style.display="none"},removeDOMElement:function(element){element.remove()},isElementContainsChild:function(element,concreteChild){if(element===concreteChild)return!0;for(var child=element.firstChild;child;child=child.nextSibling){if(child===concreteChild)return!0;var isChildContainsElement=this.isElementContainsChild(child,concreteChild);if(isChildContainsElement)return!0}return!1}}),menuDiv,previousHoveredCellEvent;module.exports=ContextMenu},{"./Feature":75}],75:[function(require,module){"use strict";var Base=require("../Base"),Feature=Base.extend("Feature",{next:null,detached:null,cursor:null,currentHoverCell:null,setNext:function(nextFeature){this.next?this.next.setNext(nextFeature):(this.next=nextFeature,this.detached=nextFeature)},detachChain:function(){this.next=null},attachChain:function(){this.next=this.detached},handleMouseMove:function(grid,event){this.next&&this.next.handleMouseMove(grid,event)},handleDataAdded:function(grid,event){this.next&&this.next.handleDataAdded(grid,event)},handleMouseExit:function(grid,event){this.next&&this.next.handleMouseExit(grid,event)},handleMouseEnter:function(grid,event){this.next&&this.next.handleMouseEnter(grid,event)},handleMouseDown:function(grid,event){this.next&&this.next.handleMouseDown(grid,event)},onApiDestroyCalled:function(grid,event){this.next&&this.next.onApiDestroyCalled(grid,event)},handleCanvasOutsideMouseDown:function(grid,event){this.next&&this.next.handleCanvasOutsideMouseDown(grid,event)},handleMouseUp:function(grid,event){this.next&&this.next.handleMouseUp(grid,event)},handleKeyDown:function(grid,event){return!this.next||void this.next.handleKeyDown(grid,event)},handleKeyUp:function(grid,event){this.next&&this.next.handleKeyUp(grid,event)},handleWheelMoved:function(grid,event){this.next&&this.next.handleWheelMoved(grid,event)},handleDoubleClick:function(grid,event){this.next&&this.next.handleDoubleClick(grid,event)},handleClick:function(grid,event){this.next&&this.next.handleClick(grid,event)},handleMouseDrag:function(grid,event){this.next&&this.next.handleMouseDrag(grid,event)},handleContextMenu:function(grid,event){this.next&&this.next.handleContextMenu(grid,event)},moveSingleSelect:function(grid,x,y){this.next&&this.next.moveSingleSelect(grid,x,y)},isFirstFixedRow:function(grid,event){return 1>event.gridCell.y},isFirstFixedColumn:function(grid,event){return 0===event.gridCell.x},setCursor:function(grid){this.next&&this.next.setCursor(grid),this.cursor&&grid.beCursor(this.cursor)},initializeOn:function(grid){this.next&&this.next.initializeOn(grid)},handleGridRendered:function(grid,event){this.next&&this.next.handleGridRendered(grid,event)},handleDataShapeChanged:function(grid,event){this.next&&this.next.handleGridRendered(grid,event)},handleColumnResizedEvent:function(grid,event){this.next&&this.next.handleColumnResizedEvent(grid,event)}});module.exports=Feature},{"../Base":17}],76:[function(require,module){"use strict";function moveLaterally(grid,detail,deltaX){var cellEvent=detail.editor.event,gridX=cellEvent.visibleColumn.index,gridY=cellEvent.visibleRow.index,originX=gridX,C=grid.renderer.visibleColumns.length;for(cellEvent=new grid.behavior.CellEvent;(gridX=(gridX+deltaX+C)%C)!==originX&&cellEvent.resetGridXY(gridX,gridY);)if(cellEvent.properties.filterable)return void grid.editAt(cellEvent);moveDown(grid,cellEvent)}function moveDown(grid,detail){var cellEvent=detail.editor.event,gridX=cellEvent.visibleColumn.index;grid.selectViewportCell(gridX,0),grid.takeFocus()}var Feature=require("./Feature"),Filters=Feature.extend("Filters",{handleKeyDown:function(grid,event){var detail=event.detail,cellEvent,mappedNavKey,handler;detail.editor&&(cellEvent=detail.editor.event,cellEvent.isFilterCell&&(mappedNavKey=cellEvent.properties.mappedNavKey(detail.char),handler=this["handle"+mappedNavKey])),handler?handler.call(this,grid,detail):this.next&&this.next.handleKeyDown(grid,event)},handleLEFT:function(grid,detail){moveLaterally(grid,detail,-1)},handleRIGHT:function(grid,detail){moveLaterally(grid,detail,+1)},handleUP:moveDown,handleDOWN:moveDown,handleDoubleClick:function(grid,event){event.isFilterCell?grid.onEditorActivate(event):this.next&&this.next.handleDoubleClick(grid,event)},handleClick:function(grid,event){event.isFilterCell?grid.onEditorActivate(event):this.next&&this.next.handleClick(grid,event)}});module.exports=Filters},{"./Feature":75}],77:[function(require,module){"use strict";var Feature=require("./Feature"),commands={PAGEDOWN:function(grid){grid.pageDown()},PAGEUP:function(grid){grid.pageUp()},PAGELEFT:function(grid){grid.pageLeft()},PAGERIGHT:function(grid){grid.pageRight()}},KeyPaging=Feature.extend("KeyPaging",{handleKeyDown:function(grid,event){var func=commands[event.detail.char];func?func(grid):this.next&&this.next.handleKeyDown(grid,event)}});module.exports=KeyPaging},{"./Feature":75}],78:[function(require,module){var Feature=require("./Feature"),detailsShownOnDataCell=null,detailsHideTimeout=null,LinkDetails=Feature.extend("LinkDetails",{initializeOn:function(grid){detailsHolderElement||(detailsHolderElement=this.initializeLinkDetailsDiv()),this.next&&this.next.initializeOn(grid)},initializeLinkDetailsDiv:function(){var holderElement=document.createElement("a");return holderElement.style.display="none",holderElement.setAttribute("class","fin-link-details-div"),document.body.appendChild(holderElement),holderElement},onApiDestroyCalled:function(grid,event){this.hideLinkDetails(grid,detailsHolderElement),this.next&&this.next.onApiDestroyCalled(grid,event)},handleCanvasOutsideMouseDown:function(grid,event){this.hideLinkDetails(grid,detailsHolderElement),this.next&&this.next.handleCanvasOutsideMouseDown(grid,event)},handleClick:function(grid,event){detailsShownOnDataCell&&(detailsShownOnDataCell.x!==event.gridCell.x||detailsShownOnDataCell.y!==event.gridCell.y)&&this.hideLinkDetails(grid,detailsHolderElement),this.next&&this.next.handleClick(grid,event)},handleWheelMoved:function(grid,event){this.hideLinkDetails(grid,detailsHolderElement),this.next&&this.next.handleWheelMoved(grid,event)},handleMouseMove:function(grid,event){if(!detailsShownOnDataCell||detailsShownOnDataCell.x!==event.gridCell.x||detailsShownOnDataCell.y!==event.gridCell.y)if(event.properties.link||event.properties.detectLinksPermanently&&event.isValueUrl){this.hideLinkDetails(grid,detailsHolderElement);var linkToDisplay=event.properties.link?event.properties.link:event.value;this.paintLinkDetails(detailsHolderElement,grid,linkToDisplay,event.bounds),detailsShownOnDataCell=event.gridCell}else detailsShownOnDataCell&&this.hideLinkDetailsTimeouted(grid,detailsHolderElement);this.next&&this.next.handleMouseMove(grid,event)},paintLinkDetails:function(linkDetailsHolderElement,grid,linkValue,cellBounds){var _this=this;this.hideLinkDetails(grid,linkDetailsHolderElement);var links=linkValue;Array.isArray(linkValue)||(links=[linkValue]),links.forEach(function(l){var outerDiv=document.createElement("div"),detailsLink=document.createElement("a");grid.properties.linkDetailsAnchorStyle&&Object.assign(detailsLink.style,grid.properties.linkDetailsAnchorStyle),linkDetailsHolderElement.href=l,linkDetailsHolderElement.target="_blank",detailsLink.href=l;var truncatedLink=_this.truncateString(l,grid.properties.linkDetailsMaxStringLength,"...");detailsLink.text=truncatedLink+"  ",detailsLink.target="_blank";var detailsLinkIcon=document.createElement("i");detailsLinkIcon.setAttribute("class","fa fa-external-link"),detailsLink.appendChild(detailsLinkIcon),outerDiv.appendChild(detailsLink),linkDetailsHolderElement.appendChild(outerDiv),linkDetailsHolderElement.onmouseover=function(){Object.assign(linkDetailsHolderElement.style,grid.properties.linkDetailsHoveredStyle)},linkDetailsHolderElement.onmouseout=function(){Object.assign(linkDetailsHolderElement.style,grid.properties.linkDetailsStyle)}}),grid.properties.linkDetailsStyle&&Object.assign(linkDetailsHolderElement.style,grid.properties.linkDetailsStyle),this.showLinkDetails(grid,linkDetailsHolderElement,cellBounds)},showLinkDetails:function(grid,linkDetailsHolderElement,cellBounds){linkDetailsHolderElement.style.display="block";var holderComputedStyles=window.getComputedStyle(linkDetailsHolderElement),startY=void 0,startX=void 0,bottomToTop=!0,holderHeight=holderComputedStyles.height.replace("px","");cellBounds.y<holderHeight&&+cellBounds.y+ +holderHeight<window.innerHeight&&(bottomToTop=!1),bottomToTop?(startY=cellBounds.y+grid.canvas.size.top-holderComputedStyles.height.replace("px",""),startX=cellBounds.x+grid.canvas.size.left+grid.properties.gridLinesWidth):(startY=cellBounds.y+cellBounds.height+grid.canvas.size.top,startX=cellBounds.x+grid.canvas.size.left+grid.properties.gridLinesWidth),linkDetailsHolderElement.style.top=startY+"px",linkDetailsHolderElement.style.left=startX+"px"},hideLinkDetails:function(grid,detailsHolderElement){detailsHolderElement.innerHTML="",detailsHolderElement.style.display="none",detailsShownOnDataCell=null,detailsHideTimeout&&(clearTimeout(detailsHideTimeout),detailsHideTimeout=null)},hideLinkDetailsTimeouted:function(grid,detailsHolderElement){var _this2=this;detailsHideTimeout||(detailsHideTimeout=setTimeout(function(){_this2.hideLinkDetails(grid,detailsHolderElement)},grid.properties.linkDetailsHideTimeout))},removeDOMElement:function(element){element.remove()},truncateString:function(fullStr,strLen,separator){if(fullStr.length<=strLen)return fullStr;separator=separator||"...";var sepLen=separator.length,charsToShow=strLen-sepLen,frontChars=_Mathceil4(charsToShow/2),backChars=_Mathfloor7(charsToShow/2);return fullStr.substr(0,frontChars)+separator+fullStr.substr(fullStr.length-backChars)}}),detailsHolderElement;module.exports=LinkDetails},{"./Feature":75}],79:[function(require,module){"use strict";var Feature=require("./Feature"),OnHover=Feature.extend("OnHover",{handleMouseMove:function(grid,event){var hoverCell=grid.hoverCell;event.gridCell.equals(hoverCell)?this.next&&this.next.handleMouseMove(grid,event):(hoverCell&&this.handleMouseExit(grid,hoverCell),this.handleMouseEnter(grid,event),grid.setHoverCell(event))}});module.exports=OnHover},{"./Feature":75}],80:[function(require,module){var Feature=require("./Feature"),GRAB=["grab","-moz-grab","-webkit-grab"],GRABBING=["grabbing","-moz-grabbing","-webkit-grabbing"],RowFixation=Feature.extend("RowFixation",{dragging:!1,dragOffset:0,currentPlaceholderRowIndex:-1,handleGridRendered:function(grid){this.initializeAnimationSupport(grid),this.next&&this.next.handleGridRendered(grid)},initializeAnimationSupport:function(grid){this.createOrUpdateDragger(grid),rowFixationPlaceholder||(rowFixationPlaceholder=document.createElement("canvas"),rowFixationPlaceholder.setAttribute("width","0px"),rowFixationPlaceholder.setAttribute("height","0px"),rowFixationPlaceholder.style.position="absolute",document.body.appendChild(rowFixationPlaceholder),rowFixationPlaceholderCTX=rowFixationPlaceholder.getContext("2d",{alpha:!1}))},handleMouseDrag:function(grid,event){this.next&&this.next.handleMouseDrag(grid,event)},handleMouseDown:function(grid,event){this.next&&this.next.handleMouseDown(grid,event)},handleMouseUp:function(grid,event){this.next&&this.next.handleMouseUp(grid,event)},handleMouseMove:function(grid,event){this.next&&this.next.handleMouseMove(grid,event)},moveDragger:function(grid,x,y,movePlaceholderNeeded){if(movePlaceholderNeeded="undefined"==typeof movePlaceholderNeeded||movePlaceholderNeeded,grid.log(y+grid.canvas.size.top),rowFixationDragger.style.top=y+grid.canvas.size.top+"px",movePlaceholderNeeded){var nearestRowIndex=this.getNearestRowIndex(grid,x,y);"undefined"!=typeof nearestRowIndex&&nearestRowIndex!==this.currentPlaceholderRowIndex&&(this.movePlaceholderTo(grid,nearestRowIndex),this.currentPlaceholderRowIndex=nearestRowIndex)}},movePlaceholderTo:function(grid,column){var newStartY=this.getStartByRowIndex(grid,column);rowFixationPlaceholder.style.top=newStartY+"px"},createPlaceholder:function(grid){var fixationLineWidth=grid.properties.fixedLinesVWidth,startY=this.getStartByFixedRowsCount(grid),rowHeaderWidth=grid.renderer.visibleColumns[0].left,gridWidth=grid.div.clientWidth,hdpiRatio=grid.getHiDPI(rowFixationPlaceholderCTX),location=grid.div.getBoundingClientRect();rowFixationPlaceholder.setAttribute("width",gridWidth*hdpiRatio+"px"),rowFixationPlaceholder.setAttribute("height",fixationLineWidth*hdpiRatio+"px"),rowFixationPlaceholder.style.position="fixed",rowFixationPlaceholder.style.top=startY+"px",rowFixationPlaceholder.style.left=location.left+"px",rowFixationPlaceholder.style.display="inline",rowFixationPlaceholderCTX.clearRect(0,0,gridWidth,fixationLineWidth),rowFixationPlaceholderCTX.fillStyle=grid.properties.rowFixationPlaceholderHeaderColor,rowFixationPlaceholderCTX.fillRect(0,0,rowHeaderWidth,fixationLineWidth),rowFixationPlaceholderCTX.fillStyle=grid.properties.rowFixationPlaceholderBodyColor,rowFixationPlaceholderCTX.fillRect(rowHeaderWidth,0,gridWidth,fixationLineWidth),this.movePlaceholderTo(grid,grid.getFixedRowCount())},setCrossBrowserProperty:function(element,property,value){var uProperty=property[0].toUpperCase()+property.substr(1);this.setProp(element,"webkit"+uProperty,value),this.setProp(element,"Moz"+uProperty,value),this.setProp(element,"ms"+uProperty,value),this.setProp(element,"O"+uProperty,value),this.setProp(element,property,value)},createOrUpdateDragger:function(grid){if(!this.dragging){rowFixationDragger||(rowFixationDragger=document.createElement("canvas"),rowFixationDraggerCTX=rowFixationDragger.getContext("2d",{alpha:!1}),document.body.appendChild(rowFixationDragger));var fixationLineWidth=this.fixationLineWidth=grid.properties.fixedLinesVWidth,startY=this.getStartByFixedRowsCount(grid),rowHeaderWidth=grid.renderer.visibleColumns[0].left,gridWidth=grid.div.clientWidth,hdpiRatio=grid.getHiDPI(rowFixationDraggerCTX),location=grid.div.getBoundingClientRect();rowFixationDragger.setAttribute("width",gridWidth*hdpiRatio+"px"),rowFixationDragger.setAttribute("height",fixationLineWidth*hdpiRatio+"px"),rowFixationDragger.style.position="fixed",rowFixationDragger.style.top=startY+"px",rowFixationDragger.style.left=location.left+"px",rowFixationDragger.style.display="inline",rowFixationDraggerCTX.clearRect(0,0,gridWidth,fixationLineWidth),rowFixationDraggerCTX.fillStyle=grid.properties.rowFixationDraggerHeaderInactiveColor,rowFixationDraggerCTX.fillRect(0,0,rowHeaderWidth,fixationLineWidth);var self=this;rowFixationDragger.onmouseenter=function(event){self.dragging||(event.stopImmediatePropagation(),event.preventDefault(),self.cursor=GRAB,rowFixationDraggerCTX.clearRect(0,0,gridWidth,fixationLineWidth),rowFixationDraggerCTX.fillStyle=grid.properties.rowFixationDraggerHeaderHoveredColor,rowFixationDraggerCTX.fillRect(0,0,rowHeaderWidth,fixationLineWidth))},rowFixationDragger.onmouseleave=function(){self.dragging||(event.stopImmediatePropagation(),event.preventDefault(),self.cursor=null,rowFixationDraggerCTX.clearRect(0,0,gridWidth,fixationLineWidth),rowFixationDraggerCTX.fillStyle=grid.properties.rowFixationDraggerHeaderInactiveColor,rowFixationDraggerCTX.fillRect(0,0,rowHeaderWidth,fixationLineWidth))},rowFixationDragger.onmousedown=function(event){event.stopImmediatePropagation(),event.preventDefault(),this.cursor=GRABBING,self.dragging=!0,grid.scrollToMakeVisible(grid.getFixedColumnCount(),grid.getFixedRowCount()-1),self.createPlaceholder(grid),self.dragOffset=rowFixationDragger.getBoundingClientRect().top,rowFixationDraggerCTX.clearRect(0,0,gridWidth,fixationLineWidth),rowFixationDraggerCTX.fillStyle=grid.properties.rowFixationDraggerHeaderDraggingColor,rowFixationDraggerCTX.fillRect(0,0,rowHeaderWidth,fixationLineWidth),rowFixationDraggerCTX.fillStyle=grid.properties.rowFixationDraggerBodyDraggingColor,rowFixationDraggerCTX.fillRect(rowHeaderWidth,0,gridWidth,fixationLineWidth),document.onmousemove=function(e){var newY=e.clientY-grid.properties.fixedLinesVWidth/2-grid.canvas.size.top;self.moveDragger(grid,e.clientX,newY)},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,self.dragging&&(self.cursor=null,self.performFixation(grid),grid.paintNow(),self.moveDragger(grid,0,self.getStartByFixedRowsCount(grid)-grid.canvas.size.top,!1)),self.dragging=!1,self.cursor=null,rowFixationDraggerCTX.clearRect(0,0,gridWidth,fixationLineWidth),rowFixationDraggerCTX.fillStyle=grid.properties.rowFixationDraggerHeaderInactiveColor,rowFixationDraggerCTX.fillRect(0,0,rowHeaderWidth,fixationLineWidth)}}}},getStartByFixedRowsCount:function(grid){return this.getStartByRowIndex(grid,grid.properties.fixedRowCount+1)},getStartByRowIndex:function(grid,rowIndex){var headerRowCount=grid.getHeaderRowCount();rowIndex<headerRowCount&&(rowIndex=headerRowCount);var res;if(1<rowIndex){var row=grid.renderer.visibleRows[rowIndex-1];row||(row=grid.renderer.visibleRows[0]),res=row?row.bottom:0}else res=grid.renderer.visibleRows[0].bottom-this.fixationLineWidth+2;return res+grid.canvas.size.top},performFixation:function(grid){var currentFixedRowCount=grid.properties.fixedRowCount;if(rowFixationPlaceholder.style.display="none",!(0>this.currentPlaceholderRowIndex)){var newFixedRowValue=this.currentPlaceholderRowIndex-grid.getHeaderRowCount();grid.addProperties({fixedRowCount:newFixedRowValue}),grid.fireSyntheticOnFixedRowCountChangedEvent(currentFixedRowCount,newFixedRowValue)}},getNearestRowIndex:function(grid,x,y){var cellUnderCursor=grid.renderer.getGridCellFromMousePoint({x:x,y:y}),rowUnderCursorIndex=cellUnderCursor.cellEvent.visibleRow.rowIndex,visibleRows=grid.renderer.visibleRows,max=grid.getVisibleRowsCount(),columnStartY=visibleRows[_Mathmin7(max,rowUnderCursorIndex)].top,columnEndY=visibleRows[_Mathmin7(max,rowUnderCursorIndex)].bottom,res=rowUnderCursorIndex;_Mathabs10(columnStartY-y)<_Mathabs10(columnEndY-y)||(res+=1),res>=visibleRows[visibleRows.length-2].columnIndex&&(res=visibleRows[visibleRows.length-3].columnIndex);var headerRowCount=grid.getHeaderRowCount();return res<=headerRowCount&&(res=headerRowCount),res},setProp:function(element,property,value){property in element.style&&(element.style[property]=value)}}),rowFixationDragger,rowFixationDraggerCTX,rowFixationPlaceholder,rowFixationPlaceholderCTX;module.exports=RowFixation},{"./Feature":75}],81:[function(require,module){"use strict";var Feature=require("./Feature"),RowSelection=Feature.extend("RowSelection",{currentDrag:null,lastDragCell:null,sbLastAuto:0,sbAutoStart:0,dragArmed:!1,handleMouseUp:function(grid,event){this.dragArmed?(this.dragArmed=!1,grid.fireSyntheticRowSelectionChangedEvent()):this.dragging?(this.dragging=!1,grid.fireSyntheticRowSelectionChangedEvent()):this.next&&this.next.handleMouseUp(grid,event)},handleMouseDown:function(grid,event){var rowSelectable=grid.properties.rowSelection&&!event.primitiveEvent.detail.isRightClick&&grid.properties.showRowNumbers&&event.isHandleColumn;rowSelectable&&event.isHeaderHandle?grid.toggleSelectAllRows():rowSelectable&&event.isDataRow?(this.dragArmed=!0,this.extendSelection(grid,event.dataCell.y,event.primitiveEvent.detail.keys)):this.next&&this.next.handleMouseDown(grid,event)},handleMouseDrag:function(grid,event){this.dragArmed&&grid.properties.rowSelection&&!event.primitiveEvent.detail.isRightClick?(this.lastDragRow=event.dataCell.y,this.dragging=!0,this.currentDrag=event.primitiveEvent.detail.mouse,this.checkDragScroll(grid,this.currentDrag),this.handleMouseDragCellSelection(grid,this.lastDragRow,event.primitiveEvent.detail.keys)):this.next&&this.next.handleMouseDrag(grid,event)},handleKeyDown:function(grid,event){var handler;"row"===grid.getLastSelectionType()&&(handler=this["handle"+event.detail.char])?handler.call(this,grid,event.detail):this.next&&this.next.handleKeyDown(grid,event)},handleMouseDragCellSelection:function(grid,y){var mouseY=grid.getMouseDown().y;grid.clearMostRecentRowSelection(),grid.selectRow(mouseY,y),grid.setDragExtent(grid.newPoint(0,y-mouseY)),grid.repaint()},checkDragScroll:function(grid,mouse){grid.properties.scrollingEnabled&&grid.getDataBounds().contains(mouse)?grid.isScrollingNow()&&grid.setScrollingNow(!1):!grid.isScrollingNow()&&(grid.setScrollingNow(!0),this.scrollDrag(grid))},scrollDrag:function(grid){if(grid.isScrollingNow()){var b=grid.getDataBounds(),yOffset;this.currentDrag.y<b.origin.y?yOffset=-1:this.currentDrag.y>b.origin.y+b.extent.y&&(yOffset=1),yOffset&&(this.lastDragRow>=grid.getFixedRowCount()&&(this.lastDragRow+=yOffset),grid.scrollBy(0,yOffset)),this.handleMouseDragCellSelection(grid,this.lastDragRow,[]),grid.repaint(),setTimeout(this.scrollDrag.bind(this,grid),25)}},extendSelection:function(grid,y,keys){if(grid.abortEditing()){var mouseY=grid.getMouseDown().y,hasSHIFT=-1!==keys.indexOf("SHIFT");0>y||(hasSHIFT?(grid.clearMostRecentRowSelection(),grid.selectRow(y,mouseY),grid.setDragExtent(grid.newPoint(0,y-mouseY))):(grid.toggleSelectRow(y,keys),grid.setMouseDown(grid.newPoint(0,y)),grid.setDragExtent(grid.newPoint(0,0))),grid.repaint())}},handleDOWNSHIFT:function(grid){this.moveShiftSelect(grid,1)},handleUPSHIFT:function(grid){this.moveShiftSelect(grid,-1)},handleLEFTSHIFT:function(){},handleRIGHTSHIFT:function(){},handleDOWN:function(grid){this.moveSingleSelect(grid,1)},handleUP:function(grid){this.moveSingleSelect(grid,-1)},handleLEFT:function(){},handleRIGHT:function(grid){var mouseCorner=grid.getMouseDown().plus(grid.getDragExtent()),maxColumns=grid.getColumnCount()-1,newX=grid.getHScrollValue(),newY=mouseCorner.y;newX=_Mathmin7(maxColumns,newX),grid.clearSelections(),grid.select(newX,newY,0,0),grid.setMouseDown(grid.newPoint(newX,newY)),grid.setDragExtent(grid.newPoint(0,0)),grid.repaint()},getAutoScrollAcceleration:function(){var count=1,elapsed=this.getAutoScrollDuration()/2e3;return count=_Mathmax8(1,_Mathfloor7(elapsed*elapsed*elapsed*elapsed)),count},setAutoScrollStartTime:function(){this.sbAutoStart=Date.now()},pingAutoScroll:function(){var now=Date.now();500<now-this.sbLastAuto&&this.setAutoScrollStartTime(),this.sbLastAuto=Date.now()},getAutoScrollDuration:function(){return 500<Date.now()-this.sbLastAuto?0:Date.now()-this.sbAutoStart},moveShiftSelect:function(grid,offsetY){var origin=grid.getMouseDown(),extent=grid.getDragExtent(),maxViewableRows=grid.renderer.visibleRows.length-1,maxRows=grid.getRowCount()-1;grid.properties.scrollingEnabled||(maxRows=_Mathmin7(maxRows,maxViewableRows));var newY=extent.y+offsetY;newY=_Mathmin7(maxRows-origin.y,_Mathmax8(-origin.y,newY)),grid.clearMostRecentRowSelection(),grid.selectRow(origin.y,origin.y+newY),grid.setDragExtent(grid.newPoint(0,newY)),grid.insureModelRowIsVisible(newY+origin.y,offsetY)&&this.pingAutoScroll(),grid.fireSyntheticRowSelectionChangedEvent(),grid.repaint()},moveSingleSelect:function(grid,offsetY){var maxRows=grid.getRowCount()-1,maxViewableRows=grid.getVisibleRowsCount()-1,mouseCorner=grid.getMouseDown().plus(grid.getDragExtent()),newY=mouseCorner.y+offsetY;grid.properties.scrollingEnabled||(maxRows=_Mathmin7(maxRows,maxViewableRows)),newY=_Mathmin7(maxRows,_Mathmax8(0,newY)),grid.clearSelections(),grid.selectRow(newY),grid.setMouseDown(grid.newPoint(0,newY)),grid.setDragExtent(grid.newPoint(0,0)),grid.insureModelRowIsVisible(newY,offsetY)&&this.pingAutoScroll(),grid.fireSyntheticRowSelectionChangedEvent(),grid.repaint()},isSingleRowSelection:function(){return!0}});module.exports=RowSelection},{"./Feature":75}],82:[function(require,module){"use strict";var Feature=require("./Feature"),ThumbwheelScrolling=Feature.extend("ThumbwheelScrolling",{handleWheelMoved:function(grid,e){if(grid.properties.scrollingEnabled){var primEvent=e.primitiveEvent,deltaX=_Mathsign(primEvent.wheelDeltaX||-primEvent.deltaX),deltaY=_Mathsign(primEvent.wheelDeltaY||-primEvent.deltaY);(deltaX||deltaY)&&grid.scrollBy(-deltaX||0,-deltaY||0)}}});module.exports=ThumbwheelScrolling},{"./Feature":75}],83:[function(require,module){var Feature=require("./Feature"),WarningTooltip=Feature.extend("WarningTooltip",{isMenuShown:!1,initializeWarningTooltipDiv:function(){return tooltipDiv=document.createElement("div"),tooltipDiv.style.display="none",document.body.appendChild(tooltipDiv),tooltipDiv},handleMouseMove:function(grid,event){var isCursorOverCollumnWarningIcon=this.overColumnWarningIcon(grid,event),isCursorOverTotalWarningIcon=this.overTotalWarningIcon(grid,event);if(isCursorOverCollumnWarningIcon){if(!this.isMenuShown){var tooltipRightX=event.bounds.x+event.properties.cellPaddingLeft+grid.canvas.size.left+8,tooltipTopY=event.bounds.y+event.bounds.height+grid.canvas.size.top;this.paintWarningTooltip(grid,tooltipRightX,tooltipTopY,event.column.firstError.description,"bottom")}}else if(!isCursorOverTotalWarningIcon)this.isMenuShown&&this.hideWarningTooltip(grid);else if(!this.isMenuShown){var _tooltipRightX=event.bounds.x+event.bounds.width/2+event.properties.totalErrorsCountIconWidth/2+grid.canvas.size.left,_tooltipTopY=event.bounds.y+event.bounds.height/2+grid.canvas.size.top;this.paintWarningTooltip(grid,_tooltipRightX,_tooltipTopY,grid.getFieldsErrorsMessage(),"right")}!1,this.next&&this.next.handleMouseMove(grid,event)},handleDataAdded:function(grid,event){this.hideWarningTooltip(grid),this.next&&this.next.handleDataAdded(grid,event)},overColumnWarningIcon:function(grid,event){var columnHasError=event.column.hasError,isHeaderRow=event.properties.headerRow||event.rowProperties.headerRow;if(!columnHasError||!isHeaderRow)return!1;var warningIconLeftX=event.properties.cellPaddingLeft,warningIconRightX=warningIconLeftX+14+event.properties.columnTitlePrefixRightSpace,warningIconBottomY=event.bounds.height-5;return event.mousePoint.x<=warningIconRightX&&event.mousePoint.x>=warningIconLeftX&&event.mousePoint.y<=warningIconBottomY&&event.mousePoint.y>=5},overTotalWarningIcon:function(grid,event){var x=event.gridCell.x,r=event.dataCell.y,renderTotalErrorSignNeeded=x===grid.behavior.rowColumnIndex&&0===r&&event.isHeaderRow&&grid.behavior.errorCount;if(!renderTotalErrorSignNeeded)return!1;var totalErrorsCountIconStartY=event.bounds.height/2-event.properties.totalErrorsCountIconHeight/2,totalErrorsCountIconEndY=totalErrorsCountIconStartY+event.properties.totalErrorsCountIconHeight,totalErrorsCountIconStartX=event.bounds.width/2-event.properties.totalErrorsCountIconWidth/2,totalErrorsCountIconEndX=totalErrorsCountIconStartX+event.properties.totalErrorsCountIconWidth;return event.mousePoint.x<=totalErrorsCountIconEndX&&event.mousePoint.x>=totalErrorsCountIconStartX&&event.mousePoint.y<=totalErrorsCountIconEndY&&event.mousePoint.y>=totalErrorsCountIconStartY},paintWarningTooltip:function(grid,x,y,text,placement){this.hideWarningTooltip(grid),tooltipDiv||this.initializeWarningTooltipDiv();"bottom"===placement?tooltipDiv.setAttribute("class",grid.properties.warningTooltipBottomClass):"right"===placement?tooltipDiv.setAttribute("class",grid.properties.warningTooltipRightClass):void 0;var tooltipArrowDiv=document.createElement("div");tooltipArrowDiv.setAttribute("class",grid.properties.warningTooltipArrowClass),tooltipDiv.appendChild(tooltipArrowDiv);var tooltipInnerDiv=document.createElement("div");tooltipInnerDiv.setAttribute("class",grid.properties.warningTooltipInnerClass),tooltipInnerDiv.innerHTML=text,tooltipDiv.appendChild(tooltipInnerDiv),this.showWarningTooltip(grid);var leftX=void 0,topY=void 0,tooltipWidth=tooltipDiv.offsetWidth,tooltipHeight=tooltipDiv.offsetHeight;"bottom"===placement?(leftX=x-tooltipWidth/2,topY=y):"right"===placement?(leftX=x,topY=y-tooltipHeight/2):void 0;this.moveWarningTooltip(leftX,topY)},showWarningTooltip:function(grid){var op=.1;tooltipDiv.style.opacity=op,tooltipDiv.style.display="block",this.isMenuShown=!0,this.clearIntervals(),fadeInInterval=setInterval(function(){op>=grid.properties.warningTooltipOpacity&&clearInterval(fadeInInterval);tooltipDiv&&(tooltipDiv.style.opacity=op,tooltipDiv.style.filter="alpha(opacity="+100*op+")",op+=.2*op)},5)},moveWarningTooltip:function(x,y){tooltipDiv.style.top=y+"px",tooltipDiv.style.left=x+"px"},hideWarningTooltip:function(grid){if(this.isMenuShown=!1,!!tooltipDiv){var op=grid.properties.warningTooltipOpacity;this.clearIntervals(),fadeOutInterval=setInterval(function(){if(.1>=op){if(clearInterval(fadeOutInterval),!tooltipDiv)return;tooltipDiv.style.display="none",tooltipDiv.innerHTML="",tooltipDiv.remove(),tooltipDiv=null}tooltipDiv&&(tooltipDiv.style.opacity=op,tooltipDiv.style.filter="alpha(opacity="+100*op+")",op-=.2*op)},5)}},clearIntervals:function(){fadeOutInterval&&clearInterval(fadeOutInterval),fadeInInterval&&clearInterval(fadeInInterval)}}),tooltipDiv,fadeInInterval,fadeOutInterval;module.exports=WarningTooltip},{"./Feature":75}],84:[function(require,module){"use strict";var Registry=require("../lib/Registry"),Features=Registry.extend("Features",{BaseClass:require("./Feature"),initialize:function(){this.add(Features.CellClick),this.add(Features.CellEditing),this.add(Features.CellSelection),this.add(Features.ColumnMoving),this.add(Features.ColumnResizing),this.add(Features.ColumnSelection),this.add(Features.ColumnSorting),this.add(Features.Filters),this.add(Features.KeyPaging),this.add(Features.OnHover),this.add(Features.RowSelection),this.add(Features.ThumbwheelScrolling),this.add(Features.ContextMenu),this.add(Features.ColumnFixation),this.add(Features.RowFixation),this.add(Features.LinkDetails),this.add(Features.WarningTooltip)}});Features.BaseClass=require("./Feature"),Features.CellClick=require("./CellClick"),Features.CellEditing=require("./CellEditing"),Features.CellSelection=require("./CellSelection"),Features.ColumnMoving=require("./ColumnMoving"),Features.ColumnResizing=require("./ColumnResizing"),Features.ColumnSelection=require("./ColumnSelection"),Features.ColumnSorting=require("./ColumnSorting"),Features.Filters=require("./Filters"),Features.KeyPaging=require("./KeyPaging"),Features.OnHover=require("./OnHover"),Features.RowSelection=require("./RowSelection"),Features.ThumbwheelScrolling=require("./ThumbwheelScrolling"),Features.ContextMenu=require("./ContextMenu"),Features.ColumnFixation=require("./ColumnFixation"),Features.RowFixation=require("./RowFixation"),Features.LinkDetails=require("./LinkDetails"),Features.WarningTooltip=require("./WarningTooltip"),module.exports=new Features},{"../lib/Registry":90,"./CellClick":66,"./CellEditing":67,"./CellSelection":68,"./ColumnFixation":69,"./ColumnMoving":70,"./ColumnResizing":71,"./ColumnSelection":72,"./ColumnSorting":73,"./ContextMenu":74,"./Feature":75,"./Filters":76,"./KeyPaging":77,"./LinkDetails":78,"./OnHover":79,"./RowFixation":80,"./RowSelection":81,"./ThumbwheelScrolling":82,"./WarningTooltip":83}],85:[function(require,module){function deprecated(key,registry){registry=registry||"src";var requireString,warning;return"src"===registry?(requireString="../"+key,warning="Reference to "+key+" internal modules using"+" `Hypergrid."+key+".modulename` has been deprecated as of v3.0.0 in favor of"+" `Hypergrid.require('"+requireString+"/modulename')` and will be removed in a future release."+" See https://github.com/fin-hypergrid/core/wiki/Client-Modules#predefined-modules."):"modules"===registry?(requireString=key,warning="Reference to "+key+" external module using"+" `Hypergrid."+key+".` has been deprecated as of v3.0.0 in favor of"+" `Hypergrid.require('"+requireString+"')` and will be removed in a future release."+" See https://github.com/fin-hypergrid/core/wiki/Client-Modules#external-modules."):void 0,deprecated.warned[key]||(console.warn(warning),deprecated.warned[key]=!0),Hypergrid.require(requireString)}var fin=window.fin=window.fin||{},Hypergrid=fin.Hypergrid=require("../Hypergrid");Hypergrid.require=require("./module-loader"),Hypergrid.src={},Object.defineProperties(Hypergrid.modules,{"datasaur-base":{value:require("../DatasaurBase")},"datasaur-local":{value:require("../DatasaurLocal")},"extend-me":{value:require("extend-me")},"object-iterators":{value:require("object-iterators")},overrider:{value:require("overrider")},rectangular:{value:require("rectangular")},"sparse-boolean-array":{value:require("sparse-boolean-array")}}),Object.defineProperties(Hypergrid.src,{lib:{value:require("..//lib")},behaviors:{value:require("../behaviors")},dataModels:{value:require("../dataModels")},features:{value:require("../features")},Base:{value:require("../Base")},defaults:{value:require("../defaults")}}),Object.defineProperties(Hypergrid,{lib:{get:deprecated.bind(null,"lib")},behaviors:{get:deprecated.bind(null,"behaviors")},dataModels:{get:deprecated.bind(null,"dataModels")},features:{get:deprecated.bind(null,"features")},rectangular:{get:deprecated.bind(null,"rectangular","modules")}}),deprecated.warned={},module.exports=Hypergrid},{"..//lib":98,"../Base":17,"../DatasaurBase":18,"../DatasaurLocal":19,"../Hypergrid":28,"../behaviors":42,"../dataModels":64,"../defaults":65,"../features":84,"./module-loader":86,"extend-me":9,"object-iterators":12,overrider:13,rectangular:14,"sparse-boolean-array":15}],86:[function(require,module){"use strict";var packageName="build",Hypergrid=require("../Hypergrid"),REGEX_SRC_MODULES=/^build\/src\/(Base|defaults)$/,REGEX_INTERNAL_MODULES=/^build\/src\/(lib|behaviors|dataModels|features)(\/(\w+))?$/;module.exports=function(path){var module,crumbs;if(path===packageName?module=Hypergrid:path===packageName+"/images"?module=require("../../images"):(crumbs=path.match(REGEX_SRC_MODULES))?module=Hypergrid.src[crumbs[1]]:(crumbs=path.match(REGEX_INTERNAL_MODULES))?(module=Hypergrid.src[crumbs[1]],crumbs[3]&&(module=module[crumbs[3]])):module=Hypergrid.modules[path],!module){var msg="Unknown module "+path,match=path.match(/(\/(index(\.js)?)?|\.js)$/);throw match&&(msg+=" (try omitting trailing \""+match[1]+"\")"),msg}return module}},{"../../images":3,"../Hypergrid":28}],87:[function(require,module){function Canvas(div,component){var self=this;this.div=div,this.component=component,this.dragEndtime=Date.now(),this.infoDiv=document.createElement("div"),this.infoDiv.className="info",this.div.appendChild(this.infoDiv),this.gc=getCachedContext(this.canvas=document.createElement("canvas")),this.bc=getCachedContext(this.buffer=document.createElement("canvas")),this.div.appendChild(this.canvas),this.canvas.style.outline="none",this.canvas.style.background=this.component.properties.canvasBackgroundColor,this.mouseLocation=new rectangular.Point(-1,-1),this.dragstart=new rectangular.Point(-1,-1),this.bounds=new rectangular.Rectangle(0,0,0,0),this.hasMouse=!1,this.canvas.onmouseover=function(){self.hasMouse=!0},this.addEventListener("focus",function(e){self.finfocusgained(e)}),this.addEventListener("blur",function(e){self.finfocuslost(e)}),this.addEventListener("mousedown",function(e){self.finmousedown(e)}),this.addEventListener("mouseout",function(e){self.hasMouse=!1,self.finmouseout(e)}),this.addEventListener("click",function(e){self.finclick(e)}),this.addEventListener("dblclick",function(e){self.findblclick(e)}),this.addEventListener("contextmenu",function(e){return self.fincontextmenu(e),e.preventDefault(),!1}),this.canvas.setAttribute("tabindex",0),this.resize(),this.start()}function paintLoopFunction(now){paintRequest&&(paintables.forEach(function(paintable){try{paintable.tickPainter(now)}catch(e){console.error(e)}paintable.component.tickNotification&&paintable.component.tickNotification()}),paintRequest=requestAnimationFrame(paintLoopFunction))}function restartPaintLoop(){paintRequest=paintRequest||requestAnimationFrame(paintLoopFunction)}function stopPaintLoop(){paintRequest&&(cancelAnimationFrame(paintRequest),paintRequest=void 0)}function resizablesLoopFunction(now){if(resizeInterval)for(var i=0;i<resizables.length;i++)try{resizables[i].tickResizer(now)}catch(e){console.error(e)}}function restartResizeLoop(){resizeInterval=resizeInterval||setInterval(resizablesLoopFunction,RESIZE_POLLING_INTERVAL)}function stopResizeLoop(){resizeInterval&&(clearInterval(resizeInterval),resizeInterval=void 0)}function getCachedContext(canvasElement,type){function makeStub(key){key in props||/^(webkit|moz|ms|o)[A-Z]/.test(key)||"function"==typeof gc[key]||Object.defineProperty(props,key,{get:function(){return values[key]=values[key]||gc[key]},set:function(value){value!==values[key]&&(gc[key]=values[key]=value)}})}var gc=canvasElement.getContext(type||"2d",{alpha:!1}),props={},values={};return Object.keys(Object.getPrototypeOf(gc)).forEach(makeStub),Object.keys(gc).forEach(makeStub),gc.cache=props,gc.cache.save=function(){gc.save(),values=Object.create(values)},gc.cache.restore=function(){gc.restore(),values=Object.getPrototypeOf(values)},gc.conditionalsStack=[],Object.getOwnPropertyNames(Canvas.graphicsContextAliases).forEach(function(alias){gc[alias]=gc[Canvas.graphicsContextAliases[alias]]}),Object.assign(gc,require("./graphics"))}"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(event,params){params=params||{bubbles:!1,cancelable:!1,detail:void 0};var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt},window.CustomEvent.prototype=window.Event.prototype);var rectangular=require("rectangular"),RESIZE_POLLING_INTERVAL=200,paintables=[],resizables=[],charMap=function(){for(var map=[],empty=["",""],i=0;256>i;i++)map[i]=empty;return map[27]=["ESC","ESCSHIFT"],map[192]=["`","~"],map[49]=["1","!"],map[50]=["2","@"],map[51]=["3","#"],map[52]=["4","$"],map[53]=["5","%"],map[54]=["6","^"],map[55]=["7","&"],map[56]=["8","*"],map[57]=["9","("],map[48]=["0",")"],map[189]=["-","_"],map[187]=["=","+"],map[8]=["BACKSPACE","BACKSPACESHIFT"],map[46]=["DELETE","DELETESHIFT"],map[9]=["TAB","TABSHIFT"],map[81]=["q","Q"],map[87]=["w","W"],map[69]=["e","E"],map[82]=["r","R"],map[84]=["t","T"],map[89]=["y","Y"],map[85]=["u","U"],map[73]=["i","I"],map[79]=["o","O"],map[80]=["p","P"],map[219]=["[","{"],map[221]=["]","}"],map[220]=["\\","|"],map[220]=["CAPSLOCK","CAPSLOCKSHIFT"],map[65]=["a","A"],map[83]=["s","S"],map[68]=["d","D"],map[70]=["f","F"],map[71]=["g","G"],map[72]=["h","H"],map[74]=["j","J"],map[75]=["k","K"],map[76]=["l","L"],map[186]=[";",":"],map[222]=["'","|"],map[13]=["RETURN","RETURNSHIFT"],map[16]=["SHIFT","SHIFT"],map[90]=["z","Z"],map[88]=["x","X"],map[67]=["c","C"],map[86]=["v","V"],map[66]=["b","B"],map[78]=["n","N"],map[77]=["m","M"],map[188]=[",","<"],map[190]=[".",">"],map[191]=["/","?"],map[16]=["SHIFT","SHIFT"],map[17]=["CTRL","CTRLSHIFT"],map[18]=["ALT","ALTSHIFT"],map[91]=["COMMANDLEFT","COMMANDLEFTSHIFT"],map[32]=["SPACE","SPACESHIFT"],map[93]=["COMMANDRIGHT","COMMANDRIGHTSHIFT"],map[18]=["ALT","ALTSHIFT"],map[38]=["UP","UPSHIFT"],map[37]=["LEFT","LEFTSHIFT"],map[40]=["DOWN","DOWNSHIFT"],map[39]=["RIGHT","RIGHTSHIFT"],map[33]=["PAGEUP","PAGEUPSHIFT"],map[34]=["PAGEDOWN","PAGEDOWNSHIFT"],map[35]=["PAGERIGHT","PAGERIGHTSHIFT"],map[36]=["PAGELEFT","PAGELEFTSHIFT"],map[112]=["F1","F1SHIFT"],map[113]=["F2","F2SHIFT"],map[114]=["F3","F3SHIFT"],map[115]=["F4","F4SHIFT"],map[116]=["F5","F5SHIFT"],map[117]=["F6","F6SHIFT"],map[118]=["F7","F7SHIFT"],map[119]=["F8","F8SHIFT"],map[120]=["F9","F9SHIFT"],map[121]=["F10","F10SHIFT"],map[122]=["F11","F11SHIFT"],map[123]=["F12","F12SHIFT"],map}(),paintRequest,resizeInterval;Canvas.prototype={constructor:Canvas.prototype.constructor,div:null,component:null,canvas:null,focuser:null,buffer:null,ctx:null,mouseLocation:null,dragstart:null,origin:null,bounds:null,dirty:!1,size:null,mousedown:!1,dragging:!1,repeatKeyCount:0,repeatKey:null,repeatKeyStartTime:0,currentKeys:[],hasMouse:!1,dragEndTime:0,lastRepaintTime:0,currentPaintCount:0,currentFPS:0,lastFPSComputeTime:0,listeners:{},addEventListener:function(name,callback){this.canvas.addEventListener(name,callback)},toggleDocumentEventListeners:function(isEnable){var _this=this;isEnable&&this.toggleDocumentEventListeners(!1);var listeners={mousemove:function(e){(_this.hasMouse||_this.isDragging())&&_this.finmousemove(e)},mouseup:function(e){_this.finmouseup(e)},wheel:function(e){_this.finwheelmoved(e)},keydown:function(e){_this.finkeydown(e)},keyup:function(e){_this.finkeyup(e)},mousedown:function(e){if(_this.canvas){var canvasRect=_this.canvas.getBoundingClientRect();canvasRect.x===canvasRect.y||canvasRect.width===canvasRect.height||event.clientX>canvasRect.x&&event.clientY>canvasRect.y&&event.clientX<canvasRect.x+canvasRect.width&&event.clientY<canvasRect.y+canvasRect.height||_this.finMouseDownOutside(e)}}};Object.keys(listeners).forEach(function(eventType){_this.listeners[eventType]||(_this.listeners[eventType]=listeners[eventType]),document[(isEnable?"add":"remove")+"EventListener"](eventType,_this.listeners[eventType]),isEnable||delete _this.listeners[eventType]})},removeEventListener:function(name,callback){this.canvas.removeEventListener(name,callback)},stopPaintLoop:stopPaintLoop,restartPaintLoop:restartPaintLoop,stopResizeLoop:stopResizeLoop,restartResizeLoop:restartResizeLoop,detached:function(){this.stopPainting(),this.stopResizing()},getCurrentFPS:function(){return this.currentFPS},tickPaint:function(now){var isContinuousRepaint=this.component.properties.enableContinuousRepaint,fps=this.component.properties.repaintIntervalRate;if(0!==fps){var elapsed=now-this.lastRepaintTime;elapsed>1e3/fps&&(isContinuousRepaint||this.dirty)&&(this.paintNow(),this.lastRepaintTime=now,isContinuousRepaint&&(this.currentPaintCount++,1e3<=now-this.lastFPSComputeTime&&(this.currentFPS=1e3*this.currentPaintCount/(now-this.lastFPSComputeTime),this.currentPaintCount=0,this.lastFPSComputeTime=now)))}},beginPainting:function(){var self=this;this.dirty=!0,this.tickPainter=function(now){self.tickPaint(now)},paintables.push(this)},stopPainting:function(){paintables.splice(paintables.indexOf(this),1)},beginResizing:function(){var self=this;this.tickResizer=function(){self.checksize()},resizables.push(this)},stopResizing:function(){resizables.splice(resizables.indexOf(this),1)},start:function(){this.beginPainting(),this.beginResizing(),this.toggleDocumentEventListeners(!0)},stop:function(){this.stopPainting(),this.stopResizing()},getDivBoundingClientRect:function(){var rect=this.div.getBoundingClientRect(),top=_Mathfloor7(rect.top),left=_Mathfloor7(rect.left),width=_Mathceil4(rect.width),height=_Mathceil4(rect.height);return{top:top,right:left+width,bottom:top+height,left:left,width:width,height:height,x:rect.x,y:rect.y}},checksize:function(){var sizeNow=this.getDivBoundingClientRect();(sizeNow.width!==this.size.width||sizeNow.height!==this.size.height)&&this.resize()},refreshBounds:function(){var box=this.size=this.getDivBoundingClientRect();this.width=box.width-this.component.properties.canvasWidthOffset,this.height=box.height-this.component.properties.canvasHeightOffset,this.bounds=new rectangular.Rectangle(0,0,this.width,this.height),this.component.setBounds(this.bounds),this.component.viewHeight=this.bounds.height},resize:function(withNotification){withNotification=!("undefined"!=typeof withNotification)||withNotification;var box=this.size=this.getDivBoundingClientRect();this.width=box.width-this.component.properties.canvasWidthOffset,this.height=box.height-this.component.properties.canvasHeightOffset;var ratio=1,isHIDPI=window.devicePixelRatio&&this.component.properties.useHiDPI;if(isHIDPI){var devicePixelRatio=window.devicePixelRatio||1,backingStoreRatio=this.gc.webkitBackingStorePixelRatio||this.gc.mozBackingStorePixelRatio||this.gc.msBackingStorePixelRatio||this.gc.oBackingStorePixelRatio||this.gc.backingStorePixelRatio||1;ratio=devicePixelRatio/backingStoreRatio}this.buffer.width=this.canvas.width=this.width*ratio,this.buffer.height=this.canvas.height=this.height*ratio,this.canvas.style.width=this.buffer.style.width=this.width+2+"px",this.canvas.style.height=this.buffer.style.height=this.height+1+"px",this.bc.scale(ratio,ratio),isHIDPI&&!this.component.properties.useBitBlit&&this.gc.scale(ratio,ratio),this.bounds=new rectangular.Rectangle(0,0,this.width,this.height),this.component.setBounds(this.bounds),withNotification&&this.resizeNotification(),this.paintNow()},resizeNotification:function(){this.dispatchNewEvent(void 0,"fin-canvas-resized",{width:this.width,height:this.height})},getBounds:function(){return this.bounds},paintNow:function(){var useBitBlit=this.component.properties.useBitBlit,gc=useBitBlit?this.bc:this.gc;try{gc.cache.save(),this.component.paint(gc),this.dirty=!1}catch(e){console.error(e)}finally{gc.cache.restore()}useBitBlit&&this.flushBuffer()},flushBuffer:function(){0<this.buffer.width&&0<this.buffer.height&&this.gc.drawImage(this.buffer,0,0)},newEvent:function(primitiveEvent,name,detail){var event={detail:detail||{}};return primitiveEvent&&(event.detail.primitiveEvent=primitiveEvent),new CustomEvent(name,event)},dispatchNewEvent:function(primitiveEvent,name,detail){return this.canvas.dispatchEvent(this.newEvent(primitiveEvent,name,detail))},dispatchNewMouseKeysEvent:function(event,name,detail){return detail=detail||{},detail.mouse=this.mouseLocation,detail.keys=this.currentKeys,this.dispatchNewEvent(event,name,detail)},finmousemove:function(e){!this.isDragging()&&this.mousedown&&(this.beDragging(),this.dispatchNewMouseKeysEvent(e,"fin-canvas-dragstart",{isRightClick:this.isRightClick(e),dragstart:this.dragstart}),this.dragstart=new rectangular.Point(this.mouseLocation.x,this.mouseLocation.y)),this.mouseLocation=this.getLocal(e),this.isDragging()&&this.dispatchNewMouseKeysEvent(e,"fin-canvas-drag",{dragstart:this.dragstart,isRightClick:this.isRightClick(e)}),this.bounds.contains(this.mouseLocation)&&this.dispatchNewMouseKeysEvent(e,"fin-canvas-mousemove")},finmousedown:function(e){this.mouseLocation=this.mouseDownLocation=this.getLocal(e),this.mousedown=!0,this.dispatchNewMouseKeysEvent(e,"fin-canvas-mousedown",{isRightClick:this.isRightClick(e)}),this.takeFocus()},finMouseDownOutside:function(e){this.dispatchNewMouseKeysEvent(e,"fin-canvas-outside-mousedown",{isRightClick:this.isRightClick(e)})},finmouseup:function(e){this.mousedown&&(this.isDragging()&&(this.dispatchNewMouseKeysEvent(e,"fin-canvas-dragend",{dragstart:this.dragstart,isRightClick:this.isRightClick(e)}),this.beNotDragging(),this.dragEndtime=Date.now()),this.mousedown=!1,this.dispatchNewMouseKeysEvent(e,"fin-canvas-mouseup",{dragstart:this.dragstart,isRightClick:this.isRightClick(e)}))},finmouseout:function(e){this.mousedown||(this.mouseLocation=new rectangular.Point(-1,-1)),this.repaint(),this.dispatchNewMouseKeysEvent(e,"fin-canvas-mouseout",{dragstart:this.dragstart})},finwheelmoved:function(e){this.isDragging()||!this.hasFocus()||(e.preventDefault(),this.dispatchNewMouseKeysEvent(e,"fin-canvas-wheelmoved",{isRightClick:this.isRightClick(e)}))},finclick:function(e){this.mouseLocation=this.getLocal(e),this.dispatchNewMouseKeysEvent(e,"fin-canvas-click",{isRightClick:this.isRightClick(e)})},findblclick:function(e){this.mouseLocation=this.getLocal(e),this.dispatchNewMouseKeysEvent(e,"fin-canvas-dblclick",{isRightClick:this.isRightClick(e)})},getCharMap:function(){return charMap},getKeyChar:function(e){var key=e.keyCode||e.detail.key,shift=e.shiftKey||e.detail.shift;return charMap[key][shift?1:0]},finkeydown:function(e){if(this.hasFocus()){9===e.keyCode&&e.preventDefault();var keyChar=this.getKeyChar(e);e.repeat?this.repeatKey===keyChar?this.repeatKeyCount++:(this.repeatKey=keyChar,this.repeatKeyStartTime=Date.now()):(this.repeatKey=null,this.repeatKeyCount=0,this.repeatKeyStartTime=0),-1===this.currentKeys.indexOf(keyChar)&&this.currentKeys.push(keyChar),this.dispatchNewEvent(e,"fin-canvas-keydown",{alt:e.altKey,ctrl:e.ctrlKey,char:keyChar,code:e.charCode,key:e.keyCode,meta:e.metaKey,repeatCount:this.repeatKeyCount,repeatStartTime:this.repeatKeyStartTime,shift:e.shiftKey,identifier:e.key,currentKeys:this.currentKeys.slice(0),sourceEvent:e})}},finkeyup:function(e){if(this.hasFocus()){9===e.keyCode&&e.preventDefault();var keyChar=this.getKeyChar(e);this.currentKeys.splice(this.currentKeys.indexOf(keyChar),1),this.repeatKeyCount=0,this.repeatKey=null,this.repeatKeyStartTime=0,this.dispatchNewEvent(e,"fin-canvas-keyup",{alt:e.altKey,ctrl:e.ctrlKey,char:keyChar,code:e.charCode,key:e.keyCode,meta:e.metaKey,repeat:e.repeat,shift:e.shiftKey,identifier:e.key,currentKeys:this.currentKeys.slice(0)})}},_clearCurrentKeys:function(){this.currentKeys=[]},finfocusgained:function(e){this.dispatchNewEvent(e,"fin-canvas-focus-gained")},finfocuslost:function(e){this._clearCurrentKeys(),this.dispatchNewEvent(e,"fin-canvas-focus-lost")},fincontextmenu:function(e){e.ctrlKey&&-1===this.currentKeys.indexOf("CTRL")&&this.currentKeys.push("CTRL"),this.dispatchNewMouseKeysEvent(e,"fin-canvas-context-menu",{isRightClick:this.isRightClick(e)})},repaint:function(){this.dirty=!0,paintRequest&&0!==this.component.properties.repaintIntervalRate||this.paintNow()},getMouseLocation:function(){return this.mouseLocation},getOrigin:function(){var rect=this.canvas.getBoundingClientRect(),p=new rectangular.Point(rect.left,rect.top);return p},getLocal:function(e){var rect=this.canvas.getBoundingClientRect(),p=new rectangular.Point(e.clientX-rect.left,e.clientY-rect.top);return p},hasFocus:function(){return document.activeElement===this.canvas},takeFocus:function(){var self=this;this.hasFocus()||setTimeout(function(){self.canvas.focus()},10)},beDragging:function(){this.dragging=!0,this.disableDocumentElementSelection()},beNotDragging:function(){this.dragging=!1,this.enableDocumentElementSelection()},isDragging:function(){return this.dragging},disableDocumentElementSelection:function(){var style=document.body.style;style.cssText+="-webkit-user-select: none"},enableDocumentElementSelection:function(){var style=document.body.style;style.cssText=style.cssText.replace("-webkit-user-select: none","")},setFocusable:function(truthy){this.focuser.style.display=truthy?"":"none"},isRightClick:function(e){var isRightMB;return e=e||window.event,"which"in e?isRightMB=3===e.which:"button"in e&&(isRightMB=2===e.button),isRightMB},dispatchEvent:function(e){return this.canvas.dispatchEvent(e)},setInfo:function(message,width){message&&(width!==void 0&&(width&&!isNaN(+width)&&(width+="px"),this.infoDiv.style.width=width),message.indexOf("<")?this.infoDiv.innerHTML=message:this.infoDiv.innerText=message),this.infoDiv.style.display=message?"block":"none"}},restartPaintLoop(),restartResizeLoop(),Canvas.graphicsContextAliases={simpleText:"fillText"},module.exports=Canvas},{"./graphics":96,rectangular:14}],88:[function(require,module,exports){exports.shaker=function(options){function shaker(event){event&&"left"!==event.propertyName||(el.style.left=x+dx+"px",!shakes--&&(el.removeEventListener("transitionend",shaker),transitions.pop(),el.style.transition=transitions.join(","),el.style.position=position,options.callback&&options.callback.call(context,options)),dx=shakes?-dx:0)}options=options||{};var context=this,el=options.el||context.el,duration=options.duration||"0.065s",computedStyle=window.getComputedStyle(el),transitions=computedStyle.transition.split(","),position=computedStyle.position,x=parseInt(computedStyle.left),dx=-3,shakes=6;transitions.push("left "+duration),el.style.transition=transitions.join(","),el.addEventListener("transitionend",shaker),shaker()};var defaultGlowerStyles={"background-color":"yellow","box-shadow":"0 0 10px red"};exports.glower=function(options){function glower(event){var was=styleWas[event.propertyName];was.undo?(el.style[event.propertyName]=was.style,was.undo=!1):! --values&&(el.removeEventListener("transitionend",glower),el.style.transition=transition,options.callback&&options.callback.call(context,options))}options=options||{};var context=this,el=options.el||context.el,duration=options.duration||"0.25s",styles=options.styles||defaultGlowerStyles,values=styles.length,computedStyle=window.getComputedStyle(el),styleWas={},transition=computedStyle.transition,transitions=transition.split(",");Object.keys(styles).forEach(function(style){styleWas[style]={style:computedStyle[style],undo:!0},transitions.push(style+" "+duration)}),el.style.transition=transitions.join(","),el.addEventListener("transitionend",glower),Object.keys(styles).forEach(function(style){el.style[style]=styles[style]})}},{}],89:[function(require,module){function demap(c){var d=this.map.indexOf(c)%11;return 0>d?"":10>d?d:"."}function formatDigit(d){return this.localizedDigits[d]}function parseDigit(c){var d=this.localizedDigits.indexOf(c);return 0>d&&(d=""),d}function Localization(locale,numberOptions,dateOptions){this.locale=locale,this.int=this.float=this.construct("number",NumberFormatter,numberOptions),this.construct("date",DateFormatter,dateOptions)}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},Base=require("../Base"),Formatter=Base.extend({initialize:function(defaultLocale,locale,options){"object"===("undefined"==typeof locale?"undefined":_typeof(locale))&&(options=locale,locale=defaultLocale),this.locale=locale,options&&("function"==typeof options.invalid&&(this.invalid=options.invalid),options.expectation&&(this.expectation=options.expectation))}});window.Intl||(window.Intl={NumberFormat:function(locale,options){this.format=function(n){var s=n.toString();if(!options||options.useGrouping===void 0||options.useGrouping){var dp=s.indexOf(".");for(0>dp&&(dp=s.length);0<(dp-=3)&&0<="0123456789".indexOf(s[dp-1]);)s=s.substr(0,dp)+","+s.substr(dp)}return s}},DateTimeFormat:function(){this.format=function(date){return null==date?date=null:("object"!==("undefined"==typeof date?"undefined":_typeof(date))&&(date=new Date(date)),date=date.getMonth()+1+"-"+date.getDate()+"-"+date.getFullYear()),date}}});var NumberFormatter=Formatter.extend("NumberFormatter",{initialize:function(defaultLocale,locale,options){"object"===("undefined"==typeof locale?"undefined":_typeof(locale))&&(options=locale),options=options||{},this.format=new Intl.NumberFormat(this.locale,options).format;var mapper=new Intl.NumberFormat(this.locale,{useGrouping:!1}).format;this.demapper=demap.bind(this),this.map=mapper(10123456789.5).substr(1,11),options.acceptStandardDigits&&"0123456789."!==this.map&&(this.map+="0123456789."),this.invalids=new RegExp("[^"+this.format(11111).replace(this.map[1],"")+this.map+"]")},invalid:function(number){return this.invalids.test(number)},expectation:"Expected a number with optional commas (thousands grouping separator), optional decimal point, and an optional fractional part.\n"+"Comma separators are part of the format and will always be displayed for values >= 1000.\n"+"Edited values are always saved in their entirety even though the formatted value is rounded to the specified number of decimal places.",parse:function(formattedLocalizedNumber){var number=+formattedLocalizedNumber.split("").map(this.demapper).join("");if(isNaN(number))throw"Invalid Number";return number}}),DateFormatter=Formatter.extend("DateFormatter",{initialize:function(defaultLocale,locale,options){"object"===("undefined"==typeof locale?"undefined":_typeof(locale))&&(options=locale),options=options||{},this.format=new Intl.DateTimeFormat(this.locale,options).format;var localizeNumber=new Intl.NumberFormat(this.locale,{useGrouping:!1,style:"decimal"}).format,localizedDigits=this.localizedDigits=localizeNumber(10123456789).substr(1,10);this.digitFormatter=formatDigit.bind(this),this.digitParser=parseDigit.bind(this);var yy=1987,mm=12,dd=30,YY=this.transformNumber(this.digitFormatter,yy),MM=this.transformNumber(this.digitFormatter,mm),DD=this.transformNumber(this.digitFormatter,dd),testDate=new Date(yy,mm-1,dd),localizeDate=new Intl.DateTimeFormat(this.locale).format,localizedDate=localizeDate(testDate),missingDigits=new Intl.NumberFormat(this.locale).format(456),localizedNumberPattern=this.localizedNumberPattern=new RegExp("["+localizedDigits+"]+","g"),parts=localizedDate.match(localizedNumberPattern);this.partsMap={yy:parts.indexOf(YY),mm:parts.indexOf(MM),dd:parts.indexOf(DD)},options.acceptStandardDigits&&(missingDigits+="1234567890"),this.invalids=new RegExp("[^"+localizedDate.replace(/-/g,"\\-")+missingDigits+"]")},invalid:function(number){return this.invalids.test(number)},parse:function(localizedDate){var parts=localizedDate.match(this.localizedNumberPattern),date;if(parts&&3===parts.length){var y=this.transformNumber(this.digitParser,parts[this.partsMap.yy]),m=this.transformNumber(this.digitParser,parts[this.partsMap.mm])-1,d=this.transformNumber(this.digitParser,parts[this.partsMap.dd]);date=new Date(y,m,d)}else throw"Invalid Date";return date},transformNumber:function(digitTransformer,number){return number.toString().split("").map(digitTransformer).join("")}});Localization.prototype={constructor:Localization.prototype.constructor,$$CLASS_NAME:"Localization",construct:function(localizerName,Constructor,factoryOptions){var constructorName=localizerName[0].toUpperCase()+localizerName.substr(1).toLowerCase()+"Formatter",BoundConstructor=Constructor.bind(null,this.locale),localizer=new BoundConstructor(factoryOptions);return this[constructorName]=BoundConstructor,this.add(localizerName,localizer)},add:function(name,localizer){if("object"===("undefined"==typeof name?"undefined":_typeof(name))&&(localizer=name,name=void 0),"object"!==("undefined"==typeof localizer?"undefined":_typeof(localizer))||"function"!=typeof localizer.format||"function"!=typeof localizer.parse||localizer.invalid&&"function"!=typeof localizer.invalid||localizer.expectation&&"string"!=typeof localizer.expectation)throw"Expected localizer object to conform to interface.";return name=name||localizer.name,name=name&&name.toLowerCase(),this[name]=localizer,localizer},get:function(name){return this[name&&name.toLowerCase()]||this.string},chromeDate:{format:function(date){if(null!=date){"object"!==("undefined"==typeof date?"undefined":_typeof(date))&&(date=new Date(date));var yy=date.getFullYear(),m=date.getMonth()+1,mm=10>m?"0"+m:m,d=date.getDate(),dd=10>d?"0"+d:d;date=yy+"-"+mm+"-"+dd}else date=null;return date},parse:function(str){var parts=str.split("-"),date;return date=parts&&3===parts.length?new Date(parts[0],parts[1]-1,parts[2]):null,date}},null:{format:function(value){return value},parse:function(str){return str}},string:{format:function(value){return value+""},parse:function(str){return str+""}}},module.exports=Localization},{"../Base":17}],90:[function(require,module){"use strict";var Base=require("../Base"),Registry=Base.extend("Registry",{add:function(name,item){if("function"==typeof name&&(item=name,name=void 0),!!item){if(name=name||item.getClassName&&item.getClassName(),!name)throw new this.HypergridError("Cannot register a \""+this.friendlyName()+"\" without a name.");return this[name]=item}},addSynonym:function(synonymName,existingName){return this[synonymName]=this.get(existingName)},get:function(name){if(name){var result=this[name];if(!result){for(var lowerName=name.toLowerCase(),keys=[],r=this;Object.getPrototypeOf(r)instanceof Registry;r=Object.getPrototypeOf(r))keys=keys.concat(Object.keys(r));var existingName=keys.find(function(key){return lowerName===key.toLowerCase()});existingName&&(result=this[existingName],this.addSynonym(name,existingName))}if(!result)throw new this.HypergridError("Expected \""+name+"\" to be a registered "+this.friendlyName()+".");return result}},friendlyName:function(){if(this.BaseClass){var name=this.BaseClass.getClassName();name=name&&name.replace(/([A-Z])/g," $1").trim().toLowerCase()}return name||"[unnamed class]"}});module.exports=Registry},{"../Base":17}],91:[function(require,module){"use strict";function SelectionModel(grid){this.grid=grid,this.reset()}var RangeSelectionModel=require("sparse-boolean-array");SelectionModel.prototype={constructor:SelectionModel.prototype.constructor,allRowsSelected:!1,reset:function(){this.selections=[],this.flattenedX=[],this.flattenedY=[],this.rowSelectionModel=new RangeSelectionModel,this.columnSelectionModel=new RangeSelectionModel,this.setLastSelectionType("")},getLastSelection:function(){var sels=this.selections,sel=sels[sels.length-1];return sel},getLastSelectionType:function(){return this.lastSelectionType},setLastSelectionType:function(type){this.lastSelectionType=type},checkCellTop:function(x,y1){var dm=this.grid.behavior.dataModel;if(dm.isRenderSkipNeeded(x,y1)&&0<dm.getRowspan(x,y1-1)){for(var yOffset=y1;dm.isRenderSkipNeeded(x,yOffset)&&0<yOffset;)--yOffset;y1=yOffset}return y1},checkCellBottom:function(x,y2){var span=this.grid.behavior.dataModel.getRowspan(x,y2);return 0<span&&(y2+=span),y2},checkCellLeft:function(x1,y){var dm=this.grid.behavior.dataModel;if(dm.isRenderSkipNeeded(x1,y)&&0<dm.getColspan(x1-1,y)){for(var xOffset=x1;dm.isRenderSkipNeeded(xOffset,y)&&0<xOffset;)--xOffset;x1=xOffset}return x1},checkCellRight:function(x2,y){var span=this.grid.behavior.dataModel.getColspan(x2,y);return 0<span&&(x2+=span),x2},checkSelectionCorners:function(ox,oy,ex,ey){var x1=ox,x2=ox+ex,swapX=x1>x2,y1=oy,y2=oy+ey,swapY=y1>y2;swapX&&(x2=[x1,x1=x2][0]),swapY&&(y2=[y1,y1=y2][0]);for(var x=x1;x<=x2;++x)y1=this.checkCellTop(x,y1);for(var _x=x1;_x<=x2;++_x)y2=this.checkCellBottom(_x,y2);for(var y=y1;y<=y2;++y)x1=this.checkCellLeft(x1,y);for(var _y=y1;_y<=y2;++_y)x2=this.checkCellRight(x2,_y);return swapX&&(x2=[x1,x1=x2][0]),swapY&&(y2=[y1,y1=y2][0]),ox!==x1||oy!==y1||ex!==x2-x1||ey!==y2-y1?this.checkSelectionCorners(x1,y1,x2-x1,y2-y1):{ox:x1,oy:y1,ex:x2-x1,ey:y2-y1}},select:function(_ox,_oy,_ex,_ey,silent){isNaN(_ex)&&(_ex=0),isNaN(_ey)&&(_ey=0);var _checkSelectionCorner=this.checkSelectionCorners(_ox,_oy,_ex,_ey),ox=_checkSelectionCorner.ox,oy=_checkSelectionCorner.oy,ex=_checkSelectionCorner.ex,ey=_checkSelectionCorner.ey,newSelection=this.grid.newRectangle(ox,oy,ex,ey);newSelection.firstSelectedCell=this.grid.newPoint(this.checkCellLeft(_ox,_oy),this.checkCellTop(_ox,_oy)),newSelection.lastSelectedCell=newSelection.firstSelectedCell.x===newSelection.origin.x&&newSelection.firstSelectedCell.y===newSelection.origin.y?newSelection.corner:newSelection.origin,this.grid.properties.multipleSelections?(this.selections.push(newSelection),this.flattenedX.push(newSelection.flattenXAt(0)),this.flattenedY.push(newSelection.flattenYAt(0))):(this.selections[0]=newSelection,this.flattenedX[0]=newSelection.flattenXAt(0),this.flattenedY[0]=newSelection.flattenYAt(0)),this.setLastSelectionType("cell"),silent||this.grid.selectionChanged()},toggleSelect:function(ox,oy,ex,ey){var selected,index;selected=this.selections.find(function(selection,idx){return index=idx,selection.origin.x===ox&&selection.origin.y===oy&&selection.extent.x===ex&&selection.extent.y===ey}),selected?(this.selections.splice(index,1),this.flattenedX.splice(index,1),this.flattenedY.splice(index,1),this.grid.selectionChanged()):this.select(ox,oy,ex,ey)},clearMostRecentSelection:function(keepRowSelections){keepRowSelections||this.setAllRowsSelected(!1),this.selections.length&&--this.selections.length,this.flattenedX.length&&--this.flattenedX.length,this.flattenedY.length&&--this.flattenedY.length},selectionModelClearMostRecent:function(selectionModel){selectionModel.clearMostRecentSelection(),this.clearMostRecentSelection()},clearMostRecentColumnSelection:function(){this.selectionModelClearMostRecent(this.columnSelectionModel),this.setLastSelectionType("column")},clearMostRecentRowSelection:function(){this.selectionModelClearMostRecent(this.rowSelectionModel),this.setLastSelectionType("row")},clearRowSelection:function(){this.rowSelectionModel.clear(),this.setLastSelectionType("row")},getSelections:function(){return this.selections},hasSelections:function(){return 0!==this.selections.length},hasRowSelections:function(){return!this.rowSelectionModel.isEmpty()},hasColumnSelections:function(){return!this.columnSelectionModel.isEmpty()},isCellSelectedInRow:function(y){return this._isCellSelected(this.flattenedX,0,y)},isCellSelectedInColumn:function(x){return this._isCellSelected(this.flattenedY,x,0)},isSelected:function(x,y){return this.isColumnSelected(x)||this.isRowSelected(y)||this._isCellSelected(this.selections,x,y)},isCellSelected:function(x,y){return this._isCellSelected(this.selections,x,y)},_isCellSelected:function(selections,x,y){var self=this;return!!selections.find(function(selection){return self.rectangleContains(selection,x,y)})},clear:function(keepRowSelections){this.selections.length=0,this.flattenedX.length=0,this.flattenedY.length=0,this.columnSelectionModel.clear(),keepRowSelections||(this.setAllRowsSelected(!1),this.rowSelectionModel.clear()),this.grid.selectionChanged()},isRectangleSelected:function(ox,oy,ex,ey){return!!this.selections.find(function(selection){return selection.origin.x===ox&&selection.origin.y===oy&&selection.extent.x===ex&&selection.extent.y===ey})},isColumnSelected:function(x){return this.columnSelectionModel.isSelected(x)},isRowSelected:function(y){return this.allRowsSelected||this.rowSelectionModel.isSelected(y)},selectColumn:function(x1,x2){x2===void 0&&(x2=x1),x1<=x2?(x1=this.checkCellLeft(x1,0),x2=this.checkCellRight(x2,0)):(x1=this.checkCellRight(x1,0),x2=this.checkCellLeft(x2,0)),this.columnSelectionModel.select(x1,x2),this.select(x1,0,x2-x1,this.grid.getRowCount()-1),this.grid.selectColDefsForApi(),this.setLastSelectionType("column")},selectAllRows:function(){this.clear(),this.setAllRowsSelected(!0)},setAllRowsSelected:function(isIt){this.allRowsSelected=isIt,isIt&&this.select(0,0,this.grid.getColumnCount()-1,this.grid.getRowCount()-1)},areAllRowsSelected:function(){return this.allRowsSelected},selectRow:function(y1,y2){y2===void 0&&(y2=y1),y1<=y2?(y1=this.checkCellTop(0,y1),y2=this.checkCellBottom(0,y2)):(y1=this.checkCellBottom(0,y1),y2=this.checkCellTop(0,y2)),this.rowSelectionModel.select(y1,y2),this.select(0,y1,this.grid.getColumnCount()-1,y2-y1),this.grid.selectColDefsForApi(),this.setLastSelectionType("row")},deselectColumn:function(x1,x2){this.columnSelectionModel.deselect(x1,x2),this.setLastSelectionType("column")},deselectRow:function(y1,y2){this.areAllRowsSelected()&&(this.setAllRowsSelected(!1),this.rowSelectionModel.select(0,this.grid.getRowCount()-1)),this.rowSelectionModel.deselect(y1,y2),this.setLastSelectionType("row")},getSelectedRows:function(){if(this.areAllRowsSelected()){for(var headerRows=this.grid.getHeaderRowCount(),rowCount=this.grid.getRowCount()-headerRows,result=Array(rowCount),i=0;i<rowCount;i++)result[i]=i+headerRows;return result}return this.rowSelectionModel.getSelections()},getSelectedColumns:function(){return this.columnSelectionModel.getSelections()},isColumnOrRowSelected:function(){return!this.columnSelectionModel.isEmpty()||!this.rowSelectionModel.isEmpty()},getFlattenedYs:function(){var result=[],set={};return this.selections.forEach(function(selection){for(var top=selection.origin.y,size=selection.extent.y+1,r=0,ti;r<size;r++)ti=r+top,set[ti]||(result.push(ti),set[ti]=!0)}),result.sort(function(x,y){return x-y}),result},selectRowsFromCells:function(offset,keepRowSelections){offset=offset||0;var sm=this.rowSelectionModel;keepRowSelections||(this.setAllRowsSelected(!1),sm.clear()),this.selections.forEach(function(selection){var top=selection.origin.y,extent=selection.extent.y;top+=offset,sm.select(top,top+extent)})},selectColumnsFromCells:function(offset){offset=offset||0;var sm=this.columnSelectionModel;sm.clear(),this.selections.forEach(function(selection){var left=selection.origin.x,extent=selection.extent.x;left+=offset,sm.select(left,left+extent)})},isInCurrentSelectionRectangle:function(x,y){var last=this.selections[this.selections.length-1];return last&&this.rectangleContains(last,x,y)},isFirstSelectedCell:function(x,y){var firstSelectedCell=this.getFirstSelectedCellOfLastSelection();return firstSelectedCell&&firstSelectedCell.x===x&&firstSelectedCell.y===y},getFirstSelectedCellOfLastSelection:function(){var last=this.selections[this.selections.length-1];if(last)return last.firstSelectedCell},rectangleContains:function(rect,x,y){var minX=rect.origin.x,minY=rect.origin.y,maxX=minX+rect.extent.x,maxY=minY+rect.extent.y;0>rect.extent.x&&(minX=maxX,maxX=rect.origin.x),0>rect.extent.y&&(minY=maxY,maxY=rect.origin.y);var result=x>=minX&&y>=minY&&x<=maxX&&y<=maxY;return result}},module.exports=SelectionModel},{"sparse-boolean-array":15}],92:[function(require,module){"use strict";function WritablePoint(){}function shallowClone(obj){var clone=Object.create(Object.getPrototypeOf(obj));return Object.getOwnPropertyNames(obj).forEach(function(key){return Object.defineProperty(clone,key,Object.getOwnPropertyDescriptor(obj,key))}),clone}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},cellEventProperties=Object.defineProperties({},{value:{get:function(){return this.subgrid.getValue(this.valueCell.x,this.valueCell.y)},set:function(value){this.subgrid.setValue(this.valueCell.x,this.valueCell.y,value)}},isValueUrl:{get:function(){return this.subgrid.isValueUrl(this.value)}},dataRow:{get:function(){return this.subgrid.getRow(this.dataCell.y,this.column.treeLevel)}},colspan:{get:function(){return this.subgrid.getColspan(this.dataCell.x,this.dataCell.y)}},rowspan:{get:function(){return this.subgrid.getRowspan(this.dataCell.x,this.dataCell.y)}},isRenderSkipNeeded:{get:function(){return this.subgrid.isRenderSkipNeeded(this.valueCell.x,this.valueCell.y)}},isColspanedByLeftColumn:{get:function(){return this.subgrid.isColspanedByLeftColumn(this.dataCell.x,this.dataCell.y)}},rowspanMainRow:{get:function(){return this.subgrid.getRowspanMainRow(this.dataCell.x,this.dataCell.y)}},cellData:{get:function(){return this.subgrid._getDataRowObject(this.valueCell.x,this.valueCell.y)}},colspanMainColumnName:{get:function(){return this.subgrid.getColspanMainColumnName(this.dataCell.x,this.dataCell.y)}},childColumns:{get:function(){return this.subgrid.getChildColumnsFromCell(this.dataCell.x,this.dataCell.y)}},isExpandableColumn:{get:function(){return this.subgrid.getHasChildColumnsFromCell(this.dataCell.x,this.dataCell.y)}},isColumnOpenByDefault:{get:function(){return this.subgrid.getIsColumnOpenByDefaultFromCell(this.dataCell.x,this.dataCell.y)}},isColumnExpanded:{get:function(){return this.subgrid.getIsColumnGroupShowFromCell(this.dataCell.x,this.dataCell.y)}},isRowspanedByRow:{get:function(){return this.subgrid.isRowspanedByRow(this.dataCell.x,this.dataCell.y)}},columnGroupId:{get:function(){return this.subgrid.getColumnGroupIdFromCell(this.dataCell.x,this.dataCell.y)}},formattedValue:{get:function(){return this._formattedValue||(this._formattedValue=this.grid.formatValue(this.properties.format,this.value,this.rowProperties.headerRow))}},highlightedChars:{get:function(){var highlights=[],highLightText=this.properties.highLightText;if(!highLightText)return highlights;var searchType=this.column?this.column.searchType:"NONE";if("NONE"===searchType||searchType===void 0)return highlights;var str=this.formattedValue;if(!str)return highlights;var reg=this.subgrid.getHighlightRegex(highLightText,searchType);if(!reg)return highlights;for(var m;null!=(m=reg.exec(str+""));)highlights.push({from:m.index,to:m.index+m[0].length});return highlights}},bounds:{get:function(){return this._bounds||(this._bounds={x:this.visibleColumn.left,y:this.visibleRow.top,width:this.visibleColumn.width+(this.colspan?this.behavior.getAdditionalWidth(this.dataCell.x,this.dataCell.y):0),height:this.visibleRow.height+(this.rowspan?this.behavior.getAdditionalHeight(this.dataCell.x,this.dataCell.y):0)})}},columnProperties:{get:function(){var cp=this._columnProperties;return cp||(cp=this.column.properties,this.isHandleColumn?cp=cp.rowHeader:this.isTreeColumn?cp=cp.treeHeader:this.isDataRow||(this.isFilterRow?cp=cp.filterProperties:cp=cp.columnHeader),this._columnProperties=cp),cp}},cellOwnProperties:{get:function(){return void 0===this._cellOwnProperties&&(this._cellOwnProperties=this.column.getCellOwnProperties(this.dataCell.y,this.subgrid)),this._cellOwnProperties}},properties:{get:function(){if(this._properties)return this._properties;var props=shallowClone(this.cellOwnProperties||this.columnProperties);return this._cellOwnDefinedProperties=this._cellOwnDefinedProperties||this.subgrid.getDefinedCellProperties(this.valueCell.x,this.valueCell.y),props&&"object"===("undefined"==typeof props?"undefined":_typeof(props))&&this._cellOwnDefinedProperties&&"object"===_typeof(this._cellOwnDefinedProperties)&&Object.keys(this._cellOwnDefinedProperties).length&&Object.assign(props,this._cellOwnDefinedProperties),this._properties=props}},getCellProperty:{value:function(key){return this.properties[key]}},setCellProperty:{value:function(key,_value){this._cellOwnProperties=this.column.setCellProperty(this.dataCell.y,key,_value,this.subgrid)}},rowOwnProperties:{get:function(){return this.behavior.getRowProperties(this,void 0,this.subgrid)}},rowProperties:{get:function(){return this.behavior.getRowProperties(this,null,this.subgrid)},set:function(properties){this.behavior.setRowProperties(this,properties,this.subgrid)}},getRowProperty:{value:function(key){var rowProps=this.rowOwnProperties;return rowProps&&rowProps[key]}},setRowProperty:{value:function(key,_value2){this.rowProperties[key]=_value2}},reset:{value:function(visibleColumn,visibleRow){this._columnProperties=void 0,this._cellOwnProperties=void 0,this._cellOwnDefinedProperties=void 0,this._bounds=void 0,this._formattedValue=void 0,this._properties=void 0,this.snapshot=[],this.minWidth=void 0,this.visibleColumn=visibleColumn,this.visibleRow=visibleRow,this.subgrid=visibleRow.subgrid,this.column=visibleColumn.column,this.gridCell.x=visibleColumn.columnIndex,this.gridCell.y=visibleRow.index,this.valueCell.x=this.dataCell.x=this.column&&this.column.index,this.valueCell.y=this.dataCell.y=visibleRow.rowIndex,this.isRenderSkipNeeded&&(1<this.valueCell.x&&!this.grid.isColumnVisible(this.valueCell.x-1)&&(this.valueCell.x=this.grid.selectionModel.checkCellLeft(this.valueCell.x,this.valueCell.y)),0<this.valueCell.y&&!this.grid.isDataRowVisible(this.valueCell.y-1)&&(this.valueCell.y=this.grid.selectionModel.checkCellTop(this.valueCell.x,this.valueCell.y)))}},resetGridCY:{value:function(gridC,gridY){var visible=(vc=this.renderer.getVisibleColumn(gridC))&&(vr=this.renderer.getVisibleRow(gridY)),vr,vc;return visible&&this.reset(vc,vr),visible}},resetGridXY:{value:function(gridX,gridY){var visible=(vc=this.renderer.visibleColumns[gridX])&&(vr=this.renderer.getVisibleRow(gridY)),vr,vc;return visible&&this.reset(vc,vr),visible}},resetDataXY:{value:function(dataX,dataY,subgrid){var visible=(vc=this.renderer.getVisibleDataColumn(dataX))&&(vr=this.renderer.getVisibleDataRow(dataY,subgrid)),vr,vc;return visible&&this.reset(vc,vr),visible}},resetGridXDataY:{value:function(gridX,dataY,subgrid,useAllCells){var visible,vc,vr;return useAllCells?(vc={column:this.behavior.getColumn(gridX),columnIndex:gridX},vr={subgrid:subgrid||this.behavior.subgrids.lookup.data,rowIndex:dataY},visible=!0):visible=(vc=this.renderer.getVisibleColumn(gridX))&&(vr=this.renderer.getVisibleDataRow(dataY,subgrid)),visible&&this.reset(vc,vr),visible&&this}},clone:{value:function(assign){var cellEvent=new this.constructor;return cellEvent.resetGridXY(this.visibleColumn.index,this.visibleRow.index),assign&&Object.assign(cellEvent,this),cellEvent}},editPoint:{get:function(){throw"The `.editPoint` property is no longer available as of v1.2.10. Use the following coordinates instead:\n"+"`.gridCell.x` - The active column index. (Adjusted for column scrolling after fixed columns.)\n"+"`.gridCell.y` - The vertical grid coordinate. (Unaffected by row scrolling.)\n"+"`.dataCell.x` - The data model's column index. (Unaffected by column scrolling.)\n"+"`.dataCell.y` - The data model's row index. (Adjusted for data row scrolling after fixed rows.)\n"}},isRowVisible:{get:function(){return!!this.visibleRow}},isColumnVisible:{get:function(){return!!this.visibleColumn}},isCellVisible:{get:function(){return this.isRowVisible&&this.isColumnVisible}},isDataRow:{get:function(){return this.subgrid.isData}},isDataColumn:{get:function(){return 0<=this.gridCell.x}},isDataCell:{get:function(){return this.isDataRow&&this.isDataColumn}},isRowSelected:{get:function(){return this.isDataRow&&this.selectionModel.isRowSelected(this.dataCell.y)}},isColumnSelected:{get:function(){return this.isDataColumn&&this.selectionModel.isColumnSelected(this.gridCell.x)}},isCellSelected:{get:function(){return this.selectionModel.isCellSelected(this.gridCell.x,this.dataCell.y)}},isRowHovered:{get:function(){return this.grid.canvas.hasMouse&&this.isDataRow&&this.grid.hoverCell&&this.grid.hoverCell.y===this.gridCell.y}},isColumnHovered:{get:function(){return this.grid.canvas.hasMouse&&this.isDataColumn&&this.grid.hoverCell&&this.grid.hoverCell.x===this.gridCell.x}},isCellHovered:{get:function(){return this.isRowHovered&&this.isColumnHovered}},isRowFixed:{get:function(){return this.isDataRow&&this.dataCell.y<this.grid.properties.fixedRowCount}},isColumnFixed:{get:function(){return this.isDataColumn&&this.gridCell.x<this.grid.properties.fixedColumnCount}},isCellFixed:{get:function(){return this.isRowFixed&&this.isColumnFixed}},isHandleColumn:{get:function(){return this.gridCell.x===this.behavior.rowColumnIndex&&this.grid.properties.showRowNumbers}},isHandleCell:{get:function(){return this.isHandleColumn&&this.isDataRow}},isTreeColumn:{get:function(){return this.gridCell.x===this.behavior.treeColumnIndex}},isHeaderRow:{get:function(){return this.subgrid.isHeader}},isHeaderHandle:{get:function(){return this.isHeaderRow&&this.isHandleColumn}},isHeaderCell:{get:function(){return this.isHeaderRow&&this.isDataColumn}},isFilterRow:{get:function(){return this.subgrid.isFilter}},isFilterHandle:{get:function(){return this.isFilterRow&&this.isHandleColumn}},isFilterCell:{get:function(){return this.isFilterRow&&this.isDataColumn}},isSummaryRow:{get:function(){return this.subgrid.isSummary}},isSummaryHandle:{get:function(){return this.isSummaryRow&&this.isHandleColumn}},isSummaryCell:{get:function(){return this.isSummaryRow&&this.isDataColumn}},isTopTotalsRow:{get:function(){return this.subgrid===this.behavior.subgrids.lookup.topTotals}},isTopTotalsHandle:{get:function(){return this.isTopTotalsRow&&this.isHandleColumn}},isTopTotalsCell:{get:function(){return this.isTopTotalsRow&&this.isDataColumn}},isBottomTotalsRow:{get:function(){return this.subgrid===this.behavior.subgrids.lookup.bottomTotals}},isBottomTotalsHandle:{get:function(){return this.isBottomTotalsRow&&this.isHandleColumn}},isBottomTotalsCell:{get:function(){return this.isBottomTotalsRow&&this.isDataColumn}},isAggregationTreeColumn:{get:function(){return!!this.column&&"$$aggregation"===this.column.name}},isAggregationColumn:{get:function(){return!!this.column&&this.column.name.startsWith("$$aggregation")}},isAggregationRow:{get:function(){return this.grid.behavior.isAggregationRow(this.dataRow)}},childRows:{get:function(){return this.grid.behavior.getChildRows(this.dataRow)}},hasChildRows:{get:function(){return this.grid.behavior.hasChildRows(this.dataRow)}},aggregationChildCount:{get:function(){return this.grid.behavior.getAggregationChildCount(this.dataRow)}},isExpandableRow:{get:function(){return this.grid.behavior.isExpandableRow(this.dataRow)}},isRowExpanded:{get:function(){return this.grid.behavior.isRowExpanded(this.dataRow)}},isGrandTotalRow:{get:function(){return!!this.dataRow&&!!this.dataRow.$$grand_total}},treeLevel:{get:function(){return this.grid.behavior.getRowTreeLevel(this.dataRow)}},$$CLASS_NAME:{value:"CellEvent"}}),Point=require("rectangular").Point;WritablePoint.prototype=Point.prototype;var writableDescriptor={writable:!0},eumerableDescriptor={writable:!0,enumerable:!0};module.exports=function(grid){function CellEvent(gridX,gridY){Object.defineProperties(this,{visibleColumn:writableDescriptor,visibleRow:writableDescriptor,subgrid:writableDescriptor,gridCell:{value:new WritablePoint},dataCell:{value:new WritablePoint},valueCell:{value:new WritablePoint},column:eumerableDescriptor,_columnProperties:writableDescriptor,_cellOwnProperties:writableDescriptor,_cellOwnDefinedProperties:writableDescriptor,_bounds:writableDescriptor,snapshot:writableDescriptor,minWidth:writableDescriptor,disabled:writableDescriptor}),arguments.length&&this.resetGridCY(gridX,gridY)}return CellEvent.prototype=Object.create(cellEventProperties,{constructor:{value:CellEvent},grid:{value:grid},renderer:{value:grid.renderer},selectionModel:{value:grid.selectionModel},behavior:{value:grid.behavior},dataModel:{value:grid.behavior.dataModel}}),CellEvent}},{rectangular:14}],93:[function(require,module){"use strict";function argList(s){return s.match(/^\w+\((.*)\)$/)[1].match(/(\w+)/g)}console.warn||(console.warn=function(){console.log.apply(console,["WARNING:"].concat(Array.prototype.slice.call(arguments)))});var regexIsMethod=/^[\w\.]+\(.*\)$/,deprecated=function deprecated(methodName,dotProps,since,args,notes){function mapToFormalArg(argName){var index=formalArgList.indexOf(argName);if(-1===index)throw"Actual arg \""+argName+"\" not found in formal arg list "+formalArgList;return args[index]}"string"==typeof args&&(notes=args,args=void 0);var chain=dotProps.split("."),warned=this.$$DEPRECATION_WARNED=this.$$DEPRECATION_WARNED||{},result=this,isSimpleWarning=0<=dotProps.indexOf(" "),isMethodCall=regexIsMethod.test(methodName),memberType,warning;if(methodName in warned||(warned[methodName]=deprecated.warnings),!isMethodCall){if(isSimpleWarning)return void(warned[methodName]&&(--warned[methodName],console.warn(dotProps)));throw"Expected method name with parentheses in 1st parameter OR simple warning (containing one or more spaces) in 2nd parameter of deprecated() call."}else if(isSimpleWarning)throw"Expected replacement method or property in 2nd parameter of deprecated() call.";else warned[methodName]&&(--warned[methodName],memberType=regexIsMethod.test(dotProps)?"method":"property",warning="The ."+methodName+" method has been deprecated as of v"+since+" in favor of the ."+chain.join(".")+" "+memberType+"."+" (Will be removed in a future release.)",notes&&(warning+=" "+notes),console.warn(warning));for(var formalArgList=argList(methodName),i=0,last=chain.length-1;i<=last;++i){var link=chain[i],name=link.match(/\w+/)[0],linkIsMethodCall=regexIsMethod.test(link),actualArgList=linkIsMethodCall?argList(link):void 0,actualArgs=[];actualArgList?(actualArgs=actualArgList.map(mapToFormalArg),result=result[name].apply(result,actualArgs)):linkIsMethodCall?result=result[name]():result=result[name]}return result};deprecated.warnings=1,module.exports=deprecated},{}],94:[function(require,module){"use strict";function setRowPropertiesBySubgridAndRowIndex(rowsHash){var behavior=this.grid.behavior;for(var subgridName in rowsHash)if(rowsHash.hasOwnProperty(subgridName)){var subgrid=behavior.subgrids.lookup[subgridName];if(subgrid){var subgridHash=rowsHash[subgridName];for(var rowIndex in subgridHash)if(subgridHash.hasOwnProperty(rowIndex)){var properties=subgridHash[rowIndex];for(var propName in properties)if(properties.hasOwnProperty(propName)){var propValue=properties[propName];"height"===propName?behavior.setRowHeight(rowIndex,+propValue,subgrid):console.warn("Unexpected row property \""+propName+"\" ignored. (The only row property currently implemented is \"height\").")}}}}}function setColumnPropertiesByColumnName(columnsHash){function nameMatches(column){return column.name===columnName}var columns=this.grid.behavior.getColumns();for(var columnName in columnsHash)if(columnsHash.hasOwnProperty(columnName)){var column=columns.find(nameMatches);column&&(column.properties=columnsHash[columnName])}}function setCellPropertiesByColumnNameAndRowIndex(cellsHash){function nameMatches(column){return column.name===columnName}var subgrids=this.grid.behavior.subgrids,columns=this.grid.behavior.getColumns();for(var subgridName in cellsHash)if(cellsHash.hasOwnProperty(subgridName)){var subgrid=subgrids.lookup[subgridName];if(subgrid){var subgridHash=cellsHash[subgridName];for(var rowIndex in subgridHash)if(subgridHash.hasOwnProperty(rowIndex)){var columnProps=subgridHash[rowIndex];for(var columnName in columnProps)if(columnProps.hasOwnProperty(columnName)){var column=columns.find(nameMatches);if(column){var properties=columnProps[columnName];column.addCellProperties(rowIndex,properties,subgrid)}}}}}}function getGridBorderDescriptor(edge){var propName="gridBorder"+(edge||"");return{enumerable:!0,get:function(){return this.var[propName]},set:function(border){this.var[propName]=border,edge||(this.var.gridBorderLeft=this.var.gridBorderRight=this.var.gridBorderTop=this.var.gridBorderBottom=border),this.grid.resetGridBorder(edge)}}}var dynamicPropertyDescriptors={theme:{enumerable:!0,get:function(){return this.grid.getTheme()},set:function(theme){this.grid.applyTheme(theme)}},subgrids:{enumerable:!0,get:function(){return this.var.subgrids},set:function(subgrids){this.var.subgrids=subgrids.slice(),this.grid.behavior&&(this.grid.behavior.subgrids=subgrids)}},features:{enumerable:!0,get:function(){return this.var.features},set:function(features){this.var.features=features.slice(),this.grid.behavior&&(this.grid.behavior.initializeFeatureChain(features),this.grid.allowEvents(this.grid.getRowCount()))}},gridRenderer:{enumerable:!0,get:function(){return this.var.gridRenderer},set:function(rendererName){this.var.gridRenderer=rendererName,this.grid.renderer.setGridRenderer(rendererName)}},columnIndexes:{enumerable:!0,get:function(){return this.grid.behavior.getActiveColumns().map(function(column){return column.index})},set:function(columnIndexes){this.grid.behavior.setColumnOrder(columnIndexes),this.grid.behavior.changed()}},columnNames:{enumerable:!0,get:function(){return this.grid.behavior.getActiveColumns().map(function(column){return column.name})},set:function(columnNames){this.grid.behavior.setColumnOrderByName(columnNames),this.grid.behavior.changed()}},rows:{enumerable:!0,get:function(){var subgrids={},behavior=this.grid.behavior;return behavior.subgrids.forEach(function(dataModel){for(var key=dataModel.name||dataModel.type,rowIndex=0,rowCount=dataModel.getRowCount(),rowProps;rowIndex<rowCount;++rowIndex)if(rowProps=behavior.getRowProperties(rowIndex,void 0,dataModel),rowProps){var subgrid=subgrids[key]=subgrids[key]||{};subgrid[rowIndex]=rowProps}}),subgrids},set:function(rowsHash){rowsHash&&(setRowPropertiesBySubgridAndRowIndex.call(this,rowsHash),this.grid.behavior.changed())}},columns:{enumerable:!0,get:function(){var columns=this.grid.behavior.getColumns(),headerify=this.grid.headerify;return columns.reduce(function(obj,column){var properties=Object.keys(column.properties).reduce(function(properties,key){switch(key){case"preferredWidth":break;case"header":if(headerify&&column.properties.header===headerify(column.properties.name))break;default:var value=column.properties[key];void 0!==value&&(properties[key]=value);}return properties},{});return Object.keys(properties).length&&(obj[column.name]=properties),obj},{})},set:function(columnsHash){columnsHash&&(setColumnPropertiesByColumnName.call(this,columnsHash),this.grid.behavior.changed())}},cells:{enumerable:!0,get:function(){var behavior=this.grid.behavior,columns=behavior.getColumns(),subgrids={};return behavior.subgrids.forEach(function(dataModel){function copyCellOwnProperties(column){var properties=behavior.getCellOwnProperties(column.index,rowIndex,dataModel);if(properties){var subgrid=subgrids[key]=subgrids[key]||{},row=subgrid[rowIndex]=subgrid[rowIndex]={};row[column.name]=Object.assign({},properties)}}for(var key=dataModel.name||dataModel.type,rowIndex=0,rowCount=dataModel.getRowCount();rowIndex<rowCount;++rowIndex)columns.forEach(copyCellOwnProperties)}),subgrids},set:function(cellsHash){cellsHash&&(setCellPropertiesByColumnNameAndRowIndex.call(this,cellsHash),this.grid.behavior.changed())}},rowHeaderCheckboxes:{enumerable:!0,get:function(){return this.var.rowHeaderCheckboxes},set:function(enabled){this.var.rowHeaderCheckboxes=enabled,this.grid.renderer.resetRowHeaderColumnWidth()}},rowHeaderNumbers:{enumerable:!0,get:function(){return this.var.rowHeaderNumbers},set:function(enabled){this.var.rowHeaderNumbers=enabled,this.grid.renderer.resetRowHeaderColumnWidth()}},showRowNumbers:{enumerable:!1,get:function(){return this.rowHeaderCheckboxes||this.rowHeaderNumbers},set:function(enabled){this.rowHeaderCheckboxes=this.rowHeaderNumbers=enabled}},doubleClickDelay:{enumerable:!0,get:function(){return this.var.doubleClickDelay},set:function(delay){warnedDoubleClickDelay||(warnedDoubleClickDelay=!0,console.warn("The doubleClickDelay property has been deprecated as of v2.1.0. Setting this property no longer has any effect. Set double-click speed in your system's mouse preferences. (This warning will be removed in a future release.)")),this.var.doubleClickDelay=delay}},lineColor:{get:function(){return this.gridLinesColor},set:function(color){this.gridLinesColor=this.gridLinesColor=color}},lineWidth:{get:function(){return this.gridLinesWidth},set:function(width){this.gridLinesWidth=this.gridLinesWidth=width}},gridBorder:getGridBorderDescriptor(),gridBorderLeft:getGridBorderDescriptor("Left"),gridBorderRight:getGridBorderDescriptor("Right"),gridBorderTop:getGridBorderDescriptor("Top"),gridBorderBottom:getGridBorderDescriptor("Bottom")},warnedDoubleClickDelay;module.exports=dynamicPropertyDescriptors},{}],95:[function(require,module){"use strict";function HypergridError(message){this.message=message}HypergridError.prototype=Object.create(Error.prototype),HypergridError.prototype.name="HypergridError",module.exports=HypergridError},{}],96:[function(require,module){function alpha(cssColorSpec){var matches,result;return result=cssColorSpec?null===(matches=cssColorSpec.match(ALPHA_REGEX))?1:void 0===matches[4]?0:+matches[4]:0,result}var ALPHA_REGEX=/^(transparent|((RGB|HSL)A\(.*,\s*([\d\.]+)\)))$/i,fontMetrics={},ELLIPSIS="\u2026",fontData={},API;API={clearFill:function(x,y,width,height,color){var a=alpha(color);1>a&&this.clearRect(x,y,width,height),0<a&&(this.cache.fillStyle=color,this.fillRect(x,y,width,height))},alpha:alpha,getTextWidth:function(string){var metrics=fontMetrics[this.cache.font]=fontMetrics[this.cache.font]||{};string+="";for(var i=0,sum=0,len=string.length,c;i<len;++i)c=string[i],sum+=metrics[c]=metrics[c]||this.measureText(c).width;return sum},getTextWidthTruncated:function(string,width,truncateTextWithEllipsis,highlightChars,abort){var metrics=fontMetrics[this.cache.font],highlights=[],truncString,truncWidth,truncAt;metrics||(metrics=fontMetrics[this.cache.font]={}),metrics[ELLIPSIS]||(metrics[ELLIPSIS]=this.measureText(ELLIPSIS).width);var sum=0,highlightIndex=0,charWidth=0;string+="",width+=!1===truncateTextWithEllipsis?2:0;for(var i=0,len=string.length,char;i<len;++i){if(char=string[i],charWidth=metrics[char]=metrics[char]||this.measureText(char).width,highlightChars){var highlightObject=highlightChars[highlightIndex];highlightObject&&(i===highlightObject.from&&(highlights[highlightIndex]={x:sum}),i===highlightObject.to&&(highlights[highlightIndex].width=sum-highlights[highlightIndex].x,++highlightIndex))}if(sum+=charWidth,!truncString&&truncateTextWithEllipsis!==void 0&&sum>width){switch(truncAt=i,truncateTextWithEllipsis){case!0:for(truncWidth=sum-charWidth+metrics[ELLIPSIS];truncAt&&truncWidth>width;)truncWidth-=metrics[string[--truncAt]];truncString=truncWidth>width?"":truncString=string.substr(0,truncAt)+ELLIPSIS;break;case!1:truncString=string.substr(0,truncAt);break;default:++truncAt<string.length&&(truncString=string.substr(0,truncAt));}if(abort)break}}if(highlights[highlightIndex]&&!highlights[highlightIndex].width){var _width=(truncWidth?truncWidth-charWidth:sum)-highlights[highlightIndex].x;0<_width?highlights[highlightIndex].width=_width:highlights.pop()}return{string:truncString,width:sum,highlights:highlights}},getTextHeight:function(font){var result=fontData[font];if(!result){result={};var text=document.createElement("span");text.textContent="Hg",text.style.font=font;var block=document.createElement("div");block.style.display="inline-block",block.style.width="1px",block.style.height="0px";var div=document.createElement("div");div.appendChild(text),div.appendChild(block),div.style.position="absolute",document.body.appendChild(div);try{block.style.verticalAlign="baseline";var blockRect=block.getBoundingClientRect(),textRect=text.getBoundingClientRect();result.ascent=blockRect.top-textRect.top,block.style.verticalAlign="bottom",result.height=blockRect.top-textRect.top,result.descent=result.height-result.ascent,result.offset=text.offsetHeight}finally{document.body.removeChild(div)}0!==result.height&&(fontData[font]=result)}return result},clipSave:function(conditional,x,y,width,height){this.conditionalsStack.push(conditional),conditional&&(this.cache.save(),this.beginPath(),this.rect(x,y,width,height),this.clip())},clipRestore:function(){this.conditionalsStack.pop()&&this.cache.restore()},truncateTextWithEllipsis:!0},module.exports=API},{}],97:[function(require,module,exports){"use strict";function capitalize(a,b,c){return b.toUpperCase()+c}var REGEXP_WORD_SEPARATORS=/[\s\-_]*([^\s\-_])([^\s\-_]+)/g,REGEXP_CAPITAL_LETTERS=/[A-Z]/g,REGEXP_LOWER_CASE_LETTER=/[a-z]/,shortWords=["of","at","by","from","and","but","for","a","an","the"];exports.titleize=function(string){var title=(REGEXP_LOWER_CASE_LETTER.test(string)?string:string.toLowerCase()).replace(REGEXP_WORD_SEPARATORS,capitalize).replace(REGEXP_CAPITAL_LETTERS," $&").trim();return shortWords.forEach(function(word){word=" "+word+" ",title=title.replace(new RegExp(word,"gi"),word)}),title}},{}],98:[function(require,module){"use strict";module.exports={cellEventFactory:require("./cellEventFactory"),dynamicPropertyDescriptors:require("./dynamicProperties"),graphics:require("./graphics"),Canvas:require("./Canvas")};var warned;Object.defineProperty(module.exports,"fields",{get:function(){throw new Error("The `Hypergrid.lib.fields` module has been retired as of v3.0.0 and incorporated into schema enrichment (triggered by the new `data-schema-changed` data event), which is influenced by the new `headerify` grid property.")}}),Object.defineProperty(module.exports,"DataSourceOrigin",{get:function(){return warned||(console.warn("The `DataSourceOrigin` module has been retired as of v3.0.0. The new default data model, `datasaur-local`, will be returned instead. Note, however, that it may be removed from the build in a future release. Developers are advised and encouraged to provide their own data model going forward. For example: `new Hypergrid({ DataSource: require('datasaur-local') })`; or provide a live data model instance in the `dataSource` (small \"d\") option."),warned=!0),require("../DatasaurLocal")}})},{"../DatasaurLocal":19,"./Canvas":87,"./cellEventFactory":92,"./dynamicProperties":94,"./graphics":96}],99:[function(){"use strict";_Mathsign=_Mathsign=function(x){return x=+x,0===x||isNaN(x)?x:0<x?1:-1},"function"!=typeof Array.prototype.findIndex&&(Array.prototype.findIndex=function(predicate){for(var context=arguments[1],i=0,len=this.length;i<len;i++)if(predicate.call(context,this[i],i,this))return i;return-1}),"function"!=typeof Array.prototype.fill&&(Array.prototype.fill=function(value,start,end){start=start===void 0?0:0>start?this.length+start:start,end=end===void 0?this.length:0>end?this.length+end:end;for(var i=start||0;i<end;++i)this[i]=value;return this}),"function"!=typeof Object.assign&&(Object.assign=function(target){for(var index=1,source;index<arguments.length;index++)if(source=arguments[index],null!=source)for(var nextKey in source)source.hasOwnProperty(nextKey)&&(target[nextKey]=source[nextKey]);return target}),"function"!=typeof Object.getOwnPropertyDescriptors&&(Object.getOwnPropertyDescriptors=function(object){return Object.getOwnPropertyNames(object).reduce(function(descriptors,key){return descriptors[key]=Object.getOwnPropertyDescriptor(object,key),descriptors},{})})},{}],100:[function(require,module){"use strict";var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},HypergridError=require("./error");module.exports=function(string){switch("undefined"==typeof string?"undefined":_typeof(string)){case"undefined":case"function":return string;case"string":break;default:throw new HypergridError("Expected string, function, or undefined.");}var args=string.match(/^function\s*\w*\s*\(([^]*?)\)/);if(!args)throw new HypergridError("Expected function keyword with formal parameter list.");args=args[1].split(",").map(function(s,i){if(s=s.match(/\s*(\w*)\s*/),!s&&i)throw new HypergridError("Expected formal parameter.");return s[1]});var body=string.match(/{\s*([^]*?)\s*}\s*$/);if(!body)throw new HypergridError("Expected function body.");return body=body[1],1!==args.length||args[0]?args=args.concat(body):args[0]=body,Function.apply(null,args)}},{"./error":95}],101:[function(require,module){"use strict";module.exports=function(resetCellEvents){var gridProps=this.grid.properties,visibleRows=this.visibleRows,R=visibleRows.length,vr,r,pool;if(resetCellEvents){pool=this.cellEventPool;var p=0;this.visibleColumns.forEachWithNeg(function(vc){for(r=0;r<R;r++,p++)vr=visibleRows[r],pool[p].reset(vc,vr)})}var columnBundles=[],gridPrefillColor=gridProps.backgroundColor,bundle,backgroundColor;this.visibleColumns.forEachWithNeg(function(vc){backgroundColor=vc.column.properties.backgroundColor,bundle&&bundle.backgroundColor===backgroundColor?bundle.right=vc.right:backgroundColor===gridPrefillColor?bundle=void 0:(bundle={backgroundColor:backgroundColor,left:vc.left,right:vc.right},columnBundles.push(bundle))}),this.columnBundles=columnBundles}},{}],102:[function(require,module){"use strict";module.exports=function(resetCellEvents){var gridProps=this.grid.properties,visibleRows=this.visibleRows,R=visibleRows.length,vr,r,p,pool;if(resetCellEvents)for(pool=this.cellEventPool,p=0,r=0;r<R;r++)vr=visibleRows[r],this.visibleColumns.forEachWithNeg(function(vc){p++,pool[p].reset(vc,vr)});var rowBundles=[],gridPrefillColor=gridProps.backgroundColor,rowStripes=gridProps.rowStripes,rowPrefillColors=Array(R),bundle,stripe,backgroundColor;for(r=0;r<R;r++)vr=visibleRows[r],stripe=vr.subgrid.isData&&rowStripes&&rowStripes[vr.rowIndex%rowStripes.length],backgroundColor=rowPrefillColors[r]=stripe&&stripe.backgroundColor||gridPrefillColor,bundle&&bundle.backgroundColor===backgroundColor?bundle.bottom=vr.bottom:backgroundColor===gridPrefillColor?bundle=void 0:(bundle={backgroundColor:backgroundColor,top:vr.top,bottom:vr.bottom},rowBundles.push(bundle));this.rowBundles=rowBundles,this.rowPrefillColors=rowPrefillColors}},{}],103:[function(require,module){"use strict";function paintCellsAsNeeded(gc){var visibleColumns=this.visibleColumns,visibleRows=this.visibleRows,C=visibleColumns.length,R=visibleRows.length,p=0,pool=this.cellEventPool,viewHeight=R?visibleRows[R-1].bottom:0,cellEvent,r,preferredWidth,columnClip;C&&R&&(this.gridRenderer.reset&&(this.resetAllGridRenderers(),paintCellsByColumnsAndRows.call(this,gc),this.gridRenderer.reset=!1),this.visibleColumns.forEachWithNeg(function(vc,c){for(cellEvent=pool[p],vc=cellEvent.visibleColumn,columnClip=vc.column.properties.columnClip,gc.clipSave(columnClip||null===columnClip&&c===C-1,0,0,vc.right,viewHeight),preferredWidth=r=0;r<R;r++,p++){cellEvent=pool[p];try{preferredWidth=_Mathmax8(preferredWidth,this._paintCell(gc,pool[p]))}catch(e){this.renderErrorCell(e,gc,vc,pool[p].visibleRow)}}gc.clipRestore(columnClip),cellEvent.column.properties.preferredWidth=_Mathround7(preferredWidth)}.bind(this)))}var paintCellsByColumnsAndRows=require("./by-columns-and-rows");paintCellsAsNeeded.key="by-cells",paintCellsAsNeeded.partial=!0,module.exports=paintCellsAsNeeded},{"./by-columns-and-rows":105}],104:[function(require,module){"use strict";function paintCellsByColumnsAndRowsHeaders(gc){var visibleColumns=this.visibleColumns,visibleRows=this.visibleRows,C=visibleColumns.length,R=visibleRows.length,pool=this.cellEventPool,prefillColor,rowPrefillColors,cellEvent,rowIndex;if(C&&R){var poolIndex=0;visibleColumns.forEachWithNeg(function(visibleColumn){for(cellEvent=pool[poolIndex],visibleColumn=cellEvent.visibleColumn,rowPrefillColors||(prefillColor=cellEvent.column.properties.backgroundColor),rowIndex=0;rowIndex<R;rowIndex++,poolIndex++){rowPrefillColors&&(prefillColor=rowPrefillColors[rowIndex]);try{var poolItem=pool[poolIndex];poolItem.isHeaderRow&&this._paintCell(gc,poolItem,prefillColor)}catch(e){this.renderErrorCell(e,gc,visibleColumn,pool[poolIndex].visibleRow)}}}.bind(this)),this.paintHeaderGridlines(gc)}}paintCellsByColumnsAndRowsHeaders.key="by-columns-and-rows-headers",paintCellsByColumnsAndRowsHeaders.rebundle=!0,module.exports=paintCellsByColumnsAndRowsHeaders},{}],105:[function(require,module){"use strict";function paintCellsByColumnsAndRows(gc){var grid=this.grid,gridProps=grid.properties,gridPrefillColor=gridProps.backgroundColor,visibleColumns=this.visibleColumns,visibleRows=this.visibleRows,C=visibleColumns.length,R=visibleRows.length,pool=this.cellEventPool,viewWidth=C?visibleColumns[C-1].right:0,viewHeight=R?visibleRows[R-1].bottom:0,prefillColor,rowPrefillColors,cellEvent,rowBundle,rowBundles,columnBundle,columnBundles,c,rowIndex,columnClip;if(gc.clearRect(0,0,this.bounds.width,this.bounds.height),gc.fillStyle=gridProps.canvasBackgroundColor,gc.fillRect(0,0,this.bounds.width,this.bounds.height),C&&R){if(0<gc.alpha(gridPrefillColor)&&(gc.cache.fillStyle=gridPrefillColor,gc.fillRect(0,0,viewWidth,viewHeight)),this.gridRenderer.reset?(this.resetAllGridRenderers(),this.gridRenderer.reset=!1,bundleRows.call(this,!1),bundleColumns.call(this,!0)):this.gridRenderer.rebundle&&(this.gridRenderer.rebundle=!1,bundleColumns.call(this)),rowBundles=this.rowBundles,rowBundles.length)for(rowPrefillColors=this.rowPrefillColors,rowIndex=rowBundles.length;rowIndex--;)rowBundle=rowBundles[rowIndex],gc.clearFill(0,rowBundle.top,viewWidth,rowBundle.bottom-rowBundle.top,rowBundle.backgroundColor);else for(columnBundles=this.columnBundles,c=columnBundles.length;c--;)columnBundle=columnBundles[c],gc.clearFill(columnBundle.left,0,columnBundle.right-columnBundle.left,viewHeight,columnBundle.backgroundColor);var poolIndex=0;visibleColumns.forEachWithNeg(function(visibleColumn,columnIndex){for(cellEvent=pool[poolIndex],visibleColumn=cellEvent.visibleColumn,rowPrefillColors||(prefillColor=cellEvent.column.properties.backgroundColor),columnClip=visibleColumn.column.properties.columnClip,gc.clipSave(columnClip||null===columnClip&&columnIndex===C-1,0,0,visibleColumn.right,viewHeight),rowIndex=0;rowIndex<R;rowIndex++,poolIndex++){rowPrefillColors&&(prefillColor=rowPrefillColors[rowIndex]);try{this._paintCell(gc,pool[poolIndex],prefillColor)}catch(e){this.renderErrorCell(e,gc,visibleColumn,pool[poolIndex].visibleRow)}}gc.clipRestore(columnClip)}.bind(this)),this.paintGridlines(gc)}}var bundleColumns=require("./bundle-columns"),bundleRows=require("./bundle-rows");paintCellsByColumnsAndRows.key="by-columns-and-rows",paintCellsByColumnsAndRows.rebundle=!0,module.exports=paintCellsByColumnsAndRows},{"./bundle-columns":101,"./bundle-rows":102}],106:[function(require,module){"use strict";function paintCellsByColumnsDiscrete(gc){var visibleColumns=this.visibleColumns,visibleRows=this.visibleRows,C=visibleColumns.length,R=visibleRows.length,pool=this.cellEventPool,viewHeight=R?visibleRows[R-1].bottom:0,prefillColor,cellEvent,r,preferredWidth,columnClip;if(gc.clearRect(0,0,this.bounds.width,this.bounds.height),C&&R){this.gridRenderer.reset&&(this.resetAllGridRenderers(["by-columns"]),this.gridRenderer.reset=!1,bundleColumns.call(this,!0));var p=0;this.visibleColumns.forEachWithNeg(function(vc,c){for(cellEvent=pool[p],vc=cellEvent.visibleColumn,prefillColor=cellEvent.column.properties.backgroundColor,gc.clearFill(vc.left,0,vc.width,viewHeight,prefillColor),columnClip=vc.column.properties.columnClip,gc.clipSave(columnClip||null===columnClip&&c===C-1,0,0,vc.right,viewHeight),preferredWidth=r=0;r<R;r++,p++){cellEvent=pool[p];try{preferredWidth=_Mathmax8(preferredWidth,this._paintCell(gc,cellEvent,prefillColor))}catch(e){this.renderErrorCell(e,gc,vc,cellEvent.visibleRow)}}gc.clipRestore(columnClip),cellEvent.column.properties.preferredWidth=_Mathround7(preferredWidth)}.bind(this)),this.paintGridlines(gc)}}var bundleColumns=require("./bundle-columns");paintCellsByColumnsDiscrete.key="by-columns-discrete",module.exports=paintCellsByColumnsDiscrete},{"./bundle-columns":101}],107:[function(require,module){"use strict";function paintCellsByColumns(gc){var grid=this.grid,gridProps=grid.properties,gridPrefillColor=gridProps.backgroundColor,visibleColumns=this.visibleColumns,visibleRows=this.visibleRows,C=visibleColumns.length,cLast=C-1,R=visibleRows.length,pool=this.cellEventPool,viewWidth=C?visibleColumns[cLast].right:0,viewHeight=R?visibleRows[R-1].bottom:0,prefillColor,cellEvent,columnBundle,columnBundles,c,r,preferredWidth,columnClip;if(gc.clearRect(0,0,this.bounds.width,this.bounds.height),C&&R){for(0<gc.alpha(gridPrefillColor)&&(gc.cache.fillStyle=gridPrefillColor,gc.fillRect(0,0,viewWidth,viewHeight)),this.gridRenderer.reset?(this.resetAllGridRenderers(["by-columns-discrete"]),this.gridRenderer.reset=!1,bundleColumns.call(this,!0)):this.gridRenderer.rebundle&&(this.gridRenderer.rebundle=!1,bundleColumns.call(this)),(columnBundles=this.columnBundles,c=columnBundles.length);c--;)columnBundle=columnBundles[c],gc.clearFill(columnBundle.left,0,columnBundle.right-columnBundle.left,viewHeight,columnBundle.backgroundColor);var p=0;this.visibleColumns.forEachWithNeg(function(vc,c){for(cellEvent=pool[p],vc=cellEvent.visibleColumn,prefillColor=cellEvent.column.properties.backgroundColor,columnClip=vc.column.properties.columnClip,gc.clipSave(columnClip||null===columnClip&&c===cLast,0,0,vc.right,viewHeight),preferredWidth=r=0;r<R;r++,p++){cellEvent=pool[p];try{preferredWidth=_Mathmax8(preferredWidth,this._paintCell(gc,cellEvent,prefillColor))}catch(e){this.renderErrorCell(e,gc,vc,cellEvent.visibleRow)}}gc.clipRestore(columnClip),cellEvent.column.properties.preferredWidth=_Mathround7(preferredWidth)}.bind(this)),this.paintGridlines(gc)}}var bundleColumns=require("./bundle-columns");paintCellsByColumns.key="by-columns",paintCellsByColumns.rebundle=!0,module.exports=paintCellsByColumns},{"./bundle-columns":101}],108:[function(require,module){"use strict";function paintCellsByRows(gc){var grid=this.grid,gridProps=grid.properties,gridPrefillColor=gridProps.backgroundColor,rowBundles=this.rowBundles,visibleColumns=this.visibleColumns,visibleRows=this.visibleRows,C=visibleColumns.length,R=visibleRows.length,pool=this.cellEventPool,preferredWidth=Array(C-0).fill(0),viewWidth=C?visibleColumns[C-1].right:0,viewHeight=R?visibleRows[R-1].bottom:0,drawLines=gridProps.gridLinesH,lineWidth=gridProps.gridLinesWidth,lineColor=gridProps.gridLinesColor,prefillColor,rowPrefillColors,cellEvent,rowBundle,vr,c,r,p,columnClip;if(gc.clearRect(0,0,this.bounds.width,this.bounds.height),C&&R){for(0<gc.alpha(gridPrefillColor)&&(gc.cache.fillStyle=gridPrefillColor,gc.fillRect(0,0,viewWidth,viewHeight)),this.gridRenderer.reset&&(this.resetAllGridRenderers(),this.gridRenderer.reset=!1,bundleRows.call(this,!0)),rowPrefillColors=this.rowPrefillColors,r=rowBundles.length;r--;)rowBundle=rowBundles[r],gc.clearFill(0,rowBundle.top,viewWidth,rowBundle.bottom-rowBundle.top,rowBundle.backgroundColor);for(p=0,r=0;r<R;r++)prefillColor=rowPrefillColors[r],drawLines&&(gc.cache.fillStyle=lineColor,gc.fillRect(0,pool[p].visibleRow.bottom,viewWidth,lineWidth)),this.visibleColumns.forEachWithNeg(function(vc){p++,cellEvent=pool[p],vc=cellEvent.visibleColumn,columnClip=vc.column.properties.columnClip,gc.clipSave(columnClip||null===columnClip&&c===C-1,0,0,vc.right,viewHeight);try{preferredWidth[c]=_Mathmax8(preferredWidth[c],this._paintCell(gc,cellEvent,prefillColor))}catch(e){this.renderErrorCell(e,gc,vc,vr)}gc.clipRestore(columnClip)}.bind(this));this.paintGridlines(gc),this.visibleColumns.forEachWithNeg(function(vc,c){vc.column.properties.preferredWidth=_Mathround7(preferredWidth[c])})}}var bundleRows=require("./bundle-rows");paintCellsByRows.key="by-rows",module.exports=paintCellsByRows},{"./bundle-rows":102}],109:[function(require,module){function computeCellsBounds(){var scrollTop=this.getScrollTop(),scrollLeft=this.getScrollLeft(),fixedColumnCount=this.grid.getFixedColumnCount(),fixedRowCount=this.grid.getFixedRowCount(),bounds=this.getBounds(),grid=this.grid,behavior=grid.behavior,noTreeColumn=!behavior.hasTreeColumn(),editorCellEvent=grid.cellEditor&&grid.cellEditor.event,insertionBoundsCursor=0,previousInsertionBoundsCursorValue=0,gridProps=grid.properties,lineWidthV=gridProps.gridLinesWidth,lineWidthH=gridProps.gridLinesWidth,fixedWidthV=gridProps.fixedLinesVWidth||gridProps.gridLinesWidth,fixedWidthH=gridProps.fixedLinesHWidth||gridProps.gridLinesWidth,start=0,numOfInternalCols=0,subgrids=behavior.subgrids,vcEd,xEd,vrEd,yEd,sgEd,isSubgridEd,x,X,y,Y,columnIndex,columnCount,currentSubgridIndex,subgridsSize,r,R,subrows,base,subgrid,rowIndex,scrollableSubgrid,footerHeight,vx,vy,visibleRow,vc,width,height,firstVX,lastVX,firstVY,lastVY,topR,gap,left,widthSpaced,heightSpaced;editorCellEvent&&(xEd=editorCellEvent.gridCell.x,yEd=editorCellEvent.dataCell.y,sgEd=editorCellEvent.subgrid),noTreeColumn?this.visibleColumns[behavior.treeColumnIndex]=void 0:(start=_Mathmin7(start,behavior.treeColumnIndex),numOfInternalCols+=1),gridProps.showRowNumbers&&(start=_Mathmin7(start,behavior.rowColumnIndex),numOfInternalCols+=1),this.scrollHeight=0,this.visibleColumns.length=0,this.visibleColumns.gap=void 0,this.visibleRows.length=0,this.visibleRows.gap=void 0,this.visibleColumnsByIndex=[],this.visibleRowsByDataRowIndex={},this.insertionBounds=[];for(var totalSpace=grid.renderer.bounds.width,totalWidth=behavior.getColumnsWidth(),scrolledWidth=behavior.getColumnsWidth(scrollLeft),visibleSpace=totalWidth-scrolledWidth+behavior.getColumnWidth(behavior.rowColumnIndex),freeSpace=totalSpace-visibleSpace,lastShift=0;0<freeSpace&&0<scrollLeft;){scrollLeft--;var widthForSub=this.grid.getColumnWidth(scrollLeft);lastShift=widthForSub-freeSpace,freeSpace-=widthForSub}for(lastShift=_Mathround7(lastShift),x=0,columnIndex=start,columnCount=grid.getColumnCount(),X=(bounds.width||grid.canvas.width)+lastShift;columnIndex<columnCount&&x<=X;columnIndex++)if(!(noTreeColumn&&columnIndex===behavior.treeColumnIndex)){if(vx=columnIndex,columnIndex>=fixedColumnCount&&(lastVX=vx+=scrollLeft,void 0===firstVX&&(firstVX=lastVX)),vx>=columnCount)break;width=_Mathceil4(behavior.getColumnWidth(vx)),x?((gap=fixedWidthV&&fixedColumnCount&&columnIndex===fixedColumnCount)&&(x+=fixedWidthV-lineWidthV,this.visibleColumns.gap={left:vc.right,right:void 0}),left=x+lineWidthV,widthSpaced=width-lineWidthV):(left=x,widthSpaced=width);var column=behavior.getActiveColumn(vx);column&&(columnIndex===fixedColumnCount&&lastShift&&(widthSpaced-=lastShift,width-=lastShift),this.visibleColumns[columnIndex]=this.visibleColumnsByIndex[vx]=vc={index:columnIndex,columnIndex:vx,column:column,gap:gap,left:left,width:widthSpaced,right:left+widthSpaced},gap&&(this.visibleColumns.gap.right=vc.left),xEd===vx&&(vcEd=vc),x+=width,insertionBoundsCursor+=_Mathround7(width/2)+previousInsertionBoundsCursorValue,this.insertionBounds.push(insertionBoundsCursor),previousInsertionBoundsCursorValue=_Mathround7(width/2))}for(footerHeight=gridProps.defaultRowHeight*behavior.getFooterRowCount(),base=r=currentSubgridIndex=y=0,subgridsSize=subgrids.length,Y=bounds.height-footerHeight;currentSubgridIndex<subgridsSize;currentSubgridIndex++,base+=subrows){subgrid=subgrids[currentSubgridIndex],subrows=subgrid.getRowCount(),scrollableSubgrid=subgrid.isData,isSubgridEd=sgEd===subgrid,topR=r;var minVisibleRow=0;for(R=r+subrows;r<R&&y<Y&&(vy=r,minVisibleRow>vy&&0!==vy&&(minVisibleRow=vy),!(scrollableSubgrid&&((gap=fixedWidthH&&fixedRowCount&&r===fixedRowCount&&1!==r)&&(y+=fixedWidthH-lineWidthH,this.visibleRows.gap={top:visibleRow.bottom,bottom:void 0}),r>=fixedRowCount&&(vy+=scrollTop,lastVY=vy-base,void 0==firstVY&&(firstVY=lastVY),vy>=R))));r++)rowIndex=vy-base,height=behavior.getRowHeight(rowIndex,subgrid),heightSpaced=height-lineWidthH,this.visibleRows[r]=visibleRow={index:r,subgrid:subgrid,gap:gap,rowIndex:rowIndex,top:y,height:heightSpaced,bottom:y+heightSpaced},gap&&(this.visibleRows.gap.bottom=visibleRow.top),scrollableSubgrid&&(this.visibleRowsByDataRowIndex[vy-base]=visibleRow),isSubgridEd&&yEd===rowIndex&&(vrEd=visibleRow),y+=height;if(scrollableSubgrid&&(subrows=r-topR,Y+=footerHeight),!(y<Y))this.renderedCuttedRowsCount=0,this.skippedTopSpace=0;else if(this.bottomFreeSpace=Y-y,this.bottomFreeSpace<=gridProps.defaultRowHeight){var headerRowsCount=behavior.getHeaderRowCount(),previousFirstRow=this.visibleRows[headerRowsCount]||this.visibleRows[headerRowsCount-1];this.skippedTopSpace=gridProps.defaultRowHeight-this.bottomFreeSpace+lineWidthH;for(var top=previousFirstRow.top-this.skippedTopSpace,halfSizedRow={index:headerRowsCount,subgrid:previousFirstRow.subgrid,gap:!1,rowIndex:previousFirstRow.rowIndex-1,top:top,height:gridProps.defaultRowHeight+lineWidthH,bottom:top+gridProps.defaultRowHeight+lineWidthH,skippedTopSpace:this.skippedTopSpace},i=headerRowsCount;i<this.visibleRows.length;i++)this.visibleRows[i].top+=this.bottomFreeSpace+lineWidthH,this.visibleRows[i].index+=1,this.visibleRows[i].bottom+=this.bottomFreeSpace+lineWidthH;this.visibleRows.splice(headerRowsCount,0,halfSizedRow),scrollableSubgrid&&(this.visibleRowsByDataRowIndex[halfSizedRow.rowIndex]=halfSizedRow),this.renderedCuttedRowsCount=1}else this.renderedCuttedRowsCount=0,this.skippedTopSpace=0}editorCellEvent&&(editorCellEvent.visibleColumn=vcEd,editorCellEvent.visibleRow=vrEd,editorCellEvent.gridCell.y=vrEd&&vrEd.index,editorCellEvent._bounds=null),this.viewHeight=Y,this.dataWindow=this.grid.newRectangle(firstVX,firstVY,lastVX-firstVX,lastVY-firstVY);var pool=this.cellEventPool,previousLength=pool.length,P=(this.visibleColumns.length+numOfInternalCols)*this.visibleRows.length;P>previousLength&&(pool.length=P);for(var p=previousLength;p<P;p++)pool[p]=new behavior.CellEvent;this.resetAllGridRenderers()}function resetRowHeaderColumnWidth(gc,rowCount){var columnProperties=this.grid.behavior.getColumnProperties(this.grid.behavior.rowColumnIndex),gridProps=this.grid.properties,width=columnProperties.cellPaddingLeft+columnProperties.cellPaddingRight;if(gridProps.rowHeaderCheckboxes&&images.checked&&(width+=images.checked.width),gridProps.rowHeaderNumbers){var cellProperties=columnProperties.rowHeader;gc.cache.font=0<=cellProperties.foregroundSelectionFont.indexOf("bold ")?cellProperties.foregroundSelectionFont:cellProperties.font,width+=gc.getTextWidth(rowCount),width=width<cellProperties.minWidth?cellProperties.minWidth:width}columnProperties.preferredWidth=columnProperties.width=width}function registerGridRenderer(paintCellsFunction){0>paintCellsFunctions.indexOf(paintCellsFunction)&&paintCellsFunctions.push(paintCellsFunction)}var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return"undefined"==typeof obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":"undefined"==typeof obj?"undefined":_typeof2(obj)},_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!(i&&_arr.length===i));_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i["return"]&&_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Base=require("../Base"),images=require("../../images"),layerProps=require("./layer-props"),visibleColumnPropertiesDescriptorFn=function(grid){return{findWithNeg:{value:function(iteratee,context){for(var i=grid.behavior.leftMostColIndex;0>i;i++)if(this[i]&&iteratee.call(context,this[i],i,this))return this[i];return Array.prototype.find.call(this,iteratee,context)}},forEachWithNeg:{value:function(iteratee,context){for(var i=grid.behavior.leftMostColIndex;0>i;i++)this[i]&&iteratee.call(context,this[i],i,this);return Array.prototype.forEach.call(this,iteratee,context)}},totalLength:{get:function(){return _Mathabs10(grid.behavior.leftMostColIndex)+this.length}}}},paintCellsFunctions=[],Renderer=Base.extend("Renderer",{cell:{x:0,y:0,width:0,height:0},scrollHeight:0,viewHeight:0,bottomFreeSpace:0,renderedCuttedRowsCount:0,skippedTopSpace:0,reset:function(){this.bounds={width:0,height:0},this.visibleColumns=Object.defineProperties([],visibleColumnPropertiesDescriptorFn(this.grid)),this.visibleRows=[],this.insertionBounds=[],this.cellEventPool=[]},initialize:function(grid){this.grid=grid,this.gridRenderers={},paintCellsFunctions.forEach(function(paintCellsFunction){this.registerGridRenderer(paintCellsFunction)},this),this.setGridRenderer(this.properties.gridRenderer||"by-columns-and-rows"),this.reset()},registerGridRenderer:function(paintCellsFunction){this.gridRenderers[paintCellsFunction.key]={paintCells:paintCellsFunction}},setGridRenderer:function(key){var gridRenderer=this.gridRenderers[key];if(!gridRenderer)throw new this.HypergridError("Unregistered grid renderer \""+key+"\"");gridRenderer!==this.gridRenderer&&(this.gridRenderer=gridRenderer,this.gridRenderer.reset=!0)},resetAllGridRenderers:function(blackList){Object.keys(this.gridRenderers).forEach(function(key){this.gridRenderers[key].reset=!blackList||0>blackList.indexOf(key)},this)},rebundleGridRenderers:function(){Object.keys(this.gridRenderers).forEach(function(key){this.gridRenderers[key].paintCells.rebundle&&(this.gridRenderers[key].rebundle=!0)},this)},resetRowHeaderColumnWidth:function(){this.lastKnowRowCount=void 0},computeCellsBounds:function(){this.needsComputeCellsBounds=!0},get properties(){return this.grid.properties},paint:function(gc){this.grid.canvas&&(this.renderGrid(gc),this.grid.gridRenderedNotification())},tickNotification:function(){this.grid.tickNotification()},getVisibleRowsCount:function(){return this.visibleRows.length-1},getVisibleScrollHeight:function(){return this.viewHeight-this.grid.getFixedRowsHeight()},getVisibleColumnsCount:function(){return this.visibleColumns.length-1},getBoundsOfCell:function(x,y){var vc=this.visibleColumns[x],vr=this.visibleRows[y],event=this.cellEventPool.find(function(e){return e.visibleColumn===vc&&e.visibleRow===vr});return event?event.bounds:{x:vc.left,y:vr.top,width:vc.width+this.grid.behavior.getAdditionalWidth(x,y),height:vr.height+this.grid.behavior.getAdditionalHeight(x,y)}},getColumnFromPixelX:function(pixelX){for(var width=0,fixedColumnCount=this.grid.getFixedColumnCount(),scrollLeft=this.grid.getHScrollValue(),visibleColumns=this.visibleColumns,c=1;c<visibleColumns.length;c++)if(width=visibleColumns[c].left,pixelX<width)return c>fixedColumnCount&&(c+=scrollLeft),c-1;return c>fixedColumnCount&&(c+=scrollLeft),c-1},getGridCellFromMousePoint:function(point){if(!this.visibleColumns.length)return null;var x=point.x,y=point.y,visibleRows=this.visibleRows,visibleColumns=this.visibleColumns,firstColumn=visibleColumns[this.grid.behavior.leftMostColIndex],inFirstColumn=x<firstColumn.right,_visibleRows=_slicedToArray(visibleRows,1),firstRow=_visibleRows[0],behindFirstRow=y<firstRow.top,isPseudoRow=!1,isPseudoCol=!1,result={fake:!1},vc=inFirstColumn?firstColumn:visibleColumns.findWithNeg(function(vc){return x<vc.right}),filtered=visibleRows.filter(function(vr){return behindFirstRow?vr.index!==vr.rowIndex:y<=vr.bottom&&y>=vr.top}).sort(function(vr1,vr2){return vr2.rowIndex-vr1.rowIndex}),vr=filtered[filtered.length-1];vr?isPseudoRow=!1:(vr=visibleRows[behindFirstRow?0:visibleRows.length-1],isPseudoRow=!0),vc?isPseudoCol=!1:(vc=visibleColumns[visibleColumns.length-1],isPseudoCol=!0);var mousePoint=this.grid.newPoint(x-vc.left,y-vr.top),cellEvent=new this.grid.behavior.CellEvent(vc.columnIndex,vr.index);return result.cellEvent=Object.defineProperty(cellEvent,"mousePoint",{value:mousePoint}),(isPseudoCol||isPseudoRow)&&(result.fake=!0,this.grid.beCursor(null)),result},getVisibleCellMatrix:function(){for(var rows=Array(this.visibleRows.length),adjust=this.grid.behavior.hasTreeColumn()?1:0,y=0;y<rows.length;++y)rows[y]=Array(this.visibleColumns.length);return this.cellEventPool.map(function(cell){var x=cell.gridCell.x+adjust;0<=x&&(rows[cell.gridCell.y][x]=cell.value)}),rows},isColumnVisible:function(columnIndex){return!!this.getVisibleColumn(columnIndex)},getVisibleColumn:function(columnIndex){return this.visibleColumns.findWithNeg(function(vc){return vc.columnIndex===columnIndex})},getMinimumLeftPositionToShowColumn:function(targetColIdx){var fixedColumnCount=this.grid.getFixedColumnCount(),fixedColumnsWidth=0,rowNumbersWidth=0,filtersWidth=0,viewportWidth=0,leftColIdx=0,targetRight=0,lastFixedColumn=null,computedCols=[],col=null,i=0,left=0,right=0;for(i=0;i<=targetColIdx;i++)left=right,right+=_Mathceil4(this.grid.getColumnWidth(i)),computedCols.push({left:left,right:right});targetRight=computedCols[computedCols.length-1].right,lastFixedColumn=computedCols[fixedColumnCount-1],this.properties.showRowNumbers&&(rowNumbersWidth=this.grid.getColumnWidth(this.grid.behavior.rowColumnIndex)),this.grid.hasTreeColumn()&&(filtersWidth=this.grid.getColumnWidth(this.grid.behavior.treeColumnIndex)),fixedColumnsWidth=lastFixedColumn?lastFixedColumn.right:0,viewportWidth=this.getBounds().width-fixedColumnsWidth-rowNumbersWidth-filtersWidth,i=targetColIdx;do leftColIdx=i,col=computedCols[i],i--;while(col.left+viewportWidth>targetRight&&0<=i);return leftColIdx},isDataColumnVisible:function(columnIndex){return!!this.getVisibleDataColumn(columnIndex)},getVisibleDataColumn:function(columnIndex){return this.visibleColumns.findWithNeg(function(vc){return vc.column.index===columnIndex})},getFinalVisibleColumnBoundary:function(){var chop=this.isLastColumnVisible()?2:1,colWall=this.visibleColumns[this.visibleColumns.length-chop].right;return _Mathmin7(colWall,this.getBounds().width)},isRowVisible:function(rowIndex){return!!this.visibleRows[rowIndex]},getVisibleRow:function(rowIndex){return this.visibleRows[rowIndex]},isDataRowVisible:function(rowIndex,subgrid){return!!this.getVisibleDataRow(rowIndex,subgrid)},getVisibleDataRow:function(rowIndex,subgrid){return subgrid=subgrid||this.grid.behavior.subgrids.lookup.data,this.visibleRows.find(function(vr){return vr.subgrid===subgrid&&vr.rowIndex===rowIndex})},isSelected:function(x,y){return this.grid.isSelected(x,y)},renderGrid:function(gc){this.grid.deferredBehaviorChange(),gc.beginPath(),this.buttonCells={};var rowCount=this.grid.getRowCount();if(rowCount!==this.lastKnowRowCount){var newWidth=resetRowHeaderColumnWidth.call(this,gc,rowCount);newWidth!==this.handleColumnWidth&&(this.needsComputeCellsBounds=!0,this.handleColumnWidth=newWidth),this.lastKnowRowCount=rowCount}this.needsComputeCellsBounds&&(computeCellsBounds.call(this),this.needsComputeCellsBounds=!1),this.gridRenderer.paintCells.call(this,gc),this.gridRenderers["by-columns-and-rows-headers"].paintCells.call(this,gc),this.renderSelections(gc),this.renderFirstSelectedCell(gc),gc.closePath()},renderFirstSelectedCell:function(gc){var firstSelectedCell=this.grid.selectionModel.getFirstSelectedCellOfLastSelection();if(firstSelectedCell){var x=firstSelectedCell.x,y=firstSelectedCell.y;if(!this.grid.isDataVisible(x,y)&&0<this.visibleColumns.length){var firstVisibleColumnIndex=this.visibleColumns[0].columnIndex,firstVisibleRowIndex=this.visibleRows[0].rowIndex+this.grid.getHeaderRowCount(),colspan=this.grid.behavior.getColspan(x,y),rowspan=this.grid.behavior.getRowspan(x,y);colspan&&x+colspan>=firstVisibleColumnIndex&&(x=firstVisibleColumnIndex),rowspan&&y+rowspan+this.grid.getHeaderRowCount()>=firstVisibleRowIndex&&(y=firstVisibleRowIndex)}if(this.grid.isDataVisible(x,y)){var fixedColumnsCount=this.grid.getFixedColumnCount(),newX=x>=fixedColumnsCount?x-this.dataWindow.origin.x:x;newX=_Mathmax8(0,newX);var pointWithHeaders={x:newX,y:y+this.grid.getHeaderRowCount()-this.grid.getVScrollValue()+this.renderedCuttedRowsCount},cellBounds=this.grid.getBoundsOfCell(pointWithHeaders),headerRowsCount=this.grid.getHeaderRowCount(),headerHeight=headerRowsCount*this.properties.defaultHeaderRowHeight;if(!headerHeight)for(var i=0;i<headerRowsCount;i++)headerHeight+=this.grid.getRowHeight(i);var startX=cellBounds.left,startY=cellBounds.top,selectionWidth=cellBounds.width,selectionHeight=cellBounds.height;startY<headerHeight&&(startY=headerHeight,selectionHeight-=this.skippedTopSpace),gc.beginPath(),gc.rect(startX,startY,selectionWidth,selectionHeight),gc.cache.lineWidth=2,gc.cache.strokeStyle=this.grid.properties.selectionRegionOutlineColor,gc.stroke(),gc.closePath()}}},renderSelections:function(gc){var _this=this;(this.grid.selectionModel.getSelections()||[]).forEach(function(s,i,items){return _this.renderSelectionRect(gc,s,i+1===items.length)})},renderSelectionRect:function(gc,selection){var isLastSelection=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];if(-1!==selection.origin.x){var vci=this.visibleColumnsByIndex,vri=this.visibleRowsByDataRowIndex,lastColumn=this.visibleColumns[this.visibleColumns.length-1],lastRow=vri[this.dataWindow.corner.y];if(!(lastColumn&&selection.origin.x>lastColumn.columnIndex||lastRow&&selection.origin.y>lastRow.rowIndex)){var vcOrigin=vci[selection.origin.x],vcCorner=vci[selection.corner.x],vrOrigin=vri[selection.origin.y],vrCorner=vri[selection.corner.y],gridProps=this.properties;if(vcOrigin=vcOrigin||this.visibleColumns[gridProps.fixedColumnCount],vrOrigin=vrOrigin||this.visibleRows[gridProps.fixedRowCount+this.grid.getHeaderRowCount()],!lastColumn)for(var colOffset=1;!lastColumn&&0<this.dataWindow.corner.x;)lastColumn=vci[this.dataWindow.corner.x-colOffset],colOffset++;if(!lastRow)for(var rowOffset=1;!lastRow&&0<this.dataWindow.corner.y;)lastRow=vri[this.dataWindow.corner.y-rowOffset],rowOffset++;if(vcCorner=vcCorner||(lastColumn&&selection.corner.x>lastColumn.columnIndex?lastColumn:vci[this.grid.getFixedColumnCount()]),vrCorner=vrCorner||(lastRow&&selection.corner.y>lastRow.rowIndex?lastRow:vri[this.grid.getFixedColumnCount()]),!!(vcOrigin&&vcCorner&&vrOrigin&&vrCorner)){var headerRowsCount=this.grid.getHeaderRowCount(),headerHeight=headerRowsCount*this.properties.defaultHeaderRowHeight;if(!headerHeight)for(var i=0;i<headerRowsCount;i++)headerHeight+=this.grid.getRowHeight(i);var startX=vcOrigin.left,startY=vrOrigin.top,width=vcCorner.right-vcOrigin.left,height=vrCorner.bottom-vrOrigin.top;startY<headerHeight&&(startY=headerHeight,height-=this.skippedTopSpace);var config={bounds:{x:startX,y:startY,width:width,height:height},selectionRegionOverlayColor:this.gridRenderer.paintCells.partial||isLastSelection&&0===selection.width&&0===selection.height?"transparent":gridProps.selectionRegionOverlayColor,selectionRegionOutlineColor:gridProps.selectionRegionOutlineColor,selectionRegionBorderWidth:gridProps.selectionRegionBorderWidth?gridProps.selectionRegionBorderWidth:1};this.grid.cellRenderers.get("lastselection").paint(gc,config),"by-cells"===this.gridRenderer.paintCells.key&&(this.gridRenderer.reset=!0)}}}},renderOverrides:function(gc){var cache=this.grid.renderOverridesCache;for(var key in cache)if(cache.hasOwnProperty(key)){var override=cache[key];override&&this.renderOverride(gc,override)}},renderOverride:function(gc,override){var hdpiRatio=override.hdpiratio,startX=override.startX,width=override.width+1,height=override.height,targetCTX=override.ctx,imgData=gc.getImageData(startX,0,_Mathround7(width*hdpiRatio),_Mathround7(height*hdpiRatio));targetCTX.putImageData(imgData,0,0),gc.cache.fillStyle=this.properties.backgroundColor2,gc.fillRect(_Mathround7(startX/hdpiRatio),0,width,height)},getScrollTop:function(){return this.grid.getVScrollValue()},getScrollLeft:function(){return this.grid.getHScrollValue()},isLastColumnVisible:function(){var lastColumnIndex=this.grid.getColumnCount()-1;return!!this.visibleColumns.findWithNeg(function(vc){return vc.columnIndex===lastColumnIndex})},getRenderedWidth:function(index){var columns=this.visibleColumns,result;return result=index>=columns.length?columns[columns.length-1].right:columns[index].left,result},getRenderedHeight:function(index){var rows=this.visibleRows,result;if(index>=rows.length){var last=rows[rows.length-1];result=last.bottom}else result=rows[index].top;return result},isDraggingColumn:function(){return this.grid.isDraggingColumn()},getPageUpRow:function(){for(var grid=this.grid,scrollHeight=this.getVisibleScrollHeight(),top=this.dataWindow.origin.y-this.properties.fixedRowCount-1,scanHeight=0;scanHeight<scrollHeight&&0<=top;)scanHeight+=grid.getRowHeight(top),top--;return top+1},getPageDownRow:function(){return this.dataWindow.corner.y-this.properties.fixedRowCount+1},getPageRightColumn:function(){return this.dataWindow.corner.x-this.properties.fixedColumnCount+1},getPageLeftColumn:function(){for(var widthLeft=this.bounds.width,currentColumnToScrollIndex=this.dataWindow.origin.x-1;0<=currentColumnToScrollIndex&&(widthLeft-=this.grid.getColumnWidth(currentColumnToScrollIndex),!(0>widthLeft));)currentColumnToScrollIndex-=1;var additionalColumns=this.grid.properties.rowHeaderNumbers?1:0;return currentColumnToScrollIndex+additionalColumns},renderErrorCell:function(err,gc,vc,vr){var message=err&&(err.message||err)||"Unknown error.",bounds={x:vc.left,y:vr.top,width:vc.width,height:vr.height};console.error(message),gc.cache.save(),gc.beginPath(),gc.rect(bounds.x,bounds.y,bounds.width,bounds.height),gc.clip(),this.grid.cellRenderers.get("errorcell").paint(gc,{bounds:bounds},message),gc.cache.restore()},drawLine:function(gc,x1,y1,width,height){gc.fillRect(x1,y1,width,height)},renderRoundRect:function(gc,x,y,width,height,radius,fill,stroke){if("undefined"==typeof stroke&&(stroke=!0),"undefined"==typeof radius&&(radius=5),"number"==typeof radius)radius={tl:radius,tr:radius,br:radius,bl:radius};else{var defaultRadius={tl:0,tr:0,br:0,bl:0};for(var side in defaultRadius)radius[side]=radius[side]||defaultRadius[side]}gc.beginPath(),gc.moveTo(x+radius.tl,y),gc.lineTo(x+width-radius.tr,y),gc.quadraticCurveTo(x+width,y,x+width,y+radius.tr),gc.lineTo(x+width,y+height-radius.br),gc.quadraticCurveTo(x+width,y+height,x+width-radius.br,y+height),gc.lineTo(x+radius.bl,y+height),gc.quadraticCurveTo(x,y+height,x,y+height-radius.bl),gc.lineTo(x,y+radius.tl),gc.quadraticCurveTo(x,y,x+radius.tl,y),gc.closePath(),fill&&gc.fill(),stroke&&gc.stroke()},paintGridlines:function(gc){var visibleColumns=this.visibleColumns,columnsLength=visibleColumns.length,visibleRows=this.visibleRows,rowsLength=visibleRows.length;if(columnsLength&&rowsLength){var gridProps=this.properties,viewWidth=visibleColumns[columnsLength-1].right,viewHeight=visibleRows[rowsLength-1].bottom;if(gridProps.gridLinesV){gc.cache.fillStyle=gc.cache.strokeStyle=gridProps.gridLinesColor;for(var vc=visibleColumns[0],c=0,right;c<columnsLength;c++)if(vc=visibleColumns[c],!vc.gap){right=vc.right;for(var shift=gridProps.defaultHeaderRowHeight-gridProps.gridLinesWidth,i=0,row;i<rowsLength;++i)if(row=visibleRows[i],row.subgrid.isData)if(this.grid.behavior.dataModel.isColspanedByLeftColumn(vc.columnIndex+1,row.rowIndex))shift+=row.height+gridProps.gridLinesWidth;else break;this.drawLine(gc,right,shift,gridProps.gridLinesWidth,viewHeight-shift)}}if(gridProps.gridLinesH){gc.cache.fillStyle=gc.cache.strokeStyle=gridProps.gridLinesColor;for(var vr=visibleRows[0],r=0,bottom;r<rowsLength;r++){vr=visibleRows[r],bottom=vr.bottom;for(var _i=0,column;_i<columnsLength;++_i)column=visibleColumns[_i],vr.gap||this.grid.behavior.dataModel.isRowspanedByRow(column.columnIndex,vr.rowIndex+1)||this.drawLine(gc,column.left,bottom,column.width+(gridProps.gridLinesV?gridProps.gridLinesWidth:0),gridProps.gridLinesWidth)}}var edgeWidth=void 0,gap=visibleRows.gap;gap&&(gc.cache.fillStyle=gc.cache.strokeStyle=gridProps.fixedLinesHColor||gridProps.gridLinesColor,edgeWidth=gridProps.fixedLinesHEdge,edgeWidth?(this.drawLine(gc,0,gap.top,viewWidth,edgeWidth),this.drawLine(gc,0,gap.bottom-edgeWidth,viewWidth,edgeWidth)):0<gridProps.fixedRowCount&&this.drawLine(gc,0,gap.top,viewWidth,gap.bottom-gap.top)),gap=visibleColumns.gap,gap&&(gc.cache.fillStyle=gc.cache.strokeStyle=gridProps.fixedLinesVColor||gridProps.gridLinesColor,edgeWidth=gridProps.fixedLinesVEdge,edgeWidth?(this.drawLine(gc,gap.left,0,edgeWidth,viewHeight),this.drawLine(gc,gap.right-edgeWidth,0,edgeWidth,viewHeight)):this.drawLine(gc,gap.left,0,gap.right-gap.left,viewHeight))}},paintHeaderGridlines:function(gc){var visibleColumns=this.visibleColumns,columnsLength=visibleColumns.length,visibleRows=this.visibleRows,rowsLength=visibleRows.length;if(columnsLength&&rowsLength){var gridProps=this.properties,viewWidth=visibleColumns[columnsLength-1].right,viewHeight=visibleRows[rowsLength-1].bottom,headerRowsCount=this.grid.getHeaderRowCount();if(gridProps.gridLinesV||gridProps.gridLinesHeaderColor){var headerHeight=headerRowsCount*this.properties.defaultHeaderRowHeight;if(!headerHeight)for(var i=0;i<headerRowsCount;i++)headerHeight+=this.grid.getRowHeight(i);gc.cache.fillStyle=gc.cache.strokeStyle=gridProps.gridLinesHeaderColor?gridProps.gridLinesHeaderColor:gridProps.gridLinesColor;for(var headerVc=visibleColumns[0],headerC=0,headerRight;headerC<columnsLength;headerC++)headerVc=visibleColumns[headerC],headerRight=headerVc.right,headerVc.gap||this.drawLine(gc,headerRight,0,gridProps.gridLinesWidth,headerHeight);if(this.grid.properties.rowHeaderNumbers){var right=visibleColumns[this.grid.behavior.rowColumnIndex].right;gc.cache.fillStyle=gc.cache.strokeStyle=gridProps.gridLinesHeaderColor||gridProps.gridLinesColor,this.drawLine(gc,right,0,gridProps.gridLinesWidth,viewHeight)}}if(gridProps.gridLinesH||gridProps.gridLinesHeaderColor){gc.cache.fillStyle=gc.cache.strokeStyle=gridProps.gridLinesHeaderColor?gridProps.gridLinesHeaderColor:gridProps.gridLinesColor;var additionalWidth=gridProps.gridLinesV?gridProps.gridLinesWidth:0,firstRowWidth=this.grid.properties.rowHeaderNumbers?visibleColumns[this.grid.behavior.rowColumnIndex].right+additionalWidth:0;gc.cache.fillStyle=gc.cache.strokeStyle=gridProps.gridLinesHeaderColor;for(var headerVr=visibleRows[0],headerR=0,headerBottom;headerR<rowsLength;headerR++)headerVr=visibleRows[headerR],headerBottom=headerVr.bottom,headerVr.gap||(headerR<headerRowsCount?this.drawLine(gc,0,headerBottom,viewWidth,gridProps.gridLinesWidth):this.drawLine(gc,0,headerBottom,firstRowWidth,gridProps.gridLinesWidth))}}},paintCell:function(gc,x,y){gc.moveTo(0,0);var c=this.visibleColumns[x].index,r=this.visibleRows[y].index;c&&this._paintCell(gc,c,r)},_paintCell:function(gc,cellEvent,prefillColor){if(!cellEvent.isRenderSkipNeeded){var grid=this.grid,selectionModel=grid.selectionModel,behavior=grid.behavior,properties=cellEvent.properties,isHandleColumn=cellEvent.isHandleColumn,isTreeColumn=cellEvent.isTreeColumn,isColumnSelected=cellEvent.isColumnSelected,isDataRow=cellEvent.isDataRow,isRowSelected=cellEvent.isRowSelected,isCellSelected=cellEvent.isCellSelected,isHeaderRow=cellEvent.isHeaderRow,isFilterRow=cellEvent.isFilterRow,isRowHandleOrHierarchyColumn=isHandleColumn||isTreeColumn,isUserDataArea=!isRowHandleOrHierarchyColumn&&isDataRow,config=this.assignProps(cellEvent),x=(config.gridCell=cellEvent.gridCell).x,r=(config.dataCell=cellEvent.dataCell).y,value,format,isSelected;isHandleColumn&&isDataRow?(isSelected=isRowSelected||selectionModel.isCellSelectedInRow(r),config.halign=this.properties.columnHeaderHalign):isTreeColumn?(isSelected=isRowSelected||selectionModel.isCellSelectedInRow(r),config.halign="left"):isDataRow?(isSelected=isCellSelected||isRowSelected||isColumnSelected,format=config.format):x===grid.behavior.rowColumnIndex&&0===r&&isHandleColumn&&isHeaderRow&&behavior.errorCount?(config.foregroundSelectionColor=config.color=properties.backgroundColor,config.renderTotalErrorSignNeeded=!0,config.renderTotalErrorCount=behavior.errorCount):(format=cellEvent.subgrid.format||config.format,isSelected=!isFilterRow&&(!!isColumnSelected||selectionModel.isCellSelectedInColumn(x))),isHandleColumn?isDataRow?config.rowHeaderNumbers&&(value=r+config.rowHeaderStartDisplayedIndex):isHeaderRow&&(config.allRowsSelected=selectionModel.areAllRowsSelected()):(config.dataRow=cellEvent.dataRow,value=cellEvent.value,value&&"object"===("undefined"==typeof value?"undefined":_typeof(value))&&"ERROR"===value.type&&(config.foregroundSelectionColor=config.color=config.errorCellDataColor),null===value&&(config.foregroundSelectionColor=config.color=config.nullCellColor,value=config.nullCellPlaceholder)),config.isSelected=isSelected,config.isDataColumn=!isRowHandleOrHierarchyColumn,config.isHandleColumn=isHandleColumn,config.isTreeColumn=isTreeColumn,config.isDataRow=isDataRow,config.isHeaderRow=isHeaderRow,config.isFilterRow=isFilterRow,config.isUserDataArea=isUserDataArea,config.isColumnHovered=cellEvent.isColumnHovered,config.isRowHovered=cellEvent.isRowHovered,config.isCellHovered=cellEvent.isCellHovered,config.bounds=cellEvent.bounds,config.isCellSelected=isCellSelected,config.isRowSelected=isRowSelected,config.isColumnSelected=isColumnSelected,config.isInCurrentSelectionRectangle=selectionModel.isInCurrentSelectionRectangle(x,r),config.isFirstSelectedCell=!isHeaderRow&&selectionModel.isFirstSelectedCell(x,r),config.prefillColor=prefillColor,config.buttonCells=this.buttonCells,config.subrow=0,config.halign=isHeaderRow?config.rowHeaderHalign:behavior.getCellProperty("halign")||config.halign,config.ignoreValuePrefix=properties.ignoreValuePrefix,config.highlightedChars=cellEvent.highlightedChars,config.isAggregationTreeColumn=cellEvent.isAggregationTreeColumn,config.isAggregationTreeColumn&&(config.aggregationChildCount=cellEvent.aggregationChildCount,config.aggregationChildCount&&!config.headerRow&&(config.valuePostfix="("+config.aggregationChildCount+")")),config.isAggregationColumn=cellEvent.isAggregationColumn,config.isAggregationColumn&&(config.hasChildRows=cellEvent.hasChildRows,config.isAggregationRow=cellEvent.isAggregationRow,config.isRowExpanded=cellEvent.isRowExpanded,config.treeLevel=cellEvent.treeLevel,config.isGrandTotalRow=cellEvent.isGrandTotalRow,config.isGrandTotalRow&&(config.backgroundTextFont=this.properties.grandAggregationCellFont,config.foregroundSelectionFont=this.properties.grandAggregationCellFont,config.font=this.properties.grandAggregationCellFont),config.isExpandableRow=cellEvent.isExpandableRow,config.isExpandableRow&&value&&(config.valuePrefix=config.isRowExpanded?this.properties.aggregationGroupExpandIconCollapsedChar:this.properties.aggregationGroupExpandIconExpandedChar,config.valuePrefixFont=this.properties.aggregationGroupExpandIconFont,config.valuePrefixColor=this.properties.aggregationGroupExpandIconColor,config.prefixIgnoreUnderliningNeeded=!0)),cellEvent.isExpandableColumn&&(config.valuePrefix=cellEvent.isColumnExpanded?this.properties.aggregationGroupExpandIconCollapsedChar:this.properties.aggregationGroupExpandIconExpandedChar,config.valuePrefixFont=this.properties.aggregationGroupExpandIconFont,config.valuePrefixColor=this.properties.aggregationGroupExpandIconColor,config.prefixIgnoreUnderliningNeeded=!0),!config.valuePrefix&&config.headerRow&&(cellEvent.column.hasError?(config.valuePrefix=this.properties.errorIconUnicodeChar,config.valuePrefixFont=this.properties.errorIconFont,config.valuePrefixColor=this.properties.errorIconColor):(config.valuePrefix=cellEvent.column.schema?cellEvent.column.schema.headerPrefix:void 0,config.valuePrefixFont=this.properties.columnTitlePrefixFont,config.valuePrefixColor=this.properties.columnTitlePrefixColor)),config.colTypeSign||(config.colTypeSign=cellEvent.column.schema?cellEvent.column.schema.colTypeSign:void 0),grid.mouseDownState&&(config.mouseDown=grid.mouseDownState.gridCell.equals(cellEvent.gridCell));var isArray=isUserDataArea&&value&&value.constructor===Array,subrows=isArray&&value.subrows&&value.length;if(subrows){var bounds=config.bounds=Object.assign({},config.bounds);bounds.height/=subrows,config.subrows=subrows,config.value=config.exec(value[0])}else subrows=1,config.value=!isArray&&isUserDataArea?config.exec(value):value;for(config.isDataRow&&!config.link&&config.value&&config.detectLinksPermanently&&cellEvent.isValueUrl&&(config.link=config.value);;){var cellRenderer=cellEvent.subgrid.getCell(config,config.renderer);if(behavior.cellPropertiesPrePaintNotification(config),config.formatValue=grid.getFormatter(format),config.snapshot=cellEvent.snapshot,config.minWidth=cellEvent.minWidth,cellRenderer.paint(gc,config),cellEvent.snapshot[config.subrow]=config.snapshot,(void 0===cellEvent.minWidth||config.minWidth>cellEvent.minWidth)&&(cellEvent.minWidth=config.minWidth),++config.subrow===subrows)break;bounds.y+=bounds.height,config.value=config.exec(value[config.subrow])}return config.minWidth}},assignProps:layerProps,findCell:function(colIndexOrCellEvent,rowIndex,dataModel){var pool=this.cellEventPool,colIndex,cellEvent;"object"===("undefined"==typeof colIndexOrCellEvent?"undefined":_typeof(colIndexOrCellEvent))?(dataModel=rowIndex,rowIndex=colIndexOrCellEvent.visibleRow.rowIndex,colIndex=colIndexOrCellEvent.column.index):colIndex=colIndexOrCellEvent,dataModel=dataModel||this.grid.behavior.dataModel;for(var p=0,len=this.visibleColumns.length*this.visibleRows.length;p<len;++p)if(cellEvent=pool[p],cellEvent.subgrid===dataModel&&cellEvent.column.index===colIndex&&cellEvent.visibleRow.rowIndex===rowIndex)return cellEvent},resetCellPropertiesCache:function(){var cellEvent=this.findCell.apply(this,arguments);return cellEvent&&(cellEvent._cellOwnProperties=void 0),cellEvent},resetAllCellPropertiesCaches:function(){this.cellEventPool.forEach(function(cellEvent){cellEvent._cellOwnProperties=void 0})},isViewableButton:function(c,r){return this.buttonCells[c+","+r]},getBounds:function(){return this.bounds},setBounds:function(bounds){return this.bounds=bounds},setInfo:function(message){var width;this.visibleColumns.length&&(width=this.visibleColumns[this.visibleColumns.length-1].right),this.grid.canvas.setInfo(message,width)}});registerGridRenderer(require("./by-cells")),registerGridRenderer(require("./by-columns")),registerGridRenderer(require("./by-columns-discrete")),registerGridRenderer(require("./by-columns-and-rows")),registerGridRenderer(require("./by-columns-and-rows-headers")),registerGridRenderer(require("./by-rows")),Renderer.registerGridRenderer=registerGridRenderer,module.exports=Renderer},{"../../images":3,"../Base":17,"./by-cells":103,"./by-columns":107,"./by-columns-and-rows":105,"./by-columns-and-rows-headers":104,"./by-columns-discrete":106,"./by-rows":108,"./layer-props":110}],110:[function(require,module){"use strict";var defaults=require("../defaults"),COLUMNS=defaults.propClassEnum.COLUMNS,CELLS=defaults.propClassEnum.CELLS,propClassGet=[];propClassGet[COLUMNS]=function(cellEvent){return cellEvent.columnProperties},propClassGet[CELLS]=function(cellEvent){return cellEvent.cellOwnProperties},propClassGet[defaults.propClassEnum.STRIPES]=function(cellEvent){var rowStripes=cellEvent.isDataRow&&cellEvent.columnProperties.rowStripes;return rowStripes&&rowStripes[cellEvent.dataCell.y%rowStripes.length]},propClassGet[defaults.propClassEnum.ROWS]=function(cellEvent){return cellEvent.rowOwnProperties},module.exports=function(cellEvent){var props=cellEvent.properties,propLayers=props.propClassLayers,i,base,assignments;switch(propLayers[0]){case COLUMNS:i=1,base=cellEvent.columnProperties;break;case CELLS:i=1,base=props;break;default:i=0,base=this.grid.properties;}for(assignments=[Object.create(base)];i<propLayers.length;++i)assignments.push(propClassGet[propLayers[i]](cellEvent));return Object.assign.apply(Object,assignments)}},{"../defaults":65}]},{},[85])(85)});define("modules/main/services/data-loading",["./module","angular","common","lodash","moment","pluralize","ag-grid","fin-grid","notifications-utils"],function(services,angular,cc,_,moment,pluralize,agGrid,finGrid,NotificationsUtils){var _Mathexp=Math.exp,_Mathfloor8=Math.floor;services.service("DataLoadingService",["$q","$http","$timeout","$rootScope","$filter","$compile","WSocket","ScopeService","SearchBarService","AvailableFixedDates","EventNames","Constants","ColumnsService","BookmarkEventService","FormatCellService",function($q,$http,$timeout,$rootScope,$filter,$compile,WSocket,ScopeService,SearchBarService,AvailableFixedDates,EventNames,Constants,ColumnsService,BookmarkEventService,FormatCellService){function normalizeSourceType(sourceType){return"JSON_LINES"===sourceType?"JSON Lines":"JSON_OBJECT"===sourceType?"JSON Object":"JSON_ARRAY"===sourceType?"JSON Array":"AVRO"===sourceType?"AVRO":"CSV"===sourceType?"CSV":"XLSX_SHEET"===sourceType?"XLSX Sheet":"XLS_SHEET"===sourceType?"XLS Sheet":"XLS"===sourceType?"XLS":"XLSX"===sourceType?"XLSX":"XML"===sourceType?"XML":"MYSQL_TABLE"===sourceType?"MySQL Table":"ORACLE_TABLE"===sourceType?"Oracle Table":"MSSQL_TABLE"===sourceType?"MSSQL Table":"POSTGRESQL_TABLE"===sourceType?"PostgreSQL Table":"MYSQL_QUERY"===sourceType?"MySQL Query":"POSTGRESQL_QUERY"===sourceType?"PostgreSQL Query":"MSSQL_QUERY"===sourceType?"MSSQL Query":"ORACLE_QUERY"===sourceType?"Oracle Query":"MSSQL"===sourceType?"MSSQL":"MYSQL"===sourceType?"MySQL":"POSTGRESQL"===sourceType?"PostgreSQL":"ORACLE"===sourceType?"Oracle":"UNDEFINED"===sourceType?"Undefined":"Unrecognizable"}function initGrid(params,$scope){$scope.previewGridOptions&&$scope.previewGridOptions.api&&$scope.previewGridOptions.api.destroy(),$scope.gridMode=params.mode,$scope.gridOptions&&$scope.gridOptions.api&&$scope.gridOptions.api.destroy(),$scope.inRequest=!1;var selector=params.selector,gridOptions={headerHeight:26,defaultRowHeight:DEFAULT_ROW_HEIGHT,rowHeight:$scope.dataSummary.defaultRowHeight,getRowHeight:function getRowHeight(params){var rowIndex="top"==params.node.floating?isActualRawData($scope)?params.data[ROW_NUMBER_COL_ID]-1:params.rowIndex:params.rowIndex+$scope.dataSummary.pinnedRowsCount;var stateHeight=$scope.dataSummary.rowsHeight[rowIndex+""];return stateHeight&&stateHeight>=DEFAULT_ROW_HEIGHT?stateHeight:$scope.dataSummary.defaultRowHeight},onRowsResized:genOnRowsResizedFn($scope),minFitColWidth:100,maxFitColWidth:1e3,enableColResize:!0,rowSelection:"none",enableRangeSelection:!0,enableServerSideSorting:"raw"!=params.mode,suppressContextMenu:!1,suppressMenuFilterPanel:!0,suppressMenuColumnPanel:!0,suppressCellSelection:!1,suppressFieldDotNotation:!0,suppressMenuHide:!0,suppressColumnMoveAnimation:!0,enableFilter:!1,enableCopyWithHtml:!0,unSortIcon:!0,suppressDragLeaveHidesColumns:!0,suppressAggFuncInHeader:!0,suppressColumnVirtualisation:!1,toolPanelSuppressRowGroups:!0,isScrollLag:function isScrollLag(){return!0},rowBuffer:10,rowDeselection:!0,columnDefs:[],floatingTopRowData:[],enableSorting:!0,enableFreezebar:!0,suppressMoveToPinning:!0,suppressGhostIcon:!0,isFloatingForInMemoryRowModel:!0,getPinnedRowsCount:function getPinnedRowsCount(){return $scope.dataSummary.pinnedRowsCount},onHeaderResizableDragStart:function onHeaderResizableDragStart(e){var rootRect=this.eRoot.getBoundingClientRect(),resizeHandler=$(this.eHeaderCell).find(".ag-header-cell-resize")[0],resizeHandlerRect=resizeHandler.getBoundingClientRect(),height=rootRect.bottom-resizeHandlerRect.top,insideHandlerTop=rootRect.top-resizeHandlerRect.top;this.eHandler=$("<div class=\"ag-resizable-handler\">"+"<div style=\"height: "+resizeHandlerRect.height+"px;\" class=\"ag-resizable-inside-handler\"></div>"+"</div>")[0],this.eHandler.style.left=e.clientX-rootRect.left+2+"px",this.eHandler.style.top=-insideHandlerTop,this.eHandler.style.height=height+"px",this.eRoot.appendChild(this.eHandler),this.startWidth=this.column.getActualWidth(),e.stopPropagation()},onHeaderResizableDragging:function onHeaderResizableDragging(dragChange,finished,e){var maxWidth=0<this.column.colDef.maxWidth?this.column.colDef.maxWidth:2e3;if(finished){this.eHandler.remove();var newWidth=this.startWidth+dragChange;this.column.getActualWidth()!=newWidth&&(this.columnController.setColumnWidth(this.column,newWidth,finished),this.gridPanel.sizeColumnsToFit())}else if(e){var x=e.clientX-this.eRoot.getBoundingClientRect().left+2;if(0>dragChange){var colMinWidthPoint=x-this.column.actualWidth+this.column.minWidth;x+dragChange<colMinWidthPoint&&(x=colMinWidthPoint-dragChange)}else if(dragChange>maxWidth-this.column.actualWidth){var colMaxWidthPoint=x-this.column.actualWidth+maxWidth;x=colMaxWidthPoint-dragChange}this.eHandler.style.left=x+"px"}e&&e.stopPropagation()},customCreateGhost:function customCreateGhost(){var level=this.dragSource.dragGroup?this.dragSource.dragGroup.originalColumnGroup.colGroupDef.level:$scope.dataSummary.pivot.length,dragWidth=_.reduce(this.dragSource.dragItem,function(result,item){return result+item.actualWidth},0),headerHeight=this.gridOptionsWrapper.getHeaderHeight(),headersNumber=getActualPivot($scope).length;1<$scope.dataSummary.shows.length&&(headersNumber+=1),this.eBody=$(selector)[0],this.eBodyViewport=this.eBody.querySelector(".ag-body-viewport"),this.eGhost=document.createElement("div"),this.eGhost.className="ag-dnd-ghost";var containerHeight=this.eBody.querySelector(".ag-full-width-container").getBoundingClientRect().height,bodyHeight=this.eBody.getBoundingClientRect().height-headerHeight-2;headersNumber||(headersNumber=1),this.eGhost.style.top=headersNumber*headerHeight+"px",this.eGhost.style.height=(containerHeight<bodyHeight?containerHeight:bodyHeight)+"px",this.eGhost.style.width=dragWidth+"px",this.eGhost.style.borderColor="lightblue",this.eGhost.style.backgroundColor="rgba(0,0,0,0.1)";var ehbg={};ehbg.top=level*headerHeight,ehbg.height=($scope.dataSummary.pivot.length-level+1)*headerHeight,this.eBody.appendChild(this.eGhost)},customPositionGhost:function customPositionGhost(event){var ghostRect=this.eGhost.getBoundingClientRect(),bodyRect=this.eBody.getBoundingClientRect(),leftPinnedWidth=this.columnController.getLeftPinnedWidth(),scrollWidth=this.eBodyViewport.scrollLeft,browserWidth=cc.getBodyWidth()-2,left=event.pageX-bodyRect.left-ghostRect.width/2,windowScrollX=window.pageXOffset||document.documentElement.scrollLeft;0<browserWidth&&left+this.eGhost.clientWidth>browserWidth+windowScrollX&&(left=browserWidth+windowScrollX-this.eGhost.clientWidth);var minLeft=leftPinnedWidth-scrollWidth;0>minLeft&&(minLeft=0),left<minLeft&&(left=minLeft),this.eGhost.style.left=left+"px"},onCellDoubleClicked:function onCellDoubleClicked(params){if(cc.isOverflow(params.eGridCell)){var cellRect=params.eGridCell.getBoundingClientRect(),childScope=$scope.$new(),fullTextDropdown=$("<div click-out=\"closeDropdown()\" class=\"fulltext-dropdown\">"+params.value+"</div>");cellRect.width>MAX_FULLTEXT_DROPDOWN_WIDTH&&fullTextDropdown.css("max-width",cellRect.width),childScope.closeDropdown=function(){this.el.remove()},fullTextDropdown=$compile(fullTextDropdown)(childScope),childScope.el=fullTextDropdown,$("body").append(fullTextDropdown),fullTextDropdown.css({top:_Mathfloor8(cellRect.top)-1,left:_Mathfloor8(cellRect.left)-1,"white-space":"pre-wrap",width:cellRect.width})}if($scope.dataSummary.aggs.length||$scope.dataSummary.pivot.length){var colId=params.colDef.colId,column=params.columnApi.getColumn(colId),col;if(!(colId==AGGREGATION_COL_ID))if(isPivotTable($scope)&&params.colDef.originalField==CLUSTER_SIZE_COL_ID)viewRaw(params.node,$scope,!1,column,!0);else{var show=_.find($scope.dataSummary.shows,function(show){return getOpKey(show)==params.colDef.originalField});col=show?show.col:null,col&&isAllowClickIn(colId,show,$scope)&&viewRaw(params.node,$scope,isPivotTable($scope)?params.colDef.originalField:params.colDef.colId,column)}}},onCellClicked:function onCellClicked(params){var isArrayList=Array.isArray(params.value);if(isArrayList||cc.isURL(params.value)){var cellRect=params.eGridCell.getBoundingClientRect(),childScope=$scope.$new(),linkDropdown=$("<div ng-click=\"closeDropdown()\" click-out=\"closeDropdown()\" class=\"link-dropdown\"></div>"),urlArr;if(isArrayList){if(!_.isString(params.value[0]))return;urlArr=_.filter(params.value,function(value){return value.match(cc.URL_REGEXP)})}else urlArr=[params.value];if(!urlArr.length)return;childScope.closeDropdown=function(){this.el.remove()},urlArr.forEach(function(url){var text=url;27<text.length&&(text=text.slice(0,14)+"..."+text.slice(text.length-13));var link=$("<span><a href=\""+url+"\" target=\"_blank\">"+text+"&nbsp;<i class=\"fa fa-external-link\"></i></a></span>");linkDropdown.append(link)}),linkDropdown=$compile(linkDropdown)(childScope),childScope.el=linkDropdown,$("body").append(linkDropdown),linkDropdown.css({top:_Mathfloor8(cellRect.top)-(linkDropdown[0].getBoundingClientRect().height+2),left:_Mathfloor8(cellRect.left)-1})}},icons:{groupExpanded:"<i class=\"fa fa-fw fa-minus-square-o\"/>",groupContracted:"<i class=\"fa fa-fw fa-plus-square-o\"/>"},onColumnResized:function onColumnResized(e){var columns=[];if(e.column?columns.push(e.column):e.columns&&(columns=e.columns),!e.sizeToFit&&columns.length){if(isActualPivotData($scope))return;_.each(columns,function(column){if(e.finished&&"$$aggregation"!=column.colId){var show=_.find($scope.dataSummary.shows,function(s){return getOpKey(s)==column.colId});show||(show={id:_.find($scope.tabsSection.options.activeTab.state.queryParams.shows,function(id){return getOpKey({id:id})==column.colId})}),show.id.settings.width=column.actualWidth,BookmarkEventService.emit(".shows.ShowResizeEvent",{key:show.id,width:column.actualWidth},$scope)}})}},onColumnGroupOpened:function onColumnGroupOpened(event){var colId=event.columnGroup.originalColumnGroup.colGroupDef.columnName,collapsed=!$scope.dataSummary.pivotCollapsedState[colId];$scope.dataSummary.pivotCollapsedState[colId]=collapsed,BookmarkEventService.emit(".pivot_collapsed_state.PivotCollapsedStateAddEvent",{key:colId,value:collapsed},$scope),$scope.gridOptions.api.sizeColumnsToFit()},onRowGroupOpened:function onRowGroupOpened(params){var expanded=params.node.expanded,floatingRowModel=$scope.gridOptions.api.floatingRowModel;if(floatingRowModel.setExpanded(params.node.id,expanded),$scope.gridOptions.api.rowModel.setExpanded(params.node.id,expanded),"top"==params.node.floating){var displayedRowsLeaf=floatingRowModel.flattenStage.execute(params.node),floatingRows=floatingRowModel.floatingTopRows,lastRowsPinnedCount=$scope.dataSummary.pinnedRowsCount;if(expanded)$scope.dataSummary.pinnedRowsCount+=displayedRowsLeaf.length;else{var displayedRows=_.filter(displayedRowsLeaf,function(row){return!!_.find(floatingRows,{id:row.id})});$scope.dataSummary.pinnedRowsCount-=displayedRows.length}lastRowsPinnedCount!=$scope.dataSummary.pinnedRowsCount&&smartEmit($scope,EventNames.CHANGE_PINNED_COUNT.ROWS)}var key=function(node){for(var keyPathArr=[],i=0;i<node.level;++i)keyPathArr.push(node.data[$scope.dataSummary.aggs[i].key]);return keyPathArr.push(node.data.$$aggregation),keyPathArr.join("_")}(params.node);params.node.data.$$open=expanded,$scope.dataSummary.rowsCollapsedState[key]=expanded,BookmarkEventService.emit(".rows.RowsCollapsedStateChangeEvent",{key:key,value:expanded},$scope)},onSortChanged:function onSortChanged(){function getShowChangeSortEvent(show){return{"@type":".shows.ShowChangeSortEvent",key:show.id}}function resetAllAggsSort(sortObj){function resetAggSort(aggSort,sortObj){sortObj||(sortObj={}),aggSort.direction=sortObj.direction||"ASC",aggSort.isCount=sortObj.isCount||!1,aggSort.type=sortObj.type||"BY_KEY",aggSort.field=sortObj.field||null,aggSort.aggKeyPath=sortObj.aggKeyPath||null}_.forEach($scope.dataSummary.aggs,function(agg){resetAggSort(agg.id.settings.sort,sortObj)})}function getChangeSortEventsForAllAggs(){return _.map($scope.dataSummary.aggs,function(agg){return{"@type":EventNames.CHANGE_SORT_EVENT.AGGS,key:agg.id}})}var startTime=new Date;if(suppressSortCallback)return void(suppressSortCallback=!1);var sortModel=this.api.getSortModel(),events=[];if(console.log("onSortChanged: ",sortModel),isActualAggData($scope)){var sortedCol=sortModel[0];if(!sortedCol)resetAllAggsSort();else if(sortedCol.colId==AGGREGATION_COL_ID)resetAllAggsSort({direction:sortedCol.sort.toUpperCase()});else if(!isActualPivotData($scope))resetAllAggsSort({direction:sortedCol.sort.toUpperCase(),type:"BY_VALUE",field:sortedCol.colId,aggKeyPath:[]});else{var gridCol=_.find(this.columnApi.getAllGridColumns(),{colId:sortedCol.colId}),sortObj={direction:sortedCol.sort.toUpperCase(),type:"BY_VALUE",aggKeyPath:_.filter(gridCol.colDef.pivotKeys,function(key){return null==key?"":key+""})};gridCol.colDef.originalField==CLUSTER_SIZE_COL_ID?sortObj.isCount=!0:sortObj.field=gridCol.colDef.originalField,resetAllAggsSort(sortObj)}events=getChangeSortEventsForAllAggs(),$scope.$broadcast("finishResize")}else{var needToReset=_.filter($scope.dataSummary.shows,function(show){var sortSettings=show.id.settings.sort;return sortSettings&&!_.find(sortModel,{colId:show.key})});events=_.map(needToReset,function(show){return show.id.settings.sort=null,getShowChangeSortEvent(show)}),_.forEach(sortModel,function(agGridSort,i){var show=_.find($scope.dataSummary.shows,{key:agGridSort.colId});if(show){var showSettings=show.id.settings;showSettings.sort?(showSettings.sort.direction!=agGridSort.sort.toUpperCase()||showSettings.sort.priority!=i)&&(showSettings.sort.direction=agGridSort.sort.toUpperCase(),showSettings.sort.priority=i,events.push(getShowChangeSortEvent(show))):(showSettings.sort={direction:agGridSort.sort.toUpperCase(),priority:i},events.push(getShowChangeSortEvent(show)))}})}events.length&&(BookmarkEventService.emit(".BookmarkVizCompositeStateChangeEvent",{events:events},$scope),ScopeService.safeApply($scope,function(){doRefreshIfNeeded($scope,startTime)})),isEmbed($scope)||($scope.setShowCollapsedTags(!0),$scope.$broadcast("closeSortSettingsDropdown"))},onDragStopped:function onDragStopped(){var eBody=document.getElementsByClassName("ag-custom")[0],eBgHd=document.getElementsByClassName("ag-background-pivot")[0];eBody&&eBgHd&&eBody.removeChild(eBgHd)},onColumnMoved:function onColumnMoved(e){if(isPivotTable($scope)){var groupSize=$scope.dataSummary.shows.length,toPosition=e.toIndex%groupSize;if(e.column){var show=_.find($scope.dataSummary.shows,{key:e.column.colDef.field});if(show){var fromPosition=$scope.dataSummary.shows.indexOf(show);move($scope.dataSummary.shows,fromPosition,toPosition),onShowsOrderChangePivot($scope,$scope.dataSummary.shows,toPosition),$scope.$apply()}}$scope.dataSummary.pivotOrder=_.map(gridOptions.columnApi.getAllGridColumns(),"colId"),BookmarkEventService.emit(".shows.ShowMovePivotEvent",{pivotOrder:$scope.dataSummary.pivotOrder},$scope)}else{var columnsToMove=[];e.column?columnsToMove=[e.column]:e.columns&&(columnsToMove=e.columns),(isActualRawData($scope)&&!$scope.dataSummary.aggs.length&&!$scope.dataSummary.pivot.length||$scope.dataSummary.aggs.length&&isActualAggData($scope))&&_.each(columnsToMove,function(column){show=_.find($scope.showMeList,function(s){return s.key==column.colId}),toPosition=e.toIndex-1,isAggregatedData($scope)&&toPosition--,BookmarkEventService.emit(".shows.ShowMoveEvent",{key:show.id,toPosition:toPosition},$scope);var columns=$scope.gridOptions.columnApi.getAllGridColumns();ScopeService.safeApply($scope,function(){resetShows(_(columns).filter(function(column){return!_.contains([ROW_NUMBER_COL_ID,"$$aggregation"],column.colId)}).map(function(column){return _.find($scope.showMeList,{key:column.colId})}).value(),$scope)})})}$timeout(function(){$scope.$emit("DoRebuildCollapsedTags")})},onGridSizeChanged:function onGridSizeChanged(){$scope.gridOptions&&$scope.gridOptions.api&&$scope.gridOptions.api.sizeColumnsToFit()},overlayNoRowsTemplate:"<span class=\"ag-no-results\">No results returned</span>",headerCellTemplate:"<div class=\"ag-header-cell\">\n    <div id=\"agResizeBar\" class=\"ag-header-cell-resize\"></div>\n    <span id=\"agMenu\" class=\"ag-header-icon ag-header-cell-menu-button\">\n        <i class=\"fa fa-caret-down\"></i>\n    </span>\n    <div id=\"agHeaderCellLabel\" class=\"ag-header-cell-label\">\n        <span id=\"agText\" class=\"ag-header-cell-text\"></span>\n        <span id=\"agRename\" class=\"ag-header-cell-rename\"><input/></span>\n        <div id=\"gridSortView\"> <span id=\"agSortAsc\" class=\"ag-header-icon ag-sort-icon ag-sort-ascending-icon\">\n            <i class=\"fa fa-sort-asc\"></i>\n        </span>\n        <span id=\"agSortDesc\" class=\"ag-header-icon ag-sort-icon ag-sort-descending-icon\">\n            <i class=\"fa fa-sort-desc\"></i>\n        </span>\n        <span id=\"agNoSort\" class=\"ag-header-icon ag-sort-icon ag-sort-none-icon\">\n            <i class=\"fa fa-sort\"></i>\n        </span>\n </div>   </div>\n</div>",headerCellRenderer:function headerCellRenderer(params){var $h=$(params.eHeaderCell),$rename=$h.find("#agRename"),$text=$h.find("#agText");colHeaders[params.colDef.colId]=$h;var show=_.find($scope.dataSummary.shows,function(s){return getOpKey(s)==(isPivotTable($scope)?params.colDef.originalField:params.colDef.field)});show&&!params.colDef.suppressDefaultTitle&&$text.html("<span>"+show.opName+" </span>");var hideRename=function(){$rename.hide(),$text.show()};return $rename.click(function(e){e.stopPropagation(),e.preventDefault()}).hide().find("input").blur(hideRename).keyup(function(e){13==e.keyCode?($scope.$apply(function(){return updateColumnName(show.col,e.currentTarget.value,$scope)}),hideRename()):27==e.keyCode&&hideRename()}),params.value},processHeaderForClipboard:function processHeaderForClipboard(params){if(params.column.colGroupDef)return params.column.colGroupDef.rawHeaderName;if(!params.column.colDef)return"";if(1<$scope.dataSummary.shows.length){var show=_.find($scope.dataSummary.shows,function(s){return getOpKey(s)==(isPivotTable($scope)?params.column.colDef.originalField:params.column.colDef.field)});if(show)return(show.id.op?toTitle(show.id.op)+" ":"")+show.name}return params.column.colDef.rawHeaderName},processCellForClipboard:function processCellForClipboard(params){var value=params.value;if("$$row_number"==params.column.colId)if("top"==params.node.floating)value=null;else if(void 0!==params.node.data&&isRawData($scope))value=+params.node.id+1;else if(void 0!==params.node.data){var rows=params.node.gridOptionsWrapper.gridOptions.api.getModel().rowsToDisplay;value=_.indexOf(rows,params.node)+1}if(null===value)return"";if(cc.isValidURL(value))return value;var show;if("$$aggregation"==params.column.colId){if(params.node.data[GRAND_TOTAL_COL_ID])return value;show=$scope.dataSummary.aggs[params.node.level]}else show=_.find($scope.dataSummary.shows,{key:isPivotTable($scope)?params.column.colDef.originalField:params.column.colId});return show?isSuppressColFormatRules(show)?value:$filter("formatCell")(value,show.col):value},onCtrlAndZ:function onCtrlAndZ(){$scope.tabsSection.undo()},onCtrlShiftAndZ:function onCtrlShiftAndZ(){$scope.tabsSection.redo()},onVFreezebarDragEnd:function onVFreezebarDragEnd(params){var countToFreeze=params.countToFreeze;countToFreeze!=$scope.dataSummary.pinnedColsCount&&togglePinnedColumns($scope,params.countToFreeze)},onHFreezebarDragEnd:function onHFreezebarDragEnd(params){var countToFreeze=params.countToFreeze;if(countToFreeze&&$scope.dataSummary.showTotals&&countToFreeze--,countToFreeze!=$scope.dataSummary.pinnedRowsCount){var isRemovedPinnedRows=countToFreeze<$scope.dataSummary.pinnedRowsCount;togglePinnedRows($scope,countToFreeze),isActualRawData($scope)&&$scope.gridOptions.api.rowModel.virtualPageCache.updateHeightForAllRows(),isRemovedPinnedRows&&$scope.gridOptions.api.refreshView(),$scope.gridOptions.api.rangeController.refreshBorders(),$scope.gridOptions.api.gridPanel.resetVerticalScrollPosition()}}};"raw"==params.mode?(gridOptions.rowModelType="virtual",gridOptions.paginationPageSize=$scope.dataSummary.limit.pageSize,gridOptions.paginationOverflowSize=2,gridOptions.maxConcurrentDatasourceRequests=2,gridOptions.paginationInitialRowCount=1):("agg"==params.mode||"pivot"==params.mode)&&(gridOptions.getNodeChildDetails=function(row){return row.$$expandable?{group:!0,children:row.$$children,expanded:row.$$open}:null},gridOptions.rowData=[],gridOptions.suppressMultiSort=!0);var colHeaders={},gridDiv=document.querySelector(selector);gridOptions={data:[],onColumnResized:function onColumnResized(column){if(console.log("onColumnResized",column),"$$aggregation"!==column.colId&&!isActualPivotData($scope)&&column.colDef){var show=_.find($scope.dataSummary.shows,function(s){return getOpKey(s)===column.colId})||{id:_.find($scope.tabsSection.options.activeTab.state.queryParams.shows,function(id){return getOpKey({id:id})===column.colId})};show.id.settings.width=column.actualWidth,BookmarkEventService.emit(".shows.ShowResizeEvent",{key:show.id,width:column.getWidth()},$scope)}},onUpdateColumnName:function onUpdateColumnName(column,renameTo){console.log("onUpdateColumnName",column,renameTo);var show=_.find($scope.dataSummary.shows,function(s){return getOpKey(s)===column.name});show&&updateColumnName(show.col,renameTo,$scope)},onColumnsMoved:function onColumnsMoved(columns,toIndex){if(isPivotTable($scope)){var groupSize=$scope.dataSummary.shows.length,toPosition=toIndex%groupSize;columns.forEach(function(column){if(column){var show=_.find($scope.dataSummary.shows,{key:column.colDef.field});if(show){var fromPosition=$scope.dataSummary.shows.indexOf(show);move($scope.dataSummary.shows,fromPosition,toPosition),onShowsOrderChangePivot($scope,$scope.dataSummary.shows,toPosition),$scope.$apply()}}}),$scope.dataSummary.pivotOrder=_.map($scope.gridOptions.columnApi.getAllGridColumns(),"colId"),BookmarkEventService.emit(".shows.ShowMovePivotEvent",{pivotOrder:$scope.dataSummary.pivotOrder},$scope)}else if(isActualRawData($scope)&&!$scope.dataSummary.aggs.length&&!$scope.dataSummary.pivot.length||$scope.dataSummary.aggs.length&&isActualAggData($scope)){_.each(columns.reverse(),function(column){var show=_.find($scope.showMeList,function(s){return s.key===column.name});show&&(isAggregatedData($scope)&&toIndex--,BookmarkEventService.emit(".shows.ShowMoveEvent",{key:show.id,toPosition:toIndex},$scope))});var newOrderedColumns=$scope.gridOptions.columnApi.getAllGridColumns();ScopeService.safeApply($scope,function(){resetShows(_(newOrderedColumns).filter(function(column){return!_.contains([ROW_NUMBER_COL_ID,"$$aggregation"],column.colId)}).filter(function(column){return column.colDef}).map(function(column){return _.find($scope.showMeList,{key:column.colId})}).value(),$scope)})}$timeout(function(){$scope.$emit("DoRebuildCollapsedTags")})},getMainMenuItems:function getMainMenuItems(){var selectedColumns=$scope.gridOptions.api.getSelectedColumns(),menuItems=[];return $scope.isViewOnly||(2>selectedColumns.length&&menuItems.push({name:"Rename",action:function action(clickEvent,cellEvent){console.log("rename selected",clickEvent,cellEvent),cellEvent.grid.onEditorActivate(cellEvent)}}),menuItems=menuItems.concat([{name:"Remove",action:function action(clickEvent,cellEvent){console.log("remove selected",clickEvent,cellEvent);var grid=cellEvent.grid,colDef=grid.columnDefs;selectedColumns.forEach(function(column){var removed=_.remove($scope.dataSummary.shows,{key:column.name});_.each(removed,function(_ref29){var id=_ref29.id;BookmarkEventService.emit(".shows.ShowRemoveEvent",{key:id},$scope)}),$timeout(function(){$scope.$emit("DoRebuildCollapsedTags")});var singleColDef=grid.getColDef(column.name);singleColDef&&colDef.splice(colDef.indexOf(singleColDef),1)}),grid.api.setColumnDefs(colDef)}}]),0<$scope.gridOptions.api.getRangeSelections().length&&[].push.call(menuItems,{name:"Copy",action:function action(){$scope.gridOptions.api.copySelectedRangeToClipboard()}},{name:"Copy With Headers",action:function action(){$scope.gridOptions.api.copySelectedRangeToClipboard(!0)}})),menuItems},getContextMenuItems:function getContextMenuItems(params){var menu=[],colId=params.column.colId,aggregationColumn="$$aggregation"==colId,rangeSelections=$scope.gridOptions.api.getRangeSelections(),isGrandTotalCell=params.node.data&&params.node.data[GRAND_TOTAL_COL_ID],isBlankNode=params.node.data&&params.node.data.$$blank_node,singleCellSelected=!_.some(rangeSelections,function(range){return range.left!==range.right||range.top!==range.bottom}),col;if(!isBlankNode&&singleCellSelected)if(isPivotTable($scope)&&params.column.colDef.originalField==CLUSTER_SIZE_COL_ID)menu.push({name:"View <b>Raw Data</b>",action:function action(){viewRaw(params.node,$scope,!1,params.column,!0)}});else{if(aggregationColumn){var agg=$scope.dataSummary.aggs[params.node.level];col=agg.col}else if(params.column.colDef){var show=_.find($scope.dataSummary.shows,function(show){return getOpKey(show)==params.column.colDef.originalField});col=show?show.col:null}col&&(isAllowClickIn(colId,show,$scope)&&menu.push({name:"View <b>Raw Data</b>",action:function action(){viewRaw(params.node,$scope,aggregationColumn?null:isPivotTable($scope)?params.column.colDef.originalField:params.column.colId,params.column)}}),!isGrandTotalCell&&(isRawData($scope)||aggregationColumn||"VALUE"==show.id.op)&&(menu=menu.concat([{name:"<b>Filter</b> to value",action:function action(){filterToResults(col,params.value,$scope)}},{name:"<b>Exclude</b> this value",action:function action(){excludeFromResults(col,params.value,$scope)}}])))}return rangeSelections.length&&(menu.push({name:"Copy",action:function action(){$scope.gridOptions.api.copySelectedRangeToClipboard()}}),menu.push({name:"Copy With Headers",action:function action(){$scope.gridOptions.api.copySelectedRangeToClipboard(!0)}})),menu},onAggregatedCellClick:function onAggregatedCellClick(event){viewRaw({data:event.dataRow,level:event.dataRow.__treeLevel},$scope,!1,event.column)},onCtrlAndZ:function onCtrlAndZ(){$scope.tabsSection.undo()},onCtrlShiftAndZ:function onCtrlShiftAndZ(){$scope.tabsSection.redo()},logEnable:!1},0<$scope.ingestDataSummary.selectedSources.length&&_.merge(gridOptions,$scope.ingestDataSummary.selectedSources[0].descriptor.settings),$scope.gridOptions&&$scope.gridOptions.isAlive&&$scope.gridOptions.isAlive()||(window.grid=$scope.gridOptions=new finGrid(gridDiv,gridOptions))}function getActualPivot($scope){return!$scope.autoRefresh&&$scope.tabsSection?$scope.tabsSection.options.activeTab.state.queryParams.pivot:$scope.dataSummary.pivot}function isRawData($scope){return 0==$scope.dataSummary.aggs.length}function isActualRawData($scope){return!isActualAggData($scope)&&!isActualPivotData($scope)}function isActualAggData($scope){return!$scope.autoRefresh&&$scope.tabsSection?0<$scope.tabsSection.options.activeTab.state.queryParams.aggs.length:0<$scope.dataSummary.aggs.length}function isActualPivotData($scope){return!$scope.autoRefresh&&$scope.tabsSection?0<$scope.tabsSection.options.activeTab.state.queryParams.pivot.length:0<$scope.dataSummary.pivot.length}function isAggregatedData($scope){return!isRawData($scope)&&0==$scope.dataSummary.pivot.length}function isPivotTable($scope){return 0<$scope.dataSummary.pivot.length}function togglePinnedRows($scope,nodesToPinCount,withTimeout){var nodesToRemove=[],pinnedNodesCount=pinnedRowNodes.length;if(isActualRawData($scope)){if(nodesToPinCount>=pinnedNodesCount){for(var shouldRewrite=nodesToPinCount===pinnedNodesCount,to=nodesToPinCount-(shouldRewrite?0:pinnedNodesCount),i=0,node;i<to;i++)node=$scope.gridOptions.api.getModel().getRow(i),node.data.$$row_number=parseInt(node.id)+1,nodesToRemove.push(node);$scope.gridOptions.api.removeItems(nodesToRemove),pinnedRowNodes=shouldRewrite?nodesToRemove:pinnedRowNodes.concat(nodesToRemove)}else{var nodesToUnpin=pinnedRowNodes.slice(nodesToPinCount);pinnedRowNodes=pinnedRowNodes.slice(0,nodesToPinCount),$scope.gridOptions.api.insertItemsAtIndex(0,nodesToUnpin)}$scope.floatingTopRows=_.map(pinnedRowNodes,"data")}$scope.dataSummary.pinnedRowsCount!=nodesToPinCount&&smartEmit($scope,EventNames.CHANGE_PINNED_COUNT.ROWS,nodesToPinCount),toggleTotals($scope,withTimeout),$scope.gridOptions.api.clearRangeSelection(),$scope.gridOptions.api.clearFocusedCell()}function togglePinnedColumns($scope,columnsToPinCount){$scope.gridOptions.columnApi.changePinnedRange(columnsToPinCount),smartEmit($scope,EventNames.CHANGE_PINNED_COUNT.COLS,columnsToPinCount)}function getCustomCellRenderer($scope){var showsWrap=$scope.dataSummary.shows,isPivot=isPivotTable($scope);return function(params){var field=isPivot?params.colDef.originalField:params.colDef.field,content;if("$$cluster_size"===field)content=params.value;else{var shows=_.indexBy(showsWrap,getOpKey),show=shows[field];if(!show){var state=$scope.tabsSection.options.activeTab.state;if(show={col:_.find(state.columnList,{field:field}),id:_.find(state.queryParams.shows,{field:field})},!show.id)return}if(_.isArray(params.value)){if("DATE"===show.col.type){var preProcessDate=function(v){return $filter("formatCell")(v,show.col,null,search,null,$scope.isConvertToUserTimezone()?timezone:null)};content=FormatCellService.arrayCell(params.value,preProcessDate)}else content=FormatCellService.arrayCell(params.value);}else if(!isSuppressColFormatRules(show)){var _search=$scope.dataSummary.highlightMatches?$scope.dataSummary.search:null;if("STRING"===show.col.type)content=$filter("formatCell")(params.value,show.col,null,_search);else if("DATE"===show.col.type){var _timezone=$scope.getUserTimezoneAbbreviation();content=$filter("formatCell")(params.value,show.col,null,_search,null,$scope.isConvertToUserTimezone()?_timezone:null)}else content=$filter("formatCell")(params.value,show.col,null,_search)}else content=$filter("formatCell")(params.value,_.merge({},show.col,{type:"DECIMAL",settings:{format:{decimalPlaces:0,showThousandsSeparator:!0,type:"NUMBER"}}}))}return content}}function getNoFieldsCellRenderer($scope){function NoFieldsCellRenrerer(){}var noFieldsText=0<$scope.totalSize?"No fields selected.":"No data returned.";return NoFieldsCellRenrerer.prototype.update=function(){},NoFieldsCellRenrerer.prototype.init=function(params){this.eGui=$("<span class=\"cell-value\"></span>");var content;"top"==params.node.floating?1==params.node.data.$$row_number&&(content=noFieldsText):void 0!==params.data&&0==+params.node.id&&(content=noFieldsText),this.eGui.append(content),this.update(params)},NoFieldsCellRenrerer.prototype.getGui=function(){return this.eGui[0]},NoFieldsCellRenrerer.prototype.refresh=function(params){this.update(params)},NoFieldsCellRenrerer.prototype.destroy=function(){},NoFieldsCellRenrerer}function isSuppressColFormatRules(show){return show.id.op&&_.contains(["COUNT","UNIQUE_COUNT","APPROX_UNIQUE_COUNT"],show.id.op)}function updateColumnName(col,renameTo,$scope){var colNameFormat=$scope.tabsSection.options.activeTab.state.colNameFormat,columns=$scope.gridOptions.columnApi.getAllColumns(),columnNameUsed=_.some(columns,function(column){return column.colDef.headerName===renameTo});if(renameTo!==col.name&&!columnNameUsed){var showsForRename=_.filter($scope.showMeList,function(s){return s.id.field===col.field});_.each(columns,function(gridCol){_.some(showsForRename,function(s){return getOpKey(s)===gridCol.colDef.colId})&&(gridCol.colDef.headerName=renameTo)}),$scope.gridOptions.columnApi.resetColumnState();var column=_.find($scope.tabsSection.options.activeTab.state.columnList,function(c){return c.field===col.field});col.name=renameTo,column.name=renameTo,_.each($scope.showMeList,function(show){return wrapShow(show,colNameFormat)}),_.each($scope.groupByList,function(group){return wrapAgg(group,colNameFormat)}),$rootScope.$broadcast("sizeSearchInput"),BookmarkEventService.emit(".cols.ColRenameEvent",{field:col.field,renameTo:renameTo},$scope),setTimeout(function(){var flowJSON=$scope.tabsSection.options.activeTab.state.flowJSON;$scope.deserializeIngestSettingsFromJSON(flowJSON).then(function(){var column=_.find($scope.ingestDataSummary.columns,function(c){return c.settings.rename===col.originalField||c.name===col.originalField});column&&renameTo!==column.settings.rename&&(column.settings.rename=renameTo,flowJSON=$scope.serializeIngestSettingsToJSON(),$scope.tabsSection.options.activeTab.state.flowJSON=flowJSON,$scope.updateIngestSettings(!0,!0))})}),$scope.$emit("DoRebuildCollapsedTags")}else renameNotificationActive||(renameNotificationActive=!0,cc.notify({message:"Column name is already in use",icon:"warning",wait:5,ondismiss:function ondismiss(){return renameNotificationActive=!1}}))}function onLoadMoreData($scope,result){$scope.totalSize=result.count,$scope.popupData.is&&($scope.popupData.totalSize=_.cloneDeep($scope.totalSize)),$scope.totals=result.totals,$scope.externalId=result.externalId,$scope.scrollId=result.scrollId,$scope.headers=result.headers,0==$scope.totalSize?$scope.gridOptions.api.showNoRowsOverlay():$scope.gridOptions.api.hideOverlay()}function loadMoreData($scope,options,successCallback){if(isRawData($scope)){var cb=function(result){onLoadMoreData($scope,result),successCallback(_.map(result.data.children,function(item){return item.data}))};makeRequest(options,$scope,cb)}}function move(array,from,to){array.splice(to,0,array.splice(from,1)[0])}function onShowsOrderChangePivot($scope,showsArray,to){var gridOptions=$scope.gridOptions,onColumnMovedOld=gridOptions.onColumnMoved;delete gridOptions.onColumnMoved;for(var offset=1+!!$scope.dataSummary.aggs.length,gridColumns=_.cloneDeep(gridOptions.columnApi.getAllGridColumns()),groupSize=showsArray.length,newIndex=0,column;newIndex<groupSize;newIndex++)column=showsArray[newIndex],_.forEach(_.keys(_.pick(gridColumns,function(el){return el.colDef.originalField==column.key})),function(oldPosition,groupIndex){var newPosition=groupIndex*groupSize+newIndex+offset;oldPosition!=newPosition&&(gridOptions.columnApi.moveColumn(oldPosition,newPosition),move(gridColumns,oldPosition,newPosition))});gridOptions.onColumnMoved=onColumnMovedOld,to!=void 0&&BookmarkEventService.emit(".shows.ShowMoveEvent",{key:showsArray[to].id,toPosition:to},$scope)}function setPivotOrder(columnController,pivotOrder){var columns=columnController.getAllGridColumns();_.forEach(pivotOrder,function(pivotColId,newIndex){var oldIndex=_.findIndex(columns,{colId:pivotColId});0<=oldIndex&&oldIndex!=newIndex&&move(columns,oldIndex,newIndex)}),columnController.updateDisplayedColumns()}function getOpKey(o){var key=o.id.key?o.id.key:(o.id.op?o.id.op+"_":"")+o.id.field;return(o.id.pivot?o.id.pivot.join("_")+"_":"")+key}function getOpPred(list,wrapId){return function(o1){var el=_.find(list,function(o2){return getOpKey(wrapId?{id:o1}:o1)==getOpKey(o2)});return el&&wrapId&&(el.id=o1),el}}function isAllowClickIn(colId,show,$scope){return($scope.dataSummary.aggs.length||$scope.dataSummary.pivot.length)&&("$$aggregation"==colId||"VALUE"!=show.id.op)&&(!isEmbed($scope)||$scope.embedSettings.clickIn)}function getShowsWithCount($scope){var shows=[].concat($scope.dataSummary.shows);return 0==shows.length&&shows.push({id:{field:"$$cluster_size",settings:{}},col:{name:"count",type:"DECIMAL",settings:{format:{decimalPlaces:0,showThousandsSeparator:!0,type:"NUMBER"}}},showName:"count"}),shows}function genOnRowsResizedFn($scope){function updateRowsHeightState(rowIndex,height,limit,withoutEmit){if(rowIndex+1<=limit)return $scope.dataSummary.rowsHeight[rowIndex+""]=height,withoutEmit||BookmarkEventService.emit(".rows.RowsHeightChangeEvent",{rowsHeight:$scope.dataSummary.rowsHeight},$scope),!0}function updateRowsHeightStateFromArray(rows,height,limit){var changed=!1;if(rows.forEach(function(index){updateRowsHeightState(index,height,limit,!0)&&(changed=!0)}),changed)return BookmarkEventService.emit(".rows.RowsHeightChangeEvent",{rowsHeight:$scope.dataSummary.rowsHeight},$scope),!0}function updateDefaultRowsHeightState(rangeController,height,limit){if(rangeController.allRowsSelected){$scope.dataSummary.defaultRowHeight=height,$scope.dataSummary.rowsHeight={};var events=[{"@type":".rows.DefaultRowHeightChangeEvent",defaultRowHeight:$scope.dataSummary.defaultRowHeight},{"@type":".rows.RowsHeightChangeEvent",rowsHeight:$scope.dataSummary.rowsHeight}];return BookmarkEventService.emit(".BookmarkVizCompositeStateChangeEvent",{events:events},$scope),!0}return updateRowsHeightStateFromArray(rangeController.selectedRows,height,limit)}function isRowsSelectedResizing(rangeController,rowIndex){return rangeController.selectingRows&&1<rangeController.selectedRows.length&&function(){return _.some(rangeController.selectedRows,function(index){return index==rowIndex})}()}return function(height){var rowIndex;if(!isActualRawData($scope)){rowIndex="top"==this.node.floating?this.rowIndex:this.rowIndex+this.gridApi.rowRenderer.floatingRowModel.floatingTopRows.length;var changed=!1;changed=isRowsSelectedResizing(this.rangeController,rowIndex)?updateDefaultRowsHeightState(this.rangeController,height,$scope.dataSummary.limit.aggData):updateRowsHeightState(rowIndex,height,$scope.dataSummary.limit.aggData),changed&&(this.gridApi.refreshInMemoryRowModel(),this.gridApi.onGroupExpandedOrCollapsed(),this.rangeController.refreshBorders())}else{rowIndex="top"==this.node.floating?this.node.data.$$row_number-1:this.rowIndex+$scope.dataSummary.pinnedRowsCount;var pageCache=this.gridApi.virtualPageRowModel.virtualPageCache;isRowsSelectedResizing(this.rangeController,rowIndex)?(updateDefaultRowsHeightState(this.rangeController,height,$scope.dataSummary.limit.pageSize),pageCache.updateHeightForIndexes(this.rangeController.selectedRows,height)):(this.node.rowHeight=height,updateRowsHeightState(rowIndex,height,$scope.dataSummary.limit.pageSize),pageCache.updateAllRowTopFromIndexes()),toggleTotals($scope),this.gridApi.refreshView(),this.rangeController.refreshBorders()}}}function getNoFieldsColumnDef($scope){return{colId:EMPTY_FIELDS_COL_ID,headerName:"",suppressMenu:!0,suppressMovable:!0,suppressResize:!0,suppressSorting:!0,cellRenderer:getNoFieldsCellRenderer($scope)}}function updatePinnedColDefsRange($scope,colDefs){for(var i=0;i<colDefs.length&&i<$scope.dataSummary.pinnedColsCount;++i)colDefs[i].pinned="left"}function createColumnDefs($scope){function createColumnFromShow(s){var colNameFormat=$scope.tabsSection.options.activeTab.state.colNameFormat,key=getOpKey(s),sort=s.id.settings.sort,halign="right";switch(s.col.type){case"STRING":case"LOCATION_COUNTRY_CODES":case"LOCATION_USA_STATE_CODES":s.id.op&&"VALUE"!==s.id.op||(halign="left");break;case"BOOLEAN":halign="center";}return{colId:key,field:key,originalField:getOpKey({id:_.omit(s.id,["pivot"])}),headerName:s.col.name===s.col.originalField?ColumnsService.formatColumnName(colNameFormat,s.col.originalField):s.col.name,headerPrefix:s.id.op?toTitle(s.id.op):null,suppressSorting:"LOCATION_LAT_LON"===s.col.type,minWidth:10,maxWidth:2e3,pivotKeys:s.id.pivot,suppressMenu:isEmbed($scope)||$scope.dataSummary.pivot.length,suppressMovable:isEmbed($scope),width:s.id.settings.width||void 0,suppressSizeToFit:null!=s.id.settings.width,sort:sort?sort.direction.toLowerCase():null,sortedAt:sort?-sort.priority:null,cellRenderer:getCustomCellRenderer($scope),columnGroupShow:"open",halign:halign,searchType:s.col.searchType}}var colDefs=[];if(isAggregatedData($scope)||isPivotTable($scope)&&$scope.dataSummary.aggs.length){var colNameFormat=$scope.tabsSection.options.activeTab.state.colNameFormat,firstAgg=$scope.dataSummary.aggs[0],oldColumn=$scope.gridOptions.columnApi.getColumn("$$aggregation")||{},headerName=getAllAggregationPath($scope.dataSummary.aggs,colNameFormat);if(1==$scope.dataSummary.shows.length){var col=$scope.dataSummary.shows[0];headerName+=", "+col.op.name+" of "+col.name}else 0==$scope.dataSummary.shows.length&&0<$scope.dataSummary.pivot.length&&(col=$scope.dataSummary.pivot[$scope.dataSummary.pivot.length-1],headerName+=", COUNT of "+col.name);$scope.dataSummary.aggs.forEach(function(agg,index){headerName=ColumnsService.formatColumnName(colNameFormat,agg.selectedName);var aggColDef={colId:"$$aggregation",headerName:headerName,rawHeaderName:headerName,field:"$$aggregation"+index,suppressMenu:!0,suppressMovable:!0,suppressDefaultTitle:!0,treeLevel:index};colDefs.push(_.merge(aggColDef,_.pick(oldColumn,["width","sortedAt"])))})}if(isPivotTable($scope)){var setHeaderName=function(col,collapsedHeaderName){col.expandedHeaderName=col.headerName=col.rawHeaderName,col.collapsedHeaderName="",void 0!==collapsedHeaderName&&(col.collapsedHeaderName=collapsedHeaderName)},createGrandTotalColumn=function(){var grandTotalChildren=[],count=$scope.totals?$scope.totals.$$cluster_size:$scope.data.data.$$cluster_size;_.each(shows,function(s){var showCol=createColumnFromShow(s),pivotColId=showCol.colId,pivotCol=_.merge({},showCol,{colId:pivotColId,field:pivotColId,originalField:showCol.field,suppressMovable:!0});grandTotalChildren.push(pivotCol)});var grandTotalColumn={groupId:""+columnGroupIdCounter++,rawHeaderName:"Grand Total",count:count,key:GRAND_TOTAL_COL_ID,marryChildren:!0,level:0,suppressMovable:!0};return setHeaderName(grandTotalColumn),grandTotalColumn.children=grandTotalChildren,grandTotalColumn},generatePivotColumns=function(node,columns,pivotKeys,level,parents){function generateLowLevelColumns(){var kids=[];return _.each(shows,function(s){var show=_.cloneDeep(s);show.id.pivot=pivotKeys;var showCol=createColumnFromShow(show),pivotColId=showCol.colId,pivotCol=_.merge({},showCol,{colId:pivotColId,field:pivotColId,pivotKeys:pivotKeys});kids.push(pivotCol)}),kids}var parent;parents=parents.slice(),pivotKeys=pivotKeys.slice(),pivotKeys.push(node.key);var columnName=pivotKeys.join("_"),columnGroup=columnGroups[columnName],pivot=$scope.dataSummary.pivot[level],children;if(columnGroup)children=columnGroup.children,parent=columnGroup;else{children=[];var count=level==$scope.dataSummary.pivot.length-1?node.data.$$cluster_size:0,headerName;headerName=null==node.key?"\xD8":$filter("formatCell")(node.key,pivot.col,pivot);var newCol={groupId:""+columnGroupIdCounter++,rawHeaderName:headerName,key:node.key,count:count,marryChildren:!0,children:children,level:level,columnName:columnName,columnGroupShow:"open"};if($scope.dataSummary.pivotCollapsedState[columnName]||(newCol.openByDefault=!0),setHeaderName(newCol),columnGroups[columnName]=newCol,0<level){var pos=columns.length?columns.length-1:0;columns.splice(pos,0,newCol)}else columns.push(newCol);if(level!=$scope.dataSummary.pivot.length-1){var totalGroupCol={groupId:""+columnGroupIdCounter++ +1,rawHeaderName:"Total",key:node.key,count:node.data.$$cluster_size,marryChildren:!0,children:[],level:level+1,isTotal:!0},showsCols=_.map(generateLowLevelColumns(),function(c){return _.merge(c,{columnGroupShow:"closed",colId:INSIDE_TOTAL_PREFIX+c.colId})});Array.prototype.push.apply(totalGroupCol.children,showsCols),setHeaderName(totalGroupCol),$scope.dataSummary.pivotCollapsedState[columnName]&&(totalGroupCol.headerName=totalGroupCol.collapsedHeaderName),totalGroupCol.columnGroupShow=isPivotShowTotalSelected(level+1,$scope)?"always-showing":"closed",newCol.children.push(totalGroupCol)}parent=newCol,_.each(parents,function(p){p.count+=count,setHeaderName(p)}),allPivotKeys.push(pivotKeys)}parents.push(parent),_.each(node.children,function(node){generatePivotColumns(node,children,pivotKeys,level+1,parents)}),columnGroup||0!==node.children.length||_.each(shows,function(s){var showCol=createColumnFromShow(s),pivotColId=pivotKeys.join("_")+"_"+showCol.colId,pivotCol=_.merge({},showCol,{colId:pivotColId,field:pivotColId,originalField:showCol.field,pivotKeys:pivotKeys});children.push(pivotCol)})},columnGroups={},columnGroupIdCounter=0,shows=getShowsWithCount($scope),pivotColumns=[],allPivotKeys=[];_.each($scope.headers.children,function(agg){generatePivotColumns(agg,pivotColumns,[],0,[])}),isPivotShowTotalSelected(0,$scope)&&pivotColumns.push(createGrandTotalColumn()),$scope.pivotColumns=pivotColumns,$scope.allPivotKeys=allPivotKeys,colDefs=colDefs.concat(pivotColumns),updatePinnedColDefsRange($scope,getFlattenColDefs(colDefs))}else{var showCols=_.map($scope.dataSummary.shows,createColumnFromShow);showCols.length||isAggregatedData($scope)||(showCols=[getNoFieldsColumnDef($scope)]),colDefs=colDefs.concat(showCols),updatePinnedColDefsRange($scope,colDefs)}if($scope.dataSummary.aggs.length){var aggColDef=_.find(colDefs,{colId:AGGREGATION_COL_ID}),sort=$scope.dataSummary.aggs[0].id.settings.sort,sortedColDef;if(!sort.field&&!sort.isCount)aggColDef.sort=sort.direction.toLowerCase(),aggColDef.sortingOrder=["asc","desc"];else{var field=sort.field||CLUSTER_SIZE_COL_ID,searchKey;searchKey=sort.aggKeyPath&&sort.aggKeyPath.length?sort.aggKeyPath.length==$scope.dataSummary.pivot.length?sort.aggKeyPath.join("_")+"_"+field:INSIDE_TOTAL_PREFIX+sort.aggKeyPath.join("_")+"_"+field:field,sortedColDef=findColDefByKey(colDefs,searchKey),sortedColDef&&(sortedColDef.sort=sort.direction.toLowerCase())}}return colDefs}function findColDefByKey(arr,key){for(var i=0,colDef;i<arr.length;++i)if(arr[i].children){if(colDef=findColDefByKey(arr[i].children,key),colDef)return colDef;}else if(arr[i].colId===key)return arr[i]}function getFlattenColDefs(colsDef){for(var arr=[],i=0;i<colsDef.length;++i)colsDef[i].children?arr=arr.concat(getFlattenColDefs(colsDef[i].children)):arr.push(colsDef[i]);return arr}function getGrandTotalRow($scope){var findObj={};return findObj[GRAND_TOTAL_COL_ID]=!0,_.find($scope.gridOptions.rowData,findObj)}function isPivotShowTotalSelected(level,$scope){if(null==level)return!1;var pivotArray=$scope.dataSummary.pivot;return pivotArray&&pivotArray[level]&&pivotArray[level].id.settings.showTotal}function isGrandTotalSelected($scope){return $scope.dataSummary.aggs.length&&$scope.dataSummary.aggs[0].id.settings.showTotal&&$scope.dataSummary.pivot.length}function getAllAggregationPath(aggs,colNameFormat){var str="Aggregation: ";return _.forEach(aggs,function(agg,index){str+=ColumnsService.formatColumnName(colNameFormat,agg.selectedName)+(index+1<aggs.length?" > ":" ")}),str}function generateAggDataForGrid(params,$scope){return _.map(params.data,function(agg){var obj=_.assign(agg.data,{$$expandable:!!agg.children.length,$$aggregation:agg.key,$$children:[],__treeLevel:params.treeLevel}),key=getAggKey($scope,obj.__treeLevel);obj[key]=agg.key,params.parentData||(params.parentData={}),params.parentData[key]=agg.key;var aggKeyPath=[];for(var key in params.parentData)aggKeyPath.push(params.parentData[key]);return $scope.allAggKeys.push(aggKeyPath),obj=_.merge(obj,params.parentData),obj.$$open=!!$scope.dataSummary.rowsCollapsedState[aggKeyPath],agg.children.length&&(obj.$$children=generateAggDataForGrid({data:agg.children,treeLevel:params.treeLevel+1,parentData:_.cloneDeep(params.parentData)},$scope)),obj})}function refreshGrid($scope){$scope.gridOptions.api.setRowData($scope.gridOptions.rowData),setPivotOrder($scope.gridOptions.api.columnController,$scope.dataSummary.pivotOrder),$scope.gridOptions.api.sizeColumnsToFit()}function getAgg($scope,index){var aggs=$scope.dataSummary.aggs.concat($scope.dataSummary.pivot);return aggs[index]}function getAggKey($scope,index){return getOpKey(getAgg($scope,index))}function generateGrandTotal($scope){var obj={};obj[AGGREGATION_COL_ID]=obj[AGGREGATION_COL_ID+"0"]="Grand Total",obj[GRAND_TOTAL_COL_ID]=!0,$scope.totals?_.merge(obj,$scope.totals):_.merge(obj,$scope.data.data),$scope.grandTotal=obj,$scope.gridOptions.rowData.push(obj)}function reinitGrid($scope){isPivotTable($scope)?initGrid({selector:$scope.gridId,mode:"pivot"},$scope):isAggregatedData($scope)?initGrid({selector:$scope.gridId,mode:"agg"},$scope):isRawData($scope)&&($scope.gridOptions&&"raw"===$scope.gridMode&&$scope.isIngestMode()?$scope.gridOptions.api.refreshCells():initGrid({selector:$scope.gridId,mode:"raw"},$scope))}function setDatasource($scope){var options=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},promise=$q.defer();$scope.$emit("data-request-started"),options.initial||($scope.refreshAvailable=!1),options.initial=$scope.initialLoading,$scope.initialLoading=!1;var loaderWithBackdrop=!!options.initial;if($scope.hideCollapsedTags=!1,isAggregatedData($scope)||isPivotTable($scope)){$scope.scrollId=null;var cb=function(result){reinitGrid($scope),$scope.data=result.data,_.isEmpty(result.data.filters)||setTimeout(function(){return updateFilters(result.data.filters,$scope,!0)},0),$scope.resultsOffset=result.data.children.length,$scope.totalSize=result.count,$scope.totals=result.totals,$scope.treeRoot=result.aggs,$scope.headers=result.headers,$scope.inRequest=!0,$scope.externalId=result.externalId,$scope.togglePageLoader(!0,loaderWithBackdrop),$scope.allAggKeys=[],$scope.gridOptions.rowData=generateAggDataForGrid({data:$scope.data.children,treeLevel:0},$scope),recreateColumns($scope),isGrandTotalSelected($scope)&&generateGrandTotal($scope),$scope.gridOptions.api.applyProperties({isPivot:isPivotTable($scope)}),refreshGrid($scope),pinnedRowNodes=[],togglePinnedRows($scope,$scope.dataSummary.pinnedRowsCount,!0),$scope.inRequest=!1,$scope.togglePageLoader(!1),isEmbed($scope)||($scope.updateShowMeAutocompleteList(),$scope.updateGroupByAutocompleteList()),$scope.$emit("DoRebuildCollapsedTags"),promise.resolve()};makeRequest(options,$scope,cb)}else isEmbed($scope)||($scope.updateShowMeAutocompleteList(),$scope.updateGroupByAutocompleteList()),$scope.scrollId=null,makeRequest(_.merge({customFinish:!0},options),$scope,function(firstLoadData){reinitGrid($scope),doRefreshRawShows(!0,$scope),_.isEmpty(firstLoadData.filters)||setTimeout(function(){return updateFilters(firstLoadData.filters,$scope,!0)},0);var dataSource={sortModel:$scope.gridOptions.api.getSortModel(),rowCount:null,totalSize:firstLoadData.count,search:$scope.dataSummary.search,getRows:function getRows(params){console.log("asking for "+params.startRow+" to "+params.endRow,params),options.from=params.startRow;var cb=function(data){0==params.startRow&&($scope.resultsList=data,$scope.gridOptions.api.setColumnDefs(createColumnDefs($scope)));var lastRow=-1;$scope.resultsOffset=options.from+data.length,!isEmbed($scope)&&$scope.totalSize<Constants.MIN_PAGE_SIZE?lastRow=Constants.MIN_PAGE_SIZE:$scope.dataSummary.limit.rawData<=options.from+data.length?lastRow=$scope.dataSummary.limit.rawData:$scope.totalSize<=options.from+data.length&&(lastRow=$scope.totalSize),params.successCallback(data,lastRow),$timeout(function(){0==params.startRow&&($scope.requestFinished=!0,$scope.inRequest=!1,$scope.togglePageLoader(!1))}),params.startRow<$scope.dataSummary.pinnedRowsCount&&params.startRow+data.length>$scope.dataSummary.pinnedRowsCount&&togglePinnedRows($scope,$scope.dataSummary.pinnedRowsCount,!0),$scope.gridOptions.api.rangeController.allRowsSelected&&$scope.gridOptions.api.rangeController.selectAll(),$scope.viewMode==VIEW_MODES.TABLE&&0==params.startRow&&$scope.gridOptions.api.sizeColumnsToFit(),0==params.startRow&&promise.resolve(),$scope.$emit("DoRebuildCollapsedTags")};options=_.clone(options),options.getFromState=options.getFromState&&0===params.startRow,0==options.from?($scope.floatingTopRows=[],$scope.gridOptions.api.gridPanel.resetVerticalScrollPosition(),onLoadMoreData($scope,firstLoadData,options),cb(_.map(firstLoadData.data.children,function(item){return item.data}))):(options.initial=!1,loadMoreData($scope,options,cb))}};console.log("dataSource",dataSource),$scope.gridOptions.api.setDatasource(dataSource)});return promise.promise}function recreateColumns($scope,doFit){var columnDefs=createColumnDefs($scope);$scope.gridOptions.columnDefs=columnDefs,$scope.gridOptions.api.setColumnDefs(columnDefs),(doFit||isRawData($scope))&&$scope.gridOptions.api.sizeColumnsToFit()}function makeRequest(options,$scope,cb){options=_.merge({retries:5},options);var promise=$q.defer();if(options.getFromState&&window.tabsState&&$scope.tabsSection.options.activeTab){var state=window.tabsState[$scope.tabsSection.options.activeTab.id];if(state)return $scope.inRequest=!1,$scope.togglePageLoader(!1),void cb(state)}if(!options.retry)$scope.currentRequest.cancelButtonPromise&&$timeout.cancel($scope.currentRequest.cancelButtonPromise),$scope.showCancelRequestButton=!1,$scope.currentRequest.cancelButtonPromise=$timeout(function(){$scope.togglePageLoaderCancelButton($scope.cancelRequest)},3e3);else if(1==$scope.currentRequest.canceler.promise.$$state.status)return;$scope.currentRequest={canceler:$q.defer()},$scope.requestFinished=!1,$scope.inRequest=!0,$scope.togglePageLoader(!0,!!options.initial);var request={tableBookmarkId:$scope.tabId,stateId:$scope.bookmarkStateId.stateId,tableId:$scope.tableId,scrollId:$scope.scrollId,from:options.from||0};isEmbed($scope)&&(request.params={shows:_.map($scope.dataSummary.shows,"id"),aggs:_.map($scope.dataSummary.aggs,"id"),pivot:_.map($scope.dataSummary.pivot,"id"),filters:$scope.dataSummary.filters,search:$scope.dataSummary.search,limit:{rawData:1e3,aggData:100,pivotData:100},advancedMode:$scope.dataSummary.advancedModeCheck,advancedFilterQuery:$scope.dataSummary.advancedFilterQuery});var queryParams=_.get($scope.tabsSection,"options.activeTab.state.queryParams");return queryParams&&(request.params=queryParams),$http({method:"POST",url:"/api/visualization/search",timeout:$scope.currentRequest.canceler.promise,data:request}).then(function(res){console.log("SEARCH QUERY: ",res.data.query.replace(/`/g,"")),cb(res.data),options.customFinish||($scope.requestFinished=!0,$scope.inRequest=!1,$scope.togglePageLoader(!1)),$scope.$emit("GridInitialized"),$scope.$emit("NewDataLoaded")},function(e){e&&e.data&&e.data.type&&"ParseException"==e.data.type&&($scope.linterMessage=e.data,console.group("ParseException: %O",e.data),console.log("line: %c%i","color: blue;",e.data.line-1),console.log("ch: %c%i","color: blue;",e.data.column-1),console.groupEnd(),$scope.cmInstance.setValue($scope.dataSummary.advancedFilterQuery),$scope.inRequest=!1,$scope.togglePageLoader(!1)),e&&-1==e.status||(-1==options.retries||0<options.retries?$timeout(function(){return makeRequest(_.merge(options,{retry:!0,retries:0<options.retries?options.retries-1:options.retries}),$scope,cb)},2e3):(cc.notify({message:"Error on our end",icon:"warning",wait:5}),cb({count:0,data:{children:[]}})))}),promise.promise}function processTagChangedEvents(type,oldTags,newTags,$scope){var added=_.difference(newTags,oldTags),removed=_.difference(oldTags,newTags);_.each(added,function(tag){$scope.$emit("tags-changed",{type:type,op:"add",tag:tag})}),_.each(removed,function(tag){$scope.$emit("tags-changed",{type:type,op:"remove",tag:tag})})}function resetShows(shows,$scope){var old=$scope.dataSummary.shows;$scope.dataSummary.shows=shows,processTagChangedEvents("show",old,shows,$scope)}function resetPivot(pivot,$scope){var old=$scope.dataSummary.pivot;$scope.dataSummary.pivot=pivot,processTagChangedEvents("pivot",old,pivot,$scope)}function resetAggs(aggs,$scope){var old=$scope.dataSummary.aggs;$scope.dataSummary.aggs=aggs,processTagChangedEvents("agg",old,aggs,$scope)}function doRefreshRawShows(suppressRefresh,$scope){if($scope.isViewRawData){var selectedRawShows=_.filter($scope.rawShowMeList,function(s){return s.id.selected}),shows=_.map(selectedRawShows,function(s){var show=_.find($scope.showMeList,function(show){return getOpKey(show)===getOpKey(s)});return s.id.sort=show.id.settings.sort,show});resetShows(shows,$scope),suppressRefresh||doRefreshIfNeeded($scope)}}function viewRaw(node,$scope,colId,column,clickInNormalNumber){function addPivotFilter(){_.forEach($scope.dataSummary.pivot,function(pivot,idx){column.colDef.pivotKeys&&column.colDef.pivotKeys[idx]&&(filter=filterToResults(pivot,column.colDef.pivotKeys[idx],$scope,!0),events.push({"@type":".filter.FilterChangeEvent",tabId:$scope.tabId,filter:filter}))}),pivotAdded=!0}var startTime=new Date,isPivot=isPivotTable($scope),pivotAdded=!1;$scope.isViewRawData=!0,$scope.beforeViewRawDataSummary=_.cloneDeep($scope.dataSummary);var events=[];if(!node.data[GRAND_TOTAL_COL_ID]){var aggKeys=node.data,aggs=$scope.dataSummary.aggs.slice(0,node.level+1);[].push.apply(events,_.map(aggs,function(agg){var filter=filterToResults(agg.col,aggKeys[getOpKey(agg)],$scope,!0);return{"@type":".filter.FilterChangeEvent",tabId:$scope.tabId,filter:filter}}))}if(clickInNormalNumber&&addPivotFilter(),colId){isPivot&&!pivotAdded&&addPivotFilter();var show=_.find($scope.dataSummary.shows,{key:colId}),filter=excludeFromResults(show.col,null,$scope,!0);events.push({"@type":".filter.FilterChangeEvent",tabId:$scope.tabId,filter:filter})}var selectedRawShows=_.filter($scope.rawShowMeList,function(s){return s.id.selected}),shows=_.map(selectedRawShows,function(s){var show=_.find($scope.showMeList,function(show){return getOpKey(show)===getOpKey(s)});return show.id.sort=s.sort,show});resetShows(shows,$scope),resetPivot([],$scope),resetAggs([],$scope);var eventId=BookmarkEventService.emit(".ViewRawEvent",{events:events},$scope).id,selectedFilters=_.filter($scope.dataSummary.filters,"selected");startRefreshFilters(eventId,selectedFilters,$scope),doRefreshIfNeeded($scope,startTime)}function excludeFromResults(column,value,$scope,suppressRequest){var filter=_.find($scope.dataSummary.filters,{field:column.field});filter.selected=!0,filter.listMode=!0;var filterKey=_.find(filter.list,{key:value});return filterKey?_.extend(filterKey,{selected:!1,show:!1}):filter.list.push({selected:!1,key:value,show:!1}),suppressRequest||makeRequestRefreshFilters(filter,$scope),filter}function filterToResults(column,value,$scope,suppressRequest){var filter=_.find($scope.dataSummary.filters,{field:column.field});cc.resetOneFilter(filter,$scope),filter.selected=!0,filter.listMode=!0;var filterKey=_.find(filter.list,{key:value});return filterKey?_.extend(filterKey,{selected:!0,show:!0}):filter.list.push({selected:!0,key:value,show:!0}),suppressRequest||makeRequestRefreshFilters(filter,$scope),filter}function getSliderChangeCallback(filter){return function(){filter.linlog||(filter.value1=_Mathexp(filter.value1exp),filter.value2=_Mathexp(filter.value2exp)),filter.changed=!0}}function getSliderEndCallback(filter,$scope){return function(){filter.changed&&(makeRequestRefreshFilters(filter,$scope),filter.changed=!1)}}function toTitle(str){return str.split("_").join(" ").replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()})}function wrapShow(s,colNameFormat){var opName="<span class=\"show-me-list-oper\">"+(s.id.op?toTitle(s.id.op):"")+"</span>";return _.merge(s,{opName:opName,showName:opName+" "+ColumnsService.formatColumnName(colNameFormat,s.col.name),field:s.id.field,key:getOpKey(s),name:s.col.name,type:s.col.type,op:{name:s.id.op,val:s.id.op},operation:null!=s.id.op,showListView:null==s.id.op?s.col.name:s.id.op,removeFromUi:!1})}function wrapAgg(a,colNameFormat){var nameFormatted=ColumnsService.formatColumnName(colNameFormat,a.col.name);return _.merge(a,{field:a.id.field,key:getOpKey(a),name:a.col.name,displayName:nameFormatted,selectedName:a.col.name+(a.id.op?" ("+a.id.op+")":""),type:a.col.type,operation:a.id.op,colName:a.col.name})}function wrapFilter(f,$scope){switch(f.col.type){case"DECIMAL":_.merge(f,{options:{id:f.col.type+f.col.field,floor:f.min,ceil:f.max,step:.01,precision:10,onChange:getSliderChangeCallback(f),onEnd:getSliderEndCallback(f,$scope)}},!0);break;case"TIME":_.merge(f,{options:{id:f.col.type+f.col.field,floor:f.min,ceil:f.max,step:.01,precision:10,onChange:getSliderChangeCallback(f),onEnd:getSliderEndCallback(f,$scope)}},!0);break;case"DATE":var format=_.get(f,"col.settings.format"),_options={fromDate:new Date(f.value1),toDate:new Date(f.value2),isFixedDateDropdownOpened:!1},isFixedDateEnabled=!!f.fixedDate,isTimePickerEnabled=format&&"DATE_TIME"===format.type;if(isTimePickerEnabled){var fromDate=_options.fromDate,toDate=_options.toDate,timeOptions={displayFromTime:moment(fromDate).utc().format("h:mm a"),displayToTime:moment(toDate).utc().format("h:mm a")};_.assign(_options,timeOptions)}if(_.merge(f,{options:_options,datepickerOptionsFrom:{showWeeks:!1,startingDay:1},datepickerOptionsTo:{showWeeks:!1,startingDay:1},isFixedDateEnabled:isFixedDateEnabled,isTimePickerEnabled:isTimePickerEnabled}),!f.options.period&&f.fixedDate){var period=_.find(AvailableFixedDates.allAvailableFixedDates,{type:f.fixedDate});period&&(f.options.period=period,f.options.fromDate=period.value1,f.options.toDate=period.value2,f.value1=moment(period.value1).valueOf(),f.value2=moment(period.value2).valueOf())}}return f}function startRefreshFilters(eventId,filters,$scope){$scope.autoRefresh&&(0<filters.length&&!$scope.filtersStatus.refreshing&&_.set($scope,"filtersStatus.refreshing",!0),eventId&&(console.log("start set event id "+eventId),_.each(filters,function(filterToRefresh){return filterToRefresh.lastRefreshEventId=eventId}),console.log("end set event id "+eventId)))}function makeRequestRefreshFilters(filter,$scope){var startTime=new Date,selectedFilters=_.filter($scope.dataSummary.filters,function(f){return f!==filter&&f.selected});0<selectedFilters.length&&_.set($scope,"filtersStatus.refreshing",!0),BookmarkEventService.emit(".filter.FilterChangeEvent",{filter:filter},$scope,function(eventId){startRefreshFilters(eventId,selectedFilters,$scope)}),doRefreshIfNeeded($scope,startTime)}function search(searchText,force,$scope){var startTime=new Date,selectedFilters=_.filter($scope.dataSummary.filters,"selected");return force&&$scope.dataSummary.instantSearch?-1:void(BookmarkEventService.emit(".filter.SearchChangeEvent",{search:searchText,force:force},$scope,function(eventId){($scope.dataSummary.instantSearch||force)&&startRefreshFilters(eventId,selectedFilters,$scope)}),(!$scope.autoRefresh||$scope.dataSummary.instantSearch||force)&&doRefreshIfNeeded($scope,startTime),($scope.dataSummary.instantSearch||force)&&!$scope.autoRefresh&&$scope.doHandleRefresh())}function toggleTotals($scope,withTimeout){var data=[];$scope.dataSummary.showTotals&&!_.isEmpty($scope.totals)&&(data=[_.merge({$$total:!0},$scope.totals)]),$scope.floatingTopRows.length&&(data=data.concat($scope.floatingTopRows)),isActualRawData($scope)?$scope.gridOptions.api.setFloatingTopRowData(data):withTimeout?setTimeout(function(){$scope.gridOptions.api.onGroupExpandedOrCollapsed()},0):$scope.gridOptions.api.onGroupExpandedOrCollapsed()}function isEmbed($scope){return!!$scope.embed}function refreshFilter(filterToUpdate,filter,$scope){_.assign(filterToUpdate,filter),wrapFilter(filterToUpdate,$scope),setTimeout(function(){$rootScope.$broadcast("reCalcViewDimensions")},0)}function updateFilters(filters,$scope,forceLoader){_.each(filters,function(filter){var filterToUpdate=_.find($scope.dataSummary.filters,{field:filter.field});filterToUpdate&&refreshFilter(filterToUpdate,filter,$scope)}),forceLoader&&_.set($scope,"filtersStatus.refreshing",!1)}function wrapParams(state,params,$scope){var result={shows:_.map(params.shows,getOpPred($scope.showMeList,!0)),aggs:_.map(params.aggs,getOpPred($scope.groupByList,!0)),pivot:_.map(params.pivot,getOpPred($scope.groupByList,!0)),filters:_.map(params.filters,function(filter){return filter.list=_.filter(filter.list,function(f){return 0<f.docCount||f.selected}),filter.col=_.find(state.columnList,{field:filter.field}),wrapFilter(filter,$scope)}),search:params.search,pivotOrder:params.pivotOrder,advancedModeCheck:params.advancedMode,advancedFilterQuery:params.advancedFilterQuery,limit:params.limit};return result}function updateDatasummary($scope,params,state){var oldState=wrapParams(state,params,$scope);$scope.dataSummary.shows=oldState.shows,$scope.dataSummary.aggs=oldState.aggs,$scope.dataSummary.pivot=oldState.pivot,$scope.dataSummary.filters=oldState.filters,$scope.dataSummary.search=oldState.search,$scope.dataSummary.pivotOrder=oldState.pivotOrder,$scope.dataSummary.advancedModeCheck=oldState.advancedModeCheck,$scope.dataSummary.advancedFilterQuery=oldState.advancedFilterQuery,$scope.dataSummary.limit=oldState.limit,$scope.$emit("DoRebuildCollapsedTags")}function restoreShows(key,$scope){if(0==$scope.dataSummary.aggs.length+$scope.dataSummary.pivot.length){resetPivot([],$scope);var shows=_.filter($scope.showMeList,function(s){return null==s.id.op});shows=_.take(shows,10),resetShows(shows,$scope)}else{var ss=$scope.dataSummary.shows.slice();_.remove(ss,key),resetShows(ss,$scope)}}function doRefreshIfNeeded($scope,startRefresh){var start=startRefresh||new Date,gridInitializationListener=$rootScope.$on("GridInitialized",function(){gridInitializationListener(),$scope.$emit("LoadQueryTime",start)});$scope.autoRefresh?isEmbed($scope)?setDatasource($scope):BookmarkEventService.emit(".request.ApplyRequestEvent",{},$scope):($scope.$emit("DoRebuildCollapsedTags"),$scope.refreshAvailable=!0)}function smartEmit($scope,eventName,value){var eventObjHandlers=function(){var handlers={};return handlers[EventNames.CHANGE_PINNED_COUNT.ROWS]=function(value){return void 0!==value&&($scope.dataSummary.pinnedRowsCount=value),{rowsCount:$scope.dataSummary.pinnedRowsCount}},handlers[EventNames.CHANGE_PINNED_COUNT.COLS]=function(value){return void 0!==value&&($scope.dataSummary.pinnedColsCount=value),{colsCount:$scope.dataSummary.pinnedColsCount}},handlers}(),handler;(handler=eventObjHandlers[eventName])&&BookmarkEventService.emit(eventName,handler(value),$scope)}function loadDatadoc(id,force){return currentDoc&&currentDoc.id===id||force?Promise.resolve(currentDoc):$http.post("/api/files/get_file",{path:"id:"+id}).success(function(doc){return currentDoc=doc})}var ROW_NUMBER_COL_ID="$$row_number",GRAND_TOTAL_COL_ID="$$grand_total",AGGREGATION_COL_ID="$$aggregation",CLUSTER_SIZE_COL_ID="$$cluster_size",EMPTY_FIELDS_COL_ID="$$empty_fields",INSIDE_TOTAL_PREFIX="inside-total_",DEFAULT_ROW_HEIGHT=21,MAX_FULLTEXT_DROPDOWN_WIDTH=800,VIEW_MODES=cc.getViewModes(),suppressSortCallback=!1,pinnedRowNodes=[],buildSourceInfo=function(tab){var descriptorFormat=_.get(tab,"tableSchema.descriptor.format"),sourceType=cc.toUpperCase(_.get(tab,"tableSchema.descriptor.params.protocol")||descriptorFormat),normalizedSourceType=normalizeSourceType(sourceType),fileName=_.get(tab,"tableSchema.descriptor.originalFileName")||_.get(_.first(tab.tableSchema.uploads),"name"),tableName=_.get(tab,"tableSchema.descriptor.tableName"),query=_.get(tab,"tableSchema.descriptor.query"),dbSourceType=tableName?" Table":query?" Query":"";return fileName+" ("+normalizedSourceType+")"+dbSourceType},renameNotificationActive=!1,currentDoc=void 0;return{getDatadocIdByShareId:function getDatadocIdByShareId(shareId){return $http.get("/api/files/get_file/"+shareId).then(function(resp){return resp.data.datadocId})},isPublicAccessible:function isPublicAccessible(shareId){return $http.get("/share/check/public/"+shareId).then(function(resp){return resp.data.accessible})},loadDatadoc:loadDatadoc,getCurrentDoc:function getCurrentDoc(){return currentDoc},restore:function(tab,gridId,$scope,options){function getByField(field){return _.find(state.columnList,{field:field})}function presetDefaultStateIfNeeded(){var _$scope$tabsSection$o=$scope.tabsSection.options.activeTab,defaultState=_$scope$tabsSection$o.defaultState,currentState=_$scope$tabsSection$o.currentState;return!($scope.firstRequestApplied||defaultState===currentState)&&($scope.firstRequestApplied=!0,$scope.presetDefaultState($scope.bookmarkStateId),!0)}function applyStateChangeEvent(e){var tokens=e["@type"].split("."),colNameFormat=$scope.tabsSection.options.activeTab.state.colNameFormat;BookmarkEventService.suppressEmit(function(){switch(tokens.pop()){case"FilterChangeEvent":var filterToUpdate=_.find($scope.dataSummary.filters,{field:e.filter.field});refreshFilter(filterToUpdate,e.filter,$scope);break;case"ShowAddEvent":var col=getByField(e.key.field),showsCopy=$scope.dataSummary.shows.slice(),to=null==e.toPosition?showsCopy.length:e.toPosition;showsCopy.splice(to,0,wrapShow({id:e.key,col:col},colNameFormat)),resetShows(showsCopy,$scope);break;case"ShowMoveEvent":var showsCopy=$scope.dataSummary.shows.slice(),show=_.remove(showsCopy,function(show){return getOpKey({id:e.key})==getOpKey(show)})[0],to=e.toPosition++;if(isAggregatedData($scope)&&to++,showsCopy.splice(e.toPosition,0,show),0<$scope.dataSummary.pivot.length)resetShows(showsCopy,$scope);else{var from=_.findIndex($scope.gridOptions.columnApi.getAllGridColumns(),function(col){return col.colDef.field==getOpKey({id:e.key})});-1<from&&(resetShows(showsCopy,$scope),$scope.gridOptions.columnApi.moveColumn(from,e.toPosition))}break;case"ShowRemoveEvent":var showsCopy=$scope.dataSummary.shows.slice();_.remove(showsCopy,function(show){return getOpKey({id:e.key})==getOpKey(show)}),resetShows(showsCopy,$scope);break;case"AggAddEvent":var col=getByField(e.key.field),aggsCopy=$scope.dataSummary.aggs.slice(),to=null==e.toPosition?aggsCopy.length:e.toPosition;aggsCopy.splice(to,0,wrapAgg({id:e.key,col:col},colNameFormat)),resetAggs(aggsCopy,$scope),1==$scope.dataSummary.aggs.length+$scope.dataSummary.pivot.length&&resetShows([],$scope);break;case"AggMoveEvent":var aggsCopy=$scope.dataSummary.aggs.slice(),agg=_.remove(aggsCopy,function(agg){return getOpKey({id:e.key})==getOpKey(agg)})[0];aggsCopy.splice(e.toPosition,0,agg),resetAggs(aggsCopy,$scope);break;case"AggRemoveEvent":var aggsCopy=$scope.dataSummary.aggs.slice();_.remove(aggsCopy,function(agg){return getOpKey({id:e.key})==getOpKey(agg)}),resetAggs(aggsCopy,$scope),restoreShows(e.key,$scope);break;case"AggChangeLimitEvent":var agg=_.find($scope.dataSummary.aggs,{field:e.key.field});agg&&(agg.id.settings.limit=e.key.settings.limit);break;case"PivotAddEvent":var col=getByField(e.key.field),pivotCopy=$scope.dataSummary.pivot.slice(),to=null==e.toPosition?pivotCopy.length:e.toPosition;pivotCopy.splice(to,0,wrapAgg({id:e.key,col:col}),colNameFormat),resetPivot(pivotCopy,$scope),1==$scope.dataSummary.aggs.length+$scope.dataSummary.pivot.length&&resetShows([],$scope);break;case"PivotMoveEvent":var pivotCopy=$scope.dataSummary.pivot.slice(),pivot=_.remove(pivotCopy,function(agg){return getOpKey({id:e.key})==getOpKey(agg)})[0];pivotCopy.splice(e.toPosition,0,pivot),resetPivot(pivotCopy,$scope);break;case"PivotRemoveEvent":var pivotCopy=$scope.dataSummary.pivot.slice();_.remove(pivotCopy,function(show){return getOpKey({id:e.key})==getOpKey(show)}),resetAggs(pivotCopy,$scope),restoreShows(e.key,$scope);}})}options=options||{},pinnedRowNodes=[];var state=tab.state;$scope.gridId=gridId,$scope.tableId=tab.tableSchema.id,options.suppressReloadingData||($scope.initialLoading=!0);var checkFilterRefresh=_.debounce(function(){var allFiltersRefreshed=_.every($scope.dataSummary.filters,function(f){return!f.lastRefreshEventId});allFiltersRefreshed?console.log("All filters have been refreshed"):console.log("it looks like some filters stuck",_.filter($scope.dataSummary.filters,function(f){return f.lastRefreshEventId}))},5e3);$scope.responseEventHandler&&$scope.responseEventHandler.unsubscribe(),$scope.responseEventHandler=WSocket.subscribe("/vis/event-response/"+tab.id+"/"+tab.currentState,function(e){switch(e.type){case"FILTER_REFRESH":if(console.log("filters response >>> ",e),!e.filter)break;ScopeService.safeApply($scope,function(){var filterToUpdate=_.find($scope.dataSummary.filters,{field:e.filter.field});if(filterToUpdate)if(refreshFilter(filterToUpdate,e.filter,$scope,e.srcEventId),$scope.autoRefresh){checkFilterRefresh(),filterToUpdate.lastRefreshEventId==e.srcEventId?delete filterToUpdate.lastRefreshEventId:console.warn(filterToUpdate.lastRefreshEventId,"FILTER IDS NOT EQUALS ",e.srcEventId);var allFiltersRefreshed=_.every($scope.dataSummary.filters,function(f){return!f.lastRefreshEventId});allFiltersRefreshed&&_.set($scope,"filtersStatus.refreshing",!1)}else $scope.dataSummary.filtersToRefresh=_.without($scope.dataSummary.filtersToRefresh,e.filter.field),console.log(">>> "+$scope.dataSummary.filtersToRefresh),0==$scope.dataSummary.filtersToRefresh.length&&_.set($scope,"filtersStatus.refreshing",!1)});break;case"FILTERS_TO_REFRESH":console.log("filters to refresh >>> ",e),$scope.dataSummary.filtersToRefresh=_.filter(e.fields,function(field){var filter=_.find($scope.dataSummary.filters,{field:field});return!filter.hidden&&filter.selected});break;case"REQUEST_APPLIED":if(presetDefaultStateIfNeeded())return;$scope.refreshAvailable=!1;var tab=$scope.tabsSection.options.activeTab;tab.state.refreshAvailable=!1,tab.state.queryParams=_.cloneDeep(e.queryParams),tab.state.pendingQueryParams=_.cloneDeep(e.queryParams),setDatasource($scope);break;case"VIZ_STATE_CHANGED":if(presetDefaultStateIfNeeded())return;e.instanceId&&e.instanceId!=cc.instanceGUID&&(console.log("state changed >>> ",e),$scope.$apply(function(){e.events?_.each(e.events,applyStateChangeEvent):applyStateChangeEvent(e)}));}}),$scope.tabId=tab.id,$scope.sourceInfoMessage=buildSourceInfo(tab),$scope.bookmarkStateId=tab.bookmarkStateId,$scope.allBookmarkStates=tab.allBookmarkStates;var colNameFormat=$scope.tabsSection.options.activeTab.state.colNameFormat;$scope.columns=state.columnList,$scope.showMeList=_.map(state.showList,function(s){var col=getByField(s.field);return wrapShow({id:s,col:col},colNameFormat)}),$scope.groupByList=_.map(state.aggList,function(a){var col=getByField(a.field);return wrapAgg({id:a,col:col},colNameFormat)}),$scope.rawShowMeList=_.map(state.rawShowList,function(s){var col=getByField(s.field);return wrapShow({id:s,col:col},colNameFormat)}),$scope.refreshAvailable=state.refreshAvailable,$scope.autoRefresh=state.autoRefresh;var queryParams=state.autoRefresh?state.queryParams:state.pendingQueryParams;$scope.dataSummary=options.suppressReloadingData||$scope.autoRefresh||!$scope.refreshAvailable?wrapParams(state,queryParams,$scope):wrapParams(state,state.queryParams,$scope),$scope.dataSummary.highlightMatches=state.highlightMatches,$scope.dataSummary.instantSearch=state.instantSearch,$scope.dataSummary.rowsCollapsedState=state.rowsCollapsedState||{},$scope.dataSummary.showTotals=state.showTotals,$scope.dataSummary.pivotCollapsedState=state.pivotCollapsedState,$scope.dataSummary.rowsHeight=state.rowsHeight,$scope.dataSummary.defaultRowHeight=state.defaultRowHeight||DEFAULT_ROW_HEIGHT,$scope.dataSummary.pinnedRowsCount=state.pinnedRowsCount,$scope.dataSummary.pinnedColsCount=state.pinnedColsCount||1,$scope.dataSummary.filtersToRefresh=state.filtersToRefresh,$scope.viewMode=state.viewMode,SearchBarService.setSearch(queryParams.search),resetAggs($scope.dataSummary.aggs,$scope),options.suppressReloadingData||setDatasource($scope,{retries:0,initial:!0,getFromState:options.getFromState}).then(function(){!$scope.autoRefresh&&$scope.refreshAvailable&&$timeout(function(){updateDatasummary($scope,state.pendingQueryParams,state)})}),$scope.isViewRawData=!!state.beforeViewRawParams.aggs.length,$scope.beforeViewRawDataSummary=wrapParams(state,state.beforeViewRawParams,$scope),$scope.isShowFilters=state.showFilters,isEmbed($scope)||($scope.$broadcast("refresh-limit-settings-dropdown"),$scope.$emit("DoRebuildCollapsedTags"),$scope.$broadcast("reset-search-settings")),$scope.isMobileView()&&($scope.isShowFilters=!1),$scope.isShowFilters?$scope.$broadcast("expand-visualization-filters"):$scope.$broadcast("collapse-visualization-filters"),_.each($scope.dataSummary.filters,function(filter){return filter.col.name=ColumnsService.formatColumnName(colNameFormat,filter.col.name)}),NotificationsUtils.closeAll(),state.notifications&&(_.each(state.notifications,function(e){var type=1==e.type?NotificationsUtils.NotificationType.ERROR:NotificationsUtils.NotificationType.SUCCESS;NotificationsUtils.notify({id:e.id,message:e.message},{type:type,delay:-1,customDismissHandler:function customDismissHandler(){return BookmarkEventService.emit(".NotificationCloseEvent",{messageId:e.id},$scope)}})}),state.notifications=[])},setDatasource:setDatasource,loadAggregationData:function(data,$scope){return $http({method:"POST",url:"/api/visualization/search",timeout:$scope.currentRequest.canceler.promise,data:{datadocId:$scope.datadocId,params:{shows:_.map($scope.dataSummary.shows,"id"),aggs:_.map($scope.dataSummary.aggs,"id"),pivot:_.map($scope.dataSummary.pivot,"id"),filters:$scope.dataSummary.filters,search:$scope.dataSummary.search,limit:$scope.dataSummary.limit,row:_.clone(data),advancedMode:$scope.dataSummary.advancedModeCheck,advancedFilterQuery:$scope.dataSummary.advancedFilterQuery}}}).then(function(res){var answer=res.data;console.log("SEARCH QUERY: ",answer.query.replace(/`/g,"")),$scope.totalSize=answer.count;var childTreeLevel=data.__treeLevel+1,children=generateAggDataForGrid({data:answer.data,key:getAggKey($scope,childTreeLevel),expandable:$scope.dataSummary.aggs.length-1>childTreeLevel,treeLevel:childTreeLevel,parentData:data}),parentAggValues={};return _.each($scope.dataSummary.aggs,function(agg){var aggKey=getOpKey(agg);parentAggValues[aggKey]=data[aggKey]}),data.$$children=_.map(children,function(child){return _.merge({},parentAggValues,child)}),data})},loadMoreData:loadMoreData,onShowsOrderChangePivot:onShowsOrderChangePivot,resetShows:resetShows,resetAggs:resetAggs,resetPivot:resetPivot,updateFilters:updateFilters,updateFiltersByColumn:function(col,$scope){var filters=$scope.dataSummary.filters;_.each(col,function(c){var columnFilters=_.filter(filters,function(f){return c.field===f.field});_.each(columnFilters,function(cf){wrapFilter(cf,$scope)})}),$timeout(function(){$rootScope.$broadcast("reCalcViewDimensions")})},startRefreshFilters:startRefreshFilters,getAggregationRequestSize:function(level,$scope){return $scope.vizSummary.segmentBy.length&&$scope.dataSummary.aggs[level]&&$scope.dataSummary.aggs[level].key==$scope.vizSummary.segmentBy[0].key?10:$scope.dataSummary.count},selectDataSummary:viewRaw,selectDataSummaryBack:function($scope){var startTime=new Date;$scope.isViewRawData&&($scope.isViewRawData=!1,BookmarkEventService.emit(".BackFromViewRawEvent",{},$scope),_.assign($scope.dataSummary,$scope.beforeViewRawDataSummary),resetAggs($scope.dataSummary.aggs,$scope),doRefreshIfNeeded($scope,startTime))},selectFromResults:filterToResults,selectFromResultsRemove:excludeFromResults,drillDown:function(column,value,agg,$scope){var startTime=new Date,filter=filterToResults(column,value,$scope,!0);$scope.dataSummary.aggs.push(agg),resetAggs($scope.dataSummary.aggs,$scope),1==$scope.dataSummary.aggs.length&&resetShows([],$scope),$timeout(function(){1==$scope.dataSummary.aggs.length&&$scope.$broadcast("FocusOnShowMe")});var eventId=BookmarkEventService.emit(".DrillInEvent",{events:[{"@type":".filter.FilterChangeEvent",tabId:$scope.tabId,filter:filter},{"@type":".aggs.AggAddEvent",tabId:$scope.tabId,key:agg.id}]},$scope).id,selectedFilters=_.filter($scope.dataSummary.filters,"selected");startRefreshFilters(eventId,selectedFilters,$scope),doRefreshIfNeeded($scope,startTime)},toggleTotals:toggleTotals,search:search,makeRequestRefreshFilters:makeRequestRefreshFilters,clearAllFilters:function($scope){var startTime=new Date,eventId=BookmarkEventService.emit(".filter.FilterResetAllEvent",{},$scope).id;startRefreshFilters(eventId,$scope.dataSummary.filters,$scope),doRefreshIfNeeded($scope,startTime)},filterSearch:function(filter,$scope){var eventId=BookmarkEventService.emit(".filter.FilterSearchEvent",{filter:filter},$scope).id;startRefreshFilters(eventId,[filter],$scope),$scope.autoRefresh||_.set($scope,"filtersStatus.refreshing",!0)},initGrid:initGrid,getOpPred:getOpPred,isRawData:isRawData,isPivotTable:isPivotTable,getOpKey:getOpKey,updateShowTotals:function($scope){$scope.gridOptions.api.setColumnDefs(createColumnDefs($scope)),$scope.gridOptions.api.sizeColumnsToFit();var grandTotalRow=getGrandTotalRow($scope);isGrandTotalSelected($scope)&&!grandTotalRow?(generateGrandTotal($scope),$scope.gridOptions.api.setRowData($scope.gridOptions.rowData)):!isGrandTotalSelected($scope)&&grandTotalRow&&(_.remove($scope.gridOptions.rowData,grandTotalRow),$scope.gridOptions.api.setRowData($scope.gridOptions.rowData))},getMatchHighlightedStr:function(str,match,searchType){if(!str)return str;var words=match.split(/[ ,]+(\(.*?\))?/).filter(function(e){return!!e}).join("|"),flags="gi",antiTagRegExp="(?![^<>]*(([/\"']|]]|\b)>))",reg;return"EXACT_MATCH"===searchType?reg=new RegExp("\\b"+words+"\\b"+antiTagRegExp,flags):"EDGE"===searchType?reg=new RegExp("\\b"+words+antiTagRegExp,flags):"FULL"==searchType&&(reg=new RegExp(words+antiTagRegExp,flags)),(str+"").replace(reg,"<span class=\"match-highlighter\">$&</span>")},recreateColumns:recreateColumns,DEFAULT_ROW_HEIGHT:DEFAULT_ROW_HEIGHT,refreshRows:function($scope){$scope.dataSummary.aggs.length&&($scope.gridOptions.rowData=generateAggDataForGrid({data:$scope.data.children,treeLevel:0},$scope),isGrandTotalSelected($scope)&&generateGrandTotal($scope),refreshGrid($scope))},smartEmit:smartEmit,doRefreshIfNeeded:doRefreshIfNeeded,updateDatasummary:updateDatasummary,doRefreshRawShows:doRefreshRawShows,restoreShows:restoreShows,updateColumnName:updateColumnName,buildSourceInfo:buildSourceInfo,wrapAgg:wrapAgg,wrapShow:wrapShow}}])}),define("modules/main/services/grid-service",["./module","lodash"],function(services,_){services.service("GridService",[function(){return{isVisibleForRow:function($scope){return $scope.dataSummary.aggs.length&&"undefined"!=typeof $scope.dataSummary.aggs[0].box||$scope.dataSummary.search||_.some($scope.dataSummary.filters,function(filter){var result=!1;return result=filter.listMode?_.some(filter.list,function(f){return f.selected||!f.show}):filter.value1!=filter.min||filter.value2!=filter.max,result})}}}])}),define("modules/main/services/embed-service",["./module"],function(module){module.service("EmbedService",["$http","$window","$httpParamSerializer",function($http,$window,$httpParamSerializer){var api={getURL:function getURL(_ref30){var uuid=_ref30.uuid,title=_ref30.title;return window.location.origin+"/embed?"+$httpParamSerializer({uuid:uuid,title:title})},preview:function preview(embed){$window.open(api.getURL(embed),"_blank")}};return api}])}),define("modules/main/services/scope-service",["./module"],function(module){module.service("ScopeService",function(){return{safeApply:function safeApply($scope,fn){$scope.$evalAsync(fn)}}})}),define("modules/main/services/sort-section-service",["./module","common","lodash","angular"],function(module,cc,_){module.service("SortSectionService",["$filter","DataLoadingService","EventNames","BookmarkEventService",function($filter,DataLoadingService,EventNames,BookmarkEventService){function getSortSettingsItem($scope,item,keysPathObj,axisObj,limitData,limitEventName,sortChangeEventName){function setMultiplyChoice(selectedChoice){this.selectedChoice=selectedChoice;var parent=this.parent;if("Grand Total"==selectedChoice)parent.resultChoices.splice(1),parent.sortSectionItem.originalItem.id.settings.sort.aggKeyPath=[],this.parent.sortSectionItem.syncAndRefresh();else if("Total"==selectedChoice)parent.resultChoices.splice(parent.resultChoices.indexOf(this)+1),parent.sortSectionItem.originalItem.id.settings.sort.aggKeyPath=_.map(parent.resultChoices.slice(0,parent.resultChoices.length-1),"selectedChoice"),this.parent.sortSectionItem.syncAndRefresh();else{this.isOpen=!1;var index=this.parent.resultChoices.indexOf(this);index+1<this.parent.resultChoices.length&&parent.resultChoices.splice(index+1);var choices=getPathChoices(parent.keysObj,index,parent.resultChoices);if(parent.sortSectionItem.originalItem.id.settings.sort.aggKeyPath=_.map(parent.resultChoices,"selectedChoice"),choices.length){var obj=getMultiplyChoicesObj(selectedChoice,choices,parent,parent.axisObj[parent.resultChoices.length].name,!1,!0);parent.resultChoices.push(obj)}else this.parent.sortSectionItem.syncAndRefresh()}}function getPathChoices(keysObj,index,resultChoices){function compareSelectedChoiceFn(key,i){return resultChoices[i].selectedChoice==key}function isEveryMatches(arr){var arrWithoutLastValue=arr.slice(0,arr.length-1);return _.every(arrWithoutLastValue,compareSelectedChoiceFn)}return _.map(_.filter(keysObj,function(k){var arr=k;if(arr.length==index+2&&isEveryMatches(arr))return!0}),function(c){return c[index+1]})}function getMultiplyChoicesObj(match,choicesArr,parent,firstValue,isTotalSelected,isOpen){return choicesArr.unshift("Total"),choicesArr.unshift({disabled:!0,title:firstValue}),{match:match,parent:parent,index:parent.resultChoices.length,selectedChoice:isTotalSelected?choicesArr[1]:choicesArr[0].title,choices:choicesArr,setMultiplyChoice:setMultiplyChoice,isOpen:isOpen,isMatched:function isMatched(){return 0<this.index&&this.index<parent.resultChoices&&this.match===parent.resultChoices[this.index-1].selectedChoice}}}var SORT_DIRECTIONS={ASC:"ASC",DESC:"DESC",ASC_FULL:"Ascending",DESC_FULL:"Descending"},SELECTING_AGG_PATH_STR=" in...",ChoicesAction=function(){function setField(newName){this.originalItem.id.settings.sort.field=newName}function setIsCount(value){this.originalItem.id.settings.sort.isCount=!!value}function resetMultiplyChoice(multiplyChoice){var firstResultChoice;multiplyChoice.isDropdownOpened=!0,multiplyChoice.resultChoices.splice(1),firstResultChoice=multiplyChoice.resultChoices[0],firstResultChoice.isOpen=!0,firstResultChoice.selectedChoice=firstResultChoice.choices[0].title}return{selectedByKey:function(){var sort=this.originalItem.id.settings.sort;setIsCount.bind(this)(!1),setField.bind(this)(null),sort.type="BY_KEY",sort.aggKeyPath=null,this.syncAndRefresh()},selectedIsCount:function(){setField.bind(this)(null),setIsCount.bind(this)(!0),this.originalItem.id.settings.sort.aggKeyPath=null,this.syncAndRefresh()},getSelectedByShowFn:function(show){return function(){var sort=this.originalItem.id.settings.sort;setIsCount.bind(this)(!1),sort.field=show.key,sort.type="BY_VALUE",sort.aggKeyPath=[],this.syncAndRefresh()}},getSelectedByShowPathFn:function(show){return function(){var sort=this.originalItem.id.settings.sort;setIsCount.bind(this)(!1),sort.field=show.key,sort.type="BY_VALUE",sort.aggKeyPath=[],resetMultiplyChoice(_.find(this.multiplyChoices,{match:show.showName+SELECTING_AGG_PATH_STR}))}},getSelectedByCountInPathFn:function(){return function(){var sort=this.originalItem.id.settings.sort;setIsCount.bind(this)(!0),sort.field=null,sort.type="BY_VALUE",sort.aggKeyPath=[],resetMultiplyChoice(_.find(this.multiplyChoices,{match:"Count"+SELECTING_AGG_PATH_STR}))}}}}(),ChoicesHelper=function(){function getChoiceObj(title,actionFn,key){return{title:title,action:actionFn,key:key}}function getFirstChoices(keysObj){return _.map(_.filter(keysObj,function(k){return 1==k.length}),function(c){return c[0]})}return{defaultDirections:function(){return[getChoiceObj(SORT_DIRECTIONS.ASC_FULL),getChoiceObj(SORT_DIRECTIONS.DESC_FULL)]}(),getObj:getChoiceObj,getMultiply:function(sortSectionItem,keysObj,axisObj){function getMultiply(showName,isSettedAggKeyPath){var allMatchedChoices=[{disabled:!0,title:axisObj[0].name},"Grand Total"],itemId=sortSectionItem.originalItem.id.settings.sort;allMatchedChoices=allMatchedChoices.concat(getFirstChoices(keysObj));var parentObj={match:showName+SELECTING_AGG_PATH_STR,resultChoices:[],sortSectionItem:sortSectionItem,keysObj:keysObj,axisObj:axisObj,isDropdownOpened:!1,setIsOpen:function setIsOpen(resultChoice){this.isDropdownOpened&&(_.forEach(this.resultChoices,function(c){c.isOpen=!1}),resultChoice.isOpen=!0)},onToggle:function onToggle(resultChoice){this.isDropdownOpened?this.closeDropdown():(this.isDropdownOpened=!0,resultChoice.isOpen=!0)},closeDropdown:function closeDropdown(){_.forEach(this.resultChoices,function(c){c.isOpen=!1}),this.isDropdownOpened=!1},filteredValue:function filteredValue(value,resultChoice){if("Grand Total"===value||"Total"==value)return value;var axisObj=resultChoice.parent.axisObj[resultChoice.index];return $filter("formatCell")(value,axisObj.col,axisObj)}},obj={index:0,parent:parentObj,selectedChoice:itemId.aggKeyPath&&0==itemId.aggKeyPath.length?allMatchedChoices[1]:allMatchedChoices[0].title,choices:allMatchedChoices,setMultiplyChoice:setMultiplyChoice,isOpen:!1};return parentObj.resultChoices.push(obj),isSettedAggKeyPath&&itemId.aggKeyPath&&itemId.aggKeyPath.length&&keysObj.length&&_.forEach(itemId.aggKeyPath,function(p,i){parentObj.resultChoices[i].selectedChoice=p;var choices=getPathChoices(keysObj,i,parentObj.resultChoices);if(choices.length){var obj=getMultiplyChoicesObj(p,choices,parentObj,axisObj[parentObj.resultChoices.length].name,itemId.aggKeyPath.length<axisObj.length);parentObj.resultChoices.push(obj)}}),parentObj}if(keysObj){var choices=_.map($scope.dataSummary.shows,function(s){return getMultiply(s.showName,sortSectionItem.originalItem.id.settings.sort.field===s.key)});return choices.push(getMultiply("Count",!0)),choices}},getSortBy:function(item,axisObj){var choices=[ChoicesHelper.getObj(item.name,ChoicesAction.selectedByKey)];return axisObj.length?(_.find($scope.dataSummary.aggs,item)?choices.push(ChoicesHelper.getObj("Count in...",ChoicesAction.getSelectedByCountInPathFn())):choices.push(ChoicesHelper.getObj("Count",ChoicesAction.selectedIsCount)),_.forEach($scope.dataSummary.shows,function(s){var choice=s.showName+SELECTING_AGG_PATH_STR;choices.push(ChoicesHelper.getObj(choice,ChoicesAction.getSelectedByShowPathFn(s),s.key))})):(choices.push(ChoicesHelper.getObj("Count",ChoicesAction.selectedIsCount)),_.forEach($scope.dataSummary.shows,function(s){var choice=s.showName;choices.push(ChoicesHelper.getObj(choice,ChoicesAction.getSelectedByShowFn(s),s.key))})),choices},getSelectedSortBy:function(item,axisObj){var sort=item.id.settings.sort;return $scope.dataSummary.pivotOrder.length&&_.find($scope.dataSummary.pivot,item)?"Custom":sort.aggKeyPath&&!sort.isCount?_.find(this.sortByChoices,{key:sort.field}).title:sort.aggKeyPath&&sort.isCount&&axisObj&&sort.aggKeyPath.length!=axisObj.length?"Count"+SELECTING_AGG_PATH_STR:sort.isCount?this.sortByChoices[1].title:this.sortByChoices[0].title}}}(),sortSectionItem;return sortSectionItem={originalItem:item,field:item.field,displayName:item.displayName,directionChoices:ChoicesHelper.defaultDirections,selectedDirection:item.id.settings.sort.direction==SORT_DIRECTIONS.ASC?SORT_DIRECTIONS.ASC_FULL:SORT_DIRECTIONS.DESC_FULL,setDirection:function(choice){switch(choice.title){case SORT_DIRECTIONS.ASC_FULL:this.originalItem.id.settings.sort.direction=SORT_DIRECTIONS.ASC;break;case SORT_DIRECTIONS.DESC_FULL:this.originalItem.id.settings.sort.direction=SORT_DIRECTIONS.DESC;}this.selectedDirection!=choice.title&&(choice.action&&choice.action.bind(this)(),this.selectedDirection=choice.title,this.syncAndRefresh(),$scope.dataSummary.pivotOrder&&$scope.dataSummary.pivotOrder.length&&_.find($scope.dataSummary.pivot,{key:this.field})&&(this.selectedSortBy=this.sortByChoices[0].title,$scope.dataSummary.pivotOrder=[],BookmarkEventService.emit(".shows.ShowMovePivotEvent",{pivotOrder:$scope.dataSummary.pivotOrder},$scope)))},setSortBy:function(choice){this.selectedSortBy!=choice.title&&(this.selectedSortBy=choice.title,choice.action&&choice.action.bind(this)(),$scope.dataSummary.pivotOrder&&$scope.dataSummary.pivotOrder.length&&_.find($scope.dataSummary.pivot,{key:this.field})&&($scope.dataSummary.pivotOrder=[],BookmarkEventService.emit(".shows.ShowMovePivotEvent",{pivotOrder:$scope.dataSummary.pivotOrder},$scope)))},syncSortWithServer:function syncSortWithServer(){$scope.$broadcast("finishResize"),BookmarkEventService.emit(sortChangeEventName,{key:this.itemFromModel.id},$scope)},syncItemFromModelLimitAndRefresh:function syncItemFromModelLimitAndRefresh(){BookmarkEventService.emit(limitEventName,{key:this.itemFromModel.id},$scope),DataLoadingService.doRefreshIfNeeded($scope)},syncAndRefresh:function syncAndRefresh(){this.syncSortWithServer(),DataLoadingService.doRefreshIfNeeded($scope)},limit:item.id.settings.limit||limitData,itemFromModel:item,limitByBlur:function limitByBlur(limit){!limit||1e3<limit?(this.limit=limitData,this.itemFromModel.id.settings.limit=null,this.syncItemFromModelLimitAndRefresh()):this.itemFromModel.id.settings.limit!=this.limit&&(this.itemFromModel.id.settings.limit=this.limit,this.syncItemFromModelLimitAndRefresh())}},sortSectionItem.sortByChoices=ChoicesHelper.getSortBy(item,axisObj),sortSectionItem.selectedSortBy=ChoicesHelper.getSelectedSortBy.bind(sortSectionItem)(item,axisObj),sortSectionItem.multiplyChoices=axisObj.length?ChoicesHelper.getMultiply(sortSectionItem,keysPathObj,axisObj):[],sortSectionItem}return{getDataItem:function($scope,item){function compareKeyPred(modelItem){return DataLoadingService.getOpKey(modelItem)==DataLoadingService.getOpKey(item)}if(_.find($scope.dataSummary.aggs,compareKeyPred))return getSortSettingsItem($scope,item,$scope.allPivotKeys,$scope.dataSummary.pivot,$scope.dataSummary.limit.aggData,EventNames.CHANGE_LIMIT_EVENT.AGGS,EventNames.CHANGE_SORT_EVENT.AGGS);return _.find($scope.dataSummary.pivot,compareKeyPred)?getSortSettingsItem($scope,item,$scope.allAggKeys,$scope.dataSummary.aggs,$scope.dataSummary.limit.pivotData,EventNames.CHANGE_LIMIT_EVENT.PIVOT,EventNames.CHANGE_SORT_EVENT.PIVOT):void 0}}}])}),define("modules/main/services/history-handler-service",["./module","common","lodash","angular"],function(module,cc,_){module.service("HistoryHandlerService",["DataLoadingService",function(DataLoadingService){return function($scope){function rowsChange(rowsHeight,historyType){if($scope.dataSummary.aggs.length||$scope.dataSummary.pivot.length)$scope.dataSummary.rowsHeight=rowsHeight,$scope.gridOptions.api.refreshInMemoryRowModel();else{var virtualPageRowModel=$scope.gridOptions.api.virtualPageRowModel,model;model="undo"==historyType?$scope.dataSummary.rowsHeight:rowsHeight,_.forEach(model,function(value,rowIndex){var row=virtualPageRowModel.getRow(+rowIndex);row.rowHeight=rowsHeight[rowIndex]||DataLoadingService.DEFAULT_ROW_HEIGHT}),$scope.dataSummary.rowsHeight=rowsHeight,virtualPageRowModel.virtualPageCache.updateAllRowTopFromIndexes(),$scope.gridOptions.api.refreshView()}$scope.gridOptions.api.rangeController.refreshBorders()}function defaultRowHeightChange(defaultRowHeight){if($scope.dataSummary.rowsHeight={},$scope.dataSummary.defaultRowHeight=defaultRowHeight,$scope.dataSummary.aggs.length||$scope.dataSummary.pivot.length)$scope.gridOptions.api.refreshInMemoryRowModel();else{var virtualPageRowModel=$scope.gridOptions.api.virtualPageRowModel,virtualPageCache=virtualPageRowModel.virtualPageCache,rowCount=virtualPageRowModel.virtualPageCache.getRowCount(),rowsIndexesArray=_.range(rowCount);virtualPageCache.updateHeightForIndexes(rowsIndexesArray,defaultRowHeight),$scope.gridOptions.api.refreshView()}$scope.gridOptions.api.rangeController.refreshBorders()}function rowsCollapsedChange(rowsCollapsedState){$scope.dataSummary.rowsCollapsedState=rowsCollapsedState,DataLoadingService.refreshRows($scope)}function pivotCollapsedChange(pivotCollapsedState){$scope.dataSummary.pivotCollapsedState=pivotCollapsedState,DataLoadingService.updateShowTotals($scope)}function showTotalsInRawModeChange(showTotalsValue){$scope.dataSummary.showTotals=showTotalsValue,DataLoadingService.toggleTotals($scope)}function aggShowTotalChange(id,historyType){var agg=_.find($scope.getShowTotalsArray(),{id:{field:id.field}}),showTotalsValue;showTotalsValue="undo"==historyType?!id.settings.showTotal:id.settings.showTotal,agg.id.settings.showTotal=showTotalsValue,DataLoadingService.updateShowTotals($scope)}function showTotalAllChange(id,historyType){var showTotalsArray=$scope.getShowTotalsArray(),showTotalsValue;showTotalsValue="undo"==historyType?!id.settings.showTotal:id.settings.showTotal,_.forEach(showTotalsArray,function(item){item.id.settings.showTotal=showTotalsValue}),DataLoadingService.updateShowTotals($scope)}function showResizeChange(lastEvent,state,historyType){function getOpFromId(id){return(id.op?id.op+"_":"")+id.field}var id=lastEvent.key,width;width="undo"==historyType?_.find(state.queryParams.shows,function(s){return getOpFromId(s)==getOpFromId(id)}).settings.width:lastEvent.width;var show=_.find($scope.dataSummary.shows,function(s){return getOpFromId(s.id)==getOpFromId(id)});show.id.settings.width=width,DataLoadingService.recreateColumns($scope,!0)}function historyHandler(tab,data,historyType){var lastEvent;switch(lastEvent="undo"===historyType?tab.lastChangeEvent:data.event,tab.lastChangeEvent=data.event,tab.canUndo=data.canUndo,tab.canRedo=data.canRedo,tab.state=data.state,lastEvent["@type"]){case ChangeEventNames.CompositeState:switch(lastEvent.events[0]["@type"]){case ChangeEventNames.DefaultRowHeight:defaultRowHeightChange(data.state.defaultRowHeight);break;case ChangeEventNames.AggChangeShowTotal:case ChangeEventNames.PivotChangeShowTotalEvent:showTotalAllChange(lastEvent.events[0].key,historyType);}break;case ChangeEventNames.RowsHeight:rowsChange(data.state.rowsHeight,historyType);break;case ChangeEventNames.RowsCollapsedState:rowsCollapsedChange(data.state.rowsCollapsedState);break;case ChangeEventNames.PivotCollapsedState:pivotCollapsedChange(data.state.pivotCollapsedState);break;case ChangeEventNames.ShowTotals:showTotalsInRawModeChange(data.state.showTotals);break;case ChangeEventNames.AggChangeShowTotal:case ChangeEventNames.PivotChangeShowTotalEvent:aggShowTotalChange(lastEvent.key,historyType);break;case ChangeEventNames.ShowResizeEvent:showResizeChange(lastEvent,data.state,historyType);break;default:return!0;}}var ChangeEventNames={CompositeState:".BookmarkVizCompositeStateChangeEvent",RowsHeight:".rows.RowsHeightChangeEvent",DefaultRowHeight:".rows.DefaultRowHeightChangeEvent",RowsCollapsedState:".rows.RowsCollapsedStateChangeEvent",PivotCollapsedState:".pivot_collapsed_state.PivotCollapsedStateAddEvent",ShowTotals:".show_totals.ShowTotalsChangeEvent",AggChangeShowTotal:".aggs.AggChangeShowTotalEvent",PivotChangeShowTotalEvent:".pivot.PivotChangeShowTotalEvent",ShowResizeEvent:".shows.ShowResizeEvent"};return{undo:function undo(tab,data){return{needRestore:historyHandler(tab,data,"undo")}},redo:function redo(tab,data){return{needRestore:historyHandler(tab,data,"redo")}}}}}])}),define("modules/main/services/event-names-constant",["./module"],function(module){module.constant("EventNames",{CHANGE_LIMIT_EVENT:{PIVOT:".pivot.PivotChangeLimitEvent",AGGS:".aggs.AggChangeLimitEvent"},CHANGE_SHOW_TOTAL:{PIVOT:".pivot.PivotChangeShowTotalEvent",AGGS:".aggs.AggChangeShowTotalEvent"},CHANGE_SORT_EVENT:{PIVOT:".pivot.PivotChangeSortEvent",AGGS:".aggs.AggChangeSortEvent"},CHANGE_PINNED_COUNT:{ROWS:".rows.RowsPinnedCountChangedEvent",COLS:".cols.ColsPinnedCountChangedEvent"}})}),define("modules/main/services/tabs-section",["./module","common","lodash","angular"],function(module,cc,_){module.service("TabsSection",["$http","$state","$stateParams","$timeout","$compile","DataLoadingService","BookmarkEventService","$q","WSocket","ShareService","$rootScope","BrowserHistoryService",function($http,$state,$stateParams,$timeout,$compile,DataLoadingService,BookmarkEventService,$q,WSocket,ShareService,$rootScope,BrowserHistoryService){return function($scope){function setActiveTab(tab,refresh,togglePageLoader){var addToHistory=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];if(addToHistory){var stateData={tabId:tabsOptions.activeTab.id,refresh:!1,togglePageLoader:!1};BrowserHistoryService.push("SetActiveTab","main.visualize",stateData)}var startRefresh=new Date,gridInitializationListener=$rootScope.$on("GridInitialized",function(){gridInitializationListener(),$scope.$emit("LoadQueryTime",startRefresh)});tab.state.flowJSON?$scope.sourceSuggestionActive=!1:($scope.ingestDataSummary.queryMode=!1,$scope.ingestDataSummary.tableMode=!1,$scope.ingestDataSummary.selectedSources=[]);var updateTab=Promise.resolve();tab.shouldUpdateFromServer&&($scope.togglePageLoader(!0,!0),updateTab=loadTabFromServer(tab,tab.currentState).then(function(data){tab.state=data.state,tab.lastChangeEvent={},tab.tableSchema=data.tableSchema,tab.shouldUpdateFromServer=!1})),updateTab.then(function(){var activeTab=tab.active;if(!tab.active||refresh){window.tabsState||(window.tabsState={}),tab.active=!0,tab.dropdownOpened=!1,tabsOptions.activeTab=tab,disableAllTabs(!0),$scope.pageMode=$stateParams.pageMode&&$stateParams.pageMode===$scope.pageMode?tab.state.pageMode=$stateParams.pageMode:$scope.pageMode=$stateParams.pageMode=tab.state.pageMode;var isVisualization=tab.state.pageMode===$scope.PAGE_MODE.VIZ,isCurrentStateDefault=tab.currentState===tab.defaultState,stateId=isVisualization&&!isCurrentStateDefault?tab.currentState:null;activeTabIndex.set(_.indexOf(tabsOptions.tabs,tab)),$state.transitionTo($scope.currentState,_.merge({},$stateParams,{pid:tab.id,stateId:stateId}),{notify:!1,location:"replace"}),activeTab||($scope.tabResponseEventHandler&&$scope.tabResponseEventHandler.unsubscribe(),$scope.tabResponseEventHandler=BookmarkEventService.subscribeToTabEvents(tab,$scope),$scope.$on("$destroy",function(){$scope.tabResponseEventHandler&&$scope.tabResponseEventHandler.unsubscribe()})),$scope.pageMode===$scope.PAGE_MODE.VIZ?($scope.inRequest=!0,$scope.togglePageLoader(!0,!0),$scope.refreshIngestPage(togglePageLoader),$timeout(function(){restoreTab(tab,!0),calculateTabsWidth()})):($scope.tabId=tab.id,$scope.sourceInfoMessage=DataLoadingService.buildSourceInfo(tab),$scope.bookmarkStateId=tab.bookmarkStateId,$scope.allBookmarkStates=tab.allBookmarkStates,$scope.refreshIngestPage(togglePageLoader),$timeout(function(){calculateTabsWidth(),$scope.sourcePath="",$scope.sourceSearchPopupOptions.selectedFolder=null,$scope.$emit("typeahead-refresh")}))}})}function notifyAboutTabEvent(){var options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return _.isEmpty(options)?void console.warn("No payload specified for WebSocket Event"):options["@type"]?void WSocket.send("/doc/event",options):void console.error("Property \"@type\" is required")}function deleteTabFromServer(tab,ind){$http.delete("/api/docs/bookmarks/"+tab.id).then(function(){tabsOptions.activeTab==tab&&(tabsOptions.activeTab={}),_.remove(tabsOptions.tabs,tab),setActiveTab(tabsOptions.tabs[0==ind?0:ind-1],!0,!0,!1),calculateTabsWidth(!1,!0)},function(err){console.log("CAN'T REMOVE BOOKMARK",err)})}function loadTabFromServer(_ref31,stateId,userId){var tabId=_ref31.id;return $http.get("/api/docs/bookmarks/state",{params:{tabId:tabId,stateId:stateId,userId:userId}}).then(function(result){return result.data},function(err){console.error("CAN'T LOAD BOOKMARK STATE",err)})}function loadPreviousTabChangeFromServer(tab){return $http.post("/api/docs/bookmarks/"+tab.id+"/undo").then(function(result){return result.data},function(err){console.error("CAN'T UNDO BOOKMARK STATE",err)})}function loadNextTabChangeFromServer(tab){return $http.post("/api/docs/bookmarks/"+tab.id+"/redo").then(function(result){return result.data},function(err){console.error("CAN'T REDO BOOKMARK STATE",err)})}function updateNameFromServer(tab,newName){return $http.put("/api/docs/bookmarks/"+tab.id,{name:newName}).then(function(result){var savedTab=result.data;return tab.name=savedTab.name,tab.editable=!1,calculateTabsWidth(),savedTab},function(err){console.error("CAN'T EDIT BOOKMARK",err)})}function restoreTab(tab,getFromState,suppressReloadingData){DataLoadingService.restore(tab,"#ag-grid",$scope,{getFromState:getFromState,suppressReloadingData:suppressReloadingData}),$scope.updateShowMeAutocompleteList(),$scope.updateGroupByAutocompleteList()}function getAllTabsFromServer(){var stateId=0<arguments.length&&void 0!==arguments[0]?arguments[0]:$stateParams.stateId,params={datadocId:$scope.datadocId,tabId:$stateParams.pid,stateId:stateId,fetchState:!0},tab=void 0,activeTabState=stateId,activeTabId=parseInt($stateParams.pid);return $http.get("/api/docs/bookmarks/all",{params:params}).then(function(result){var tabs=_.map(result.data,insertTab);if(tab=activeTabId?_.find(tabs,{id:activeTabId})||tabs[0]:tabs[activeTabIndex.get()],!_.get(tab,"state"))throw new Error("State is empty (deleted or so)")},function(error){if(error&&404===error.status)throw $scope.goToMainPage(!0),new Error("The datadoc \""+$scope.selectedTable.name+"\" has been deleted due to user ingest cancellation.");return tab?$http.post("/api/docs/bookmarks/preset_default",{bookmarkStateId:{tabId:tab.id},toCleanState:!0}):void 0}).then(function(response){return tab?void(response&&(activeTabState=response.data.state.id,tab.state=response.data.state),activeTabState&&(tab.currentState=activeTabState,tab.bookmarkStateId.stateId=activeTabState,tab.currentState!==tab.defaultState&&(tab.shouldUpdateFromServer=!0)),setActiveTab(tab,!1,!0,!1),calculateTabsWidth()):getAllTabsFromServer(null)})}function disableAllTabs(withoutActiveTab){_.each(tabsOptions.tabs,function(t){withoutActiveTab&&t==tabsOptions.activeTab||(t.active=!1,t.dropdownOpened=!1)})}function prevEvents(e){e.preventDefault(),e.stopPropagation()}function closeDropdown(tab){tab.dropdownOpened=!1}function insertTab(tab){var mergedTab=_.merge(tab,{active:!1,dropdownOpened:!1,getFullName:function getFullName(){var baseName="Sheet"+(_.indexOf(tabsOptions.tabs,mergedTab)+1);return baseName+" - "+mergedTab.name}});return tabsOptions.tabs[tabsOptions.tabs.push(mergedTab)-1]}function calculateTabsWidth(moveToEnd,checkWidthAfterDelete,doNotUseTimeout){function calculate(){var calc=0,tabsList=$("#tabs-list"),tabsArrows=$("#tabs-bar #tabs-arrows"),rightShadow=$("#tabs-list-wrapper .right-shadow"),leftShadow=$("#tabs-list-wrapper .left-shadow");$("li.single-tab").each(function(){var tab=$(this);calc+=tab.outerWidth()});var minWidth=.7*(document.body.clientWidth-110-20);if(calc>minWidth){tabsList.width(calc+100),$("#tabs-list-wrapper .right-shadow").removeClass("hidden"),tabsArrows.removeClass("hidden"),moveToEnd&&(tabsList.css("left",minWidth-tabsList.width()+100),rightShadow.addClass("hidden"),leftShadow.removeClass("hidden"));var left=parseInt(tabsList.css("left")),tabsWidth=minWidth-tabsList.width()+100;checkWidthAfterDelete&&left<tabsWidth&&tabsList.css("left",tabsWidth)}else tabsList.width("auto"),tabsList.css("left",0),tabsArrows.addClass("hidden"),rightShadow.addClass("hidden"),leftShadow.addClass("hidden")}doNotUseTimeout?calculate():$timeout(function(){calculate()})}function doRenameTab(tab){return _.size(tab.name)>tabNameChatLimit?(cc.notify({message:tabNameChatLimit+" characters limit exceeded",icon:"warning",wait:3}),tab.name=tab.oldName,tab.editable=!1,void calculateTabsWidth()):void(tab.name&&tab.name!=tab.oldName?updateNameFromServer(tab,tab.name).then(function(updatedTab){notifyAboutTabEvent({"@type":"com.dataparse.server.service.docs.TabNameChangedEvent",datadocId:parseInt($scope.datadocId),tabId:updatedTab.id,renameTo:updatedTab.name})}):(tab.name=tab.oldName,tab.editable=!1,calculateTabsWidth()))}function setAndRefreshTab(tab,refresh,toggleLoader,stateId){loadTabFromServer(tab,stateId).then(function(data){tab.canUndo=!1,tab.canRedo=!1,tab.allBookmarkStates=data.allBookmarkStates,tab.currentState=data.currentState,tab.bookmarkStateId={tabId:data.state.tabId,stateId:data.state.id},tab.state=data.state,tab.lastChangeEvent={},tab.tableSchema=data.tableSchema,setActiveTab(tab,refresh,toggleLoader,!1)})}$rootScope.$on("SetActiveTab",function(event,data){var tab=_.find(tabsOptions.tabs,{id:data.tabId});setActiveTab(tab,data.refresh,data.togglePageLoader,!1)}),$(window).resize(function(){calculateTabsWidth()});var tabNameChatLimit=40,tabsOptions={tabs:[],activeTab:{}},activeTabIndex={get:function get(){return $scope.storage.activeTabIndex[$scope.datadocId]},set:function set(index){$scope.storage.activeTabIndex[$scope.datadocId]=index}};return function(){null==$scope.storage.activeTabIndex&&($scope.storage.activeTabIndex={}),null==$scope.storage.activeTabIndex[$scope.datadocId]&&($scope.storage.activeTabIndex[$scope.datadocId]=0),$scope.storage.$apply()}(),getAllTabsFromServer(),{options:tabsOptions,undo:function(){var tab=tabsOptions.activeTab;tab.canUndo&&loadPreviousTabChangeFromServer(tab).then(function(data){$scope.historyHandler.undo(tab,data).needRestore&&restoreTab(tab),calculateTabsWidth()})},redo:function(){var tab=tabsOptions.activeTab;tab.canRedo&&loadNextTabChangeFromServer(tab).then(function(data){$scope.historyHandler.redo(tab,data).needRestore&&restoreTab(tab),calculateTabsWidth()})},addNewTab:function(){var lastActiveTab=tabsOptions.activeTab;$scope.togglePageLoader(!0,!0),disableAllTabs();var newTab={dropdownOpened:!1,name:"Sheet<i class='fa fa-fw fa-spinner fa-spin'/>"};tabsOptions.tabs.push(newTab),$http.post("/api/docs/bookmarks",{datadocId:parseInt($scope.datadocId)}).then(function(result){console.log("result",result),notifyAboutTabEvent({"@type":"com.dataparse.server.service.docs.TabAddedEvent",datadocId:parseInt($scope.datadocId),tabId:result.data.id,stateId:result.data.state.id}),_.merge(newTab,result.data),setActiveTab(newTab,!0,!0,!1)},function(err){403===err.status?cc.notify({message:"You are not allowed to create bookmarks",icon:"warning",wait:3}):cc.notify({message:"Error while creating bookmark",icon:"warning",wait:3}),console.error("Can not create bookmark",err),tabsOptions.tabs.pop(),setActiveTab(lastActiveTab,!0,!1,!1)})},setActiveTab:setActiveTab,deleteTab:function(tab,ind,e){if(prevEvents(e),1==tabsOptions.tabs.length)return alert("You cannot delete last tab"),void closeDropdown(tab);var youReallyWannaThis=confirm("You really want to remove this tab?");youReallyWannaThis?(notifyAboutTabEvent({"@type":"com.dataparse.server.service.docs.TabRemovedEvent",datadocId:parseInt($scope.datadocId),tabId:tab.id,tabIndex:ind}),deleteTabFromServer(tab,ind)):closeDropdown(tab)},renameTab:function(tab,index,e){prevEvents(e),tab.editable=!0,tab.oldName=_.cloneDeep(tab.name),calculateTabsWidth(),$timeout(function(){var inputId="#"+$scope.snakeCase(tab.name)+"_"+index;$(inputId+" ~ input").focus(),$(inputId+" ~ input").select()}),closeDropdown(tab)},doRenameTab:doRenameTab,inputKeyPress:function(e,tab){switch(e.keyCode){case 13:case 27:doRenameTab(tab);}calculateTabsWidth(!1,!1,!0);var calc=0,tabsListLeft=parseInt($("#tabs-list").css("left"));0>tabsListLeft&&(tabsListLeft*=-1),$("li.single-tab").each(function(){var tab=$(this);calc+=tab.outerWidth()}),700<calc-tabsListLeft&&$scope.moveTabs("right")},closeInputOnTab:function(tab){tab.editable&&doRenameTab(tab)},moveTabForServer:function(tab,toPosition){$http.post("/api/docs/bookmarks/move",{tableBookmarkId:tab.id,toPosition:toPosition}).then(function(){tab.position=toPosition,activeTabIndex.set(toPosition),notifyAboutTabEvent({"@type":"com.dataparse.server.service.docs.TabPositionChangedEvent",datadocId:parseInt($scope.datadocId),tabId:tab.id,tabIndex:toPosition})})},onMoveStart:function(tab){tab.dropdownOpened=!1,tabsOptions.move=!0},onMoveStop:function(){tabsOptions.move=!1},restoreTab:restoreTab,loadTabFromServer:loadTabFromServer,calculateTabsWidth:calculateTabsWidth,refreshActiveTab:function(withoutRemoteUpdate,stateId){var addToHistory=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];$scope.togglePageLoader(!0,!1),withoutRemoteUpdate?setActiveTab(tabsOptions.activeTab,!0,!1,addToHistory):setAndRefreshTab(tabsOptions.activeTab,!0,!1,stateId)},setAndRefreshTab:setAndRefreshTab}}}])}),define("modules/main/services/constants",["./module"],function(module){module.constant("Constants",{MIN_PAGE_SIZE:49})}),define("modules/main/services/source-service",["./module","lodash"],function(module,_){module.factory("SourceService",["$http","$rootScope","$q","UserStateService",function($http,$rootScope,$q,UserStateService){function getPromise(){var options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_gettingSources=!0;var showTypes=UserStateService.get().showTypesOptions,orderBy=options.sort||currentOrderBy,offset=options.offset||0,limit=options.limit||DEFAULT_LIMIT,untilIdFound=options.untilIdFound,sourcesOnly=_.get(options,"sourcesOnly",showTypes.sourcesOnly),foldersOnly=_.get(options,"foldersOnly",showTypes.foldersOnly),datadocsOnly=_.get(options,"datadocsOnly",showTypes.datadocsOnly);return $http.post("/api/files/list_files",{offset:offset,limit:limit,orderBy:orderBy,path:"id:"+(selectedFolderId?selectedFolderId:""),withDatadocs:!0,sourcesOnly:sourcesOnly,foldersOnly:foldersOnly,datadocsOnly:datadocsOnly}).then(function(response){currentOrderBy=orderBy,currentOffset=offset;var newPage=response.data;if(0==currentOffset&&(sources=[],finishedLoading=!1),currentOffset+=limit,sources=sources.concat(newPage),newPage.length<limit&&(finishedLoading=!0),untilIdFound){var found=!!_.find(newPage,function(item){return item.id==untilIdFound});return found?newPage:getPromise(_.merge(options,{offset:currentOffset}))}return _gettingSources=!1,newPage}).catch(function(e){throw _gettingSources=!1,e})}var sources=[],DEFAULT_LIMIT=50,currentOffset=0,currentOrderBy=null,selectedFolder=null,selectedFolderId=null,finishedLoading=!1,_gettingSources=void 0,state={retrieveDbRelatedData:function retrieveDbRelatedData(sourceId){return $http.get("/api/files/related_source_data/"+sourceId).then(function(_ref32){var data=_ref32.data;return data})},getSourcePath:function(source){return"/"+_.map(source.parentsPath,function(p){return p.name}).join("/")},isExcelSource:function(source){return source&&source.descriptor&&_.includes(["XLS","XLSX"],source.descriptor.format)},isDbSource:function(source){return source&&source.descriptor&&source.descriptor.remote&&source.descriptor.composite},isDbQuerySource:function(source){return source&&source.descriptor&&source.descriptor.remote&&source.descriptor.section&&source.descriptor.format.toLowerCase().endsWith("query")},isDbTableSource:function(source){return source&&source.descriptor&&source.descriptor.remote&&source.descriptor.section&&source.descriptor.format.toLowerCase().endsWith("table")},getIcon:function(u){if("file"===u.type){if(u.descriptor){if(_.any(["x-sharp","x-java","javascript","x-python","x-ruby","x-c++src","x-chdr","x-php"],function(type){return _.contains(u.descriptor.contentType,type)})||_.contains(["c","cpp","h","cs","java","js","rb","py","clj","php"],u.descriptor.extension))return"code";if("pdf"===u.descriptor.extension)return"pdf";if(_.startsWith(u.descriptor.contentType,"image"))return"image";if(_.startsWith(u.descriptor.contentType,"text"))return"text";if(_.startsWith(u.descriptor.contentType,"video"))return"video";if(_.endsWith(u.descriptor.contentType,"pdf"))return"pdf"}return"file"}if("doc"===u.type)return"index-icon";if("folder"===u.type)return"folder";if("ds"===u.type||"composite-ds"===u.type||"section-ds"===u.type)switch(u.descriptor.format){case"XLS":case"XLSX":case"XLS_SHEET":case"XLSX_SHEET":return"excel";case"CSV":return"csv";case"JSON_ARRAY":case"JSON_OBJECT":return"json";case"MYSQL":case"POSTGRESQL":case"MSSQL":case"ORACLE":return"db";case"MYSQL_TABLE":case"POSTGRESQL_TABLE":case"MSSQL_TABLE":case"ORACLE_TABLE":return"query";case"MYSQL_QUERY":case"POSTGRESQL_QUERY":case"MSSQL_QUERY":case"ORACLE_QUERY":return"query";case"XML":return"xml";case"AVRO":return"text";default:return"code";}else return"new_query"===u.type?"query":""},getList:function getList(){return sources},get:function get(id){return _.find(sources,{id:id})},push:function push(source){sources.push(source)},pushAll:function pushAll(ss){_.each(ss,function(source){sources.push(source)})},upsert:function upsert(source){var idx=_.findIndex(sources,{id:source.id});0<=idx?sources.splice(idx,1,source):sources.splice(0,0,source)},update:function update(sourceId){return $http.post("/api/files/get_file",{path:"id:"+sourceId,relatedDatadocs:!0}).then(function(response){var source=response.data;return state.upsert(source),source},function(e){console.log("error while updating source",e)})},remove:function remove(source){return _.remove(sources,function(i){return i.id==source.id})},removeAll:function removeAll(ss){var ids=_.map(ss,"id");return _.remove(sources,function(o){return _.includes(ids,o.id)})},reset:function reset(){var options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return state.promise=getPromise(_.merge(options,{offset:0,limit:options.keepSize?currentOffset:DEFAULT_LIMIT}))},nextPage:function nextPage(){return finishedLoading?$q.when():getPromise({offset:currentOffset})},selectFolder:function selectFolder(folderId){return selectedFolderId=folderId,folderId?$http.post("/api/files/get_file",{path:folderId?"id:"+folderId:""}).then(function(res){return selectedFolder=res.data,res.data}):(selectedFolder=null,$q.when(null))},getSelectedFolder:function getSelectedFolder(){return selectedFolder},gettingSources:function gettingSources(){return!!_gettingSources}};return $rootScope.$on("sign_out",function(){selectedFolder=null}),state}])}),define("modules/main/services/recent-sources-service",["./module","lodash"],function(module,_){module.factory("RecentSourcesService",["$http","$rootScope",function($http,$rootScope){function getPromise(){return $http.post("/api/files/recent_files",{limit:limit}).success(function(data){sources=data})}var limit=1,sources=[],state={getList:function getList(){return sources},push:function push(source){if(sources.unshift(source),sources.length>limit)return sources.pop()},upsert:function upsert(source){var idx=_.findIndex(sources,{id:source.id});0<=idx?sources.splice(idx,1,source):sources.splice(0,0,source)},removeAll:function removeAll(ss){var ids=_.map(ss,"id");return _.remove(sources,function(o){return _.includes(ids,o.id)})},remove:function remove(source){return _.remove(sources,function(i){return i.id=source.id})},reset:function reset(){return state.promise=getPromise()}};return state.reset(),$rootScope.$on("sign_in",function(){state.reset()}),state}])}),define("modules/main/services/user-state-service",["./module"],function(module){module.factory("UserStateService",["User","$http","$q","$rootScope",function(User,$http,$q,$rootScope){function getPromise(){return $http.get("/api/user/state/"+User.getCurrent().id).then(function(res){return userState=res.data,userState})}var userState={},state={get:function get(){return userState},reset:function reset(){return state.promise=getPromise()}};return state.reset(),$rootScope.$on("sign_in",function(){state.reset()}),state}])}),define("modules/main/services/sort-section-columns-service",["./module","common","lodash","angular"],function(module,cc,_){module.service("SortSectionColumnsService",["SortDirection","UserEventService","UserStateService","SearchService",function(SortDirection,UserEventService,UserStateService,SearchService){function getSectionOptions(eventName,callback,$scope){return{getSelected:function getSelected(){return _.map(this.columns,function(col){return col.selected.title})},getSorted:function getSorted(){return _.find(this.columns,function(col){if(col.sort&&col.sort.direction)return!0})},onSort:function onSort(e,col){if(e&&e.stopPropagation(),!col.selected.sortDisabled){var direction=col.sort.direction;this.resetAllSort(col),col.sort.direction=direction?direction==SortDirection.ASC?SortDirection.DESC:SortDirection.ASC:SortDirection.ASC,callback({field:col.selected.sortProperty,desc:col.sort.direction==SortDirection.DESC})}UserEventService.emit(eventName,{columnIndex:_.indexOf(this.columns,col),selected:_.indexOf(col.choices,col.selected),newDirection:col.sort.direction},$scope)},resetAllSort:function resetAllSort(withoutCol){withoutCol||(withoutCol={}),_.forEach(this.columns,function(col){col.selected!=withoutCol.selected&&(col.sort.direction=null)})}}}function getColumnOptions(params,parentObj){var column={class:params.class||"col-md-3 col-sm-3 col-xs-3",innerClass:params.innerClass||"index-header",templateUrl:params.templateUrl};return column.choices=params.choices,column.selected=column.choices[params.selected],column.sort=params.sort,params.withHeaderClickHandler&&(params.onHeaderClick?column.onHeaderClick=params.onHeaderClick:column.onHeaderClick=function(){parentObj.onSort(null,this)}),1<params.choices.length&&(column.onChoiceSelected=function(choice){this.selected=choice,choice.defaultByDesc&&!choice.sortDisabled?this.sort.direction=SortDirection.ASC:!choice.sortDisabled&&(this.sort.direction=null),parentObj.onSort(null,this),UserStateService.reset()}),column}var COLUMN_NUMBERS={FIRST:0,SECOND:1,THIRD:2};return{genSortColumnsOptions:function($scope,search){var us=$scope.userState,_us$showTypesOptions=us.showTypesOptions,datadocsOnly=_us$showTypesOptions.datadocsOnly,foldersOnly=_us$showTypesOptions.foldersOnly,sourcesOnly=_us$showTypesOptions.sourcesOnly,searchOptions=_.merge({},getSectionOptions(".sources_section_columns.SourcesSectionColumnsSelectedChangeEvent",function(sort){return $scope.resetSearchResults({sort:sort})},$scope)),listOptions=_.merge({},getSectionOptions(".sources_section_columns.SourcesSectionColumnsSelectedChangeEvent",function(sort){return $scope.resetSources({sort:sort,backdrop:!0,datadocsOnly:datadocsOnly,foldersOnly:foldersOnly,sourcesOnly:sourcesOnly})},$scope)),searchText=SearchService.getSearchText(),sortSectionColumnsOptions=search?searchOptions:listOptions,firstColumn=getColumnOptions({selected:us.sourcesSectionColumns[COLUMN_NUMBERS.FIRST].selected,class:"col-md-6 col-sm-6 col-xs-6",choices:[{title:search?"Search results for "+searchText:"Name",sortProperty:"name"}],templateUrl:search?null:"/static/templates/main/sources-breadcrumbs.html",sort:us.sourcesSectionColumns[COLUMN_NUMBERS.FIRST].sortSettings,withHeaderClickHandler:!0},sortSectionColumnsOptions),secondColumn=getColumnOptions({selected:us.sourcesSectionColumns[COLUMN_NUMBERS.SECOND].selected,choices:[{title:"Type",sortProperty:"f.entityType"}],innerClass:"index-header with-choices",sort:us.sourcesSectionColumns[COLUMN_NUMBERS.SECOND].sortSettings},sortSectionColumnsOptions),thirdColumn=getColumnOptions({selected:us.sourcesSectionColumns[COLUMN_NUMBERS.THIRD].selected,choices:[{title:"Date",sortProperty:"lastViewedByMeOrAddedOn",defaultByDesc:!0},{title:"Added on",sortProperty:"f.created",defaultByDesc:!0},{title:"Added by",sortProperty:"user.email"},{title:"Size",sortProperty:"descriptor.size",defaultByDesc:!0},{title:"Last viewed by me",sortProperty:"lastViewedByMe"},{title:"Data last refreshed",sortProperty:"committed",defaultByDesc:!0}],innerClass:"index-header with-choices",sort:us.sourcesSectionColumns[COLUMN_NUMBERS.THIRD].sortSettings},sortSectionColumnsOptions);return sortSectionColumnsOptions.columns=[firstColumn,secondColumn,thirdColumn],sortSectionColumnsOptions},genSearchResultsEmptyResultsSortColumnsOptions:function(){var sortSectionColumnsOptions=_.merge({},function(){},getSectionOptions()),firstColumn=getColumnOptions({selected:0,class:"col-md-6",choices:[{title:"Found 0 items"}],sort:{disabled:!0},innerClass:"index-header without-click-action"},sortSectionColumnsOptions);return sortSectionColumnsOptions.columns=[firstColumn],sortSectionColumnsOptions}}}])}),define("modules/main/services/sort-direction-constant",["./module"],function(module){module.constant("SortDirection",{ASC:"ASC",DESC:"DESC"})}),define("modules/main/services/search-service",["./module"],function(module){module.factory("SearchService",["$http","$q",function($http,$q){function getPromise(searchText){var options=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};loadingResults=!0;var orderBy=options.sort||currentOrderBy;return(search=searchText,searchText&&!/^\s*$/.test(searchText))?$http.post("/api/search",{s:searchText,limit:100,orderBy:orderBy,fetchSections:!0,fetchRelatedDatadocs:!0}).then(function(response){return loadingResults=!1,results=response.data.files}):(results=null,$q.when(function(){return results=[],loadingResults=!1,{response:results}}))}var results=[],search="",currentOrderBy=null,state={getList:function getList(){return results},getSearchText:function getSearchText(){return search},search:function(searchText){var options=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return state.promise=getPromise(searchText,options)},isLoadingResults:function isLoadingResults(){return loadingResults}},loadingResults;return state}])}),define("modules/main/services/ingest-data-loading",["./module","angular","common","lodash","moment","pluralize","ag-grid","fin-grid"],function(services,angular,cc,_,moment,pluralize,agGrid,finGrid){var _Mathfloor9=Math.floor;services.service("IngestDataLoadingService",["$q","$http","$timeout","$rootScope","$filter","$compile","WSocket","ScopeService","SearchBarService","AvailableFixedDates","EventNames","Constants","ColumnsService","FormatCellService",function($q,$http,$timeout,$rootScope,$filter,$compile,WSocket,ScopeService,SearchBarService,AvailableFixedDates,EventNames,Constants,ColumnsService,FormatCellService){function getCustomCellRenderer($scope){return function(params){var content=params.value,column=_.find($scope.ingestDataSummary.columns,function(c){return c.id===params.column.colId});if(_.isObject(content)&&"ERROR"===content.type)content="\xD8";else if(_.isArray(params.value))content=FormatCellService.arrayCell(params.value);else if(column){var type=column.settings.type.dataType,formatType;switch(type){case"DATE":formatType=column.settings.type.noTime?"DATE_1":"DATE_TIME";break;case"TIME":formatType="TIME";break;case"BOOLEAN":formatType="BOOLEAN_2";break;case"DECIMAL":case"STRING":default:formatType="AUTO";}var c={settings:{format:{type:formatType}},type:type};"STRING"===column.settings.type.dataType&&(content=$filter("formatCell")(params.value,c))}if(column)switch(column.settings.type.dataType){case"STRING":case"LOCATION_COUNTRY_CODES":case"LOCATION_USA_STATE_CODES":break;case"BOOLEAN":}return content}}function updateColumnName(col,renameTo,$scope){var column=_.find($scope.ingestDataSummary.columns,function(c){return c.id==col.colId});if(column){var columnNameUsed=_.some($scope.ingestDataSummary.columns,function(column){var name=column.settings.name;return column.settings.rename&&(name=column.settings.rename),name==renameTo.toLowerCase()});renameTo==col.headerName||columnNameUsed?!renameNotificationActive&&(renameNotificationActive=!0,cc.notify({message:"Column name is already in use",icon:"warning",wait:5,ondismiss:function ondismiss(){return renameNotificationActive=!1}})):(col.headerName=renameTo,column.settings.rename=renameTo,$scope.previewGridOptions.columnApi.resetColumnState(),$scope.closeFieldsStickyNote(),$scope.updateIngestColumnsAutocompleteList(),$scope.updateIngestSettings(!0))}}function createColumnDef(c,$scope,suppressSizeToFit,colNameFormat){var align="right";switch(c.settings.type.dataType){case"STRING":case"LOCATION_COUNTRY_CODES":case"LOCATION_USA_STATE_CODES":align="left";break;case"BOOLEAN":align="center";}return{colId:c.id+"",field:c.columnInfoIdentifier,headerName:c.blank?"":c.settings.rename||ColumnsService.formatColumnName(colNameFormat,c.name),hide:c.settings.removed,suppressSorting:!0,errorCount:c.errorCount,firstError:c.firstError,colType:c.settings.type?c.settings.type.dataType:c.type.dataType,colTypeSign:cc.getColumnType({colType:c.settings.type?c.settings.type.dataType:c.type.dataType}),isList:!!c.settings.splitOn,suppressSizeToFit:suppressSizeToFit,minWidth:10,maxWidth:2e3,suppressMenu:c.blank,cellRenderer:getCustomCellRenderer($scope),halign:align}}function createColumnDefs(columns,$scope,colNameFormat){return _.map(_.sortBy(columns,function(col){return col.settings.index}),function(c){return createColumnDef(c,$scope,!c.blank,colNameFormat)})}function addBlankColumns(arr,totalSize){for(var i=0;i<totalSize;i++)arr.push({id:BLANK_FIELDS_COL_ID,name:"c"+i,settings:{type:{dataType:null}},blank:!0})}function clear($scope){var cols=[];$scope.totalSize=0,$scope.previewDescriptor=null,$scope.ingestPreviewLoaded=!1,$scope.updateIngestColumns(),$scope.updateIngestColumnsAutocompleteList(),addBlankColumns(cols,0);var columns=createColumnDefs(cols,$scope,$scope.tabsSection.options.activeTab.state.colNameFormat);$scope.previewGridOptions.api.setColumnDefs(columns),$scope.previewGridOptions.api.setRowData([]),$scope.previewGridOptions.api.sizeColumnsToFit()}function isAllColumnsHidden($scope){var columns=$scope.previewGridOptions.columnApi.getAllGridColumns();return _.every(columns,function(column){return column.colId===ROW_NUMBER_COL_ID||column.colId===EMPTY_FIELDS_COL_ID||column.colId===BLANK_FIELDS_COL_ID||!column.visible})}function isBlankOrEmptyField(column){return column.colId===BLANK_FIELDS_COL_ID||column.colId===EMPTY_FIELDS_COL_ID}function checkBlankVisibility($scope){var columnApi=$scope.previewGridOptions.columnApi,virtualColumns=columnApi.getAllDisplayedVirtualColumns();return _.some(virtualColumns,function(col){return col.colId===BLANK_FIELDS_COL_ID})}function toggleColumns(cols,toggle,$scope){var colIds=_.map(cols,function(col){return col.id+""}),columnApi=$scope.previewGridOptions.columnApi;columnApi.setColumnsVisible(colIds,toggle),columnApi.setColumnVisible(EMPTY_FIELDS_COL_ID,isAllColumnsHidden($scope)),columnApi.setColumnVisible(BLANK_FIELDS_COL_ID,!isAllColumnsHidden($scope)),columnApi.setColumnVisible(BLANK_FIELDS_COL_ID,checkBlankVisibility($scope));var columnsIds=columnApi.getAllColumns().filter(function(col){return!isBlankOrEmptyField(col)&&col.colId});columnApi.autoSizeColumns(columnsIds,!0),$scope.previewGridOptions.api.sizeColumnsToFit()}function makeRequest(){var options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},$scope=arguments[1],promise=$q.defer(),request={rootNode:"OUTPUT",limit:1e3,force:options.force,bookmarkStateId:$scope.tabsSection.options.activeTab.bookmarkStateId};if($scope.ingestPreviewLoaded=!1,$scope.currentPreviewRequest&&1==$scope.currentPreviewRequest.canceler.promise.$$state.status)return void($scope.currentPreviewRequest=null);$scope.currentPreviewRequest={canceler:$q.defer()},$scope.requestFinished=!1,$scope.inRequest=!0,options.disablePageLoader||$scope.togglePageLoader(!0,options.shouldBackdrop,"Previewing..."),$scope.ingestDataSummary.queryMode&&$scope.ingestDataSummary.query&&$scope.togglePageLoaderCancelButton($scope.cancelPreviewRequest);var scrollPosition={top:$scope.previewGridOptions.api.gridPanel.getVerticalScrollPosition(),left:$scope.previewGridOptions.api.gridPanel.getHorizontalScrollPosition()},startTime=new Date().getTime();return $http({method:"POST",url:"/api/flow/preview",timeout:$scope.currentPreviewRequest.canceler.promise,data:request}).then(function(res){$scope.requestFinished=!0,$scope.requestTime=new Date().getTime()-startTime;var data=res.data.data;$scope.previewLimit=res.config.data.limit,$scope.totalRowsCount=$scope.ingestDataSummary.selectedSources[0].descriptor.rowsCount,$scope.totalSize=data.length,$scope.currentQueryData.cachedPreviewData=res.data.cached,$scope.currentPreviewRequest=null,$scope.previewDescriptor=res.data.descriptor,$scope.updateIngestColumns(),$scope.updateIngestColumnsAutocompleteList(),$rootScope.$emit("refresh-ingest-other-settings-dropdown");var colDefs=createColumnDefs($scope.ingestDataSummary.columns,$scope,$scope.tabsSection.options.activeTab.state.colNameFormat);$scope.previewGridOptions.api.setColumnDefs(colDefs),$scope.previewGridOptions.api.setRowData(data),$scope.ingestPreviewLoaded=!0,toggleColumns([],!0,$scope),options.resetScrollPosition||($scope.previewGridOptions.api.gridPanel.getVerticalScrollPosition(scrollPosition.top),$scope.previewGridOptions.api.gridPanel.setHorizontalScrollPosition(scrollPosition.left)),promise.resolve({time:$scope.requestTime,size:$scope.totalSize}),$scope.inRequest=!1,$scope.togglePageLoader(!1)},function(response){var err=getErrorMessage();if($scope.inRequest=!1,$scope.togglePageLoader(!1),$scope.currentPreviewRequest=null,400==response.status){$scope.linterMessage=response.data;var errors=response.data;errors&&_.isArray(errors)&&(err=getErrorMessage(errors[0]))}$scope.ingestDataSummary.queryMode||(err.message="Preview "+err.message,cc.notify(err)),promise.reject(response)}),promise.promise}function getErrorMessage(e){var icon="warning",message;if(!e||!e.code)message=e&&e.message?e.message:"Ingest error on our end";else switch(e.code){case"stop_on_error":message="Ingest stopped due to errors";break;case"interrupted":icon="notification",message="Ingest failure due to user cancellation";break;case"db_conn_refused":case"db_auth_error":case"db_not_exists":case"access_denied_error":case"db_unknown_host":message="Ingest failure due to database connectivity error";break;case"source_not_found":message="Ingest failure: source not found";break;case"query_exception":message="It looks like your query was disconnected. Please try again.";break;default:message=e.message;}return{message:message,icon:icon}}var ROW_NUMBER_COL_ID="$$row_number",EMPTY_FIELDS_COL_ID="$$empty_fields",BLANK_FIELDS_COL_ID="$$blank_fields",renameNotificationActive=!1;return{initGrid:function(params,$scope){function createGrid(gridDiv){$scope.previewGridOptions&&$scope.previewGridOptions.isAlive&&$scope.previewGridOptions.isAlive()||(window.grid=$scope.previewGridOptions=new finGrid(gridDiv,gridOptions))}$scope.previewGridOptions&&$scope.previewGridOptions.api&&$scope.previewGridOptions.api.destroy(),$scope.inRequest=!1,$scope.errorFields=[],$scope.errorFieldsCount=0;var selector=params.selector,gridOptions={headerHeight:26,defaultRowHeight:21,overlayLoadingTemplate:" ",minFitColWidth:100,maxFitColWidth:500,enableColResize:!0,rowSelection:"none",enableRangeSelection:!0,enableServerSideSorting:!1,suppressContextMenu:!1,suppressMenuFilterPanel:!0,suppressMenuColumnPanel:!0,suppressCellSelection:!1,suppressFieldDotNotation:!0,suppressMenuHide:!0,suppressColumnMoveAnimation:!0,enableFilter:!1,enableCopyWithHtml:!0,unSortIcon:!0,suppressDragLeaveHidesColumns:!0,suppressAggFuncInHeader:!0,suppressColumnVirtualisation:!1,toolPanelSuppressRowGroups:!0,rowDeselection:!0,columnDefs:[],floatingTopRowData:[],enableSorting:!0,suppressMoveToPinning:!0,suppressGhostIcon:!0,onHeaderResizableDragStart:function onHeaderResizableDragStart(e){var rootRect=this.eRoot.getBoundingClientRect(),resizeHandler=$(this.eHeaderCell).find(".ag-header-cell-resize")[0],resizeHandlerRect=resizeHandler.getBoundingClientRect(),height=rootRect.bottom-resizeHandlerRect.top,insideHandlerTop=rootRect.top-resizeHandlerRect.top;this.eHandler=$("<div class=\"ag-resizable-handler\">"+"<div style=\"height: "+resizeHandlerRect.height+"px;\" class=\"ag-resizable-inside-handler\"></div>"+"</div>")[0],this.eHandler.style.left=e.clientX-rootRect.left+2+"px",this.eHandler.style.top=-insideHandlerTop,this.eHandler.style.height=height+"px",this.eRoot.appendChild(this.eHandler),this.startWidth=this.column.getActualWidth(),e.stopPropagation()},onHeaderResizableDragging:function onHeaderResizableDragging(dragChange,finished,e){var maxWidth=0<this.column.colDef.maxWidth?this.column.colDef.maxWidth:2e3;if(finished){this.eHandler.remove();var newWidth=this.startWidth+dragChange;this.column.getActualWidth()!=newWidth&&(this.columnController.setColumnWidth(this.column,newWidth,finished),this.gridPanel.sizeColumnsToFit())}else if(e){var x=e.clientX-this.eRoot.getBoundingClientRect().left+2;if(0>dragChange){var colMinWidthPoint=x-this.column.actualWidth+this.column.minWidth;x+dragChange<colMinWidthPoint&&(x=colMinWidthPoint-dragChange)}else if(dragChange>maxWidth-this.column.actualWidth){var colMaxWidthPoint=x-this.column.actualWidth+maxWidth;x=colMaxWidthPoint-dragChange}this.eHandler.style.left=x+"px"}e&&e.stopPropagation()},customCreateGhost:function customCreateGhost(){var level=this.dragSource.dragGroup?this.dragSource.dragGroup.originalColumnGroup.colGroupDef.level:$scope.dataSummary.pivot.length,dragWidth=_.reduce(this.dragSource.dragItem,function(result,item){return result+item.actualWidth},0),headerHeight=this.gridOptionsWrapper.getHeaderHeight();this.eBody=$(selector)[0],this.eBodyViewport=this.eBody.querySelector(".ag-body-viewport"),this.eGhost=document.createElement("div"),this.eGhost.className="ag-dnd-ghost";var containerHeight=this.eBody.querySelector(".ag-full-width-container").getBoundingClientRect().height,bodyHeight=this.eBody.getBoundingClientRect().height-headerHeight-2;this.eGhost.style.top=1*headerHeight+"px",this.eGhost.style.height=(containerHeight<bodyHeight?containerHeight:bodyHeight)+"px",this.eGhost.style.width=dragWidth+"px",this.eGhost.style.borderColor="lightblue",this.eGhost.style.backgroundColor="rgba(0,0,0,0.1)";var ehbg={};ehbg.top=level*headerHeight,ehbg.height=($scope.dataSummary.pivot.length-level+1)*headerHeight,this.eBody.appendChild(this.eGhost)},customPositionGhost:function customPositionGhost(event){var ghostRect=this.eGhost.getBoundingClientRect(),bodyRect=this.eBody.getBoundingClientRect(),leftPinnedWidth=this.columnController.getLeftPinnedWidth(),scrollWidth=this.eBodyViewport.scrollLeft,browserWidth=cc.getBodyWidth()-2,left=event.pageX-bodyRect.left-ghostRect.width/2,windowScrollX=window.pageXOffset||document.documentElement.scrollLeft;0<browserWidth&&left+this.eGhost.clientWidth>browserWidth+windowScrollX&&(left=browserWidth+windowScrollX-this.eGhost.clientWidth);var minLeft=leftPinnedWidth-scrollWidth;0>minLeft&&(minLeft=0),left<minLeft&&(left=minLeft),this.eGhost.style.left=left+"px"},onCellDoubleClicked:function onCellDoubleClicked(params){if(cc.isOverflow(params.eGridCell)){var cellRect=params.eGridCell.getBoundingClientRect(),childScope=$scope.$new(),fullTextDropdown=$("<div click-out=\"closeDropdown()\" class=\"fulltext-dropdown\">"+params.value+"</div>");cellRect.width>800&&fullTextDropdown.css("max-width",cellRect.width),childScope.closeDropdown=function(){this.el.remove()},fullTextDropdown=$compile(fullTextDropdown)(childScope),childScope.el=fullTextDropdown,$("body").append(fullTextDropdown),fullTextDropdown.css({top:_Mathfloor9(cellRect.top)-1,left:_Mathfloor9(cellRect.left)-1,"white-space":"pre-wrap",width:cellRect.width})}},onCellClicked:function onCellClicked(params){var isError=_.isObject(params.value)&&"ERROR"==params.value.type;if(!isError){var isArrayList=Array.isArray(params.value);if(isArrayList||cc.isURL(params.value)){var cellRect=params.eGridCell.getBoundingClientRect(),childScope=$scope.$new(),linkDropdown=$("<div ng-click=\"closeDropdown()\" click-out=\"closeDropdown()\" class=\"link-dropdown\"></div>"),urlArr;if(isArrayList){if(!_.isString(params.value[0]))return;urlArr=_.filter(params.value,function(value){return value.match(cc.URL_REGEXP)})}else urlArr=[params.value];if(!urlArr.length)return;childScope.closeDropdown=function(){this.el.remove()},urlArr.forEach(function(url){var text=url;27<text.length&&(text=text.slice(0,14)+"..."+text.slice(text.length-13));var link=$("<span><a href=\""+url+"\" target=\"_blank\">"+text+"&nbsp;<i class=\"fa fa-external-link\"></i></a></span>");linkDropdown.append(link)}),linkDropdown=$compile(linkDropdown)(childScope),childScope.el=linkDropdown,$("body").append(linkDropdown),linkDropdown.css({top:_Mathfloor9(cellRect.top)-(linkDropdown[0].getBoundingClientRect().height+2),left:_Mathfloor9(cellRect.left)-1})}}},onColumnMoved:function onColumnMoved(e){var columnsToMove=[];e.column?columnsToMove=[e.column]:e.columns&&(columnsToMove=e.columns),$scope.ingestCommitFailed||_.each(columnsToMove,function(column){var field=_.find($scope.ingestDataSummary.columns,function(s){return s.id==column.colId}),toPosition=e.toIndex-2;cc.moveInArray($scope.ingestDataSummary.columns,field.settings.index,toPosition),$scope.$evalAsync(function(){$scope.updateIngestColumnsOrder(),$scope.updateSelectedIngestColumns(),$scope.updateIngestSettings(!0)})})},onGridSizeChanged:function onGridSizeChanged(){$scope.previewGridOptions&&$scope.previewGridOptions.api&&$scope.previewGridOptions.api.sizeColumnsToFit()},getColumnsErrors:function getColumnsErrors(){var columnApi=$scope.previewGridOptions.columnApi,colDefs=columnApi.getAllColumns().map(function(col){return col.colDef});return _.reduce(colDefs,function(acc,colDef){return colDef.firstError?[].concat(_toConsumableArray2(acc),[colDef.field]):acc},[])},updateFieldsErrors:function updateFieldsErrors(){var _this15=this,fieldsErrors=this.getColumnsErrors();$scope.$evalAsync(function(){$scope.errorFieldsMessage=_this15.getFieldsErrorsMessage(fieldsErrors),$scope.errorFieldsCount=_.size(fieldsErrors)})},getFieldsErrorsMessage:function getFieldsErrorsMessage(fields){return fields&&_.isArray(fields)||(fields=this.getColumnsErrors()),"The following fields have possible errors: "+fields.join(", ")+". Please review them before saving your data."},overlayNoRowsTemplate:"<span class=\"ag-no-results\">No results returned</span>",headerCellTemplate:"<div class=\"ag-header-cell\">\n    <div id=\"agResizeBar\" class=\"ag-header-cell-resize\"></div>\n    <span id=\"agMenu\" class=\"ag-header-icon ag-header-cell-menu-button\">\n        <i class=\"fa fa-caret-down\"></i>\n    </span>\n    <div id=\"agHeaderCellLabel\" class=\"ag-header-cell-label\">\n        <span class=\"ag-header-cell-error\" style=\"display: none\">\n            <i class=\"fa fa-warning\"></i>\n        </span>\n        <span id=\"agText\" class=\"ag-header-cell-text\"></span>\n        <span class=\"ag-header-cell-type\"></span>\n        <span id=\"agRename\" class=\"ag-header-cell-rename\"><input/></span>\n        <div id=\"gridSortView\"> <span id=\"agSortAsc\" class=\"ag-header-icon ag-sort-icon ag-sort-ascending-icon\">\n            <i class=\"fa fa-sort-asc\"></i>\n        </span>\n        <span id=\"agSortDesc\" class=\"ag-header-icon ag-sort-icon ag-sort-descending-icon\">\n            <i class=\"fa fa-sort-desc\"></i>\n        </span>\n        <span id=\"agNoSort\" class=\"ag-header-icon ag-sort-icon ag-sort-none-icon\">\n            <i class=\"fa fa-sort\"></i>\n        </span>\n </div>   </div>\n</div>"};gridOptions={data:[],theme:{showAdditionalInfo:!0},onColumnResized:function onColumnResized(column){console.log("onColumnResized",column)},onUpdateColumnName:function onUpdateColumnName(column,renameTo){console.log("onUpdateColumnName",column,renameTo),updateColumnName(column.colDef,renameTo,$scope)},onColumnsMoved:function onColumnsMoved(columnsToMove,toPosition){console.log("onColumnsMoved",columnsToMove,toPosition),$scope.ingestCommitFailed||_.each(columnsToMove.reverse(),function(column){var field=_.find($scope.ingestDataSummary.columns,function(s){return s.id==column.colId});cc.moveInArray($scope.ingestDataSummary.columns,field.settings.index,toPosition),$scope.$evalAsync(function(){$scope.updateIngestColumnsOrder(),$scope.updateSelectedIngestColumns(),$scope.updateIngestSettings(!0)})})},getMainMenuItems:function getMainMenuItems(params){var selectedCols=$scope.previewGridOptions.api.getSelectedColumns();selectedCols&&0!==selectedCols.length||(selectedCols=[params.column]);var columns=_.map(selectedCols,function(col){return _.find($scope.ingestDataSummary.columns,function(c){return c.id==col.colId})}),column=_.find($scope.ingestDataSummary.columns,function(c){return c.id==params.column.colId}),dataTypeOption=ColumnsService.getDataTypeMenuOption($scope,columns,column),searchTypeOption=ColumnsService.getSearchTypeMenuOption($scope,columns,column),menuItems=[dataTypeOption];return menuItems.push("separator"),menuItems.push(searchTypeOption),menuItems.push("separator"),2>columns.length&&menuItems.push({name:"Rename",action:function action(clickEvent,cellEvent){cellEvent.grid.onEditorActivate(cellEvent)}}),menuItems.push({name:"Remove",action:function action(){_.each(columns,function(column){$scope.setRemovedIngestColumn(column,!0)}),$scope.updateSelectedIngestColumns(),$scope.updateIngestSettings(!0),toggleColumns(columns,!1,$scope)}}),menuItems},getContextMenuItems:function getContextMenuItems(){var menu=[],rangeSelections=$scope.previewGridOptions.api.getRangeSelections();return rangeSelections.length&&(menu.push({name:"Copy",action:function action(){$scope.previewGridOptions.api.copySelectedRangeToClipboard()}}),menu.push({name:"Copy With Headers",action:function action(){$scope.previewGridOptions.api.copySelectedRangeToClipboard(!0)}})),menu},headerCellRenderer:function headerCellRenderer(params){if(console.log("headerCellRenderer"),params.colDef.colId===ROW_NUMBER_COL_ID){var _$h=$(params.eHeaderCell),$error=_$h.find(".ag-header-cell-error");return _$h.find(":first-child").find("*").not(".ag-header-cell-error").remove(),$scope.previewGridOptions.updateFieldsErrors(),$error.addClass("ag-header-cell-error-count").show().attr("ng-show","errorFieldsCount").attr("uib-tooltip-html","errorFieldsMessage").attr("tooltip-popup-delay",250).attr("tooltip-append-to-body",!0).attr("tooltip-placement","right").attr("tooltip-class","main-page-tooltip").append("<div class=\"cell-error-value\" ng-bind=\"errorFieldsCount\"></div>"),void $compile($error)($scope)}var $h=$(params.eHeaderCell);if(0<params.colDef.errorCount){var _$error=$h.find(".ag-header-cell-error");_$error.show().attr("uib-tooltip",params.colDef.firstError.description).attr("tooltip-popup-delay",250).attr("tooltip-append-to-body",!0).attr("tooltip-placement","bottom").attr("tooltip-class","main-page-tooltip"),$compile(_$error)($scope)}return params.value},logEnable:!1};var gridDiv=document.querySelector(selector);if(gridDiv)createGrid(gridDiv);else var interval=setInterval(function(){gridDiv=document.querySelector(selector),gridDiv&&(createGrid(gridDiv),clearInterval(interval))},100)},preview:function($scope){var options=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return $scope.ingestCommitOptions.isFailed=!1,$scope.ingestDataSummary.selectedSources.length?($scope.previewGridOptions.api.applyProperties($scope.ingestDataSummary.selectedSources[0].descriptor.settings),makeRequest(options,$scope)):clear($scope)},toggleColumns:toggleColumns,clear:clear,createColumnDefs:createColumnDefs,getErrorMessage:getErrorMessage}}])});var RetryHandler=function(){this.interval=1e3,this.maxInterval=1e3*60};RetryHandler.prototype.retry=function(fn){setTimeout(fn,this.interval),this.interval=this.nextInterval_()},RetryHandler.prototype.reset=function(){this.interval=1e3},RetryHandler.prototype.nextInterval_=function(){var interval=2*this.interval+this.getRandomInt_(0,1e3);return Math.min(interval,this.maxInterval)},RetryHandler.prototype.getRandomInt_=function(min,max){return Math.floor(Math.random()*(max-min+1)+min)};var MediaUploader=function(options){var noop=function(){};if(this.file=options.file,this.contentType=options.contentType||this.file.type||"application/octet-stream",this.metadata=options.metadata||{title:this.file.name,mimeType:this.contentType},this.token=options.token,this.onComplete=options.onComplete||noop,this.onProgress=options.onProgress||noop,this.onError=options.onError||noop,this._cancelUpload=!1,this.cancel=function(){return this._cancelUpload=!0,this._uploadRequests.forEach(function(req){return req.abort()}),!1},this.offset=options.offset||0,this.chunkSize=options.chunkSize||0,this.retryHandler=new RetryHandler,this._chunkUploadProgress=[],this._uploadRequests=[],this._onProgress=function(chunkId,progress){if(0!==progress.loaded&&0!==progress.total){this._chunkUploadProgress[chunkId]=progress.loaded;var currentProgress=this._chunkUploadProgress.reduce(function(acc,value){return acc+=value?value:0},0);this.onProgress(Math.floor(100*(currentProgress/this.file.size)))}},this.url=options.url,!this.url){var params=options.params||{};params.uploadType="resumable",this.url=this.buildUrl_(options.fileId,params,options.baseUrl)}this.httpMethod=options.fileId?"PUT":"POST"};MediaUploader.prototype.upload=function(){var xhr=new XMLHttpRequest;xhr.open(this.httpMethod,this.url,!0),xhr.setRequestHeader("Authorization","Bearer "+this.token),xhr.setRequestHeader("Content-Type","application/json"),xhr.setRequestHeader("X-Upload-Content-Length",this.file.size),xhr.setRequestHeader("X-Upload-Content-Type",this.contentType),xhr.onload=function(e){if(400>e.target.status){var location=e.target.getResponseHeader("Location");this.url=location,this.sendFile_()}else this.onUploadError_(e)}.bind(this),xhr.onerror=this.onUploadError_.bind(this),xhr.send(JSON.stringify(this.metadata))},MediaUploader.prototype.getChunkId=function(end){var _Mathceil5=Math.ceil,chunksCount=_Mathceil5(this.file.size/this.chunkSize)-1;return chunksCount-_Mathceil5((this.file.size-end)/this.chunkSize)},MediaUploader.prototype.sendFile_=function(){if(!this._cancelUpload){var content=this.file,end=this.file.size;(this.offset||this.chunkSize)&&(this.chunkSize&&(end=Math.min(this.offset+this.chunkSize,this.file.size)),content=content.slice(this.offset,end));var chunkId=this.getChunkId(end),xhr=new XMLHttpRequest;xhr.open("PUT",this.url,!0),xhr.setRequestHeader("Content-Type",this.contentType),xhr.setRequestHeader("Content-Range","bytes "+this.offset+"-"+(end-1)+"/"+this.file.size),xhr.setRequestHeader("X-Upload-Content-Type",this.file.type),xhr.upload&&xhr.upload.addEventListener("progress",this._onProgress.bind(this,chunkId)),xhr.onload=this.onContentUploadSuccess_.bind(this),xhr.onerror=this.onContentUploadError_.bind(this),xhr.send(content),this._uploadRequests.push(xhr)}},MediaUploader.prototype.resume_=function(){var xhr=new XMLHttpRequest;if(xhr.open("PUT",this.url,!0),xhr.setRequestHeader("Content-Range","bytes */"+this.file.size),xhr.setRequestHeader("X-Upload-Content-Type",this.file.type),xhr.upload){var chunkId=this.getChunkId(this.file.size);xhr.upload.addEventListener("progress",this._onProgress.bind(this,chunkId))}xhr.onload=this.onContentUploadSuccess_.bind(this),xhr.onerror=this.onContentUploadError_.bind(this),xhr.send()},MediaUploader.prototype.extractRange_=function(xhr){var range=xhr.getResponseHeader("Range");range&&(this.offset=parseInt(range.match(/\d+/g).pop(),10)+1)},MediaUploader.prototype.onContentUploadSuccess_=function(e){200==e.target.status||201==e.target.status?this.onComplete(e.target.response):308==e.target.status?(this.extractRange_(e.target),this.retryHandler.reset(),this.sendFile_()):this.onContentUploadError_(e)},MediaUploader.prototype.onContentUploadError_=function(e){e.target.status&&500>e.target.status?this.onError(e.target.response):this.retryHandler.retry(this.resume_.bind(this))},MediaUploader.prototype.onUploadError_=function(e){this.onError(e.target.response)},MediaUploader.prototype.buildQuery_=function(params){return params=params||{},Object.keys(params).map(function(key){return encodeURIComponent(key)+"="+encodeURIComponent(params[key])}).join("&")},MediaUploader.prototype.buildUrl_=function(id,params,baseUrl){var url=baseUrl||"https://www.googleapis.com/upload/drive/v2/files/";id&&(url+=id);var query=this.buildQuery_(params);return query&&(url+="?"+query),url},define("google-drive-upload",function(global){return function(){var ret;return ret||global.MediaUploader}}(this)),define("modules/main/services/uploader-service",["./module","common","lodash","google-drive-upload"],function(module,common,_,googleDriveUpload){module.service("UploaderService",["FileUploader","UserStateService","$localStorage",function(FileUploader){var fileTypes={file:"file",xls:"excel",archive:"archive",unknown:"unknown"},ItemExtension=function ItemExtension(extension){var type=1<arguments.length&&arguments[1]!==void 0?arguments[1]:fileTypes.file;_classCallCheck2(this,ItemExtension),this.extension=extension,this.type=type},availableFileFormats=[new ItemExtension("xls",fileTypes.xls),new ItemExtension("xlsx",fileTypes.xls),new ItemExtension("txt"),new ItemExtension("xml"),new ItemExtension("csv"),new ItemExtension("tsv"),new ItemExtension("json"),new ItemExtension("avro"),new ItemExtension(""),new ItemExtension("zip",fileTypes.archive),new ItemExtension("gz",fileTypes.archive)],availableFileFormatsAsString=availableFileFormats.filter(function(_ref33){var extension=_ref33.extension;return!!extension}).map(function(_ref34){var extension=_ref34.extension;return extension}),getFileExtension=function(fileName){var fileNameSplit=fileName.split(".");return 1===fileNameSplit.length?"":_.last(fileNameSplit)},defaultUploaderConfig={url:"/api/files/upload",headers:{X_INSTANCE_ID:common.instanceGUID}},isGCSUploader=!0,uploader=new FileUploader({customTransport:function customTransport(config){var _fileUploaderContext=config._fileUploaderContext,item=config.item;_fileUploaderContext._onBeforeUploadItem(item);var options={token:item.accessToken,file:item._file,contentType:item._file.type,metadata:{title:item.file.name,mimeType:item._file.type},chunkSize:15*(1024*1024),onComplete:function onComplete(response){_fileUploaderContext._onSuccessItem(item,response,200),_fileUploaderContext._onCompleteItem(item,response,200)},onError:function onError(response){_fileUploaderContext._onErrorItem(item,response,status,headers),_fileUploaderContext._onCompleteItem(item,response,200)},onProgress:_.throttle(function(progress){_fileUploaderContext._onProgressItem(item,progress)},600)},upload=new googleDriveUpload(options),_ref35=[],response=_ref35.response,status=_ref35.status,headers=_ref35.headers;item.restoredIngest?(_fileUploaderContext._onSuccessItem(item,response,200),_fileUploaderContext._onCompleteItem(item,response,200)):upload.upload(),item._customProp={abort:function abort(){upload.cancel(),_fileUploaderContext._onCancelItem(item,response,status,headers)}}}});return{getUploader:function getUploader(){return uploader},isGCSUploader:isGCSUploader,availableFileFormats:availableFileFormats,getFileExtension:getFileExtension,availableFileFormatsAsString:availableFileFormatsAsString,isAcceptableFormat:function isAcceptableFormat(extension){return availableFileFormats.includes(extension)},getFileType:function getFileType(fileName){var extension=getFileExtension(fileName),fileType=_.get(_.find(availableFileFormats,{extension:extension}),"type");return fileType?fileType:fileTypes.unknown},setUrl:function setUrl(uid){uploader.path=uid?"id:"+uid:""}}}])}),define("modules/main/services/flow-service",["./module","angular"],function(module,angular){module.service("FlowService",["SourceService",function(SourceService){return{create:function(bookmark,source,columns,dataSummary){var input={id:"INPUT_0",label:source.name};dataSummary.queryMode?(input.type="html.QueryInputNode",input.settings={"@class":".DbQueryInputNodeSettings",uploadId:source.parentId?source.parentId:source.id,queryId:source.queryId,query:dataSummary.query,columns:columns,transforms:[]}):dataSummary.tableMode||SourceService.isDbTableSource(source)?(input.type="html.TableInputNode",input.settings={"@class":".DbTableInputNodeSettings",uploadId:source.parentId,tableId:source.tableId?source.tableId:source.id,columns:columns,transforms:[]}):(input.type="html.SourceInputNode",input.settings={"@class":".InputNodeSettings",uploadId:source.id,columns:columns,transforms:[]});var flow={cells:[input,{id:"OUTPUT",type:"html.OutputNode",label:"Output",settings:{"@class":".OutputNodeSettings",bookmarkId:bookmark.id,columns:[],transforms:[]}},{type:"link",source:{id:"INPUT_0"},target:{id:"OUTPUT"},id:"LINK_0"}]};return angular.toJson(flow)},isQueryInputNode:function(node){return"html.QueryInputNode"==node.type},isTableInputNode:function(node){return"html.TableInputNode"==node.type}}}])}),define("modules/main/services/format-cell-service",["./module","common","lodash","angular"],function(module,cc,_){module.service("FormatCellService",["$http",function(){return{arrayCell:function arrayCell(value){var preProcess=1<arguments.length&&arguments[1]!==void 0?arguments[1]:_.identity;return"["+value.map(preProcess).join(", ")+"]"}}}])}),define("modules/main/services/router-service",["./module","common","lodash","angular"],function(module){module.service("RouterService",["$state","$stateParams",function($state){return{goToMainPage:function goToMainPage(replaceLocation){var data=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},options={};replaceLocation&&(options.location="replace"),$state.go("main.landing.my_data",data,options)}}}])}),define("modules/main/services/bookmark-commit-service",["./module","lodash"],function(module,_){module.service("BookmarkCommitService",["$http","$rootScope","$timeout","WSocket","DataLoadingService",function($http,$rootScope,$timeout,WSocket,DataLoadingService){function getActiveTasks(){var options=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return $http.post("/api/flow/get_active_tasks").then(function(response){_.each(_.map(response.data,"taskInfo"),function(task){var e=_.merge({taskId:task.id},task.result);applyFlowStart(e),applyFlowProgress(e)});var isPublicChannel=options.isPublicChannel,resetCurrentDatadoc=options.resetCurrentDatadoc,currentDatadocId=resetCurrentDatadoc?null:_.get(DataLoadingService.getCurrentDoc(),"id",null),flowTopic=currentDatadocId?"/flow-events/"+currentDatadocId:"/flow-events";subscribed,WSocket.subscribe(flowTopic,function(e){switch(e.type){case"FLOW_EXEC_START":applyFlowStart(e);break;case"FLOW_EXEC_PROGRESS":applyFlowProgress(e);break;case"FLOW_EXEC_COMPLETE":applyFlowComplete(e);}},isPublicChannel),console.log("Subscribed to %c"+(isPublicChannel?"public":"private")+"%c channel %c("+flowTopic+")","color: "+(isPublicChannel?"green":"red"),"color: unset","color: "+(isPublicChannel?"green":"red"))}).catch(function(err){return console.error(err)})}function applyFlowStart(e){var task={progress:0,taskId:e.taskId,bookmarkId:e.bookmarkId,sourceIds:e.sourceIds,status:"Calculating..."};bookmarkTasks[e.bookmarkId]=task,$timeout(function(){_.each(subscriptions.start,function(handler){handler(task,e)})})}function applyFlowProgress(e){var outputNodeState=e.state.OUTPUT,progress=void 0,status=void 0,task=bookmarkTasks[e.bookmarkId],allRowsDefined=outputNodeState.allRowsCount!==outputNodeState.processedRowsCount||0<outputNodeState.percentComplete;switch(outputNodeState.state){case"WAIT":status="",progress=0;break;case"RUNNING":allRowsDefined?(progress=outputNodeState.percentComplete?parseFloat(outputNodeState.percentComplete.toFixed(0)):0,status=null):(status=outputNodeState.processedRowsCount+" rows ingested",progress=0);break;case"FINISHED":status=null,progress=100;}task.status=status,task.progress=100<progress?100:Math.max(progress,0),$timeout(function(){return _.each(subscriptions.progress,function(handler){return handler(task,e)})})}function applyFlowComplete(e){var task=bookmarkTasks[e.bookmarkId];$timeout(function(){return _.each(subscriptions.complete,function(handler){return handler(task,e)})}),delete bookmarkTasks[e.bookmarkId]}var bookmarkTasks={},subscribed=void 0,subscriptions={start:[],progress:[],complete:[]},state={get:function get(bookmarkId){return bookmarkTasks[bookmarkId]},getBySource:function getBySource(sourceId){return _.find(_.values(bookmarkTasks),function(task){return _.includes(task.sourceIds,sourceId)})},commit:function commit(bookmarkId,userInitiated){var task=bookmarkTasks[bookmarkId];if(!task)return $http.post("/api/flow/execute",{bookmarkId:bookmarkId,userInitiated:userInitiated}).then(function(taskId){applyFlowStart({taskId:taskId.data,bookmarkId:bookmarkId})})},updateStatus:function updateStatus(bookmarkId,status){_.set(bookmarkTasks[bookmarkId],"status",status)},ingest:function ingest(source){var options=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},embedded=options.embedded;return $http.post("/api/docs",{name:source.name,sourcePath:"id:"+source.id,embedded:!(options&&_.isBoolean(embedded))||embedded,autoIngest:!0}).success(function(datadoc){_.forEach(datadoc.lastFlowExecutionTasks,function(taskId){return applyFlowStart({taskId:taskId})})})},cancel:function cancel(bookmarkId){var task=bookmarkTasks[bookmarkId];if(task)return task.cancelling=!0,$http.post("/api/flow/cancel",{taskId:task.taskId})},isCommitRunning:function isCommitRunning(bookmarkId){return!!bookmarkTasks[bookmarkId]},isCommitCancelling:function isCommitCancelling(bookmarkId){return state.isCommitRunning(bookmarkId)&&bookmarkTasks[bookmarkId].cancelling},on:function on(eventName,handler){subscriptions[eventName].push(handler)},off:function off(eventName,handler){_.remove(subscriptions[eventName],function(h){return h===handler})},reset:function reset(){var options=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return state.promise=getActiveTasks(options)}};return state}])}),define("modules/main/services/share-service",["./module","lodash"],function(module){module.service("ShareService",["$http","$uibModal",function($http,$uibModal){var usersShareHint=function(datadocId,namePart){return $http.post("/share/users_hint",{datadocId:datadocId,namePart:namePart}).then(function(response){return response.data||[]})},getAllSharedStates=function(datadocId){return $http.get("/share/"+datadocId+"/shared_tabs").then(function(response){return response.data||[]})},openShareModal=function(){var _ref37=_asyncToGenerator(regeneratorRuntime.mark(function _callee14(_datadocId,$scope){var init;return regeneratorRuntime.wrap(function(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return init=[usersShareHint(_datadocId),retrieveSharedInfo(_datadocId),getAllSharedStates(_datadocId)],_context14.abrupt("return",Promise.all(init).then(function(_ref38){var _ref39=_slicedToArray2(_ref38,3),_shareWith=_ref39[0],_shareInfo=_ref39[1],_sharedStates=_ref39[2];return $uibModal.open({templateUrl:"/static/templates/include/share-modal.html",controller:"shareCtrl",resolve:{datadocId:function datadocId(){return _datadocId},shareWith:function shareWith(){return _shareWith},shareInfo:function shareInfo(){return _shareInfo},sharedStates:function sharedStates(){return _sharedStates}},scope:$scope,animation:!0,size:"md",windowClass:"share-window"})}));case 2:case"end":return _context14.stop();}},_callee14,_this16)}));return function(){return _ref37.apply(this,arguments)}}(),retrieveSharedInfo=function(){var _ref40=_asyncToGenerator(regeneratorRuntime.mark(function _callee15(datadocId){return regeneratorRuntime.wrap(function(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:return _context15.abrupt("return",$http.get("/share/info/"+datadocId).then(function(_ref41){var data=_ref41.data;return data}));case 1:case"end":return _context15.stop();}},_callee15,_this16)}));return function(){return _ref40.apply(this,arguments)}}(),shareDatadoc=function(){var _ref42=_asyncToGenerator(regeneratorRuntime.mark(function _callee16(datadocId,emails,shareType,noteText,shareAttachedSources){var request;return regeneratorRuntime.wrap(function(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:return request={datadocId:datadocId,email:emails,shareType:shareType,noteText:noteText,shareAttachedSources:shareAttachedSources},_context16.abrupt("return",$http.post("/share",request).then(function(_ref43){var data=_ref43.data;return data}));case 2:case"end":return _context16.stop();}},_callee16,_this16)}));return function(){return _ref42.apply(this,arguments)}}();return{openShareModal:openShareModal,retrieveSharedInfo:retrieveSharedInfo,shareWithMessage:function shareWithMessage(_ref36){var sharedWith=_ref36.sharedWith,publicShared=_ref36.publicShared,sharedCount=sharedWith.length,message=function buildMessageObject(){return 0<sharedCount?{header:"Shared with "+sharedCount+" people",icon_class:"fa fa-users"}:publicShared?{header:"Anyone with the link",description:"Anyone who has the link can access.",icon_class:"fa fa-users"}:{header:"Not shared with anyone yet",icon_class:"fa fa-users"}}();return"\n                 <div class=\"share-tooltip-icon\">\n                     <i class=\""+message.icon_class+"\"></i>\n                 </div>\n                 <div class=\"share-tooltip-info\">\n                     <h4 class=\"share-tooltip-header\">"+message.header+"</h4>\n                     "+(message.description?"<p class=\"share-tooltip-description\">"+message.description+"</p>":"")+"\n                 <div> \n                 "},selectSharedState:function selectSharedState(datadocId,sharedStateId){return $http.post("/share/select_shared_state",{datadocId:datadocId,sharedStateId:sharedStateId})},fileDetailsShareWithMessage:function fileDetailsShareWithMessage(source){if(source){var publicShared=source.publicShared,sharedWithInfo=source.sharedWithInfo,allSharedCount=sharedWithInfo.allSharedCount,publicSharedMessages={only:"Public shared only",both:" + public shared"};return 0===allSharedCount?publicShared?publicSharedMessages.only:"Not shared":allSharedCount+" member"+(1<allSharedCount?"s":"")+" "+(publicShared?publicSharedMessages.both:"")}},usersShareHint:usersShareHint,shareDatadoc:shareDatadoc}}])}),define("modules/main/services/columns-service",["./module","lodash"],function(module,_){module.factory("ColumnsService",["$timeout",function(){function resetSearchType(column){var settings=column.settings;switch(settings.type.dataType){case"STRING":settings.searchType="EDGE";break;case"DECIMAL":settings.searchType="EXACT_MATCH";break;default:settings.searchType="NONE";}}function getClassForType(type){return"DECIMAL"===type?"com.dataparse.server.service.parser.type.NumberTypeDescriptor":"com.dataparse.server.service.parser.type.TypeDescriptor"}function setDataType(column,dataType){column.settings.type={"@class":getClassForType(dataType),dataType:dataType},resetSearchType(column)}var colNameFormat={OFF:"Off",DATABASE_FRIENDLY:"Database-friendly",HUMAN_FRIENDLY:"Human-friendly"},searchTypes=[{label:"off",code:"NONE"},{label:"<span class=\"hl\">exact match</span>",code:"EXACT_MATCH"},{label:"<span class=\"hl\">edge</span> search",code:"EDGE"},{label:"full in<span class=\"hl\">ner</span> search",code:"FULL"}],getTypeText=function(type){return"STRING"===type?"Text":"DECIMAL"===type?"Number":void 0},defaultTypeAction=function($scope,columns,column,type,customHandler){var actionFn=function(){customHandler?customHandler(column.settings,columns):_.each(columns,function(column){setDataType(column,type)})};$scope.isVizMode()?$scope.showReIngestModal({actionText:"Change data type on "+column.name+" from \""+getTypeText(column.settings.type.dataType)+"\"  to \""+getTypeText(type)+"\"",reload:function reload(){actionFn(),$scope.updateIngestSettingsAndCommit(function(){return!0}),$scope.cancelReIngestModal()}}):(actionFn(),$scope.updateIngestSettings(!1,!1,!1))},getListDataTypeMenuOption=function($scope,columns,column){var selected=!!column.settings.splitOn,fieldInfo="List field: "+(selected?"<span class=\"success-text\">yes ("+column.settings.splitOn+")</span>":"no"),type=column.settings.type.dataType,listChildMenu=function(name,splitCharacter){return{name:function buildItemName(name,splitCharacter){return splitCharacter?"\n                        <span class=\"split-character\">"+splitCharacter+"</span>\n                        <span class=\"split-character-description\">("+name+")</span>\n                        ":name}(name,splitCharacter),icon:"<i class=\"fa fa-fw "+(column.settings.splitOn===splitCharacter?"fa-check":"")+"\"></i>",action:function defaultListAction(){defaultTypeAction($scope,columns,column,type,function(){columns.forEach(function(col){return col.settings.splitOn=splitCharacter})})}}},fieldName="<span class=\"capitalized-text "+(selected?"":"disabled")+"\">"+fieldInfo+"</span>";return{name:fieldName,childMenu:[listChildMenu("Not a list field",null),listChildMenu("comma",","),listChildMenu("colon",":"),listChildMenu("semi-color",";")]}};return{getDataTypeMenuOption:function($scope,columns,column){function getCastToTypeOption(title,type,customHandler){var selected=column.settings.type.dataType==type;return{name:"<span class=\"capitalized-text\">"+title+"</span>",icon:selected?"<i class=\"fa fa-fw fa-check\"></i>":"<i class=\"fa fa-fw\"></i>",action:defaultTypeAction.bind(null,$scope,columns,column,type,customHandler)}}function isOfType(types){return _.isArray(types)?_.contains(types,column.settings.type.dataType):column.settings.type.dataType==types}function isList(){return!!column.settings.splitOn}return{name:"Data Type"+function(type){var capitalized=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];return": <span class=\"ag-grid-selected-type "+(capitalized?"capitalized-text":"")+"\">"+type+"</span>"}(function(){var list=isList()?" (List)":"";if(isOfType(["DECIMAL"]))return"Number "+list;return isOfType(["DATE","TIME"])?"Date/Time":isOfType(["BOOLEAN"])?"Other":"Text "+list}(),!1),childMenu:[getCastToTypeOption("Text","STRING"),getCastToTypeOption("Number","DECIMAL"),getCastToTypeOption("Date/Time","DATE"),"separator",getListDataTypeMenuOption($scope,columns,column)]}},getSearchTypeMenuOption:function($scope,columns,column){function getSearchTypeOption(title,type){var selected=column.settings.searchType==type;return{name:title,icon:selected?"<i class=\"fa fa-fw fa-check\"></i>":"<i class=\"fa fa-fw\"></i>",action:function action(){$scope.isVizMode()?$scope.$broadcast("reset-search-type",{searchType:{text:title,value:type},column:column}):(_.each(columns,function(column){column.settings.searchType=type}),$scope.updateIngestSettings(!0))}}}function containsType(type){return _.some(columns,function(column){return _.get(column,"settings.type.dataType")===type})}var availableCodes=["NONE"];return(containsType("DECIMAL")||containsType("STRING"))&&availableCodes.push("EXACT_MATCH"),function(type){return _.every(columns,function(column){return _.get(column,"settings.type.dataType")===type})}("STRING")&&(availableCodes.push("EDGE"),availableCodes.push("FULL")),{name:"Search Type"+function(){var label=_.find(searchTypes,{code:column.settings.searchType}).label;return": <span class=\"ag-grid-selected-type\">"+label+"</span>"}(),childMenu:_(searchTypes).filter(function(searchType){return _.includes(availableCodes,searchType.code)}).map(function(searchType){return getSearchTypeOption(searchType.label,searchType.code)}).value()}},getSearchTypes:function getSearchTypes(){return searchTypes},getConvertToListOption:function($scope,columns,column){return{name:"List",icon:"<i class=\"fa fa-fw "+(column.settings.splitOn?"fa-check":"")+"\"></i>",action:function action(){$scope.showConvertToListModal(columns)}}},colNameFormat:colNameFormat,resetSearchType:resetSearchType,setDataType:setDataType,formatColumnName:function formatColumnName(format,name){if(!format)return name;switch(colNameFormat[format]){case colNameFormat.OFF:return name;case colNameFormat.DATABASE_FRIENDLY:return name.toLowerCase().split(" ").join("_");case colNameFormat.HUMAN_FRIENDLY:return name.toLowerCase().split(/_|-|\s/).map(function(namePart){return namePart?_.capitalize(namePart):""}).join(" ");default:console.warn("There is no such format - "+format);}}}}])}),define("modules/main/services/bookmark-event-service",["./module","lodash","common"],function(module,_,cc){module.service("BookmarkEventService",["$http","$rootScope","$timeout","WSocket","$q",function($http,$rootScope,$timeout,WSocket,$q){function isEmbed($scope){return!!$scope.embed}function event(type,payload,promise,$scope){var id=cc.randomGUID();promise&&(eventCallbacks[id]=promise);var eventData={"@type":type,id:id,tabId:$scope.tabId,stateId:$scope.bookmarkStateId.stateId,instanceId:cc.instanceGUID};return _.merge(payload,eventData)}function emit(type,payload,$scope,beforeSend){if(isEmbed($scope)||disableEmit)return{};var deferred=$q.defer(),e=event(type,payload,deferred,$scope);return beforeSend&&beforeSend(e.id),$scope.tabsSection.options.activeTab.canUndo=!0,$scope.tabsSection.options.activeTab.canRedo=!1,$scope.tabsSection.options.activeTab.lastChangeEvent=e,WSocket.send("/vis/event",e),_.assign(deferred.promise,{id:e.id})}var eventCallbacks={},disableEmit=!1;return{suppressEmit:function(fn){disableEmit=!0,fn(),disableEmit=!1},emit:emit,subscribeToTabEvents:function(tab,$scope){return WSocket.subscribe("/vis/event-response/"+tab.id+"/"+tab.currentState,function(e){switch(e.type){case"TAB_STATE_CHANGED":$scope.$apply(function(){if(e.instanceId&&e.instanceId!=cc.instanceGUID)switch(e["@type"]){case".PageModeChangeEvent":var pageMode=e.pageMode;return $scope.pageMode=tab.state.pageMode=pageMode,void $scope.tabsSection.refreshActiveTab(!0);}});}var promise=eventCallbacks[e.id];promise&&(delete eventCallbacks[e.id],promise.resolve(e))})}}}])}),define("modules/main/services/format-toolbar-service",["./module","lodash"],function(module,_){module.service("FormatToolbarService",["BookmarkEventService","DataLoadingService",function(BookmarkEventService,DataLoadingService){function getSelectedColumns($scope){if($scope.gridOptions){var selectedColumns=_.map($scope.gridOptions.api.rangeController.selectedCols,function(col){return DataLoadingService.isPivotTable($scope)?col.colDef.originalField:col.colDef.field});return _($scope.dataSummary.shows).filter(function(show){return _.includes(selectedColumns,DataLoadingService.getOpKey(show))}).map(function(show){return show.col}).value()}return[]}function updateColFormat($scope,format){var selected=getSelectedColumns($scope),rememberCurrency;_.isFunction(format)?_.each(selected,function(col){var response=format(col.settings.format,col);response&&response.rememberCurrency&&(rememberCurrency=col.settings.format.currency)}):_.each(selected,function(col){return col.settings.format=format}),rememberCurrency&&($scope.tabsSection.options.activeTab.state.lastSelectedCurrency=rememberCurrency),_.each(selected,function(col){BookmarkEventService.emit(".cols.ColFormatChangeEvent",{field:col.field,format:col.settings.format,rememberLastSelectedCurrency:!!rememberCurrency},$scope)}),DataLoadingService.updateFiltersByColumn(selected,$scope),setTimeout(function(){$scope.gridOptions.api.refreshView()})}function setFinancialFormat($scope,currency){updateColFormat($scope,function(format,col){if("DECIMAL"==col.type)return format.type="FINANCIAL",format.decimalPlaces=2,format.showThousandsSeparator=!0,format.currency=currency||"$",{rememberCurrency:!0}})}function getLastSelectedCurrency($scope){return _.get($scope,"tabsSection.options.activeTab.state.lastSelectedCurrency")||"$"}function isCurrencySelected($scope,currency){return function(){var column=getSelectedColumns($scope)[0];return column&&column.settings.format.currency==currency}}function isFixedFormatApplied(show){return show.id.op&&_.contains(["COUNT","UNIQUE_COUNT","APPROX_UNIQUE_COUNT"],show.id.op)}function getFormatOptionsForColumn($scope,column,updateFn,suppressTypeCheck){function option(label,descr,group,_action,selected,disabled){var typeChangeDisabled=$scope.isViewOnly&&colType!==group;return{label:label,descr:descr,group:group,selected:selected,disabled:disabled||typeChangeDisabled,action:function action(){updateFn($scope,_action)}}}var colType=_.get(column,"type"),exampleValue=_.get(column,"exampleValue"),colRepeated=_.get(column,"repeated"),settingsFormatType=_.get(column,"settings.format.type"),listInfo=!colRepeated?"":" (list)",booleanFormat=isBooleanFormat(exampleValue);return _.compact([option("Text"+listInfo,"Hello","STRING",function(format){return format.type="TEXT"},"TEXT"===settingsFormatType&&!colRepeated,"STRING"!==colType),separator(),option("Number"+listInfo,"123.23","DECIMAL",function(format,col){(suppressTypeCheck||"DECIMAL"===col.type)&&(format.type="NUMBER",format.decimalPlaces=format.defaultDecimalPlaces)},"NUMBER"===settingsFormatType&&!colRepeated,"DECIMAL"!==colType),option("Percent","12%","DECIMAL",function(format,col){(suppressTypeCheck||"DECIMAL"===col.type)&&(format.type="PERCENT",format.decimalPlaces=format.defaultDecimalPlaces)},"PERCENT"===settingsFormatType&&!colRepeated,"DECIMAL"!==colType),option("Financial","$12,000.25","DECIMAL",function(format,col){(suppressTypeCheck||"DECIMAL"===col.type)&&(format.type="FINANCIAL",format.decimalPlaces=format.defaultDecimalPlaces)},"FINANCIAL"===settingsFormatType&&!colRepeated,"DECIMAL"!==colType),separator(),option("Date <span class=\"secondary\">v1</span>","11/17/2014","DATE",function(format){(suppressTypeCheck||_.includes(["DECIMAL","DATE"],colType))&&(format.type="DATE_1")},"DATE_1"===settingsFormatType,!_.includes(["DECIMAL","DATE"],colType)),option("Date <span class=\"secondary\">v2</span>","Sep. 14, 2014","DATE",function(format){(suppressTypeCheck||_.includes(["DECIMAL","DATE"],colType))&&(format.type="DATE_2")},"DATE_2"===settingsFormatType,!_.includes(["DECIMAL","DATE"],colType)),option("Datetime","11/17/2014 12:13:14","DATE",function(format){(suppressTypeCheck||_.includes(["DECIMAL","DATE"],colType))&&(format.type="DATE_TIME")},"DATE_TIME"===settingsFormatType,!_.includes(["DECIMAL","DATE"],colType)),separator(),option("Time","3:20:00 PM","TIME",function(format){(suppressTypeCheck||_.includes(["DECIMAL","TIME","DATE"],colType))&&(format.type="TIME")},"TIME"===settingsFormatType,!_.includes(["DECIMAL","TIME","DATE"],colType)),option("Duration","02:12:20","TIME",function(format){(suppressTypeCheck||_.includes(["DECIMAL","TIME","DATE"],colType))&&(format.type="DURATION")},"DURATION"===settingsFormatType,!_.includes(["DECIMAL","TIME","DATE"],colType)),separator(),option("Boolean y/n","Yes","BOOLEAN",function(format){format.type="BOOLEAN_1"},"BOOLEAN_1"===settingsFormatType,!booleanFormat),option("Boolean T/F","TRUE","BOOLEAN",function(format){format.type="BOOLEAN_2"},"BOOLEAN_2"===settingsFormatType,!booleanFormat)])}var BOOLEAN_POSSIBLE_TYPES={y:1,n:0,t:1,f:0,yes:1,no:0,true:1,false:0,1:1,0:0},isBooleanFormat=function(exampleValue){return void 0!==exampleValue&&null!==exampleValue&&_.includes(Object.keys(BOOLEAN_POSSIBLE_TYPES),(""+exampleValue).toLowerCase())},dataTypeFormats={TEXT:["STRING","DECIMAL","DATE","TIME","BOOLEAN"],NUMBER:["DECIMAL"],PERCENT:["DECIMAL"],FINANCIAL:["DECIMAL"],DATE_1:["DATE","DECIMAL"],DATE_2:["DATE","DECIMAL"],DATE_TIME:["DATE","DECIMAL"],TIME:["TIME","DECIMAL","DATE"],DURATION:["TIME","DECIMAL","DATE"],BOOLEAN_1:["BOOLEAN"],BOOLEAN_2:["BOOLEAN"]},separator=function(){return{separator:!0,action:function action($event){$event.stopPropagation(),$event.preventDefault()}}};return{getFormatButtons:function($scope){var obj=[{label:function label(){return getLastSelectedCurrency($scope)},tooltipMessage:"Format as financial",dropdownList:[{label:"$ English (United States)",selected:isCurrencySelected($scope,"$"),action:function action(){setFinancialFormat($scope,"$")}},{label:"\u20AC Euro (\u20AC 123)",selected:isCurrencySelected($scope,"\u20AC"),action:function action(){setFinancialFormat($scope,"\u20AC")}},{label:"\xA3 English (United Kingdom)",selected:isCurrencySelected($scope,"\xA3"),action:function action(){setFinancialFormat($scope,"\xA3")}},{label:"\xA5 Chinese (China)",selected:isCurrencySelected($scope,"\xA5"),action:function action(){setFinancialFormat($scope,"\xA5")}}],action:function action(){setFinancialFormat($scope,getLastSelectedCurrency($scope))}},{label:function label(){return"%"},tooltipMessage:"Format as percent",action:function action(){updateColFormat($scope,function(format,col){"DECIMAL"==col.type&&(format.type="PERCENT",format.decimalPlaces=2)})}},{label:function label(){return","},tooltipMessage:"Thousands separator",action:function action(){updateColFormat($scope,function(format,col){"DECIMAL"==col.type&&(!_.includes(["NUMBER","PERCENT","FINANCIAL"],format.type)&&(format.type="NUMBER"),format.showThousandsSeparator=!format.showThousandsSeparator)})}},{label:function label(){return"<div class=\"btn-icon less-dp\"></div>"},tooltipMessage:"Decrease Decimal Places",action:function action(){updateColFormat($scope,function(format,col){"DECIMAL"==col.type&&_.includes(["NUMBER","PERCENT","FINANCIAL"],format.type)&&0<format.decimalPlaces&&format.decimalPlaces--})}},{label:function label(){return"<div class=\"btn-icon more-dp\"></div>"},tooltipMessage:"Increase Decimal Places",action:function action(){updateColFormat($scope,function(format,col){"DECIMAL"==col.type&&_.includes(["NUMBER","PERCENT","FINANCIAL"],format.type)&&10>format.decimalPlaces&&format.decimalPlaces++})}}];return obj},getOtherFormatOptions:function($scope){var column=getSelectedColumns($scope)[0];return getFormatOptionsForColumn($scope,column,updateColFormat)},getFormatOptionsForColumn:getFormatOptionsForColumn,isFormatToolbarActive:function($scope){if($scope.gridOptions){if(0==$scope.gridOptions.api.rangeController.selectedCols.length)return!1;var selectedColumns=_.map($scope.gridOptions.api.rangeController.selectedCols,function(col){return DataLoadingService.isPivotTable($scope)?col.colDef.originalField:col.colDef.field}),selectedShows=_.filter($scope.dataSummary.shows,function(show){return _.includes(selectedColumns,DataLoadingService.getOpKey(show))});return 0!=selectedShows.length&&0==_.filter(selectedShows,function(show){return isFixedFormatApplied(show)}).length}return!0},isBasicFormat:function(col,format){return dataTypeFormats[format][0]==col.type},getTypeByFormat:function(format){return dataTypeFormats[format][0]},getBooleanByValue:function getBooleanByValue(value){return void 0===value||null===value?null:isBooleanFormat(value)?BOOLEAN_POSSIBLE_TYPES[(value+"").toLowerCase()]:null},BOOLEAN_POSSIBLE_TYPES:BOOLEAN_POSSIBLE_TYPES}}])}),define("modules/main/services/date-pattern-service",["./module"],function(module){module.service("DatePatternService",[function(){return{getDatePattern:function(formatType){return"DATE_1"===formatType?"M/D/YYYY":"DATE_2"===formatType?"MMM. D, YYYY":"TIME"===formatType?"h:mm:ss A":"DATE_TIME"===formatType?"M/D/YYYY h:mm:ss A":"DURATION"===formatType?"HH:mm:ss":void 0}}}])}),define("modules/main/services/time-zone-service",["./module"],function(module){module.service("TimeZoneService",[function(){var timeZones=[{abbr:"MIT",name:"Pacific/Midway",text:"Midway Islands Time",offset:"-1100",displayZone:"GMT-11:00"},{abbr:"HST",name:"US/Hawaii",text:"Hawaii Standard Time",offset:"-1000",displayZone:"GMT-10:00"},{abbr:"AST",name:"US/Alaska",text:"Alaska Standard Time",offset:"-0900",displayZone:"GMT-9:00"},{abbr:"PST",name:"US/Pacific",text:"Pacific Standard Time",offset:"-0800",displayZone:"GMT-8:00"},{abbr:"PNT",name:"America/Phoenix",text:"Phoenix Standard Time",offset:"-0700",displayZone:"GMT-7:00"},{abbr:"MST",name:"US/Mountain",text:"Mountain Standard Time",offset:"-0700",displayZone:"GMT-7:00"},{abbr:"CST",name:"US/Central",text:"Central Standard Time",offset:"-0600",displayZone:"GMT-6:00"},{abbr:"EST",name:"US/Eastern",text:"Eastern Standard Time",offset:"-0500",displayZone:"GMT-5:00"},{abbr:"IET",name:"US/East-Indiana",text:"Indiana Eastern Standard Time",offset:"-0500",displayZone:"GMT-5:00"},{abbr:"PRT",name:"America/Puerto_Rico",text:"Puerto Rico and US Virgin Islands Time",offset:"-0400",displayZone:"GMT-4:00"},{abbr:"CNT",name:"Canada/Newfoundland",text:"Canada Newfoundland Time",offset:"-0300",displayZone:"GMT-3:00"},{abbr:"AGT",name:"America/Buenos_Aires",text:"Argentina Standard Time",offset:"-0300",displayZone:"GMT-3:00"},{abbr:"BET",name:"Brazil/East",text:"Brazil Eastern Time",offset:"-0300",displayZone:"GMT-3:00"},{abbr:"CAT",name:"Atlantic/Cape_Verde",text:"Central African Time",offset:"-0100",displayZone:"GMT-1:00"},{abbr:"UTC",name:"Etc/Universal",text:"Universal Coordinated Time",offset:"0000",displayZone:"GMT+0:00"},{abbr:"GMT",name:"Etc/Greenwich",text:"Greenwich Mean Time",offset:"0000",displayZone:"GMT+0:00"},{abbr:"CET",name:"Europe/Berlin",text:"Central European Time",offset:"0100",displayZone:"GMT+1:00"},{abbr:"EET",name:"Europe/Kaliningrad",text:"Eastern European Time",offset:"0200",displayZone:"GMT+2:00"},{abbr:"ART",name:"Africa/Cairo",text:"Egypt Standard Time",offset:"0200",displayZone:"GMT+2:00"},{abbr:"EAT",name:"Africa/Juba",text:"Eastern African Time",offset:"0300",displayZone:"GMT+3:00"},{abbr:"MET",name:"Asia/Riyadh",text:"Middle East Time",offset:"0330",displayZone:"GMT+3:30"},{abbr:"NET",name:"Asia/Baku",text:"Near East Time",offset:"0400",displayZone:"GMT+4:00"},{abbr:"PLT",name:"Asia/Karachi",text:"Pakistan Lahore Time",offset:"0500",displayZone:"GMT+5:00"},{abbr:"IST",name:"Asia/Colombo",text:"India Standard Time",offset:"0530",displayZone:"GMT+5:30"},{abbr:"BST",name:"Asia/Dhaka",text:"Bangladesh Standard Time",offset:"0600",displayZone:"GMT+6:00"},{abbr:"VST",name:"Asia/Bangkok",text:"Vietnam Standard Time",offset:"0700",displayZone:"GMT+7:00"},{abbr:"CTT",name:"Asia/Macau",text:"China Taiwan Time",offset:"0800",displayZone:"GMT+8:00"},{abbr:"JST",name:"Asia/Tokyo",text:"Japan Standard Time",offset:"0900",displayZone:"GMT+9:00"},{abbr:"ACT",name:"Australia/Darwin",text:"Australia Central Time",offset:"0930",displayZone:"GMT+9:30"},{abbr:"AET",name:"Australia/Sydney",text:"Australia Eastern Time",offset:"0100",displayZone:"GMT+10:00"},{abbr:"SST",name:"Asia/Sakhalin",text:"Solomon Standard Time",offset:"0110",displayZone:"GMT+11:00"},{abbr:"NST",name:"Pacific/Auckland",text:"New Zealand Standard Time",offset:"0120",displayZone:"GMT+12:00"}];return{getTimeZones:function getTimeZones(){return timeZones}}}])}),define("modules/main/services/user-event-service",["./module","lodash","common"],function(module,_,cc){module.service("UserEventService",["$http","$rootScope","$timeout","WSocket","$q","User",function($http,$rootScope,$timeout,WSocket,$q,User){function event(type,payload,promise,$scope){var id=cc.randomGUID();return promise&&(eventCallbacks[id]=promise),_.merge(payload,{"@type":type,id:id,tabId:$scope.tabId,instanceId:cc.instanceGUID,userId:User.getCurrent().id})}function emit(type,payload,$scope){if(disableEmit)return{};var deferred=$q.defer(),e=event(type,payload,deferred,$scope);return WSocket.send("/user/event",e),_.assign(deferred.promise,{id:e.id})}var eventCallbacks={},disableEmit=!1;return{suppressEmit:function(fn){disableEmit=!0,fn(),disableEmit=!1},emit:emit}}])}),define("modules/main/services/filter-service",["./module","lodash","moment"],function(module,_,moment){var _Mathlog2=Math.log;module.service("FilterService",["DataLoadingService",function(DataLoadingService){var switchLinLog=function(filter){filter.linlog?"undefined"!=typeof filter.value1exp&&"undefined"!=typeof filter.value2exp&&(_.forEach(["value1exp","value2exp"],function(k){delete filter[k]}),filter.options=_.omit(filter.options,["step","precision"]),filter.options.floor=filter.min,filter.options.ceil=filter.max,filter.options.step="range"==filter.type?1:.01,filter.options.precision="range"==filter.type?0:10):"undefined"==typeof filter.value1exp&&"undefined"==typeof filter.value2exp&&(_.assign(filter,{value1exp:0==filter.value1?1e-20:_Mathlog2(filter.value1),value2exp:_Mathlog2(filter.value2)}),_.assign(filter.options,{floor:0==filter.min?1e-20:_Mathlog2(filter.min),ceil:_Mathlog2(filter.max),step:1e-6,precision:20}))},resetOneFilter=function(filter){var type=filter.col.type;"DECIMAL"===type?filter.linlog?(filter.value1=filter.min,filter.value2=filter.max,filter.changed=!1):(filter.linlog=!0,switchLinLog(filter)):"TIME"===type||"DATE"===type?(filter.listMode=!1,filter.value1=filter.min,filter.value2=filter.max,filter.changed=!1,filter.isFixedDateEnabled=!1,filter.options.fromDate=new Date(filter.value1),filter.options.toDate=new Date(filter.value2),filter.options.displayFromTime=moment(filter.options.fromDate).utc().format("h:mm a"),filter.options.displayToTime=moment(filter.options.toDate).utc().format("h:mm a"),delete filter.options.period,delete filter.fixedDate):"LOCATION_LAT_LON"===type?delete filter.box:void 0;filter.search="",filter.and_or=!1,filter.count=10,_.forEach(filter.list,function(agg){agg.selected=!1,agg.show=!0})},reset=function($scope,filter){resetOneFilter(filter),DataLoadingService.makeRequestRefreshFilters(filter,$scope)};return{switchLinLog:switchLinLog,resetFilterInRow:function resetFilterInRow($scope,filter,$event){$event.stopPropagation(),reset($scope,filter)},resetOneFilter:resetOneFilter,reset:reset,isFilterActive:function isFilterActive(filter){if(filter)return filter.listMode?_.some(filter.list,function(f){return f.selected||!f.show}):filter.value1!==filter.min||filter.value2!==filter.max},getSelectedFilters:function getSelectedFilters(filters){return _.filter(filters,function(agg){return agg.selected||!agg.show})}}}])}),define("modules/main/services/db-source-service",["./module"],function(module){module.service("DbSourceService",["$http",function($http){var createCancelableFunction=function(f){return function(request,options){return f(_.merge(request,{cancel:!0}),options)}},testConnection=function(request,options){return $http.post("/api/files/test_connection",request,options)},cancelTestConnection=createCancelableFunction(testConnection),createRemoteLink=function(request,options){return $http.post("/api/files/create_remote_link",request,options)},cancelCreateRemoteLink=createCancelableFunction(createRemoteLink),updateRemoteLink=function(request,options){return $http.post("/api/files/update_remote_link",request,options)},cancelUpdateRemoteLink=createCancelableFunction(updateRemoteLink);return{testConnection:testConnection,cancelTestConnection:cancelTestConnection,createRemoteLink:createRemoteLink,cancelCreateRemoteLink:cancelCreateRemoteLink,updateRemoteLink:updateRemoteLink,cancelUpdateRemoteLink:cancelUpdateRemoteLink}}])}),define("modules/main/services/index",["./websocket","./history-service","./browser-history-service","./codes-service","./export-service","./available-fixed-dates","./data-loading","./grid-service","./embed-service","./scope-service","./sort-section-service","./history-handler-service","./event-names-constant","./tabs-section","./constants","./source-service","./recent-sources-service","./user-state-service","./sort-section-columns-service","./sort-direction-constant","./search-service","./ingest-data-loading","./uploader-service","./flow-service","./format-cell-service","./router-service","./bookmark-commit-service","./share-service","./columns-service","./bookmark-event-service","./format-toolbar-service","./date-pattern-service","./time-zone-service","./user-event-service","./filter-service","./db-source-service"],function(){}),define("modules/main/filters/module",["angular"],function(ng){"use strict";return ng.module("app.main.filters",[])}),define("modules/main/filters/size",["./module"],function(filters){"use strict";return filters.filter("size",function(){var units={default:{m:1e3,scale:["","K","M","B","T","Qd","Qt"]},bytes:{m:1024,scale:[" bytes"," KB"," MB"," GB"," TB"," PB"]}};return function(bytes,precision,unitStr){if(isNaN(parseFloat(bytes))||!isFinite(bytes))return"?";for(var unit=units[unitStr||"default"],scale=0;bytes>=unit.m;)bytes/=unit.m,scale++;return bytes=0==scale?bytes:bytes.toFixed(+precision),bytes+unit.scale[scale]}})}),define("modules/main/filters/financialFilter",["./module"],function(filters){"use strict";return filters.filter("financialFilter",["$filter",function($filter){function format(value){return $filter("number")(value,2)}return function(value){return 0>value?"("+format(-value)+")":format(value)}}])}),define("modules/main/filters/errorValueDescriptionFilter",["./module","common"],function(filters,common){"use strict";function replaceIn(value,smap){return _.each(smap,function(v,k){value=value.split(k).join(v)}),value}return filters.filter("errorValueDescriptionFilter",[function(){return function(value){return replaceIn(value,common.typeNameMappings)}}])}),define("modules/main/filters/numberFilter",["./module","moment","lodash"],function(filters,moment,_){"use strict";function formatNumber(value,format){if(value==void 0||null==value||!_.isNumber(value))return value;var withDecimalPlaces=value.toFixed(Math.max(0,~~format.decimalPlaces));if(format.showThousandsSeparator){var re="\\d(?=(\\d{3})+"+(0<format.decimalPlaces?"\\.":"$")+")";return withDecimalPlaces.replace(new RegExp(re,"g"),"$&,")}return withDecimalPlaces}return filters.filter("numberFilter",["$filter","DatePatternService","FormatToolbarService",function($filter,DatePatternService,FormatToolbarService){return function(value,format){var formatted=value;switch(format.type){case"TEXT":formatted=value;break;case"NUMBER":formatted=formatNumber(value,format);break;case"PERCENT":formatted=formatNumber(100*value,format)+"%";break;case"FINANCIAL":if(0>value){var newValue=formatNumber(Math.abs(value),format);formatted="-"+format.currency+newValue}else formatted=format.currency+""+formatNumber(value,format);break;case"DATE_1":case"DATE_2":case"DATE_TIME":case"TIME":case"DURATION":var pattern=DatePatternService.getDatePattern(format.type);formatted=format.possibleMillisTimestamp?moment(value).format(pattern):moment.unix(value/1e3).format(pattern);break;case"BOOLEAN_1":formatted=FormatToolbarService.getBooleanByValue(value)?"Yes":"No";break;case"BOOLEAN_2":formatted=FormatToolbarService.getBooleanByValue(value)?"TRUE":"FALSE";}return formatted}}])}),define("modules/main/filters/locationCodesFilter",["./module"],function(filters){"use strict";return filters.filter("locationCodesFilter",[function(){return function(value){for(var key in value)return value[key]}}])}),define("modules/main/filters/locationLatLonFilter",["./module"],function(filters){"use strict";return filters.filter("locationLatLonFilter",[function(){function format(value){return parseFloat(value).toFixed(2)}return function(value){return"["+format(value.lat)+", "+format(value.lon)+"]"}}])}),define("modules/main/filters/numberFormatFilter",["./module"],function(filters){"use strict";return filters.filter("numberFormatFilter",[function(){return function(num,digits){var si=[{value:1E18,symbol:"E"},{value:1E15,symbol:"Q"},{value:1E12,symbol:"T"},{value:1E9,symbol:"B"},{value:1E6,symbol:"M"},{value:1E3,symbol:"K"}],i;for(i=0;i<si.length;i++)if(num>=si[i].value)return(num/si[i].value).toFixed(digits).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+si[i].symbol;return num}}])}),define("modules/main/filters/fixedIfFloatFilter",["./module"],function(filters){"use strict";return filters.filter("fixedIfFloatFilter",[function(){return function(value){return"number"==typeof value?0==value%1?value:parseFloat(value.toFixed(2)):value}}])}),define("modules/main/filters/formatCell",["./module","moment","common"],function(filters,moment){"use strict";return filters.filter("formatCell",["$filter","DataLoadingService","DatePatternService","FormatToolbarService",function($filter,DataLoadingService,DatePatternService,FormatToolbarService){function formatValue(value,columnType,format,agg,strHandler,timezone){var content=value;if(null===value)content="<span class='null-value'>\xD8</span>";else if("undefined"!=typeof value&&isBooleanFormat(format.type))content=formatBoolean(value,format.type);else if("undefined"!=typeof value)switch(columnType){case"STRING":strHandler&&(content=strHandler(value));break;case"DATE":case"TIME":var showTimezone=!1,disableTimezoneConversion=!0,dateFormat;if(agg&&"DATE"===columnType)switch(agg.id.op){case"YEAR":dateFormat="YYYY";break;case"QUARTER":dateFormat="\\QQ, YYYY";break;case"MONTH":dateFormat="MMMM, YYYY";break;case"DAY":dateFormat="YYYY-M-D";break;case"HOUR":dateFormat="YYYY-M-D HH:mm",showTimezone=!0,disableTimezoneConversion=!1;}else format?(dateFormat=DatePatternService.getDatePattern(format.type,columnType),showTimezone="TIME"===format.type||"DATE_TIME"===format.type,disableTimezoneConversion="DATE_1"===format.type||"DATE_2"===format.type||"DURATION"===format.type):"DATE"===columnType?(dateFormat="M/D/YYYY HH:mm:ss",showTimezone=!0,disableTimezoneConversion=!1):(dateFormat="HH:mm:ss",showTimezone=!0,disableTimezoneConversion=!1);timezone&&showTimezone&&(dateFormat+=" ["+timezone+"]"),content=disableTimezoneConversion?moment(value).utc().format(dateFormat):moment(value).format(dateFormat);break;case"DECIMAL":content=$filter("numberFilter")(value,format);}return content}var isBooleanFormat=function(type){return["BOOLEAN_1","BOOLEAN_2"].includes(type)},formatBoolean=function(value,type){var boolValue=!!FormatToolbarService.BOOLEAN_POSSIBLE_TYPES[value+""];return"BOOLEAN_1"===type?boolValue?"Yes":"No":"BOOLEAN_2"===type?boolValue?"TRUE":"FALSE":void 0};return function(value,column,agg,search,strHandler,timezone){var format=column.settings.format,result=void 0;return result=_.isArray(value)?"["+_.map(value,formatValue(value,column.type,format,agg,strHandler,timezone)).join(", ")+"]":formatValue(value,column.type,format,agg,strHandler,timezone),result}}])}),define("modules/main/filters/groupByFilter",["./module","lodash"],function(filters,_){"use strict";return filters.filter("groupBy",["$parse",function($parse){return _.memoize(function(items,field){var getter=$parse(field);return _.groupBy(items,function(item){return getter(item)})})}])}),define("modules/main/filters/pickerFilter",["./module","moment"],function(filters,moment){"use strict";return filters.filter("pickerFilter",["$filter",function($filter){return function(value,filterName,numberFormat){if("-9223372036854775808"==value+""||null===value)return"<span class='null-value'>\xD8</span>";if("boolean"==typeof value)return value?"Yes":"No";if("undefined"!=typeof value&&"undefined"!=typeof filterName)switch(filterName.type){case"number":return numberFormat?$filter("numberFormatFilter")(value,1):$filter("number")(value,2);case"percent":return $filter("number")(value,2)+"%";case"currency":if(0>+value){var newValue=$filter("number")(Math.abs(value),filterName.decimal);return"-"==filterName.negative?numberFormat?"-"+filterName.symb+$filter("numberFormatFilter")(newValue,1):"-"+filterName.symb+newValue:numberFormat?filterName.symb+"("+$filter("numberFormatFilter")(newValue,1)+")":filterName.symb+"("+newValue+")"}return numberFormat?filterName.symb+""+$filter("numberFormatFilter")(value,filterName.decimal):filterName.symb+""+$filter("number")(value,filterName.decimal);case"financial":return $filter("financialFilter")(+value);case"date":if(-1==value.indexOf("T")){if(-1!=value.indexOf("Z"))return moment(value,"HH:mm:ssZ").format(filterName.format);value=parseInt(value)}return moment(value).format(filterName.format);case"lat-lon":return $filter("locationLatLonFilter")(value);case"codes":return $filter("locationCodesFilter")(value);default:return numberFormat?$filter("numberFormatFilter")(value,1):value;}else return"undefined"==typeof value?"<span class=\"null-value\">&Oslash;</span>":value}}])}),define("modules/main/filters/searchFilterWithCallback",["./module"],function(filters){"use strict";return filters.filter("searchFilterWithCallback",["$filter",function(){return function(items,text,callback){if(text&&text.name){var result=items.filter(function(item){return item.name.toLowerCase().includes(text.name.toLowerCase())});return callback&&callback(result),result}return items}}])}),define("modules/main/filters/index",["./size","./financialFilter","./errorValueDescriptionFilter","./numberFilter","./locationCodesFilter","./locationLatLonFilter","./numberFormatFilter","./fixedIfFloatFilter","./formatCell","./groupByFilter","./pickerFilter","./searchFilterWithCallback"],function(){}),define("modules/main/module",["angular","angular-cookies","angular-file-upload","angular-dropdown-multiselect","angular-elastic-input","angular-svg-round-progressbar","ui-codemirror","codemirror","codemirror/mode/sql/sql","codemirror/addon/display/autorefresh","codemirror/addon/hint/show-hint","codemirror/addon/mode/simple","codemirror/addon/custom/bnf","codemirror/addon/lint/lint","codemirror/addon/edit/matchbrackets","moment-timezone-with-data","angular-ui-select","json-formatter","pluralize","numericInput","angular-cron-jobs","tag-context-menu","cached-templates/templates-include","cached-templates/templates-main","modules/main/controllers/index","modules/main/directives/index","modules/main/services/index","modules/main/filters/index"],function(ng){"use strict";return ng.module("app.index",["templates-include","templates-main","ngCookies","angularFileUpload","angularjs-dropdown-multiselect","ui.codemirror","rzModule","angular-sortable-view","ui.select","jsonFormatter","angular-clipboard","angular-cron-jobs","puElasticInput","app.main.controllers","app.main.directives","app.main.services","app.main.filters"])});
//# sourceMappingURL=../../maps/modules/main/module.js.map
