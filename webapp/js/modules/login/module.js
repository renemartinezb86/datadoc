var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&'function'==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?'symbol':typeof obj};function _classCallCheck2(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return call&&('object'==typeof call||'function'==typeof call)?call:self}function _inherits2(subClass,superClass){if('function'!=typeof superClass&&null!==superClass)throw new TypeError('Super expression must either be null or a function, not '+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}return info.done?void resolve(value):Promise.resolve(value).then(function(value){step('next',value)},function(err){step('throw',err)})}return step('next')})}}define('cached-templates/templates-auth',['angular'],function(angular){'use strict';return angular.module('templates-auth',[]).run(['$templateCache',function($templateCache){$templateCache.put('/static/templates/auth/forgot-password.html','<section class=login-panel> <div class="forgot-password-content-wrapper col-lg-offset-4 col-lg-4 col-md-offset-4 col-md-4"> <div class=content> <form ng-submit=sendPasswordResetNotification()> <div class="panel panel-default"> <div class=panel-heading> <h3 ng-show=sent class=panel-title>Password reset link sent to email</h3> <h3 ng-show=!sent class=panel-title>Forgot Password</h3> </div> <div class=panel-body> <div class=panel-content-wrapper> <section ng-show=!sent> <input id=email-input ng-model=email placeholder=Email class=form-control autofocus> </section> <section ng-show=!sent class=sign-in-button-wrapper> <button type=submit class="btn btn-primary-cstm sign-in" ladda=sending>Next</button> </section> <section> <a ui-sref=auth.login class="pull-right forgot-password">Sign in</a> </section> </div> </div> </div> </form> </div> </div> </section> '),$templateCache.put('/static/templates/auth/index.html','<div class="navbar-wrapper navbar-auth"> <nav class="navbar navbar-inverse navbar-fixed-top" role=navigation> <div class=navbar-header> <a class=navbar-brand ui-sref=auth.login></a> </div> </nav> </div> <div class=auth-logo-wrapper> <div class=brand-logo></div> </div> <div ui-view></div>'),$templateCache.put('/static/templates/auth/login.html','<section class=login-panel> <div class="login-content-wrapper col-lg-offset-4 col-lg-4 col-md-offset-4 col-md-4"> <div class=content> <form ng-submit=signIn()> <div class="panel panel-default"> <div class=panel-heading> <h3 class=panel-title>Sign in to Datadocs</h3> </div> <div class=panel-body> <div class=panel-content-wrapper> <section> <input id=email-input ng-model=login placeholder=Email class=form-control aria-describedby=login-addon autocorrect=off autocapitalize=none> </section> <section> <input type=password ng-model=password placeholder=Password class=form-control aria-describedby=password-addon autocorrect=off autocapitalize=none> </section> <section class=error-section ng-show=error> <div class=error ng-bind=error></div> </section> <section class=sign-in-button-wrapper> <button type=submit class="btn btn-primary-cstm sign-in" ladda=signingIn>Sign in</button> </section> <section> <a ui-sref=auth.forgot-password class="forgot-password pull-right">Forgot password?</a> </section> </div> </div> </div> </form> </div> </div> <div class=revision>build: 8fd241f, Fri Jun 01 2018 08:06:21 </div> </section> '),$templateCache.put('/static/templates/auth/register.html','<section class=login-panel> <div class="register-content-wrapper col-lg-offset-4 col-lg-4 col-md-offset-4 col-md-4"> <div class=content> <div class="panel panel-default"> <div class=panel-heading> <h3 class=panel-title>Register</h3> </div> <div class=panel-body> <br> <section class=margin10> <div class=input-group> <span class=input-group-addon id=fullname-addon><i class="fa fa-user"></i></span> <input ng-model=user.fullName placeholder="Full name" class=form-control aria-describedby=login-addon required autocorrect=off autocapitalize=none> </div> </section> <br> <section class=margin10> <div class=input-group> <span class=input-group-addon id=login-addon><i class="fa fa-user"></i></span> <input ng-model=user.email placeholder=Email class=form-control aria-describedby=login-addon required autocorrect=off autocapitalize=none> </div> </section> <br> <section class=margin10> <div class=input-group> <span class=input-group-addon id=password-addon><i class="fa fa-lock"></i></span> <input type=password ng-model=user.password placeholder=Password class=form-control aria-describedby=password-addon autocorrect=off autocapitalize=none> </div> </section> <br> <section class=margin10> <div class=input-group> <span class=input-group-addon id=confirm-password-addon><i class="fa fa-lock"></i></span> <input type=password ng-model=user.passwordConfirm placeholder="Confirm password" class=form-control aria-describedby=confirm-password-addon autocorrect=off autocapitalize=none> </div> </section> <br> <section class=margin10> <div class=input-group> <span class=input-group-addon><i class="fa fa-file-image-o"></i></span> <input type=file id=user-image-choose nv-file-select uploader=uploader aria-describedby=image-addon style=display:none> <label for=user-image-choose class="form-control image-choosing" ng-class="{\'placeholder\': !user.image}"> {{user.image ? user.image.file.name : \'Choose your profile image\'}} </label> </div> </section> </div> <div class="panel-footer clearfix"> <a ui-sref=auth.login class=pull-left style=margin:6px>Sign in</a> <span class=pull-right> <button class="btn btn-primary-cstm" ng-click=submit() ladda=isUploading>Register</button> </span> </div> </div> </div> </div> </section> '),$templateCache.put('/static/templates/auth/reset-password.html','<section class="row login-panel"> <div class="col-lg-offset-4 col-lg-4 col-md-offset-4 col-md-4"> <div class=content> <form ng-submit=resetPassword()> <div class=well ng-show=reset> Password has been reset successfully. You may proceed to <a ui-sref=auth.login>login</a> now. </div> <div class="panel panel-default" ng-show=!reset> <div class=panel-heading> <h3 class=panel-title>Reset Password</h3> </div> <div class=panel-body> <br> <div> <section class=margin10> <div class=input-group> <span class=input-group-addon><i class="fa fa-lock"></i></span> <input type=password ng-model=password placeholder=Password class=form-control> </div> <br> </section> <section class=margin10> <div class=input-group> <span class=input-group-addon><i class="fa fa-lock"></i></span> <input type=password ng-model=passwordConfirm placeholder="Confirm password" class=form-control> </div> </section> </div> </div> <div class="panel-footer clearfix"> <span class=pull-right> <button type=submit class="btn btn-primary-cstm">Reset</button> </span> </div> </div> </form> </div> </div> </section> ')}])}),function(root,factory){'object'===('undefined'==typeof exports?'undefined':_typeof(exports))&&'object'===('undefined'==typeof module?'undefined':_typeof(module))?module.exports=factory():'function'==typeof define&&define.amd?define('angular-file-upload',[],factory):'object'===('undefined'==typeof exports?'undefined':_typeof(exports))?exports['angular-file-upload']=factory():root['angular-file-upload']=factory()}(this,function(){var _Mathround=Math.round;return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p='',__webpack_require__(0)}([function(module,exports,__webpack_require__){'use strict';var _interopRequire=function(obj){return obj&&obj.__esModule?obj['default']:obj},CONFIG=_interopRequire(__webpack_require__(1)),options=_interopRequire(__webpack_require__(2)),serviceFileUploader=_interopRequire(__webpack_require__(3)),serviceFileLikeObject=_interopRequire(__webpack_require__(4)),serviceFileItem=_interopRequire(__webpack_require__(5)),serviceFileDirective=_interopRequire(__webpack_require__(6)),serviceFileSelect=_interopRequire(__webpack_require__(7)),serviceFileDrop=_interopRequire(__webpack_require__(8)),serviceFileOver=_interopRequire(__webpack_require__(9)),directiveFileSelect=_interopRequire(__webpack_require__(10)),directiveFileDrop=_interopRequire(__webpack_require__(11)),directiveFileOver=_interopRequire(__webpack_require__(12));angular.module(CONFIG.name,[]).value('fileUploaderOptions',options).factory('FileUploader',serviceFileUploader).factory('FileLikeObject',serviceFileLikeObject).factory('FileItem',serviceFileItem).factory('FileDirective',serviceFileDirective).factory('FileSelect',serviceFileSelect).factory('FileDrop',serviceFileDrop).factory('FileOver',serviceFileOver).directive('nvFileSelect',directiveFileSelect).directive('nvFileDrop',directiveFileDrop).directive('nvFileOver',directiveFileOver).run(['FileUploader','FileLikeObject','FileItem','FileDirective','FileSelect','FileDrop','FileOver',function(FileUploader,FileLikeObject,FileItem,FileDirective,FileSelect,FileDrop,FileOver){FileUploader.FileLikeObject=FileLikeObject,FileUploader.FileItem=FileItem,FileUploader.FileDirective=FileDirective,FileUploader.FileSelect=FileSelect,FileUploader.FileDrop=FileDrop,FileUploader.FileOver=FileOver}])},function(module){module.exports={name:'angularFileUpload'}},function(module){'use strict';module.exports={url:'/',alias:'file',headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:'POST',filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1}},function(module,exports,__webpack_require__){'use strict';var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError('Cannot call a class as a function')},CONFIG=function _interopRequire(obj){return obj&&obj.__esModule?obj['default']:obj}(__webpack_require__(1)),copy=angular.copy,extend=angular.extend,forEach=angular.forEach,isObject=angular.isObject,isNumber=angular.isNumber,isDefined=angular.isDefined,isArray=angular.isArray,element=angular.element;module.exports=function(fileUploaderOptions,$rootScope,$http,$window,FileLikeObject,FileItem){var File=$window.File,FormData=$window.FormData,FileUploader=function(){function FileUploader(options){_classCallCheck(this,FileUploader);var settings=copy(fileUploaderOptions);extend(this,settings,options,{isUploading:!1,_nextIndex:0,_failFilterIndex:-1,_directives:{select:[],drop:[],over:[]}}),this.filters.unshift({name:'queueLimit',fn:this._queueLimitFilter}),this.filters.unshift({name:'folder',fn:this._folderFilter})}return _createClass(FileUploader,{addToQueue:{value:function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(files,options,filters){var _this,list,arrayOfFilters,count,addedFileItems;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_this=this,list=this.isArrayLikeObject(files)?files:[files],arrayOfFilters=this._getFilters(filters),count=this.queue.length,addedFileItems=[],forEach(list,function(some,i){var temp=new FileLikeObject(some),specificOptions=Array.isArray(options)?options[i]:options;if(_this._isValidFile(temp,arrayOfFilters,specificOptions)){var fileItem=new FileItem(_this,some);addedFileItems.push(fileItem),_this.queue.push(fileItem),_this._onAfterAddingFile(fileItem,specificOptions)}else{var filter=arrayOfFilters[_this._failFilterIndex];_this._onWhenAddingFileFailed(temp,filter,specificOptions)}}),this.queue.length===count){_context.next=11;break}return _context.next=9,this._waitBeforeStartUploading(addedFileItems);case 9:this._onAfterAddingAll(addedFileItems),this.progress=this._getTotalProgress();case 11:this._render(),this.autoUpload&&this.uploadAll();case 13:case'end':return _context.stop();}},_callee,this)}));return function(){return _ref.apply(this,arguments)}}()},removeFromQueue:{value:function(value){var index=this.getIndexOfItem(value),item=this.queue[index];item.isUploading&&item.cancel(),this.queue.splice(index,1),item._destroy(),this.progress=this._getTotalProgress()}},clearQueue:{value:function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}},uploadItem:{value:function(value){var transport,index=this.getIndexOfItem(value),item=this.queue[index];transport=this.customTransport?'_customTransport':this.isHTML5?'_xhrTransport':'_iframeTransport',item._prepareToUploading(),item.isUploading||(this.isUploading=!0,this[transport](item))}},cancelItem:{value:function(value){var prop,index=this.getIndexOfItem(value),item=this.queue[index];prop=this.customTransport?'_customProp':this.isHTML5?'_xhr':'_form',item&&item.isUploading&&item[prop].abort()}},uploadAll:{value:function(){var items=this.getNotUploadedItems().filter(function(item){return!item.isUploading});items.length&&(forEach(items,function(item){return item.upload()}),items[0].upload())}},cancelAll:{value:function(){var items=this.getNotUploadedItems();forEach(items,function(item){return item.cancel()})}},isFile:{value:function(value){return this.constructor.isFile(value)}},isFileLikeObject:{value:function(value){return this.constructor.isFileLikeObject(value)}},isArrayLikeObject:{value:function(value){return this.constructor.isArrayLikeObject(value)}},getIndexOfItem:{value:function(value){return isNumber(value)?value:this.queue.indexOf(value)}},getNotUploadedItems:{value:function(){return this.queue.filter(function(item){return!item.isUploaded})}},getUploadingItems:{value:function(){return this.queue.filter(function(item){return item.isUploading})}},destroy:{value:function(){var _this=this;forEach(this._directives,function(key){forEach(_this._directives[key],function(object){object.destroy()})})}},onAfterAddingAll:{value:function(){}},waitBeforeStartUploading:{value:function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:case'end':return _context2.stop();}},_callee2,this)}));return function(){return _ref2.apply(this,arguments)}}()},onAfterAddingFile:{value:function(){}},onWhenAddingFileFailed:{value:function(){}},onBeforeUploadItem:{value:function(){}},onProgressItem:{value:function(){}},onProgressAll:{value:function(){}},onSuccessItem:{value:function(){}},onErrorItem:{value:function(){}},onCancelItem:{value:function(){}},onCompleteItem:{value:function(){}},onCompleteAll:{value:function(){}},_getTotalProgress:{value:function(value){if(this.removeAfterUpload)return value||0;var notUploaded=this.getNotUploadedItems().length,uploaded=notUploaded?this.queue.length-notUploaded:this.queue.length,ratio=100/this.queue.length;return _Mathround(uploaded*ratio+(value||0)*ratio/100)}},_getFilters:{value:function(filters){if(!filters)return this.filters;if(isArray(filters))return filters;var names=filters.match(/[^\s,]+/g);return this.filters.filter(function(filter){return-1!==names.indexOf(filter.name)})}},_render:{value:function(){$rootScope.$$phase||$rootScope.$apply()}},_folderFilter:{value:function(item){return!!(item.size||item.type)}},_queueLimitFilter:{value:function(){return this.queue.length<this.queueLimit}},_isValidFile:{value:function(file,filters,options){var _this=this;return this._failFilterIndex=-1,!filters.length||filters.every(function(filter){return _this._failFilterIndex++,filter.fn.call(_this,file,options)})}},_isSuccessCode:{value:function(status){return 200<=status&&300>status||304===status}},_transformResponse:{value:function(response,headers){var headersGetter=this._headersGetter(headers);return forEach($http.defaults.transformResponse,function(transformFn){response=transformFn(response,headersGetter)}),response}},_parseHeaders:{value:function(headers){var key,val,i,parsed={};return headers?(forEach(headers.split('\n'),function(line){i=line.indexOf(':'),key=line.slice(0,i).trim().toLowerCase(),val=line.slice(i+1).trim(),key&&(parsed[key]=parsed[key]?parsed[key]+', '+val:val)}),parsed):parsed}},_headersGetter:{value:function(parsedHeaders){return function(name){return name?parsedHeaders[name.toLowerCase()]||null:parsedHeaders}}},_customTransport:{value:function(item){var _this=this;this.customTransport({_fileUploaderContext:_this,item:item}),this._render()}},_xhrTransport:{value:function(item){var _this=this,xhr=item._xhr=new XMLHttpRequest,form=new FormData;if(this._onBeforeUploadItem(item),forEach(item.formData,function(obj){forEach(obj,function(value,key){form.append(key,value)})}),'number'!=typeof item._file.size)throw new TypeError('The file specified is no longer valid');form.append(item.alias,item._file,item.file.name),xhr.upload.onprogress=function(event){var progress=_Mathround(event.lengthComputable?100*event.loaded/event.total:0);_this._onProgressItem(item,progress)},xhr.onload=function(){var headers=_this._parseHeaders(xhr.getAllResponseHeaders()),response=_this._transformResponse(xhr.response,headers),gist=_this._isSuccessCode(xhr.status)?'Success':'Error';_this['_on'+gist+'Item'](item,response,xhr.status,headers),_this._onCompleteItem(item,response,xhr.status,headers)},xhr.onerror=function(){var headers=_this._parseHeaders(xhr.getAllResponseHeaders()),response=_this._transformResponse(xhr.response,headers);_this._onErrorItem(item,response,xhr.status,headers),_this._onCompleteItem(item,response,xhr.status,headers)},xhr.onabort=function(){var headers=_this._parseHeaders(xhr.getAllResponseHeaders()),response=_this._transformResponse(xhr.response,headers);_this._onCancelItem(item,response,xhr.status,headers),_this._onCompleteItem(item,response,xhr.status,headers)},xhr.open(item.method,item.url,!0),xhr.withCredentials=item.withCredentials,forEach(item.headers,function(value,name){xhr.setRequestHeader(name,value)}),xhr.send(form),this._render()}},_iframeTransport:{value:function(item){var _this=this,form=element('<form style="display: none;" />'),iframe=element('<iframe name="iframeTransport'+Date.now()+'">'),input=item._input;item._form&&item._form.replaceWith(input),item._form=form,this._onBeforeUploadItem(item),input.prop('name',item.alias),forEach(item.formData,function(obj){forEach(obj,function(value,key){var element_=element('<input type="hidden" name="'+key+'" />');element_.val(value),form.append(element_)})}),form.prop({action:item.url,method:'POST',target:iframe.prop('name'),enctype:'multipart/form-data',encoding:'multipart/form-data'}),iframe.bind('load',function(){var html='',status=200;try{html=iframe[0].contentDocument.body.innerHTML}catch(e){status=500}var xhr={response:html,status:status,dummy:!0},headers={},response=_this._transformResponse(xhr.response,headers);_this._onSuccessItem(item,response,xhr.status,headers),_this._onCompleteItem(item,response,xhr.status,headers)}),form.abort=function(){var response,xhr={status:0,dummy:!0},headers={};iframe.unbind('load').prop('src','javascript:false;'),form.replaceWith(input),_this._onCancelItem(item,response,xhr.status,headers),_this._onCompleteItem(item,response,xhr.status,headers)},input.after(form),form.append(input).append(iframe),form[0].submit(),this._render()}},_onWhenAddingFileFailed:{value:function(item,filter,options){this.onWhenAddingFileFailed(item,filter,options)}},_onAfterAddingFile:{value:function(item,options){this.onAfterAddingFile(item,options)}},_onAfterAddingAll:{value:function(items){this.onAfterAddingAll(items)}},_waitBeforeStartUploading:{value:function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark(function _callee3(items){return regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,this.waitBeforeStartUploading(items);case 2:case'end':return _context3.stop();}},_callee3,this)}));return function(){return _ref3.apply(this,arguments)}}()},_onBeforeUploadItem:{value:function(item){item._onBeforeUpload(),this.onBeforeUploadItem(item)}},_onProgressItem:{value:function(item,progress){var total=this._getTotalProgress(progress);this.progress=total,item._onProgress(progress),this.onProgressItem(item,progress),this.onProgressAll(total),this._render()}},_onSuccessItem:{value:function(item,response,status,headers){item._onSuccess(response,status,headers),this.onSuccessItem(item,response,status,headers)}},_onErrorItem:{value:function(item,response,status,headers){item._onError(response,status,headers),this.onErrorItem(item,response,status,headers)}},_onCancelItem:{value:function(item,response,status,headers){item._onCancel(response,status,headers),this.onCancelItem(item,response,status,headers)}},_onCompleteItem:{value:function(item,response,status,headers){item._onComplete(response,status,headers),this.onCompleteItem(item,response,status,headers);var currentlyUploadingItems=this.getUploadingItems();0<currentlyUploadingItems.length||(this.isUploading=!1,this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}}},{isFile:{value:function(value){return File&&value instanceof File}},isFileLikeObject:{value:function(value){return value instanceof FileLikeObject}},isArrayLikeObject:{value:function(value){return isObject(value)&&'length'in value}},inherit:{value:function(target,source){target.prototype=Object.create(source.prototype),target.prototype.constructor=target,target.super_=source}}}),FileUploader}();return FileUploader.prototype.isHTML5=!!(File&&FormData),FileUploader.isHTML5=FileUploader.prototype.isHTML5,FileUploader},module.exports.$inject=['fileUploaderOptions','$rootScope','$http','$window','FileLikeObject','FileItem']},function(module,exports,__webpack_require__){'use strict';var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError('Cannot call a class as a function')},CONFIG=function _interopRequire(obj){return obj&&obj.__esModule?obj['default']:obj}(__webpack_require__(1)),copy=angular.copy,isElement=angular.isElement,isString=angular.isString;module.exports=function(){var FileLikeObject=function(){function FileLikeObject(fileOrInput){_classCallCheck(this,FileLikeObject);var isInput=isElement(fileOrInput),fakePathOrObject=isInput?fileOrInput.value:fileOrInput,postfix=isString(fakePathOrObject)?'FakePath':'Object';this['_createFrom'+postfix](fakePathOrObject)}return _createClass(FileLikeObject,{_createFromFakePath:{value:function(path){this.lastModifiedDate=null,this.size=null,this.type='like/'+path.slice(path.lastIndexOf('.')+1).toLowerCase(),this.name=path.slice(path.lastIndexOf('/')+path.lastIndexOf('\\')+2)}},_createFromObject:{value:function(object){this.lastModifiedDate=copy(object.lastModifiedDate),this.size=object.size,this.type=object.type,this.name=object.name}}}),FileLikeObject}();return FileLikeObject},module.exports.$inject=[]},function(module,exports,__webpack_require__){'use strict';var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError('Cannot call a class as a function')},CONFIG=function _interopRequire(obj){return obj&&obj.__esModule?obj['default']:obj}(__webpack_require__(1)),copy=angular.copy,extend=angular.extend,element=angular.element,isElement=angular.isElement;module.exports=function($compile,FileLikeObject){var FileItem=function(){function FileItem(uploader,some,options){_classCallCheck(this,FileItem);var isInput=isElement(some),input=isInput?element(some):null,file=isInput?null:some;extend(this,{url:uploader.url,alias:uploader.alias,headers:copy(uploader.headers),formData:copy(uploader.formData),removeAfterUpload:uploader.removeAfterUpload,withCredentials:uploader.withCredentials,method:uploader.method},options,{uploader:uploader,file:new FileLikeObject(some),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:file,_input:input}),input&&this._replaceNode(input)}return _createClass(FileItem,{upload:{value:function(){try{this.uploader.uploadItem(this)}catch(e){this.uploader._onCompleteItem(this,'',0,[]),this.uploader._onErrorItem(this,'',0,[])}}},cancel:{value:function(){this.uploader.cancelItem(this)}},remove:{value:function(){this.uploader.removeFromQueue(this)}},onBeforeUpload:{value:function(){}},onProgress:{value:function(){}},onSuccess:{value:function(){}},onError:{value:function(){}},onCancel:{value:function(){}},onComplete:{value:function(){}},_onBeforeUpload:{value:function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}},_onProgress:{value:function(progress){this.progress=progress,this.onProgress(progress)}},_onSuccess:{value:function(response,status,headers){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=null,this.onSuccess(response,status,headers)}},_onError:{value:function(response,status,headers){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onError(response,status,headers)}},_onCancel:{value:function(response,status,headers){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=null,this.onCancel(response,status,headers)}},_onComplete:{value:function(response,status,headers){this.onComplete(response,status,headers),this.removeAfterUpload&&this.remove()}},_destroy:{value:function(){this._input&&this._input.remove(),this._form&&this._form.remove(),delete this._form,delete this._input}},_prepareToUploading:{value:function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}},_replaceNode:{value:function(input){var clone=$compile(input.clone())(input.scope());clone.prop('value',null),input.css('display','none'),input.after(clone)}}}),FileItem}();return FileItem},module.exports.$inject=['$compile','FileLikeObject']},function(module,exports,__webpack_require__){'use strict';var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError('Cannot call a class as a function')},CONFIG=function _interopRequire(obj){return obj&&obj.__esModule?obj['default']:obj}(__webpack_require__(1)),extend=angular.extend;module.exports=function(){var FileDirective=function(){function FileDirective(options){_classCallCheck(this,FileDirective),extend(this,options),this.uploader._directives[this.prop].push(this),this._saveLinks(),this.bind()}return _createClass(FileDirective,{bind:{value:function(){for(var key in this.events){var prop=this.events[key];this.element.bind(key,this[prop])}}},unbind:{value:function(){for(var key in this.events)this.element.unbind(key,this.events[key])}},destroy:{value:function(){var index=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(index,1),this.unbind()}},_saveLinks:{value:function(){for(var key in this.events){var prop=this.events[key];this[prop]=this[prop].bind(this)}}}}),FileDirective}();return FileDirective.prototype.events={},FileDirective},module.exports.$inject=[]},function(module,exports,__webpack_require__){'use strict';var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===void 0){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if('value'in desc&&desc.writable)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)},_inherits=function(subClass,superClass){if('function'!=typeof superClass&&null!==superClass)throw new TypeError('Super expression must either be null or a function, not '+('undefined'==typeof superClass?'undefined':_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.__proto__=superClass)},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError('Cannot call a class as a function')},CONFIG=function _interopRequire(obj){return obj&&obj.__esModule?obj['default']:obj}(__webpack_require__(1)),extend=angular.extend;module.exports=function(FileDirective){var FileSelect=function(_FileDirective){function FileSelect(options){_classCallCheck(this,FileSelect);var extendedOptions=extend(options,{events:{$destroy:'destroy',change:'onChange'},prop:'select'});_get(Object.getPrototypeOf(FileSelect.prototype),'constructor',this).call(this,extendedOptions),this.uploader.isHTML5||this.element.removeAttr('multiple'),this.element.prop('value',null)}return _inherits(FileSelect,_FileDirective),_createClass(FileSelect,{getOptions:{value:function(){}},getFilters:{value:function(){}},isEmptyAfterSelection:{value:function(){return!!this.element.attr('multiple')}},onChange:{value:function(){var _ref4=_asyncToGenerator(regeneratorRuntime.mark(function _callee4(){var files,options,filters;return regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return files=this.uploader.isHTML5?this.element[0].files:this.element[0],options=this.getOptions(),filters=this.getFilters(),this.uploader.isHTML5||this.destroy(),_context4.next=6,this.uploader.addToQueue(files,options,filters);case 6:this.isEmptyAfterSelection()&&(this.element.prop('value',null),this.element.replaceWith(this.element=this.element.clone(!0)));case 7:case'end':return _context4.stop();}},_callee4,this)}));return function(){return _ref4.apply(this,arguments)}}()}}),FileSelect}(FileDirective);return FileSelect},module.exports.$inject=['FileDirective']},function(module,exports,__webpack_require__){'use strict';var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===void 0){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if('value'in desc&&desc.writable)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)},_inherits=function(subClass,superClass){if('function'!=typeof superClass&&null!==superClass)throw new TypeError('Super expression must either be null or a function, not '+('undefined'==typeof superClass?'undefined':_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.__proto__=superClass)},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError('Cannot call a class as a function')},CONFIG=function _interopRequire(obj){return obj&&obj.__esModule?obj['default']:obj}(__webpack_require__(1)),extend=angular.extend,forEach=angular.forEach;module.exports=function(FileDirective){var FileDrop=function(_FileDirective){function FileDrop(options){_classCallCheck(this,FileDrop);var extendedOptions=extend(options,{events:{$destroy:'destroy',drop:'onDrop',dragover:'onDragOver',dragleave:'onDragLeave'},prop:'drop'});_get(Object.getPrototypeOf(FileDrop.prototype),'constructor',this).call(this,extendedOptions)}return _inherits(FileDrop,_FileDirective),_createClass(FileDrop,{getOptions:{value:function(){}},getFilters:{value:function(){}},onDrop:{value:function(){var _ref5=_asyncToGenerator(regeneratorRuntime.mark(function _callee7(event){var options,filters,errorHandler,toArray,getAllEntries,transfer,that,readDirectory=function(){var _ref6=_asyncToGenerator(regeneratorRuntime.mark(function _callee5(entries,fileCallback,parentFolder){var createFileObjectPromiseList,i,e,entry,directoryReader,createFileObjectPromise,files;return regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:createFileObjectPromiseList=[],i=0;case 2:if(!(i<entries.length)){_context5.next=19;break}if(e=entries[i],e.webkitGetAsEntry&&(e=e.webkitGetAsEntry()),!e.isDirectory){_context5.next=14;break}if(!_.startsWith(e.name,'.')){_context5.next=10;break}return _context5.abrupt('continue',16);case 10:entry=e,options.createFolderCallback?options.createFolderCallback(entry.name,parentFolder,function(folder){var directoryReader=entry.createReader();getAllEntries(directoryReader,function(es){readDirectory(es,fileCallback,folder.id)})}):(directoryReader=entry.createReader(),getAllEntries(directoryReader,function(es){readDirectory(es,fileCallback,parentFolder)}));case 12:_context5.next=16;break;case 14:createFileObjectPromise=new Promise(function(resolve){var onError=function(e){errorHandler(e),resolve()};e.file(function onSuccess(f){resolve(f,parentFolder)},onError)}),createFileObjectPromiseList.push(createFileObjectPromise);case 16:i++,_context5.next=2;break;case 19:return _context5.next=21,Promise.all(createFileObjectPromiseList);case 21:files=_context5.sent,_.size(files)&&fileCallback(files,parentFolder);case 23:case'end':return _context5.stop();}},_callee5,this)}));return function(){return _ref6.apply(this,arguments)}}();return regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(getAllEntries=function(directoryReader,callback){var entries=[],readEntries=function(){directoryReader.readEntries(function(results){entries=_.remove(entries,function(item){return!_.startsWith(item.name,'.')}),results.length?(entries=entries.concat(toArray(results)),readEntries()):(entries.sort(),callback(entries))},errorHandler)};readEntries()},toArray=function(list){return Array.prototype.slice.call(list||[],0)},errorHandler=function(e){console.log('FileSystem API error code: '+e.code)},this._preventAndStop(event),options=this.getOptions(),filters=this.getFilters(),transfer=this._getTransfer(event),transfer){_context7.next=9;break}return _context7.abrupt('return');case 9:if(forEach(this.uploader._directives.over,this._removeOverClass,this),that=this,!transfer.items){_context7.next=16;break}return _context7.next=14,readDirectory(transfer.items,function(){var _ref7=_asyncToGenerator(regeneratorRuntime.mark(function _callee6(file,parentFolder){return regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,that.uploader.addToQueue(file,_.merge({},options,{parentFolder:parentFolder}),filters);case 2:case'end':return _context6.stop();}},_callee6,this)}));return function(){return _ref7.apply(this,arguments)}}());case 14:_context7.next=18;break;case 16:return _context7.next=18,this.uploader.addToQueue(transfer.files,options,filters);case 18:case'end':return _context7.stop();}},_callee7,this)}));return function(){return _ref5.apply(this,arguments)}}()},onDragOver:{value:function(event){var transfer=this._getTransfer(event);this._haveFiles(transfer.types)&&(transfer.dropEffect='copy',this._preventAndStop(event),forEach(this.uploader._directives.over,this._addOverClass,this))}},onDragLeave:{value:function(event){event.currentTarget===this.element[0]||(this._preventAndStop(event),forEach(this.uploader._directives.over,this._removeOverClass,this))}},_getTransfer:{value:function(event){return event.dataTransfer?event.dataTransfer:event.originalEvent.dataTransfer}},_preventAndStop:{value:function(event){event.preventDefault(),event.stopPropagation()}},_haveFiles:{value:function(types){return!!types&&(types.indexOf?-1!==types.indexOf('Files'):!!types.contains&&types.contains('Files'))}},_addOverClass:{value:function(item){item.addOverClass()}},_removeOverClass:{value:function(item){item.removeOverClass()}}}),FileDrop}(FileDirective);return FileDrop},module.exports.$inject=['FileDirective']},function(module,exports,__webpack_require__){'use strict';var _createClass=function(){function defineProperties(target,props){for(var key in props){var prop=props[key];prop.configurable=!0,prop.value&&(prop.writable=!0)}Object.defineProperties(target,props)}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===void 0){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if('value'in desc&&desc.writable)return desc.value;var getter=desc.get;return void 0===getter?void 0:getter.call(receiver)},_inherits=function(subClass,superClass){if('function'!=typeof superClass&&null!==superClass)throw new TypeError('Super expression must either be null or a function, not '+('undefined'==typeof superClass?'undefined':_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.__proto__=superClass)},_classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError('Cannot call a class as a function')},CONFIG=function _interopRequire(obj){return obj&&obj.__esModule?obj['default']:obj}(__webpack_require__(1)),extend=angular.extend;module.exports=function(FileDirective){var FileOver=function(_FileDirective){function FileOver(options){_classCallCheck(this,FileOver);var extendedOptions=extend(options,{events:{$destroy:'destroy'},prop:'over',overClass:'nv-file-over'});_get(Object.getPrototypeOf(FileOver.prototype),'constructor',this).call(this,extendedOptions)}return _inherits(FileOver,_FileDirective),_createClass(FileOver,{addOverClass:{value:function(){this.element.addClass(this.getOverClass())}},removeOverClass:{value:function(){this.element.removeClass(this.getOverClass())}},getOverClass:{value:function(){return this.overClass}}}),FileOver}(FileDirective);return FileOver},module.exports.$inject=['FileDirective']},function(module,exports,__webpack_require__){'use strict';(function _interopRequire(obj){return obj&&obj.__esModule?obj['default']:obj})(__webpack_require__(1));module.exports=function($parse,FileUploader,FileSelect){return{link:function link(scope,element,attributes){var uploader=scope.$eval(attributes.uploader);if(!(uploader instanceof FileUploader))throw new TypeError('"Uploader" must be an instance of FileUploader');var object=new FileSelect({uploader:uploader,element:element});object.getOptions=$parse(attributes.options).bind(object,scope),object.getFilters=function(){return attributes.filters}}}},module.exports.$inject=['$parse','FileUploader','FileSelect']},function(module,exports,__webpack_require__){'use strict';(function _interopRequire(obj){return obj&&obj.__esModule?obj['default']:obj})(__webpack_require__(1));module.exports=function($parse,FileUploader,FileDrop){return{link:function link(scope,element,attributes){var uploader=scope.$eval(attributes.uploader);if(!(uploader instanceof FileUploader))throw new TypeError('"Uploader" must be an instance of FileUploader');if(uploader.isHTML5){var object=new FileDrop({uploader:uploader,element:element});object.getOptions=$parse(attributes.options).bind(object,scope),object.getFilters=function(){return attributes.filters}}}}},module.exports.$inject=['$parse','FileUploader','FileDrop']},function(module,exports,__webpack_require__){'use strict';(function _interopRequire(obj){return obj&&obj.__esModule?obj['default']:obj})(__webpack_require__(1));module.exports=function(FileUploader,FileOver){return{link:function link(scope,element,attributes){var uploader=scope.$eval(attributes.uploader);if(!(uploader instanceof FileUploader))throw new TypeError('"Uploader" must be an instance of FileUploader');var object=new FileOver({uploader:uploader,element:element});object.getOverClass=function(){return attributes.overClass||object.overClass}}}},module.exports.$inject=['FileUploader','FileOver']}])});define('modules/login/controllers/module',['angular','angular-file-upload'],function(ng){'use strict';return ng.module('app.login.controllers',['angularFileUpload'])}),define('modules/login/controllers/loginCtrl',['./module','jquery','ladda','lodash'],function(controllers,jquery,ladda,_){'use strict';controllers.controller('loginCtrl',['$scope','$rootScope','$http','$state','User','$stateParams',function($scope,$rootScope,$http,$state,User,$stateParams){$scope.error=void 0,$scope.signingIn=!1,$scope.signIn=function(anon){$scope.signingIn=!0,User.signIn($scope.login,$scope.password,anon).then(function(){var nextPage=$rootScope.nextPageAfterLogin;if($stateParams.state&&$stateParams.param){var params=_.reduce(_.chunk($stateParams.param.split(':'),2),function(acc,val){return acc||(acc={}),acc[val[0]]=val[1],acc},{});$state.go($stateParams.state,params)}else nextPage?($rootScope.nextPageAfterLogin=null,$state.go(nextPage.name,nextPage.params)):$state.go('main')},function(){$scope.signingIn=!1,$scope.error='Incorrect login or password'})},$('#email-input').focus()}])});(function(global,factory){'object'===('undefined'==typeof exports?'undefined':_typeof(exports))&&'undefined'!=typeof module?module.exports=factory():'function'==typeof define&&define.amd?define('moment',factory):global.moment=factory()})(this,function(){'use strict';function utils_hooks__hooks(){return hookCallback.apply(null,arguments)}function isArray(input){return'[object Array]'===Object.prototype.toString.call(input)}function isDate(input){return input instanceof Date||'[object Date]'===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,'toString')&&(a.toString=b.toString),hasOwnProp(b,'valueOf')&&(a.valueOf=b.valueOf),a}function create_utc__createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function getParsingFlags(m){return null==m._pf&&(m._pf=defaultParsingFlags()),m._pf}function valid__isValid(m){if(null==m._isValid){var flags=getParsingFlags(m);m._isValid=!isNaN(m._d.getTime())&&0>flags.overflow&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated,m._strict&&(m._isValid=m._isValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&flags.bigHour===void 0)}return m._isValid}function valid__createInvalid(flags){var m=create_utc__createUTC(NaN);return null==flags?getParsingFlags(m).userInvalidated=!0:extend(getParsingFlags(m),flags),m}function isUndefined(input){return void 0===input}function copyConfig(to,from){var i,prop,val;if(isUndefined(from._isAMomentObject)||(to._isAMomentObject=from._isAMomentObject),isUndefined(from._i)||(to._i=from._i),isUndefined(from._f)||(to._f=from._f),isUndefined(from._l)||(to._l=from._l),isUndefined(from._strict)||(to._strict=from._strict),isUndefined(from._tzm)||(to._tzm=from._tzm),isUndefined(from._isUTC)||(to._isUTC=from._isUTC),isUndefined(from._offset)||(to._offset=from._offset),isUndefined(from._pf)||(to._pf=getParsingFlags(from)),isUndefined(from._locale)||(to._locale=from._locale),0<momentProperties.length)for(i in momentProperties)prop=momentProperties[i],val=from[prop],isUndefined(val)||(to[prop]=val);return to}function Moment(config){copyConfig(this,config),this._d=new Date(null==config._d?NaN:config._d.getTime()),!1===updateInProgress&&(updateInProgress=!0,utils_hooks__hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return 0>number?_Mathceil(number):_Mathfloor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!=coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=_Mathmin(array1.length,array2.length),lengthDiff=_Mathabs(array1.length-array2.length),diffs=0;for(i=0;i<len;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function Locale(){}function normalizeLocale(key){return key?key.toLowerCase().replace('_','-'):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(split=normalizeLocale(names[i]).split('-'),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split('-'):null;0<j;){if(locale=loadLocale(split.slice(0,j).join('-')),locale)return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&'undefined'!=typeof module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require('./locale/'+name),locale_locales__getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function locale_locales__getSetGlobalLocale(key,values){var data;return key&&(data=isUndefined(values)?locale_locales__getLocale(key):defineLocale(key,values),data&&(globalLocale=data)),globalLocale._abbr}function defineLocale(name,values){return null===values?(delete locales[name],null):(values.abbr=name,locales[name]=locales[name]||new Locale,locales[name].set(values),locale_locales__getSetGlobalLocale(name),locales[name])}function locale_locales__getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key),locale)return locale;key=[key]}return chooseLocale(key)}function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+'s']=aliases[shorthand]=unit}function normalizeUnits(units){return'string'==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function isFunction(input){return input instanceof Function||'[object Function]'===Object.prototype.toString.call(input)}function makeGetSet(unit,keepTime){return function(value){return null==value?get_set__get(this,unit):(get_set__set(this,unit,value),utils_hooks__hooks.updateOffset(this,keepTime),this)}}function get_set__get(mom,unit){return mom.isValid()?mom._d['get'+(mom._isUTC?'UTC':'')+unit]():NaN}function get_set__set(mom,unit,value){mom.isValid()&&mom._d['set'+(mom._isUTC?'UTC':'')+unit](value)}function getSet(units,value){if('object'===('undefined'==typeof units?'undefined':_typeof(units)))for(var unit in units)this.set(unit,units[unit]);else if(units=normalizeUnits(units),isFunction(this[units]))return this[units](value);return this}function zeroFill(number,targetLength,forceSign){var absNumber=''+_Mathabs(number),zerosToFill=targetLength-absNumber.length;return(0<=number?forceSign?'+':'':'-')+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}function addFormatToken(token,padded,ordinal,callback){var func=callback;'string'==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,''):input.replace(/\\/g,'')}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;i<length;i++)array[i]=formatTokenFunctions[array[i]]?formatTokenFunctions[array[i]]:removeFormattingTokens(array[i]);return function(mom){var output='';for(i=0;i<length;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;0<=i&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(unescapeFormat(token))}function unescapeFormat(s){return regexEscape(s.replace('\\','').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&')}function addParseToken(token,callback){var i,func=callback;for('string'==typeof token&&(token=[token]),'number'==typeof callback&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function setMonth(mom,value){var dayOfMonth;return mom.isValid()?'string'==typeof value&&(value=mom.localeData().monthsParse(value),'number'!=typeof value)?mom:(dayOfMonth=_Mathmin(mom.date(),daysInMonth(mom.year(),value)),mom._d['set'+(mom._isUTC?'UTC':'')+'Month'](value,dayOfMonth),mom):mom}function getSetMonth(value){return null==value?get_set__get(this,'Month'):(setMonth(this,value),utils_hooks__hooks.updateOffset(this,!0),this)}function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;12>i;i++)mom=create_utc__createUTC([2e3,i]),shortPieces.push(this.monthsShort(mom,'')),longPieces.push(this.months(mom,'')),mixedPieces.push(this.months(mom,'')),mixedPieces.push(this.monthsShort(mom,''));for(shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;12>i;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]),mixedPieces[i]=regexEscape(mixedPieces[i]);this._monthsRegex=new RegExp('^('+mixedPieces.join('|')+')','i'),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp('^('+longPieces.join('|')+')$','i'),this._monthsShortStrictRegex=new RegExp('^('+shortPieces.join('|')+')$','i')}function checkOverflow(m){var overflow,a=m._a;return a&&-2===getParsingFlags(m).overflow&&(overflow=0>a[MONTH]||11<a[MONTH]?MONTH:1>a[DATE]||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:0>a[HOUR]||24<a[HOUR]||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:0>a[MINUTE]||59<a[MINUTE]?MINUTE:0>a[SECOND]||59<a[SECOND]?SECOND:0>a[MILLISECOND]||999<a[MILLISECOND]?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)&&(overflow=DATE),getParsingFlags(m)._overflowWeeks&&-1===overflow&&(overflow=WEEK),getParsingFlags(m)._overflowWeekday&&-1===overflow&&(overflow=WEEKDAY),getParsingFlags(m).overflow=overflow),m}function warn(msg){!1===utils_hooks__hooks.suppressDeprecationWarnings&&'undefined'!=typeof console&&console.warn&&console.warn('Deprecation warning: '+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){return firstTime&&(warn(msg+'\nArguments: '+Array.prototype.slice.call(arguments).join(', ')+'\n'+new Error().stack),firstTime=!1),fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){deprecations[name]||(warn(msg),deprecations[name]=!0)}function configFromISO(config){var i,l,allowTime,dateFormat,timeFormat,tzFormat,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;i<l;i++)if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0],allowTime=!1!==isoDates[i][2];break}if(null==dateFormat)return void(config._isValid=!1);if(match[3]){for(i=0,l=isoTimes.length;i<l;i++)if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||' ')+isoTimes[i][0];break}if(null==timeFormat)return void(config._isValid=!1)}if(!allowTime&&null!=timeFormat)return void(config._isValid=!1);if(match[4])if(tzRegex.exec(match[4]))tzFormat='Z';else return void(config._isValid=!1);config._f=dateFormat+(timeFormat||'')+(tzFormat||''),configFromStringAndFormat(config)}else config._isValid=!1}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);return null===matched?void(configFromISO(config),!1===config._isValid&&(delete config._isValid,utils_hooks__hooks.createFromInputFallback(config))):void(config._d=new Date(+matched[1]))}function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return 100>y&&0<=y&&isFinite(date.getFullYear())&&date.setFullYear(y),date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return 100>y&&0<=y&&isFinite(date.getUTCFullYear())&&date.setUTCFullYear(y),date}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return 0==year%4&&0!=year%100||0==year%400}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy,fwdlw=(7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7;return-fwdlw+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var resYear,resDayOfYear,weekOffset=firstWeekOffset(year,dow,doy),dayOfYear=1+7*(week-1)+(7+weekday-dow)%7+weekOffset;return 0>=dayOfYear?(resYear=year-1,resDayOfYear=daysInYear(resYear)+dayOfYear):dayOfYear>daysInYear(year)?(resYear=year+1,resDayOfYear=dayOfYear-daysInYear(year)):(resYear=year,resDayOfYear=dayOfYear),{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var resWeek,resYear,weekOffset=firstWeekOffset(mom.year(),dow,doy),week=_Mathfloor((mom.dayOfYear()-weekOffset-1)/7)+1;return 1>week?(resYear=mom.year()-1,resWeek=week+weeksInYear(resYear,dow,doy)):week>weeksInYear(mom.year(),dow,doy)?(resWeek=week-weeksInYear(mom.year(),dow,doy),resYear=mom.year()+1):(resYear=mom.year(),resWeek=week),{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}function defaults(a,b,c){return null==a?null==b?c:b:a}function currentDateArray(config){var nowValue=new Date(utils_hooks__hooks.now());return config._useUTC?[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]:[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}function configFromArray(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:createDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;w=config._w,null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(local__createLocal(),1,4).year),week=defaults(w.W,1),weekday=defaults(w.E,1),(1>weekday||7<weekday)&&(weekdayOverflow=!0)):(dow=config._locale._week.dow,doy=config._locale._week.doy,weekYear=defaults(w.gg,config._a[YEAR],weekOfYear(local__createLocal(),dow,doy).year),week=defaults(w.w,1),null==w.d?null==w.e?weekday=dow:(weekday=w.e+dow,(0>w.e||6<w.e)&&(weekdayOverflow=!0)):(weekday=w.d,(0>weekday||6<weekday)&&(weekdayOverflow=!0))),1>week||week>weeksInYear(weekYear,dow,doy)?getParsingFlags(config)._overflowWeeks=!0:null==weekdayOverflow?(temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear):getParsingFlags(config)._overflowWeekday=!0}function configFromStringAndFormat(config){if(config._f===utils_hooks__hooks.ISO_8601)return void configFromISO(config);config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=''+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),0<skipped.length&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,0<string.length&&getParsingFlags(config).unusedInput.push(string),!0===getParsingFlags(config).bigHour&&12>=config._a[HOUR]&&0<config._a[HOUR]&&(getParsingFlags(config).bigHour=void 0),config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;return null==meridiem?hour:null==locale.meridiemHour?null==locale.isPM?hour:(isPm=locale.isPM(meridiem),isPm&&12>hour&&(hour+=12),isPm||12!==hour||(hour=0),hour):locale.meridiemHour(hour,meridiem)}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,void(config._d=new Date(NaN));for(i=0;i<config._f.length;i++)(currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),!!valid__isValid(tempConfig))&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||currentScore<scoreToBeat)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function configFromObject(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)}),configFromArray(config)}}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,'d'),res._nextDay=void 0),res}function prepareConfig(config){var input=config._i,format=config._f;return(config._locale=config._locale||locale_locales__getLocale(config._l),null===input||void 0===format&&''===input)?valid__createInvalid({nullInput:!0}):('string'==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input))?new Moment(checkOverflow(input)):(isArray(format)?configFromStringAndArray(config):format?configFromStringAndFormat(config):isDate(input)?config._d=input:configFromInput(config),valid__isValid(config)||(config._d=null),config)}function configFromInput(config){var input=config._i;input===void 0?config._d=new Date(utils_hooks__hooks.now()):isDate(input)?config._d=new Date(+input):'string'==typeof input?configFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):'object'===('undefined'==typeof input?'undefined':_typeof(input))?configFromObject(config):'number'==typeof input?config._d=new Date(input):utils_hooks__hooks.createFromInputFallback(config)}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return'boolean'==typeof locale&&(strict=locale,locale=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,createFromConfig(c)}function local__createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return local__createLocal();for(res=moments[0],i=1;i<moments.length;++i)(!moments[i].isValid()||moments[i][fn](res))&&(res=moments[i]);return res}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=locale_locales__getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign='+';return 0>offset&&(offset=-offset,sign='-'),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}function offsetFromString(matcher,string){var matches=(string||'').match(matcher)||[],chunk=matches[matches.length-1]||[],parts=(chunk+'').match(chunkOffset)||['-',0,0],minutes=+(60*parts[1])+toInt(parts[2]);return'+'===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?+input:+local__createLocal(input))-+res,res._d.setTime(+res._d+diff),utils_hooks__hooks.updateOffset(res,!1),res):local__createLocal(input).local()}function getDateOffset(m){return 15*-_Mathround2(m._d.getTimezoneOffset()/15)}function isUtc(){return!!this.isValid()&&this._isUTC&&0===this._offset}function create__createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:'number'==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign='-'===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=isoRegex.exec(input))?(sign='-'===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),d:parseIso(match[4],sign),h:parseIso(match[5],sign),m:parseIso(match[6],sign),s:parseIso(match[7],sign),w:parseIso(match[8],sign)}):null==duration?duration={}:'object'===('undefined'==typeof duration?'undefined':_typeof(duration))&&('from'in duration||'to'in duration)&&(diffRes=momentsDifference(local__createLocal(duration.from),local__createLocal(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,'_locale')&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(',','.'));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,'M').isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,'M'),res}function momentsDifference(base,other){var res;return base.isValid()&&other.isValid()?(other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):(res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months),res):{milliseconds:0,months:0}}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,'moment().'+name+'(period, number) is deprecated. Please use moment().'+name+'(number, period).'),tmp=val,val=period,period=tmp),val='string'==typeof val?+val:val,dur=create__createDuration(val,period),add_subtract__addSubtract(this,dur,direction),this}}function add_subtract__addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;mom.isValid()&&(updateOffset=!(null!=updateOffset)||updateOffset,milliseconds&&mom._d.setTime(+mom._d+milliseconds*isAdding),days&&get_set__set(mom,'Date',get_set__get(mom,'Date')+days*isAdding),months&&setMonth(mom,get_set__get(mom,'Month')+months*isAdding),updateOffset&&utils_hooks__hooks.updateOffset(mom,days||months))}function monthDiff(a,b){var anchor2,adjust,wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,'months');return 0>b-anchor?(anchor2=a.clone().add(wholeMonthDiff-1,'months'),adjust=(b-anchor)/(anchor-anchor2)):(anchor2=a.clone().add(wholeMonthDiff+1,'months'),adjust=(b-anchor)/(anchor2-anchor)),-(wholeMonthDiff+adjust)}function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(newLocaleData=locale_locales__getLocale(key),null!=newLocaleData&&(this._locale=newLocaleData),this)}function localeData(){return this._locale}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;return null==input?weekOfYear(this,dow,doy).year:(weeksTarget=weeksInYear(input,dow,doy),week>weeksTarget&&(week=weeksTarget),setWeekAll.call(this,input,week,weekday,dow,doy))}function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);return this.year(date.getUTCFullYear()),this.month(date.getUTCMonth()),this.date(date.getUTCDate()),this}function parseWeekday(input,locale){return'string'==typeof input?isNaN(input)?(input=locale.weekdaysParse(input),'number'==typeof input?input:null):parseInt(input,10):input}function hFormat(){return this.hours()%12||12}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}function parseMs(input,array){array[MILLISECOND]=toInt(1e3*('0.'+input))}function preParsePostFormat(string){return string}function lists__get(format,index,field,setter){var locale=locale_locales__getLocale(),utc=create_utc__createUTC().set(setter,index);return locale[field](utc,format)}function list(format,index,field,count,setter){if('number'==typeof format&&(index=format,format=void 0),format=format||'',null!=index)return lists__get(format,index,field,setter);var i,out=[];for(i=0;i<count;i++)out[i]=lists__get(format,i,field,setter);return out}function duration_add_subtract__addSubtract(duration,input,value,direction){var other=create__createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function absCeil(number){return 0>number?_Mathfloor(number):_Mathceil(number)}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function makeAs(alias){return function(){return this.as(alias)}}function makeGetter(name){return function(){return this._data[name]}}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function duration_humanize__relativeTime(posNegDuration,withoutSuffix,locale){var duration=create__createDuration(posNegDuration).abs(),seconds=round(duration.as('s')),minutes=round(duration.as('m')),hours=round(duration.as('h')),days=round(duration.as('d')),months=round(duration.as('M')),years=round(duration.as('y')),a=seconds<thresholds.s&&['s',seconds]||1>=minutes&&['m']||minutes<thresholds.m&&['mm',minutes]||1>=hours&&['h']||hours<thresholds.h&&['hh',hours]||1>=days&&['d']||days<thresholds.d&&['dd',days]||1>=months&&['M']||months<thresholds.M&&['MM',months]||1>=years&&['y']||['yy',years];return a[2]=withoutSuffix,a[3]=0<+posNegDuration,a[4]=locale,substituteTimeAgo.apply(null,a)}function iso_string__toISOString(){var minutes,hours,years,seconds=iso_string__abs(this._milliseconds)/1e3,days=iso_string__abs(this._days),months=iso_string__abs(this._months);minutes=absFloor(seconds/60),hours=absFloor(minutes/60),seconds%=60,minutes%=60,years=absFloor(months/12),months%=12;var Y=years,M=months,D=days,h=hours,m=minutes,s=seconds,total=this.asSeconds();return total?(0>total?'-':'')+'P'+(Y?Y+'Y':'')+(M?M+'M':'')+(D?D+'D':'')+(h||m||s?'T':'')+(h?h+'H':'')+(m?m+'M':'')+(s?s+'S':''):'P0D'}var hookCallback,globalLocale,_Mathabs=Math.abs,_Mathmin=Math.min,_Mathfloor=Math.floor,_Mathceil=Math.ceil,_Mathround2=Math.round,momentProperties=utils_hooks__hooks.momentProperties=[],updateInProgress=!1,locales={},aliases={},formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={},match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={},tokens={},YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;addFormatToken('M',['MM',2],'Mo',function(){return this.month()+1}),addFormatToken('MMM',0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken('MMMM',0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias('month','M'),addRegexToken('M',match1to2),addRegexToken('MM',match1to2,match2),addRegexToken('MMM',function(isStrict,locale){return locale.monthsShortRegex(isStrict)}),addRegexToken('MMMM',function(isStrict,locale){return locale.monthsRegex(isStrict)}),addParseToken(['M','MM'],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(['MMM','MMMM'],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null==month?getParsingFlags(config).invalidMonth=input:array[MONTH]=month});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,defaultLocaleMonths='January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),defaultLocaleMonthsShort='Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),deprecations={};utils_hooks__hooks.suppressDeprecationWarnings=!1;var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[['YYYYYY-MM-DD',/[+-]\d{6}-\d\d-\d\d/],['YYYY-MM-DD',/\d{4}-\d\d-\d\d/],['GGGG-[W]WW-E',/\d{4}-W\d\d-\d/],['GGGG-[W]WW',/\d{4}-W\d\d/,!1],['YYYY-DDD',/\d{4}-\d{3}/],['YYYY-MM',/\d{4}-\d\d/,!1],['YYYYYYMMDD',/[+-]\d{10}/],['YYYYMMDD',/\d{8}/],['GGGG[W]WWE',/\d{4}W\d{3}/],['GGGG[W]WW',/\d{4}W\d{2}/,!1],['YYYYDDD',/\d{7}/]],isoTimes=[['HH:mm:ss.SSSS',/\d\d:\d\d:\d\d\.\d+/],['HH:mm:ss,SSSS',/\d\d:\d\d:\d\d,\d+/],['HH:mm:ss',/\d\d:\d\d:\d\d/],['HH:mm',/\d\d:\d\d/],['HHmmss.SSSS',/\d\d\d\d\d\d\.\d+/],['HHmmss,SSSS',/\d\d\d\d\d\d,\d+/],['HHmmss',/\d\d\d\d\d\d/],['HHmm',/\d\d\d\d/],['HH',/\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;utils_hooks__hooks.createFromInputFallback=deprecate('moment construction falls back to js Date. This is '+'discouraged and will be removed in upcoming major '+'release. Please refer to '+'https://github.com/moment/moment/issues/1407 for more info.',function(config){config._d=new Date(config._i+(config._useUTC?' UTC':''))}),addFormatToken('Y',0,0,function(){var y=this.year();return 9999>=y?''+y:'+'+y}),addFormatToken(0,['YY',2],0,function(){return this.year()%100}),addFormatToken(0,['YYYY',4],0,'year'),addFormatToken(0,['YYYYY',5],0,'year'),addFormatToken(0,['YYYYYY',6,!0],0,'year'),addUnitAlias('year','y'),addRegexToken('Y',matchSigned),addRegexToken('YY',match1to2,match2),addRegexToken('YYYY',match1to4,match4),addRegexToken('YYYYY',match1to6,match6),addRegexToken('YYYYYY',match1to6,match6),addParseToken(['YYYYY','YYYYYY'],YEAR),addParseToken('YYYY',function(input,array){array[YEAR]=2===input.length?utils_hooks__hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken('YY',function(input,array){array[YEAR]=utils_hooks__hooks.parseTwoDigitYear(input)}),addParseToken('Y',function(input,array){array[YEAR]=parseInt(input,10)}),utils_hooks__hooks.parseTwoDigitYear=function(input){return toInt(input)+(68<toInt(input)?1900:2e3)};var getSetYear=makeGetSet('FullYear',!1);utils_hooks__hooks.ISO_8601=function(){};var prototypeMin=deprecate('moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548',function(){var other=local__createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other<this?this:other:valid__createInvalid()}),prototypeMax=deprecate('moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548',function(){var other=local__createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other>this?this:other:valid__createInvalid()});offset('Z',':'),offset('ZZ',''),addRegexToken('Z',matchShortOffset),addRegexToken('ZZ',matchShortOffset),addParseToken(['Z','ZZ'],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;utils_hooks__hooks.updateOffset=function(){};var aspNetRegex=/(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;create__createDuration.fn=Duration.prototype;var add_subtract__add=createAdder(1,'add'),add_subtract__subtract=createAdder(-1,'subtract');utils_hooks__hooks.defaultFormat='YYYY-MM-DDTHH:mm:ssZ';var lang=deprecate('moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',function(key){return void 0===key?this.localeData():this.locale(key)});addFormatToken(0,['gg',2],0,function(){return this.weekYear()%100}),addFormatToken(0,['GG',2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken('gggg','weekYear'),addWeekYearFormatToken('ggggg','weekYear'),addWeekYearFormatToken('GGGG','isoWeekYear'),addWeekYearFormatToken('GGGGG','isoWeekYear'),addUnitAlias('weekYear','gg'),addUnitAlias('isoWeekYear','GG'),addRegexToken('G',matchSigned),addRegexToken('g',matchSigned),addRegexToken('GG',match1to2,match2),addRegexToken('gg',match1to2,match2),addRegexToken('GGGG',match1to4,match4),addRegexToken('gggg',match1to4,match4),addRegexToken('GGGGG',match1to6,match6),addRegexToken('ggggg',match1to6,match6),addWeekParseToken(['gggg','ggggg','GGGG','GGGGG'],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(['gg','GG'],function(input,week,config,token){week[token]=utils_hooks__hooks.parseTwoDigitYear(input)}),addFormatToken('Q',0,'Qo','quarter'),addUnitAlias('quarter','Q'),addRegexToken('Q',match1),addParseToken('Q',function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken('w',['ww',2],'wo','week'),addFormatToken('W',['WW',2],'Wo','isoWeek'),addUnitAlias('week','w'),addUnitAlias('isoWeek','W'),addRegexToken('w',match1to2),addRegexToken('ww',match1to2,match2),addRegexToken('W',match1to2),addRegexToken('WW',match1to2,match2),addWeekParseToken(['w','ww','W','WW'],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});addFormatToken('D',['DD',2],'Do','date'),addUnitAlias('date','D'),addRegexToken('D',match1to2),addRegexToken('DD',match1to2,match2),addRegexToken('Do',function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient}),addParseToken(['D','DD'],DATE),addParseToken('Do',function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet('Date',!0);addFormatToken('d',0,'do','day'),addFormatToken('dd',0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken('ddd',0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken('dddd',0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken('e',0,0,'weekday'),addFormatToken('E',0,0,'isoWeekday'),addUnitAlias('day','d'),addUnitAlias('weekday','e'),addUnitAlias('isoWeekday','E'),addRegexToken('d',match1to2),addRegexToken('e',match1to2),addRegexToken('E',match1to2),addRegexToken('dd',matchWord),addRegexToken('ddd',matchWord),addRegexToken('dddd',matchWord),addWeekParseToken(['dd','ddd','dddd'],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);null==weekday?getParsingFlags(config).invalidWeekday=input:week.d=weekday}),addWeekParseToken(['d','e','E'],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays='Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),defaultLocaleWeekdaysShort='Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),defaultLocaleWeekdaysMin='Su_Mo_Tu_We_Th_Fr_Sa'.split('_');addFormatToken('DDD',['DDDD',3],'DDDo','dayOfYear'),addUnitAlias('dayOfYear','DDD'),addRegexToken('DDD',match1to3),addRegexToken('DDDD',match3),addParseToken(['DDD','DDDD'],function(input,array,config){config._dayOfYear=toInt(input)}),addFormatToken('H',['HH',2],0,'hour'),addFormatToken('h',['hh',2],0,hFormat),addFormatToken('hmm',0,0,function(){return''+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken('hmmss',0,0,function(){return''+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken('Hmm',0,0,function(){return''+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken('Hmmss',0,0,function(){return''+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem('a',!0),meridiem('A',!1),addUnitAlias('hour','h'),addRegexToken('a',matchMeridiem),addRegexToken('A',matchMeridiem),addRegexToken('H',match1to2),addRegexToken('h',match1to2),addRegexToken('HH',match1to2,match2),addRegexToken('hh',match1to2,match2),addRegexToken('hmm',match3to4),addRegexToken('hmmss',match5to6),addRegexToken('Hmm',match3to4),addRegexToken('Hmmss',match5to6),addParseToken(['H','HH'],HOUR),addParseToken(['a','A'],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(['h','hh'],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0}),addParseToken('hmm',function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos)),getParsingFlags(config).bigHour=!0}),addParseToken('hmmss',function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2)),getParsingFlags(config).bigHour=!0}),addParseToken('Hmm',function(input,array){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos))}),addParseToken('Hmmss',function(input,array){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2))});var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet('Hours',!0);addFormatToken('m',['mm',2],0,'minute'),addUnitAlias('minute','m'),addRegexToken('m',match1to2),addRegexToken('mm',match1to2,match2),addParseToken(['m','mm'],MINUTE);var getSetMinute=makeGetSet('Minutes',!1);addFormatToken('s',['ss',2],0,'second'),addUnitAlias('second','s'),addRegexToken('s',match1to2),addRegexToken('ss',match1to2,match2),addParseToken(['s','ss'],SECOND);var getSetSecond=makeGetSet('Seconds',!1);addFormatToken('S',0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,['SS',2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,['SSS',3],0,'millisecond'),addFormatToken(0,['SSSS',4],0,function(){return 10*this.millisecond()}),addFormatToken(0,['SSSSS',5],0,function(){return 100*this.millisecond()}),addFormatToken(0,['SSSSSS',6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,['SSSSSSS',7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,['SSSSSSSS',8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,['SSSSSSSSS',9],0,function(){return 1e6*this.millisecond()}),addUnitAlias('millisecond','ms'),addRegexToken('S',match1to3,match1),addRegexToken('SS',match1to3,match2),addRegexToken('SSS',match1to3,match3);var token;for(token='SSSS';9>=token.length;token+='S')addRegexToken(token,matchUnsigned);for(token='S';9>=token.length;token+='S')addParseToken(token,parseMs);var getSetMillisecond=makeGetSet('Milliseconds',!1);addFormatToken('z',0,0,'zoneAbbr'),addFormatToken('zz',0,0,'zoneName');var momentPrototype__proto=Moment.prototype;momentPrototype__proto.add=add_subtract__add,momentPrototype__proto.calendar=function(time,formats){var now=time||local__createLocal(),sod=cloneWithOffset(now,this).startOf('day'),diff=this.diff(sod,'days',!0),format=-6>diff?'sameElse':-1>diff?'lastWeek':0>diff?'lastDay':1>diff?'sameDay':2>diff?'nextDay':7>diff?'nextWeek':'sameElse',output=formats&&(isFunction(formats[format])?formats[format]():formats[format]);return this.format(output||this.localeData().calendar(format,this,local__createLocal(now)))},momentPrototype__proto.clone=function(){return new Moment(this)},momentPrototype__proto.diff=function(input,units,asFloat){var that,zoneDelta,delta,output;return this.isValid()?(that=cloneWithOffset(input,this),!that.isValid())?NaN:(zoneDelta=6e4*(that.utcOffset()-this.utcOffset()),units=normalizeUnits(units),'year'===units||'month'===units||'quarter'===units?(output=monthDiff(this,that),'quarter'===units?output/=3:'year'===units&&(output/=12)):(delta=this-that,output='second'===units?delta/1e3:'minute'===units?delta/6e4:'hour'===units?delta/36e5:'day'===units?(delta-zoneDelta)/864e5:'week'===units?(delta-zoneDelta)/6048e5:delta),asFloat?output:absFloor(output)):NaN},momentPrototype__proto.endOf=function(units){return units=normalizeUnits(units),void 0===units||'millisecond'===units?this:this.startOf(units).add(1,'isoWeek'===units?'week':units).subtract(1,'ms')},momentPrototype__proto.format=function(inputString){var output=formatMoment(this,inputString||utils_hooks__hooks.defaultFormat);return this.localeData().postformat(output)},momentPrototype__proto.from=function(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||local__createLocal(time).isValid())?create__createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()},momentPrototype__proto.fromNow=function(withoutSuffix){return this.from(local__createLocal(),withoutSuffix)},momentPrototype__proto.to=function(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||local__createLocal(time).isValid())?create__createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()},momentPrototype__proto.toNow=function(withoutSuffix){return this.to(local__createLocal(),withoutSuffix)},momentPrototype__proto.get=getSet,momentPrototype__proto.invalidAt=function(){return getParsingFlags(this).overflow},momentPrototype__proto.isAfter=function(input,units){var localInput=isMoment(input)?input:local__createLocal(input);return!!(this.isValid()&&localInput.isValid())&&(units=normalizeUnits(isUndefined(units)?'millisecond':units),'millisecond'===units?+this>+localInput:+localInput<+this.clone().startOf(units))},momentPrototype__proto.isBefore=function(input,units){var localInput=isMoment(input)?input:local__createLocal(input);return!!(this.isValid()&&localInput.isValid())&&(units=normalizeUnits(isUndefined(units)?'millisecond':units),'millisecond'===units?+this<+localInput:+this.clone().endOf(units)<+localInput)},momentPrototype__proto.isBetween=function(from,to,units){return this.isAfter(from,units)&&this.isBefore(to,units)},momentPrototype__proto.isSame=function(input,units){var inputMs,localInput=isMoment(input)?input:local__createLocal(input);return!!(this.isValid()&&localInput.isValid())&&(units=normalizeUnits(units||'millisecond'),'millisecond'===units?+this==+localInput:(inputMs=+localInput,+this.clone().startOf(units)<=inputMs&&inputMs<=+this.clone().endOf(units)))},momentPrototype__proto.isSameOrAfter=function(input,units){return this.isSame(input,units)||this.isAfter(input,units)},momentPrototype__proto.isSameOrBefore=function(input,units){return this.isSame(input,units)||this.isBefore(input,units)},momentPrototype__proto.isValid=function(){return valid__isValid(this)},momentPrototype__proto.lang=lang,momentPrototype__proto.locale=locale,momentPrototype__proto.localeData=localeData,momentPrototype__proto.max=prototypeMax,momentPrototype__proto.min=prototypeMin,momentPrototype__proto.parsingFlags=function(){return extend({},getParsingFlags(this))},momentPrototype__proto.set=getSet,momentPrototype__proto.startOf=function(units){switch(units=normalizeUnits(units),units){case'year':this.month(0);case'quarter':case'month':this.date(1);case'week':case'isoWeek':case'day':this.hours(0);case'hour':this.minutes(0);case'minute':this.seconds(0);case'second':this.milliseconds(0);}return'week'===units&&this.weekday(0),'isoWeek'===units&&this.isoWeekday(1),'quarter'===units&&this.month(3*_Mathfloor(this.month()/3)),this},momentPrototype__proto.subtract=add_subtract__subtract,momentPrototype__proto.toArray=function(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]},momentPrototype__proto.toObject=function(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}},momentPrototype__proto.toDate=function(){return this._offset?new Date(+this):this._d},momentPrototype__proto.toISOString=function(){var m=this.clone().utc();return 0<m.year()&&9999>=m.year()?isFunction(Date.prototype.toISOString)?this.toDate().toISOString():formatMoment(m,'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]'):formatMoment(m,'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]')},momentPrototype__proto.toJSON=function(){return this.isValid()?this.toISOString():'null'},momentPrototype__proto.toString=function(){return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ')},momentPrototype__proto.unix=function(){return _Mathfloor(+this/1e3)},momentPrototype__proto.valueOf=function(){return+this._d-6e4*(this._offset||0)},momentPrototype__proto.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},momentPrototype__proto.year=getSetYear,momentPrototype__proto.isLeapYear=function(){return isLeapYear(this.year())},momentPrototype__proto.weekYear=function(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},momentPrototype__proto.isoWeekYear=function(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)},momentPrototype__proto.quarter=momentPrototype__proto.quarters=function(input){return null==input?_Mathceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},momentPrototype__proto.month=getSetMonth,momentPrototype__proto.daysInMonth=function(){return daysInMonth(this.year(),this.month())},momentPrototype__proto.week=momentPrototype__proto.weeks=function(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),'d')},momentPrototype__proto.isoWeek=momentPrototype__proto.isoWeeks=function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),'d')},momentPrototype__proto.weeksInYear=function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},momentPrototype__proto.isoWeeksInYear=function(){return weeksInYear(this.year(),1,4)},momentPrototype__proto.date=getSetDayOfMonth,momentPrototype__proto.day=momentPrototype__proto.days=function(input){if(!this.isValid())return null==input?NaN:this;var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==input?day:(input=parseWeekday(input,this.localeData()),this.add(input-day,'d'))},momentPrototype__proto.weekday=function(input){if(!this.isValid())return null==input?NaN:this;var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,'d')},momentPrototype__proto.isoWeekday=function(input){return this.isValid()?null==input?this.day()||7:this.day(this.day()%7?input:input-7):null==input?NaN:this},momentPrototype__proto.dayOfYear=function(input){var dayOfYear=_Mathround2((this.clone().startOf('day')-this.clone().startOf('year'))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,'d')},momentPrototype__proto.hour=momentPrototype__proto.hours=getSetHour,momentPrototype__proto.minute=momentPrototype__proto.minutes=getSetMinute,momentPrototype__proto.second=momentPrototype__proto.seconds=getSetSecond,momentPrototype__proto.millisecond=momentPrototype__proto.milliseconds=getSetMillisecond,momentPrototype__proto.utcOffset=function(input,keepLocalTime){var localAdjust,offset=this._offset||0;return this.isValid()?null==input?this._isUTC?offset:getDateOffset(this):('string'==typeof input?input=offsetFromString(matchShortOffset,input):16>_Mathabs(input)&&(input*=60),!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,'m'),offset!==input&&(!keepLocalTime||this._changeInProgress?add_subtract__addSubtract(this,create__createDuration(input-offset,'m'),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,utils_hooks__hooks.updateOffset(this,!0),this._changeInProgress=null)),this):null==input?NaN:this},momentPrototype__proto.utc=function(keepLocalTime){return this.utcOffset(0,keepLocalTime)},momentPrototype__proto.local=function(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),'m')),this},momentPrototype__proto.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):'string'==typeof this._i&&this.utcOffset(offsetFromString(matchOffset,this._i)),this},momentPrototype__proto.hasAlignedHourOffset=function(input){return!!this.isValid()&&(input=input?local__createLocal(input).utcOffset():0,0==(this.utcOffset()-input)%60)},momentPrototype__proto.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},momentPrototype__proto.isDSTShifted=function(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var c={};if(copyConfig(c,this),c=prepareConfig(c),c._a){var other=c._isUTC?create_utc__createUTC(c._a):local__createLocal(c._a);this._isDSTShifted=this.isValid()&&0<compareArrays(c._a,other.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted},momentPrototype__proto.isLocal=function(){return!!this.isValid()&&!this._isUTC},momentPrototype__proto.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},momentPrototype__proto.isUtc=isUtc,momentPrototype__proto.isUTC=isUtc,momentPrototype__proto.zoneAbbr=function(){return this._isUTC?'UTC':''},momentPrototype__proto.zoneName=function(){return this._isUTC?'Coordinated Universal Time':''},momentPrototype__proto.dates=deprecate('dates accessor is deprecated. Use date instead.',getSetDayOfMonth),momentPrototype__proto.months=deprecate('months accessor is deprecated. Use month instead',getSetMonth),momentPrototype__proto.years=deprecate('years accessor is deprecated. Use year instead',getSetYear),momentPrototype__proto.zone=deprecate('moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779',function(input,keepLocalTime){return null==input?-this.utcOffset():('string'!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this)});var momentPrototype=momentPrototype__proto,defaultOrdinalParse=/\d{1,2}/,prototype__proto=Locale.prototype;prototype__proto._calendar={sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'},prototype__proto.calendar=function(key,mom,now){var output=this._calendar[key];return isFunction(output)?output.call(mom,now):output},prototype__proto._longDateFormat={LTS:'h:mm:ss A',LT:'h:mm A',L:'MM/DD/YYYY',LL:'MMMM D, YYYY',LLL:'MMMM D, YYYY h:mm A',LLLL:'dddd, MMMM D, YYYY h:mm A'},prototype__proto.longDateFormat=function(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])},prototype__proto._invalidDate='Invalid date',prototype__proto.invalidDate=function(){return this._invalidDate},prototype__proto._ordinal='%d',prototype__proto.ordinal=function(number){return this._ordinal.replace('%d',number)},prototype__proto._ordinalParse=defaultOrdinalParse,prototype__proto.preparse=preParsePostFormat,prototype__proto.postformat=preParsePostFormat,prototype__proto._relativeTime={future:'in %s',past:'%s ago',s:'a few seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',M:'a month',MM:'%d months',y:'a year',yy:'%d years'},prototype__proto.relativeTime=function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},prototype__proto.pastFuture=function(diff,output){var format=this._relativeTime[0<diff?'future':'past'];return isFunction(format)?format(output):format.replace(/%s/i,output)},prototype__proto.set=function(config){var prop,i;for(i in config)prop=config[i],isFunction(prop)?this[i]=prop:this['_'+i]=prop;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+'|'+/\d{1,2}/.source)},prototype__proto.months=function(m,format){return isArray(this._months)?this._months[m.month()]:this._months[MONTHS_IN_FORMAT.test(format)?'format':'standalone'][m.month()]},prototype__proto._months=defaultLocaleMonths,prototype__proto.monthsShort=function(m,format){return isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?'format':'standalone'][m.month()]},prototype__proto._monthsShort=defaultLocaleMonthsShort,prototype__proto.monthsParse=function(monthName,format,strict){var i,mom,regex;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(mom=create_utc__createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp('^'+this.months(mom,'').replace('.','')+'$','i'),this._shortMonthsParse[i]=new RegExp('^'+this.monthsShort(mom,'').replace('.','')+'$','i')),strict||this._monthsParse[i]||(regex='^'+this.months(mom,'')+'|^'+this.monthsShort(mom,''),this._monthsParse[i]=new RegExp(regex.replace('.',''),'i')),strict&&'MMMM'===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&'MMM'===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}},prototype__proto._monthsRegex=matchWord,prototype__proto.monthsRegex=function(isStrict){return this._monthsParseExact?(hasOwnProp(this,'_monthsRegex')||computeMonthsParse.call(this),isStrict?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex},prototype__proto._monthsShortRegex=matchWord,prototype__proto.monthsShortRegex=function(isStrict){return this._monthsParseExact?(hasOwnProp(this,'_monthsRegex')||computeMonthsParse.call(this),isStrict?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex},prototype__proto.week=function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},prototype__proto._week={dow:0,doy:6},prototype__proto.firstDayOfYear=function(){return this._week.doy},prototype__proto.firstDayOfWeek=function(){return this._week.dow},prototype__proto.weekdays=function(m,format){return isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?'format':'standalone'][m.day()]},prototype__proto._weekdays=defaultLocaleWeekdays,prototype__proto.weekdaysMin=function(m){return this._weekdaysMin[m.day()]},prototype__proto._weekdaysMin=defaultLocaleWeekdaysMin,prototype__proto.weekdaysShort=function(m){return this._weekdaysShort[m.day()]},prototype__proto._weekdaysShort=defaultLocaleWeekdaysShort,prototype__proto.weekdaysParse=function(weekdayName,format,strict){var i,mom,regex;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(mom=local__createLocal([2e3,1]).day(i),strict&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp('^'+this.weekdays(mom,'').replace('.','.?')+'$','i'),this._shortWeekdaysParse[i]=new RegExp('^'+this.weekdaysShort(mom,'').replace('.','.?')+'$','i'),this._minWeekdaysParse[i]=new RegExp('^'+this.weekdaysMin(mom,'').replace('.','.?')+'$','i')),this._weekdaysParse[i]||(regex='^'+this.weekdays(mom,'')+'|^'+this.weekdaysShort(mom,'')+'|^'+this.weekdaysMin(mom,''),this._weekdaysParse[i]=new RegExp(regex.replace('.',''),'i')),strict&&'dddd'===format&&this._fullWeekdaysParse[i].test(weekdayName))return i;if(strict&&'ddd'===format&&this._shortWeekdaysParse[i].test(weekdayName))return i;if(strict&&'dd'===format&&this._minWeekdaysParse[i].test(weekdayName))return i;if(!strict&&this._weekdaysParse[i].test(weekdayName))return i}},prototype__proto.isPM=function(input){return'p'===(input+'').toLowerCase().charAt(0)},prototype__proto._meridiemParse=defaultLocaleMeridiemParse,prototype__proto.meridiem=function(hours,minutes,isLower){return 11<hours?isLower?'pm':'PM':isLower?'am':'AM'},locale_locales__getSetGlobalLocale('en',{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function ordinal(number){var b=number%10,output=1===toInt(number%100/10)?'th':1==b?'st':2==b?'nd':3==b?'rd':'th';return number+output}}),utils_hooks__hooks.lang=deprecate('moment.lang is deprecated. Use moment.locale instead.',locale_locales__getSetGlobalLocale),utils_hooks__hooks.langData=deprecate('moment.langData is deprecated. Use moment.localeData instead.',locale_locales__getLocale);var mathAbs=_Mathabs,asMilliseconds=makeAs('ms'),asSeconds=makeAs('s'),asMinutes=makeAs('m'),asHours=makeAs('h'),asDays=makeAs('d'),asWeeks=makeAs('w'),asMonths=makeAs('M'),asYears=makeAs('y'),milliseconds=makeGetter('milliseconds'),seconds=makeGetter('seconds'),minutes=makeGetter('minutes'),hours=makeGetter('hours'),days=makeGetter('days'),months=makeGetter('months'),years=makeGetter('years'),round=_Mathround2,thresholds={s:45,m:45,h:22,d:26,M:11},iso_string__abs=_Mathabs,duration_prototype__proto=Duration.prototype;duration_prototype__proto.abs=function(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this},duration_prototype__proto.add=function(input,value){return duration_add_subtract__addSubtract(this,input,value,1)},duration_prototype__proto.subtract=function(input,value){return duration_add_subtract__addSubtract(this,input,value,-1)},duration_prototype__proto.as=function(units){var days,months,milliseconds=this._milliseconds;if(units=normalizeUnits(units),'month'===units||'year'===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),'month'===units?months:months/12;switch(days=this._days+_Mathround2(monthsToDays(this._months)),units){case'week':return days/7+milliseconds/6048e5;case'day':return days+milliseconds/864e5;case'hour':return 24*days+milliseconds/36e5;case'minute':return 1440*days+milliseconds/6e4;case'second':return 86400*days+milliseconds/1e3;case'millisecond':return _Mathfloor(864e5*days)+milliseconds;default:throw new Error('Unknown unit '+units);}},duration_prototype__proto.asMilliseconds=asMilliseconds,duration_prototype__proto.asSeconds=asSeconds,duration_prototype__proto.asMinutes=asMinutes,duration_prototype__proto.asHours=asHours,duration_prototype__proto.asDays=asDays,duration_prototype__proto.asWeeks=asWeeks,duration_prototype__proto.asMonths=asMonths,duration_prototype__proto.asYears=asYears,duration_prototype__proto.valueOf=function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*toInt(this._months/12)},duration_prototype__proto._bubble=function(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return 0<=milliseconds&&0<=days&&0<=months||0>=milliseconds&&0>=days&&0>=months||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),days=0,months=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,days+=absFloor(hours/24),monthsFromDays=absFloor(daysToMonths(days)),months+=monthsFromDays,days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this},duration_prototype__proto.get=function(units){return units=normalizeUnits(units),this[units+'s']()},duration_prototype__proto.milliseconds=milliseconds,duration_prototype__proto.seconds=seconds,duration_prototype__proto.minutes=minutes,duration_prototype__proto.hours=hours,duration_prototype__proto.days=days,duration_prototype__proto.weeks=function(){return absFloor(this.days()/7)},duration_prototype__proto.months=months,duration_prototype__proto.years=years,duration_prototype__proto.humanize=function(withSuffix){var locale=this.localeData(),output=duration_humanize__relativeTime(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)},duration_prototype__proto.toISOString=iso_string__toISOString,duration_prototype__proto.toString=iso_string__toISOString,duration_prototype__proto.toJSON=iso_string__toISOString,duration_prototype__proto.locale=locale,duration_prototype__proto.localeData=localeData,duration_prototype__proto.toIsoString=deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',iso_string__toISOString),duration_prototype__proto.lang=lang,addFormatToken('X',0,0,'unix'),addFormatToken('x',0,0,'valueOf'),addRegexToken('x',matchSigned),addRegexToken('X',matchTimestamp),addParseToken('X',function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken('x',function(input,array,config){config._d=new Date(toInt(input))}),utils_hooks__hooks.version='2.11.1',function(callback){hookCallback=callback}(local__createLocal),utils_hooks__hooks.fn=momentPrototype,utils_hooks__hooks.min=function(){var args=[].slice.call(arguments,0);return pickBy('isBefore',args)},utils_hooks__hooks.max=function(){var args=[].slice.call(arguments,0);return pickBy('isAfter',args)},utils_hooks__hooks.now=function now(){return Date.now?Date.now():+new Date},utils_hooks__hooks.utc=create_utc__createUTC,utils_hooks__hooks.unix=function(input){return local__createLocal(1e3*input)},utils_hooks__hooks.months=function(format,index){return list(format,index,'months',12,'month')},utils_hooks__hooks.isDate=isDate,utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale,utils_hooks__hooks.invalid=valid__createInvalid,utils_hooks__hooks.duration=create__createDuration,utils_hooks__hooks.isMoment=isMoment,utils_hooks__hooks.weekdays=function(format,index){return list(format,index,'weekdays',7,'day')},utils_hooks__hooks.parseZone=function(){return local__createLocal.apply(null,arguments).parseZone()},utils_hooks__hooks.localeData=locale_locales__getLocale,utils_hooks__hooks.isDuration=isDuration,utils_hooks__hooks.monthsShort=function(format,index){return list(format,index,'monthsShort',12,'month')},utils_hooks__hooks.weekdaysMin=function(format,index){return list(format,index,'weekdaysMin',7,'day')},utils_hooks__hooks.defineLocale=defineLocale,utils_hooks__hooks.weekdaysShort=function(format,index){return list(format,index,'weekdaysShort',7,'day')},utils_hooks__hooks.normalizeUnits=normalizeUnits,utils_hooks__hooks.relativeTimeThreshold=function(threshold,limit){return void 0!==thresholds[threshold]&&(void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,!0))},utils_hooks__hooks.prototype=momentPrototype;return utils_hooks__hooks}),define('common',['alertify','angular','utils','lodash','moment'],function(alertify,angular,utils,_,moment){var _arguments=arguments;function getErrorString(e){if(_.isArray(e)){var errorString='';return _.forEach(e,function(error){error.field||error.message?error.field?errorString+='<li>'+error.field+': '+error.defaultMessage+'</li>':error.message&&(errorString+='<li>'+error.message+'</li>'):errorString+='<li>'+error.code+'</li>'}),'<ul>'+errorString+'</ul>'}return e.message}function showError(error){return notify({message:error.message,icon:'warning'})}function notify(content){function getNotificationClass(){if(content.icon)switch(content.icon){case'notification':return'fa-warning notification';case'success':return'fa-check-circle notification';case'warning':default:return'fa-warning';}}var $el,$container=$('<div class="content">'),wait=10;if(content.message){var iconClass=getNotificationClass();$el=$('<span><i class="fa fa-lg '+iconClass+'"></i><span>'+content.message+'</span></span>'),void 0!=content.wait&&(wait=content.wait)}else $el=content;$container.append($el),$container.append('<a class="close"><svg x="0px" y="0px" width="12px" height="12px" viewBox="0 0 10 10" focusable="false"><polygon class="a-s-fa-Ha-pa" fill="#FFFFFF" points="10,1.01 8.99,0 5,3.99 1.01,0 0,1.01 3.99,5 0,8.99 1.01,10 5,6.01 8.99,10 10,8.99 6.01,5 "></polygon></svg></a>');var msg=alertify.notify($container[0],'notification',wait);return content.keepOthers||msg.dismissOthers(),msg.ondismiss=function(e){var closing=!e||0<$(e.target).closest('.close').length;return closing&&content.ondismiss&&content.ondismiss(e),closing},msg}function unscreen(s){return s.replace('\\.','.')}function isResetShow(filter){return filter.listMode?'BOOLEAN'===filter.col.type||'LOCATION_LAT_LON'===filter.col.type?_.some(filter.list,function(f){return f.selected||!f.show}):10<filter.count||_.some(filter.list,function(f){return f.selected||!f.show}):'DECIMAL'===filter.col.type?!filter.linlog||filter.changed||filter.value1!=filter.min||filter.value2!=filter.max:filter.value1!=filter.min||filter.max!=filter.value2}alertify.set('notifier','position','bottom-left');var viewModes={TABLE:7,LIST:8},viewModeOptions=[{desc:'Vertical Bar Chart',e:'Needs X-axis value to select this.'},{desc:'Horizontal Bar Chart',e:'Needs X-axis value to select this.'},{desc:'Pie Chart',e:'Needs X-axis value'},{desc:'Line Chart'},{desc:'Area Chart'},{desc:'Geo Graph',e:'Needs 1 country or coordinate to select this.'},{desc:'Scatter Plot',e:'Needs numbers for X-axis value and Y-axis value to select this.'},{desc:'Table View'},{desc:'List view'}],URL_REGEXP=/^(\s*(http|https|ftp|ftps|itmss)\:\/\/[a-zA-Z0-9\-\.]+\.[a-zA-Z]{2,6}(\/[^\s,;]*)?)$/g,smartTimer=function(){function getTime(key){return timer[key].end-timer[key].start}function start(key){timer[key]={start:Date.now()}}function stop(key){timer[key]||start(key),timer[key].end=Date.now()}function getTimer(){return timer}function removeTimer(key){delete timer[key]}function clearTimer(){timer={}}function showAll(){console.group('smartTimer'),_.map(timer,function(timeObj,key){return{name:key,order:timeObj.end,time:getTime(key)}}).sort(function(a,b){return a.order-b.order}).forEach(function(time){console.log(time.name+': '+time.time)}),console.groupEnd()}var timer;return clearTimer(),{start:start,stop:stop,getTimer:getTimer,showAll:showAll,remove:removeTimer,clear:clearTimer}}(),msgCounter={};String.prototype.hashCode=function(){var i,chr,len,hash=0;if(0===this.length)return hash;for(i=0,len=this.length;i<len;i++)chr=this.charCodeAt(i),hash=(hash<<5)-hash+chr,hash|=0;return hash};var ErrorWithId=function(_Error){function ErrorWithId(msg,type,id,options){_classCallCheck2(this,ErrorWithId);var _this2=_possibleConstructorReturn(this,(ErrorWithId.__proto__||Object.getPrototypeOf(ErrorWithId)).call(this,msg,options));return _this2.id=id,_this2.type=type,_this2.errorId=id+'_'+type,_this2}return _inherits2(ErrorWithId,_Error),ErrorWithId}(Error);return{coalesce:function coalesce(){return _.chain(_arguments).filter(_.identity).first().value()},toUpperCase:function toUpperCase(val){return null===val||void 0===val?val:'string'==typeof val?val.toUpperCase():void 0},ErrorWithId:ErrorWithId,show:function(type,msg,key,multiTemplate){if(msgCounter[key]||(msgCounter[key]={count:0,msg:void 0}),msgCounter[key].count+=1,msgCounter[key].msg&&multiTemplate){var s=_.template(multiTemplate)({count:msgCounter[key].count});msgCounter[key].msg.delay(3).setContent(s)}else msgCounter[key].msg=alertify[type](msg),msgCounter[key].msg.callback=function(){msgCounter[key].count=0,msgCounter[key].msg=void 0};return msgCounter[key].msg},randomGUID:utils.randomGUID,getFullTemplateName:function(t){return'static/templates/include/'+t+'.html'},instanceGUID:utils.instanceGUID,URL_REGEXP:URL_REGEXP,showError:showError,showWarning:function(warning){return notify({message:warning.message,icon:'warning'})},showSuccess:function(success){return notify({message:success.message,icon:'success'})},showNotification:function(message,wait,callback){return alertify.notify(message,wait,callback)},closeAllNotifications:function(){alertify.dismissAll()},notify:notify,highlightURL:function(str){return str.toString().replace(URL_REGEXP,'<a href="$1" target="_blank">$1</a>')},onlyHighlightURL:function(str){return str.toString().replace(URL_REGEXP,'<span class="highlighted-link">$1</span>')},isURL:function(str){return URL_REGEXP.test(str)},moveInArray:function(array,fromIndex,toIndex){return array.splice(toIndex,0,array.splice(fromIndex,1)[0]),array},renderContextMenu:function renderContextMenu($scope,event,options,model){if(!$)var $=angular.element;var contextMenuOptions=$scope.contextMenuOptions||{};$(event.currentTarget).addClass('context');var $contextMenu=$('<div>');$contextMenu.addClass('dropdown clearfix');var $ul=$('<ul>');$ul.addClass('dropdown-menu'),contextMenuOptions.dropdownMenuClass?$ul.addClass(contextMenuOptions.dropdownMenuClass):$ul.addClass('context-menu'),$ul.attr({role:'menu'}),$ul.css({display:'block',position:'absolute',left:event.pageX+'px',top:event.pageY+'px'}),angular.forEach(options,function(item){var $li=$('<li>');if(contextMenuOptions.dropdownItemClass&&$li.addClass(contextMenuOptions.dropdownItemClass),null===item)$li.addClass('divider');else{var $a=$('<a>');$a.attr({tabindex:'-1',href:'#'}),$a.css({display:'flex',"align-items":'center'});var text='string'==typeof item[0]?item[0]:item[0].call($scope,$scope,event,model);$a.html(text),$li.append($a);var enabled=!angular.isDefined(item[2])||item[2].call($scope,$scope,event,text,model);enabled?$li.on('click',function($event){$event.preventDefault(),$scope.$apply(function(){$(event.currentTarget).removeClass('context'),$contextMenu.remove(),item[1].call($scope,$scope,event,model)}),contextMenuOptions.onClose&&contextMenuOptions.onClose($event)}):($li.on('click',function($event){$event.preventDefault()}),$li.addClass('disabled'))}$ul.append($li)}),$contextMenu.append($ul);var height=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight);$contextMenu.css({width:'100%',height:height+'px',position:'absolute',top:0,left:0,zIndex:9999}),$(document).find('body').append($contextMenu),$('body').innerHeight()-$ul.position().top<=$ul.innerHeight()&&$ul.css({top:$ul.position().top-$ul.innerHeight()});var overflowX=$('body').innerWidth()-$ul[0].getBoundingClientRect().right;0>overflowX&&$ul.css({left:$ul.position().left+overflowX}),$contextMenu.on('mousedown',function(e){$(e.target).hasClass('dropdown')&&($(event.currentTarget).removeClass('context'),$contextMenu.remove(),contextMenuOptions.onClose&&contextMenuOptions.onClose(e))}).on('contextmenu',function(event){$(event.currentTarget).removeClass('context'),event.preventDefault(),$contextMenu.remove(),contextMenuOptions.onClose&&contextMenuOptions.onClose(e)})},getErrorString:getErrorString,showValidationErrors:function showValidationErrors(errors){showError({error:getErrorString(errors)})},withIgnoreOnBeforeUnload:function withIgnoreOnBeforeUnload($timeout,f){var tmp=window.onbeforeunload;window.onbeforeunload=null,f(),$timeout(function(){window.onbeforeunload=tmp})},typeNameMappings:{DECIMAL:'Number',BOOLEAN:'Boolean',STRING:'String',DATE:'Date'},splitPath:function splitPath(s){if(1>s.length)return[s];for(var res=[],current='',i=0;i<s.length;i++)0<i&&'.'===s[i]&&'\\'!==s[i-1]?(res.push(current),current=''):current+=s[i];return res.push(current),_.map(res,unscreen)},unscreen:unscreen,hashCode:function hashCode(stuff){if(!stuff)return 0;if(stuff.hashCode)return stuff.hashCode();if(_.isObject(stuff))return JSON.stringify(stuff).hashCode();throw'Can\'t calculate hash'},isValidURL:function(str){var pat=/^(https?|itmss|ftp):\/\//i;return pat.test(str)},numberOps:[{name:'',val:''},{name:'Value',val:'terms'},{name:'Sum',val:'sum'},{name:'Count',val:'value_count'},{name:'Unique Count',val:'cardinality'},{name:'Avg',val:'avg'},{name:'Min',val:'min'},{name:'Max',val:'max'}],nonNumberOps:[{name:'',val:''},{name:'Value',val:'terms'},{name:'Count',val:'value_count'},{name:'Unique count',val:'cardinality'}],dateOps:[{name:'HOUR',val:'hour'},{name:'DAY',val:'day'},{name:'MONTH',val:'month'},{name:'QUARTER',val:'quarter'},{name:'YEAR',val:'year'}],resetOneFilter:function(filter,$scope){console.warn('Using deprecated function. Try using FilterService instead.');var type=filter.col.type;'STRING'===type?(filter.search='',filter.and_or=!1,filter.count=10,filter.isload=!1,_.forEach(filter.list,function(agg){agg.selected=!1,agg.show=!0})):'DECIMAL'===type?filter.linlog||(filter.linlog=!0,$scope.switchLinLog(filter)):'TIME'===type?(filter.value1=filter.min,filter.value2=filter.max,filter.changed=!1):'DATE'===type?(filter.value1=filter.min,filter.value2=filter.max):'LOCATION_LAT_LON'===type?delete filter.box:'BOOLEAN'===type?(filter.and_or=!1,filter.isload=!1,_.forEach(filter.list,function(agg){agg.selected=!1,agg.show=!0})):void 0},setChartDatepicker:function($scope){var v=$scope.vizSummary.xAxisShows;if(v&&v[0]&&v[0].type&&'daterange'===v[0].type){var column=v[0],filterColumn=_.find($scope.dataSummary.filters,{name:column.field});filterColumn?$scope.chartDatepicker=!0:(filterColumn=_.find($scope.filterList,{name:column.field}),$scope.addFilter(filterColumn))}else filterColumn=_.find($scope.dataSummary.filters,{type:'daterange'}),$scope.chartDatepicker=!!(filterColumn&&isResetShow(filterColumn))},showRegressionCalculator:function(e,_regData,$uibModal){e.preventDefault(),e.stopPropagation();var modalInstance=$uibModal.open({templateUrl:'static/templates/include/regression-calculator.html',controller:'regressionCalculatorCtrl',backdrop:'static',size:'md',resolve:{regData:function regData(){return _regData}}});modalInstance.result.then(function(){},function(){})},onRegressionTypeSelected:function(type,$scope){$scope.vizSummary.regressionType===type||($scope.vizSummary.regressionType=type,$scope.updateChart())},queryParams:function(){for(var pair,query_string={},query=window.location.search.substring(1),vars=query.split('&'),i=0;i<vars.length;i++)if(pair=vars[i].split('='),'undefined'==typeof query_string[pair[0]])query_string[pair[0]]=decodeURIComponent(pair[1]);else if('string'==typeof query_string[pair[0]]){var arr=[query_string[pair[0]],decodeURIComponent(pair[1])];query_string[pair[0]]=arr}else query_string[pair[0]].push(decodeURIComponent(pair[1]));return query_string},getCtrlNames:function(){return{VIZ:'visualizationCtrl',EPOPUP:'embedPopupCtrl',EMBED:'embedCtrl'}},isResetShow:isResetShow,getBodyWidth:function(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1},getBodyHeight:function(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1},getViewModes:function getViewModes(){return viewModes},getViewModeOptions:function getViewModeOptions(){return viewModeOptions},smartTimer:smartTimer,isOverflow:function(el){var cloneEl=$(el).clone().css({display:'inline',width:'auto',visibility:'hidden'}).appendTo('body');return cloneEl.width()>$(el).width()},estimateRemainingTime:function(before,after,interval){void 0==interval&&(interval=1e3);var diff=after-before,secOnPercent=1/diff*interval;if(!diff)return'';var duration=moment.duration((100-after)*secOnPercent,'milliseconds');return duration.hours()+':'+duration.minutes()+':'+duration.seconds()},getColumnType:function(column){if(column.isList)return'[...]';switch(column.colType.toLowerCase()){case'string':return'ABC';case'boolean':return'Y-N';case'decimal':return'123';case'date':return'Jan';case'time':return'11:00';case'location_lat_lon':case'location_usa_state_codes':case'location_country_codes':return'Loc';case'array':return'Arr';case'object':return'Obj';}return'undef'},iterator:function(array){var nextIndex=0;return{next:function next(){return nextIndex<array.length?{value:array[nextIndex++],done:!1}:{done:!0}}}},isDefined:function isDefined(v){return null!==v&&v!==void 0}}}),define('modules/login/controllers/registerCtrl',['./module','common','lodash'],function(controllers,cc,_){'use strict';controllers.controller('registerCtrl',['$scope','$http','$state','$stateParams','FileUploader',function($scope,$http,$state,$stateParams,FileUploader){function register(){$http.post('/api/user/register',{email:$scope.user.email,password:$scope.user.password,fullName:$scope.user.fullName,avatarPath:$scope.userAvatar}).then(function(){$scope.isUploading=!1,cc.showSuccess({message:'Registration completed'}),$state.go('auth.login',$stateParams)}).catch(function(err){$scope.isUploading=!1,cc.showError(err)})}$scope.user={},$scope.uploader=new FileUploader({url:'/api/user/upload_avatar',filters:[{name:'onlyImages',fn:function fn(item){return _.startsWith(item.type,'image')}}]}),$scope.submit=function(){$scope.user.email?$scope.user.password?$scope.user.password===$scope.user.passwordConfirm?$scope.user.image?($scope.isUploading=!0,$scope.user.image.upload()):register():cc.showError({message:'Passwords doesn\'t match!'}):cc.showError({message:'Password is required!'}):cc.showError({message:'Email is required!'})},$scope.uploader.onAfterAddingFile=function(item){item.headers['Datadocs-API-Arg']=JSON.stringify({fileSize:item.file.size}),$scope.user.image=item},$scope.uploader.onSuccessItem=function(item,_ref8){var url=_ref8.url;$scope.userAvatar=url,register()}}])}),define('modules/login/controllers/forgotPasswordCtrl',['./module','common','jquery'],function(controllers,cc){'use strict';controllers.controller('forgotPasswordCtrl',['$scope','$http',function($scope,$http){$scope.sent=!1,$scope.sendPasswordResetNotification=function(){$http.post('/api/user/forgot-password',{email:$scope.email}).success(function(){$scope.sent=!0}).error(cc.showError)},$('#email-input').focus()}])}),define('modules/login/controllers/resetPasswordCtrl',['./module','common'],function(controllers,cc){'use strict';controllers.controller('resetPasswordCtrl',['$scope','$http','$stateParams',function($scope,$http,$stateParams){$scope.reset=!1;var token=$stateParams.token;$scope.resetPassword=function(){$scope.password&&''!=$scope.password?$scope.password==$scope.passwordConfirm?$http.post('/api/user/reset-password',{token:token,password:$scope.password}).success(function(){$scope.reset=!0}).error(cc.showError):cc.showError({message:'Passwords are not same'}):cc.showError({message:'Password is empty'})}}])}),define('modules/login/controllers/index',['./loginCtrl','./registerCtrl','./forgotPasswordCtrl','./resetPasswordCtrl'],function(){}),define('modules/login/module',['angular','cached-templates/templates-auth','modules/login/controllers/index'],function(ng){'use strict';return ng.module('app.login',['app.login.controllers','templates-auth'])});
//# sourceMappingURL=../../maps/modules/login/module.js.map
